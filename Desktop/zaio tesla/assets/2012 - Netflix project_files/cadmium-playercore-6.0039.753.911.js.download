R7xOY[654278]=(function(){var S5u=2;for(;S5u !== 9;){switch(S5u){case 1:return globalThis;break;case 2:S5u=typeof globalThis === '\u006f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 5:var e1A;try{var s3R=2;for(;s3R !== 6;){switch(s3R){case 2:Object['\u0064\u0065\x66\u0069\u006e\u0065\x50\x72\u006f\x70\u0065\u0072\u0074\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\x79\x70\x65'],'\x47\u0074\u004d\u004b\u0038',{'\x67\x65\x74':function(){var s7H=2;for(;s7H !== 1;){switch(s7H){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});e1A=GtMK8;e1A['\x52\x6c\x6c\x48\x7a']=e1A;s3R=4;break;case 4:s3R=typeof RllHz === '\u0075\x6e\u0064\x65\x66\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";s3R=9;break;case 9:delete e1A['\x52\x6c\x6c\x48\x7a'];var b67=Object['\x70\x72\x6f\u0074\x6f\u0074\x79\u0070\u0065'];delete b67['\u0047\x74\u004d\x4b\x38'];s3R=6;break;}}}catch(W1C){e1A=window;}return e1A;break;}}})();R7xOY[1509]=(function(n0W){return {L$q3dyn:function(){var L7v,a2W=arguments;switch(n0W){case 12:L7v=a2W[1] === a2W[0];break;case 18:L7v=a2W[2] / a2W[1] + a2W[0];break;case 21:L7v=-a2W[2] * a2W[0] + a2W[1] + a2W[3];break;case 8:L7v=void a2W[0] !== a2W[1];break;case 23:L7v=a2W[3] - a2W[1] + a2W[0] - a2W[2] + a2W[4];break;case 0:L7v=a2W[0] - a2W[1];break;case 13:L7v=a2W[2] - a2W[1] + a2W[0];break;case 1:L7v=a2W[1] / a2W[0];break;case 16:L7v=a2W[1] / a2W[2] | a2W[0];break;case 3:L7v=-a2W[0] * a2W[2] + a2W[1];break;case 11:L7v=a2W[0] + a2W[1] - a2W[2];break;case 15:L7v=a2W[2] + a2W[0] / a2W[3] * a2W[1];break;case 22:L7v=a2W[2] * a2W[0] - a2W[1];break;case 19:L7v=(a2W[4] + a2W[1] - a2W[2]) / a2W[3] + a2W[0];break;case 2:L7v=a2W[0] * a2W[1] / a2W[2];break;case 10:L7v=a2W[2] + a2W[0] + a2W[4] + a2W[3] + a2W[1];break;case 17:L7v=(a2W[0] / a2W[1] | a2W[2]) * a2W[3];break;case 20:L7v=a2W[0] / a2W[4] * a2W[1] - a2W[3] + a2W[2];break;case 24:L7v=a2W[0] >= a2W[1];break;case 14:L7v=a2W[0] * a2W[1];break;case 9:L7v=a2W[1] + a2W[2] + a2W[0];break;case 7:L7v=(a2W[2] - a2W[0]) * a2W[1];break;case 4:L7v=a2W[2] / a2W[0] - a2W[1] + a2W[3];break;case 6:L7v=a2W[1] + a2W[0];break;case 5:L7v=a2W[0] < a2W[1];break;}return L7v;},j0d3p1f:function(x9d){n0W=x9d;}};})();R7xOY.h1T=function(){return typeof R7xOY[1509].j0d3p1f === 'function'?R7xOY[1509].j0d3p1f.apply(R7xOY[1509],arguments):R7xOY[1509].j0d3p1f;};function R7xOY(){}R7xOY[32290]=true;R7xOY[27985]=R7xOY[654278];R7xOY[586252]=false;R7xOY.e_n=function(){return typeof R7xOY[1509].j0d3p1f === 'function'?R7xOY[1509].j0d3p1f.apply(R7xOY[1509],arguments):R7xOY[1509].j0d3p1f;};R7xOY[107684]=R7xOY[654278];R7xOY.f4w=function(){return typeof R7xOY[1509].L$q3dyn === 'function'?R7xOY[1509].L$q3dyn.apply(R7xOY[1509],arguments):R7xOY[1509].L$q3dyn;};R7xOY[647486]="RCc";R7xOY.p3p=function(){return typeof R7xOY[1509].L$q3dyn === 'function'?R7xOY[1509].L$q3dyn.apply(R7xOY[1509],arguments):R7xOY[1509].L$q3dyn;};R7xOY[644027]=false;R7xOY[160253]=R7xOY[654278];R7xOY[292721]=314;R7xOY[654278].p8mm=R7xOY;(function(){(function(mb,Cb){var lc,wc,Pb,fd,Gb,Ib,Xb,ge,he,Nb,Mb,Fc,ie,gd,je,ke,zd,Ia,Db,Uc,le,Ad,db,ub,Eb,mc,fc,Ub,wb,Yb,Ob,Wc,Jb,xc,Lb,$b,hd,nc,jc,kc,id,Bd,me,yc,zc,Hc,Cd,Xc,oc,jd,Ec,Dd,ne,Nc,Ed,Fd,Gd,Hd,pc,Id,Jd,Kd,Pc,qc,rc,Qc,kd,ld,md,hc,nf,Rb,Gc,oe,nd,sc,pe,of,tc,qe,pf,od,re,qf,Tc,se,mf,rf,Ld,pd,sf,tf,de,uf,ee,te,gc,Yc,ue,Zc,ve,ic,we,xe,ye,ze,wf,fe,Ae,yd,Be,vf,Ce,Md,De,Ee,Fe,Nd,Dc,He,Ge,xf,ad,Ie,Pd,bd,Je,Od,Ke,Le,Qd,Ne,Oe,td,Ic,Rc,Jc,Pe,Qe,Re,Se,Te,Ue,ud,yf,Ve,We,Sd,Xe,ec,$c,Oc,qd,Ac,uc,rd,Bc,Vc,Me,Ye,cd,Ze,zf,dd,$e,Af,Bf,af,Rd,sd,bf,Df,Cf,Sc,ed,Ef,ce,Ff,Gf;function ac(fb,eb){if(!eb || "utf-8" === eb)return vd(fb);throw Error("unsupported encoding");}function bc(fb,eb){if(!eb || "utf-8" === eb)return wd(fb);throw Error("unsupported encoding");}function vd(fb){for(var eb=0,cb,Za=fb.length,jb="";eb < Za;){cb=fb[eb++];if(cb & 128)if(192 === (cb & 224))cb=((cb & 31) << 6) + (fb[eb++] & 63);else if(224 === (cb & 240))cb=((cb & 15) << 12) + ((fb[eb++] & 63) << 6) + (fb[eb++] & 63);else throw Error("unsupported character");jb+=String.fromCharCode(cb);}return jb;}function wd(fb){var eb,cb,Za,jb,tb;eb=fb.length;cb=0;jb=0;for(Za=eb;Za--;){tb=fb.charCodeAt(Za);128 > tb?cb++:cb=2048 > tb?cb + 2:cb + 3;}cb=new Uint8Array(cb);for(Za=0;Za < eb;Za++){tb=fb.charCodeAt(Za);128 > tb?cb[jb++]=tb:(2048 > tb?cb[jb++]=192 | tb >>> 6:(cb[jb++]=224 | tb >>> 12,cb[jb++]=128 | tb >>> 6 & 63),cb[jb++]=128 | tb & 63);}return cb;}function cc(fb,eb){if(fb === eb)return !0;if(!fb || !eb || fb.length != eb.length)return !1;for(var cb=0;cb < fb.length;++cb){if(fb[cb] != eb[cb])return !1;}return !0;}function dc(fb){var Za;if(!(fb && fb.constructor == Uint8Array || Array.isArray(fb)))throw new TypeError("Cannot compute the hash code of " + fb);for(var eb=1,cb=0;cb < fb.length;++cb){Za=fb[cb];if("number" !== typeof Za)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + Za);eb=31 * eb + Za & 4294967295;}return eb;}function Yd(fb,eb){var gb;if(fb === eb)return !0;if(!fb || !eb)return !1;eb instanceof Array || (eb=[eb]);for(var cb=0;cb < eb.length;++cb){for(var Za=eb[cb],jb=!1,tb=0;tb < fb.length;++tb){gb=fb[tb];if(Za.equals && "function" === typeof Za.equals && Za.equals(gb) || Za == gb){jb=!0;break;}}if(!jb)return !1;}return !0;}function Zd(fb,eb){return Yd(fb,eb) && (fb.length == eb.length || Yd(eb,fb));}function Pa(fb,eb,cb){var Za,jb;cb && (Za=cb);if("object" !== typeof fb || "function" !== typeof fb.result || "function" !== typeof fb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{jb=eb.call(Za,fb);jb !== Cb && fb.result(jb);}catch(tb){try{fb.error(tb);}catch(gb){}}}function ab(fb,eb,cb){if("object" !== typeof fb || "function" !== typeof fb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Pa(fb,eb,cb);}function Y(fb,eb,cb){1E5 > fb && (fb=1E5 + fb);Object.defineProperties(this,{internalCode:{value:fb,writable:!1,configurable:!1},responseCode:{value:eb,writable:!1,configurable:!1},message:{value:cb,writable:!1,configurable:!1}});}function xd(fb){switch(fb){case Rb.PSK:case Rb.MGK:return !0;default:return !1;}}function $d(fb){switch(fb){case Rb.PSK:case Rb.MGK:case Rb.X509:case Rb.RSA:case Rb.NPTICKET:case Rb.ECC:return !0;default:return !1;}}function hf(fb){return fb.toJSON();}function ae(fb,eb){ed?eb.result(ed):Promise.resolve().then(function(){return Lb.getKeyByName(fb);}).catch(function(){return Lb.generateKey({name:fb},!1,["wrapKey","unwrapKey"]);}).then(function(cb){ed=cb;eb.result(ed);}).catch(function(cb){eb.error(new db(Y.INTERNAL_EXCEPTION,"Unable to get system key"));});}function be(fb,eb){var cb,Za;cb=eb.masterToken;Za=eb.userIdToken;eb=eb.serviceTokens;return {NccpMethod:fb.method,UserId:fb.userId,UT:Za && Za.serialNumber,MT:cb && cb.serialNumber + ":" + cb.sequenceNumber,STCount:eb && eb.length};}function jf(fb){return fb.uniqueKey();}function kf(fb,eb,cb,Za,jb){var Qa;function tb(ya,pa){ya.errorCode === Ia.ENTITY_REAUTH || ya.errorCode === Ia.ENTITYDATA_REAUTH?(Za.clearCryptoContexts(),La()):ya.errorCode !== Ia.USER_REAUTH && ya.errorCode !== Ia.USERDATA_REAUTH || gb(pa);}function gb(ya){if(ya=Za.getUserIdToken(ya))(Za.removeUserIdToken(ya),La());}function Ga(ya,pa,ja){var ca;ca=[];(function aa(){ya.read(-1,pa,{result:function(ea){Pa(ja,function(){var ba,ma,za,va,na;if(ea)(ca.push(ea),aa());else switch(ca.length){case 0:return new Uint8Array(0);case 1:return ca[0];default:(za=ca.length,va=0);for(ma=ba=0;ma < za;ma++){ba+=ca[ma].length;}ba=new Uint8Array(ba);for(ma=0;ma < za;ma++){na=ca[ma];ba.set(na,va);va+=na.length;}return ba;}});},timeout:function(){ja.timeout();},error:function(ea){ja.error(ea);}});})();}function La(){Za.getStoreState({result:function(ya){for(var pa=Qa.slice(),ja=0;ja < pa.length;ja++){pa[ja]({storeState:ya});}},timeout:function(){fb.error("Timeout getting store state","" + e);},error:function(ya){fb.error("Error getting store state","" + ya);}});}Qa=[];this.addEventHandler=function(ya,pa){switch(ya){case "shouldpersist":Qa.push(pa);}};this.send=function(ya){return new Promise(function(pa,ja){var ca,Z,aa;ca=ya.timeout;Z=new ce(fb,cb,ya,Za.getKeyRequestData());aa=new de(ya.url);fb.trace("Sending MSL request");eb.request(cb,Z,aa,ca,{result:function(ea){var ba;fb.trace("Received MSL response",{Method:ya.method});if(ea){ya.allowTokenRefresh && La();ba=ea.getErrorHeader();ba?(tb(ba,ya.profileGuid || ya.userId),ja({success:!1,error:ba})):Ga(ea,ca,{result:function(ma){pa({success:!0,body:ac(ma)});},timeout:function(){ja({success:!1,subCode:jb.MSL_READ_TIMEOUT});},error:function(ma){ja({success:!1,error:ma});}});}else ja({success:!1,error:new db(Y.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ja({success:!1,subCode:jb.MSL_REQUEST_TIMEOUT});},error:function(ea){ja({success:!1,error:ea});}});});};this.hasUserIdToken=function(ya){return !!Za.getUserIdToken(ya);};this.getUserIdTokenKeys=function(){return Za.getUserIdTokenKeys();};this.removeUserIdToken=gb;this.clearUserIdTokens=function(){Za.clearUserIdTokens();La();};this.isErrorReauth=function(ya){return ya && ya.errorCode == Ia.USERDATA_REAUTH;};this.isErrorHeader=function(ya){return ya instanceof Dc;};this.getErrorCode=function(ya){return ya && ya.errorCode;};this.getStateForMdx=function(ya){var pa,ja;pa=Za.getMasterToken();ya=Za.getUserIdToken(ya);ja=Za.getCryptoContext(pa);return {masterToken:pa,userIdToken:ya,cryptoContext:ja};};this.buildPlayDataRequest=function(ya,pa){var ja;ja=new ee();eb.request(cb,new ce(fb,cb,ya),ja,ya.timeout,{result:function(){pa.result(ja.getRequest());},error:function(){pa.result(ja.getRequest());},timeout:function(){pa.timeout();}});};this.rekeyUserIdToken=function(ya,pa){Za.rekeyUserIdToken(ya,pa);La();};this.getServiceTokens=function(ya){var pa;pa=Za.getMasterToken();(ya=Za.getUserIdToken(ya)) && !ya.isBoundTo(pa) && (ya=Cb);return Za.getServiceTokens(pa,ya);};this.removeServiceToken=function(ya){var pa;pa=Za.getMasterToken();Za.getServiceTokens(pa).find(function(ja){return ja.name === ya;}) && (Za.removeServiceTokens(ya,pa),La());};}function lf(fb,eb,cb){var tb;function Za(){return Promise.resolve().then(function(){return Lb.generateKey(eb,!1,["wrapKey","unwrapKey"]);}).then(function(gb){return jb(gb.publicKey,gb.privateKey);});}function jb(gb,Ga){return Promise.all([new Promise(function(La,Qa){Ec(gb,{result:La,error:function(ya){Qa(new db(Y.INTERNAL_EXCEPTION,"Unable to create keyx public key",ya));}});}),new Promise(function(La,Qa){Nc(Ga,{result:La,error:function(ya){Qa(new db(Y.INTERNAL_EXCEPTION,"Unable to create keyx private key",ya));}});})]).then(function(La){La=new yd("rsaKeypairId",cb,La[0],La[1]);tb && (La.storeData={keyxPublicKey:gb,keyxPrivateKey:Ga});return La;});}tb=!fb.systemKeyWrapFormat;return Promise.resolve().then(function(){var gb,Ga;gb=fb.storeState;Ga=gb && gb.keyxPublicKey;gb=gb && gb.keyxPrivateKey;return tb && Ga && gb?jb(Ga,gb):Za();}).then(function(gb){var Ga,La,Qa;Ga={};Ga[Rb.NONE]=new mf();La=new Tc(fb.esn);Qa=[new fe()];return {entityAuthFactories:Ga,entityAuthData:La,keyExchangeFactories:Qa,keyRequestData:gb,createKeyRequestData:tb?Za:Cb};});}wc=mb.nfCrypto || mb.msCrypto || mb.webkitCrypto || mb.crypto;Pb=wc && (wc.webkitSubtle || wc.subtle);fd=mb.nfCryptokeys || mb.msCryptokeys || mb.webkitCryptokeys || mb.cryptokeys;(function(fb){var eb,cb;eb=(function(){function Za(jb,tb){jb instanceof eb?(this.abv=jb.abv,this.position=jb.position):(this.abv=jb,this.position=tb || 0);}Za.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(jb){this.abv[this.position++]=jb;},peekByte:function(jb){return this.abv[jb];},copyBytes:function(jb,tb,gb){var Ga;Ga=new Uint8Array(this.abv.buffer,this.position,gb);jb=new Uint8Array(jb.buffer,tb,gb);Ga.set(jb);this.position+=gb;},seek:function(jb){this.position=jb;},skip:function(jb){this.position+=jb;},getPosition:function(){return this.position;},setPosition:function(jb){this.position=jb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return Za;})();cb={};(function(){var ea,ba,ma,za,va,na,ta,Da,oa;function Za(da,ia){var la;ia.writeByte(da.tagClass << 6 | da.constructed << 5 | da.tag);la=da.payloadLen;if(128 > la)ia.writeByte(la);else {for(var Ba=la,Sa=0;Ba;){++Sa;Ba>>=8;}ia.writeByte(128 | Sa);for(Ba=0;Ba < Sa;++Ba){ia.writeByte(la >> 8 * (Sa - Ba - 1) & 255);}}if(da.child)for((da.tag == ea.BIT_STRING && ia.writeByte(0),da=da._child);da;){if(!Za(da,ia))return !1;da=da.next;}else switch(da.tag){case ea.INTEGER:da.backingStore[da.dataIdx] >> 7 && ia.writeByte(0);ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.BIT_STRING:ia.writeByte(0);ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OCTET_STRING:ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OBJECT_IDENTIFIER:ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);}return !0;}function jb(da){var ia,la;ia=da.readByte();la=ia & 127;if(la == ia)return la;if(3 < la || 0 === la)return -1;for(var Ba=ia=0;Ba < la;++Ba){ia=ia << 8 | da.readByte();}return ia;}function tb(da,ia,la){var Ba,Sa,Na,Ra,Ta,sa,Ca;Ba=da.backingStore;Sa=new eb(Ba,ia);ia+=la;la=da;if(8 < va++)return Cb;for(;Sa.getPosition() < ia;){Sa.getPosition();Ra=Sa.readByte();if(31 == (Ra & 31)){for(Na=0;Ra & 128;){Na<<=8;Na|=Ra & 127;}Ra=Na;}Ta=Ra;Na=Ta & 31;if(0 > Na || 30 < Na)return Cb;Ra=jb(Sa);if(0 > Ra || Ra > Sa.getRemaining())return Cb;la.constructed=Ta & 32;la.tagClass=(Ta & 192) >> 6;la.tag=Na;la.dataLen=Ra;la.dataIdx=Sa.getPosition();Na=Sa;sa=Ta;Ta=Ra;if(sa & 32)Na=!0;else if(sa < ea.BIT_STRING || sa > ea.OCTET_STRING)Na=!1;else {Ca=new eb(Na);sa == ea.BIT_STRING && Ca.skip(1);Ca.readByte() >> 6 & 1?Na=!1:(sa=jb(Ca),Na=Ca.getPosition() - Na.getPosition() + sa == Ta);}Na && (Na=Sa.getPosition(),Ta=Ra,la.tag == ea.BIT_STRING && (la.dataIdx++,la.dataLen--,Na++,Ta--),la.child=new ba(Ba,la),tb(la.child,Na,Ta));la.tag == ea.INTEGER && (Na=Sa.getPosition(),0 == Sa.peekByte(Na) && Sa.peekByte(Na + 1) >> 7 && (la.dataIdx++,la.dataLen--));Sa.skip(Ra);Sa.getPosition() < ia && (la.next=new ba(Ba,la.parent),la=la.next);}va--;return da;}function gb(da,ia,la){if(9 != la)return !1;for(la=0;9 > la;++la){if(da[ia++] != na[la])return !1;}return !0;}function Ga(da){var ia;if(!(da && da.child && da.child.next && da.child.child && da.child.next.child))return !1;ia=da.child.child;return gb(ia.backingStore,ia.dataIdx,ia.dataLen) && 2 == da.nChildren && 2 == da.child.nChildren && 2 == da.child.next.child.nChildren?!0:!1;}function La(da){var ia;if(!(da && da.child && da.child.next && da.child.next.child && da.child.next.next && da.child.next.next.child))return !1;ia=da.child.next.child;return gb(ia.backingStore,ia.dataIdx,ia.dataLen) && 3 == da.nChildren && 2 == da.child.next.nChildren && 9 == da.child.next.next.child.nChildren?!0:!1;}function Qa(da){var ia,la;ia=ma.createSequenceNode();la=new za(ia);la.addChild(ma.createSequenceNode());la.addChild(ma.createOidNode(na));la.addSibling(ma.createNullNode());la.addToParent(ia,ma.createBitStringNode(null));la.addChild(ma.createSequenceNode());la.addChild(ma.createIntegerNode(da.n));la.addSibling(ma.createIntegerNode(da.e));return ia;}function ya(da){var ia;da=da.child.next.child.child;ia=da.data;da=da.next;return new ta(ia,da.data,null,null);}function pa(da){var ia,la;ia=ma.createSequenceNode();la=new za(ia);la.addChild(ma.createIntegerNode(new Uint8Array([0])));la.addSibling(ma.createSequenceNode());la.addChild(ma.createOidNode(na));la.addSibling(ma.createNullNode());la.addToParent(ia,ma.createOctetStringNode(null));la.addChild(ma.createSequenceNode());la.addChild(ma.createIntegerNode(new Uint8Array([0])));la.addSibling(ma.createIntegerNode(da.n));la.addSibling(ma.createIntegerNode(da.e));la.addSibling(ma.createIntegerNode(da.d));la.addSibling(ma.createIntegerNode(da.p));la.addSibling(ma.createIntegerNode(da.q));la.addSibling(ma.createIntegerNode(da.dp));la.addSibling(ma.createIntegerNode(da.dq));la.addSibling(ma.createIntegerNode(da.qi));return ia;}function ja(da){var ia;ia=[];da=da.child.next.next.child.child.next;for(var la=0;8 > la;la++){ia.push(da.data);da=da.next;}return new Da(ia[0],ia[1],ia[2],ia[3],ia[4],ia[5],ia[6],ia[7]);}function ca(da,ia,la,Ba){if(!(da instanceof ta || da instanceof Da))return Cb;if(la)for(var Sa=0;Sa < la.length;++Sa){if(-1 == oa.indexOf(la[Sa]))return Cb;}ia={kty:"RSA",alg:ia,key_ops:la || [],ext:Ba == Cb?!1:Ba,n:Gb(da.n,!0),e:Gb(da.e,!0)};da instanceof Da && (ia.d=Gb(da.d,!0),ia.p=Gb(da.p,!0),ia.q=Gb(da.q,!0),ia.dp=Gb(da.dp,!0),ia.dq=Gb(da.dq,!0),ia.qi=Gb(da.qi,!0));return ia;}function Z(da){var ia,la,Ba,Sa,Na,Ra,Ta,sa,Ca,Ha;if(!da.kty || "RSA" != da.kty || !da.n || !da.e)return Cb;ia=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(da.alg && -1 == ia.indexOf(da.alg))return Cb;ia=[];da.use?"enc" == da.use?ia=["encrypt","decrypt","wrap","unwrap"]:"sig" == da.use && (ia=["sign","verify"]):ia=da.key_ops;la=da.ext;Ba=Ib(da.n,!0);Sa=Ib(da.e,!0);if(da.d){Na=Ib(da.d,!0);Ra=Ib(da.p,!0);Ta=Ib(da.q,!0);sa=Ib(da.dp,!0);Ca=Ib(da.dq,!0);Ha=Ib(da.qi,!0);return new Da(Ba,Sa,Na,Ra,Ta,sa,Ca,Ha,da.alg,ia,la);}return new ta(Ba,Sa,la,ia);}function aa(da,ia,la,Ba){this.der=da;this.type=ia;this.keyOps=la;this.extractable=Ba;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};ba=function(da,ia,la,Ba,Sa,Na){this._data=da;this._parent=ia || Cb;this._constructed=la || !1;this._tagClass=0;this._tag=Ba || 0;this._dataIdx=Sa || 0;this._dataLen=Na || 0;};ba.prototype={_child:Cb,_next:Cb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(da) {this._constructed=0 != da?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(da) {this._tagClass=da;},get tag() {return this._tag;},set tag(da) {this._tag=da;},get dataIdx() {return this._dataIdx;},set dataIdx(da) {this._dataIdx=da;},get dataLen() {return this._dataLen;},set dataLen(da) {this._dataLen=da;},get child() {return this._child;},set child(da) {this._child=da;this._child.parent=this;},get next() {return this._next;},set next(da) {this._next=da;},get parent() {return this._parent;},set parent(da) {this._parent=da;},get payloadLen() {var da;da=0;if(this._child){for(var ia=this._child;ia;){da+=ia.length;ia=ia.next;}this._tag == ea.BIT_STRING && da++;}else switch(this._tag){case ea.INTEGER:da=this._dataLen;this._data[this._dataIdx] >> 7 && da++;break;case ea.BIT_STRING:da=this._dataLen + 1;break;case ea.OCTET_STRING:da=this._dataLen;break;case ea.NULL:da=0;break;case ea.OBJECT_IDENTIFIER:gb(this._data,this._dataIdx,this._dataLen) && (da=9);}return da;},get length() {var da,ia;da=this.payloadLen;if(127 < da)for(ia=da;ia;){ia>>=8;++da;}return da + 2;},get der() {var da,ia;da=this.length;if(!da)return Cb;da=new Uint8Array(da);ia=new eb(da);return Za(this,ia)?da:Cb;},get nChildren() {for(var da=0,ia=this._child;ia;){da++;ia=ia.next;}return da;}};ma={createSequenceNode:function(){return new ba(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(da){return new ba(da,null,!1,ea.OBJECT_IDENTIFIER,0,da?da.length:0);},createNullNode:function(){return new ba(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(da){return new ba(da,null,!1,ea.BIT_STRING,0,da?da.length:0);},createIntegerNode:function(da){return new ba(da,null,!1,ea.INTEGER,0,da?da.length:0);},createOctetStringNode:function(da){return new ba(da,null,!1,ea.OCTET_STRING,0,da?da.length:0);}};za=function(da){this._currentNode=this._rootNode=da;};za.prototype={addChild:function(da){this.addTo(this._currentNode,da);},addSibling:function(da){this.addTo(this._currentNode.parent,da);},addTo:function(da,ia){this._currentNode=ia;this._currentNode.parent=da;if(da.child){for(da=da.child;da.next;){da=da.next;}da.next=ia;}else da.child=ia;},addToParent:function(da,ia){this.findNode(da) && this.addTo(da,ia);},findNode:function(da){for(var ia=this._currentNode;ia;){if(da == ia)return !0;ia=ia.parent;}return !1;}};va=0;na=new Uint8Array([42,134,72,134,247,13,1,1,1]);ta=function(da,ia,la,Ba){this.n=da;this.e=ia;this.ext=la;this.keyOps=Ba;};Da=function(da,ia,la,Ba,Sa,Na,Ra,Ta,sa,Ca,Ha){this.n=da;this.e=ia;this.d=la;this.p=Ba;this.q=Sa;this.dp=Na;this.dq=Ra;this.qi=Ta;this.alg=sa;this.keyOps=Ca;this.ext=Ha;};oa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");aa.prototype.getDer=function(){return this.der;};aa.prototype.getType=function(){return this.type;};aa.prototype.getKeyOps=function(){return this.keyOps;};aa.prototype.getExtractable=function(){return this.extractable;};cb.parse=function(da){va=0;return tb(new ba(da),0,da.length);};cb.show=function(da,ia){};cb.isRsaSpki=Ga;cb.isRsaPkcs8=La;cb.NodeFactory=ma;cb.Builder=za;cb.tagVal=ea;cb.RsaPublicKey=ta;cb.RsaPrivateKey=Da;cb.buildRsaSpki=Qa;cb.parseRsaSpki=function(da){da=cb.parse(da);return Ga?ya(da):Cb;};cb.buildRsaPkcs8=pa;cb.parseRsaPkcs8=function(da){da=cb.parse(da);return La(da)?ja(da):Cb;};cb.buildRsaJwk=ca;cb.parseRsaJwk=Z;cb.RsaDer=aa;cb.rsaDerToJwk=function(da,ia,la,Ba){da=cb.parse(da);if(!da)return Cb;if(Ga(da))da=ya(da);else if(La(da))da=ja(da);else return Cb;return ca(da,ia,la,Ba);};cb.jwkToRsaDer=function(da){var ia,la;da=Z(da);if(!da)return Cb;if(da instanceof ta){ia="spki";la=Qa(da).der;}else if(da instanceof Da)(ia="pkcs8",la=pa(da).der);else return Cb;return new aa(la,ia,da.keyOps,da.ext);};cb.webCryptoAlgorithmToJwkAlg=function(da){return "RSAES-PKCS1-v1_5" == da.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == da.name?"SHA-256" == da.hash.name?"RS256":"SHA-384" == da.hash.name?"RS384":"SHA-512" == da.hash.name?"RS512":Cb:Cb;};cb.webCryptoUsageToJwkKeyOps=function(da){return da.map(function(ia){return "wrapKey" == ia?"wrap":"unwrapKey" == ia?"unwrap":ia;});};})();fb.ASN1=cb;})(mb);(function(){for(var fb={},eb={},cb={"=":0,".":0},Za={"=":0,".":0},jb=/\s+/g,tb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,gb=64;gb--;){fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=262144 * gb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=4096 * gb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=64 * gb;Za[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=gb;}for(gb=64;gb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb];){fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=262144 * gb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=4096 * gb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=64 * gb;Za[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=gb;}Gb=function(Ga,La){for(var Qa="",ya=0,pa=Ga.length,ja=pa - 2,ca=La?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=La?"":"=";ya < ja;){La=65536 * Ga[ya++] + 256 * Ga[ya++] + Ga[ya++];Qa+=ca[La >>> 18] + ca[La >>> 12 & 63] + ca[La >>> 6 & 63] + ca[La & 63];}ya == ja?(La=65536 * Ga[ya++] + 256 * Ga[ya++],Qa+=ca[La >>> 18] + ca[La >>> 12 & 63] + ca[La >>> 6 & 63] + Z):ya == pa - 1 && (La=65536 * Ga[ya++],Qa+=ca[La >>> 18] + ca[La >>> 12 & 63] + Z + Z);return Qa;};Ib=function(Ga,La){Ga=Ga.replace(jb,"");if(La && (La=Ga.length % 4)){La=4 - La;for(var Qa=0;Qa < La;++Qa){Ga+="=";}}La=Ga.length;if(0 != La % 4 || !tb.test(Ga))throw Error("bad base64: " + Ga);for(var ya=La / 4 * 3 - ("=" == Ga[La - 1]?1:0) - ("=" == Ga[La - 2]?1:0),pa=new Uint8Array(ya),ja=0,ca=0;ja < La;){Qa=fb[Ga[ja++]] + eb[Ga[ja++]] + cb[Ga[ja++]] + Za[Ga[ja++]];pa[ca++]=Qa >>> 16;ca < ya && (pa[ca++]=Qa >>> 8 & 255,ca < ya && (pa[ca++]=Qa & 255));}return pa;};})();Xb={};(function(){var tb,gb,Ga,Qa;function fb(ya){if(!(this instanceof fb))return new fb(ya);for(var pa=0,ja=gb.length;pa < ja;pa++){this[gb[pa]]="";}this.bufferCheckPosition=Xb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ya || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ga.BEGIN;this.stack=new tb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;eb(this,"onready");}function eb(ya,pa,ja){if(ya[pa])ya[pa](ja);}function cb(ya,pa){var ja,ca;ja=ya.opt;ca=ya.textNode;ja.trim && (ca=ca.trim());ja.normalize && (ca=ca.replace(/\s+/g," "));ya.textNode=ca;ya.textNode && eb(ya,pa?pa:"onvalue",ya.textNode);ya.textNode="";}function Za(ya,pa){cb(ya);pa+="\nLine: " + ya.line + "\nColumn: " + ya.column + "\nChar: " + ya.c;pa=Error(pa);ya.error=pa;eb(ya,"onerror",pa);return ya;}function jb(ya){ya.state !== Ga.VALUE && Za(ya,"Unexpected end");cb(ya);ya.c="";ya.closed=!0;eb(ya,"onend");fb.call(ya,ya.opt);return ya;}tb=Array;Xb.parser=function(ya){return new fb(ya);};Xb.CParser=fb;Xb.MAX_BUFFER_LENGTH=65536;Xb.DEBUG=!1;Xb.INFO=!1;Xb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");gb=["textNode","numberNode"];Xb.EVENTS.filter(function(ya){return "error" !== ya && "end" !== ya;});Ga=0;Xb.STATE={BEGIN:Ga++,VALUE:Ga++,OPEN_OBJECT:Ga++,CLOSE_OBJECT:Ga++,OPEN_ARRAY:Ga++,CLOSE_ARRAY:Ga++,TEXT_ESCAPE:Ga++,STRING:Ga++,BACKSLASH:Ga++,END:Ga++,OPEN_KEY:Ga++,CLOSE_KEY:Ga++,TRUE:Ga++,TRUE2:Ga++,TRUE3:Ga++,FALSE:Ga++,FALSE2:Ga++,FALSE3:Ga++,FALSE4:Ga++,NULL:Ga++,NULL2:Ga++,NULL3:Ga++,NUMBER_DECIMAL_POINT:Ga++,NUMBER_DIGIT:Ga++};for(var La in Xb.STATE){Xb.STATE[Xb.STATE[La]]=La;}Ga=Xb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ya){return ya.__proto__;});Qa=/[\\"\n]/g;fb.prototype={end:function(){jb(this);},write:function(ya){var ca,Z,aa;if(this.error)throw this.error;if(this.closed)return Za(this,"Cannot write after close. Assign an onready handler.");if(null === ya)return jb(this);for(var pa=ya[0],ja;pa;){ja=pa;this.c=pa=ya.charAt(this.index++);ja !== pa?this.p=ja:ja=this.p;if(!pa)break;this.position++;"\n" === pa?(this.line++,this.column=0):this.column++;switch(this.state){case Ga.BEGIN:"{" === pa?this.state=Ga.OPEN_OBJECT:"[" === pa?this.state=Ga.OPEN_ARRAY:"\r" !== pa && "\n" !== pa && " " !== pa && "\t" !== pa && Za(this,"Non-whitespace before {[.");continue;case Ga.OPEN_KEY:case Ga.OPEN_OBJECT:if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;if(this.state === Ga.OPEN_KEY)this.stack.push(Ga.CLOSE_KEY);else if("}" === pa){eb(this,"onopenobject");eb(this,"oncloseobject");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_OBJECT);'"' === pa?this.state=Ga.STRING:Za(this,'Malformed object key should start with "');continue;case Ga.CLOSE_KEY:case Ga.CLOSE_OBJECT:if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;":" === pa?(this.state === Ga.CLOSE_OBJECT?(this.stack.push(Ga.CLOSE_OBJECT),cb(this,"onopenobject")):cb(this,"onkey"),this.state=Ga.VALUE):"}" === pa?(cb(this),eb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ga.VALUE):"," === pa?(this.state === Ga.CLOSE_OBJECT && this.stack.push(Ga.CLOSE_OBJECT),cb(this),this.state=Ga.OPEN_KEY):Za(this,"Bad object");continue;case Ga.OPEN_ARRAY:case Ga.VALUE:if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;if(this.state === Ga.OPEN_ARRAY)if((eb(this,"onopenarray"),this.state=Ga.VALUE,"]" === pa)){eb(this,"onclosearray");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_ARRAY);'"' === pa?this.state=Ga.STRING:"{" === pa?this.state=Ga.OPEN_OBJECT:"[" === pa?this.state=Ga.OPEN_ARRAY:"t" === pa?this.state=Ga.TRUE:"f" === pa?this.state=Ga.FALSE:"n" === pa?this.state=Ga.NULL:"-" === pa?this.numberNode+=pa:"0" === pa?(this.numberNode+=pa,this.state=Ga.NUMBER_DIGIT):-1 !== ("123456789").indexOf(pa)?(this.numberNode+=pa,this.state=Ga.NUMBER_DIGIT):Za(this,"Bad value");continue;case Ga.CLOSE_ARRAY:if("," === pa)(this.stack.push(Ga.CLOSE_ARRAY),cb(this,"onvalue"),this.state=Ga.VALUE);else if("]" === pa)(cb(this),eb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ga.VALUE);else if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;else Za(this,"Bad array");continue;case Ga.STRING:ja=this.index - 1;(ca=this.slashed,Z=this.unicodeI);a:for(;;){if(Xb.DEBUG)for(;0 < Z;){if((this.unicodeS+=pa,pa=ya.charAt(this.index++),4 === Z?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),Z=0,ja=this.index - 1):Z++,!pa))break a;}if('"' === pa && !ca){this.state=this.stack.pop() || Ga.VALUE;(this.textNode+=ya.substring(ja,this.index - 1)) || eb(this,"onvalue","");break;}if("\\" === pa && !ca && (ca=!0,this.textNode+=ya.substring(ja,this.index - 1),pa=ya.charAt(this.index++),!pa))break;if(ca)if((ca=!1,"n" === pa?this.textNode+="\n":"r" === pa?this.textNode+="\r":"t" === pa?this.textNode+="\t":"f" === pa?this.textNode+="\f":"b" === pa?this.textNode+="\b":"u" === pa?(Z=1,this.unicodeS=""):this.textNode+=pa,pa=ya.charAt(this.index++),ja=this.index - 1,pa))continue;else break;Qa.lastIndex=this.index;aa=Qa.exec(ya);if(null === aa){this.index=ya.length + 1;this.textNode+=ya.substring(ja,this.index - 1);break;}this.index=aa.index + 1;pa=ya.charAt(aa.index);if(!pa){this.textNode+=ya.substring(ja,this.index - 1);break;}}this.slashed=ca;this.unicodeI=Z;continue;case Ga.TRUE:if("" === pa)continue;"r" === pa?this.state=Ga.TRUE2:Za(this,"Invalid true started with t" + pa);continue;case Ga.TRUE2:if("" === pa)continue;"u" === pa?this.state=Ga.TRUE3:Za(this,"Invalid true started with tr" + pa);continue;case Ga.TRUE3:if("" === pa)continue;"e" === pa?(eb(this,"onvalue",!0),this.state=this.stack.pop() || Ga.VALUE):Za(this,"Invalid true started with tru" + pa);continue;case Ga.FALSE:if("" === pa)continue;"a" === pa?this.state=Ga.FALSE2:Za(this,"Invalid false started with f" + pa);continue;case Ga.FALSE2:if("" === pa)continue;"l" === pa?this.state=Ga.FALSE3:Za(this,"Invalid false started with fa" + pa);continue;case Ga.FALSE3:if("" === pa)continue;"s" === pa?this.state=Ga.FALSE4:Za(this,"Invalid false started with fal" + pa);continue;case Ga.FALSE4:if("" === pa)continue;"e" === pa?(eb(this,"onvalue",!1),this.state=this.stack.pop() || Ga.VALUE):Za(this,"Invalid false started with fals" + pa);continue;case Ga.NULL:if("" === pa)continue;"u" === pa?this.state=Ga.NULL2:Za(this,"Invalid null started with n" + pa);continue;case Ga.NULL2:if("" === pa)continue;"l" === pa?this.state=Ga.NULL3:Za(this,"Invalid null started with nu" + pa);continue;case Ga.NULL3:if("" === pa)continue;"l" === pa?(eb(this,"onvalue",null),this.state=this.stack.pop() || Ga.VALUE):Za(this,"Invalid null started with nul" + pa);continue;case Ga.NUMBER_DECIMAL_POINT:"." === pa?(this.numberNode+=pa,this.state=Ga.NUMBER_DIGIT):Za(this,"Leading zero not followed by .");continue;case Ga.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(pa)?this.numberNode+=pa:"." === pa?(-1 !== this.numberNode.indexOf(".") && Za(this,"Invalid number has two dots"),this.numberNode+=pa):"e" === pa || "E" === pa?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || Za(this,"Invalid number has two exponential"),this.numberNode+=pa):"+" === pa || "-" === pa?("e" !== ja && "E" !== ja && Za(this,"Invalid symbol in number"),this.numberNode+=pa):(this.numberNode && eb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ga.VALUE);continue;default:Za(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ya=Math.max(Xb.MAX_BUFFER_LENGTH,10);ja=pa=0;for(ca=gb.length;ja < ca;ja++){Z=this[gb[ja]].length;if(Z > ya)switch(gb[ja]){case "text":break;default:Za(this,"Max buffer length exceeded: " + gb[ja]);}pa=Math.max(pa,Z);}this.bufferCheckPosition=Xb.MAX_BUFFER_LENGTH - pa + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var Za,jb,tb;function fb(gb,Ga){Ga || (Ga=gb.length);return gb.reduce(function(La,Qa,ya){return ya < Ga?La + String.fromCharCode(Qa):La;},"");}for(var eb={},cb=0;256 > cb;++cb){Za=fb([cb]);eb[Za]=cb;}jb=Object.keys(eb).length;tb=[];for(cb=0;256 > cb;++cb){tb[cb]=[cb];}ge=function(gb,Ga){var ba,ma;function La(za,va){var na;for(;0 < va;){if(Z >= ca.length)return !1;if(va > aa){na=za;na>>>=va - aa;ca[Z]|=na & 255;va-=aa;aa=8;++Z;}else va <= aa && (na=za,na<<=aa - va,na&=255,na>>>=8 - aa,ca[Z]|=na & 255,aa-=va,va=0,0 == aa && (aa=8,++Z));}return !0;}for(var Qa in eb){Ga[Qa]=eb[Qa];}for(var ya=jb,pa=[],ja=8,ca=new Uint8Array(gb.length),Z=0,aa=8,ea=0;ea < gb.length;++ea){ba=gb[ea];pa.push(ba);Qa=fb(pa);ma=Ga[Qa];if(!ma){pa=fb(pa,pa.length - 1);if(!La(Ga[pa],ja))return null;0 != ya >> ja && ++ja;Ga[Qa]=ya++;pa=[ba];}}return 0 < pa.length && (Qa=fb(pa),ma=Ga[Qa],!La(ma,ja))?null:ca.subarray(0,8 > aa?Z + 1:Z);};he=function(gb){var ea,ba;for(var Ga=tb.slice(),La=0,Qa=0,ya=8,pa=new Uint8Array(Math.ceil(1.5 * gb.length)),ja=0,ca,Z=[];La < gb.length && !(8 * (gb.length - La) - Qa < ya);){for(var aa=ca=0;aa < ya;){ea=Math.min(ya - aa,8 - Qa);ba=gb[La];ba<<=Qa;ba&=255;ba>>>=8 - ea;aa+=ea;Qa+=ea;8 == Qa && (Qa=0,++La);ca|=(ba & 255) << ya - aa;}aa=Ga[ca];0 == Z.length?++ya:(aa?Z.push(aa[0]):Z.push(Z[0]),Ga[Ga.length]=Z,Z=[],Ga.length == 1 << ya && ++ya,aa || (aa=Ga[ca]));ca=ja + aa.length;ca >= pa.length && (ea=new Uint8Array(Math.ceil(1.5 * ca)),ea.set(pa),pa=ea);pa.set(aa,ja);ja=ca;Z=Z.concat(aa);}return pa.subarray(0,ja);};})();(function(){var fb,eb,cb;Nb="utf-8";Mb=9007199254740992;fb=Fc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Fc);ie=function(Za){for(var jb=[fb.GZIP,fb.LZW],tb=0;tb < jb.length && 0 < Za.length;++tb){for(var gb=jb[tb],Ga=0;Ga < Za.length;++Ga){if(Za[Ga] == gb)return gb;}}return null;};eb=gd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(gd);je=function(Za){return eb.AES_CBC_PKCS5Padding == Za?eb.AES_CBC_PKCS5Padding:eb.RSA_ECB_PKCS1Padding == Za?eb.RSA_ECB_PKCS1Padding:eb[Za];};cb=ke={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(ke);zd=function(Za){return cb[Za];};Ia={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ia);})();Db={isObjectLiteral:function(fb){return null !== fb && "object" === typeof fb && fb.constructor === Object;},extendDeep:function(){var fb,eb,cb,Za,jb,tb,gb,Ga;fb=arguments[0];eb=1;cb=arguments.length;Za=!1;"boolean" === typeof fb && (Za=fb,fb=arguments[1],eb=2);for(;eb < cb;eb++){if(null != (jb=arguments[eb]))for(tb in jb){if(!(Za && (tb in fb))){gb=jb[tb];if(fb !== gb && gb !== Cb){Ga=fb[tb];fb[tb]=null !== Ga && null !== gb && "object" === typeof Ga && "object" === typeof gb?Db.extendDeep(Za,{},Ga,gb):gb;}}}}return fb;}};(function(){var gb,Ga;function fb(La,Qa){return function(){var ya,pa;ya=La.base;La.base=Qa;pa=La.apply(this,arguments);La.base=ya;return pa;};}function eb(La,Qa,ya){var pa,ja,ca,Z;ya=ya || Ga;ja=!!ya.extendAll;for(pa in Qa){ca=Qa.__lookupGetter__(pa);Z=Qa.__lookupSetter__(pa);ca || Z?(ca && La.__defineGetter__(pa,ca),Z && La.__defineSetter__(pa,Z)):(ca=Qa[pa],Z=La[pa],"function" === typeof ca && "function" === typeof Z && ca !== Z?(ca.base !== Function.prototype.base && (ca=fb(ca,Z)),ca.base=Z):(ja || ya[pa]) && Db.isObjectLiteral(ca) && Db.isObjectLiteral(Z) && (ca=Db.extendDeep({},Z,ca)),La[pa]=ca);}}function cb(){var La,Qa;La=Array.prototype.slice;Qa=La.call(arguments,1);return this.extend({init:function pa(){var ja;ja=La.call(arguments,0);pa.base.apply(this,Qa.concat(ja));}});}function Za(La,Qa){var ya;ya=new this(gb);eb(ya,La,Qa);return tb(ya);}function jb(La,Qa){eb(this.prototype,La,Qa);return this;}function tb(La){var Qa;Qa=function(){var ya;ya=this.init;ya && arguments[0] !== gb && ya.apply(this,arguments);};La && (Qa.prototype=La);Qa.prototype.constructor=Qa;Qa.extend=Za;Qa.bind=cb;Qa.mixin=jb;return Qa;}gb={};Ga={actions:!0};Function.prototype.base=function(){};Db.Class={create:tb,mixin:eb,extend:function(La,Qa){var ya;ya=tb();ya.prototype=new La();return ya.extend(Qa);}};Db.mixin=function(){Db.log && Db.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");eb.apply(null,arguments);};})();(function(){var gb,Ga,La;function fb(Qa,ya){return function(){var pa,ja;pa=Qa.base;Qa.base=ya;ja=Qa.apply(this,arguments);Qa.base=pa;return ja;};}function eb(Qa,ya,pa){var ja,ca,Z,aa;pa=pa || Ga;ca=!!pa.extendAll;for(ja in ya){Z=ya.__lookupGetter__(ja);aa=ya.__lookupSetter__(ja);Z || aa?(Z && Qa.__defineGetter__(ja,Z),aa && Qa.__defineSetter__(ja,aa)):(Z=ya[ja],aa=Qa[ja],"function" === typeof Z && "function" === typeof aa && Z !== aa?(Z.base !== La && (Z=fb(Z,aa)),Z.base=aa):(ca || pa[ja]) && Db.isObjectLiteral(Z) && Db.isObjectLiteral(aa) && (Z=Db.extendDeep({},aa,Z)),Qa[ja]=Z);}}function cb(){var Qa,ya;Qa=Array.prototype.slice;ya=Qa.call(arguments,1);return this.extend({init:function ja(){var ca;ca=Qa.call(arguments,0);ja.base.apply(this,ya.concat(ca));}});}function Za(Qa,ya){var pa;pa=new this(gb);eb(pa,Qa,ya);return tb(pa);}function jb(Qa,ya){eb(this.prototype,Qa,ya);return this;}function tb(Qa){var ya;ya=function(){var pa;pa=this.init;pa && arguments[0] !== gb && pa.apply(this,arguments);};Qa && (ya.prototype=Qa);ya.prototype.constructor=ya;ya.extend=Za;ya.bind=cb;ya.mixin=jb;return ya;}gb={};Ga={actions:!0};La=function(){};Function.prototype.base=La;Db.Class={create:tb,mixin:eb,extend:function(Qa,ya){var pa;pa=tb();pa.prototype=new Qa();return pa.extend(ya);}};Db.mixin=function(){Db.log && Db.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");eb.apply(null,arguments);};})();(function(){function fb(cb){return cb == Mb?1:cb + 1;}function eb(cb){if(0 === Object.keys(cb._waiters).length)return 0;for(var Za=fb(cb._nextWaiter);!cb._waiters[Za];){Za=fb(Za);}return Za;}Uc=Db.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(cb){var Za;if(this._waiters[cb]){Za=this._waiters[cb];delete this._waiters[cb];cb == this._nextWaiter && (this._nextWaiter=eb(this));Za.call(this,Cb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(cb,Za){var jb,tb;jb=this;tb=fb(this._lastWaiter);this._lastWaiter=tb;ab(Za,function(){var gb,Ga;if(0 < this._queue.length){gb=this._queue.shift();setTimeout(function(){Za.result(gb);},0);}else {-1 != cb && (Ga=setTimeout(function(){delete jb._waiters[tb];tb == jb._nextWaiter && (jb._nextWaiter=eb(jb));Za.timeout();},cb));this._waiters[tb]=function(La){clearTimeout(Ga);setTimeout(function(){Za.result(La);},0);};this._nextWaiter || (this._nextWaiter=tb);}},jb);return tb;},add:function(cb){var Za;if(this._nextWaiter){Za=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=eb(this);Za.call(this,cb);}else this._queue.push(cb);}});})();(function(){var fb;fb=0 - Mb;le=Db.Class.create({nextBoolean:function(){var eb;eb=new Uint8Array(1);wc.getRandomValues(eb);return eb[0] & 1?!0:!1;},nextInt:function(eb){var cb;if(null !== eb && eb !== Cb){if("number" !== typeof eb)throw new TypeError("n must be of type number");if(1 > eb)throw new RangeError("n must be greater than zero");--eb;cb=new Uint8Array(4);wc.getRandomValues(cb);return Math.floor(((cb[3] & 127) << 24 | cb[2] << 16 | cb[1] << 8 | cb[0]) / 2147483648 * (eb - 0 + 1));}eb=new Uint8Array(4);wc.getRandomValues(eb);cb=(eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0];return eb[3] & 128?-cb:cb;},nextLong:function(){var cb;for(var eb=fb;eb == fb;){eb=new Uint8Array(7);wc.getRandomValues(eb);cb=16777216 * ((eb[6] & 31) << 24 | eb[5] << 16 | eb[4] << 8 | eb[3]) + (eb[2] << 16 | eb[1] << 8 | eb[0]);eb=eb[6] & 128?-cb - 1:cb;}return eb;},nextBytes:function(eb){wc.getRandomValues(eb);}});})();(function(){function fb(Za){return Za == Mb?1:Za + 1;}function eb(Za){if(0 === Object.keys(Za._waitingReaders).length)return 0;for(var jb=fb(Za._nextReader);!Za._waitingReaders[jb];){jb=fb(jb);}return jb;}function cb(Za){if(0 === Object.keys(Za._waitingWriters).length)return 0;for(var jb=fb(Za._nextWriter);!Za._waitingWriters[jb];){jb=fb(jb);}return jb;}Ad=Db.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(Za){var jb;if(this._waitingReaders[Za]){jb=this._waitingReaders[Za];delete this._waitingReaders[Za];Za == this._nextReader && (this._nextReader=eb(this));jb.call(this,!0);}this._waitingWriters[Za] && (jb=this._waitingWriters[Za],delete this._waitingWriters[Za],Za == this._nextWriter && (this._nextWriter=cb(this)),jb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(Za,jb){var tb,gb;tb=this;gb=fb(this._lastNumber);this._lastNumber=gb;ab(jb,function(){var Ga;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[gb]=!0,gb);-1 != Za && (Ga=setTimeout(function(){delete tb._waitingReaders[gb];gb == tb._nextReader && (tb._nextReader=eb(tb));jb.timeout();},Za));this._waitingReaders[gb]=function(La){clearTimeout(Ga);La?setTimeout(function(){jb.result(Cb);},0):(tb._readers[gb]=!0,setTimeout(function(){jb.result(gb);},0));};this._nextReader || (this._nextReader=gb);},tb);return gb;},writeLock:function(Za,jb){var tb,gb;tb=this;gb=fb(this._lastNumber);this._lastNumber=gb;ab(jb,function(){var Ga;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=gb;-1 != Za && (Ga=setTimeout(function(){delete tb._waitingWriters[gb];gb == tb._nextWriter && (tb._nextWriter=cb(tb));jb.timeout();},Za));this._waitingWriters[gb]=function(La){clearTimeout(Ga);La?setTimeout(function(){jb.result(Cb);},0):(tb._writer=gb,setTimeout(function(){jb.result(gb);},0));};this._nextWriter || (this._nextWriter=gb);},tb);return gb;},unlock:function(Za){if(Za == this._writer)this._writer=null;else {if(!this._readers[Za])throw new wb("There is no reader or writer with ticket number " + Za + ".");delete this._readers[Za];}if(this._nextWriter)0 < Object.keys(this._readers).length || (Za=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=cb(this),Za.call(this,!1));else {for(var jb=this._nextReader;0 < Object.keys(this._waitingReaders).length;jb=fb(jb)){this._waitingReaders[jb] && (Za=this._waitingReaders[jb],delete this._waitingReaders[jb],Za.call(this,!1));}this._nextReader=0;}}});})();Db.Class.mixin(Y,{JSON_PARSE_ERROR:new Y(0,Ia.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new Y(1,Ia.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new Y(2,Ia.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new Y(3,Ia.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new Y(4,Ia.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new Y(5,Ia.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new Y(6,Ia.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new Y(7,Ia.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new Y(8,Ia.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new Y(9,Ia.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new Y(10,Ia.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new Y(11,Ia.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new Y(12,Ia.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new Y(13,Ia.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new Y(14,Ia.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new Y(15,Ia.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new Y(16,Ia.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new Y(17,Ia.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new Y(18,Ia.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new Y(19,Ia.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new Y(20,Ia.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new Y(21,Ia.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new Y(22,Ia.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new Y(23,Ia.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new Y(24,Ia.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new Y(25,Ia.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new Y(26,Ia.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new Y(27,Ia.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new Y(28,Ia.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new Y(29,Ia.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new Y(30,Ia.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new Y(31,Ia.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new Y(32,Ia.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new Y(33,Ia.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new Y(34,Ia.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new Y(35,Ia.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new Y(36,Ia.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new Y(37,Ia.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new Y(38,Ia.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new Y(39,Ia.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new Y(40,Ia.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new Y(41,Ia.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new Y(42,Ia.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new Y(43,Ia.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new Y(44,Ia.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new Y(45,Ia.FAIL,"Error exporting key."),DIGEST_ERROR:new Y(46,Ia.FAIL,"Error in digest."),UNSUPPORTED_KEY:new Y(47,Ia.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new Y(48,Ia.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new Y(49,Ia.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new Y(50,Ia.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new Y(51,Ia.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new Y(52,Ia.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new Y(53,Ia.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new Y(54,Ia.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new Y(55,Ia.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new Y(56,Ia.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new Y(57,Ia.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new Y(58,Ia.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new Y(59,Ia.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new Y(60,Ia.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new Y(61,Ia.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new Y(62,Ia.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new Y(1E3,Ia.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new Y(1001,Ia.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new Y(1002,Ia.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new Y(1003,Ia.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new Y(1004,Ia.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(1005,Ia.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new Y(1006,Ia.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new Y(1007,Ia.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new Y(1008,Ia.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new Y(1009,Ia.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new Y(1010,Ia.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new Y(1011,Ia.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new Y(1012,Ia.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new Y(1013,Ia.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new Y(1014,Ia.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new Y(2E3,Ia.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new Y(2001,Ia.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new Y(2002,Ia.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new Y(2003,Ia.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new Y(2004,Ia.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new Y(2005,Ia.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(2006,Ia.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(2007,Ia.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new Y(2008,Ia.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new Y(2009,Ia.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new Y(2010,Ia.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new Y(2011,Ia.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new Y(2012,Ia.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new Y(2013,Ia.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new Y(2014,Ia.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new Y(2015,Ia.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new Y(2016,Ia.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new Y(2017,Ia.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new Y(2018,Ia.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new Y(2019,Ia.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new Y(2020,Ia.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new Y(3E3,Ia.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new Y(3001,Ia.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new Y(3002,Ia.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new Y(3003,Ia.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new Y(3004,Ia.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(3005,Ia.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(3006,Ia.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new Y(3007,Ia.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new Y(3008,Ia.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new Y(3009,Ia.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new Y(4E3,Ia.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new Y(4001,Ia.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new Y(4002,Ia.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new Y(4003,Ia.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new Y(4004,Ia.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new Y(4005,Ia.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new Y(4006,Ia.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new Y(4007,Ia.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new Y(4008,Ia.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new Y(4009,Ia.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new Y(4010,Ia.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new Y(4011,Ia.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new Y(4012,Ia.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new Y(4013,Ia.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new Y(4014,Ia.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new Y(4015,Ia.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new Y(4016,Ia.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new Y(4017,Ia.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new Y(4018,Ia.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new Y(4019,Ia.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new Y(4020,Ia.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new Y(4021,Ia.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new Y(4022,Ia.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new Y(4023,Ia.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new Y(4024,Ia.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new Y(4025,Ia.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new Y(4026,Ia.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new Y(5E3,Ia.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new Y(5001,Ia.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new Y(5002,Ia.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new Y(5003,Ia.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new Y(5004,Ia.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new Y(5005,Ia.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new Y(5006,Ia.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new Y(5007,Ia.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new Y(5008,Ia.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new Y(5009,Ia.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new Y(5010,Ia.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new Y(5011,Ia.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new Y(5012,Ia.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new Y(5013,Ia.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new Y(5014,Ia.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new Y(5015,Ia.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new Y(5016,Ia.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new Y(5017,Ia.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new Y(5018,Ia.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new Y(5019,Ia.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new Y(5020,Ia.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new Y(5021,Ia.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new Y(5022,Ia.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new Y(5023,Ia.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new Y(5024,Ia.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new Y(5025,Ia.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new Y(5026,Ia.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new Y(5027,Ia.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new Y(5028,Ia.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new Y(5029,Ia.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new Y(5030,Ia.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new Y(5031,Ia.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new Y(5032,Ia.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new Y(5033,Ia.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new Y(5034,Ia.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new Y(5035,Ia.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new Y(5036,Ia.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new Y(5037,Ia.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new Y(5038,Ia.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new Y(5039,Ia.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new Y(5040,Ia.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new Y(6E3,Ia.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new Y(6001,Ia.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new Y(6002,Ia.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new Y(6003,Ia.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new Y(6004,Ia.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new Y(6005,Ia.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new Y(6006,Ia.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new Y(6007,Ia.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new Y(6008,Ia.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new Y(6009,Ia.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new Y(6010,Ia.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new Y(6011,Ia.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new Y(6012,Ia.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new Y(6013,Ia.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new Y(6014,Ia.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new Y(6015,Ia.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new Y(6016,Ia.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new Y(6017,Ia.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new Y(6018,Ia.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new Y(6019,Ia.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new Y(6020,Ia.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new Y(6021,Ia.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new Y(6022,Ia.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new Y(6023,Ia.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new Y(6024,Ia.FAIL,"Invalid header data."),PAYLOAD_INVALID:new Y(6025,Ia.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new Y(6026,Ia.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new Y(6027,Ia.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new Y(6028,Ia.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new Y(6029,Ia.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new Y(6030,Ia.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new Y(6031,Ia.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new Y(6032,Ia.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new Y(6033,Ia.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new Y(6034,Ia.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new Y(6035,Ia.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new Y(6036,Ia.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new Y(6037,Ia.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new Y(7E3,Ia.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new Y(7001,Ia.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new Y(7002,Ia.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new Y(7003,Ia.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new Y(7004,Ia.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new Y(7005,Ia.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new Y(7006,Ia.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new Y(7007,Ia.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new Y(7008,Ia.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new Y(7009,Ia.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new Y(7010,Ia.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new Y(7011,Ia.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new Y(7012,Ia.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new Y(7013,Ia.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new Y(7014,Ia.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new Y(7015,Ia.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new Y(7016,Ia.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new Y(8E3,Ia.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new Y(8001,Ia.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new Y(8002,Ia.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new Y(8003,Ia.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new Y(8004,Ia.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new Y(8005,Ia.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new Y(8006,Ia.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new Y(8007,Ia.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new Y(8008,Ia.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new Y(8009,Ia.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new Y(8010,Ia.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new Y(8011,Ia.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new Y(8012,Ia.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new Y(9E3,Ia.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new Y(9001,Ia.FAIL,"Error communicating with MSL entity."),NONE:new Y(9999,Ia.FAIL,"Special unit test error.")});Object.freeze(Y);(function(){db=Db.Class.create(Error());db.mixin({init:function(fb,eb,cb){var jb,tb,gb;function Za(){return tb?tb:this.cause && this.cause instanceof db?this.cause.messageId:Cb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=fb.message;eb && (jb+=" [" + eb + "]");gb=this.stack;Object.defineProperties(this,{message:{value:jb,writable:!1,configurable:!0},error:{value:fb,writable:!1,configurable:!0},cause:{value:cb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:Za,set:function(Ga){if(0 > Ga || Ga > Mb)throw new RangeError("Message ID " + Ga + " is outside the valid range.");Za() || (tb=Ga);},configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();gb && (Ga+="\n" + gb);cb && cb.stack && (Ga+="\nCaused by " + cb.stack);return Ga;},configurable:!0}});},setEntity:function(fb){!fb || this.masterToken || this.entityAuthenticationData || (fb instanceof ec?this.masterToken=fb:fb instanceof Gc && (this.entityAuthenticationData=fb));return this;},setUser:function(fb){!fb || this.userIdToken || this.userAuthenticationData || (fb instanceof Oc?this.userIdToken=fb:fb instanceof Vc && (this.userAuthenticationData=fb));return this;},setMessageId:function(fb){this.messageId=fb;return this;},toString:function(){return this.name + ": " + this.message;}});})();ub=db.extend({init:function jb(eb,cb,Za){jb.base.call(this,eb,cb,Za);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Eb=db.extend({init:function tb(cb,Za,jb){tb.base.call(this,cb,Za,jb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});mc=db.extend({init:function gb(Za,jb,tb){gb.base.call(this,Za,jb,tb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){fc=Db.Class.create(Error());fc.mixin({init:function(Za,jb,tb){var gb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);gb=this.stack;Object.defineProperties(this,{message:{value:Za,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},requestCause:{value:tb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();gb && (Ga+="\n" + gb);jb && jb.stack && (Ga+="\nCaused by " + jb.stack);return Ga;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Ub=Db.Class.create(Error());Ub.mixin({init:function(Za,jb){var tb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);tb=this.stack;Object.defineProperties(this,{message:{value:Za,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();tb && (gb+="\n" + tb);jb && jb.stack && (gb+="\nCaused by " + jb.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){wb=Db.Class.create(Error());wb.mixin({init:function(Za,jb){var tb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);tb=this.stack;Object.defineProperties(this,{message:{value:Za,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();tb && (gb+="\n" + tb);jb && jb.stack && (gb+="\nCaused by " + jb.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Yb=Db.Class.create(Error());Yb.mixin({init:function(Za,jb){var tb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);tb=this.stack;Object.defineProperties(this,{message:{value:Za,writable:!1,configurable:!1},cause:{value:jb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();tb && (gb+="\n" + tb);jb && jb.stack && (gb+="\nCaused by " + jb.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ob=db.extend({init:function Ga(jb,tb,gb){Ga.base.call(this,jb,tb,gb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Wc=db.extend({init:function Ga(tb,gb){Ga.base.call(this,tb);Object.defineProperties(this,{masterToken:{value:gb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Jb=db.extend({init:function Qa(gb,Ga,La){Qa.base.call(this,gb,Ga,La);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});xc=db.extend({init:function ya(Ga,La,Qa){ya.base.call(this,Ga,La,Qa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var pa;function Ga(ja){return "undefined" === typeof ja?!1:ja;}function La(ja){return ja && ja.length?($b === pa.V2014_02 && (ja=ja.map(function(ca){return "wrap" == ca?"wrapKey":"unwrap" == ca?"unwrapKey":ca;})),ja):$b === pa.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Qa(ja,ca,Z,aa,ea){return Promise.resolve().then(function(){return Pb.importKey(ja,ca,Z,aa,ea);}).catch(function(ba){var ma;if("spki" !== ja && "pkcs8" !== ja)throw ba;ba=ASN1.webCryptoAlgorithmToJwkAlg(Z);ma=ASN1.webCryptoUsageToJwkKeyOps(ea);ba=ASN1.rsaDerToJwk(ca,ba,ma,aa);if(!ba)throw Error("Could not make valid JWK from DER input");ba=JSON.stringify(ba);return Pb.importKey("jwk",wd(ba),Z,aa,ea);});}function ya(ja,ca){return Promise.resolve().then(function(){return Pb.exportKey(ja,ca);}).catch(function(Z){if("spki" !== ja && "pkcs8" !== ja)throw Z;return Pb.exportKey("jwk",ca).then(function(aa){aa=JSON.parse(vd(new Uint8Array(aa)));aa=ASN1.jwkToRsaDer(aa);if(!aa)throw Error("Could not make valid DER from JWK input");return aa.getDer().buffer;});});}pa=hd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(hd);$b=pa.LATEST;Lb={encrypt:function(ja,ca,Z){switch($b){case pa.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.encrypt(ja,ca,Z);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ea(ma);};});case pa.V2014_01:case pa.V2014_02:return Pb.encrypt(ja,ca,Z).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ja,ca,Z){switch($b){case pa.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.decrypt(ja,ca,Z);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ea(ma);};});case pa.V2014_01:case pa.V2014_02:return Pb.decrypt(ja,ca,Z).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ja,ca,Z){switch($b){case pa.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.sign(ja,ca,Z);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ea(ma);};});case pa.V2014_01:case pa.V2014_02:return Pb.sign(ja,ca,Z).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ja,ca,Z,aa){switch($b){case pa.LEGACY:return new Promise(function(ea,ba){var ma;ma=Pb.verify(ja,ca,Z,aa);ma.oncomplete=function(za){ea(za.target.result);};ma.onerror=function(za){ba(za);};});case pa.V2014_01:case pa.V2014_02:return Pb.verify(ja,ca,Z,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ja,ca){switch($b){case pa.LEGACY:return new Promise(function(Z,aa){var ea;ea=Pb.digest(ja,ca);ea.oncomplete=function(ba){Z(ba.target.result);};ea.onerror=function(ba){aa(ba);};});case pa.V2014_01:case pa.V2014_02:return Pb.digest(ja,ca).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ja,ca,Z){var aa,ea;aa=Ga(ca);ea=La(Z);switch($b){case pa.LEGACY:return new Promise(function(ba,ma){var za;za=Pb.generateKey(ja,aa,ea);za.oncomplete=function(va){ba(va.target.result);};za.onerror=function(va){ma(va);};});case pa.V2014_01:case pa.V2014_02:return Pb.generateKey(ja,aa,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ja,ca,Z,aa,ea){var ba,ma;ba=Ga(aa);ma=La(ea);switch($b){case pa.LEGACY:return new Promise(function(za,va){var na;na=Pb.deriveKey(ja,ca,Z,ba,ma);na.oncomplete=function(ta){za(ta.target.result);};na.onerror=function(ta){va(ta);};});case pa.V2014_01:case pa.V2014_02:return Pb.deriveKey(ja,ca,Z,ba,ma);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ja,ca,Z,aa,ea){var ba,ma;ba=Ga(aa);ma=La(ea);switch($b){case pa.LEGACY:return new Promise(function(za,va){var na;na=Pb.importKey(ja,ca,Z,ba,ma);na.oncomplete=function(ta){za(ta.target.result);};na.onerror=function(ta){va(ta);};});case pa.V2014_01:case pa.V2014_02:return Qa(ja,ca,Z,ba,ma);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ja,ca){switch($b){case pa.LEGACY:return new Promise(function(Z,aa){var ea;ea=Pb.exportKey(ja,ca);ea.oncomplete=function(ba){Z(ba.target.result);};ea.onerror=function(ba){aa(ba);};});case pa.V2014_01:case pa.V2014_02:return ya(ja,ca).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ja,ca,Z,aa){switch($b){case pa.LEGACY:return new Promise(function(ea,ba){var ma;ma=Pb.wrapKey(ca,Z,aa);ma.oncomplete=function(za){ea(za.target.result);};ma.onerror=function(za){ba(za);};});case pa.V2014_01:case pa.V2014_02:return Pb.wrapKey(ja,ca,Z,aa).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ja,ca,Z,aa,ea,ba,ma){switch($b){case pa.LEGACY:return new Promise(function(za,va){var na;na=Pb.unwrapKey(ca,ea,Z);na.oncomplete=function(ta){za(ta.target.result);};na.onerror=function(ta){va(ta);};});case pa.V2014_01:case pa.V2014_02:return Pb.unwrapKey(ja,ca,Z,aa,ea,Ga(ba),La(ma));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};fd && fd.getKeyByName && (Lb.getKeyByName=function(ja){switch($b){case pa.LEGACY:return new Promise(function(ca,Z){var aa;aa=fd.getKeyByName(ja);aa.oncomplete=function(ea){ca(ea.target.result);};aa.onerror=function(ea){Z(ea);};});case pa.V2014_01:case pa.V2014_02:return fd.getKeyByName(ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});mb.netflix=mb.netflix || ({});mb.netflix.crypto=Lb;})();nc={name:"AES-KW"};jc={name:"AES-CBC"};kc={name:"HMAC",hash:{name:"SHA-256"}};id={name:"RSA-OAEP",hash:{name:"SHA-1"}};Bd={name:"RSAES-PKCS1-v1_5"};me={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};yc=["encrypt","decrypt"];zc=["wrap","unwrap"];Hc=["sign","verify"];(function(){Cd=Db.Class.create({init:function(Ga,La,Qa){var pa;function ya(ja){Pa(La,function(){var ca;ca=ja?Gb(ja):Cb;Object.defineProperties(pa,{rawKey:{value:Ga,writable:!1,configurable:!1},keyData:{value:ja,writable:!1,configurable:!1},keyDataB64:{value:ca,writable:!1,configurable:!1}});return this;},pa);}pa=this;Pa(La,function(){if(!Ga || "object" != typeof Ga)throw new ub(Y.INVALID_SYMMETRIC_KEY);!Qa && Ga.extractable?Lb.exportKey("raw",Ga).then(function(ja){ya(new Uint8Array(ja));},function(ja){La.error(new ub(Y.KEY_EXPORT_ERROR,"raw"));}):ya(Qa);},pa);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Xc=function(Ga,La){new Cd(Ga,La);};oc=function(Ga,La,Qa,ya){Pa(ya,function(){try{Ga="string" == typeof Ga?Ib(Ga):Ga;}catch(pa){throw new ub(Y.INVALID_SYMMETRIC_KEY,"keydata " + Ga,pa);}Lb.importKey("raw",Ga,La,!0,Qa).then(function(pa){new Cd(pa,ya,Ga);},function(pa){ya.error(new ub(Y.INVALID_SYMMETRIC_KEY));});});};})();(function(){jd=Db.Class.create({init:function(Ga,La,Qa){var pa;function ya(ja){Pa(La,function(){Object.defineProperties(pa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ja,writable:!1,configurable:!1}});return this;},pa);}pa=this;Pa(La,function(){if(!Ga || "object" != typeof Ga || "public" != Ga.type)throw new TypeError("Only original public crypto keys are supported.");!Qa && Ga.extractable?Lb.exportKey("spki",Ga).then(function(ja){ya(new Uint8Array(ja));},function(ja){La.error(new ub(Y.KEY_EXPORT_ERROR,"spki"));}):ya(Qa);});},getEncoded:function(){return this.encoded;}});Ec=function(Ga,La){new jd(Ga,La);};Dd=function(Ga,La,Qa,ya){Pa(ya,function(){try{Ga="string" == typeof Ga?Ib(Ga):Ga;}catch(pa){throw new ub(Y.INVALID_PUBLIC_KEY,"spki " + Ga,pa);}Lb.importKey("spki",Ga,La,!0,Qa).then(function(pa){new jd(pa,ya,Ga);},function(pa){ya.error(new ub(Y.INVALID_PUBLIC_KEY));});});};})();(function(){ne=Db.Class.create({init:function(Ga,La,Qa){var pa;function ya(ja){Pa(La,function(){Object.defineProperties(pa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ja,writable:!1,configurable:!1}});return this;},pa);}pa=this;Pa(La,function(){if(!Ga || "object" != typeof Ga || "private" != Ga.type)throw new TypeError("Only original private crypto keys are supported.");!Qa && Ga.extractable?Lb.exportKey("pkcs8",Ga).then(function(ja){ya(new Uint8Array(ja));},function(ja){La.error(new ub(Y.KEY_EXPORT_ERROR,"pkcs8"));}):ya(Qa);});},getEncoded:function(){return this.encoded;}});Nc=function(Ga,La){new ne(Ga,La);};})();(function(){var Ga;Ga=Hd={V1:1,V2:2};Ed=Db.Class.create({init:function(La,Qa,ya,pa){Pa(pa,function(){var ja,ca,Z,aa;ja=Ga.V1;ca=La;Z=null;for(aa in gd){if(gd[aa] == La){ja=Ga.V2;ca=null;Z=La;break;}}Object.defineProperties(this,{version:{value:ja,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ca,writable:!1,configurable:!1},cipherSpec:{value:Z,writable:!1,configurable:!1},iv:{value:Qa,writable:!1,configurable:!1},ciphertext:{value:ya,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var La;La={};switch(this.version){case Ga.V1:La.keyid=this.keyId;this.iv && (La.iv=Gb(this.iv));La.ciphertext=Gb(this.ciphertext);La.sha256="AA==";break;case Ga.V2:La.version=this.version;La.cipherspec=this.cipherSpec;this.iv && (La.iv=Gb(this.iv));La.ciphertext=Gb(this.ciphertext);break;default:throw new wb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return La;}});Fd=function(La,Qa,ya,pa){new Ed(La,Qa,ya,pa);};Gd=function(La,Qa,ya){Pa(ya,function(){var pa,ja,ca,Z,aa,ea,ba;pa=La.keyid;ja=La.cipherspec;ca=La.iv;Z=La.ciphertext;aa=La.sha256;if(!Qa)if((Qa=La.version) && "number" === typeof Qa && Qa === Qa){ea=!1;for(ba in Ga){if(Ga[ba] == Qa){ea=!0;break;}}if(!ea)throw new ub(Y.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}else Qa=Ga.V1;switch(Qa){case Ga.V1:if("string" !== typeof pa || ca && "string" !== typeof ca || "string" !== typeof Z || "string" !== typeof aa)throw new Eb(Y.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));break;case Ga.V2:ba=La.version;if(ba != Ga.V2)throw new ub(Y.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));if("string" !== typeof ja || ca && "string" !== typeof ca || "string" !== typeof Z)throw new Eb(Y.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));ja=je(ja);if(!ja)throw new ub(Y.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(La));pa=ja;break;default:throw new ub(Y.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}try{ca && (ca=Ib(ca));Z=Ib(Z);}catch(ma){throw new ub(Y.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(La),ma);}new Ed(pa,ca,Z,ya);});};})();(function(){var Ga;Ga=Kd={V1:1,V2:2};pc=Db.Class.create({init:function(La,Qa,ya){var pa;switch(La){case Ga.V1:pa=ya;break;case Ga.V2:pa={};pa.version=La;pa.algorithm=Qa;pa.signature=Gb(ya);pa=bc(JSON.stringify(pa),Nb);break;default:throw new wb("Signature envelope version " + La + " encoding unsupported.");}Object.defineProperties(this,{version:{value:La,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Qa,writable:!1,configurable:!1},signature:{value:ya,writable:!1,configurable:!1},bytes:{value:pa,writable:!1,configurable:!1}});}});Id=function(){var La,Qa,ya,pa;if(2 == arguments.length){La=Ga.V1;Qa=arguments[0];ya=null;pa=arguments[1];}else 3 == arguments.length && (La=Ga.V2,ya=arguments[0],Qa=arguments[1],pa=arguments[2]);Pa(pa,function(){return new pc(La,ya,Qa);});};Jd=function(La,Qa,ya){Pa(ya,function(){var pa,ja,ca,Z,aa,ea,ba;if(Qa)switch(Qa){case Ga.V1:return new pc(Ga.V1,null,La);case Ga.V2:try{pa=ac(La,Nb);ja=JSON.parse(pa);ca=parseInt(ja.version);Z=ja.algorithm;aa=ja.signature;if(!ca || "number" !== typeof ca || ca != ca || "string" !== typeof Z || "string" !== typeof aa)throw new Eb(Y.JSON_PARSE_ERROR,"signature envelope " + Gb(La));if(Ga.V2 != ca)throw new ub(Y.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Gb(La));ea=zd(Z);if(!ea)throw new ub(Y.UNIDENTIFIED_ALGORITHM,"signature envelope " + Gb(La));ba=Ib(aa);if(!ba)throw new ub(Y.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(La));return new pc(Ga.V2,ea,ba);}catch(ma){if(ma instanceof SyntaxError)throw new Eb(Y.JSON_PARSE_ERROR,"signature envelope " + Gb(La),ma);throw ma;}default:throw new ub(Y.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Gb(La));}try{pa=ac(La,Nb);ja=JSON.parse(pa);}catch(ma){ja=null;}if(ja && ja.version){if((pa=ja.version,"number" !== typeof pa || pa !== pa))pa=Ga.V1;}else pa=Ga.V1;switch(pa){case Ga.V1:return new pc(pa,null,La);case Ga.V2:ea=ja.algorithm;aa=ja.signature;if("string" !== typeof ea || "string" !== typeof aa)return new pc(Ga.V1,null,La);ea=zd(ea);if(!ea)return new pc(Ga.V1,null,La);try{ba=Ib(aa);}catch(ma){return new pc(Ga.V1,null,La);}return new pc(pa,ea,ba);default:throw new ub(Y.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + La);}});};})();Pc=Db.Class.create({encrypt:function(Ga,La){},decrypt:function(Ga,La){},wrap:function(Ga,La){},unwrap:function(Ga,La,Qa,ya){},sign:function(Ga,La){},verify:function(Ga,La,Qa){}});(function(){var Ga;Ga=rc={RSA_OAEP:id.name,A128KW:nc.name};lc="A128GCM";qc=Db.Class.create({init:function(La,Qa,ya,pa,ja){switch(Qa){case Ga.RSA_OAEP:ja=ja && (ja.rawKey || ja);pa=pa && (pa.rawKey || pa);break;case Ga.A128KW:ja=pa=pa && (pa.rawKey || pa);break;default:throw new wb("Unsupported algorithm: " + Qa);}Object.defineProperties(this,{_ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ya,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ja,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){Qa.error(new ub(Y.ENCRYPT_NOT_SUPPORTED));},decrypt:function(La,Qa){Qa.error(new ub(Y.DECRYPT_NOT_SUPPORTED));},wrap:function(La,Qa){Pa(Qa,function(){Lb.wrapKey("jwe+jwk",La.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ya){Qa.result(ya);},function(ya){Qa.error(new ub(Y.WRAP_ERROR));});},this);},unwrap:function(La,Qa,ya,pa){function ja(ca){Pa(pa,function(){switch(ca.type){case "secret":Xc(ca,pa);break;case "public":Ec(ca,pa);break;case "private":Nc(ca,pa);break;default:throw new ub(Y.UNSUPPORTED_KEY,"type: " + ca.type);}});}Pa(pa,function(){Lb.unwrapKey("jwe+jwk",La,this._unwrapKey,this._unwrapKey.algorithm,Qa,!1,ya).then(function(ca){ja(ca);},function(){pa.error(new ub(Y.UNWRAP_ERROR));});},this);},sign:function(La,Qa){Qa.error(new ub(Y.SIGN_NOT_SUPPORTED));},verify:function(La,Qa,ya){ya.error(new ub(Y.VERIFY_NOT_SUPPORTED));}});})();Qc=Pc.extend({encrypt:function(Ga,La){La.result(Ga);},decrypt:function(Ga,La){La.result(Ga);},wrap:function(Ga,La){La.result(Ga);},unwrap:function(Ga,La,Qa,ya){ya.result(Ga);},sign:function(Ga,La){La.result(new Uint8Array(0));},verify:function(Ga,La,Qa){Qa.result(!0);}});(function(){var Ga;Ga=ld={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};kd=Pc.extend({init:function Z(Qa,ya,pa,ja,ca){Z.base.call(this);pa && (pa=pa.rawKey);ja && (ja=ja.rawKey);Object.defineProperties(this,{id:{value:ya,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:pa,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ja,writable:!1,enumerable:!1,configurable:!1},transform:{value:ca == Ga.ENCRYPT_DECRYPT_PKCS1?Bd:ca == Ga.ENCRYPT_DECRYPT_OAEP?id:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ca == Ga.WRAP_UNWRAP_PKCS1?Bd:ca == Ga.WRAP_UNWRAP_OAEP?id:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ca == Ga.SIGN_VERIFY?me:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Qa,ya){var pa;pa=this;Pa(ya,function(){if("nullOp" == this.transform)return Qa;if(!this.publicKey)throw new ub(Y.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Qa.length)return Qa;Lb.encrypt(pa.transform,pa.publicKey,Qa).then(function(ja){Fd(pa.id,null,ja,{result:function(ca){var Z;try{Z=JSON.stringify(ca);ya.result(bc(Z,Nb));}catch(aa){ya.error(new ub(Y.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof db || (ca=new ub(Y.ENCRYPT_ERROR,null,ca));ya.error(ca);}});},function(ja){ya.error(new ub(Y.ENCRYPT_ERROR));});},this);},decrypt:function(Qa,ya){var pa;pa=this;Pa(ya,function(){var ja,ca;if("nullOp" == this.transform)return Qa;if(!this.privateKey)throw new ub(Y.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Qa.length)return Qa;try{ja=ac(Qa,Nb);ca=JSON.parse(ja);}catch(Z){if(Z instanceof SyntaxError)throw new ub(Y.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Z);throw new ub(Y.DECRYPT_ERROR,null,Z);}Gd(ca,Hd.V1,{result:function(Z){var aa;try{if(Z.keyId != pa.id)throw new ub(Y.ENVELOPE_KEY_ID_MISMATCH);aa=ya.result;Lb.decrypt(pa.transform,pa.privateKey,Z.ciphertext).then(aa,function(ea){ya.error(new ub(Y.DECRYPT_ERROR));});}catch(ea){ea instanceof db?ya.error(ea):ya.error(new ub(Y.DECRYPT_ERROR,null,ea));}},error:function(Z){Z instanceof Eb && (Z=new ub(Y.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Z));Z instanceof db || (Z=new ub(Y.DECRYPT_ERROR,null,Z));ya.error(Z);}});},this);},wrap:function(Qa,ya){Pa(ya,function(){var pa;if("nullOp" == this.wrapTransform || !this.publicKey)throw new ub(Y.WRAP_NOT_SUPPORTED,"no public key");pa=ya.result;Lb.wrapKey("jwk",Qa.rawKey,this.publicKey,this.wrapTransform).then(pa,function(ja){ya.error(new ub(Y.WRAP_ERROR));});},this);},unwrap:function(Qa,ya,pa,ja){function ca(Z){Pa(ja,function(){switch(Z.type){case "secret":Xc(Z,ja);break;case "public":Ec(Z,ja);break;case "private":Nc(Z,ja);break;default:throw new ub(Y.UNSUPPORTED_KEY,"type: " + Z.type);}});}Pa(ja,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new ub(Y.UNWRAP_NOT_SUPPORTED,"no private key");Lb.unwrapKey("jwk",Qa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ya,!1,pa).then(ca,function(Z){ja.error(new ub(Y.UNWRAP_ERROR));});},this);},sign:function(Qa,ya){Pa(ya,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new ub(Y.SIGN_NOT_SUPPORTED,"no private key");Lb.sign(this.algo,this.privateKey,Qa).then(function(pa){Id(pa,{result:function(ja){ya.result(ja.bytes);},error:ya.error});},function(pa){ya.error(new ub(Y.SIGNATURE_ERROR));});},this);},verify:function(Qa,ya,pa){var ja;ja=this;Pa(pa,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new ub(Y.VERIFY_NOT_SUPPORTED,"no public key");Jd(ya,Kd.V1,{result:function(ca){Pa(pa,function(){var Z;Z=pa.result;Lb.verify(this.algo,this.publicKey,ca.signature,Qa).then(Z,function(aa){pa.error(new ub(Y.SIGNATURE_ERROR));});},ja);},error:pa.error});},this);}});})();(function(){md=Pc.extend({init:function ca(La,Qa,ya,pa,ja){ca.base.call(this);ya=ya && ya.rawKey;pa=pa && pa.rawKey;ja=ja && ja.rawKey;Object.defineProperties(this,{ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},id:{value:Qa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:pa,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ja,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){var ya;ya=this;Pa(Qa,function(){var pa;if(!this.encryptionKey)throw new ub(Y.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;pa=new Uint8Array(16);this.ctx.getRandom().nextBytes(pa);Lb.encrypt({name:jc.name,iv:pa},ya.encryptionKey,La).then(function(ja){ja=new Uint8Array(ja);Fd(ya.id,pa,ja,{result:function(ca){var Z;try{Z=JSON.stringify(ca);Qa.result(bc(Z,Nb));}catch(aa){Qa.error(new ub(Y.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof db || (ca=new ub(Y.ENCRYPT_ERROR,null,ca));Qa.error(ca);}});},function(ja){Qa.error(new ub(Y.ENCRYPT_ERROR));});},this);},decrypt:function(La,Qa){var ya;ya=this;Pa(Qa,function(){var pa,ja;if(!this.encryptionKey)throw new ub(Y.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;try{pa=ac(La,Nb);ja=JSON.parse(pa);}catch(ca){if(ca instanceof SyntaxError)throw new ub(Y.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new ub(Y.DECRYPT_ERROR,null,ca);}Gd(ja,Hd.V1,{result:function(ca){try{if(ca.keyId != ya.id)throw new ub(Y.ENVELOPE_KEY_ID_MISMATCH);Lb.decrypt({name:jc.name,iv:ca.iv},ya.encryptionKey,ca.ciphertext).then(function(Z){Z=new Uint8Array(Z);Qa.result(Z);},function(){Qa.error(new ub(Y.DECRYPT_ERROR));});}catch(Z){Z instanceof db?Qa.error(Z):Qa.error(new ub(Y.DECRYPT_ERROR,null,Z));}},error:function(ca){ca instanceof Eb && (ca=new ub(Y.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof db || (ca=new ub(Y.DECRYPT_ERROR,null,ca));Qa.error(ca);}});},this);},wrap:function(La,Qa){Pa(Qa,function(){if(!this.wrapKey)throw new ub(Y.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Lb.wrapKey("raw",La.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ya){Qa.result(ya);},function(ya){Qa.error(new ub(Y.WRAP_ERROR));});},this);},unwrap:function(La,Qa,ya,pa){function ja(ca){Pa(pa,function(){switch(ca.type){case "secret":Xc(ca,pa);break;case "public":Ec(ca,pa);break;case "private":Nc(ca,pa);break;default:throw new ub(Y.UNSUPPORTED_KEY,"type: " + ca.type);}});}Pa(pa,function(){if(!this.wrapKey)throw new ub(Y.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Lb.unwrapKey("raw",La,this.wrapKey,this.wrapKey.algorithm,Qa,!1,ya).then(function(ca){ja(ca);},function(ca){pa.error(new ub(Y.UNWRAP_ERROR));});},this);},sign:function(La,Qa){var ya;ya=this;Pa(Qa,function(){if(!this.hmacKey)throw new ub(Y.SIGN_NOT_SUPPORTED,"no HMAC key.");Lb.sign(kc,this.hmacKey,La).then(function(pa){Pa(Qa,function(){var ja;ja=new Uint8Array(pa);Id(ja,{result:function(ca){Qa.result(ca.bytes);},error:Qa.error});},ya);},function(){Qa.error(new ub(Y.HMAC_ERROR));});},this);},verify:function(La,Qa,ya){var pa;pa=this;Pa(ya,function(){if(!this.hmacKey)throw new ub(Y.VERIFY_NOT_SUPPORTED,"no HMAC key.");Jd(Qa,Kd.V1,{result:function(ja){Pa(ya,function(){Lb.verify(kc,this.hmacKey,ja.signature,La).then(function(ca){ya.result(ca);},function(ca){ya.error(new ub(Y.HMAC_ERROR));});},pa);},error:ya.error});},this);}});})();hc=md.extend({init:function ca(La,Qa,ya,pa,ja){if(ya || pa || ja)ca.base.call(this,La,ya + "_" + Qa.sequenceNumber,pa,ja,null);else {if(!Qa.isDecrypted())throw new Wc(Y.MASTERTOKEN_UNTRUSTED,Qa);ca.base.call(this,La,Qa.identity + "_" + Qa.sequenceNumber,Qa.encryptionKey,Qa.hmacKey,null);}}});nf=Pc.extend({encrypt:function(La,Qa){Qa.result(La);},decrypt:function(La,Qa){Qa.result(La);},wrap:function(La,Qa){Qa.error(new wb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(La,Qa,ya,pa){pa.error(new wb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(La,Qa){Qa.result(new Uint8Array(0));},verify:function(La,Qa,ya){ya.result(!1);}});Rb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Rb);(function(){Gc=Db.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(La){return this === La?!0:La instanceof Gc?this.scheme == La.scheme:!1;},toJSON:function(){var La;La={};La.scheme=this.scheme;La.authdata=this.getAuthData();return La;}});oe=function(La,Qa){var ya,pa;ya=Qa.scheme;pa=Qa.authdata;if(!ya || !pa)throw new Eb(Y.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Qa));if(!Rb[ya])throw new mc(Y.UNIDENTIFIED_ENTITYAUTH_SCHEME,ya);Qa=La.getEntityAuthenticationFactory(ya);if(!Qa)throw new mc(Y.ENTITYAUTH_FACTORY_NOT_FOUND,ya);return Qa.createData(La,pa);};})();nd=Db.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},createData:function(La,Qa){},getCryptoContext:function(La,Qa){}});(function(){sc=Gc.extend({init:function ya(Qa){ya.base.call(this,Rb.MGK);Object.defineProperties(this,{identity:{value:Qa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Qa;Qa={};Qa.identity=this.identity;return Qa;},equals:function pa(ya){return this === ya?!0:ya instanceof sc?pa.base.call(this,this,ya) && this.identity == ya.identity:!1;}});pe=function(ya){var pa;pa=ya.identity;if(!pa)throw new Eb(Y.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ya));return new sc(pa);};})();of=nd.extend({init:function ya(Qa){ya.base.call(this,Rb.MGK);Object.defineProperties(this,{localIdentity:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Qa,ya){return pe(ya);},getCryptoContext:function(Qa,ya){if(!(ya instanceof sc))throw new wb("Incorrect authentication data type " + JSON.stringify(ya) + ".");if(ya.identity != this.localIdentity)throw new mc(Y.ENTITY_NOT_FOUND,"mgk " + ya.identity).setEntity(ya);return new Qc();}});(function(){tc=Gc.extend({init:function pa(ya){pa.base.call(this,Rb.PSK);Object.defineProperties(this,{identity:{value:ya,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ya;ya={};ya.identity=this.identity;return ya;},equals:function ja(pa){return this === pa?!0:pa instanceof tc?ja.base.call(this,this,pa) && this.identity == pa.identity:!1;}});qe=function(pa){var ja;ja=pa.identity;if(!ja)throw new Eb(Y.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(pa));return new tc(ja);};})();pf=nd.extend({init:function pa(ya){pa.base.call(this,Rb.PSK);Object.defineProperties(this,{localIdentity:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ya,pa){return qe(pa);},getCryptoContext:function(ya,pa){if(!(pa instanceof tc))throw new wb("Incorrect authentication data type " + JSON.stringify(pa) + ".");if(pa.getIdentity() != this.localIdentity)throw new mc(Y.ENTITY_NOT_FOUND,"psk " + pa.identity).setEntity(pa);return new Qc();}});(function(){od=Gc.extend({init:function ca(pa,ja){ca.base.call(this,Rb.RSA);Object.defineProperties(this,{identity:{value:pa,writable:!1,configurable:!1},publicKeyId:{value:ja,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var pa;pa={};pa.identity=this.identity;pa.pubkeyid=this.publicKeyId;return pa;},equals:function ca(ja){return this === ja?!0:ja instanceof od?ca.base.call(this,this,ja) && this.identity == ja.identity && this.publicKeyId == ja.publicKeyId:!1;}});re=function(ja){var ca,Z;ca=ja.identity;Z=ja.pubkeyid;if(!ca || "string" !== typeof ca || !Z || "string" !== typeof Z)throw new Eb(Y.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ja));return new od(ca,Z);};})();qf=nd.extend({init:function ja(pa){ja.base.call(this,Rb.RSA);Object.defineProperties(this,{store:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(pa,ja){return re(ja);},getCryptoContext:function(pa,ja){var ca,Z,aa;if(!(ja instanceof od))throw new wb("Incorrect authentication data type " + ja + ".");ca=ja.identity;Z=ja.publicKeyId;aa=this.store.getPublicKey(Z);if(!aa)throw new mc(Y.RSA_PUBLICKEY_NOT_FOUND,Z).setEntity(ja);return new kd(pa,ca,null,aa,ld.SIGN_VERIFY);}});(function(){Tc=Gc.extend({init:function ca(ja){ca.base.call(this,Rb.NONE);Object.defineProperties(this,{identity:{value:ja,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ja;ja={};ja.identity=this.identity;return ja;},equals:function Z(ca){return this === ca?!0:ca instanceof Tc?Z.base.call(this,this,ca) && this.identity == ca.identity:!1;}});se=function(ca){var Z;Z=ca.identity;if(!Z)throw new Eb(Y.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ca));return new Tc(Z);};})();mf=nd.extend({init:function ja(){ja.base.call(this,Rb.NONE);},createData:function(ja,ca){return se(ca);},getCryptoContext:function(ja,ca){if(!(ca instanceof Tc))throw new wb("Incorrect authentication data type " + JSON.stringify(ca) + ".");return new Qc();}});rf=Db.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ja,ca){if(!(ca instanceof jd))throw new wb("Incorrect key data type " + ca + ".");this.rsaKeys[ja]=ca;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ja){delete this.rsaKeys[ja];},getPublicKey:function(ja){return this.rsaKeys[ja];}});Ld=Db.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ja,ca,Z){}});pd=Db.Class.create({abort:function(){},close:function(ja,ca){},write:function(ja,ca,Z,aa,ea){},flush:function(ja,ca){}});sf=Db.Class.create({init:function(ja){Object.defineProperties(this,{_data:{value:ja,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Ub("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ja,ca,Z){ab(Z,function(){var aa;if(this._closed)throw new Ub("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ja && (ja=this._data.length - this._currentPosition);aa=this._data.subarray(this._currentPosition,this._currentPosition + ja);this._currentPosition+=aa.length;return aa;},this);}});tf=Db.Class.create({init:function(){var ja;ja={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);},abort:function(){},close:function(ja,ca){this._closed=!0;ca.result(!0);},write:function(ja,ca,Z,aa,ea){ab(ea,function(){var ba;if(this._closed)throw new Ub("Stream is already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Z)throw new RangeError("Length cannot be negative.");if(ca + Z > ja.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ba=ja.subarray(ca,Z);this._buffered.push(ba);return ba.length;},this);},flush:function(ja,ca){var Z;for(;0 < this._buffered.length;){if((ja=this._buffered.shift(),this._result)){Z=new Uint8Array(this._result.length + ja.length);Z.set(this._result);Z.set(ja,this._result.length);this._result=Z;}else this._result=new Uint8Array(ja);}ca.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});uf=Db.Class.create({getResponse:function(ja,ca,Z){}});(function(){var ja,ca;ja=pd.extend({init:function(Z,aa){Z={_httpLocation:{value:Z,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new tf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Uc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},setTimeout:function(Z){this._timeout=Z;},getResponse:function(Z,aa){var ea;ea=this;this._responseQueue.poll(Z,{result:function(ba){ab(aa,function(){ba && this._responseQueue.add(ba);return ba;},ea);},timeout:function(){ab(aa,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();aa.timeout();},ea);},error:function(ba){ab(aa,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw ba;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(Z,aa){var ea;ea=this;ab(aa,function(){var ba;if(this._response)return !0;ba=this._buffer.toByteArray();0 < ba.length && (this._abortToken=this._httpLocation.getResponse({body:ba},this._timeout,{result:function(ma){ea._response={response:ma};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(ma){ea._response={isError:!0,error:ma};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(Z,aa,ea,ba,ma){ab(ma,function(){if(this._response)throw new Ub("HttpOutputStream already closed.");this._buffer.write(Z,aa,ea,ba,ma);},this);},flush:function(Z,aa){ab(aa,function(){if(this._response)return !0;this._buffer.flush(Z,aa);},this);}});ca=Ld.extend({init:function(Z){Object.defineProperties(this,{_out:{value:Z,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(Z,aa,ea){var ma;function ba(za){ab(ea,function(){if(!za)return new Uint8Array(0);this._out.getResponse(aa,{result:function(va){ab(ea,function(){var na;if(va.isTimeout)(this._timedout=!0,ea.timeout());else {if(va.isError)throw (this._exception=va.error || new Ub("Unknown HTTP exception."),this._exception);if(!va.response)throw (this._exception=new Ub("Missing HTTP response."),this._exception);va.response.json !== Cb && (this._json=va.response.json,this.getJSON=function(){return ma._json;});na=va.response.content || wd("string" === typeof va.response.body?va.response.body:JSON.stringify(this._json));this._buffer=new sf(na);this._buffer.read(Z,aa,ea);}},ma);},timeout:function(){ea.timeout();},error:function(va){ea.error(va);}});},ma);}ma=this;ab(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(Z,aa,ea):this._out.close(aa,{result:function(za){ba(za);},timeout:function(){ea.timeout();},error:function(za){ea.error(za);}});}},ma);}});de=Db.Class.create({init:function(Z,aa){Object.defineProperties(this,{_httpLocation:{value:Z,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(Z){this._timeout=Z;},openConnection:function(){var Z;Z=new ja(this._httpLocation,this._timeout);return {input:new ca(Z),output:Z};}});})();(function(){var ja,ca;ja=pd.extend({init:function(){var Z;Z={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},setTimeout:function(){},getResponse:function(Z,aa){aa.result({success:!1,content:null,errorHttpCode:Cb,errorSubCode:Cb});},abort:function(){},close:function(Z,aa){aa.result(!0);},write:function(Z,aa,ea,ba,ma){var za,va;try{if(0 > aa)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(aa + ea > Z.length)throw new RangeError("Offset plus length cannot be greater than the array length.");za=Z.subarray(aa,ea);va=new Uint8Array(this._buffer.length + za.length);va.set(this._buffer);va.set(za,this._buffer.length);this._buffer=va;ma.result(za.length);}catch(na){ma.error(na);}},flush:function(Z,aa){aa.result(!0);},request:function(){return this._buffer;}});ca=Ld.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(Z,aa,ea){ea.result(new Uint8Array(16));}});ee=Db.Class.create({init:function(){var Z;Z={output:{value:new ja(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ca(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return vd(this.output.request());}});})();te=function(ja,ca,Z){(function(aa,ea,ba){aa.read(-1,ea,{result:function(ma){ma && ma.length?ba(null,ma):ba(null,null);},timeout:function(){Z.timeout();},error:function(ma){ba(ma,null);}});})(ja,ca,function(aa,ea){var ba,ma;if(aa)Z.error(aa);else if(ea){if(ja.getJSON !== Cb && "function" === typeof ja.getJSON)Z.result(ja.getJSON());else {aa=Z.result;ea=new vf(ac(ea,"utf-8"));ba=[];for(ma=ea.nextValue();ma !== Cb;){ba.push(ma);ma=ea.nextValue();}aa.call(Z,ba);}}else Z.result(null);});};gc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(gc);(function(){Yc=Db.Class.create({init:function(ja){Object.defineProperties(this,{keyExchangeScheme:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ja;ja={};ja.scheme=this.keyExchangeScheme;ja.keydata=this.getKeydata();return ja;},equals:function(ja){return this === ja?!0:ja instanceof Yc?this.keyExchangeScheme == ja.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ue=function(ja,ca,Z){Pa(Z,function(){var aa,ea,ba;aa=ca.scheme;ea=ca.keydata;if(!aa || !ea || "object" !== typeof ea)throw new Eb(Y.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ca));if(!gc[aa])throw new Ob(Y.UNIDENTIFIED_KEYX_SCHEME,aa);ba=ja.getKeyExchangeFactory(aa);if(!ba)throw new Ob(Y.KEYX_FACTORY_NOT_FOUND,aa);ba.createRequestData(ja,ea,Z);});};})();(function(){Zc=Db.Class.create({init:function(ja,ca){Object.defineProperties(this,{masterToken:{value:ja,writable:!1,configurable:!1},keyExchangeScheme:{value:ca,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ja;ja={};ja.mastertoken=this.masterToken;ja.scheme=this.keyExchangeScheme;ja.keydata=this.getKeydata();return ja;},equals:function(ja){return this === ja?!0:ja instanceof Zc?this.masterToken.equals(ja.masterToken) && this.keyExchangeScheme == ja.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ve=function(ja,ca,Z){Pa(Z,function(){var aa,ea,ba;aa=ca.mastertoken;ea=ca.scheme;ba=ca.keydata;if(!ea || !aa || "object" !== typeof aa || !ba || "object" !== typeof ba)throw new Eb(Y.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ca));if(!gc[ea])throw new Ob(Y.UNIDENTIFIED_KEYX_SCHEME,ea);$c(ja,aa,{result:function(ma){Pa(Z,function(){var za;za=ja.getKeyExchangeFactory(ea);if(!za)throw new Ob(Y.KEYX_FACTORY_NOT_FOUND,ea);return za.createResponseData(ja,ma,ba);});},error:function(ma){Z.error(ma);}});});};})();(function(){var ja;ja=Db.Class.create({init:function(ca,Z){Object.defineProperties(this,{keyResponseData:{value:ca,writable:!1,configurable:!1},cryptoContext:{value:Z,writable:!1,configurable:!1}});}});ic=Db.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},createRequestData:function(ca,Z,aa){},createResponseData:function(ca,Z,aa){},generateResponse:function(ca,Z,aa,ea){},getCryptoContext:function(ca,Z,aa,ea,ba){},generateSessionKeys:function(ca,Z){Pa(Z,function(){var aa,ea;aa=new Uint8Array(16);ea=new Uint8Array(32);ca.getRandom().nextBytes(aa);ca.getRandom().nextBytes(ea);oc(aa,jc,yc,{result:function(ba){oc(ea,kc,Hc,{result:function(ma){Z.result({encryptionKey:ba,hmacKey:ma});},error:function(ma){Z.error(new ub(Y.SESSION_KEY_CREATION_FAILURE,null,ma));}});},error:function(ba){Z.error(new ub(Y.SESSION_KEY_CREATION_FAILURE,null,ba));}});});},importSessionKeys:function(ca,Z,aa){oc(ca,jc,yc,{result:function(ea){oc(Z,kc,Hc,{result:function(ba){aa.result({encryptionKey:ea,hmacKey:ba});},error:function(ba){aa.error(ba);}});},error:function(ea){aa.error(ea);}});}});ic.KeyExchangeData=ja;})();(function(){var ca,Z,aa;function ja(ea,ba,ma,za,va){Pa(va,function(){var na,ta;switch(ba){case ca.PSK:(na=new tc(za),ta=ea.getEntityAuthenticationFactory(Rb.PSK));if(!ta)throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,ba);na=ta.getCryptoContext(ea,na);return new qc(ea,rc.A128KW,lc,Cb);case ca.MGK:na=new sc(za);ta=ea.getEntityAuthenticationFactory(Rb.MGK);if(!ta)throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,ba);na=ta.getCryptoContext(ea,na);return new qc(ea,rc.A128KW,lc,Cb);case ca.WRAP:na=ea.getMslCryptoContext();na.unwrap(ma,nc,zc,{result:function(Da){Pa(va,function(){return new qc(ea,rc.A128KW,lc,Da);});},error:va.error});break;default:throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,ba);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Z=we=Yc.extend({init:function za(ba,ma){za.base.call(this,gc.JWE_LADDER);switch(ba){case ca.WRAP:if(!ma)throw new wb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ma=null;}Object.defineProperties(this,{mechanism:{value:ba,writable:!1,configurable:!1},wrapdata:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var ba;ba={};ba.mechanism=this.mechanism;this.wrapdata && (ba.wrapdata=Gb(this.wrapdata));return ba;},equals:function za(ma){return ma === this?!0:ma instanceof we?za.base.call(this,ma) && this.mechanism == ma.mechanism && cc(this.wrapdata,ma.wrapdata):!1;},uniqueKey:function za(){var va;va=za.base.call(this) + ":" + this.mechanism;this.wrapdata && (va+=":" + dc(this.wrapdata));return va;}});aa=xe=Zc.extend({init:function da(va,na,ta,Da,oa){da.base.call(this,va,gc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:na,writable:!1,configurable:!1},wrapdata:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:Da,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.wrapkey=Gb(this.wrapKey);va.wrapdata=Gb(this.wrapdata);va.encryptionkey=Gb(this.encryptionKey);va.hmackey=Gb(this.hmacKey);return va;},equals:function ta(na){return this === na?!0:na instanceof xe?ta.base.call(this,na) && cc(this.wrapKey,na.wrapKey) && cc(this.wrapdata,na.wrapdata) && cc(this.encryptionKey,na.encryptionKey) && cc(this.hmacKey,na.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + dc(this.wrapKey) + ":" + dc(this.wrapdata) + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});ic.extend({init:function oa(Da){oa.base.call(this,gc.JWE_LADDER);Object.defineProperties(this,{repository:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(Da,oa,da){Pa(da,function(){var ia,la,Ba;ia=oa.mechanism;la=oa.wrapdata;if(!ia || ia == ca.WRAP && (!la || "string" !== typeof la))throw new Eb(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(oa));if(!ca[ia])throw new Ob(Y.UNIDENTIFIED_KEYX_MECHANISM,ia);switch(ia){case ca.WRAP:try{Ba=Ib(la);}catch(Sa){throw new Ob(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());}if(null == Ba || 0 == Ba.length)throw new Ob(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());break;default:Ba=null;}return new Z(ia,Ba);});},createResponseData:function(Da,oa,da){var ia,la,Ba,Sa,Na,Ra,Ta;Da=da.wrapkey;ia=da.wrapdata;la=da.encryptionkey;Ba=da.hmackey;if(!(Da && "string" === typeof Da && ia && "string" === typeof ia && la && "string" === typeof la && Ba) || "string" !== typeof Ba)throw new Eb(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{Sa=Ib(Da);Na=Ib(ia);}catch(sa){throw new ub(Y.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(da),sa);}try{Ra=Ib(la);}catch(sa){throw new ub(Y.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),sa);}try{Ta=Ib(Ba);}catch(sa){throw new ub(Y.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),sa);}return new aa(oa,Sa,Na,Ra,Ta);},generateResponse:function(Da,oa,da,ia){var Ra,Ta;function la(sa,Ca,Ha){Ra.generateSessionKeys(Da,{result:function(Ka){Pa(ia,function(){Ba(sa,Ca,Ha,Ka.encryptionKey,Ka.hmacKey);},Ra);},error:function(Ka){Pa(ia,function(){Ka instanceof db && Ka.setEntity(Ta);throw Ka;});}});}function Ba(sa,Ca,Ha,Ka,Fa){Pa(ia,function(){ja(Da,oa.mechanism,oa.wrapdata,sa,{result:function(Ua){Ua.wrap(Ca,{result:function(Ja){Sa(Ca,Ha,Ka,Fa,Ja);},error:function(Ja){Pa(ia,function(){Ja instanceof db && Ja.setEntity(Ta);throw Ja;});}});},error:function(Ua){Pa(ia,function(){Ua instanceof db && Ua.setEntity(Ta);throw Ua;});}});},Ra);}function Sa(sa,Ca,Ha,Ka,Fa){Pa(ia,function(){var Ua;Ua=new qc(Da,rc.A128KW,lc,sa);Ua.wrap(Ha,{result:function(Ja){Ua.wrap(Ka,{result:function(Wa){Na(Ca,Fa,Ha,Ja,Ka,Wa);},error:function(Wa){Pa(ia,function(){Wa instanceof db && Wa.setEntity(Ta);throw Wa;});}});},error:function(Ja){Pa(ia,function(){Ja instanceof db && Ja.setEntity(Ta);throw Ja;});}});},Ra);}function Na(sa,Ca,Ha,Ka,Fa,Ua){Pa(ia,function(){var Ja;Ja=Da.getTokenFactory();Ta?Ja.renewMasterToken(Da,Ta,Ha,Fa,{result:function(Wa){Pa(ia,function(){var $a,Va;$a=new hc(Da,Wa);Va=new aa(Wa,Ca,sa,Ka,Ua);return new ic.KeyExchangeData(Va,$a,ia);},Ra);},error:function(Wa){Pa(ia,function(){Wa instanceof db && Wa.setEntity(Ta);throw Wa;});}}):Ja.createMasterToken(Da,da,Ha,Fa,{result:function(Wa){Pa(ia,function(){var $a,Va;$a=new hc(Da,Wa);Va=new aa(Wa,Ca,sa,Ka,Ua);return new ic.KeyExchangeData(Va,$a,ia);},Ra);},error:ia.error});},Ra);}Ra=this;Pa(ia,function(){var sa,Ca;if(!(oa instanceof Z))throw new wb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");sa=da;if(da instanceof ec){if(!da.isVerified())throw new Wc(Y.MASTERTOKEN_UNTRUSTED,da);Ta=da;sa=da.identity;}Ca=new Uint8Array(16);Da.getRandom().nextBytes(Ca);oc(Ca,nc,zc,{result:function(Ha){Pa(ia,function(){Da.getMslCryptoContext().wrap(Ha,{result:function(Ka){la(sa,Ha,Ka);},error:function(Ka){Pa(ia,function(){Ka instanceof db && Ka.setEntity(Ta);throw Ka;},Ra);}});},Ra);},error:function(Ha){Pa(ia,function(){throw new ub(Y.WRAP_KEY_CREATION_FAILURE,null,Ha).setEntity(Ta);},Ra);}});},Ra);},getCryptoContext:function(Da,oa,da,ia,la){var Sa;function Ba(Na,Ra,Ta,sa,Ca){Pa(la,function(){var Ha;Ha=new qc(Da,rc.A128KW,lc,Ca);Ha.unwrap(Ra.encryptionKey,jc,yc,{result:function(Ka){Ha.unwrap(Ra.hmacKey,kc,Hc,{result:function(Fa){Pa(la,function(){this.repository.addCryptoContext(Ra.wrapdata,Ha);this.repository.removeCryptoContext(Ta);return new hc(Da,Ra.masterToken,sa,Ka,Fa);},Sa);},error:function(Fa){Pa(la,function(){Fa instanceof db && Fa.setEntity(Na);throw Fa;});}});},error:function(Ka){Pa(la,function(){Ka instanceof db && Ka.setEntity(Na);throw Ka;});}});},Sa);}Sa=this;Pa(la,function(){var Na,Ra;if(!(oa instanceof Z))throw new wb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");if(!(da instanceof aa))throw new wb("Key response data " + JSON.stringify(da) + " was not created by this factory.");Na=oa.mechanism;Ra=oa.wrapdata;Da.getEntityAuthenticationData(null,{result:function(Ta){Pa(la,function(){var sa,Ca,Ha;sa=Ta.getIdentity();switch(Na){case ca.PSK:Ca=new tc(sa);Ha=Da.getEntityAuthenticationFactory(Rb.PSK);if(!Ha)throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,Na).setEntity(Ta);Ca=Ha.getCryptoContext(Da,Ca);Ca=new qc(Da,rc.A128KW,lc,Cb);break;case ca.MGK:Ca=new sc(sa);Ha=Da.getEntityAuthenticationFactory(Rb.MGK);if(!Ha)throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,Na).setEntity(Ta);Ca=Ha.getCryptoContext(Da,Ca);Ca=new qc(Da,rc.A128KW,lc,Ca.wrapKey);break;case ca.WRAP:Ca=this.repository.getCryptoContext(Ra);if(!Ca)throw new Ob(Y.KEYX_WRAPPING_KEY_MISSING,Gb(Ra)).setEntity(Ta);break;default:throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,Na).setEntity(Ta);}Ca.unwrap(da.wrapKey,nc,zc,{result:function(Ka){Ba(Ta,da,Ra,sa,Ka);},error:function(Ka){Pa(la,function(){Ka instanceof db && Ka.setEntity(Ta);throw Ka;});}});},Sa);},error:la.error});},Sa);}});})();(function(){var ca,Z,aa,ea;function ja(ba,ma,za,va,na){Pa(na,function(){var ta,Da;switch(ma){case ca.PSK:(ta=new tc(va),Da=ba.getEntityAuthenticationFactory(Rb.PSK));if(!Da)throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,ma);ta=Da.getCryptoContext(ba,ta);return new ea(Cb);case ca.MGK:ta=new sc(va);Da=ba.getEntityAuthenticationFactory(Rb.MGK);if(!Da)throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,ma);ta=Da.getCryptoContext(ba,ta);return new ea(Cb);case ca.WRAP:ta=ba.getMslCryptoContext();ta.unwrap(za,nc,zc,{result:function(oa){Pa(na,function(){return new ea(oa);});},error:na.error});break;default:throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,ma);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Z=ye=Yc.extend({init:function va(ma,za){va.base.call(this,gc.JWK_LADDER);switch(ma){case ca.WRAP:if(!za)throw new wb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:za=null;}Object.defineProperties(this,{mechanism:{value:ma,writable:!1,configurable:!1},wrapdata:{value:za,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.mechanism=this.mechanism;this.wrapdata && (ma.wrapdata=Gb(this.wrapdata));return ma;},equals:function va(za){return za === this?!0:za instanceof ye?va.base.call(this,za) && this.mechanism == za.mechanism && cc(this.wrapdata,za.wrapdata):!1;},uniqueKey:function va(){var na;na=va.base.call(this) + ":" + this.mechanism;this.wrapdata && (na+=":" + dc(this.wrapdata));return na;}});aa=ze=Zc.extend({init:function ia(na,ta,Da,oa,da){ia.base.call(this,na,gc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:ta,writable:!1,configurable:!1},wrapdata:{value:Da,writable:!1,configurable:!1},encryptionKey:{value:oa,writable:!1,configurable:!1},hmacKey:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.wrapkey=Gb(this.wrapKey);na.wrapdata=Gb(this.wrapdata);na.encryptionkey=Gb(this.encryptionKey);na.hmackey=Gb(this.hmacKey);return na;},equals:function Da(ta){return this === ta?!0:ta instanceof ze?Da.base.call(this,ta) && cc(this.wrapKey,ta.wrapKey) && cc(this.wrapdata,ta.wrapdata) && cc(this.encryptionKey,ta.encryptionKey) && cc(this.hmacKey,ta.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + dc(this.wrapKey) + ":" + dc(this.wrapdata) + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});ea=Pc.extend({init:function(Da){Da && Da.rawKey && (Da=Da.rawKey);Object.defineProperties(this,{_wrapKey:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Da,oa){oa.error(new ub(Y.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Da,oa){oa.error(new ub(Y.DECRYPT_NOT_SUPPORTED));},wrap:function(Da,oa){Pa(oa,function(){Lb.wrapKey("jwk",Da.rawKey,this._wrapKey,nc).then(function(da){oa.result(da);},function(da){oa.error(new ub(Y.WRAP_ERROR));});},this);},unwrap:function(Da,oa,da,ia){function la(Ba){Pa(ia,function(){switch(Ba.type){case "secret":Xc(Ba,ia);break;case "public":Ec(Ba,ia);break;case "private":Nc(Ba,ia);break;default:throw new ub(Y.UNSUPPORTED_KEY,"type: " + Ba.type);}});}Pa(ia,function(){Lb.unwrapKey("jwk",Da,this._wrapKey,nc,oa,!1,da).then(function(Ba){la(Ba);},function(Ba){ia.error(new ub(Y.UNWRAP_ERROR));});},this);},sign:function(Da,oa){oa.error(new ub(Y.SIGN_NOT_SUPPORTED));},verify:function(Da,oa,da){da.error(new ub(Y.VERIFY_NOT_SUPPORTED));}});ic.extend({init:function da(oa){da.base.call(this,gc.JWK_LADDER);Object.defineProperties(this,{repository:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(oa,da,ia){Pa(ia,function(){var la,Ba,Sa;la=da.mechanism;Ba=da.wrapdata;if(!la || la == ca.WRAP && (!Ba || "string" !== typeof Ba))throw new Eb(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));if(!ca[la])throw new Ob(Y.UNIDENTIFIED_KEYX_MECHANISM,la);switch(la){case ca.WRAP:try{Sa=Ib(Ba);}catch(Na){throw new Ob(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());}if(null == Sa || 0 == Sa.length)throw new Ob(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());break;default:Sa=null;}return new Z(la,Sa);});},createResponseData:function(oa,da,ia){var la,Ba,Sa,Na,Ra,Ta,sa;oa=ia.wrapkey;la=ia.wrapdata;Ba=ia.encryptionkey;Sa=ia.hmackey;if(!(oa && "string" === typeof oa && la && "string" === typeof la && Ba && "string" === typeof Ba && Sa) || "string" !== typeof Sa)throw new Eb(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ia));try{Na=Ib(oa);Ra=Ib(la);}catch(Ca){throw new ub(Y.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ia),Ca);}try{Ta=Ib(Ba);}catch(Ca){throw new ub(Y.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ia),Ca);}try{sa=Ib(Sa);}catch(Ca){throw new ub(Y.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ia),Ca);}return new aa(da,Na,Ra,Ta,sa);},generateResponse:function(oa,da,ia,la){var Ta,sa;function Ba(Ca,Ha,Ka){Ta.generateSessionKeys(oa,{result:function(Fa){Pa(la,function(){Sa(Ca,Ha,Ka,Fa.encryptionKey,Fa.hmacKey);},Ta);},error:function(Fa){Pa(la,function(){Fa instanceof db && Fa.setEntity(sa);throw Fa;});}});}function Sa(Ca,Ha,Ka,Fa,Ua){Pa(la,function(){ja(oa,da.mechanism,da.wrapdata,Ca,{result:function(Ja){Ja.wrap(Ha,{result:function(Wa){Na(Ha,Ka,Fa,Ua,Wa);},error:function(Wa){Pa(la,function(){Wa instanceof db && Wa.setEntity(sa);throw Wa;});}});},error:function(Ja){Pa(la,function(){Ja instanceof db && Ja.setEntity(sa);throw Ja;});}});},Ta);}function Na(Ca,Ha,Ka,Fa,Ua){Pa(la,function(){var Ja;Ja=new ea(Ca);Ja.wrap(Ka,{result:function(Wa){Ja.wrap(Fa,{result:function($a){Ra(Ha,Ua,Ka,Wa,Fa,$a);},error:function($a){Pa(la,function(){$a instanceof db && $a.setEntity(sa);throw $a;});}});},error:function(Wa){Pa(la,function(){Wa instanceof db && Wa.setEntity(sa);throw Wa;});}});},Ta);}function Ra(Ca,Ha,Ka,Fa,Ua,Ja){Pa(la,function(){var Wa;Wa=oa.getTokenFactory();sa?Wa.renewMasterToken(oa,sa,Ka,Ua,{result:function($a){Pa(la,function(){var Va,ib;Va=new hc(oa,$a);ib=new aa($a,Ha,Ca,Fa,Ja);return new ic.KeyExchangeData(ib,Va,la);},Ta);},error:function($a){Pa(la,function(){$a instanceof db && $a.setEntity(sa);throw $a;});}}):Wa.createMasterToken(oa,ia,Ka,Ua,{result:function($a){Pa(la,function(){var Va,ib;Va=new hc(oa,$a);ib=new aa($a,Ha,Ca,Fa,Ja);return new ic.KeyExchangeData(ib,Va,la);},Ta);},error:la.error});},Ta);}Ta=this;Pa(la,function(){var Ca,Ha;if(!(da instanceof Z))throw new wb("Key request data " + JSON.stringify(da) + " was not created by this factory.");Ca=ia;if(ia instanceof ec){if(!ia.isVerified())throw new Wc(Y.MASTERTOKEN_UNTRUSTED,ia);sa=ia;Ca=ia.identity;}Ha=new Uint8Array(16);oa.getRandom().nextBytes(Ha);oc(Ha,nc,zc,{result:function(Ka){Pa(la,function(){oa.getMslCryptoContext().wrap(Ka,{result:function(Fa){Ba(Ca,Ka,Fa);},error:function(Fa){Pa(la,function(){Fa instanceof db && Fa.setEntity(sa);throw Fa;},Ta);}});},Ta);},error:function(Ka){Pa(la,function(){throw new ub(Y.WRAP_KEY_CREATION_FAILURE,null,Ka).setEntity(sa);},Ta);}});},Ta);},getCryptoContext:function(oa,da,ia,la,Ba){var Na;function Sa(Ra,Ta,sa,Ca,Ha){Pa(Ba,function(){var Ka;Ka=new ea(Ha);Ka.unwrap(Ta.encryptionKey,jc,yc,{result:function(Fa){Ka.unwrap(Ta.hmacKey,kc,Hc,{result:function(Ua){Pa(Ba,function(){this.repository.addCryptoContext(Ta.wrapdata,Ka);this.repository.removeCryptoContext(sa);return new hc(oa,Ta.masterToken,Ca,Fa,Ua);},Na);},error:function(Ua){Pa(Ba,function(){Ua instanceof db && Ua.setEntity(Ra);throw Ua;});}});},error:function(Fa){Pa(Ba,function(){Fa instanceof db && Fa.setEntity(Ra);throw Fa;});}});},Na);}Na=this;Pa(Ba,function(){var Ra,Ta;if(!(da instanceof Z))throw new wb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ia instanceof aa))throw new wb("Key response data " + JSON.stringify(ia) + " was not created by this factory.");Ra=da.mechanism;Ta=da.wrapdata;oa.getEntityAuthenticationData(null,{result:function(sa){Pa(Ba,function(){var Ca,Ha,Ka;Ca=sa.getIdentity();switch(Ra){case ca.PSK:Ha=new tc(Ca);Ka=oa.getEntityAuthenticationFactory(Rb.PSK);if(!Ka)throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(sa);Ha=Ka.getCryptoContext(oa,Ha);Ha=new ea(Ha.wrapKey);break;case ca.MGK:Ha=new sc(Ca);Ka=oa.getEntityAuthenticationFactory(Rb.MGK);if(!Ka)throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(sa);Ha=Ka.getCryptoContext(oa,Ha);Ha=new ea(Ha.wrapKey);break;case ca.WRAP:Ha=this.repository.getCryptoContext(Ta);if(!Ha)throw new Ob(Y.KEYX_WRAPPING_KEY_MISSING,Gb(Ta)).setEntity(sa);break;default:throw new Ob(Y.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(sa);}Ha.unwrap(ia.wrapKey,nc,zc,{result:function(Fa){Sa(sa,ia,Ta,Ca,Fa);},error:function(Fa){Pa(Ba,function(){Fa instanceof db && Fa.setEntity(sa);throw Fa;});}});},Na);},error:Ba.error});},Na);}});})();wf=Db.Class.create({addCryptoContext:function(ja,ca){},getCryptoContext:function(ja){},removeCryptoContext:function(ja){}});(function(){var ca,Z,aa,ea;function ja(ba,ma,za,va,na){switch(za){case ca.JWE_RSA:case ca.JWEJS_RSA:return new qc(ba,rc.RSA_OAEP,lc,va,na);case ca.JWK_RSA:return new kd(ba,ma,va,na,ld.WRAP_UNWRAP_OAEP);case ca.JWK_RSAES:return new kd(ba,ma,va,na,ld.WRAP_UNWRAP_PKCS1);default:throw new ub(Y.UNSUPPORTED_KEYX_MECHANISM,za);}}ca=Ae={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};Z=yd=Yc.extend({init:function ta(ma,za,va,na){ta.base.call(this,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ma,writable:!1,configurable:!1},mechanism:{value:za,writable:!1,configurable:!1},publicKey:{value:va,writable:!1,configurable:!1},privateKey:{value:na,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.keypairid=this.keyPairId;ma.mechanism=this.mechanism;ma.publickey=Gb(this.publicKey.getEncoded());return ma;},equals:function va(za){var na;if(za === this)return !0;if(!(za instanceof yd))return !1;na=this.privateKey === za.privateKey || this.privateKey && za.privateKey && cc(this.privateKey.getEncoded(),za.privateKey.getEncoded());return va.base.call(this,za) && this.keyPairId == za.keyPairId && this.mechanism == za.mechanism && cc(this.publicKey.getEncoded(),za.publicKey.getEncoded()) && na;},uniqueKey:function va(){var na,ta;na=this.publicKey.getEncoded();ta=this.privateKey && this.privateKey.getEncoded();na=va.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + dc(na);ta && (na+=":" + dc(ta));return na;}});aa=function(va,na){Pa(na,function(){var ta,Da,oa,da;ta=va.keypairid;Da=va.mechanism;oa=va.publickey;if(!ta || "string" !== typeof ta || !Da || !oa || "string" !== typeof oa)throw new Eb(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(va));if(!ca[Da])throw new Ob(Y.UNIDENTIFIED_KEYX_MECHANISM,Da);try{da=Ib(oa);switch(Da){case ca.JWE_RSA:case ca.JWEJS_RSA:case ca.JWK_RSA:Dd(da,id,zc,{result:function(ia){na.result(new Z(ta,Da,ia,null));},error:function(ia){na.error(ia);}});break;case ca.JWK_RSAES:Dd(da,Bd,zc,{result:function(ia){na.result(new Z(ta,Da,ia,null));},error:function(ia){na.error(ia);}});break;default:throw new ub(Y.UNSUPPORTED_KEYX_MECHANISM,Da);}}catch(ia){if(!(ia instanceof db))throw new ub(Y.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(va),ia);throw ia;}});};ea=Be=Zc.extend({init:function da(na,ta,Da,oa){da.base.call(this,na,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:Da,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.keypairid=this.keyPairId;na.encryptionkey=Gb(this.encryptionKey);na.hmackey=Gb(this.hmacKey);return na;},equals:function Da(ta){return this === ta?!0:ta instanceof Be?Da.base.call(this,ta) && this.keyPairId == ta.keyPairId && cc(this.encryptionKey,ta.encryptionKey) && cc(this.hmacKey,ta.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + this.keyPairId + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});fe=ic.extend({init:function oa(){oa.base.call(this,gc.ASYMMETRIC_WRAPPED);},createRequestData:function(oa,da,ia){aa(da,ia);},createResponseData:function(oa,da,ia){var la,Ba,Sa,Na;oa=ia.keypairid;la=ia.encryptionkey;Ba=ia.hmackey;if(!oa || "string" !== typeof oa || !la || "string" !== typeof la || !Ba || "string" !== typeof Ba)throw new Eb(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ia));try{Sa=Ib(la);}catch(Ra){throw new ub(Y.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ia),Ra);}try{Na=Ib(Ba);}catch(Ra){throw new ub(Y.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ia),Ra);}return new ea(da,oa,Sa,Na);},generateResponse:function(oa,da,ia,la){var Na;function Ba(Ra,Ta){Pa(la,function(){var sa;sa=ja(oa,da.keyPairId,da.mechanism,null,da.publicKey);sa.wrap(Ra,{result:function(Ca){Pa(la,function(){sa.wrap(Ta,{result:function(Ha){Sa(Ra,Ca,Ta,Ha);},error:function(Ha){Pa(la,function(){Ha instanceof db && ia instanceof ec && Ha.setEntity(ia);throw Ha;},Na);}});},Na);},error:function(Ca){Pa(la,function(){Ca instanceof db && ia instanceof ec && Ca.setEntity(ia);throw Ca;},Na);}});},Na);}function Sa(Ra,Ta,sa,Ca){Pa(la,function(){var Ha;Ha=oa.getTokenFactory();ia instanceof ec?Ha.renewMasterToken(oa,ia,Ra,sa,{result:function(Ka){Pa(la,function(){var Fa,Ua;Fa=new hc(oa,Ka);Ua=new ea(Ka,da.keyPairId,Ta,Ca);return new ic.KeyExchangeData(Ua,Fa,la);},Na);},error:function(Ka){Pa(la,function(){Ka instanceof db && Ka.setEntity(ia);throw Ka;},Na);}}):Ha.createMasterToken(oa,ia,Ra,sa,{result:function(Ka){Pa(la,function(){var Fa,Ua;Fa=new hc(oa,Ka);Ua=new ea(Ka,da.keyPairId,Ta,Ca);return new ic.KeyExchangeData(Ua,Fa,la);},Na);},error:la.error});},Na);}Na=this;Pa(la,function(){if(!(da instanceof Z))throw new wb("Key request data " + JSON.stringify(da) + " was not created by this factory.");this.generateSessionKeys(oa,{result:function(Ra){Ba(Ra.encryptionKey,Ra.hmacKey);},error:function(Ra){Pa(la,function(){Ra instanceof db && ia instanceof ec && Ra.setEntity(ia);throw Ra;},Na);}});},Na);},getCryptoContext:function(oa,da,ia,la,Ba){var Sa;Sa=this;Pa(Ba,function(){var Na,Ra,Ta;if(!(da instanceof Z))throw new wb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ia instanceof ea))throw new wb("Key response data " + JSON.stringify(ia) + " was not created by this factory.");Na=da.keyPairId;Ra=ia.keyPairId;if(Na != Ra)throw new Ob(Y.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Na + "; response " + Ra).setEntity(la);Ra=da.privateKey;if(!Ra)throw new Ob(Y.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(la);Ta=ja(oa,Na,da.mechanism,Ra,null);Ta.unwrap(ia.encryptionKey,jc,yc,{result:function(sa){Ta.unwrap(ia.hmacKey,kc,Hc,{result:function(Ca){oa.getEntityAuthenticationData(null,{result:function(Ha){Pa(Ba,function(){var Ka;Ka=Ha.getIdentity();return new hc(oa,ia.masterToken,Ka,sa,Ca);},Sa);},error:function(Ha){Pa(Ba,function(){Ha instanceof db && Ha.setEntity(la);throw Ha;},Sa);}});},error:function(Ca){Pa(Ba,function(){Ca instanceof db && Ca.setEntity(la);throw Ca;},Sa);}});},error:function(sa){Pa(Ba,function(){sa instanceof db && sa.setEntity(la);throw sa;},Sa);}});},Sa);}});})();vf=Db.Class.create({init:function(ja){var ca,Z,aa,ea,ba,ma,za,va;ca=Xb.parser();Z=[];aa=[];za=0;va=!1;ca.onerror=function(na){va || (va=!0,ca.end());};ca.onopenobject=function(na){var ta;if(ea)(ea[ma]={},aa.push(ea),ea=ea[ma]);else if(ba){ta={};aa.push(ba);ba.push(ta);ea=ta;ba=Cb;}else ea={};ma=na;};ca.oncloseobject=function(){var na;na=aa.pop();na?"object" === typeof na?ea=na:(ea=Cb,ba=na):(Z.push(ea),za=ca.index,ea=Cb);};ca.onopenarray=function(){var na;if(ea)(ea[ma]=[],aa.push(ea),ba=ea[ma],ea=Cb);else if(ba){na=[];aa.push(ba);ba.push(na);ba=na;}else ba=[];};ca.onclosearray=function(){var na;na=aa.pop();na?"object" === typeof na?(ea=na,ba=Cb):ba=na:(Z.push(ba),za=ca.index,ba=Cb);};ca.onkey=function(na){ma=na;};ca.onvalue=function(na){ea?ea[ma]=na:ba?ba.push(na):(Z.push(na),za=ca.index);};ca.write(ja).close();Object.defineProperties(this,{_values:{value:Z,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:za,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Cb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ja,ca,Z,aa,ea;ja=Md="entityauthdata";ca=De="mastertoken";Z=Ee="headerdata";aa=Fe="errordata";ea=Nd="signature";Ce=function(ba,ma,za,va){Pa(va,function(){var na,ta,Da,oa,da,ia;na=ma[ja];ta=ma[ca];Da=ma[ea];if(na && "object" !== typeof na || ta && "object" !== typeof ta || "string" !== typeof Da)throw new Eb(Y.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));try{oa=Ib(Da);}catch(la){throw new Jb(Y.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ma),la);}da=null;na && (da=oe(ba,na));ia=ma[Z];if(ia != Cb && null != ia){if("string" !== typeof ia)throw new Eb(Y.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));ta?$c(ba,ta,{result:function(la){Od(ba,ia,da,la,oa,za,va);},error:function(la){va.error(la);}}):Od(ba,ia,da,null,oa,za,va);}else if((na=ma[aa],na != Cb && null != na)){if("string" !== typeof na)throw new Eb(Y.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));Ge(ba,na,da,oa,va);}else throw new Eb(Y.JSON_PARSE_ERROR,JSON.stringify(ma));});};})();(function(){function ja(ca,Z){this.errordata=ca;this.signature=Z;}Dc=Db.Class.create({init:function(ca,Z,aa,ea,ba,ma,za,va,na,ta){var Da;Da=this;Pa(ta,function(){var oa,da;0 > ma && (ma=-1);if(0 > ea || ea > Mb)throw new wb("Message ID " + ea + " is out of range.");if(!Z)throw new Jb(Y.MESSAGE_ENTITY_NOT_FOUND);if(na)return (Object.defineProperties(this,{entityAuthenticationData:{value:Z,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ma,writable:!1,configurable:!1},errorMessage:{value:za,writable:!1,configurable:!1},userMessage:{value:va,writable:!1,configurable:!1},errordata:{value:na.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:na.signature,writable:!1,enumerable:!1,configurable:!1}}),this);oa={};aa && (oa.recipient=aa);oa.messageid=ea;oa.errorcode=ba;0 < ma && (oa.internalcode=ma);za && (oa.errormsg=za);va && (oa.usermsg=va);try{da=ca.getEntityAuthenticationFactory(Z.scheme).getCryptoContext(ca,Z);}catch(ia){throw (ia instanceof db && (ia.setEntity(Z),ia.setMessageId(ea)),ia);}oa=bc(JSON.stringify(oa),Nb);da.encrypt(oa,{result:function(ia){Pa(ta,function(){da.sign(ia,{result:function(la){Pa(ta,function(){Object.defineProperties(this,{entityAuthenticationData:{value:Z,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ma,writable:!1,configurable:!1},errorMessage:{value:za,writable:!1,configurable:!1},userMessage:{value:va,writable:!1,configurable:!1},errordata:{value:ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;},Da);},error:function(la){Pa(ta,function(){la instanceof db && (la.setEntity(Z),la.setMessageId(ea));throw la;},Da);}});},Da);},error:function(ia){Pa(ta,function(){ia instanceof db && (ia.setEntity(Z),ia.setMessageId(ea));throw ia;},Da);}});},Da);},toJSON:function(){var ca;ca={};ca[Md]=this.entityAuthenticationData;ca[Fe]=Gb(this.errordata);ca[Nd]=Gb(this.signature);return ca;}});He=function(ca,Z,aa,ea,ba,ma,za,va,na){new Dc(ca,Z,aa,ea,ba,ma,za,va,null,na);};Ge=function(ca,Z,aa,ea,ba){Pa(ba,function(){var ma,za,va;if(!aa)throw new Jb(Y.MESSAGE_ENTITY_NOT_FOUND);try{ma=aa.scheme;za=ca.getEntityAuthenticationFactory(ma);if(!za)throw new mc(Y.ENTITYAUTH_FACTORY_NOT_FOUND,ma);va=za.getCryptoContext(ca,aa);}catch(na){throw (na instanceof db && na.setEntity(aa),na);}try{Z=Ib(Z);}catch(na){throw new Jb(Y.HEADER_DATA_INVALID,Z,na).setEntity(aa);}if(!Z || 0 == Z.length)throw new Jb(Y.HEADER_DATA_MISSING,Z).setEntity(aa);va.verify(Z,ea,{result:function(na){Pa(ba,function(){if(!na)throw new ub(Y.MESSAGE_VERIFICATION_FAILED).setEntity(aa);va.decrypt(Z,{result:function(ta){Pa(ba,function(){var Da,oa,da,ia,la,Ba,Sa,Na;Da=ac(ta,Nb);try{oa=JSON.parse(Da);}catch(Ta){if(Ta instanceof SyntaxError)throw new Eb(Y.JSON_PARSE_ERROR,"errordata " + Da,Ta).setEntity(aa);throw Ta;}da=oa.recipient !== Cb?oa.recipient:null;ia=parseInt(oa.messageid);la=parseInt(oa.errorcode);Ba=parseInt(oa.internalcode);Sa=oa.errormsg;Na=oa.usermsg;if(da && "string" !== typeof da || !ia || ia != ia || !la || la != la || oa.internalcode && Ba != Ba || Sa && "string" !== typeof Sa || Na && "string" !== typeof Na)throw new Eb(Y.JSON_PARSE_ERROR,"errordata " + Da).setEntity(aa);if(0 > ia || ia > Mb)throw new Jb(Y.MESSAGE_ID_OUT_OF_RANGE,"errordata " + Da).setEntity(aa);oa=!1;for(var Ra in Ia){if(Ia[Ra] == la){oa=!0;break;}}oa || (la=Ia.FAIL);if(Ba){if(0 > Ba)throw new Jb(Y.INTERNAL_CODE_NEGATIVE,"errordata " + Da).setEntity(aa).setMessageId(ia);}else Ba=-1;Da=new ja(Z,ea);new Dc(ca,aa,da,ia,la,Ba,Sa,Na,Da,ba);});},error:function(ta){Pa(ba,function(){ta instanceof db && ta.setEntity(aa);throw ta;});}});});},error:function(na){Pa(ba,function(){na instanceof db && na.setEntity(aa);throw na;});}});});};})();xf=Db.Class.create({getUserMessage:function(ja,ca){}});(function(){Pd=function(ja,ca){var Z;if(!ja || !ca)return null;Z=ja.compressionAlgorithms.filter(function(aa){for(var ea=0;ea < ca.compressionAlgorithms.length;++ea){if(aa == ca.compressionAlgorithms[ea])return !0;}return !1;});ja=ja.languages.filter(function(aa){for(var ea=0;ea < ca.languages.length;++ea){if(aa == ca.languages[ea])return !0;}return !1;});return new ad(Z,ja);};ad=Db.Class.create({init:function(ja,ca){ja || (ja=[]);ca || (ca=[]);ja.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ja,writable:!1,enumerable:!0,configurable:!1},languages:{value:ca,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ja;ja={};ja.compressionalgos=this.compressionAlgorithms;ja.languages=this.languages;return ja;},equals:function(ja){return this === ja?!0:ja instanceof ad?Zd(this.compressionAlgorithms,ja.compressionAlgorithms) && Zd(this.languages,ja.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Ie=function(ja){var ca,Z,ea;ca=ja.compressionalgos;Z=ja.languages;if(ca && !(ca instanceof Array) || Z && !(Z instanceof Array))throw new Eb(Y.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ja));ja=[];for(var aa=0;ca && aa < ca.length;++aa){ea=ca[aa];Fc[ea] && ja.push(ea);}return new ad(ja,Z);};})();(function(){var ta,Da;function ja(oa,da,ia,la,Ba){this.customer=oa;this.sender=da;this.messageCryptoContext=ia;this.headerdata=la;this.signature=Ba;}function ca(oa,da,ia,la,Ba,Sa,Na,Ra,Ta,sa,Ca,Ha,Ka,Fa,Ua,Ja,Wa,$a,Va,ib){return {cryptoContext:{value:da,writable:!1,configurable:!1},customer:{value:ia,writable:!1,configurable:!1},entityAuthenticationData:{value:la,writable:!1,configurable:!1},masterToken:{value:Ba,writable:!1,configurable:!1},sender:{value:Sa,writable:!1,configurable:!1},messageId:{value:Na,writable:!1,configurable:!1},nonReplayableId:{value:Ja,writable:!1,configurable:!1},keyRequestData:{value:Ra,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthenticationData:{value:sa,writable:!1,configurable:!1},userIdToken:{value:Ca,writable:!1,configurable:!1},serviceTokens:{value:Ha,writable:!1,configurable:!1},peerMasterToken:{value:Ka,writable:!1,configurable:!1},peerUserIdToken:{value:Fa,writable:!1,configurable:!1},peerServiceTokens:{value:Ua,writable:!1,configurable:!1},messageCapabilities:{value:$a,writable:!1,configurable:!1},renewable:{value:Wa,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:ib,writable:!1,enumerable:!1,configurable:!1}};}function Z(oa,da,ia){var la;if(ia){if(da=oa.getMslStore().getCryptoContext(ia))return da;if(!ia.isVerified() || !ia.isDecrypted())throw new Wc(Y.MASTERTOKEN_UNTRUSTED,ia);return new hc(oa,ia);}ia=da.scheme;la=oa.getEntityAuthenticationFactory(ia);if(!la)throw new mc(Y.ENTITYAUTH_FACTORY_NOT_FOUND,ia);return la.getCryptoContext(oa,da);}function aa(oa,da,ia,la,Ba){Pa(Ba,function(){da.verify(ia,la,{result:function(Sa){Pa(Ba,function(){if(!Sa)throw new ub(Y.MESSAGE_VERIFICATION_FAILED);da.decrypt(ia,{result:function(Na){Pa(Ba,function(){return ac(Na,Nb);});},error:function(Na){Ba.error(Na);}});});},error:function(Sa){Ba.error(Sa);}});});}function ea(oa,da,ia){Pa(ia,function(){if(da)ve(oa,da,ia);else return null;});}function ba(oa,da,ia,la){Pa(la,function(){if(da)qd(oa,da,ia,la);else return null;});}function ma(oa,da,ia,la){Pa(la,function(){if(ia)Me(oa,da,ia,la);else return null;});}function za(oa,da,ia,la,Ba,Sa,Na){var Ta;function Ra(sa,Ca,Ha){var Ka,Fa;if(Ca >= sa.length){Ka=[];for(Fa in Ta){Ka.push(Ta[Fa]);}Ha.result(Ka);}else {Ka=sa[Ca];if("object" !== typeof Ka)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + Sa);rd(oa,Ka,ia,la,Ba,{result:function(Ua){Pa(Ha,function(){Ta[Ua.uniqueKey()]=Ua;Ra(sa,Ca + 1,Ha);});},error:function(Ua){Ha.error(Ua);}});}}Ta={};Pa(Na,function(){if(da){if(!(da instanceof Array))throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + Sa);Ra(da,0,Na);}else return [];});}function va(oa,da,ia,la,Ba,Sa){function Na(Ta,sa,Ca){Pa(Ca,function(){var Ha;Ha=sa.peermastertoken;if(Ha && "object" !== typeof Ha)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + Ba);if(!Ha)return null;$c(Ta,Ha,Ca);});}function Ra(Ta,sa,Ca,Ha){Pa(Ha,function(){var Ka;Ka=sa.peeruseridtoken;if(Ka && "object" !== typeof Ka)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + Ba);if(!Ka)return null;qd(Ta,Ka,Ca,Ha);});}Pa(Sa,function(){if(!oa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Na(oa,da,{result:function(Ta){Pa(Sa,function(){var sa;sa=ia?ia.masterToken:Ta;Ra(oa,da,sa,{result:function(Ca){Pa(Sa,function(){za(oa,da.peerservicetokens,sa,Ca,la,Ba,{result:function(Ha){Pa(Sa,function(){return {peerMasterToken:Ta,peerUserIdToken:Ca,peerServiceTokens:Ha};});},error:function(Ha){Pa(Sa,function(){Ha instanceof db && (Ha.setEntity(sa),Ha.setUser(Ca));throw Ha;});}});});},error:function(Ca){Pa(Sa,function(){Ca instanceof db && Ca.setEntity(sa);throw Ca;});}});});},error:Sa.error});});}function na(oa,da,ia,la){var Sa;function Ba(Na,Ra){Pa(la,function(){if(Ra >= Na.length)return Sa;ue(oa,Na[Ra],{result:function(Ta){Pa(la,function(){Sa.push(Ta);Ba(Na,Ra + 1);});},error:function(Ta){la.error(Ta);}});});}Sa=[];Pa(la,function(){var Na;Na=da.keyrequestdata;if(!Na)return Sa;if(!(Na instanceof Array))throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + ia);Ba(Na,0);});}ta=Ke=Db.Class.create({init:function(oa,da,ia,la,Ba,Sa,Na,Ra,Ta){Object.defineProperties(this,{messageId:{value:oa,writable:!1,configurable:!1},nonReplayableId:{value:da,writable:!1,configurable:!1},renewable:{value:ia,writable:!1,configurable:!1},capabilities:{value:la,writable:!1,configurable:!1},keyRequestData:{value:Ba,writable:!1,configurable:!1},keyResponseData:{value:Sa,writable:!1,configurable:!1},userAuthData:{value:Na,writable:!1,configurable:!1},userIdToken:{value:Ra,writable:!1,configurable:!1},serviceTokens:{value:Ta,writable:!1,configurable:!1}});}});Da=Le=Db.Class.create({init:function(oa,da,ia){Object.defineProperties(this,{peerMasterToken:{value:oa,writable:!1,configurable:!1},peerUserIdToken:{value:da,writable:!1,configurable:!1},peerServiceTokens:{value:ia,writable:!1,configurable:!1}});}});bd=Db.Class.create({init:function(oa,da,ia,la,Ba,Sa,Na){var Ta;function Ra(sa){Pa(Na,function(){var Ca,Ha,Ka,Fa,Ua,Ja,Wa,$a,Va,ib,lb,pb,qb,rb,Ab,yb,r;da=ia?null:da;Ca=la.nonReplayableId;Ha=la.renewable;Ka=la.capabilities;Fa=la.messageId;Ua=la.keyRequestData?la.keyRequestData:[];Ja=la.keyResponseData;Wa=la.userAuthData;$a=la.userIdToken;Va=la.serviceTokens?la.serviceTokens:[];if(oa.isPeerToPeer()){ib=Ba.peerMasterToken;lb=Ba.peerUserIdToken;pb=Ba.peerServiceTokens?Ba.peerServiceTokens:[];}else (lb=ib=null,pb=[]);if(0 > Fa || Fa > Mb)throw new wb("Message ID " + Fa + " is out of range.");if(!da && !ia)throw new wb("Message entity authentication data or master token must be provided.");if(Ja){if(oa.isPeerToPeer()){qb=ia;rb=Ja.masterToken;}else (qb=Ja.masterToken,rb=ib);}else (qb=ia,rb=ib);if($a && (!qb || !$a.isBoundTo(qb)))throw new wb("User ID token must be bound to a master token.");if(lb && (!rb || !lb.isBoundTo(rb)))throw new wb("Peer user ID token must be bound to a peer master token.");Va.forEach(function(b){if(b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb)))throw new wb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!$a || !b.isBoundTo($a)))throw new wb("User ID token bound service tokens must be bound to the provided user ID token.");},this);pb.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new wb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!lb || !b.isBoundTo(lb)))throw new wb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Sa){r=Sa.customer;Ab=Sa.messageCryptoContext;yb=ca(oa,Ab,r,da,ia,sa,Fa,Ua,Ja,Wa,$a,Va,ib,lb,pb,Ca,Ha,Ka,Sa.headerdata,Sa.signature);Object.defineProperties(this,yb);return this;}r=$a?$a.customer:null;yb={};sa && (yb.sender=sa);yb.messageid=Fa;"number" === typeof Ca && (yb.nonreplayableid=Ca);yb.renewable=Ha;Ka && (yb.capabilities=Ka);0 < Ua.length && (yb.keyrequestdata=Ua);Ja && (yb.keyresponsedata=Ja);Wa && (yb.userauthdata=Wa);$a && (yb.useridtoken=$a);0 < Va.length && (yb.servicetokens=Va);ib && (yb.peermastertoken=ib);lb && (yb.peeruseridtoken=lb);0 < pb.length && (yb.peerservicetokens=pb);try{Ab=Z(oa,da,ia);}catch(b){throw (b instanceof db && (b.setEntity(ia),b.setEntity(da),b.setUser($a),b.setUser(Wa),b.setMessageId(Fa)),b);}yb=bc(JSON.stringify(yb),Nb);Ab.encrypt(yb,{result:function(b){Pa(Na,function(){Ab.sign(b,{result:function(a){Pa(Na,function(){var d;d=ca(oa,Ab,r,da,ia,sa,Fa,Ua,Ja,Wa,$a,Va,ib,lb,pb,Ca,Ha,Ka,b,a);Object.defineProperties(this,d);return this;},Ta);},error:function(a){Pa(Na,function(){a instanceof db && (a.setEntity(ia),a.setEntity(da),a.setUser($a),a.setUser(Wa),a.setMessageId(Fa));throw a;},Ta);}});},Ta);},error:function(b){Pa(Na,function(){b instanceof db && (b.setEntity(ia),b.setEntity(da),b.setUser($a),b.setUser(Wa),b.setMessageId(Fa));throw b;},Ta);}});},Ta);}Ta=this;Pa(Na,function(){Sa?Ra(Sa.sender):ia?oa.getEntityAuthenticationData(null,{result:function(sa){sa=sa.getIdentity();Ra(sa);},error:Na.error}):Ra(null);},Ta);},isEncrypting:function(){return this.masterToken || xd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var oa;oa={};this.masterToken?oa[De]=this.masterToken:oa[Md]=this.entityAuthenticationData;oa[Ee]=Gb(this.headerdata);oa[Nd]=Gb(this.signature);return oa;}});Je=function(oa,da,ia,la,Ba,Sa){new bd(oa,da,ia,la,Ba,null,Sa);};Od=function(oa,da,ia,la,Ba,Sa,Na){Pa(Na,function(){var Ra,Ta;ia=la?null:ia;if(!ia && !la)throw new Jb(Y.MESSAGE_ENTITY_NOT_FOUND);Ra=da;try{da=Ib(Ra);}catch(sa){throw new Jb(Y.HEADER_DATA_INVALID,Ra,sa);}if(!da || 0 == da.length)throw new Jb(Y.HEADER_DATA_MISSING,Ra);try{Ta=Z(oa,ia,la);}catch(sa){throw (sa instanceof db && (sa.setEntity(la),sa.setEntity(ia)),sa);}aa(oa,Ta,da,Ba,{result:function(sa){Pa(Na,function(){var Ca,Ha,Ka,Fa,Ua;try{Ca=JSON.parse(sa);}catch(Ja){if(Ja instanceof SyntaxError)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + sa,Ja).setEntity(la).setEntity(ia);throw Ja;}Ha=parseInt(Ca.messageid);if(!Ha || Ha != Ha)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + sa).setEntity(la).setEntity(ia);if(0 > Ha || Ha > Mb)throw new Jb(Y.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + sa).setEntity(la).setEntity(ia);Ka=la?Ca.sender:null;if(la && (!Ka || "string" !== typeof Ka))throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + sa).setEntity(la).setEntity(ia).setMessageId(Ha);Fa=Ca.keyresponsedata;if(Fa && "object" !== typeof Fa)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + sa).setEntity(la).setEntity(ia).setMessageId(Ha);Ua=Na;Na={result:function(Ja){Ua.result(Ja);},error:function(Ja){Ja instanceof db && (Ja.setEntity(la),Ja.setEntity(ia),Ja.setMessageId(Ha));Ua.error(Ja);}};ea(oa,Fa,{result:function(Ja){Pa(Na,function(){var Wa,$a;Wa=!oa.isPeerToPeer() && Ja?Ja.masterToken:la;$a=Ca.useridtoken;if($a && "object" !== typeof $a)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + sa);ba(oa,$a,Wa,{result:function(Va){Pa(Na,function(){var ib;ib=Ca.userauthdata;if(ib && "object" !== typeof ib)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + sa);ma(oa,Wa,ib,{result:function(lb){Pa(Na,function(){var pb,qb,rb;if(lb){pb=lb.scheme;qb=oa.getUserAuthenticationFactory(pb);if(!qb)throw new xc(Y.USERAUTH_FACTORY_NOT_FOUND,pb).setUser(Va).setUser(lb);pb=la?la.identity:ia.getIdentity();rb=qb.authenticate(oa,pb,lb,Va);}else rb=Va?Va.customer:null;za(oa,Ca.servicetokens,Wa,Va,Sa,sa,{result:function(Ab){Pa(Na,function(){var yb,r,b,a;yb=Ca.nonreplayableid !== Cb?parseInt(Ca.nonreplayableid):null;r=Ca.renewable;if(yb != yb || "boolean" !== typeof r)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + sa);if(0 > yb || yb > Mb)throw new Jb(Y.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + sa);b=null;a=Ca.capabilities;if(a){if("object" !== typeof a)throw new Eb(Y.JSON_PARSE_ERROR,"headerdata " + sa);b=Ie(a);}na(oa,Ca,sa,{result:function(d){va(oa,Ca,Ja,Sa,sa,{result:function(l){Pa(Na,function(){var h,n,c,f;h=l.peerMasterToken;n=l.peerUserIdToken;c=l.peerServiceTokens;f=new ta(Ha,yb,r,b,d,Ja,lb,Va,Ab);h=new Da(h,n,c);n=new ja(rb,Ka,Ta,da,Ba);new bd(oa,ia,la,f,h,n,Na);});},error:Na.error});},error:function(d){Pa(Na,function(){d instanceof db && (d.setUser(Va),d.setUser(lb));throw d;});}});});},error:function(Ab){Pa(Na,function(){Ab instanceof db && (Ab.setEntity(Wa),Ab.setUser(Va),Ab.setUser(lb));throw Ab;});}});});},error:Na.error});});},error:Na.error});});},error:Na.error});});},error:Na.error});});};})();(function(){function ja(ca,Z){this.payload=ca;this.signature=Z;}Qd=Db.Class.create({init:function(ca,Z,aa,ea,ba,ma,za,va){var na;na=this;Pa(va,function(){var ta,Da;if(0 > ca || ca > Mb)throw new wb("Sequence number " + ca + " is outside the valid range.");if(0 > Z || Z > Mb)throw new wb("Message ID " + Z + " is outside the valid range.");if(za)return (Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Z,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:za.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:za.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){ta=Rd(ea,ba);ta || (ea=null,ta=ba);}else (ea=null,ta=ba);Da={};Da.sequencenumber=ca;Da.messageid=Z;aa && (Da.endofmsg=aa);ea && (Da.compressionalgo=ea);Da.data=Gb(ta);ta=bc(JSON.stringify(Da),Nb);ma.encrypt(ta,{result:function(oa){Pa(va,function(){ma.sign(oa,{result:function(da){Pa(va,function(){Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Z,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;},na);},error:function(da){va.error(da);}});},na);},error:function(oa){va.error(oa);}});},na);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ca;ca={};ca.payload=Gb(this.payload);ca.signature=Gb(this.signature);return ca;}});Ne=function(ca,Z,aa,ea,ba,ma,za){new Qd(ca,Z,aa,ea,ba,ma,null,za);};Oe=function(ca,Z,aa){Pa(aa,function(){var ea,ba,ma,za;ea=ca.payload;ba=ca.signature;if(!ea || "string" !== typeof ea || "string" !== typeof ba)throw new Eb(Y.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ca));try{ma=Ib(ea);}catch(va){throw new Jb(Y.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ca),va);}try{za=Ib(ba);}catch(va){throw new Jb(Y.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ca),va);}Z.verify(ma,za,{result:function(va){Pa(aa,function(){if(!va)throw new ub(Y.PAYLOAD_VERIFICATION_FAILED);Z.decrypt(ma,{result:function(na){Pa(aa,function(){var ta,Da,oa,da,ia,la,Ba;ta=ac(na,Nb);try{Da=JSON.parse(ta);}catch(Sa){if(Sa instanceof SyntaxError)throw new Eb(Y.JSON_PARSE_ERROR,"payload chunk payload " + ta,Sa);throw Sa;}oa=parseInt(Da.sequencenumber);da=parseInt(Da.messageid);ia=Da.endofmsg;la=Da.compressionalgo;Da=Da.data;if(!oa || oa != oa || !da || da != da || ia && "boolean" !== typeof ia || la && "string" !== typeof la || "string" !== typeof Da)throw new Eb(Y.JSON_PARSE_ERROR,"payload chunk payload " + ta);if(0 > oa || oa > Mb)throw new db(Y.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + ta);if(0 > da || da > Mb)throw new db(Y.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + ta);ia || (ia=!1);if(la && !Fc[la])throw new Jb(Y.UNIDENTIFIED_COMPRESSION,la);try{Ba=Ib(Da);}catch(Sa){throw new Jb(Y.PAYLOAD_DATA_CORRUPT,Da,Sa);}if(Ba && 0 != Ba.length)ta=la?sd(la,Ba):Ba;else {if(0 < Da.length)throw new Jb(Y.PAYLOAD_DATA_CORRUPT,Da);if(ia)ta=new Uint8Array(0);else throw new Jb(Y.PAYLOAD_DATA_MISSING,Da);}Ba=new ja(ma,za);new Qd(oa,da,ia,la,ta,Z,Ba,aa);});},error:function(na){aa.error(na);}});});},error:function(va){aa.error(va);}});});};})();(function(){var aa,ea;function ja(ba,ma,za,va,na){var Da,oa,da,ia,la;function ta(){Pa(na,function(){var Ba,Sa;oa >= ma.length && (oa=0,++Da);if(Da >= da.length){if(ia)throw ia;throw new Ob(Y.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ma));}Ba=da[Da];Sa=ma[oa];Ba.scheme != Sa.keyExchangeScheme?(++oa,ta()):Ba.generateResponse(ba,Sa,la,{result:function(Na){na.result(Na);},error:function(Na){Pa(na,function(){if(!(Na instanceof db))throw Na;ia=Na;++oa;ta();});}});});}Da=0;oa=0;da=ba.getKeyExchangeFactories();la=za?za:va;ta();}function ca(ba,ma,za,va,na){Pa(na,function(){var ta;ta=ma.keyRequestData;if(ma.isRenewable() && 0 < ta.length)va?va.isRenewable() || va.isExpired()?ja(ba,ta,va,null,na):ba.getTokenFactory().isNewestMasterToken(ba,va,{result:function(Da){Pa(na,function(){if(Da)return null;ja(ba,ta,va,null,na);});},error:na.error}):ja(ba,ta,null,za.getIdentity(),na);else return null;});}function Z(ba,ma,za,va){Pa(va,function(){var na,ta,Da,oa;na=ma.userIdToken;ta=ma.userAuthenticationData;Da=ma.messageId;if(na && na.isVerified()){if(na.isRenewable() && ma.isRenewable() || na.isExpired() || !na.isBoundTo(za)){ta=ba.getTokenFactory();ta.renewUserIdToken(ba,na,za,va);return;}}else if(ma.isRenewable() && za && ta){na=ma.customer;if(!na){na=ta.scheme;oa=ba.getUserAuthenticationFactory(na);if(!oa)throw new xc(Y.USERAUTH_FACTORY_NOT_FOUND,na).setEntity(za).setUser(ta).setMessageId(Da);na=oa.authenticate(ba,za.identity,ta,null);}ta=ba.getTokenFactory();ta.createUserIdToken(ba,na,za,va);return;}return na;});}aa=new Uint8Array(0);ea=Ic=function(ba){if(0 > ba || ba > Mb)throw new wb("Message ID " + ba + " is outside the valid range.");return ba == Mb?0:ba + 1;};Rc=function(ba){if(0 > ba || ba > Mb)throw new wb("Message ID " + ba + " is outside the valid range.");return 0 == ba?Mb:ba - 1;};Jc=function(ba,ma,za,va,na){Pa(na,function(){var ta;if(va == Cb || null == va){ta=ba.getRandom();do {va=ta.nextLong();}while(0 > va || va > Mb);}else if(0 > va || va > Mb)throw new wb("Message ID " + va + " is outside the valid range.");ba.getEntityAuthenticationData(null,{result:function(Da){Pa(na,function(){var oa;oa=ba.getMessageCapabilities();return new td(ba,va,oa,Da,ma,za,null,null,null,null,null);});},error:function(Da){na.error(Da);}});});};Pe=function(ba,ma,za){Pa(za,function(){var na,ta,Da,oa,da,ia;function va(la){Pa(za,function(){la instanceof db && (la.setEntity(na),la.setEntity(ta),la.setUser(Da),la.setUser(oa),la.setMessageId(da));throw la;});}na=ma.masterToken;ta=ma.entityAuthenticationData;Da=ma.userIdToken;oa=ma.userAuthenticationData;da=ma.messageId;ia=ea(da);ca(ba,ma,ta,na,{result:function(la){Pa(za,function(){var Ba;Ba=la?la.keyResponseData.masterToken:Ba=na;ba.getEntityAuthenticationData(null,{result:function(Sa){Pa(za,function(){Z(ba,ma,Ba,{result:function(Na){Pa(za,function(){var Ra,Ta,sa;Da=Na;Ra=Pd(ma.messageCapabilities,ba.getMessageCapabilities());Ta=ma.keyResponseData;sa=ma.serviceTokens;return ba.isPeerToPeer()?new td(ba,ia,Ra,Sa,Ta?Ta.masterToken:ma.peerMasterToken,ma.peerUserIdToken,ma.peerServiceTokens,na,Da,sa,la):new td(ba,ia,Ra,Sa,Ta?Ta.masterToken:na,Da,sa,null,null,null,la);});},error:va});});},error:va});});},error:va});});};Qe=function(ba,ma,za,va,na){Pa(na,function(){ba.getEntityAuthenticationData(null,{result:function(ta){Pa(na,function(){var Da,oa;if(ma != Cb && null != ma)Da=ea(ma);else {oa=ba.getRandom();do {Da=oa.nextInt();}while(0 > Da || Da > Mb);}He(ba,ta,Da,za.responseCode,za.internalCode,za.message,va,na);});},error:function(ta){na.error(ta);}});});};td=Db.Class.create({init:function(ba,ma,za,va,na,ta,Da,oa,da,ia,la){var Ba,Sa,Na,Ra,Ta;if(!ba.isPeerToPeer() && (oa || da))throw new wb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");Ba=la && !ba.isPeerToPeer()?la.keyResponseData.masterToken:na;Sa=[];Ba=ba.getMslStore().getServiceTokens(Ba,ta);Sa.push.apply(Sa,Ba);Da && Da.forEach(function(sa){Sa.push(sa);},this);Na=[];if(ba.isPeerToPeer()){Ra=oa;Ta=da;Da=la?la.keyResponseData.masterToken:oa;da=ba.getMslStore().getServiceTokens(Da,da);Na.push.apply(Na,da);ia && ia.forEach(function(sa){Na.push(sa);},this);}Object.defineProperties(this,{_ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:va,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:na,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ma,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:za,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:la,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:ta,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Na,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || xd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || xd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || $d(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || $d(this._entityAuthData.scheme);},getHeader:function(ba){Pa(ba,function(){var ma,za,va;ma=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;za=[];for(va in this._keyRequestData){za.push(this._keyRequestData[va]);}if(this._nonReplayable){if(!this._masterToken)throw new Jb(Y.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);va=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else va=null;ma=new Ke(this._messageId,va,this._renewable,this._capabilities,za,ma,this._userAuthData,this._userIdToken,this._serviceTokens);za=new Le(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Je(this._ctx,this._entityAuthData,this._masterToken,ma,za,ba);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(ba){this._nonReplayable=ba;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(ba){this._renewable=ba;return this;},setAuthTokens:function(ba,ma){var za,na;if(ma && !ma.isBoundTo(ba))throw new wb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new wb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{za=this._ctx.getMslStore().getServiceTokens(ba,ma);}catch(ta){if(ta instanceof db)throw new wb("Invalid master token and user ID token combination despite checking above.",ta);throw ta;}for(var va=this._serviceTokens.length - 1;0 <= va;--va){na=this._serviceTokens[va];(na.isUserIdTokenBound() && !na.isBoundTo(ma) || na.isMasterTokenBound() && !na.isBoundTo(ba)) && this._serviceTokens.splice(va,1);}za.forEach(function(ta){this.excludeServiceToken(ta.name,ta.isMasterTokenBound(),ta.isUserIdTokenBound());this._serviceTokens.push(ta);},this);this._masterToken=ba;this._userIdToken=ma;},setUserAuthenticationData:function(ba){this._userAuthData=ba;return this;},setCustomer:function(ba,ma){var za;za=this;Pa(ma,function(){var va;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new wb("User ID token or peer user ID token already exists for the remote user.");va=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!va)throw new wb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,ba,va,{result:function(na){Pa(ma,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=na:(this._userIdToken=na,this._userAuthData=null);return !0;},za);},error:function(na){ma.error(na);}});},za);},addKeyRequestData:function(ba){this._keyRequestData[ba.uniqueKey()]=ba;return this;},removeKeyRequestData:function(ba){delete this._keyRequestData[ba.uniqueKey()];return this;},addServiceToken:function(ba){var ma;ma=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(ba.isMasterTokenBound() && !ba.isBoundTo(ma))throw new Jb(Y.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(ma)).setEntity(ma);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._userIdToken))throw new Jb(Y.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ma).setUser(this._userIdToken);this.excludeServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._serviceTokens.push(ba);return this;},addServiceTokenIfAbsent:function(ba){var za;for(var ma=this._serviceTokens.length - 1;0 <= ma;--ma){za=this._serviceTokens[ma];if(za.name == ba.name && za.isMasterTokenBound() == ba.isMasterTokenBound() && za.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addServiceToken(ba);return this;},excludeServiceToken:function(){var ba,ma,za,na;if(1 == arguments.length){ba=arguments[0];ma=ba.name;za=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ma=arguments[0],za=arguments[1],ba=arguments[2]);for(var va=this._serviceTokens.length - 1;0 <= va;--va){na=this._serviceTokens[va];na.name == ma && na.isMasterTokenBound() == za && na.isUserIdTokenBound() == ba && this._serviceTokens.splice(va,1);}return this;},deleteServiceToken:function(){var ba,ma,za,va;if(2 == arguments.length){ba=arguments[0];ma=ba.name;ba.isMasterTokenBound();ba.isUserIdTokenBound();za=arguments[1];}else (arguments.length=4,ma=arguments[0],za=arguments[3]);va=this;Pa(za,function(){var na,ta;na=originalToken.isMasterTokenBound()?this._masterToken:null;ta=originalToken.isUserIdTokenBound()?this._userIdToken:null;uc(this._ctx,ma,aa,na,ta,!1,null,new Qc(),{result:function(Da){Pa(za,function(){return this.addServiceToken(Da);},va);},error:function(Da){Da instanceof db && (Da=new wb("Failed to create and add empty service token to message.",Da));za.error(Da);}});},va);},getServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._serviceTokens);return ba;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(ba,ma){var za,na;if(!this._ctx.isPeerToPeer())throw new wb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ma && !ba)throw new wb("Peer master token cannot be null when setting peer user ID token.");if(ma && !ma.isBoundTo(ba))throw new Jb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ma + "; mt " + ba).setEntity(ba).setUser(ma);try{za=this._ctx.getMslStore().getServiceTokens(ba,ma);}catch(ta){if(ta instanceof db)throw new wb("Invalid peer master token and user ID token combination despite proper check.",ta);throw ta;}for(var va=this._peerServiceTokens.length - 1;0 <= va;--va){na=this._peerServiceTokens[va];(na.isUserIdTokenBound() && !na.isBoundTo(ma) || na.isMasterTokenBound() && !na.isBoundTo(ba)) && this._peerServiceTokens.slice(va,1);}za.forEach(function(ta){this.excludePeerServiceToken(ta.name,ta.isMasterTokenBound(),ta.isUserIdTokenBound());this._peerServiceTokens.push(ta);},this);this._peerUserIdToken=ma;this._peerMasterToken=ba;return this;},addPeerServiceToken:function(ba){if(!this._ctx.isPeerToPeer())throw new wb("Cannot set peer service tokens when not in peer-to-peer mode.");if(ba.isMasterTokenBound() && !ba.isBoundTo(this._peerMasterToken))throw new Jb(Y.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._peerUserIdToken))throw new Jb(Y.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._peerServiceTokens.push(ba);return this;},addPeerServiceTokenIfAbsent:function(ba){var za;for(var ma=this._peerServiceTokens.length - 1;0 <= ma;--ma){za=this._peerServiceTokens[ma];if(za.name == ba.name && za.isMasterTokenBound() == ba.isMasterTokenBound() && za.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addPeerServiceToken(ba);return this;},excludePeerServiceToken:function(){var ba,ma,za,na;if(1 == arguments.length){ba=arguments[0];ma=ba.name;za=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ma=arguments[0],za=arguments[1],ba=arguments[2]);for(var va=this._peerServiceTokens.length - 1;0 <= va;--va){na=this._peerServiceTokens[va];na.name == ma && na.isMasterTokenBound() == za && na.isUserIdTokenBound() == ba && this._peerServiceTokens.splice(va,1);}return this;},deletePeerServiceToken:function(){var ba,ma,za,va,na,ta;if(2 == arguments.length){ba=arguments[0];ma=ba.name;za=ba.isMasterTokenBound();va=ba.isUserIdTokenBound();na=arguments[1];}else (arguments.length=4,ma=arguments[0],za=arguments[1],va=arguments[2],na=arguments[3]);ta=this;Pa(na,function(){uc(this._ctx,ma,aa,za?this._peerMasterToken:null,va?this._peerUserIdToken:null,!1,null,new Qc(),{result:function(Da){Pa(na,function(){return this.addPeerServiceToken(Da);},ta);},error:function(Da){Da instanceof db && (Da=new wb("Failed to create and add empty peer service token to message.",Da));na.error(Da);}});},ta);},getPeerServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._peerServiceTokens);return ba;}});})();(function(){function ja(Z,aa){return aa[Z]?aa[Z]:aa[""];}function ca(Z){var aa;aa=Z.builder.getKeyExchangeData();return aa && !Z.ctx.isPeerToPeer()?aa.keyResponseData.masterToken:Z.builder.getMasterToken();}Re=Db.Class.create({init:function(Z,aa,ea){Z={ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:aa.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},isPrimaryMasterTokenAvailable:function(){return ca(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(Z){try{return (this.builder.addServiceToken(Z),!0);}catch(aa){if(aa instanceof Jb)return !1;throw aa;}},addPeerServiceToken:function(Z){try{return (this.builder.addPeerServiceToken(Z),!0);}catch(aa){if(aa instanceof Jb)return !1;throw aa;}},addUnboundPrimaryServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Pa(ma,function(){var va;va=ja(Z,this.cryptoContexts);if(!va)return !1;uc(this.ctx,Z,aa,null,null,ea,ba,va,{result:function(na){Pa(ma,function(){try{this.builder.addServiceToken(na);}catch(ta){if(ta instanceof Jb)throw new wb("Service token bound to incorrect authentication tokens despite being unbound.",ta);throw ta;}return !0;},za);},error:function(na){ma.error(na);}});},za);},addUnboundPeerServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Pa(ma,function(){var va;va=ja(Z,this.cryptoContexts);if(!va)return !1;uc(this.ctx,Z,aa,null,null,ea,ba,va,{result:function(na){Pa(ma,function(){try{this.builder.addPeerServiceToken(na);}catch(ta){if(ta instanceof Jb)throw new wb("Service token bound to incorrect authentication tokens despite being unbound.",ta);throw ta;}return !0;},za);},error:function(na){ma.error(na);}});},za);},addMasterBoundPrimaryServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Pa(ma,function(){var va,na;va=ca(this);if(!va)return !1;na=ja(Z,this.cryptoContexts);if(!na)return !1;uc(this.ctx,Z,aa,va,null,ea,ba,na,{result:function(ta){Pa(ma,function(){try{this.builder.addServiceToken(ta);}catch(Da){if(Da instanceof Jb)throw new wb("Service token bound to incorrect authentication tokens despite setting correct master token.",Da);throw Da;}return !0;},za);},error:function(ta){ma.error(ta);}});},za);},addMasterBoundPeerServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Pa(ma,function(){var va,na;va=this.builder.getPeerMasterToken();if(!va)return !1;na=ja(Z,this.cryptoContexts);if(!na)return !1;uc(this.ctx,Z,aa,va,null,ea,ba,na,{result:function(ta){Pa(ma,function(){try{this.builder.addPeerServiceToken(ta);}catch(Da){if(Da instanceof Jb)throw new wb("Service token bound to incorrect authentication tokens despite setting correct master token.",Da);throw Da;}return !0;},za);},error:function(ta){ma.error(ta);}});},za);},addUserBoundPrimaryServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Pa(ma,function(){var va,na,ta;va=ca(this);if(!va)return !1;na=this.builder.getUserIdToken();if(!na)return !1;ta=ja(Z,this.cryptoContexts);if(!ta)return !1;uc(this.ctx,Z,aa,va,na,ea,ba,ta,{result:function(Da){Pa(ma,function(){try{this.builder.addServiceToken(Da);}catch(oa){if(oa instanceof Jb)throw new wb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},za);},error:function(Da){ma.error(Da);}});},za);},addUserBoundPeerServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Pa(ma,function(){var va,na,ta;va=this.builder.getPeerMasterToken();if(!va)return !1;na=this.builder.getPeerUserIdToken();if(!na)return !1;ta=ja(Z,this.cryptoContexts);if(!ta)return !1;uc(this.ctx,Z,aa,va,na,ea,ba,ta,{result:function(Da){Pa(ma,function(){try{this.builder.addPeerServiceToken(Da);}catch(oa){if(oa instanceof Jb)throw new wb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},za);},error:function(Da){ma.error(Da);}});},za);},excludePrimaryServiceToken:function(){var Z,aa,ea,ba;if(1 == arguments.length){Z=arguments[0];aa=Z.name;ea=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ea=arguments[1],ba=arguments[2]);for(var ma=this.builder.getServiceTokens(),za=0;za < ma.length;++za){if((Z=ma[za],Z.name == aa && Z.isMasterTokenBound() == ea && Z.isUserIdTokenBound() == ba))return (this.builder.excludeServiceToken(aa,ea,ba),!0);}return !1;},excludePeerServiceToken:function(){var Z,aa,ea,ba;if(1 == arguments.length){Z=arguments[0];aa=Z.name;ea=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ea=arguments[1],ba=arguments[2]);for(var ma=this.builder.getPeerServiceTokens(),za=0;za < ma.length;++za){if((Z=ma[za],Z.name == aa && Z.isMasterTokenBound() == ea && Z.isUserIdTokenBound() == ba))return (this.builder.excludePeerServiceToken(aa,ea,ba),!0);}return !1;},deletePrimaryServiceToken:function(){var Z,aa,ea,ba,ma;if(2 == arguments.length){Z=arguments[0];aa=Z.name;ea=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();ma=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ea=arguments[1],ba=arguments[2],ma=arguments[3]);Pa(ma,function(){var na;for(var za=this.builder.getServiceTokens(),va=0;va < za.length;++va){na=za[va];if(na.name == aa && na.isMasterTokenBound() == ea && na.isUserIdTokenBound() == ba){this.builder.deleteServiceToken(aa,ea,ba,{result:function(){ma.result(!0);},error:function(ta){ma.error(ta);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var Z,aa,ea,ba,ma;if(2 == arguments.length){Z=arguments[0];aa=Z.name;ea=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();ma=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ea=arguments[1],ba=arguments[2],ma=arguments[3]);Pa(ma,function(){var na;for(var za=this.builder.getPeerServiceTokens(),va=0;va < za.length;++va){na=za[va];if(na.name == aa && na.isMasterTokenBound() == ea && na.isUserIdTokenBound() == ba){this.builder.deletePeerServiceToken(aa,ea,ba,{result:function(){ma.result(!0);},error:function(ta){ma.error(ta);}});return;}}return !1;},this);}});})();(function(){function ja(ca,Z,aa,ea){Pa(ea,function(){var ma,za,va,na,ta,Da;function ba(){Pa(ea,function(){var oa;if(Da >= aa.length){if(ta)throw ta;throw new Ob(Y.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(aa));}oa=aa[Da];va != oa.keyExchangeScheme?(++Da,ba()):na.getCryptoContext(ca,oa,za,ma,{result:ea.result,error:function(da){Pa(ea,function(){if(!(da instanceof db))throw da;ta=da;++Da;ba();});}});});}ma=Z.masterToken;za=Z.keyResponseData;if(!za)return null;va=za.keyExchangeScheme;na=ca.getKeyExchangeFactory(va);if(!na)throw new Ob(Y.KEYX_FACTORY_NOT_FOUND,va);Da=0;ba();});}Se=Ld.extend({init:function(ca,Z,aa,ea,ba,ma,za){var va;va=this;ab(za,function(){var ia;function na(){va._ready=!0;va._readyQueue.add(!0);}function ta(la,Ba){var Sa;try{Sa=Ba.masterToken;la.getTokenFactory().isMasterTokenRevoked(la,Sa,{result:function(Na){Na?(va._errored=new Wc(Na,Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):Da(la,Ba);},error:function(Na){Na instanceof db && (Na.setEntity(Ba.masterToken),Na.setUser(Ba.userIdToken),Na.setUser(Ba.userAuthenticationData),Na.setMessageId(Ba.messageId));va._errored=Na;na();}});}catch(Na){Na instanceof db && (Na.setEntity(Ba.masterToken),Na.setUser(Ba.userIdToken),Na.setUser(Ba.userAuthenticationData),Na.setMessageId(Ba.messageId));va._errored=Na;na();}}function Da(la,Ba){var Sa,Na;try{Sa=Ba.masterToken;Na=Ba.userIdToken;Na?la.getTokenFactory().isUserIdTokenRevoked(la,Sa,Na,{result:function(Ra){Ra?(va._errored=new MslUserIdTokenException(Ra,Na).setEntity(Sa).setUser(Na).setMessageId(Ba.messageId),na()):oa(la,Ba);},error:function(Ra){Ra instanceof db && (Ra.setEntity(Ba.masterToken),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));va._errored=Ra;na();}}):oa(la,Ba);}catch(Ra){Ra instanceof db && (Ra.setEntity(Ba.masterToken),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));va._errored=Ra;na();}}function oa(la,Ba){var Sa;try{Sa=Ba.masterToken;Sa.isExpired()?Ba.isRenewable() && 0 != Ba.keyRequestData.length?la.getTokenFactory().isMasterTokenRenewable(la,Sa,{result:function(Na){Na?(va._errored=new Jb(Na,"Master token is expired and not renewable.").setEntity(Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):da(la,Ba);},error:function(Na){Na instanceof db && (Na.setEntity(Ba.masterToken),Na.setUser(Ba.userIdToken),Na.setUser(Ba.userAuthenticationData),Na.setMessageId(Ba.messageId));va._errored=Na;na();}}):(va._errored=new Jb(Y.MESSAGE_EXPIRED,JSON.stringify(Ba)).setEntity(Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):da(la,Ba);}catch(Na){Na instanceof db && (Na.setEntity(Ba.masterToken),Na.setUser(Ba.userIdToken),Na.setUser(Ba.userAuthenticationData),Na.setMessageId(Ba.messageId));va._errored=Na;na();}}function da(la,Ba){var Sa,Na;try{Sa=Ba.masterToken;Na=Ba.nonReplayableId;"number" === typeof Na?Sa?la.getTokenFactory().acceptNonReplayableId(la,Sa,Na,{result:function(Ra){Ra || (va._errored=new Jb(Y.MESSAGE_REPLAYED,JSON.stringify(Ba)).setEntity(Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId));na();},error:function(Ra){Ra instanceof db && (Ra.setEntity(Sa),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));va._errored=Ra;na();}}):(va._errored=new Jb(Y.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(Ba)).setEntity(Ba.entityAuthenticationData).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):na();}catch(Ra){Ra instanceof db && (Ra.setEntity(Ba.masterToken),Ra.setEntity(Ba.entityAuthenticationData),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));va._errored=Ra;na();}}ia={_source:{value:Z,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:aa,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ma,writable:!1,enumerable:!1,configurable:!1},_header:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Cb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Uc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);te(va._source,ma,{result:function(la){va._json=la;va._jsonIndex=0;null === va._json?(va._errored=new Eb(Y.MESSAGE_DATA_MISSING),na()):Ce(ca,va._json[va._jsonIndex++],ba,{result:function(Ba){var Sa;va._header=Ba;if(va._header instanceof Dc)(va._keyxCryptoContext=null,va._cryptoContext=null,na());else {Sa=va._header;ja(ca,Sa,ea,{result:function(Na){var Ra;try{va._keyxCryptoContext=Na;ca.isPeerToPeer() || !va._keyxCryptoContext?va._cryptoContext=Sa.cryptoContext:va._cryptoContext=va._keyxCryptoContext;try{Ra=Sa.masterToken;Ra && (ca.isPeerToPeer() || Ra.isVerified())?ta(ca,Sa):da(ca,Sa);}catch(Ta){Ta instanceof db && (Ta.setEntity(Sa.masterToken),Ta.setUser(Sa.userIdToken),Ta.setUser(Sa.userAuthenticationData),Ta.setMessageId(Sa.messageId));va._errored=Ta;na();}}catch(Ta){Ta instanceof db && (Ta.setEntity(Sa.masterToken),Ta.setEntity(Sa.entityAuthenticationData),Ta.setUser(Sa.userIdToken),Ta.setUser(Sa.userAuthenticationData),Ta.setMessageId(Sa.messageId));va._errored=Ta;na();}},error:function(Na){Na instanceof db && (Na.setEntity(Sa.masterToken),Na.setEntity(Sa.entityAuthenticationData),Na.setUser(Sa.userIdToken),Na.setUser(Sa.userAuthenticationData),Na.setMessageId(Sa.messageId));va._errored=Na;na();}});}},error:function(Ba){va._errored=Ba;na();}});},timeout:function(){va._timedout=!0;na();},error:function(la){va._errored=la;na();}});return this;},va);},nextData:function(ca,Z){var aa;aa=this;ab(Z,function(){var ba;function ea(ma){ab(ma,function(){var za;if(this._jsonIndex < this._json.length)return za=this._json[this._jsonIndex++];te(this._source,this._timeout,{result:function(va){va && va.length && 0 < va.length?(va.forEach(function(na){this._json.push(na);}),ea(ma)):(this._eom=!0,ma.result(null));},timeout:function(){ma.timeout();},error:function(va){ma.error(va);}});},aa);}ba=this.getMessageHeader();if(!ba)throw new wb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(ma){ab(Z,function(){if(!ma)return null;if("object" !== typeof ma)throw new Eb(Y.MESSAGE_FORMAT_ERROR);Oe(ma,this._cryptoContext,{result:function(za){ab(Z,function(){var va,na,ta,Da;va=ba.masterToken;na=ba.entityAuthenticationData;ta=ba.userIdToken;Da=ba.getUserAuthenticationData;if(za.messageId != ba.messageId)throw new Jb(Y.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + za.messageId + " header mid " + ba.messageId).setEntity(va).setEntity(na).setUser(ta).setUser(Da);if(za.sequenceNumber != this._payloadSequenceNumber)throw new Jb(Y.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + za.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(va).setEntity(na).setUser(ta).setUser(Da);++this._payloadSequenceNumber;za.isEndOfMessage() && (this._eom=!0);va=za.data;this._payloads.push(va);this._payloadIndex=-1;return va;},aa);},error:function(za){za instanceof SyntaxError && (za=new Eb(Y.JSON_PARSE_ERROR,"payloadchunk",za));Z.error(za);}});},aa);},timeout:function(){Z.timeout();},error:function(ma){Z.error(ma);}});},aa);},isReady:function(ca,Z){var ea;function aa(){ab(Z,function(){if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;ab(Z,function(){this._ready?aa():this._readyQueue.poll(ca,{result:function(ba){ab(Z,function(){if(ba === Cb)return !1;aa();},ea);},timeout:function(){Z.timeout();},error:function(ba){Z.error(ba);}});},ea);},getMessageHeader:function(){return this._header instanceof bd?this._header:null;},getErrorHeader:function(){return this._header instanceof Dc?this._header:null;},getIdentity:function(){var ca,Z;ca=this.getMessageHeader();if(ca){Z=ca.masterToken;return Z?Z.identity:ca.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ca;ca=this.getMessageHeader();return ca?ca.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ca){this._closeSource=ca;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ca,Z,aa){var ba;function ea(){ab(aa,function(){var za,va,na,ta;function ma(Da){ab(Da,function(){var oa,da,ia;if(va && ta >= va.length)return va.subarray(0,ta);oa=-1;if(this._currentPayload){da=this._currentPayload.length - this._payloadOffset;if(!va){ia=da;if(-1 != this._payloadIndex)for(var la=this._payloadIndex;la < this._payloads.length;++la){ia+=this._payloads[la].length;}0 < ia && (va=new Uint8Array(ia));}da=Math.min(da,va?va.length - ta:0);0 < da && (oa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + da),va.set(oa,na),oa=da,na+=da,this._payloadOffset+=da);}-1 != oa?(ta+=oa,ma(Da)):this.nextData(Z,{result:function(Ba){ab(Da,function(){if(this._aborted)return va?va.subarray(0,ta):new Uint8Array(0);this._currentPayload=Ba;this._payloadOffset=0;if(this._currentPayload)ma(Da);else return 0 == ta && 0 != ca?null:va?va.subarray(0,ta):new Uint8Array(0);},ba);},timeout:function(){Da.timeout(va?va.subarray(0,ta):new Uint8Array(0));},error:function(Ba){ab(Da,function(){Ba instanceof db && (Ba=new Ub("Error reading the payload chunk.",Ba));if(0 < ta)return (ba._readException=Ba,va.subarray(0,ta));throw Ba;},ba);}});},ba);}if(this._aborted)return new Uint8Array(0);if(this._timedout)aa.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){za=this._readException;this._readException=null;throw za;}va=-1 != ca?new Uint8Array(ca):Cb;na=0;ta=0;ma(aa);}},ba);}ba=this;ab(aa,function(){if(-1 > ca)throw new RangeError("read requested with illegal length " + ca);this._ready?ea():this._readyQueue.poll(Z,{result:function(ma){ma === Cb?aa.result(!1):ea();},timeout:function(){aa.timeout(new Uint8Array(0));},error:function(ma){aa.error(ma);}});},ba);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Te=function(ca,Z,aa,ea,ba,ma,za){new Se(ca,Z,aa,ea,ba,ma,za);};})();(function(){Ue=pd.extend({init:function(ja,ca,Z,aa,ea,ba,ma){var za;za=this;ab(ma,function(){var na,ta,Da;function va(){za._ready=!0;za._readyQueue.add(!0);}na=Pd(ja.getMessageCapabilities(),aa.messageCapabilities);ta=null;na && (ta=ie(na.compressionAlgorithms));na={_destination:{value:ca,writable:!1,enumerable:!1,configurable:!1},_charset:{value:Z,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:na,writable:!1,enumerable:!1,configurable:!1},_header:{value:aa,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:ta,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Uc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);Da=bc(JSON.stringify(aa),Z);ca.write(Da,0,Da.length,ba,{result:function(oa){try{za._aborted?va():oa < Da.length?(za._timedout=!0,va()):ca.flush(ba,{result:function(da){za._aborted || (za._timedout=!da);va();},timeout:function(){za._timedout=!0;va();},error:function(da){za._errored=da;va();}});}catch(da){za._errored=da;va();}},timeout:function(){za._timedout=!0;va();},error:function(oa){za._errored=oa;va();}});return this;},za);},setCompressionAlgorithm:function(ja,ca,Z){var ea;function aa(){ea.flush(ca,{result:function(ba){ab(Z,function(){if(!ba)throw new Ub("flush() aborted");this._compressionAlgo=ja;return !0;},ea);},timeout:function(){Z.timeout();},error:function(ba){Z.error(ba);}});}ea=this;ab(Z,function(){if(!this.getMessageHeader())throw new wb("Cannot write payload data for an error message.");if(this._compressionAlgo == ja)return !0;if(ja){if(!this._capabilities)return !1;for(var ba=this._capabilities.compressionAlgorithms,ma=0;ma < ba.length;++ma){if(ba[ma] == ja){aa();return;}}return !1;}aa();},ea);},getMessageHeader:function(){return this._header instanceof bd?this._header:null;},getErrorMessage:function(){return this._header instanceof Dc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ja,ca){var Z;Z=this;ab(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ja,{result:function(aa){ab(ca,function(){aa && (this._currentPayload=null);return aa;},Z);},timeout:function(){ca.timeout();},error:function(aa){ca.error(aa);}});}},Z);},flush:function(ja,ca){var aa;function Z(){ab(ca,function(){var ea,ba,na;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;ba=0;this._currentPayload && this._currentPayload.forEach(function(ta){ba+=ta.length;});for(var ma=new Uint8Array(ba),za=0,va=0;this._currentPayload && va < this._currentPayload.length;++va){na=this._currentPayload[va];ma.set(na,za);za+=na.length;}Ne(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,ma,this._cryptoContext,{result:function(ta){ab(ca,function(){var Da;this._payloads.push(ta);Da=bc(JSON.stringify(ta),this._charset);this._destination.write(Da,0,Da.length,ja,{result:function(oa){ab(ca,function(){if(this._aborted)return !1;oa < ta.length?ca.timeout():this._destination.flush(ja,{result:function(da){ab(ca,function(){if(this._aborted)return !1;if(da)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ca.timeout();},aa);},timeout:function(){ca.timeout();},error:function(da){da instanceof db && (da=new Ub("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",da));ca.error(da);}});},aa);},timeout:function(oa){ca.timeout();},error:function(oa){oa instanceof db && (oa=new Ub("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",oa));ca.error(oa);}});},aa);},error:function(ta){ta instanceof db && (ta=new Ub("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",ta));ca.error(ta);}});}},aa);}aa=this;ab(ca,function(){this._ready?Z():this._readyQueue.poll(ja,{result:function(ea){ea === Cb?ca.result(!1):Z();},timeout:function(){ca.timeout();},error:function(ea){ca.error(ea);}});},aa);},write:function(ja,ca,Z,aa,ea){ab(ea,function(){var ba;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Ub("Message output stream already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Z)throw new RangeError("Length cannot be negative.");if(ca + Z > ja.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new wb("Cannot write payload data for an error message.");ba=ja.subarray(ca,ca + Z);this._currentPayload.push(ba);return ba.length;}},this);}});ud=function(ja,ca,Z,aa,ea,ba,ma){new Ue(ja,ca,Z,aa,ea,ba,ma);};})();yf=Db.Class.create({sentHeader:function(ja){},receivedHeader:function(ja){}});Object.freeze({USERDATA_REAUTH:Ia.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ia.SSOTOKEN_REJECTED});Ve=Db.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ja,ca,Z,aa){},getCustomer:function(){},getKeyRequestData:function(ja){},updateServiceTokens:function(ja,ca,Z){},write:function(ja,ca,Z){},getDebugContext:function(){}});Db.Class.create({getInputStream:function(ja){},getOutputStream:function(ja){}});(function(){var za,va,na,ta,Da,oa,da,ia,la,Ba,Sa,Na;function ja(Ra){return function(){Ra.abort();};}function ca(Ra,Ta){Object.defineProperties(this,{masterToken:{value:Ra,writable:!1,configurable:!1},ticket:{value:Ta,writable:!1,configurable:!1}});}function Z(Ra,Ta){Object.defineProperties(this,{builder:{value:Ra,writable:!1,configurable:!1},msgCtx:{value:Ta,writable:!1,configurable:!1}});}function aa(Ra,Ta,sa){Object.defineProperties(this,{requestHeader:{value:Ra,writable:!1,configurable:!1},payloads:{value:Ta,writable:!1,configurable:!1},handshake:{value:sa,writable:!1,configurable:!1}});}function ea(Ra,Ta){Object.defineProperties(this,{requestHeader:{value:Ta.requestHeader,writable:!1,configurable:!1},payloads:{value:Ta.payloads,writable:!1,configurable:!1},handshake:{value:Ta.handshake,writable:!1,configurable:!1},response:{value:Ra,writable:!1,configurable:!1}});}function ba(Ra){for(;Ra;){if(Ra instanceof Yb)return !0;Ra=Ra instanceof db?Ra.cause:Cb;}return !1;}function ma(Ra,Ta,sa,Ca,Ha,Ka,Fa,Ua,Ja){Qe(Ta,Ca,Ha,Ka,{result:function(Wa){sa && sa.sentHeader(Wa);ud(Ta,Fa,Nb,Wa,null,null,Ua,{result:function($a){Ra.setAbort(function(){$a.abort();});$a.close(Ua,{result:function(Va){ab(Ja,function(){if(!Va)throw new Yb("sendError aborted.");return Va;});},timeout:function(){Ja.timeout();},error:function(Va){Ja.error(Va);}});},timeout:function(){},error:function($a){Ja.error($a);}});},error:function(Wa){Ja.error(Wa);}});}za=pd.extend({close:function(Ra,Ta){Ta.result(!0);},write:function(Ra,Ta,sa,Ca,Ha){Pa(Ha,function(){return Math.min(Ra.length - Ta,sa);});},flush:function(Ra,Ta){Ta.result(!0);}});va=xf.extend({getUserMessage:function(Ra,Ta){return null;}});na=Ve.extend({init:function(Ra){Object.defineProperties(this,{_appCtx:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ra,Ta,sa,Ca){this._appCtx.getUserAuthData(Ra,Ta,sa,Ca);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ra){this._appCtx.getKeyRequestData(Ra);},updateServiceTokens:function(Ra,Ta,sa){this._appCtx.updateServiceTokens(Ra,Ta,sa);},write:function(Ra,Ta,sa){this._appCtx.write(Ra,Ta,sa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ta=na.extend({init:function Ca(Ta,sa){Ca.base.call(this,sa);Object.defineProperties(this,{_payloads:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ta,sa,Ca){var Ka;function Ha(Fa,Ua){var Ja;if(Fa == Ka._payloads.length)Ca.result(!0);else {Ja=Ka._payloads[Fa];Ta.setCompressionAlgorithm(Ja.compressionAlgo,sa,{result:function(Wa){Ta.write(Ja.data,0,Ja.data.length,sa,{result:function($a){ab(Ca,function(){Ja.isEndOfMessage()?Ha(Fa + 1,Ua):Ta.flush(sa,{result:function(Va){Ca.result(Va);},timeout:function(){Ca.timeout();},error:function(Va){Ca.error(Va);}});},Ka);},timeout:function($a){Ca.timeout($a);},error:function($a){Ca.error($a);}});},timeout:function(){},error:function(Wa){Ca.error(Wa);}});}}Ka=this;Ha(0);}});Da=na.extend({init:function Ca(sa){Ca.base.call(this,sa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(sa,Ca,Ha){Ha.result(!0);}});oa={};da=Db.Class.create({init:function(sa){sa || (sa=new va());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(sa){this._filterFactory=sa;},getNewestMasterToken:function(sa,Ca,Ha,Ka){var Fa;Fa=this;ab(Ka,function(){var Ua,Ja,Wa,$a,Va;Ua=Ca.getMslStore();Ja=Ua.getMasterToken();if(!Ja)return null;Wa=Ja.uniqueKey();$a=this._masterTokenLocks[Wa];$a || ($a=new Ad(),this._masterTokenLocks[Wa]=$a);Va=$a.readLock(Ha,{result:function(ib){ab(Ka,function(){var lb;if(ib === Cb)throw new Yb("getNewestMasterToken aborted.");lb=Ua.getMasterToken();if(Ja.equals(lb))return new ca(Ja,ib);$a.unlock(ib);$a.writeLock(Ha,{result:function(pb){ab(Ka,function(){if(pb === Cb)throw new Yb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Wa];$a.unlock(pb);return this.getNewestMasterToken(sa,Ca,Ha,Ka);},Fa);},timeout:function(){Ka.timeout();},error:function(pb){Ka.error(pb);}});},Fa);},timeout:function(){Ka.timeout();},error:function(ib){Ka.error(ib);}});sa.setAbort(function(){Va && ($a.cancel(Va),Va=Cb);});},Fa);},deleteMasterToken:function(sa,Ca){var Ha;if(Ca){Ha=this;setTimeout(function(){var Ka,Fa;Ka=Ca.uniqueKey();Fa=Ha._masterTokenLocks[Ka];Fa || (Fa=new Ad(),Ha._masterTokenLocks[Ka]=Fa);Fa.writeLock(-1,{result:function(Ua){sa.getMslStore().removeCryptoContext(Ca);delete Ha._masterTokenLocks[Ka];Fa.unlock(Ua);},timeout:function(){throw new wb("Unexpected timeout received.");},error:function(Ua){throw Ua;}});},0);}},releaseMasterToken:function(sa){var Ca;if(sa && sa.masterToken){Ca=sa.masterToken.uniqueKey();Ca=this._masterTokenLocks[Ca];if(!Ca)throw new wb("Master token read/write lock does not exist when it should.");Ca.unlock(sa.ticket);}},updateOutgoingCryptoContexts:function(sa,Ca,Ha){var Ka;Ka=sa.getMslStore();!sa.isPeerToPeer() && Ha && (Ka.setCryptoContext(Ha.keyResponseData.masterToken,Ha.cryptoContext),this.deleteMasterToken(sa,Ca.masterToken));},updateIncomingCryptoContexts:function(sa,Ca,Ha){var Ka,Fa;Ka=Ha.getMessageHeader();if(Ka){Fa=sa.getMslStore();if(Ka=Ka.keyResponseData)(Fa.setCryptoContext(Ka.masterToken,Ha.getKeyExchangeCryptoContext()),this.deleteMasterToken(sa,Ca.masterToken));}},storeServiceTokens:function(sa,Ca,Ha,Ka){var Ja,Wa;sa=sa.getMslStore();for(var Fa=[],Ua=0;Ua < Ka.length;++Ua){Ja=Ka[Ua];if(!Ja.isBoundTo(Ca) || !Ca.isVerified()){Wa=Ja.data;Wa && 0 == Wa.length?sa.removeServiceTokens(Ja.name,Ja.isMasterTokenBound()?Ca:null,Ja.isUserIdTokenBound()?Ha:null):Fa.push(Ja);}}0 < Fa.length && sa.addServiceTokens(Fa);},buildRequest:function(sa,Ca,Ha,Ka,Fa){var Ua;Ua=this;this.getNewestMasterToken(sa,Ca,Ka,{result:function(Ja){Pa(Fa,function(){var Wa,$a,Va;Wa=Ja && Ja.masterToken;if(Wa){$a=Ha.getUserId();Va=Ca.getMslStore();$a=($a=$a?Va.getUserIdToken($a):null) && $a.isBoundTo(Wa)?$a:null;}else $a=null;Jc(Ca,Wa,$a,null,{result:function(ib){Pa(Fa,function(){ib.setNonReplayable(Ha.isNonReplayable());return {builder:ib,tokenTicket:Ja};});},error:function(ib){Pa(Fa,function(){this.releaseMasterToken(Ja);ib instanceof db && (ib=new wb("User ID token not bound to master token despite internal check.",ib));throw ib;},Ua);}});},Ua);},timeout:function(){Fa.timeout();},error:function(Ja){Fa.error(Ja);}});},buildResponse:function(sa,Ca,Ha,Ka,Fa,Ua){var Ja;Ja=this;Pe(Ca,Ka,{result:function(Wa){ab(Ua,function(){Wa.setNonReplayable(Ha.isNonReplayable());if(!Ca.isPeerToPeer() && !Ka.keyResponseData)return {builder:Wa,tokenTicket:null};this.getNewestMasterToken(sa,Ca,Fa,{result:function($a){ab(Ua,function(){var Va,ib,lb;Va=$a && $a.masterToken;if(Va){ib=Ha.getUserId();lb=Ca.getMslStore();ib=(ib=ib?lb.getUserIdToken(ib):null) && ib.isBoundTo(Va)?ib:null;}else ib=null;Wa.setAuthTokens(Va,ib);return {builder:Wa,tokenTicket:$a};},Ja);},timeout:function(){Ua.timeout();},error:function($a){Ua.error($a);}});},Ja);},error:function(Wa){Ua.error(Wa);}});},buildErrorResponse:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Va;function Wa(ib,lb){ab(Ja,function(){var pb,qb;pb=Ic(Fa.messageId);qb=new ta(lb,Ha);Jc(Ca,null,null,pb,{result:function(rb){ab(Ja,function(){Ca.isPeerToPeer() && rb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);rb.setNonReplayable(qb.isNonReplayable());return {errorResult:new Z(rb,qb),tokenTicket:null};},Va);},error:function(rb){Ja.error(rb);}});},Va);}function $a(ib,lb){Va.getNewestMasterToken(sa,Ca,Ua,{result:function(pb){ab(Ja,function(){var qb,rb,Ab;qb=pb && pb.masterToken;rb=Ic(Fa.messageId);Ab=new ta(lb,Ha);Jc(Ca,qb,null,rb,{result:function(yb){ab(Ja,function(){Ca.isPeerToPeer() && yb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);yb.setNonReplayable(Ab.isNonReplayable());return {errorResult:new Z(yb,Ab),tokenTicket:pb};},Va);},error:function(yb){Ja.error(yb);}});},Va);},timeout:function(){Ja.timeout();},error:function(pb){Ja.error(pb);}});}Va=this;ab(Ja,function(){var ib,lb,pb,qb;ib=Ka.requestHeader;lb=Ka.payloads;pb=Fa.errorCode;switch(pb){case Ia.ENTITYDATA_REAUTH:case Ia.ENTITY_REAUTH:Ca.getEntityAuthenticationData(pb,{result:function(rb){ab(Ja,function(){if(!rb)return null;Wa(ib,lb);},Va);},error:function(rb){Ja.error(rb);}});break;case Ia.USERDATA_REAUTH:case Ia.SSOTOKEN_REJECTED:Ha.getUserAuthData(pb,!1,!0,{result:function(rb){ab(Ja,function(){if(!rb)return null;$a(ib,lb);},Va);},error:function(rb){Ja.error(rb);}});break;case Ia.USER_REAUTH:$a(ib,lb);break;case Ia.KEYX_REQUIRED:pb=Ic(Fa.messageId);qb=new ta(lb,Ha);Jc(Ca,null,null,pb,{result:function(rb){ab(Ja,function(){Ca.isPeerToPeer() && rb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);rb.setRenewable(!0);rb.setNonReplayable(qb.isNonReplayable());return {errorResult:new Z(rb,qb),tokenTicket:null};},Va);},error:function(rb){Ja.error(rb);}});break;case Ia.EXPIRED:this.getNewestMasterToken(sa,Ca,Ua,{result:function(rb){ab(Ja,function(){var Ab,yb,r,b;Ab=rb && rb.masterToken;yb=ib.userIdToken;r=Ic(Fa.messageId);b=new ta(lb,Ha);Jc(Ca,Ab,yb,r,{result:function(a){ab(Ja,function(){Ca.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(Ab) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new Z(a,b),tokenTicket:rb};},Va);},error:function(a){Ja.error(a);}},Va);},Va);},timeout:function(){Ja.timeout();},error:function(rb){Ja.error(rb);}});break;case Ia.REPLAYED:this.getNewestMasterToken(sa,Ca,Ua,{result:function(rb){ab(Ja,function(){var Ab,yb,r,b;Ab=rb && rb.masterToken;yb=ib.userIdToken;r=Ic(Fa.messageId);b=new ta(lb,Ha);Jc(Ca,Ab,yb,r,{result:function(a){ab(Ja,function(){Ca.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(Ab)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new Z(a,b),tokenTicket:rb};},Va);},error:function(a){Ja.error(a);}});},Va);},timeout:function(){Ja.timeout();},error:function(rb){Ja.error(rb);}});break;default:return null;}},Va);},cleanupContext:function(sa,Ca,Ha){switch(Ha.errorCode){case Ia.ENTITY_REAUTH:this.deleteMasterToken(sa,Ca.masterToken);break;case Ia.USER_REAUTH:(Ha=Ca.userIdToken,Ca.masterToken && Ha && sa.getMslStore().removeUserIdToken(Ha));}},send:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var pb;function Wa(qb,rb,Ab){ab(Ja,function(){var yb;yb=Fa.getPeerUserIdToken();!Ca.isPeerToPeer() && !rb || Ca.isPeerToPeer() && !yb?(yb=Ha.getCustomer())?Fa.setCustomer(yb,{result:function(r){ab(Ja,function(){rb=Fa.getUserIdToken();$a(qb,rb,Ab);},pb);},error:function(r){Ja.error(r);}}):$a(qb,rb,Ab):$a(qb,rb,Ab);},pb);}function $a(qb,rb,Ab){ab(Ja,function(){var yb,r;yb=!Ab && (!Ha.isEncrypted() || Fa.willEncryptPayloads()) && (!Ha.isIntegrityProtected() || Fa.willIntegrityProtectPayloads()) && (!Ha.isNonReplayable() || Fa.isNonReplayable() && qb);yb || Fa.setNonReplayable(!1);r=[];Fa.isRenewable() && (!qb || qb.isRenewable() || Ha.isNonReplayable())?Ha.getKeyRequestData({result:function(b){ab(Ja,function(){var d;for(var a=0;a < b.length;++a){d=b[a];r.push(d);Fa.addKeyRequestData(d);}Va(qb,rb,yb,r);},pb);},error:function(b){Ja.error(b);}}):Va(qb,rb,yb,r);},pb);}function Va(qb,rb,Ab,yb){ab(Ja,function(){var r;r=new Re(Ca,Ha,Fa);Ha.updateServiceTokens(r,!Ab,{result:function(b){Fa.getHeader({result:function(a){ab(Ja,function(){var d,l;d=Ha.getDebugContext();d && d.sentHeader(a);d=Fa.getKeyExchangeData();this.updateOutgoingCryptoContexts(Ca,a,d);this.storeServiceTokens(Ca,qb,rb,a.serviceTokens);d=!Ca.isPeerToPeer() && d?d.cryptoContext:a.cryptoContext;if(sa.isAborted())throw new Yb("send aborted.");l=null != this._filterFactory?this._filterFactory.getOutputStream(Ka):Ka;ud(Ca,l,Nb,a,d,Ua,{result:function(h){sa.setAbort(function(){h.abort();});ib(h,a,Ab);},timeout:function(){Ja.timeout();},error:function(h){Ja.error(h);}});},pb);},timeout:function(){Ja.timeout();},error:function(a){Ja.error(a);}});},error:function(b){Ja.error(b);}});},pb);}function ib(qb,rb,Ab){var yb,r;if(Ab)Ha.write(qb,Ua,{result:function(b){ab(Ja,function(){if(sa.isAborted())throw new Yb("MessageOutputStream write aborted.");lb(qb,rb,Ab);},pb);},timeout:function(){Ja.timeout();},error:function(b){Ja.error(b);}});else {yb=new za();r=new Qc();ud(Ca,yb,Nb,rb,r,Ua,{result:function(b){Ha.write(b,Ua,{result:function(a){ab(Ja,function(){if(sa.isAborted())throw new Yb("MessageOutputStream proxy write aborted.");b.close(Ua,{result:function(d){ab(Ja,function(){var l;if(!d)throw new Yb("MessageOutputStream proxy close aborted.");l=b.getPayloads();lb(qb,rb,Ab,l);},pb);},timeout:function(){Ja.timeout();},error:function(d){Ja.error(d);}});},pb);},timeout:function(){Ja.timeout();},error:function(a){Ja.error(a);}});},timeout:function(){Ja.timeout();},error:function(b){Ja.error(b);}});}}function lb(qb,rb,Ab,yb){qb.close(Ua,{result:function(r){ab(Ja,function(){if(!r)throw new Yb("MessageOutputStream close aborted.");yb || (yb=qb.getPayloads());return new aa(rb,yb,!Ab);},pb);},timeout:function(){Ja.timeout();},error:function(r){Ja.error(r);}});}pb=this;ab(Ja,function(){var qb,rb,Ab,yb;qb=Fa.getMasterToken();rb=Fa.getUserIdToken();Ab=!1;if(Ha.getUserId()){yb=!rb;Ha.getUserAuthData(null,Fa.isRenewable(),yb,{result:function(r){ab(Ja,function(){r && (Fa.willEncryptHeader() && Fa.willIntegrityProtectHeader()?Fa.setUserAuthenticationData(r):Ab=!0);Wa(qb,rb,Ab);},pb);},error:function(r){Ja.error(r);}});}else Wa(qb,rb,Ab);},pb);},receive:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Wa;Wa=this;ab(Ja,function(){var $a,Va,ib;if(sa.isAborted())throw new Yb("receive aborted.");$a=[];Fa && ($a=Fa.keyRequestData.filter(function(){return !0;}));Va=Ha.getCryptoContexts();ib=this._filterFactory?this._filterFactory.getInputStream(Ka):Ka;Te(Ca,ib,Nb,$a,Va,Ua,{result:function(lb){sa.setAbort(function(){lb.abort();});lb.isReady(Ua,{result:function(pb){ab(Ja,function(){var qb,rb,Ab,yb;if(!pb)throw new Yb("MessageInputStream aborted.");qb=lb.getMessageHeader();rb=lb.getErrorHeader();Ab=Ha.getDebugContext();Ab && Ab.receivedHeader(qb?qb:rb);if(Fa && (Ab=rb?rb.errorCode:null,qb || Ab != Ia.FAIL && Ab != Ia.TRANSIENT_FAILURE && Ab != Ia.ENTITY_REAUTH && Ab != Ia.ENTITYDATA_REAUTH)){Ab=qb?qb.messageId:rb.messageId;yb=Ic(Fa.messageId);if(Ab != yb)throw new Jb(Y.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + yb + "; received " + Ab);}Ca.getEntityAuthenticationData(null,{result:function(r){ab(Ja,function(){var b,a,d,l;b=r.getIdentity();if(qb){a=qb.entityAuthenticationData;d=qb.masterToken;a=d?qb.sender:a.getIdentity();if(d && d.isDecrypted() && d.identity != a || b == a)throw new Jb(Y.UNEXPECTED_MESSAGE_SENDER,a);Fa && this.updateIncomingCryptoContexts(Ca,Fa,lb);b=qb.keyResponseData;Ca.isPeerToPeer()?(b=b?b.masterToken:qb.peerMasterToken,d=qb.peerUserIdToken,a=qb.peerServiceTokens):(b=b?b.masterToken:qb.masterToken,d=qb.userIdToken,a=qb.serviceTokens);l=Ha.getUserId();l && d && !d.isVerified() && Ca.getMslStore().addUserIdToken(l,d);this.storeServiceTokens(Ca,b,d,a);}else if((a=rb.entityAuthenticationData.getIdentity(),b == a))throw new Jb(Y.UNEXPECTED_MESSAGE_SENDER,a);return lb;},Wa);},error:Ja.error});},Wa);},timeout:function(){Ja.timeout();},error:function(pb){Ja.error(pb);}});},timeout:function(){Ja.timeout();},error:function(lb){Ja.error(lb);}});},Wa);},sendReceive:function(sa,Ca,Ha,Ka,Fa,Ua,Ja,Wa,$a){var ib;function Va(lb,pb){ab($a,function(){Ua.setRenewable(pb);this.send(sa,Ca,Ha,Fa,Ua,Ja,{result:function(qb){ab($a,function(){var rb;rb=qb.requestHeader.keyRequestData;Wa || qb.handshake || !rb.isEmpty()?this.receive(sa,Ca,Ha,Ka,qb.requestHeader,Ja,{result:function(Ab){ab($a,function(){pb && this.releaseRenewalLock(Ca,lb,Ab);return new ea(Ab,qb);},ib);},timeout:function(){ab($a,function(){pb && this.releaseRenewalLock(Ca,lb,null);$a.timeout();},ib);},error:function(Ab){ab($a,function(){pb && this.releaseRenewalLock(Ca,lb,null);throw Ab;},ib);}}):ab($a,function(){pb && this.releaseRenewalLock(Ca,lb,null);return new ea(null,qb);},ib);},ib);},timeout:function(){ab($a,function(){pb && this.releaseRenewalLock(Ca,lb,null);$a.timeout();},ib);},error:function(qb){ab($a,function(){pb && this.releaseRenewalLock(Ca,lb,null);throw qb;},ib);}});},ib);}ib=this;ab($a,function(){var lb;lb=new Uc();this.acquireRenewalLock(sa,Ca,Ha,lb,Ua,Ja,{result:function(pb){Va(lb,pb);},timeout:function(){$a.timeout();},error:function(pb){pb instanceof Yb?$a.result(null):$a.error(pb);}});},ib);},acquireRenewalLock:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Va;function Wa(ib,lb,pb){ab(Ja,function(){var Ab,yb;if(sa.isAborted())throw new Yb("acquireRenewalLock aborted.");for(var qb=null,rb=0;rb < this._renewingContexts.length;++rb){Ab=this._renewingContexts[rb];if(Ab.ctx === Ca){qb=Ab.queue;break;}}if(!qb)return (this._renewingContexts.push({ctx:Ca,queue:Ka}),!0);yb=qb.poll(Ua,{result:function(r){ab(Ja,function(){var b;if(r === Cb)throw new Yb("acquireRenewalLock aborted.");qb.add(r);if(r === oa || r.isExpired())Wa(r,lb,pb);else {if(pb && !lb || lb && !lb.isBoundTo(r)){b=Ca.getMslStore().getUserIdToken(pb);lb=b && b.isBoundTo(r)?b:null;}Fa.setAuthTokens(r,lb);Fa.isRenewable() && r.equals(ib)?Wa(r,lb,pb):Ha.isRequestingTokens() && !lb?Wa(r,lb,pb):$a(r,lb);}},Va);},timeout:function(){},error:function(r){}});sa.setAbort(function(){yb && (qb.cancel(yb),yb=Cb);});},Va);}function $a(ib,lb){ab(Ja,function(){var rb;if(sa.isAborted())throw new Yb("acquireRenewalLock aborted.");if(!ib || ib.isRenewable() || !lb && Ha.getUserId() || lb && lb.isRenewable()){for(var pb=null,qb=0;qb < this._renewingContexts.length;++qb){rb=this._renewingContexts[qb];if(rb.ctx === Ca){pb=rb.queue;break;}}if(!pb)return (this._renewingContexts.push({ctx:Ca,queue:Ka}),!0);}return !1;},Va);}Va=this;ab(Ja,function(){var ib,lb,pb;ib=Fa.getMasterToken();lb=Fa.getUserIdToken();pb=Ha.getUserId();Ha.isEncrypted() && !Fa.willEncryptPayloads() || Ha.isIntegrityProtected() && !Fa.willIntegrityProtectPayloads() || Fa.isRenewable() || !ib && Ha.isNonReplayable() || ib && ib.isExpired() || !(lb || !pb || Fa.willEncryptHeader() && Fa.willIntegrityProtectHeader()) || Ha.isRequestingTokens() && (!ib || pb && !lb)?Wa(ib,lb,pb):$a(ib,lb);},Va);},releaseRenewalLock:function(sa,Ca,Ha){var Ja;for(var Ka,Fa,Ua=0;Ua < this._renewingContexts.length;++Ua){Ja=this._renewingContexts[Ua];if(Ja.ctx === sa){Ka=Ua;Fa=Ja.queue;break;}}if(Fa !== Ca)throw new wb("Attempt to release renewal lock that is not owned by this queue.");Ha?(Ha=Ha.messageHeader)?(Fa=Ha.keyResponseData)?Ca.add(Fa.masterToken):(sa=sa.isPeerToPeer()?Ha.peerMasterToken:Ha.masterToken)?Ca.add(sa):Ca.add(oa):Ca.add(oa):Ca.add(oa);this._renewingContexts.splice(Ka,1);}});We=Db.Class.create({init:function(){var sa;sa={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,sa);},setFilterFactory:function(sa){this._impl.setFilterFactory(sa);},shutdown:function(){this._shutdown=!0;},receive:function(sa,Ca,Ha,Ka,Fa,Ua){var Ja;if(this._shutdown)throw new db("MslControl is shutdown.");Ja=new ia(this._impl,sa,Ca,Ha,Ka,Fa);setTimeout(function(){Ja.call(Ua);},0);return ja(Ja);},respond:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Wa;if(this._shutdown)throw new db("MslControl is shutdown.");Wa=new la(this._impl,sa,Ca,Ha,Ka,Fa,Ua);setTimeout(function(){Wa.call(Ja);},0);return ja(Wa);},error:function Ha(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Wa;if(this._shutdown)throw new db("MslControl is shutdown.");Wa=new Ba(this._impl,sa,Ca,Ha,Ka,Fa,Ua);setTimeout(function(){Wa.call(Ja);},0);return ja(Wa);},request:function(sa,Ca){var Ha,Ka,Fa,Ua,Ja,Wa;if(this._shutdown)throw new db("MslControl is shutdown.");if(5 == arguments.length){Ka=arguments[2];Fa=Ha=null;Ua=arguments[3];Ja=arguments[4];if(sa.isPeerToPeer()){Ja.error(new wb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ka=null,Ha=arguments[2],Fa=arguments[3],Ua=arguments[4],Ja=arguments[5],!sa.isPeerToPeer())){Ja.error(new wb("This method cannot be used in trusted network mode."));return;}Wa=new Na(this._impl,sa,Ca,Ka,Ha,Fa,null,0,Ua);setTimeout(function(){Wa.call(Ja);},0);return ja(Wa);}});ia=Db.Class.create({init:function(sa,Ca,Ha,Ka,Fa,Ua){Object.defineProperties(this,{_ctrl:{value:sa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_output:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(sa){this._abortFunc=sa;},call:function(sa){var Fa;function Ca(Ua){ab(sa,function(){var Ja;Ja=Ua.messageHeader;if(!Ja)return Ua;this.setAbort(function(){Ua.abort();});Ua.mark(Number.MAX_VALUE);Ua.read(1,Fa._timeout,{result:function(Wa){ab(sa,function(){if(Wa && 0 == Wa.length)return null;if(Wa)return (Ua.reset(),Ua);Ha(Ua);},Fa);},timeout:function(){sa.timeout();},error:function(Wa){ab(sa,function(){var $a,Va,ib;if(ba(Wa))return null;$a=Ja?Ja.messageId:null;if(Wa instanceof Ub){Va=Y.MSL_COMMS_FAILURE;ib=Wa;}else (Va=Y.INTERNAL_EXCEPTION,ib=new wb("Error peeking into the message payloads."));ma(this,this._ctx,this._msgCtx.getDebugContext(),$a,Va,null,this._output,this._timeout,{result:function(lb){sa.error(ib);},timeout:function(){sa.timeout();},error:function(lb){ab(sa,function(){if(ba(lb))return null;throw new fc("Error peeking into the message payloads.",lb,Wa);},Fa);}});},Fa);}});},Fa);}function Ha(Ua){ab(sa,function(){Ua.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ua.messageHeader,this._timeout,{result:function(Ja){ab(sa,function(){var Wa,$a,Va,ib,lb;Wa=Ja.builder;$a=Ja.tokenTicket;Va=Ua.messageHeader;ib=new Da(this._msgCtx);if(!this._ctx.isPeerToPeer() || Va.isEncrypting() || Va.keyResponseData)Ka(Va,Wa,ib,$a);else {lb=new Na(this._ctrl,this._ctx,ib,null,this._input,this._output,Ja,1,this._timeout);this.setAbort(function(){lb.abort();});lb.call(sa);}},Fa);},timeout:function(){sa.timeout();},error:function(Ja){ab(sa,function(){var Wa,$a,Va,ib;if(ba(Ja))return null;if(Ja instanceof db){Wa=Ja.messageId;$a=Ja.error;Va=Ua.messageHeader.messageCapabilities;Va=this._ctrl.messageRegistry.getUserMessage($a,Va?Va.languages:null);ib=Ja;}else (Wa=requestHeader?requestHeader.messageId:null,$a=Y.INTERNAL_EXCEPTION,Va=null,ib=new wb("Error creating an automatic handshake response.",Ja));ma(this,this._ctx,this._msgCtx.getDebugContext(),Wa,$a,Va,this._output,this._timeout,{result:function(lb){sa.error(ib);},timeout:function(){sa.timeout();},error:function(lb){ab(sa,function(){if(ba(lb))return null;throw new fc("Error creating an automatic handshake response.",lb,Ja);},Fa);}});},Fa);}});},Fa);}function Ka(Ua,Ja,Wa,$a){ab(sa,function(){Ja.setRenewable(!1);this._ctrl.send(this._ctx,Wa,this._output,Ja,this._timeout,{result:function(Va){ab(sa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);return null;},Fa);},timeout:function(){ab(sa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);sa.timeout();},Fa);},error:function(Va){ab(sa,function(){var ib,lb,pb,qb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);if(ba(Va))return null;if(Va instanceof db){ib=Va.messageId;lb=Va.error;pb=Ua?Ua.messageCapabilities:null;pb=this._ctrl.messageRegistry.getUserMessage(lb,pb?pb.languages:null);qb=Va;}else Va instanceof Ub?(ib=Ua?Ua.messageId:null,lb=Y.MSL_COMMS_FAILURE,pb=null,qb=Va):(ib=Ua?Ua.messageId:null,lb=Y.INTERNAL_EXCEPTION,pb=null,qb=new wb("Error sending an automatic handshake response.",Va));ma(this,this._ctx,this._msgCtx.getDebugContext(),ib,lb,pb,this._output,this._timeout,{result:function(rb){sa.error(qb);},timeout:function(){sa.timeout();},error:function(rb){ab(sa,function(){if(ba(rb))return null;throw new fc("Error sending an automatic handshake response.",rb,Va);},Fa);}});},Fa);}});},Fa);}Fa=this;ab(sa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ua){Ca(Ua);},timeout:function(){sa.timeout();},error:function(Ua){ab(sa,function(){var Ja,Wa,$a,Va;if(ba(Ua))return null;if(Ua instanceof db){Ja=Ua.messageId;Wa=Ua.error;$a=this._ctrl.messageRegistry.getUserMessage(Wa,null);Va=Ua;}else (Ja=null,Wa=Y.INTERNAL_EXCEPTION,$a=null,Va=new wb("Error receiving the message header.",Ua));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Wa,$a,this._output,this._timeout,{result:function(ib){sa.error(Va);},timeout:function(){sa.timeout();},error:function(ib){ab(sa,function(){if(ba(ib))return null;throw new fc("Error receiving the message header.",ib,Ua);},Fa);}});},Fa);}});},Fa);}});la=Db.Class.create({init:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){Object.defineProperties(this,{_ctrl:{value:sa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_output:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(sa){this._abortFunc=sa;},trustedNetworkExecute:function(sa,Ca,Ha){var Ka;Ka=this;ab(Ha,function(){var Fa,Ua;if(12 < Ca + 1)return !1;if(Fa=this._msgCtx.isIntegrityProtected() && !sa.willIntegrityProtectHeader()?Y.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !sa.willEncryptPayloads()?Y.RESPONSE_REQUIRES_ENCRYPTION:null){Ua=Rc(sa.getMessageId());ma(this,this._ctx,this._msgCtx.getDebugContext(),Ua,Fa,null,this._output,this._timeout,{result:function(Ja){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Ja){ab(Ha,function(){if(ba(Ja))return !1;throw new fc("Response requires encryption or integrity protection but cannot be protected: " + Fa,Ja,null);},Ka);}});}else !this._msgCtx.getCustomer() || sa.getMasterToken() || sa.getKeyExchangeData()?(sa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,sa,this._timeout,{result:function(Ja){Ha.result(!0);},timeout:function(){Ha.timeout();},error:function(Ja){Ha.error(Ja);}})):(Ua=Rc(sa.getMessageId()),ma(this,this._ctx,this._msgCtx.getDebugContext(),Ua,Y.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ja){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Ja){ab(Ha,function(){if(ba(Ja))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Ja,null);},Ka);}}));},Ka);},peerToPeerExecute:function(sa,Ca,Ha,Ka){var Ua;function Fa(Ja){ab(Ka,function(){var Wa;Wa=Ja.response;Wa.close();Wa=Wa.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ja.requestHeader,Wa);this._ctrl.buildErrorResponse(this,this._ctx,sa,Ja,Wa,{result:function($a){ab(Ka,function(){var Va,ib;if(!$a)return !1;Va=$a.errorResult;ib=$a.tokenTicket;this.peerToPeerExecute(Va.msgCtx,Va.builder,Ha,{result:function(lb){ab(Ka,function(){this._ctrl.releaseMasterToken(ib);return lb;},Ua);},timeout:function(){ab(Ka,function(){this._ctrl.releaseMasterToken(ib);Ka.timeout();},Ua);},error:function(lb){ab(Ka,function(){this._ctrl.releaseMasterToken(ib);throw lb;},Ua);}});},Ua);}});},Ua);}Ua=this;ab(Ka,function(){var Ja;if(12 < Ha + 2)return !1;if(null != sa.getCustomer() && null == Ca.getPeerMasterToken() && null == Ca.getKeyExchangeData()){Ja=Rc(Ca.getMessageId());ma(this,this._ctx,sa.getDebugContext(),Ja,Y.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Wa){Ka.result(!1);},timeout:function(){Ka.timeout();},error:function(Wa){ab(Ka,function(){if(ba(Wa))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Wa,null);},Ua);}});}else this._ctrl.sendReceive(this._ctx,sa,this._input,this._output,Ca,this._timeout,!1,{result:function(Wa){ab(Ka,function(){var ib,lb,pb;function $a(){ib.read(32768,Ua._timeout,{result:function(qb){ab(Ka,function(){qb?$a():Va();},Ua);},timeout:function(){Ka.timeout();},error:function(qb){Ka.error(qb);}});}function Va(){ab(Ka,function(){var qb;qb=new ta(Wa.payloads,sa);this._ctrl.buildResponse(this,this._ctx,qb,lb,this._timeout,{result:function(rb){ab(Ka,function(){var Ab;Ab=rb.tokenTicket;this.peerToPeerExecute(qb,rb.builder,Ha,{result:function(yb){ab(Ka,function(){this._ctrl.releaseMasterToken(Ab);return yb;},Ua);},timeout:function(){ab(Ka,function(){this._ctrl.releaseMasterToken(Ab);Ka.timeout();},Ua);},error:function(yb){ab(Ka,function(){this._ctrl.releaseMasterToken(Ab);throw yb;},Ua);}});},Ua);},timeout:function(){Ka.timeout();},error:function(rb){Ka.error(rb);}});},Ua);}ib=Wa.response;Ha+=2;if(!ib)return !0;lb=ib.getMessageHeader();if(lb){pb=Wa.payloads;pb=0 < pb.length && 0 < pb[0].data.length;if(Wa.handshake && pb)$a();else return !0;}else Fa(Wa);},Ua);},timeout:function(){Ka.timeout();},error:function(Wa){Ka.error(Wa);}});},Ua);},call:function(sa){var Ca;Ca=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ha){ab(sa,function(){var Ka,Fa;Ka=Ha.builder;Fa=Ha.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ka,3,{result:function(Ua){ab(sa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);return Ua;},Ca);},timeout:function(){ab(sa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);sa.timeout();},Ca);},error:function(Ua){ab(sa,function(){var Ja,Wa,$a,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);if(ba(Ua))return !1;Ja=Rc(Ka.getMessageId());if(Ua instanceof db){Wa=Ua.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Wa,$a?$a.languages:null);Va=Ua;}else Ua instanceof Ub?(Wa=Y.MSL_COMMS_FAILURE,$a=null,Va=Ua):(Wa=Y.INTERNAL_EXCEPTION,$a=null,Va=new wb("Error sending the response.",Ua));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Wa,$a,this._output,this._timeout,{result:function(ib){sa.error(Va);},timeout:function(){sa.timeout();},error:function(ib){ab(sa,function(){if(ba(ib))return !1;throw new fc("Error sending the response.",ib,null);},Ca);}});},Ca);}}):this.trustedNetworkExecute(Ka,3,{result:function(Ua){ab(sa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);return Ua;},Ca);},timeout:function(){ab(sa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);sa.timeout();},Ca);},error:function(Ua){ab(sa,function(){var Ja,Wa,$a,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);if(ba(Ua))return !1;Ja=Rc(Ka.getMessageId());if(Ua instanceof db){Wa=Ua.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Wa,$a?$a.languages:null);Va=Ua;}else Ua instanceof Ub?(Wa=Y.MSL_COMMS_FAILURE,$a=null,Va=Ua):(Wa=Y.INTERNAL_EXCEPTION,$a=null,Va=new wb("Error sending the response.",Ua));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Wa,$a,this._output,this._timeout,{result:function(ib){sa.error(Va);},timeout:function(){sa.timeout();},error:function(ib){ab(sa,function(){if(ba(ib))return !1;throw new fc("Error sending the response.",ib,null);},Ca);}});},Ca);}});},Ca);},timeout:function(){sa.timeout();},error:function(Ha){ab(sa,function(){var Ka,Fa,Ua,Ja;if(ba(Ha))return !1;if(Ha instanceof db){Ka=Ha.messageId;Fa=Ha.error;Ua=this._request.messageCapabilities;Ua=this._ctrl.messageRegistry.getUserMessage(Fa,Ua?Ua.languages:null);Ja=Ha;}else (Ka=null,Fa=Y.INTERNAL_EXCEPTION,Ua=null,Ja=new wb("Error building the response.",Ha));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ka,Fa,Ua,this._output,this._timeout,{result:function(Wa){sa.error(Ja);},timeout:function(){sa.timeout();},error:function(Wa){ab(sa,function(){if(ba(Wa))return null;throw new fc("Error building the response.",Wa,Ha);},Ca);}});},Ca);}});}});Ba=Db.Class.create({init:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){Object.defineProperties(this,{_ctrl:{value:sa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(sa){this._abortFunc=sa;},call:function(sa){var Ca;Ca=this;ab(sa,function(){var Ha,Ka;if(this._appError == ENTITY_REJECTED)Ha=this._request.masterToken?Y.MASTERTOKEN_REJECTED_BY_APP:Y.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ha=this._request.userIdToken?Y.USERIDTOKEN_REJECTED_BY_APP:Y.USER_REJECTED_BY_APP;else throw new wb("Unhandled application error " + this._appError + ".");Ka=this._request.messageCapabilities;Ka=this._ctrl.messageRegistry.getUserMessage(Ha,Ka?Ka.languages:null);ma(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ha,Ka,this._output,this._timeout,{result:function(Fa){sa.result(Fa);},timeout:sa.timeout,error:function(Fa){ab(sa,function(){if(ba(Fa))return !1;if(Fa instanceof db)throw Fa;throw new wb("Error building the error response.",Fa);},Ca);}});},Ca);}});Sa={result:function(){},timeout:function(){},error:function(){}};Na=Db.Class.create({init:function(sa,Ca,Ha,Ka,Fa,Ua,Ja,Wa,$a){var Va;if(Ja){Va=Ja.builder;Ja=Ja.tokenTicket;}else Ja=Va=null;Object.defineProperties(this,{_ctrl:{value:sa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_input:{value:Fa,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Va,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ja,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:$a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Cb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(sa){this._abortFunc=sa;},execute:function(sa,Ca,Ha,Ka,Fa){var Wa;function Ua($a){function Va(ib){ab(Fa,function(){var lb;lb=$a.response;return ib?ib:lb;},Wa);}ab(Fa,function(){var ib,lb;ib=$a.response;ib.close();lb=ib.getErrorHeader();this._ctrl.cleanupContext(this._ctx,$a.requestHeader,lb);this._ctrl.buildErrorResponse(this,this._ctx,sa,$a,lb,Ha,{result:function(pb){ab(Fa,function(){var qb,rb,Ab,yb;if(!pb)return ib;qb=pb.errorResult;rb=pb.tokenTicket;Ab=qb.builder;qb=qb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(qb,Ab,this._timeout,Ka,{result:function(r){ab(Fa,function(){this._ctrl.releaseMasterToken(rb);Va(r);},Wa);},timeout:function(){ab(Fa,function(){this._ctrl.releaseMasterToken(rb);Fa.timeout();},Wa);},error:function(r){ab(Fa,function(){this._ctrl.releaseMasterToken(rb);Fa.error(r);},Wa);}});else {this._openedStreams && (this._input.close(),this._output.close(Ha,Sa));yb=new Na(this._ctrl,this._ctx,qb,this._remoteEntity,null,null,{builder:Ab,tokenTicket:rb},Ka,this._timeout);this.setAbort(function(){yb.abort();});yb.call({result:function(r){Va(r);},timeout:function(){Fa.timeout();},error:function(r){Fa.error(r);}});}},Wa);},timeout:function(){Fa.timeout();},error:function(pb){Fa.error(pb);}});},Wa);}function Ja($a){ab(Fa,function(){var lb,pb,qb,rb,Ab;function Va(){lb.read(32768,Wa._timeout,{result:function(yb){yb?Va():ib();},timeout:function(){Fa.timeout();},error:function(yb){Fa.error(yb);}});}function ib(){ab(Fa,function(){var yb;yb=new ta($a.payloads,sa);this._ctrl.buildResponse(this,this._ctx,sa,pb,Ha,{result:function(r){ab(Fa,function(){var b;b=r.tokenTicket;this.execute(yb,r.builder,this._timeout,Ka,{result:function(a){ab(Fa,function(){this._ctrl.releaseMasterToken(b);return a;},Wa);},timeout:function(){ab(Fa,function(){this._ctrl.releaseMasterToken(b);Fa.timeout();},Wa);},error:function(a){ab(Fa,function(){this._ctrl.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Fa.timeout();},error:function(r){Fa.error(r);}});},Wa);}lb=$a.response;pb=lb.getMessageHeader();qb=$a.payloads;qb=0 < qb.length && 0 < qb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!$a.handshake || !qb)return lb;this._openedStreams && (this._input.close(),this._output.close(Ha,Sa));rb=new ta($a.payloads,sa);this._ctrl.buildResponse(this,this._ctx,sa,pb,Ha,{result:function(yb){ab(Fa,function(){var r;r=new Na(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,yb,Ka,this._timeout);this.setAbort(function(){r.abort();});r.call(Fa);},Wa);},timeout:function(){Fa.timeout();},error:function(yb){Fa.error(yb);}});}else if($a.handshake && qb)Va();else if(0 < pb.keyRequestData.length){Ab=new Da(sa);this._ctrl.buildResponse(this,this._ctx,Ab,pb,Ha,{result:function(yb){ab(Fa,function(){var r,b;r=yb.builder;b=yb.tokenTicket;lb.mark();lb.read(1,this._timeout,{result:function(a){ab(Fa,function(){function d(){lb.read(32768,Wa._timeout,{result:function(h){h?d():l();},timeout:function(){Fa.timeout();},error:function(h){Fa.error(h);}});}function l(){Wa.execute(Ab,r,Wa._timeout,Ka,{result:function(h){ab(Fa,function(){this._ctrl.releaseMasterToken(b);return h;},Wa);},timeout:function(){ab(Fa,function(){this._ctrl.releaseMasterToken(b);Fa.timeout();},Wa);},error:function(h){ab(Fa,function(){this._ctrl.releaseMasterToken(b);throw h;},Wa);}});}if(a){if((lb.reset(),12 >= Ka + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,Ab,this._output,r,this._timeout,{result:function(h){ab(Fa,function(){this.releaseMasterToken(b);return lb;},Wa);},timeout:function(){Fa.timeout();},error:function(h){Fa.error(h);}}));else return (this.releaseMasterToken(b),lb);}else d();},Wa);},timeout:function(){ab(Fa,function(){this.releaseMasterToken(b);Fa.timeout();},Wa);},error:function(a){ab(Fa,function(){this.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Fa.timeout();},error:function(yb){Fa.error(yb);}});}},Wa);}Wa=this;ab(Fa,function(){if(12 < Ka + 2)return null;this._ctrl.sendReceive(this,this._ctx,sa,this._input,this._output,Ca,Ha,!0,{result:function($a){ab(Fa,function(){var Va;if(!$a)return null;Va=$a.response;Ka+=2;Va.getMessageHeader()?Ja($a):Ua($a);},Wa);},timeout:function(){Fa.timeout();},error:function($a){Fa.error($a);}});},Wa);},call:function(sa){var Ha;function Ca(Ka,Fa,Ua){ab(sa,function(){this.execute(this._msgCtx,Ka,Ua,this._msgCount,{result:function(Ja){ab(sa,function(){this._ctrl.releaseMasterToken(Fa);this._openedStreams && this._output.close(Ua,Sa);Ja && Ja.closeSource(this._openedStreams);return Ja;},Ha);},timeout:function(){ab(sa,function(){this._ctrl.releaseMasterToken(Fa);this._openedStreams && (this._output.close(Ua,Sa),this._input.close());sa.timeout();},Ha);},error:function(Ja){ab(sa,function(){this._ctrl.releaseMasterToken(Fa);this._openedStreams && (this._output.close(Ua,Sa),this._input.close());if(ba(Ja))return null;throw Ja;},Ha);}});},Ha);}Ha=this;ab(sa,function(){var Ka,Fa,Ua;Ka=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Fa=Date.now();Ua=this._remoteEntity.openConnection();this._output=Ua.output;this._input=Ua.input;-1 != Ka && (Ka=this._timeout - (Date.now() - Fa));this._openedStreams=!0;}catch(Ja){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Sa);this._input && this._input.close();if(ba(Ja))return null;throw Ja;}this._builder?Ca(this._builder,this._tokenTicket,Ka):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ja){ab(sa,function(){Ca(Ja.builder,Ja.tokenTicket,Ka);},Ha);},timeout:function(){ab(sa,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());sa.timeout();},Ha);},error:function(Ja){ab(sa,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());if(ba(Ja))return null;throw Ja;},Ha);}});},Ha);}});})();(function(){Sd=Db.Class.create({init:function(ja){Object.defineProperties(this,{id:{value:ja,writable:!1,configurable:!1}});},toJSON:function(){var ja;ja={};ja.id=this.id;return ja;},equals:function(ja){return this === ja?!0:ja instanceof Sd?this.id == ja.id:!1;},uniqueKey:function(){return this.id;}});Xe=function(ja){var ca;ca=ja.id;if(!ca)throw new Eb(Y.JSON_PARSE_ERROR,JSON.stringify(ja));return new Sd(ca);};})();Db.Class.create({isNewestMasterToken:function(ja,ca,Z){},isMasterTokenRevoked:function(ja,ca){},acceptNonReplayableId:function(ja,ca,Z,aa){},createMasterToken:function(ja,ca,Z,aa,ea){},isMasterTokenRenewable:function(ja,ca,Z){},renewMasterToken:function(ja,ca,Z,aa,ea){},isUserIdTokenRevoked:function(ja,ca,Z,aa){},createUserIdToken:function(ja,ca,Z,aa){},renewUserIdToken:function(ja,ca,Z,aa){}});(function(){function ja(ca,Z,aa,ea){this.sessiondata=ca;this.tokendata=Z;this.signature=aa;this.verified=ea;}ec=Db.Class.create({init:function(ca,Z,aa,ea,ba,ma,za,va,na,ta,Da){var oa;oa=this;Pa(Da,function(){var da,ia,la,Ba,Sa;if(aa.getTime() < Z.getTime())throw new wb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Mb)throw new wb("Sequence number " + ea + " is outside the valid range.");if(0 > ba || ba > Mb)throw new wb("Serial number " + ba + " is outside the valid range.");da=Math.floor(Z.getTime() / 1E3);ia=Math.floor(aa.getTime() / 1E3);if(ta)la=ta.sessiondata;else {Ba={};ma && (Ba.issuerdata=ma);Ba.identity=za;Ba.encryptionkey=Gb(va.toByteArray());Ba.hmackey=Gb(na.toByteArray());la=bc(JSON.stringify(Ba),Nb);}if(ta)return (Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ia,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},identity:{value:za,writable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1},sessiondata:{value:la,writable:!1,enumerable:!1,configurable:!1},verified:{value:ta.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ta.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Sa=ca.getMslCryptoContext();Sa.encrypt(la,{result:function(Na){Pa(Da,function(){var Ra,Ta;Ra={};Ra.renewalwindow=da;Ra.expiration=ia;Ra.sequencenumber=ea;Ra.serialnumber=ba;Ra.sessiondata=Gb(Na);Ta=bc(JSON.stringify(Ra),Nb);Sa.sign(Ta,{result:function(sa){Pa(Da,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ia,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},identity:{value:za,writable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1},sessiondata:{value:la,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(sa){Da.error(sa);}});},oa);},error:function(Na){Da.error(Na);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ca){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ca){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ca){var Z;if(this.sequenceNumber == ca.sequenceNumber)return this.expiration > ca.expiration;if(this.sequenceNumber > ca.sequenceNumber){Z=this.sequenceNumber - Mb + 127;return ca.sequenceNumber >= Z;}Z=ca.sequenceNumber - Mb + 127;return this.sequenceNumber < Z;},toJSON:function(){var ca;ca={};ca.tokendata=Gb(this.tokendata);ca.signature=Gb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof ec?this.serialNumber == ca.serialNumber && this.sequenceNumber == ca.sequenceNumber && this.expiration.getTime() == ca.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});$c=function(ca,Z,aa){Pa(aa,function(){var ea,ba,ma,za,va;ea=ca.getMslCryptoContext();ba=Z.tokendata;ma=Z.signature;if("string" !== typeof ba || "string" !== typeof ma)throw new Eb(Y.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(Z));try{za=Ib(ba);}catch(na){throw new db(Y.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(Z),na);}if(!za || 0 == za.length)throw new Eb(Y.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(Z));try{va=Ib(ma);}catch(na){throw new db(Y.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(Z),na);}ea.verify(za,va,{result:function(na){Pa(aa,function(){var ta,Da,oa,da,ia,la,Ba,Sa,Na,Ra;ta=ac(za,Nb);try{Da=JSON.parse(ta);oa=parseInt(Da.renewalwindow);da=parseInt(Da.expiration);ia=parseInt(Da.sequencenumber);la=parseInt(Da.serialnumber);Ba=Da.sessiondata;}catch(Ta){if(Ta instanceof SyntaxError)throw new Eb(Y.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ta,Ta);throw Ta;}if(!oa || oa != oa || !da || da != da || "number" !== typeof ia || ia != ia || "number" !== typeof la || la != la || "string" !== typeof Ba)throw new Eb(Y.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ta);if(da < oa)throw new db(Y.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ta);if(0 > ia || ia > Mb)throw new db(Y.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + ta);if(0 > la || la > Mb)throw new db(Y.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + ta);Sa=new Date(1E3 * oa);Na=new Date(1E3 * da);try{Ra=Ib(Ba);}catch(Ta){throw new db(Y.MASTERTOKEN_SESSIONDATA_INVALID,Ba,Ta);}if(!Ra || 0 == Ra.length)throw new db(Y.MASTERTOKEN_SESSIONDATA_MISSING,Ba);na?ea.decrypt(Ra,{result:function(Ta){Pa(aa,function(){var sa,Ca,Ha,Ka,Fa,Ua;sa=ac(Ta,Nb);try{Ca=JSON.parse(sa);Ha=Ca.issuerdata;Ka=Ca.identity;Fa=Ca.encryptionkey;Ua=Ca.hmackey;}catch(Ja){if(Ja instanceof SyntaxError)throw new Eb(Y.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + sa,Ja);throw Ja;}if(Ha && "object" !== typeof Ha || !Ka || "string" !== typeof Fa || "string" !== typeof Ua)throw new Eb(Y.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + sa);oc(Fa,jc,yc,{result:function(Ja){oc(Ua,kc,Hc,{result:function(Wa){Pa(aa,function(){var $a;$a=new ja(Ta,za,va,na);new ec(ca,Sa,Na,ia,la,Ha,Ka,Ja,Wa,$a,aa);});},error:function(Wa){aa.error(new ub(Y.MASTERTOKEN_KEY_CREATION_ERROR,Wa));}});},error:function(Ja){aa.error(new ub(Y.MASTERTOKEN_KEY_CREATION_ERROR,Ja));}});});},error:function(Ta){aa.error(Ta);}}):(oa=new ja(null,za,va,na),new ec(ca,Sa,Na,ia,la,null,null,null,null,oa,aa));});},error:function(na){aa.error(na);}});});};})();(function(){function ja(ca,Z,aa){this.tokendata=ca;this.signature=Z;this.verified=aa;}Oc=Db.Class.create({init:function(ca,Z,aa,ea,ba,ma,za,va,na){var ta;ta=this;Pa(na,function(){var Da,oa,da,ia,la,Ba,Sa;if(aa.getTime() < Z.getTime())throw new wb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new wb("Cannot construct a user ID token without a master token.");if(0 > ba || ba > Mb)throw new wb("Serial number " + ba + " is outside the valid range.");Da=Math.floor(Z.getTime() / 1E3);oa=Math.floor(aa.getTime() / 1E3);da=ea.serialNumber;if(va){ia=va.tokendata;la=va.signature;Ba=va.verified;da=ea.serialNumber;Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},customer:{value:za,writable:!1,configurable:!1},verified:{value:Ba,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;}ia={};ma && (ia.issuerdata=ma);ia.identity=za;ia=bc(JSON.stringify(ia),Nb);Sa=ca.getMslCryptoContext();Sa.encrypt(ia,{result:function(Na){Pa(na,function(){var Ra,Ta;Ra={};Ra.renewalwindow=Da;Ra.expiration=oa;Ra.mtserialnumber=da;Ra.serialnumber=ba;Ra.userdata=Gb(Na);Ta=bc(JSON.stringify(Ra),Nb);Sa.sign(Ta,{result:function(sa){Pa(na,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},customer:{value:za,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(sa){Pa(na,function(){sa instanceof db && sa.setEntity(ea);throw sa;},ta);}});},ta);},error:function(Na){Pa(na,function(){Na instanceof db && Na.setEntity(ea);throw Na;},ta);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ca){return ca && ca.serialNumber == this.mtSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Gb(this.tokendata);ca.signature=Gb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof Oc?this.serialNumber == ca.serialNumber && this.mtSerialNumber == ca.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});qd=function(ca,Z,aa,ea){Pa(ea,function(){var ba,ma,za,va,na;ba=ca.getMslCryptoContext();ma=Z.tokendata;za=Z.signature;if("string" !== typeof ma || "string" !== typeof za)throw new Eb(Y.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(Z)).setEntity(aa);try{va=Ib(ma);}catch(ta){throw new db(Y.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Z),ta).setEntity(aa);}if(!va || 0 == va.length)throw new Eb(Y.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(Z)).setEntity(aa);try{na=Ib(za);}catch(ta){throw new db(Y.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Z),ta).setEntity(aa);}ba.verify(va,na,{result:function(ta){Pa(ea,function(){var Da,oa,da,ia,la,Ba,Sa,Na,Ra,Ta;Da=ac(va,Nb);try{oa=JSON.parse(Da);da=parseInt(oa.renewalwindow);ia=parseInt(oa.expiration);la=parseInt(oa.mtserialnumber);Ba=parseInt(oa.serialnumber);Sa=oa.userdata;}catch(sa){if(sa instanceof SyntaxError)throw new Eb(Y.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Da,sa).setEntity(aa);throw sa;}if(!da || da != da || !ia || ia != ia || "number" !== typeof la || la != la || "number" !== typeof Ba || Ba != Ba || "string" !== typeof Sa)throw new Eb(Y.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Da).setEntity(aa);if(ia < da)throw new db(Y.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Da).setEntity(aa);if(0 > la || la > Mb)throw new db(Y.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Da).setEntity(aa);if(0 > Ba || Ba > Mb)throw new db(Y.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Da).setEntity(aa);Na=new Date(1E3 * da);Ra=new Date(1E3 * ia);if(!aa || la != aa.serialNumber)throw new db(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + la + "; mt " + JSON.stringify(aa)).setEntity(aa);try{Ta=Ib(Sa);}catch(sa){throw new db(Y.USERIDTOKEN_USERDATA_INVALID,Sa,sa).setEntity(aa);}if(!Ta || 0 == Ta.length)throw new db(Y.USERIDTOKEN_USERDATA_MISSING,Sa).setEntity(aa);ta?ba.decrypt(Ta,{result:function(sa){Pa(ea,function(){var Ca,Ha,Ka,Fa,Ua;Ca=ac(sa,Nb);try{Ha=JSON.parse(Ca);Ka=Ha.issuerdata;Fa=Ha.identity;}catch(Ja){if(Ja instanceof SyntaxError)throw new Eb(Y.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Ca).setEntity(aa);throw Ja;}if(Ka && "object" !== typeof Ka || "object" !== typeof Fa)throw new Eb(Y.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Ca).setEntity(aa);try{Ua=Xe(Fa);}catch(Ja){throw new db(Y.USERIDTOKEN_IDENTITY_INVALID,"userdata " + Ca,Ja).setEntity(aa);}Fa=new ja(va,na,ta);new Oc(ca,Na,Ra,aa,Ba,Ka,Ua,Fa,ea);});},error:function(sa){Pa(ea,function(){sa instanceof db && sa.setEntity(aa);throw sa;});}}):(da=new ja(va,na,ta),new Oc(ca,Na,Ra,aa,Ba,null,null,da,ea));});},error:function(ta){Pa(ea,function(){ta instanceof db && ta.setEntity(aa);throw ta;});}});});};})();(function(){function ja(Z,aa){var ea,ba,ma;ea=Z.tokendata;if("string" !== typeof ea)throw new Eb(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z));try{ba=Ib(ea);}catch(za){throw new db(Y.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Z),za);}if(!ba || 0 == ba.length)throw new Eb(Y.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Z));try{ma=JSON.parse(ac(ba,Nb)).name;}catch(za){if(za instanceof SyntaxError)throw new Eb(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z),za);throw za;}if(!ma)throw new Eb(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z));return aa[ma]?aa[ma]:aa[""];}function ca(Z,aa,ea){this.tokendata=Z;this.signature=aa;this.verified=ea;}Ac=Db.Class.create({init:function(Z,aa,ea,ba,ma,za,va,na,ta,Da){var oa;oa=this;Pa(Da,function(){var da,ia,la,Ba,Sa;if(ba && ma && !ma.isBoundTo(ba))throw new wb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");da=ba?ba.serialNumber:-1;ia=ma?ma.serialNumber:-1;if(ta)return (Sa=ta.tokendata,Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:za,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:va,writable:!1,configurable:!1},verified:{value:ta.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(va){la=Rd(va,ea);la.length < ea.length || (va=null,la=ea);}else (va=null,la=ea);Ba={};Ba.name=aa;-1 != da && (Ba.mtserialnumber=da);-1 != ia && (Ba.uitserialnumber=ia);Ba.encrypted=za;va && (Ba.compressionalgo=va);if(za && 0 < la.length)na.encrypt(la,{result:function(Na){Pa(Da,function(){var Ra;Ba.servicedata=Gb(Na);Ra=bc(JSON.stringify(Ba),Nb);na.sign(Ra,{result:function(Ta){Pa(Da,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:za,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:va,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ta){Pa(Da,function(){Ta instanceof db && (Ta.setEntity(ba),Ta.setUser(ma));throw Ta;});}});},oa);},error:function(Na){Pa(Da,function(){Na instanceof db && (Na.setEntity(ba),Na.setUser(ma));throw Na;});}});else {Ba.servicedata=Gb(la);Sa=bc(JSON.stringify(Ba),Nb);na.sign(Sa,{result:function(Na){Pa(Da,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:za,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:va,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Na,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Na){Pa(Da,function(){Na instanceof db && (Na.setEntity(ba),Na.setUser(ma));throw Na;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(Z){return Z?Z instanceof ec?Z.serialNumber == this.mtSerialNumber:Z instanceof Oc?Z.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var Z;Z={};Z.tokendata=Gb(this.tokendata);Z.signature=Gb(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof Ac?this.name == Z.name && this.mtSerialNumber == Z.mtSerialNumber && this.uitSerialNumber == Z.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});uc=function(Z,aa,ea,ba,ma,za,va,na,ta){new Ac(Z,aa,ea,ba,ma,za,va,na,null,ta);};rd=function(Z,aa,ea,ba,ma,za){Pa(za,function(){var va,na,ta,Da,oa,da,ia,la,Ba,Sa,Na,Ra,Ta;!ma || ma instanceof Pc || (ma=ja(aa,ma));va=aa.tokendata;na=aa.signature;if("string" !== typeof va || "string" !== typeof na)throw new Eb(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(aa)).setEntity(ea).setEntity(ba);try{ta=Ib(va);}catch(sa){throw new db(Y.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(aa),sa).setEntity(ea).setEntity(ba);}if(!ta || 0 == ta.length)throw new Eb(Y.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(aa)).setEntity(ea).setEntity(ba);try{Da=Ib(na);}catch(sa){throw new db(Y.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(aa),sa).setEntity(ea).setEntity(ba);}oa=ac(ta,Nb);try{da=JSON.parse(oa);ia=da.name;la=da.mtserialnumber?parseInt(da.mtserialnumber):-1;Ba=da.uitserialnumber?parseInt(da.uitserialnumber):-1;Sa=da.encrypted;Na=da.compressionalgo;Ra=da.servicedata;}catch(sa){if(sa instanceof SyntaxError)throw new Eb(Y.JSON_PARSE_ERROR,"servicetokendata " + oa,sa).setEntity(ea).setEntity(ba);throw sa;}if(!ia || "number" !== typeof la || la != la || "number" !== typeof Ba || Ba != Ba || "boolean" !== typeof Sa || Na && "string" !== typeof Na || "string" !== typeof Ra)throw new Eb(Y.JSON_PARSE_ERROR,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(da.mtserialnumber && 0 > la || la > Mb)throw new db(Y.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(da.uitserialnumber && 0 > Ba || Ba > Mb)throw new db(Y.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(-1 != la && (!ea || la != ea.serialNumber))throw new db(Y.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + la + "; mt " + ea).setEntity(ea).setEntity(ba);if(-1 != Ba && (!ba || Ba != ba.serialNumber))throw new db(Y.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + Ba + "; uit " + ba).setEntity(ea).setEntity(ba);Sa=!0 === Sa;if(Na){if(!Fc[Na])throw new db(Y.UNIDENTIFIED_COMPRESSION,Na);Ta=Na;}else Ta=null;ma?ma.verify(ta,Da,{result:function(sa){Pa(za,function(){var Ca,Ha;if(sa){try{Ca=Ib(Ra);}catch(Ka){throw new db(Y.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa,Ka).setEntity(ea).setEntity(ba);}if(!Ca || 0 != Ra.length && 0 == Ca.length)throw new db(Y.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(Sa && 0 < Ca.length)ma.decrypt(Ca,{result:function(Ka){Pa(za,function(){var Fa,Ua;Fa=Ta?sd(Ta,Ka):Ka;Ua=new ca(ta,Da,sa);new Ac(Z,ia,Fa,-1 != la?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,Ua,za);});},error:function(Ka){Pa(za,function(){Ka instanceof db && (Ka.setEntity(ea),Ka.setUser(ba));throw Ka;});}});else {Ca=Ta?sd(Ta,Ca):Ca;Ha=new ca(ta,Da,sa);new Ac(Z,ia,Ca,-1 != la?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,Ha,za);}}else (Ca="" == Ra?new Uint8Array(0):null,Ha=new ca(ta,Da,sa),new Ac(Z,ia,Ca,-1 != la?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,Ha,za));});},error:function(sa){Pa(za,function(){sa instanceof db && (sa.setEntity(ea),sa.setUser(ba));throw sa;});}}):(va="" == Ra?new Uint8Array(0):null,na=new ca(ta,Da,!1),new Ac(Z,ia,va,-1 != la?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,na,za));});};})();Bc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Bc);(function(){Vc=Db.Class.create({init:function(ja){Object.defineProperties(this,{scheme:{value:ja,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ja){return this === ja?!0:ja instanceof Vc?this.scheme == ja.scheme:!1;},toJSON:function(){var ja;ja={};ja.scheme=this.scheme;ja.authdata=this.getAuthData();return ja;}});Me=function(ja,ca,Z,aa){Pa(aa,function(){var ea,ba,ma;ea=Z.scheme;ba=Z.authdata;if(!ea || !ba)throw new Eb(Y.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(Z));if(!Bc[ea])throw new xc(Y.UNIDENTIFIED_USERAUTH_SCHEME,ea);ma=ja.getUserAuthenticationFactory(ea);if(!ma)throw new xc(Y.USERAUTH_FACTORY_NOT_FOUND,ea);ma.createData(ja,ca,ba,aa);});};})();Ye=Db.Class.create({init:function(ja){Object.defineProperties(this,{scheme:{value:ja,writable:!1,configurable:!1}});},createData:function(ja,ca,Z,aa){},authenticate:function(ja,ca,Z,aa){}});(function(){cd=Vc.extend({init:function aa(ca,Z){aa.base.call(this,Bc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ca,writable:!1,configurable:!1},secureNetflixId:{value:Z,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.netflixid=this.netflixId;this.secureNetflixId && (ca.securenetflixid=this.secureNetflixId);return ca;},equals:function aa(Z){return this === Z?!0:Z instanceof cd?aa.base.call(this,Z) && this.netflixId == Z.netflixId && this.secureNetflixId == Z.secureNetflixId:!1;}});Ze=function(Z){var aa,ea;aa=Z.netflixid;ea=Z.securenetflixid;if(!aa)throw new Eb(Y.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(Z));return new cd(aa,ea);};})();zf=Ye.extend({init:function ca(){ca.base.call(this,Bc.NETFLIXID);},createData:function(ca,Z,aa,ea){Pa(ea,function(){return Ze(aa);});},authenticate:function(ca,Z,aa,ea){if(!(aa instanceof cd))throw new wb("Incorrect authentication data type " + aa + ".");ca=aa.secureNetflixId;if(!aa.netflixId || !ca)throw new xc(Y.NETFLIXID_COOKIES_BLANK).setUser(aa);throw new xc(Y.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(aa);}});(function(){dd=Vc.extend({init:function ea(Z,aa){ea.base.call(this,Bc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:Z,writable:!1,configurable:!1},password:{value:aa,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.email=this.email;Z.password=this.password;return Z;},equals:function ea(aa){return this === aa?!0:aa instanceof dd?ea.base.call(this,this,aa) && this.email == aa.email && this.password == aa.password:!1;}});$e=function(aa){var ea,ba;ea=aa.email;ba=aa.password;if(!ea || !ba)throw new Eb(Y.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(aa));return new dd(ea,ba);};})();Af=Ye.extend({init:function Z(){Z.base.call(this,Bc.EMAIL_PASSWORD);},createData:function(Z,aa,ea,ba){Pa(ba,function(){return $e(ea);});},authenticate:function(Z,aa,ea,ba){if(!(ea instanceof dd))throw new wb("Incorrect authentication data type " + ea + ".");Z=ea.password;if(!ea.email || !Z)throw new xc(Y.EMAILPASSWORD_BLANK).setUser(ea);throw new xc(Y.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});Object.freeze({ENTITY_REAUTH:Ia.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ia.ENTITYDATA_REAUTH});Bf=Db.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(Z,aa){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(Z){},getUserAuthenticationFactory:function(Z){},getTokenFactory:function(){},getKeyExchangeFactory:function(Z){},getKeyExchangeFactories:function(){},getMslStore:function(){}});af=Db.Class.create({setCryptoContext:function(Z,aa){},getMasterToken:function(){},getNonReplayableId:function(Z){},getCryptoContext:function(Z){},removeCryptoContext:function(Z){},clearCryptoContexts:function(){},addUserIdToken:function(Z,aa){},getUserIdToken:function(Z){},removeUserIdToken:function(Z){},clearUserIdTokens:function(){},addServiceTokens:function(Z){},getServiceTokens:function(Z,aa){},removeServiceTokens:function(Z,aa,ea){},clearServiceTokens:function(){}});(function(){var Z;Z=Fc;Rd=function(aa,ea){var ba;ba={};switch(aa){case Z.LZW:return ge(ea,ba);case Z.GZIP:return gzip$compress(ea);default:throw new db(Y.UNSUPPORTED_COMPRESSION,aa);}};sd=function(aa,ea,ba){switch(aa){case Z.LZW:return he(ea);case Z.GZIP:return gzip$uncompress(ea);default:throw new db(Y.UNSUPPORTED_COMPRESSION,aa.name());}};})();af.extend({setCryptoContext:function(Z,aa){},getMasterToken:function(){return null;},getNonReplayableId:function(Z){return 1;},getCryptoContext:function(Z){return null;},removeCryptoContext:function(Z){},clearCryptoContexts:function(){},addUserIdToken:function(Z,aa){},getUserIdToken:function(Z){return null;},removeUserIdToken:function(Z){},clearUserIdTokens:function(){},addServiceTokens:function(Z){},getServiceTokens:function(Z,aa){if(aa){if(!Z)throw new db(Y.USERIDTOKEN_MASTERTOKEN_NULL);if(!aa.isBoundTo(Z))throw new db(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + Z.serialNumber);}return [];},removeServiceTokens:function(Z,aa,ea){if(ea && aa && !ea.isBoundTo(aa))throw new db(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.masterTokenSerialNumber + "; mt " + aa.serialNumber);},clearServiceTokens:function(){}});(function(){bf=af.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(aa,ea){var ba;if(ea){ba=aa.uniqueKey();this.masterTokens[ba]=aa;this.cryptoContexts[ba]=ea;}else this.removeCryptoContext(aa);},getMasterToken:function(){var aa,ea,ba;aa=null;for(ea in this.masterTokens){ba=this.masterTokens[ea];if(!aa || ba.isNewerThan(aa))aa=ba;}return aa;},getNonReplayableId:function(aa){var ea;aa=aa.serialNumber;ea=this.nonReplayableIds[aa] !== Cb?this.nonReplayableIds[aa]:0;if(0 > ea || ea > Mb)throw new wb("Non-replayable ID " + ea + " is outside the valid range.");ea=ea == Mb?0:ea + 1;return this.nonReplayableIds[aa]=ea;},getCryptoContext:function(aa){return this.cryptoContexts[aa.uniqueKey()];},removeCryptoContext:function(aa){var ea,ba,ma,za;ea=aa.uniqueKey();if(this.masterTokens[ea]){ba=aa.serialNumber;for(ma in this.masterTokens){za=this.masterTokens[ma];if(!za.equals(aa) && za.serialNumber == ba){delete this.masterTokens[ea];delete this.cryptoContexts[ea];return;}}Object.keys(this.userIdTokens).forEach(function(va){va=this.userIdTokens[va];va.isBoundTo(aa) && this.removeUserIdToken(va);},this);try{this.removeServiceTokens(null,aa,null);}catch(va){if(va instanceof db)throw new wb("Unexpected exception while removing master token bound service tokens.",va);throw va;}delete this.nonReplayableIds[ba];delete this.masterTokens[ea];delete this.cryptoContexts[ea];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(aa){for(var ea in aa){delete aa[ea];}},this);},addUserIdToken:function(aa,ea){var ba,ma;ba=!1;for(ma in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ma])){ba=!0;break;}}if(!ba)throw new db(Y.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ea.mtSerialNumber);this.userIdTokens[aa]=ea;},getUserIdToken:function(aa){return this.userIdTokens[aa];},removeUserIdToken:function(aa){var ea,ba,ma;ea=null;for(ba in this.masterTokens){ma=this.masterTokens[ba];if(aa.isBoundTo(ma)){ea=ma;break;}}Object.keys(this.userIdTokens).forEach(function(za){if(this.userIdTokens[za].equals(aa)){try{this.removeServiceTokens(null,ea,aa);}catch(va){if(va instanceof db)throw new wb("Unexpected exception while removing user ID token bound service tokens.",va);throw va;}delete this.userIdTokens[za];}},this);},clearUserIdTokens:function(){for(var aa in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[aa]);}},addServiceTokens:function(aa){aa.forEach(function(ea){var ba,ma;if(ea.isMasterTokenBound()){ba=!1;for(ma in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ma])){ba=!0;break;}}if(!ba)throw new db(Y.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ea.mtSerialNumber);}if(ea.isUserIdTokenBound()){ba=!1;for(var za in this.userIdTokens){if(ea.isBoundTo(this.userIdTokens[za])){ba=!0;break;}}if(!ba)throw new db(Y.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ea.uitSerialNumber);}},this);aa.forEach(function(ea){var ba;if(ea.isUnbound())this.unboundServiceTokens[ea.uniqueKey()]=ea;else {if(ea.isMasterTokenBound()){ba=this.mtServiceTokens[ea.mtSerialNumber];ba || (ba={});ba[ea.uniqueKey()]=ea;this.mtServiceTokens[ea.mtSerialNumber]=ba;}ea.isUserIdTokenBound() && ((ba=this.uitServiceTokens[ea.uitSerialNumber]) || (ba={}),ba[ea.uniqueKey()]=ea,this.uitServiceTokens[ea.uitSerialNumber]=ba);}},this);},getServiceTokens:function(aa,ea){var ba,ma,za;if(ea){if(!aa)throw new db(Y.USERIDTOKEN_MASTERTOKEN_NULL);if(!ea.isBoundTo(aa))throw new db(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.mtSerialNumber + "; mt " + aa.serialNumber);}ba={};for(ma in this.unboundServiceTokens){za=this.unboundServiceTokens[ma];ba[za.uniqueKey()]=za;}if(aa && (ma=this.mtServiceTokens[aa.serialNumber]))for(var va in ma){za=ma[va];za.isUserIdTokenBound() || (ba[va]=za);}if(ea && (ea=this.uitServiceTokens[ea.serialNumber]))for(var na in ea){va=ea[na];va.isBoundTo(aa) && (ba[na]=va);}aa=[];for(var ta in ba){aa.push(ba[ta]);}return aa;},removeServiceTokens:function(aa,ea,ba){var ma,za,va;if(ba && ea && !ba.isBoundTo(ea))throw new db(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + ea.serialNumber);!aa || ea || ba || Object.keys(this.unboundServiceTokens).forEach(function(na){this.unboundServiceTokens[na].name == aa && delete this.unboundServiceTokens[na];},this);if(ea && !ba && (ma=this.mtServiceTokens[ea.serialNumber])){va=Object.keys(ma);va.forEach(function(na){var ta;ta=ma[na];aa && ta.name != aa || delete ma[na];},this);this.mtServiceTokens[ea.serialNumber]=ma;}ba && (za=this.uitServiceTokens[ba.serialNumber]) && (ea=Object.keys(za),ea.forEach(function(na){var ta;ta=za[na];aa && ta.name != aa || delete za[na];},this),this.uitServiceTokens[ba.serialNumber]=za);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(aa){for(var ea in aa){delete aa[ea];}},this);}});})();wf.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(aa,ea){ea && aa && aa.length && (aa=Gb(aa),this._contextMap[aa]=ea);},getCryptoContext:function(aa){return aa && aa.length?(aa=Gb(aa),this._contextMap[aa] || null):null;},removeCryptoContext:function(aa){aa && aa.length && (aa=Gb(aa),delete this._contextMap[aa]);}});of.extend({init:function va(ea,ba,ma,za){va.base.call(this,ea);Object.defineProperties(this,{_kde:{value:ba,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:za,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ea,ba){if(!(ba instanceof sc))throw new wb("Incorrect authentication data type " + JSON.stringify(ba) + ".");if(ba.identity != this.localIdentity)throw new mc(Y.ENTITY_NOT_FOUND,"mgk " + ba.identity);return new md(ea,this.localIdentity,this._kde,this._kdh,this._kdw);}});pf.extend({init:function na(ba,ma,za,va){na.base.call(this,ba);Object.defineProperties(this,{_kpe:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kph:{value:za,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,ma){if(!(ma instanceof tc))throw new wb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.identity != this.localIdentity)throw new mc(Y.ENTITY_NOT_FOUND,"psk " + ma.identity);return new md(ba,this.localIdentity,this._kpe,this._kph,this._kpw);}});Df=bf.extend({init:function oa(ma,za,va,na,ta,Da){oa.base.call(this);this._log=ma;this._esn=za;this._keyRequestData=va;this._createKeyRequestData=na;this._systemKeyName=ta;this._systemKeyWrapFormat=Da;},setCryptoContext:function ta(za,va,na){var Da;Da=this;Da._log.trace("Adding MasterToken",{SequenceNumber:za.sequenceNumber,SerialNumber:za.serialNumber,Expiration:za.expiration.getTime()});ta.base.call(this,za,va);!na && (za=Da._createKeyRequestData) && (Da._log.trace("Generating new keyx request data"),za().then(function(oa){Da._keyRequestData=oa;},function(oa){Da._log.error("Unable to generate new keyx request data","" + oa);}));},addUserIdToken:function ta(va,na){this._log.trace("Adding UserIdToken",{UserId:va,SerialNumber:na.serialNumber,MTSerialNumber:na.mtSerialNumber,Expiration:na.expiration.getTime()});ta.base.call(this,va,na);},addServiceTokens:function ta(na){ta.base.call(this,na.filter(function(Da){return !Cf[Da.name];}));},getUserIdTokenKeys:function(){var na,ta;na=[];for(ta in this.userIdTokens){na.push(ta);}return na;},rekeyUserIdToken:function(na,ta){this.userIdTokens[na] && (this.userIdTokens[ta]=this.userIdTokens[na],delete this.userIdTokens[na]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(na){var ta;ta=this;Pa(na,function(){var Da;Da=ta.getMasterToken();Da?ta.getKeysForStore(Da,{result:function(oa){Pa(na,function(){var da,ia,la;da=ta.userIdTokens;ia=Object.keys(da).map(function(Ba){var Sa;Sa=da[Ba];return {userId:Ba,userIdTokenJSON:da[Ba].toJSON(),serviceTokenJSONList:ta.getServiceTokens(Da,Sa).map(hf)};});oa.esn=ta._esn;oa.masterTokenJSON=Da.toJSON();oa.userList=ia;la=ta._keyRequestData.storeData;la && Object.keys(la).forEach(function(Ba){oa[Ba]=la[Ba];});return oa;});},timeout:na.timeout,error:na.error}):na.result(null);});},getKeysForStore:function(na,ta){var Da;Da=this;Pa(ta,function(){var oa;oa=Da.getCryptoContext(na);oa={encryptionKey:oa.encryptionKey,hmacKey:oa.hmacKey};if(oa.encryptionKey && oa.hmacKey){if(Da._systemKeyWrapFormat)Da.wrapKeysWithSystemKey(oa,ta);else return oa;}else throw new db(Y.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(na,ta){var Da;Da=this;ae(this._systemKeyName,{result:function(oa){Pa(ta,function(){var da,ia,la,Ba;da=na.encryptionKey;ia=na.hmacKey;la=da[Sc];Ba=ia[Sc];if(la && Ba)return {wrappedEncryptionKey:la,wrappedHmacKey:Ba};Promise.resolve().then(function(){return Promise.all([Lb.wrapKey(Da._systemKeyWrapFormat,da,oa,oa.algorithm),Lb.wrapKey(Da._systemKeyWrapFormat,ia,oa,oa.algorithm)]);}).then(function(Sa){la=Gb(Sa[0]);da[Sc]=la;Ba=Gb(Sa[1]);ia[Sc]=Ba;ta.result({wrappedEncryptionKey:la,wrappedHmacKey:Ba});}).catch(function(Sa){ta.error(new db(Y.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Sa));});});},timeout:ta.timeout,error:ta.error});},unwrapKeysWithSystemKey:function(na,ta){var Da;Da=this;ae(this._systemKeyName,{result:function(oa){Pa(ta,function(){var da,ia;da=Ib(na.wrappedEncryptionKey);ia=Ib(na.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Lb.unwrapKey(Da._systemKeyWrapFormat,da,oa,oa.algorithm,jc,!1,yc),Lb.unwrapKey(Da._systemKeyWrapFormat,ia,oa,oa.algorithm,kc,!1,Hc)]);}).then(function(la){var Ba;Ba=la[0];la=la[1];Ba[Sc]=na.wrappedEncryptionKey;la[Sc]=na.wrappedHmacKey;ta.result({encryptionKey:Ba,hmacKey:la});}).catch(function(la){ta.error(new db(Y.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",la));});});},timeout:ta.timeout,error:ta.error});},loadStoreState:function(na,ta,Da,oa){var la,Ba;function da(Sa,Na){var Ra;try{Ra=Da.userList.slice();}catch(Ta){}Ra?(function sa(){var Ca;Ca=Ra.shift();Ca?qd(ta,Ca.userIdTokenJSON,Sa,{result:function(Ha){try{la.addUserIdToken(Ca.userId,Ha);ia(Sa,Ha,Ca.serviceTokenJSONList,{result:sa,timeout:sa,error:sa});}catch(Ka){sa();}},timeout:sa,error:sa}):Na.result();})():Na.result();}function ia(Sa,Na,Ra,Ta){var sa,Ca;try{sa=Ra.slice();}catch(Ha){}if(sa){Ca=la.getCryptoContext(Sa);(function Ka(){var Fa;Fa=sa.shift();Fa?rd(ta,Fa,Sa,Na,Ca,{result:function(Ua){la.addServiceTokens([Ua]);Ka();},timeout:function(){Ka();},error:function(){Ka();}}):Ta.result();})();}else Ta.result();}la=this;Ba=la._log;Da.esn != la._esn?(Ba.error("Esn mismatch, starting fresh"),oa.error()):(function(Sa){var Ta,sa,Ca,Ha;function Na(){var Ka;if(!Ta && sa && Ca && Ha){Ta=!0;Ka=new hc(ta,sa,na.esn,{rawKey:Ca},{rawKey:Ha});la.setCryptoContext(sa,Ka,!0);Sa.result(sa);}}function Ra(Ka,Fa){Ba.error(Ka,Fa && "" + Fa);Ta || (Ta=!0,Sa.error());}Da.masterTokenJSON?($c(ta,Da.masterTokenJSON,{result:function(Ka){sa=Ka;Na();},timeout:function(){Ra("Timeout parsing MasterToken");},error:function(Ka){Ra("Error parsing MasterToken",Ka);}}),la._systemKeyWrapFormat?la.unwrapKeysWithSystemKey(Da,{result:function(Ka){Ca=Ka.encryptionKey;Ha=Ka.hmacKey;Na();},timeout:function(){Ra("Timeout unwrapping keys");},error:function(Ka){Ra("Error unwrapping keys",Ka);}}):Promise.resolve().then(function(){return Lb.encrypt({name:jc.name,iv:new Uint8Array(16)},Da.encryptionKey,new Uint8Array(1));}).then(function(Ka){Ca=Da.encryptionKey;}).catch(function(Ka){Ra("Error loading encryptionKey");}).then(function(){return Lb.sign(kc,Da.hmacKey,new Uint8Array(1));}).then(function(Ka){Ha=Da.hmacKey;Na();}).catch(function(Ka){Ra("Error loading hmacKey");})):Ra("Persisted store is corrupt");})({result:function(Sa){da(Sa,oa);},timeout:oa.timeout,error:oa.error});}});Cf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Sc="$netflix$msl$wrapsys";Ef=Bf.extend({init:function(na,ta,Da,oa,da,ia){var la,Ba;la=new ad([Fc.LZW]);Ba=new rf();Ba.addPublicKey(ta,Da);oa[Rb.RSA]=new qf(Ba);ta={};ta[Bc.EMAIL_PASSWORD]=new Af();ta[Bc.NETFLIXID]=new zf();na={_mslCryptoContext:{value:new nf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:la,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:da,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:oa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:ta,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ia,writable:!1,enumerable:!1,configurable:!1},_store:{value:na,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);},getTime:function(){return Date.now();},getRandom:function(){return new le();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(na,ta){ta.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(na){return this._entityAuthFactories[na];},getUserAuthenticationFactory:function(na){return this._userAuthFactories[na];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(na){return this._keyExchangeFactories.filter(function(ta){return ta.scheme == na;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ce=Ve.extend({init:function(na,ta,Da,oa){this._log=na;this._mslContext=ta;this._mslRequest=Da;this._keyRequestData=oa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(na,ta,Da,oa){var da;da=this._mslRequest;Pa(oa,function(){return na || !da.shouldSendUserAuthData?null:da.email?new dd(da.email,da.password):da.useNetflixUserAuthData || Da && da.sendUserAuthIfRequired?new cd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(na){na.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(na,ta,Da){var oa,da,ia,la,Ba,Sa;oa=this._log;da=(this._mslRequest.serviceTokens || []).slice();ia=this._mslContext;ta=ia.getMslStore();la=na.builder.getMasterToken();Ba=this.getUserId();Sa=ta.getUserIdToken(Ba);(function Ra(){var Ta;Ta=da.shift();if(Ta)try{Ta instanceof Ac?(na.addPrimaryServiceToken(Ta),Ra()):rd(ia,Ta,la,Sa,null,{result:function(sa){try{na.addPrimaryServiceToken(sa);}catch(Ca){oa.warn("Exception adding service token","" + Ca);}Ra();},timeout:function(){oa.warn("Timeout parsing service token");Ra();},error:function(sa){oa.warn("Error parsing service token","" + sa);Ra();}});}catch(sa){oa.warn("Exception processing service token","" + sa);Ra();}else Da.result(!0);})();},write:function(na,ta,Da){var oa;oa=bc(this._mslRequest.body);na.write(oa,0,oa.length,ta,{result:function(da){da != oa.length?Da.error(new Ub("Not all data was written to output.")):na.flush(ta,{result:function(){Da.result(!0);},timeout:function(){Da.timeout();},error:function(ia){Da.error(ia);}});},timeout:function(){Da.timeout();},error:function(da){Da.error(da);}});},getDebugContext:function(){this._dc || (this._dc=new Ff(this._log,this._mslRequest));return this._dc;}});Ff=yf.extend({init:function(na,ta){this._log=na;this._mslRequest=ta;},sentHeader:function(na){this._log.trace("Sent MSL header",be(this._mslRequest,na),na.serviceTokens && na.serviceTokens.map(jf).join("\n"));},receivedHeader:function(na){var ta,Da;ta=be(this._mslRequest,na);Da=na.errorCode;Da?this._log.warn("Received MSL error header",ta,{errorCode:Da,errorMessage:na.errorMessage,internalCode:na.internalCode}):this._log.trace("Received MSL header",ta);}});Gf={JWK_RSA:function(na){return lf(na,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ae.JWK_RSA);}};mb.netflix=mb.netflix || ({});mb.netflix.msl={createMslClient:function(na,ta){var Da,oa,da,ia,la;Da=na.log;la=na.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Pb && Pb.generateKey && Pb.importKey && Pb.unwrapKey))throw new db(Y.INTERNAL_EXCEPTION,"No WebCrypto");$b=Pb.generateKey({name:"AES-CBC",length:128},!0,yc).then?hd.V2014_02:hd.LEGACY;la("mslisik");return Lb.importKey("spki",na.serverIdentityKeyData,me,!1,["verify"]);}).then(function(Ba){return new Promise(function(Sa,Na){Ec(Ba,{result:Sa,error:function(){Na(new db(Y.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Ba){oa=Ba;if(Ba=Gf.JWK_RSA)return (la("mslcc"),Ba(na));throw new db(Y.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(Ba){var Sa;da=new Df(Da,na.esn,Ba.keyRequestData,Ba.createKeyRequestData,na.authenticationKeyNames.s,na.systemKeyWrapFormat);ia=new Ef(da,na.serverIdentityId,oa,Ba.entityAuthFactories,Ba.entityAuthData,Ba.keyExchangeFactories);Sa=na.storeState;if(Sa)return (la("mslss"),Da.info("Loading store state"),new Promise(function(Na,Ra){da.loadStoreState(na,ia,Sa,{result:Na,timeout:Na,error:Na});}));Da.info("No store state, starting fresh");}).then(function(){var Ba;Ba=new We();la("msldone");ta.result(new kf(Da,Ba,ia,da,na.ErrorSubCodes));}).catch(function(Ba){ta.error(Ba);});},IHttpLocation:uf,MslIoException:Ub};(function(){var $a,Va,ib,lb,pb,qb,rb,Ab,yb;function na(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function ta(r,b){var a,l;if(b)a:{a=Va;r=r.split(".");for(var d=0;d < r.length - 1;d++){l=r[d];if(!((l in a)))break a;a=a[l];}r=r[r.length - 1];d=a[r];b=b(d);b != d && null != b && $a(a,r,{configurable:!0,writable:!0,value:b});}}function Da(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function oa(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:na(r)};}function da(r){for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}return a;}function ia(r){return r instanceof Array?r:da(oa(r));}function la(r,b){var d;r.prototype=ib(b.prototype);r.prototype.constructor=r;if(Ab)Ab(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){d=Object.getOwnPropertyDescriptor(b,a);d && Object.defineProperty(r,a,d);}else r[a]=b[a];}r.Syc=b.prototype;}function Ba(){this.YZ=!1;this.gH=null;this.Tha=void 0;this.gG=1;this.C7a=this.WKb=0;this.uW=null;}function Sa(r){if(r.YZ)throw new TypeError("Generator is already running");r.YZ=!0;}function Na(r,b){r.gG=2;return {value:b};}function Ra(r){this.rg=new Ba();this.zcc=r;}function Ta(r,b){var a;Sa(r.rg);a=r.rg.gH;if(a)return sa(r,("return" in a)?a["return"]:function(d){return {value:d,done:!0};},b,r.rg.return);r.rg.return(b);return Ca(r);}function sa(r,b,a,d){var l,h;try{l=b.call(r.rg.gH,a);if(!(l instanceof Object))throw new TypeError("Iterator result " + l + " is not an object");if(!l.done)return (r.rg.YZ=!1,l);h=l.value;}catch(n){return (r.rg.gH=null,r.rg.v2(n),Ca(r));}r.rg.gH=null;d.call(r.rg,h);return Ca(r);}function Ca(r){var b;for(;r.rg.gG;){try{b=r.zcc(r.rg);if(b)return (r.rg.YZ=!1,{value:b.value,done:!1});}catch(a){r.rg.Tha=void 0;r.rg.v2(a);}}r.rg.YZ=!1;if(r.rg.uW){b=r.rg.uW;r.rg.uW=null;if(b.$2b)throw b.HP;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Ha(r){this.next=function(b){return r.a0(b);};this.throw=function(b){return r.v2(b);};this.return=function(b){return Ta(r,b);};this[Symbol.iterator]=function(){return this;};}function Ka(r,b){b=new Ha(new Ra(b));Ab && r.prototype && Ab(b,r.prototype);return b;}function Fa(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Ua(r,b){var a,d,l;r instanceof String && (r+="");a=0;d=!1;l={next:function(){var h;if(!d && a < r.length){h=a++;return {value:b(h,r[h]),done:!1};}d=!0;return {done:!0,value:void 0};}};l[Symbol.iterator]=function(){return l;};return l;}function Ja(r,b,a){var h;r instanceof String && (r=String(r));for(var d=r.length,l=0;l < d;l++){h=r[l];if(b.call(a,h,l,r))return {pxa:l,Cha:h};}return {pxa:-1,Cha:void 0};}function Wa(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}$a="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Va=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof mb && mb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);ta("Symbol",function(r){var d;function b(l){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (l || "") + "_" + d++,l);}function a(l,h){this.Erb=l;$a(this,"description",{configurable:!0,writable:!0,value:h});}if(r)return r;a.prototype.toString=function(){return this.Erb;};d=0;return b;});ta("Symbol.iterator",function(r){var d;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){d=Va[b[a]];"function" === typeof d && "function" != typeof d.prototype[r] && $a(d.prototype,r,{configurable:!0,writable:!0,value:function(){return Da(na(this));}});}return r;});ib="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};lb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,d,l){a=b(a,d);l && Reflect.setPrototypeOf(a,l.prototype);return a;};}return function(a,d,l){void 0 === l && (l=a);l=ib(l.prototype || Object.prototype);return Function.prototype.apply.call(a,l,d) || l;};})();if("function" == typeof Object.setPrototypeOf)pb=Object.setPrototypeOf;else {a:{qb={a:!0};rb={};try{rb.__proto__=qb;pb=rb.a;break a;}catch(r){}pb=!1;}pb=pb?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}Ab=pb;Ba.prototype.a0=function(r){this.Tha=r;};Ba.prototype.v2=function(r){this.uW={HP:r,$2b:!0};this.gG=this.WKb || this.C7a;};Ba.prototype.return=function(r){this.uW={return:r};this.gG=this.C7a;};Ra.prototype.a0=function(r){Sa(this.rg);if(this.rg.gH)return sa(this,this.rg.gH.next,r,this.rg.a0);this.rg.a0(r);return Ca(this);};Ra.prototype.v2=function(r){Sa(this.rg);if(this.rg.gH)return sa(this,this.rg.gH["throw"],r,this.rg.a0);this.rg.v2(r);return Ca(this);};ta("Reflect",function(r){return r?r:{};});ta("Reflect.construct",function(){return lb;});ta("Reflect.setPrototypeOf",function(r){return r?r:Ab?function(b,a){try{return (Ab(b,a),!0);}catch(d){return !1;}}:null;});ta("Object.setPrototypeOf",function(r){return r || Ab;});yb="function" == typeof Object.assign?Object.assign:function(r,b){var d;for(var a=1;a < arguments.length;a++){d=arguments[a];if(d)for(var l in d){Fa(d,l) && (r[l]=d[l]);}}return r;};ta("Object.assign",function(r){return r || yb;});ta("Promise",function(r){var l,h;function b(n){var c;this.FS=0;this.x1=void 0;this.tR=[];this.Lcb=!1;c=this.osa();try{n(c.resolve,c.reject);}catch(f){c.reject(f);}}function a(){this.CE=null;}function d(n){return n instanceof b?n:new b(function(c){c(n);});}if(r)return r;a.prototype.l1a=function(n){var c;if(null == this.CE){this.CE=[];c=this;this.m1a(function(){c.dUb();});}this.CE.push(n);};l=Va.setTimeout;a.prototype.m1a=function(n){l(n,0);};a.prototype.dUb=function(){var n,f;for(;this.CE && this.CE.length;){n=this.CE;this.CE=[];for(var c=0;c < n.length;++c){f=n[c];n[c]=null;try{f();}catch(g){this.BIb(g);}}}this.CE=null;};a.prototype.BIb=function(n){this.m1a(function(){throw n;});};b.prototype.osa=function(){var c,f;function n(g){return function(k){f || (f=!0,g.call(c,k));};}c=this;f=!1;return {resolve:n(this.Yec),reject:n(this.wDa)};};b.prototype.Yec=function(n){var c;if(n === this)this.wDa(new TypeError("A Promise cannot resolve to itself"));else if(n instanceof b)this.ihc(n);else {a:switch(typeof n){case "object":c=null != n;break a;case "function":c=!0;break a;default:c=!1;}c?this.Xec(n):this.y8a(n);}};b.prototype.Xec=function(n){var c;c=void 0;try{c=n.then;}catch(f){this.wDa(f);return;}"function" == typeof c?this.jhc(c,n):this.y8a(n);};b.prototype.wDa=function(n){this.Qmb(2,n);};b.prototype.y8a=function(n){this.Qmb(1,n);};b.prototype.Qmb=function(n,c){if(0 != this.FS)throw Error("Cannot settle(" + n + ", " + c + "): Promise already settled in state" + this.FS);this.FS=n;this.x1=c;2 === this.FS && this.Jfc();this.eUb();};b.prototype.Jfc=function(){var n;n=this;l(function(){var c;if(n.K8b()){c=Va.console;"undefined" !== typeof c && c.error(n.x1);}},1);};b.prototype.K8b=function(){var n,c,f;if(this.Lcb)return !1;n=Va.CustomEvent;c=Va.Event;f=Va.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof n?n=new n("unhandledrejection",{cancelable:!0}):"function" === typeof c?n=new c("unhandledrejection",{cancelable:!0}):(n=Va.document.createEvent("CustomEvent"),n.initCustomEvent("unhandledrejection",!1,!0,n));n.promise=this;n.reason=this.x1;return f(n);};b.prototype.eUb=function(){if(null != this.tR){for(var n=0;n < this.tR.length;++n){h.l1a(this.tR[n]);}this.tR=null;}};h=new a();b.prototype.ihc=function(n){var c;c=this.osa();n.x9(c.resolve,c.reject);};b.prototype.jhc=function(n,c){var f;f=this.osa();try{n.call(c,f.resolve,f.reject);}catch(g){f.reject(g);}};b.prototype.then=function(n,c){var g,k,m;function f(p,q){return "function" == typeof p?function(v){try{g(p(v));}catch(t){k(t);}}:q;}m=new b(function(p,q){g=p;k=q;});this.x9(f(n,g),f(c,k));return m;};b.prototype.catch=function(n){return this.then(void 0,n);};b.prototype.x9=function(n,c){var g;function f(){switch(g.FS){case 1:n(g.x1);break;case 2:c(g.x1);break;default:throw Error("Unexpected state: " + g.FS);}}g=this;null == this.tR?h.l1a(f):this.tR.push(f);this.Lcb=!0;};b.resolve=d;b.reject=function(n){return new b(function(c,f){f(n);});};b.race=function(n){return new b(function(c,f){for(var g=oa(n),k=g.next();!k.done;k=g.next()){d(k.value).x9(c,f);}});};b.all=function(n){var c,f;c=oa(n);f=c.next();return f.done?d([]):new b(function(g,k){var p,q;function m(v){return function(t){p[v]=t;q--;0 == q && g(p);};}p=[];q=0;do {p.push(void 0);q++;d(f.value).x9(m(p.length - 1),k);f=c.next();}while(!f.done);});};return b;});ta("Array.prototype.keys",function(r){return r?r:function(){return Ua(this,function(b){return b;});};});ta("Array.prototype.find",function(r){return r?r:function(b,a){return Ja(this,b,a).Cha;};});ta("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});ta("Array.prototype.includes",function(r){return r?r:function(b,a){var d,l,h;d=this;d instanceof String && (d=String(d));l=d.length;a=a || 0;for(0 > a && (a=Math.max(a + l,0));a < l;a++){h=d[a];if(h === b || Object.is(h,b))return !0;}return !1;};});ta("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Wa(this,b,"includes").indexOf(b,a || 0);};});ta("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ta("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});ta("WeakMap",function(r){var n,c;function b(f){this.CZ=(c+=Math.random() + 1).toString();if(f){f=oa(f);for(var g;!(g=f.next()).done;){g=g.value;this.set(g[0],g[1]);}}}function a(){}function d(f){var g;g=typeof f;return "object" === g && null !== f || "function" === g;}function l(f){var g;if(!Fa(f,n)){g=new a();$a(f,n,{value:g});}}function h(f){var g;g=Object[f];g && (Object[f]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && l(k);return g(k);});}if((function(){var f,g,k;if(!r || !Object.seal)return !1;try{f=Object.seal({});g=Object.seal({});k=new r([[f,2],[g,3]]);if(2 != k.get(f) || 3 != k.get(g))return !1;k.delete(f);k.set(g,4);return !k.has(f) && 4 == k.get(g);}catch(m){return !1;}})())return r;n="$jscomp_hidden_" + Math.random();h("freeze");h("preventExtensions");h("seal");c=0;b.prototype.set=function(f,g){if(!d(f))throw Error("Invalid WeakMap key");l(f);if(!Fa(f,n))throw Error("WeakMap key fail: " + f);f[n][this.CZ]=g;return this;};b.prototype.get=function(f){return d(f) && Fa(f,n)?f[n][this.CZ]:void 0;};b.prototype.has=function(f){return d(f) && Fa(f,n) && Fa(f[n],this.CZ);};b.prototype.delete=function(f){return d(f) && Fa(f,n) && Fa(f[n],this.CZ)?delete f[n][this.CZ]:!1;};return b;});ta("Map",function(r){var h,n;function b(){var c;c={};return c.mo=c.next=c.head=c;}function a(c,f){var g;g=c.VB;return Da(function(){if(g){for(;g.head != c.VB;){g=g.mo;}for(;g.next != g.head;){return (g=g.next,{done:!1,value:f(g)});}g=null;}return {done:!0,value:void 0};});}function d(c,f){var g,k,m;g=f && typeof f;"object" == g || "function" == g?h.has(f)?g=h.get(f):(g="" + ++n,h.set(f,g)):g="p_" + f;k=c.BB[g];if(k && Fa(c.BB,g))for(c=0;c < k.length;c++){m=k[c];if(f !== f && m.key !== m.key || f === m.key)return {id:g,list:k,index:c,entry:m};}return {id:g,list:k,index:-1,entry:void 0};}function l(c){this.BB={};this.VB=b();this.size=0;if(c){c=oa(c);for(var f;!(f=c.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var c,f,g,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{c=Object.seal({x:4});f=new r(oa([[c,"s"]]));if("s" != f.get(c) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;g=f.entries();k=g.next();if(k.done || k.value[0] != c || "s" != k.value[1])return !1;k=g.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !g.next().done?!1:!0;}catch(m){return !1;}})())return r;h=new WeakMap();l.prototype.set=function(c,f){var g;c=0 === c?0:c;g=d(this,c);g.list || (g.list=this.BB[g.id]=[]);g.entry?g.entry.value=f:(g.entry={next:this.VB,mo:this.VB.mo,head:this.VB,key:c,value:f},g.list.push(g.entry),this.VB.mo.next=g.entry,this.VB.mo=g.entry,this.size++);return this;};l.prototype.delete=function(c){c=d(this,c);return c.entry && c.list?(c.list.splice(c.index,1),c.list.length || delete this.BB[c.id],c.entry.mo.next=c.entry.next,c.entry.next.mo=c.entry.mo,c.entry.head=null,this.size--,!0):!1;};l.prototype.clear=function(){this.BB={};this.VB=this.VB.mo=b();this.size=0;};l.prototype.has=function(c){return !!d(this,c).entry;};l.prototype.get=function(c){return (c=d(this,c).entry) && c.value;};l.prototype.entries=function(){return a(this,function(c){return [c.key,c.value];});};l.prototype.keys=function(){return a(this,function(c){return c.key;});};l.prototype.values=function(){return a(this,function(c){return c.value;});};l.prototype.forEach=function(c,f){for(var g=this.entries(),k;!(k=g.next()).done;){k=k.value;c.call(f,k[1],k[0],this);}};l.prototype[Symbol.iterator]=l.prototype.entries;n=0;return l;});ta("Set",function(r){function b(a){this.Uy=new Map();if(a){a=oa(a);for(var d;!(d=a.next()).done;){this.add(d.value);}}this.size=this.Uy.size;}if((function(){var a,d,l,h;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});d=new r(oa([a]));if(!d.has(a) || 1 != d.size || d.add(a) != d || 1 != d.size || d.add({x:4}) != d || 2 != d.size)return !1;l=d.entries();h=l.next();if(h.done || h.value[0] != a || h.value[1] != a)return !1;h=l.next();return h.done || h.value[0] == a || 4 != h.value[0].x || h.value[1] != h.value[0]?!1:l.next().done;}catch(n){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.Uy.set(a,a);this.size=this.Uy.size;return this;};b.prototype.delete=function(a){a=this.Uy.delete(a);this.size=this.Uy.size;return a;};b.prototype.clear=function(){this.Uy.clear();this.size=0;};b.prototype.has=function(a){return this.Uy.has(a);};b.prototype.entries=function(){return this.Uy.entries();};b.prototype.values=function(){return this.Uy.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,d){var l;l=this;this.Uy.forEach(function(h){return a.call(d,h,h,l);});};return b;});ta("Array.prototype.entries",function(r){return r?r:function(){return Ua(this,function(b,a){return [b,a];});};});ta("Object.entries",function(r){return r?r:function(b){var a,d;a=[];for(d in b){Fa(b,d) && a.push([d,b[d]]);}return a;};});ta("Object.getOwnPropertySymbols",function(r){return r?r:function(){return [];};});ta("Reflect.apply",function(r){var b;if(r)return r;b=Function.prototype.apply;return function(a,d,l){return b.call(a,d,l);};});ta("String.prototype.endsWith",function(r){return r?r:function(b,a){var d;d=Wa(this,b,"endsWith");b+="";void 0 === a && (a=d.length);a=Math.max(0,Math.min(a | 0,d.length));for(var l=b.length;0 < l && 0 < a;){if(d[--a] != b[--l])return !1;}return 0 >= l;};});ta("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Wa(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var d="";b;){if((b & 1 && (d+=a),b>>>=1))a+=a;}return d;};});ta("Array.prototype.values",function(r){return r?r:function(){return Ua(this,function(b,a){return a;});};});ta("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ta("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Ja(this,b,a).pxa;};});ta("String.fromCodePoint",function(r){return r?r:function(b){var l;for(var a="",d=0;d < arguments.length;d++){l=Number(arguments[d]);if(0 > l || 1114111 < l || l !== Math.floor(l))throw new RangeError("invalid_code_point " + l);65535 >= l?a+=String.fromCharCode(l):(l-=65536,a+=String.fromCharCode(l >>> 10 & 1023 | 55296),a+=String.fromCharCode(l & 1023 | 56320));}return a;};});ta("Array.from",function(r){return r?r:function(b,a,d){var l,h;a=null != a?a:function(c){return c;};l=[];h="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof h){b=h.call(b);for(var n=0;!(h=b.next()).done;){l.push(a.call(d,h.value,n++));}}else for((h=b.length,n=0);n < h;n++){l.push(a.call(d,b[n],n));}return l;};});ta("Object.values",function(r){return r?r:function(b){var a,d;a=[];for(d in b){Fa(b,d) && a.push(b[d]);}return a;};});ta("String.prototype.startsWith",function(r){return r?r:function(b,a){var d,l,h;d=Wa(this,b,"startsWith");b+="";l=d.length;h=b.length;a=Math.max(0,Math.min(a | 0,d.length));for(var n=0;n < h && a < l;){if(d[a++] != b[n++])return !1;}return n >= h;};});ta("Promise.prototype.finally",function(r){return r?r:function(b){return this.then(function(a){return Promise.resolve(b()).then(function(){return a;});},function(a){return Promise.resolve(b()).then(function(){throw a;});});};});ta("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});ta("Number.parseInt",function(r){return r || parseInt;});(function(r){var a;function b(d){var l;if(a[d])return a[d].exports;l=a[d]={pxa:d,j4b:!1,exports:{}};r[d].call(l.exports,l,l.exports,b);l.j4b=!0;return l.exports;}a={};b.Hwc=r;b.c=a;b.d=function(d,l,h){b.U8b(d,l) || Object.defineProperty(d,l,{enumerable:!0,get:h});};b.r=function(d){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(d,Symbol.toStringTag,{value:"Module"});Object.defineProperty(d,"__esModule",{value:!0});};b.t=function(d,l){var h;l & 1 && (d=b(d));if(l & 8 || l & 4 && "object" === typeof d && d && d.__esModule)return d;h=Object.create(null);b.r(h);Object.defineProperty(h,"default",{enumerable:!0,value:d});if(l & 2 && "string" != typeof d)for(var n in d){b.d(h,n,(function(c){return d[c];}).bind(null,n));}return h;};b.n=function(d){var l;l=d && d.__esModule?function(){return d["default"];}:function(){return d;};b.d(l,"a",l);return l;};b.U8b=function(d,l){return Object.prototype.hasOwnProperty.call(d,l);};b.p="";return b(b.rfc=606);})([function(r,b,a){var K,O;function d(){d=Object.assign || (function(L){for(var I,M=1,H=arguments.length;M < H;M++){I=arguments[M];for(var J in I){Object.prototype.hasOwnProperty.call(I,J) && (L[J]=I[J]);}}return L;});return d.apply(this,arguments);}function l(L,I){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(M,H){M.__proto__=H;}) || (function(M,H){for(var J in H){Object.prototype.hasOwnProperty.call(H,J) && (M[J]=H[J]);}});return l(L,I);}function h(L,I){function M(){this.constructor=L;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");l(L,I);L.prototype=null === I?Object.create(I):(M.prototype=I.prototype,new M());}function n(L,I){var M,H,J;M={};for(H in L){Object.prototype.hasOwnProperty.call(L,H) && 0 > I.indexOf(H) && (M[H]=L[H]);}if(null != L && "function" === typeof Object.getOwnPropertySymbols){J=0;for(H=Object.getOwnPropertySymbols(L);J < H.length;J++){0 > I.indexOf(H[J]) && Object.prototype.propertyIsEnumerable.call(L,H[J]) && (M[H[J]]=L[H[J]]);}}return M;}function c(L,I,M,H){var J,N,P;J=arguments.length;N=3 > J?I:null === H?H=Object.getOwnPropertyDescriptor(I,M):H;if("object" === typeof Reflect && "function" === typeof Reflect.SE)N=Reflect.SE(L,I,M,H);else for(var X=L.length - 1;0 <= X;X--){if(P=L[X])N=(3 > J?P(N):3 < J?P(I,M,N):P(I,M)) || N;}return (3 < J && N && Object.defineProperty(I,M,N),N);}function f(L,I){return function(M,H){I(M,H,L);};}function g(L,I){if("object" === typeof Reflect && "function" === typeof Reflect.jd)return Reflect.jd(L,I);}function k(L,I,M,H){function J(N){return N instanceof M?N:new M(function(P){P(N);});}return new (M || (M=Promise))(function(N,P){function X(U){try{S(H.next(U));}catch(ha){P(ha);}}function V(U){try{S(H["throw"](U));}catch(ha){P(ha);}}function S(U){U.done?N(U.value):J(U.value).then(X,V);}S((H=H.apply(L,I || [])).next());});}function m(L,I){var J,N,P,X,V;function M(S){return function(U){return H([S,U]);};}function H(S){if(N)throw new TypeError("Generator is already executing.");for(;(V && (V=0,S[0] && (J=0)),J);){try{if((N=1,P && (X=S[0] & 2?P["return"]:S[0]?P["throw"] || ((X=P["return"]) && X.call(P),0):P.next) && !(X=X.call(P,S[1])).done))return X;if((P=0,X))S=[S[0] & 2,X.value];switch(S[0]){case 0:case 1:X=S;break;case 4:return (J.label++,{value:S[1],done:!1});case 5:J.label++;P=S[1];S=[0];continue;case 7:S=J.aL.pop();J.Mp.pop();continue;default:if(!(X=J.Mp,X=0 < X.length && X[X.length - 1]) && (6 === S[0] || 2 === S[0])){J=0;continue;}if(3 === S[0] && (!X || S[1] > X[0] && S[1] < X[3]))J.label=S[1];else if(6 === S[0] && J.label < X[1])(J.label=X[1],X=S);else if(X && J.label < X[2])(J.label=X[2],J.aL.push(S));else {X[2] && J.aL.pop();J.Mp.pop();continue;}}S=I.call(L,J);}catch(U){S=[6,U];P=0;}finally{N=X=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}J={label:0,ub:function(){if(X[0] & 1)throw X[1];return X[1];},Mp:[],aL:[]};return (V={next:M(0),"throw":M(1),"return":M(2)},"function" === typeof Symbol && (V[Symbol.iterator]=function(){return this;}),V);}function p(L,I){for(var M in L){"default" === M || Object.prototype.hasOwnProperty.call(I,M) || K(I,L,M);}}function q(L){var I,M,H;I="function" === typeof Symbol && Symbol.iterator;M=I && L[I];H=0;if(M)return M.call(L);if(L && "number" === typeof L.length)return {next:function(){L && H >= L.length && (L=void 0);return {value:L && L[H++],done:!L};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(L,I){var M,H,J;M="function" === typeof Symbol && L[Symbol.iterator];if(!M)return L;L=M.call(L);J=[];try{for(;(void 0 === I || 0 < I--) && !(H=L.next()).done;){J.push(H.value);}}catch(P){var N;N={error:P};}finally{try{H && !H.done && (M=L["return"]) && M.call(L);}finally{if(N)throw N.error;}}return J;}function t(){for(var L=[],I=0;I < arguments.length;I++){L=L.concat(v(arguments[I]));}return L;}function w(){var H;for(var L=0,I=0,M=arguments.length;I < M;I++){L+=arguments[I].length;}L=Array(L);H=0;for(I=0;I < M;I++){for(var J=arguments[I],N=0,P=J.length;N < P;(N++,H++)){L[H]=J[N];}}return L;}function u(L,I,M){if(M || 2 === arguments.length)for(var H=0,J=I.length,N;H < J;H++){!N && (H in I) || (N || (N=Array.prototype.slice.call(I,0,H)),N[H]=I[H]);}return L.concat(N || Array.prototype.slice.call(I));}function y(L){return this instanceof y?(this.Cha=L,this):new y(L);}function x(L,I,M){var V,S,U;function H(ha){V[ha] && (S[ha]=function(qa){return new Promise(function(xa,Aa){1 < U.push([ha,qa,xa,Aa]) || J(ha,qa);});});}function J(ha,qa){var xa;try{xa=V[ha](qa);xa.value instanceof y?Promise.resolve(xa.value.Cha).then(N,P):X(U[0][2],xa);}catch(Aa){X(U[0][3],Aa);}}function N(ha){J("next",ha);}function P(ha){J("throw",ha);}function X(ha,qa){(ha(qa),U.shift(),U.length) && J(U[0][0],U[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");V=M.apply(L,I || []);U=[];return (S={},H("next"),H("throw"),H("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(L){var M,H;function I(J,N){M[J]=L[J]?function(P){return (H=!H)?{value:y(L[J](P)),done:"return" === J}:N?N(P):P;}:N;}return (M={},I("next"),I("throw",function(J){throw J;}),I("return"),M[Symbol.iterator]=function(){return this;},M);}function B(L){var H,J;function I(N){J[N]=L[N] && (function(P){return new Promise(function(X,V){P=L[N](P);M(X,V,P.done,P.value);});});}function M(N,P,X,V){Promise.resolve(V).then(function(S){N({value:S,done:X});},P);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=L[Symbol.asyncIterator];return H?H.call(L):(L="function" === typeof q?q(L):L[Symbol.iterator](),J={},I("next"),I("throw"),I("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function A(L,I){Object.defineProperty?Object.defineProperty(L,"raw",{value:I}):L.raw=I;return L;}function C(L){var I;if(L && L.__esModule)return L;I={};if(null != L)for(var M in L){"default" !== M && Object.prototype.hasOwnProperty.call(L,M) && K(I,L,M);}O(I,L);return I;}function D(L){return L && L.__esModule?L:{default:L};}function E(L,I,M,H){if("a" === M && !H)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?L !== I || !H:!I.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === M?H:"a" === M?H.call(L):H?H.value:I.get(L);}function G(L,I,M,H,J){if("m" === H)throw new TypeError("Private method is not writable");if("a" === H && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?L !== I || !J:!I.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === H?J.call(L,M):J?J.value=M:I.set(L,M),M);}function F(L,I){if(null === I || "object" !== typeof I && "function" !== typeof I)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof L?I === L:L.has(I);}a.r(b);a.d(b,"__extends",function(){return h;});a.d(b,"__assign",function(){return d;});a.d(b,"__rest",function(){return n;});a.d(b,"__decorate",function(){return c;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return g;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return m;});a.d(b,"__createBinding",function(){return K;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return u;});a.d(b,"__await",function(){return y;});a.d(b,"__asyncGenerator",function(){return x;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return B;});a.d(b,"__makeTemplateObject",function(){return A;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return E;});a.d(b,"__classPrivateFieldSet",function(){return G;});a.d(b,"__classPrivateFieldIn",function(){return F;});K=Object.create?function(L,I,M,H){var J;void 0 === H && (H=M);J=Object.getOwnPropertyDescriptor(I,M);if(!J || (("get" in J)?!I.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return I[M];}};Object.defineProperty(L,H,J);}:function(L,I,M,H){void 0 === H && (H=M);L[H]=I[M];};O=Object.create?function(L,I){Object.defineProperty(L,"default",{enumerable:!0,value:I});}:function(L,I){L["default"]=I;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(41);b.Kqc=r;r=a(655);b.H3=r.H3;r=a(80);b.cv=r.cv;b.Mk=r.Mk;b.sA=r.sA;r=a(671);b.XIa=r.XIa;b.Kd=r.Kd;r=a(672);b.$=r.$;r=a(673);b.qob=r.qob;r=a(674);b.lgb=r.lgb;r=a(328);b.l=r.l;b.ika=r.ika;r=a(675);b.optional=r.optional;r=a(676);b.Np=r.Np;r=a(677);b.TK=r.TK;r=a(678);b.r2=r.r2;r=a(679);b.Tib=r.Tib;r=a(326);b.Ika=r.Ika;r=a(109);b.id=r.id;r=a(98);b.SE=r.SE;r=a(331);b.qpb=r.qpb;b.rob=r.rob;b.mgb=r.mgb;b.ypb=r.ypb;r=a(143);b.dQ=r.dQ;a=a(680);b.hgb=a.hgb;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;d=a(0);l=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);return n;})(Error);b.assert=function(h,n){var c;if(!h){c=new l(n || "Assertion failed");a(117).tn.H.error("Assertion failed",{value:h,message:n,stack:c.stack});throw c;}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={FZ:function(a){for(var d in a){a.hasOwnProperty(d) && (this[d]=a[d]);}},reset:function(){}};},function(r,b){var a,d;Object.defineProperty(b,"__esModule",{value:!0});b.Zz=b.nMa=b.mMa=b.zja=b.lMa=b.e4=b.n5=b.e5=b.kMa=b.Y=b.aa=void 0;(function(l){l[l.Ko=7001]="UNKNOWN";l[l.LWa=7002]="UNHANDLED_EXCEPTION";l[l.ewb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.Dvb=7004]="HLS_NOT_SUPPORTED";l[l.Tja=7010]="INIT_ASYNCCOMPONENT";l[l.iwb=7011]="INIT_HTTP";l[l.cwb=7014]="INIT_BADMOVIEID";l[l.eOa=7020]="INIT_PLAYBACK_LOCK";l[l.fOa=7022]="INIT_SESSION_LOCK";l[l.jwb=7029]="INIT_POSTAUTHORIZE";l[l.dOa=7031]="INIT_HEADER_MEDIA";l[l.kwb=7034]="INIT_TIMEDTEXT_TRACK";l[l.Nrb=7037]="ASE_SESSION_ERROR";l[l.Mrb=7038]="ASE_SEEK_THREW";l[l.Orb=7039]="ASE_SKIPPED_THREW";l[l.fwb=7041]="INIT_CORE_OBJECTS1";l[l.gwb=7042]="INIT_CORE_OBJECTS2";l[l.hwb=7043]="INIT_CORE_OBJECTS3";l[l.YNa=7053]="INIT_COMPONENT_STORAGE";l[l.ZNa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.VNa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.Uja=7059]="INIT_COMPONENT_DEVICE";l[l.WNa=7063]="INIT_COMPONENT_MSL";l[l.UNa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.BD=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.cOa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.TNa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.RNa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.QNa=7089]="INIT_COMPONENT_ASE";l[l.LM=7091]="INIT_COMPONENT_DRM_CACHE";l[l.dwb=7092]="INIT_COMPONENT_DRM";l[l.SNa=7094]="INIT_COMPONENT_FTL";l[l.XNa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.$Na=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.aOa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.bOa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.QM=7111]="MANIFEST";l[l.Mwb=7114]="MANIFEST_MISTMATCH";l[l.JPa=7117]="MANIFEST_VERIFY";l[l.uzb=7120]="START";l[l.NM=7121]="LICENSE";l[l.Ola=7122]="RELEASE";l[l.vzb=7123]="STOP";l[l.cka=7125]="KEEPALIVE";l[l.kyb=7131]="PING";l[l.ivb=7134]="ENGAGE";l[l.Hwb=7137]="LOGBLOB";l[l.Nrc=7138]="PAUSE";l[l.dsc=7139]="RESUME";l[l.WUa=7140]="SPLICE";l[l.ssb=7142]="BIND";l[l.tsb=7144]="BIND_DEVICE";l[l.xvb=7145]="GENERATE_SCREENSHOTS";l[l.IHa=7146]="AD_EVENT";l[l.oyb=7202]="PLAY_INIT_EXCEPTION";l[l.Zka=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.uyb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.NRa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.vyb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.$ka=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.tyb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.RRa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.MRa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.ala=7355]="PLAY_MSE_SOURCEADD";l[l.LRa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.IU=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.QRa=7361]="PLAY_MSE_EVENT_ERROR";l[l.ZM=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.Zs=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.xyb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.yyb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.zyb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.Ayb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.Eyb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.Dyb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.Cyb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.Byb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.SRa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.pyb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.qyb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.ryb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.ORa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.wyb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.PRa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.syb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.B5=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.XLa=7400]="EXTERNAL";l[l.A5=7500]="PAUSE_TIMEOUT";l[l.g5=7502]="INACTIVITY_TIMEOUT";l[l.Xrb=7510]="AUTHORIZATION_EXPIRED";l[l.avb=7700]="EME_INVALID_KEYSYSTEM";l[l.JLa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.VT=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.c4=7703]="EME_GENERATEREQUEST_FAILED";l[l.QLa=7704]="EME_UPDATE_FAILED";l[l.OLa=7705]="EME_KEYSESSION_ERROR";l[l.NLa=7706]="EME_KEYMESSAGE_EMPTY";l[l.evb=7707]="EME_REMOVE_FAILED";l[l.cvb=7708]="EME_LOAD_FAILED";l[l.Xub=7709]="EME_CREATE_SESSION_FAILED";l[l.uja=7710]="EME_LDL_RENEWAL_ERROR";l[l.LLa=7711]="EME_INVALID_INITDATA_DATA";l[l.MLa=7712]="EME_INVALID_LICENSE_DATA";l[l.bvb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.ILa=7716]="EME_CLOSE_FAILED";l[l.vja=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.gvb=7718]="EME_SET_SERVER_CERTIFICATE";l[l.lyb=7800]="PLAYDATA_STORE_FAILURE";l[l.BT=7900]="BRANCH_PLAY_FAILURE";l[l.CT=7901]="BRANCH_QUEUE_FAILURE";l[l.gJa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.Bsb=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.Wxb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.aa || (b.aa={}));(function(l){l[l.Ko=1001]="UNKNOWN";l[l.un=1003]="EXCEPTION";l[l.nwb=1004]="INVALID_DI";l[l.Rrb=1011]="ASYNCLOAD_EXCEPTION";l[l.Srb=1013]="ASYNCLOAD_TIMEOUT";l[l.moc=1015]="ASYNCLOAD_BADCONFIG";l[l.Prb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.Qrb=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.gU=1101]="HTTP_UNKNOWN";l[l.Qja=1102]="HTTP_XHR";l[l.dU=1103]="HTTP_PROTOCOL";l[l.cU=1104]="HTTP_OFFLINE";l[l.fU=1105]="HTTP_TIMEOUT";l[l.uH=1106]="HTTP_READTIMEOUT";l[l.AD=1107]="HTTP_ABORT";l[l.qNa=1108]="HTTP_PARSE";l[l.mNa=1110]="HTTP_BAD_URL";l[l.eU=1111]="HTTP_PROXY";l[l.Aka=1203]="MSE_AUDIO";l[l.Bka=1204]="MSE_VIDEO";l[l.Ywb=1250]="MSE_MEDIA_ERR_BASE";l[l.Mqc=1251]="MSE_MEDIA_ERR_ABORTED";l[l.Pqc=1252]="MSE_MEDIA_ERR_NETWORK";l[l.Nqc=1253]="MSE_MEDIA_ERR_DECODE";l[l.Qqc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.Oqc=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.ev=1260]="EME_MEDIA_KEYERR_BASE";l[l.Ipc=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.Dpc=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.Hpc=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.Gpc=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.Fpc=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.Epc=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.Jpc=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.$ub=1270]="EME_INTERNAL_ERROR";l[l.Wub=1271]="EME_CLOSED_BY_APPLICATION";l[l.dvb=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.tja=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.fvb=1274]="EME_RESOURCE_EVICTED";l[l.Zub=1280]="EME_ERROR_NODRMSESSSION";l[l.Yub=1281]="EME_ERROR_NODRMREQUESTS";l[l.Apc=1282]="EME_ERROR_INDIV_FAILED";l[l.Bpc=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.hvb=1284]="EME_TIMEOUT_MESSAGE";l[l.Kpc=1285]="EME_TIMEOUT_KEYCHANGE";l[l.PLa=1286]="EME_UNDEFINED_DATA";l[l.GM=1287]="EME_INVALID_STATE";l[l.Cpc=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.KLa=1289]="EME_EMPTY_DATA";l[l.WT=1290]="EME_TIMEOUT";l[l.erc=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.hrc=1305]="NCCP_PARSEXML";l[l.Hyb=1309]="PROCESS_EXCEPTION";l[l.grc=1311]="NCCP_NETFLIXID_MISSING";l[l.irc=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.brc=1313]="NCCP_HMAC_MISSING";l[l.$qc=1315]="NCCP_HMAC_MISMATCH";l[l.Zqc=1317]="NCCP_HMAC_FAILED";l[l.Yqc=1321]="NCCP_CLIENTTIME_MISSING";l[l.Xqc=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.IMa=1331]="GENERIC";l[l.pxb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.qxb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.jrc=1341]="NCCP_TRANSACTION";l[l.crc=1343]="NCCP_INVALID_DRMTYPE";l[l.drc=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.frc=1345]="NCCP_MISSING_PAYLOAD";l[l.Src=1346]="PROTOCOL_NOT_INITIALIZED";l[l.Rrc=1347]="PROTOCOL_MISSING_FIELD";l[l.Qrc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.rA=1402]="STORAGE_NODATA";l[l.nsc=1403]="STORAGE_EXCEPTION";l[l.vsc=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.wsc=1407]="STORAGE_QUOTA_TO_SMALL";l[l.ZUa=1411]="STORAGE_LOAD_ERROR";l[l.xzb=1412]="STORAGE_LOAD_TIMEOUT";l[l.$Ua=1414]="STORAGE_SAVE_ERROR";l[l.Azb=1415]="STORAGE_SAVE_TIMEOUT";l[l.Xla=1417]="STORAGE_DELETE_ERROR";l[l.YUa=1418]="STORAGE_DELETE_TIMEOUT";l[l.usc=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.rsc=1423]="STORAGE_FS_GETDIRECTORY";l[l.tsc=1425]="STORAGE_FS_READENTRIES";l[l.osc=1427]="STORAGE_FS_FILEREAD";l[l.qsc=1429]="STORAGE_FS_FILEWRITE";l[l.psc=1431]="STORAGE_FS_FILEREMOVE";l[l.ssc=1432]="STORAGE_FS_PARSEJSON";l[l.zzb=1451]="STORAGE_NO_LOCALSTORAGE";l[l.yzb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.trc=1501]="NTBA_UNKNOWN";l[l.rrc=1502]="NTBA_EXCEPTION";l[l.nrc=1504]="NTBA_CRYPTO_KEY";l[l.prc=1506]="NTBA_CRYPTO_OPERATION";l[l.orc=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.qrc=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.KKa=1553]="DEVICE_NO_ESN";l[l.bub=1555]="DEVICE_ERROR_GETTING_ESN";l[l.lqc=1701]="FORMAT_UNKNOWN";l[l.qvb=1713]="FORMAT_XML";l[l.mqc=1715]="FORMAT_XML_CONTENT";l[l.jqc=1721]="FORMAT_BASE64";l[l.kqc=1723]="FORMAT_DFXP";l[l.Pvb=1801]="INDEXDB_OPEN_EXCEPTION";l[l.ONa=1802]="INDEXDB_NOT_SUPPORTED";l[l.Ovb=1803]="INDEXDB_OPEN_ERROR";l[l.PNa=1804]="INDEXDB_OPEN_NULL";l[l.Nvb=1805]="INDEXDB_OPEN_BLOCKED";l[l.Qvb=1807]="INDEXDB_OPEN_TIMEOUT";l[l.Mvb=1808]="INDEXDB_INVALID_STORE_STATE";l[l.h5=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.hxb=1901]="MSL_UNKNOWN";l[l.axb=1911]="MSL_INIT_NO_MSL";l[l.TPa=1913]="MSL_INIT_ERROR";l[l.bxb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.Zwb=1931]="MSL_ERROR";l[l.gxb=1933]="MSL_REQUEST_TIMEOUT";l[l.fxb=1934]="MSL_READ_TIMEOUT";l[l.$wb=1935]="MSL_ERROR_HEADER";l[l.Rqc=1936]="MSL_ERROR_ENVELOPE";l[l.Sqc=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.SPa=1957]="MSL_ERROR_REAUTH";l[l.xma=2103]="WEBCRYPTO_MISSING";l[l.atc=2105]="WEBCRYPTOKEYS_MISSING";l[l.dAb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.Voc=2200]="CACHEDDATA_PARSEJSON";l[l.FJa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.Woc=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.vD=2203]="CACHEDDATA_INVALID_FORMAT";l[l.joc=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.koc=3001]="ACCOUNT_INVALID";l[l.spc=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.rpc=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.ppc=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.qpc=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.opc=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.xsc=3300]="STORAGE_VA_LOAD_ERROR";l[l.ysc=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.Bsc=3302]="STORAGE_VA_SAVE_ERROR";l[l.Csc=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.zsc=3304]="STORAGE_VA_REMOVE_ERROR";l[l.Asc=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.Wka=3077]="PBO_DEVICE_EOL_WARNING";l[l.DRa=3078]="PBO_DEVICE_EOL_FINAL";l[l.GRa=3100]="PBO_DEVICE_RESET";l[l.FRa=3101]="PBO_DEVICE_RELOAD";l[l.ERa=3102]="PBO_DEVICE_EXIT";l[l.iyb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.Mxb=5005]="PBO_ACCOUNT_ON_HOLD";l[l.Vxb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.HRa=5007]="PBO_INCORRECT_PIN";l[l.fyb=5008]="PBO_MOBILE_ONLY";l[l.jyb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.Nxb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.Qxb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.Oxb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.Pxb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.Rxb=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.cyb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.byb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.$xb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.Txb=5059]="PBO_BLACKLISTED_IP";l[l.Sxb=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.Uxb=5080]="PBO_CHOICE_MAP_ERROR";l[l.gyb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.dyb=5091]="PBO_MALFORMED_REQUEST";l[l.ayb=5092]="PBO_INVALID_SERVICE_VERSION";l[l.eyb=5093]="PBO_MDX_INVALID_CTICKET";l[l.Zxb=5094]="PBO_FREE_PREVIEW_ENDED";l[l.hyb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.Yxb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.Xxb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.Ktb=5100]="DECODER_TIMEOUT_BUFFERING";l[l.Mtb=5101]="DECODER_TIMEOUT_PRESENTING";l[l.Ltb=5102]="DECODER_TIMEOUT_PLAYING";l[l.Dub=5200]="DOWNLOADER_IO_ERROR";l[l.fJa=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.xsb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.zoc=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.Gia=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.voc=5304]="BRANCHING_ASE_FAILURE";l[l.woc=5305]="BRANCHING_MOMENT_FAILURE";l[l.usb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.yoc=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.ysb=5308]="BRANCHING_SEEK_THREW";l[l.xoc=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.wsb=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.zsb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.Asb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.Bzb=5500]="STUDIO_MUXED_MANIFEST";l[l.vka=5600]="MANIFEST_HYDRATION_FAILURE";l[l.Yrb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.Zrb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(d=b.Y || (b.Y={}));(function(l){l[l.Koc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.Aoc=5005]="BR_ACCOUNT_ON_HOLD";l[l.Eoc=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.Hoc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.Doc=5059]="BR_BLACKLISTED_IP";l[l.Boc=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.Ioc=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.Foc=2205]="BR_DRM_LICENSE_AQUISITION";l[l.Joc=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.Goc=2207]="BR_ENDPOINT_ERROR";l[l.Coc=2208]="BR_AUTHORIZATION_ERROR";})(b.kMa || (b.kMa={}));b.e5={Isb:"400",Wsc:"401",$Ra:"413"};b.n5={hqc:1,Osc:2,Npc:3,Usc:4,Cqc:5,Mpc:6,rma:7,Ppc:8,bsc:9,ksc:10};b.e4=function(l,h,n,c){return l == a.A5 || l == a.g5 || l == a.Zka && 432E5 <= n || l == a.vja && h === d.tja && 0 < Number(c);};b.lMa=function(l){return 1100 <= l && 1199 >= l;};b.zja=function(l,h){return 1 <= l && 9 >= l?h + l:h;};b.mMa=function(l){return (0,b.zja)(l,d.Ywb);};b.nMa=function(l){return (0,b.zja)(l,d.ev);};b.Zz=function(l){var h,n,c;h={};n=l.errorExternalCode || l.Wf;c=l.errorDetails || l.Tb;h.ErrorSubCode=l.errorSubCode || l.Da || d.Ko;n && (h.ErrorExternalCode=n);c && (h.ErrorDetails=c);return h;};},function(r,b,a){var h;function d(){return h.ZU.apply(this,arguments) || this;}function l(n){return new h.kv(n,b.va);}Object.defineProperty(b,"__esModule",{value:!0});b.Oa=b.CNa=b.Kka=b.Jo=b.va=b.EH=b.timestamp=b.g1b=b.Fda=b.$i=b.Vb=b.Xib=b.k7b=b.Rzb=void 0;h=a(332);la(d,h.ZU);b.Rzb=d;b.k7b=function(n){return new h.kv(n,b.EH);};b.Xib=function(n){return new h.kv(n * b.Jo.sh,b.EH);};b.Vb=l;b.$i=function(n){return new h.kv(n,b.Jo);};b.Fda=function(n){return new h.kv(n,b.Kka);};b.g1b=function(n){return new h.kv(n,b.CNa);};b.timestamp=function(n){return l(n);};b.EH=new d(1,"\u03bcs");b.va=new d(1E3,"ms",b.EH);b.Jo=new d(1E3 * b.va.sh,"s",b.EH);b.Kka=new d(60 * b.Jo.sh,"min",b.EH);b.CNa=new d(60 * b.Kka.sh,"hr",b.EH);b.Oa=l(0);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(849),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UT=b.hb=b.oka=b.Ok=void 0;r=b.Ok || (b.Ok={});r[r.ovb=0]="FATAL";r[r.mg=1]="ERROR";r[r.wma=2]="WARN";r[r.Sja=3]="INFO";r[r.eWa=4]="TRACE";r[r.M=5]="DEBUG";b.oka="LogFieldBuilderFactorySymbol";b.hb="LoggerFactorySymbol";b.UT={};},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.LU=b.JMa=void 0;r=a(0);r.__exportStar(a(400),b);r.__exportStar(a(105),b);r.__exportStar(a(20),b);r.__exportStar(a(936),b);r.__exportStar(a(937),b);r.__exportStar(a(938),b);r.__exportStar(a(939),b);r.__exportStar(a(940),b);r.__exportStar(a(941),b);r.__exportStar(a(942),b);r.__exportStar(a(415),b);d=r.__importDefault(a(943));b.JMa=d.default;a=r.__importDefault(a(417));b.LU=a.default;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M=!1;},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ga=b.BTa=b.IY=b.nj=b.sk=b.log=b.zg=b.TP=b.G1a=b.At=b.cB=b.yc=b.sJb=b.pqa=b.qJb=b.rJb=b.lk=b.eT=b.P2=b.Ei=b.Jc=b.za=void 0;d=a(219);r=a(7);l=a(26);h=a(69);n=a(83);c=a(30);f=a(15);g=a(148);k=a(27);a=a(48);b.za=d.vc.get(k.Nh);b.Jc=d.vc.get(a.ck);b.Ei=d.vc.get(h.dt);b.P2=b.Ei.encode.bind(b.Ei);b.eT=b.Ei.decode.bind(b.Ei);b.lk=d.vc.get(n.Pz);b.rJb=b.lk.encode.bind(b.lk);b.qJb=b.lk.decode.bind(b.lk);b.pqa=b.lk.QJ.bind(b.lk);b.sJb=b.lk.Zob.bind(b.lk);b.yc=d.vc.get(c.Fi);b.cB=function(m){m=(0,f.Tg)(m)?(0,b.eT)(m):m;return b.yc.encode(m);};b.At=b.yc.decode.bind(b.yc);b.G1a=function(m){return (0,b.P2)((0,b.At)(m));};b.TP=function(){return d.vc.get(l.Uz);};b.zg=d.vc.get(r.hb);b.log=b.zg.eb("General");b.sk=function(m,p){return b.zg.eb(m,void 0,p);};b.nj=function(m,p,q){return b.zg.eb(p,m,q);};b.IY=function(m,p,q,v){return b.zg.eb(m,void 0,v,p,q);};b.BTa=function(m,p,q){return d.vc.get(g.MU)(m,p,q).B2();};b.Ga=d.vc;},function(r,b,a){b=a(106);b.IQb=0;r.exports={EventEmitter:b,kf:a(918)};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eo={guc:"casttv",vra:"chrome",nuc:"chromecast",Xr:"edge",p6a:"edgeoss",T7a:"firefox",gwc:"ie",opera:"opera",vlb:"safari",vob:"tesla"};b.Tp={D8:"android",bcb:"ios",$2a:"chromeos",Tdb:"linux",veb:"mac",DHa:"windows"};b.d5={EMb:"computer",phone:"phone",Ijc:"tablet"};b.uc="ConfigSymbol";},function(r){var b;b={Pa:function(a){return "number" === typeof a;},vk:function(a){return "object" === typeof a;},Tg:function(a){return "string" === typeof a;},xa:function(a){return "undefined" === typeof a;},mwc:function(a){return "boolean" === typeof a;},qd:function(a){return "function" === typeof a;},yb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,d){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,d);},J$b:function(a){var d,l;l=[];if(!b.vk(a))throw new TypeError("Object.pairs called on non-object");for(d in a){a.hasOwnProperty(d) && l.push([d,a[d]]);}return l;}};b.tg=b.forEach=function(a,d,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var h=0,n=a.length;h < n;h++){d.call(l,a[h],h,a);}else for(h in a){b.has(a,h) && d.call(l,a[h],h,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lza=b.localStorage=b.Y1b=b.indexedDB=b.ZQa=b.Wr=b.HD=b.GD=b.URL=b.s5=b.txb=b.hQa=b.gQa=b.m5=b.uU=b.dA=b.jv=b.Sp=b.jxb=b.TM=b.YVa=b.RKa=b.Jxb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.aB=b.sxb=b.$h=b.wx=b.$Qa=b.xx=b.r5=b.HH=void 0;r=mb;b.lf=r.navigator;b.HH=null === b.lf || void 0 === b.lf?void 0:b.lf.userAgent;b.r5=r.location;b.xx=r.screen;b.$Qa=r.devicePixelRatio;b.wx=r.performance;b.$h=r.document;b.sxb=b.$h.documentElement;b.aB=Array.prototype;b.sort=b.aB.sort;b.map=b.aB.map;b.slice=b.aB.slice;b.every=b.aB.every;b.reduce=b.aB.reduce;b.filter=b.aB.filter;b.forEach=b.aB.forEach;b.pop=b.aB.pop;b.Jxb=Object.create;b.RKa=Date.now;b.YVa=String.fromCharCode;b.TM=Math.floor;b.jxb=Math.ceil;b.Sp=Math.round;b.jv=Math.max;b.dA=Math.min;b.uU=Math.random;b.m5=Math.abs;b.gQa=Math.pow;b.hQa=Math.sqrt;b.txb=r.escape;b.s5=r.unescape;b.URL=r.URL || r.webkitURL;b.GD=r.MediaSource || r.WebKitMediaSource;b.HD=r.webkitCrypto || r.msCrypto || r.crypto;b.Wr=b.HD && (b.HD.webkitSubtle || b.HD.subtle);b.ZQa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.Y1b=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.lza=a || "noex";}},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.qd=b.hcb=b.DQ=b.Tg=b.zya=b.d3b=b.R2b=b.oya=b.NF=b.vcb=b.Pa=b.xya=b.isArray=b.Wcb=b.vk=b.Ad=b.is=void 0;r=a(218);b.is=r.wH;b.Ad=function(d){return b.is.Ch(d);};b.vk=function(d){return b.is.IW(d);};b.Wcb=function(d){return b.is.apa(d);};b.isArray=function(d){return b.is.wE(d);};b.xya=function(d){return b.is.I0a(d);};b.Pa=function(d,l,h){return b.is.Rl(d,l,h);};b.vcb=function(d,l,h){return b.is.Jpa(d,l,h);};b.NF=function(d,l,h){return b.is.JW(d,l,h);};b.oya=function(d){return b.is.sW(d);};b.R2b=function(d){return b.is.hGb(d);};b.d3b=function(d){return b.is.iGb(d);};b.zya=function(d){return b.is.J0a(d);};b.Tg=function(d){return b.is.Mr(d);};b.DQ=function(d){return b.is.Vo(d);};b.hcb=function(d){return b.is.j8(d);};b.qd=function(d){return b.is.l8(d);};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fd=b.qb=b.kg=b.kc=b.t3=b.ka=b.Zja=b.NH=b.Qa=void 0;(function(d){d.ceb="loadedtracks";d.beb="loadedmetadata";d.loaded="loaded";d.error="error";d.closed="closed";d.xq="currenttimechanged";d.Ipb="unthrottledcurrenttimechanged";d.q9="bufferedtimechanged";d.qta="durationchanged";d.vHa="videosizechanged";d.fib="pausedchanged";d.vCa="playingchanged";d.W6a="endedchanged";d.MO="busychanged";d.b9="audiotracklistchanged";d.Mn="audiotrackchanged";d.bx="timedtexttracklistchanged";d.nn="timedtexttrackchanged";d.E2="trickplayframeschanged";d.jgb="mutedchanged";d.crb="volumechanged";d.pFa="showsubtitle";d.yDa="removesubtitle";d.snc="watermark";d.sya="isReadyToTransition";d.pQ="inactivated";d.Zbb="internalPlaybackError";d.Vfc="segmentmaploaded";d.Wfc="segmentpresenting";d.y1a="autoplaywasallowed";d.e9="autoplaywasblocked";d.IHb="adsstatechanged";d.TF="livestatechanged";})(b.Qa || (b.Qa={}));(b.NH || (b.NH={})).C1="playgraphsegmenttransition";b.Zja=a;a.bmb="serverTimeChanged";(function(d){d.SI="aseReport";d.Pca="liveReport";d.Oca="livePipelineFailover";d.fqa="autoplayWasAllowed";d.jj="autoplayWasBlocked";d.eB="bufferUnderrun";d.closed="closed";d.Ah="closing";d.xq="currentTimeChanged";d.FB="downloadComplete";d.pQ="inactivated";d.Mdb="licenseAdded";d.o_="licensed";d.u_="locationSelected";d.Mza="manifestClosing";d.GK="manifestPresenting";d.kda="mediaBufferChanged";d.Rda="nextBranchingSegmentChosen";d.Iw="playbackStart";d.cn="playbackReady";d.tl="repositioned";d.BG="repositioning";d.xlb="safePlayRequested";d.EL="segmentPresenting";d.G1="serverSwitch";d.Ymb="shouldUpdateVideoDiagInfo";d.JS="subtitleError";d.nGa="throttledMediaTimeChanged";d.Jpb="unthrottledMediaTimeChanged";d.QS="timedTextRebuffer";d.bx="timedTextTrackListChanged";d.E2="trickPlayFramesChanged";d.ZGa="updateNextBranchingSegmentWeights";d.Fqb="userInitiatedPause";d.Gqb="userInitiatedResume";d.ipb="tracksHydrated";d.TF="livestatechanged";})(b.ka || (b.ka={}));(b.t3 || (b.t3={})).tE="adBreakComplete";(function(d){d[d.WM=0]="NOTLOADED";d[d.LOADING=1]="LOADING";d[d.Xe=2]="NORMAL";d[d.CLOSING=3]="CLOSING";d[d.CLOSED=4]="CLOSED";})(b.kc || (b.kc={}));(function(d){d[d.Xe=1]="NORMAL";d[d.ce=2]="BUFFERING";d[d.XUa=3]="STALLED";})(b.kg || (b.kg={}));(function(d){d[d.Hg=1]="WAITING";d[d.Xc=2]="PLAYING";d[d.ej=3]="PAUSED";d[d.Us=4]="ENDED";})(b.qb || (b.qb={}));(function(d){d[d.fv=0]="INITIAL";d[d.pA=1]="SEEK";d[d.kU=2]="LIVE_EDGE";d[d.g6=3]="TRACK_CHANGED";d[d.gN=4]="SEGMENT_CHANGED";d[d.g4=5]="FORCE_REBUFFER";})(b.Fd || (b.Fd={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tU=b.l5=b.Tsb=b.Osb=b.Qsb=b.Rsb=b.tJa=b.Nsb=b.Psb=b.sJa=b.Ssb=b.Zsb=b.Xsb=b.Ysb=b.Wsb=b.Rub=b.Qub=b.Pub=b.Pwb=b.Rwb=b.Qwb=b.OPa=b.QPa=b.PPa=b.BLa=b.Sub=b.sja=b.b4=b.Fxb=b.qzb=b.LPa=b.Hsb=b.HKa=b.y5=b.YM=b.x5=b.KPa=b.cA=b.Gsb=b.eJa=b.Cwb=b.Zzb=b.Owb=b.Nwb=b.jzb=b.izb=b.hv=b.th=b.wUa=b.iA=void 0;b.cJa=b.Pla=void 0;b.iA=function(){};b.wUa=function(){return !0;};b.th={ja:!0};b.hv=1E3;b.izb=86400;b.jzb=604800;b.Nwb=1E4;b.Owb=1E7;b.Zzb=1.5;b.Cwb=.128;b.eJa=7.8125;b.Gsb=128;b.cA=145152E5;b.KPa=1E5;b.x5="$netflix$player$order";b.YM=-1;b.y5=1;b.HKa=["en-US"];b.Hsb=8;b.LPa=65535;b.qzb=65536;b.Fxb=Number.MAX_VALUE;b.b4="playready";b.sja="widevine";b.Sub="fps";b.BLa="clearkey";b.PPa='audio/mp4; codecs="mp4a.40.5"';b.QPa='audio/mp4; codecs="mp4a.40.42"';b.OPa='audio/mp4; codecs="mp4a.a6"';b.Qwb='video/mp4; codecs="avc1.640028"';b.Rwb='video/mp4; codecs="hev1.2.6.L153.B0"';b.Pwb='video/mp4; codecs="dvhe.01000000"';b.Pub="9A04F079-9840-4286-AB92-E65BE0885F95";b.Qub="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Rub="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.Wsb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Ysb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.Xsb="4E657466-6C69-7846-7261-6D6552617465";b.Zsb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Ssb="mp4a";b.sJa="enca";b.Psb="ec-3";b.Nsb="avc1";b.tJa="encv";b.Rsb="hvcC";b.Qsb="hev1";b.Osb="dvhe";b.Tsb="vp09";b.l5=0;b.tU=1;b.Pla="position:relative;width:100%;height:100%;overflow:hidden";b.cJa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kd="ApplicationSymbol";},function(r,b,a){var h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C;function d(D){return (D=b.config.jlc[l(D)])?D:{};}function l(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.FMb=b.GMb=b.N3a=b.J9=b.O3a=b.Wra=b.config=void 0;h=a(17);n=a(44);c=a(10);f=a(39);g=a(22);k=a(26);m=a(42);p=a(23);a(7);q=a(14);v=a(15);t=a(179);w=a(50);u=a(88);y=a(110);x=a(52);z=a(5);B=a(45);A=a(18);C=a(123);b.O3a=function(D,E){var xa,Aa,Oa,T,W,Q,ka,ra,R;function G(fa,wa){(0,p.jh)(fa,function(ua,Ea){(0,v.qd)(Ea)?wa[ua]=Ea.call(void 0,wa[ua]):(0,v.vk)(Ea) && (wa[ua]=wa[ua] || ({}),G(Ea,wa[ua]));});}function F(fa,wa,ua,Ea){for(var Xa=[],vb=3;vb < arguments.length;++vb){Xa[vb - 3]=arguments[vb];}return function(nb){(0,v.Ad)(nb) && (ua=nb);(0,g.wa)((0,v.qd)(fa));return fa.apply(void 0,[wa,ua].concat(ia(Xa)));};}function K(fa){fa=fa.toLowerCase();T.hasOwnProperty(fa) && (Oa[fa]=T[fa],W[fa]=T[fa]);return fa;}function O(fa,wa,ua){var Ea;fa=fa.toLowerCase();if(Oa.hasOwnProperty(fa)){Ea=Oa[fa];try{Ea=ua?ua(Ea):Ea;}catch(Xa){Ea=void 0;}if(void 0 !== Ea)return Ea;(0,g.wa)(!1);c.log.error("Invalid configuration value. Name: " + fa);}return wa;}function L(fa,wa,ua,Ea){return O(fa,wa,function(Xa){(0,v.Tg)(Xa) && (Xa=(0,p.Fk)(Xa));if((0,v.vcb)(Xa,ua,Ea))return Xa;});}function I(fa,wa,ua,Ea){return O(fa,wa,function(Xa){(0,v.Tg)(Xa) && (Xa=(0,p.Fk)(Xa));if((0,v.NF)(Xa,ua,Ea))return Xa;});}function M(fa,wa,ua,Ea){return O(fa,wa,function(Xa){(0,v.Tg)(Xa) && (Xa=parseFloat(Xa));if((0,v.Pa)(Xa,ua,Ea))return Xa;});}function H(fa,wa,ua){return O(fa,wa,function(Ea){if(ua?ua.test(Ea):(0,v.Tg)(Ea))return Ea;});}function J(fa,wa){return O(fa,wa,function(ua){if("true" == ua || !0 === ua)return !0;if("false" == ua || !1 === ua)return !1;});}function N(fa,wa){return O(fa,wa,function(ua){if((0,v.Tg)(ua))return JSON.parse((0,q.s5)(ua));if((0,v.vk)(ua))return ua;});}function P(fa,wa,ua,Ea,Xa,vb){var nb;fa=fa.toLowerCase();Oa.hasOwnProperty(fa) && (nb=Oa[fa]);if(!(0,v.Ad)(nb))return wa;if((0,v.Tg)(nb))if(nb[0] !== ua)nb=Ea(nb);else try{nb=JSON.parse((0,q.s5)(nb));}catch(zb){nb=void 0;}if(void 0 === nb)return wa;for(fa=0;fa < Xa.length;fa++){if(!Xa[fa](nb))return wa;}return vb?vb(nb):nb;}function X(fa,wa,ua,Ea,Xa){return P(fa,wa,"[",function(vb){vb=vb.split("|");for(var nb=vb.length;nb--;){vb[nb]=(0,p.Fk)(vb[nb]);}return vb;},[function(vb){return (0,v.isArray)(vb) && 0 < vb.length;},function(vb){for(var nb=vb.length;nb--;){if(!(0,v.NF)(vb[nb],ua,Ea))return !1;}return !0;},function(vb){return void 0 === Xa || vb.length >= Xa;}]);}function V(fa,wa){return P(fa,wa,"[",function(ua){ua=(0,v.isArray)(ua)?ua:ua.split("|");for(var Ea=ua.length;Ea--;){try{ua[Ea]=JSON.parse((0,q.s5)(ua[Ea]));}catch(Xa){ua=void 0;break;}}return ua;},[function(ua){return (0,v.isArray)(ua) && 0 < ua.length;},function(ua){for(var Ea=ua.length;Ea--;){if(!(0,v.Ad)(ua[Ea]) || !(0,v.vk)(ua[Ea]))return !1;}return !0;}]);}function S(fa,wa){var ua;ua=U(fa,[]);return ua && 0 < ua.length?(0,C.Yi)(ua):V(fa,wa);}function U(fa,wa,ua,Ea){return P(fa,wa,"[",function(Xa){return (0,v.isArray)(Xa)?Xa:Xa.split("|");},[function(Xa){return (0,v.isArray)(Xa) && 0 < Xa.length;},function(Xa){for(var vb=Xa.length;vb--;){if(ua?!ua.test(Xa[vb]):!(0,v.DQ)(Xa[vb]))return !1;}return !0;},function(Xa){return void 0 === Ea || Xa.length >= Ea;}]);}function ha(fa,wa,ua){return P(fa,wa,"{",function(Ea){var Xa,nb,zb;Xa={};Ea=Ea.split(";");for(var vb=Ea.length;vb--;){nb=Ea[vb];zb=nb.indexOf(":");if(0 >= zb)return;Xa[nb.substring(0,zb)]=nb.substring(zb + 1);}return Xa;},[function(Ea){return (0,v.vk)(Ea) && 0 < Object.keys(Ea).length;},function(Ea){if(ua)for(var Xa in Ea){if(!ua.test(Ea[Xa]))return !1;}return !0;}],function(Ea){var Xa;Xa={};(0,p.Qe)(Xa,wa);(0,p.Qe)(Xa,Ea);return Xa;});}function qa(fa){var wa;wa=[];(0,p.jh)(fa,function(ua,Ea){var Xa;try{Xa="videoapp" === ua.toLowerCase()?"[object object]":JSON.stringify(Ea);}catch(vb){Xa="cantparse";}wa.push(ua + "=" + Xa);});return wa.join("\n");}xa=/^[0-9]+[%]?$/;Aa=/^[0-9]*$/;W={};Q=c.Ga.get(f.Qp);ka=c.Ga.get(y.KH);(function(fa){function wa(ua){ua.split(",").forEach(function(Ea){var Xa;Xa=Ea.indexOf("=");0 < Xa && (Oa[Ea.substring(0,Xa).toLowerCase()]=Ea.substring(Xa + 1));});}Oa={};(0,p.Qe)(Oa,fa);D && D.length && q.forEach.call(D,function(ua){(0,v.Tg)(ua)?wa(ua):(0,v.vk)(ua) && (0,p.Qe)(Oa,ua,{A_:!0});});T=(0,p.Qe)({},(0,n.bba)(),{A_:!0});if(fa=(0,n.Qjb)().cadmiumconfig)(c.log.info("Config cookie loaded",fa),wa(fa));if(c.Ga.get(B.Vp).z8 || Oa.istestaccount)((0,p.Qe)(Oa,T),W=T);})(E);b.config={};ra={yTb:F(J,K("enableXHEAAC"),!1),B6a:F(J,K("enableDDPlus20"),!0),A6a:F(J,K("enableDDPlus"),!0),wP:F(J,K("enableDDPlusAtmos"),!1),cTb:F(J,K("enableLSSDH"),!0),ZSb:F(J,K("enableHEVC"),!1),Lhb:F(J,K("overrideEnableHEVC"),!1),yta:F(J,K("enableHDR"),!1),Khb:F(J,K("overrideEnableHDR"),!1),Jhb:F(J,K("overrideEnableDV"),!1),uP:F(J,K("enableAVCHigh"),ka.uP),Hhb:F(J,K("overrideEnableAVCHigh"),!1),xta:F(J,K("enableAVCHighLive"),ka.xta),Ihb:F(J,K("overrideEnableAVCHighLive"),!0),uTb:F(J,K("enableVP9"),!1),Mhb:F(J,K("overrideEnableVP9"),!1),MSb:F(J,K("enableAV1"),!1),Ghb:F(J,K("overrideEnableAV1"),!1),B$b:F(J,K("overrideEnableXHEAAC"),!1),z$b:F(J,"overrideEnableAllAudioProfiles",!1),A$b:F(J,"overrideEnableAllVideoProfiles",!1),kTb:F(J,K("enablePRK"),!1),WSb:F(J,K("enableDV"),!1),F6a:F(J,K("enableHWDRM"),!1),aTb:F(J,K("enableImageSubs"),!0),TI:F(S,K("audioProfiles"),ka.TI),YSb:F(J,K("enableFullHdForWidevineL3"),!1),E6a:F(J,K("enableFullHdForWidevineL1"),!1),sTb:F(J,K("enableUHD"),!0),Gha:F(I,"videoCapabilityDetectorType",k.zn.Tz),aqa:F(I,"audioCapabilityDetectorType",k.lx.Tz),Do:F(S,K("videoProfiles"),ka.Do),hu:F(S,K("liveVideoProfiles"),ka.hu),w0a:F(S,K("additionalVideoProfiles"),[]),HFb:F(U,K("timedTextProfiles"),ka.ax),ax:function(){return ra.HFb().filter(function(fa){return fa === m.xn.bja?ra.cTb():fa === m.xn.VM?ra.aTb():!0;});},endpoint:F(J,K("endpoint"),!1),version:F(H,"version","unknown"),$Sb:F(J,K("enableHdcp"),!1),wu:F(J,K("prepareCadmium"),!1),mGb:F(J,K("acceptManifestOnPrepareItemParams"),!0),mbc:F(N,"ppmconfig",{maxNumberTitlesScheduled:1}),hY:F(J,K("enableLdlPrefetch"),!1),M6a:F(J,K("enableMediaPrefetch"),!1),fTb:F(J,K("enableManifestCache"),!0),cRb:F(J,K("deleteCachedManifestOnPlayback"),!1),bRb:F(J,K("deleteCachedManifestOnCreate"),!1),fRb:F(J,K("deleteOtherManifestCacheOnCreate"),!1),eRb:F(J,K("deleteOtherLdlCacheOnCreate"),!1),Hxc:F(I,K("periodicPrepareLogsIntervalMilliseconds"),36E5),Jbc:F(I,K("prepareManifestCacheMaxCount"),50),Hbc:F(I,K("prepareLdlCacheMaxCount"),30),ajb:F(I,K("prepareManifestExpiryMilliseconds"),12E5),Ibc:F(I,K("prepareLdlExpiryMilliseconds"),78E4),Bbc:F(I,K("prefetcherMaxWishlistSize"),10),Abc:F(I,K("prefetcherBudgetInBytes"),Infinity),Cbc:F(J,K("prefetcherOverrideItemPriority"),!0),Gbc:F(H,K("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),xzc:F(N,"videoApp"),PG:F(N,"storageRules"),vaa:F(J,"ftlEnabled",ka.vaa),rxa:F(I,K("imageSubsResolution"),0),I1b:F(I,K("imageSubsMaxBuffer"),ka.A6b.ia(x.nx),0),kX:F(J,K("captureBatteryStatus"),!1),dXb:F(I,K("getBatteryApiTimeoutMilliseconds"),5E3),co:F(H,K("keySystemId"),ka.co),qdb:F(U,K("keySystemList"),void 0,void 0),pHa:F(J,K("validateKeySystemAccess"),!1),o7b:F(I,K("hdcpGlobalTimeout1"),1E4),p7b:F(I,K("hdcpGlobalTimeout2"),1E4),$wc:F(I,K("hdcpQueryTimeout1"),1E3),axc:F(I,K("hdcpQueryTimeout2"),1E3),Ffb:F(I,K("hdcpQueryTimeout2"),100),q7b:F(J,K("microsoftHwdrmRequiresHevc"),!1),Efb:F(J,K("microsoftClearLeadRequiresSwdrm"),!1),l7b:F(J,K("microsoftEnableDeviceInfo"),!1),m7b:F(J,K("microsoftEnableHardwareInfo"),!1),n7b:F(J,K("microsoftEnableHardwareReset"),!1),pmc:F(J,K("useHevcCodecForDolbyVision"),!1),hTb:F(J,K("enableMediaCapabilities"),!1),lbc:F(J,K("powerEfficientForVideo"),!1),iTb:F(J,K("enableMediaCapabilitiesSourceBufferCheck"),!1),D5b:F(J,"logMediaPipelineStatus",!1),j1:F(J,K("renderDomDiagnostics"),!0),keb:function(){return -1;},MQ:F(L,K("logDisplayMaxEntryCount"),ka.MQ,-1),J5b:F(L,K("logToConsoleLevel"),-1),Wtc:F(L,K("bladerunnerCmdHistorySize"),10),JB:function(){return Q.JB;},pza:F(J,"logErrorIfEsnNotProvided",!0),Gta:F(J,"enforceSinglePlayback",ka.Gta),G$:F(J,"enforceSingleSession",ka.G$),Ira:F(J,"closeOtherPlaybacks",!0),AIb:F(I,"asyncLoadTimeout",15E3,1),T5b:F(I,"mainThreadMonitorPollRate",0),fK:function(){return Q.fK;},SO:function(){return Q.SO;},H2:function(){return Q.H2;},Nqb:F(I,K("verbosePlaybackInfoDenominator"),0),xfa:F(J,"renderTimedText",!0),nbc:F(J,"preBufferTimedText",!0),FUb:F(J,"fatalOnTimedTextLoadError",!0),Qob:F(ha,"timedTextStyleDefaults",{}),sGa:F(ha,"timedTextStyleOverrides",{}),aha:F(ha,"timedTextFontFamilyMapping",ka.aha || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),RS:F(I,"timedTextSimpleFallbackThreshold",ka.RS.ia(x.nx)),oQ:F(U,K("imscLanguageList"),ka.oQ,[]),Lca:F(U,K("lessBoldLanguageList"),ka.Lca,[]),Bsa:F(H,K("customDfxpUrl")),rTb:F(J,K("enableSubtitleTrackerLogging"),!1),jgc:F(J,K("sendSubtitleQoeLogblobOnMidplay"),!1),dra:F(X,"cdnIdWhiteList",[]),cra:F(X,"cdnIdBlackList",[]),Iua:F(H,K("forceAudioTrack")),Oua:F(H,K("forceTimedTextTrack")),I6b:F(I,K("maxRetriesTimedTextDownload"),0),lkc:F(I,K("timedTextRetryInterval"),8E3),Mic:F(H,"storageType","idb",/^(none|fs|idb|ls)$/),heb:F(I,"lockExpiration",1E4),B5b:F(I,"lockRefresh",3E3),VKb:F(J,"captureUnhandledExceptions",!0),H1b:F(J,"ignoreUnhandledExceptionDuringPlayback",!0),mlc:F(J,"unhandledExceptionsArePlaybackErrors",!1),Epb:F(H,"unhandledExceptionSource",""),Ubc:F(J,"preserveLastFrame",!1),x7b:F(I,"minBufferingTimeInMilliseconds",4E3),Acc:F(I,"progressBackwardsGraceTimeMilliseconds",4E3),Bcc:F(I,"progressBackwardsMinPercent",10),FJb:F(H,K("bookmarkIgnoreBeginning"),"0",xa),GJb:F(H,K("bookmarkIgnoreEnd"),"5%",xa),HJb:F(H,K("bookmarkIgnoreEndForBranching"),"60000",xa),SQ:F(I,"maxParallelConnections",3),IDa:F(J,"reportThroughputInLogblobs",!0),Zy:F(I,"minAudioMediaRequestDuration",16E3),v7b:F(I,"minAudioMediaRequestDurationBranching",0),tC:F(I,"minVideoMediaRequestDuration",4E3),G7b:F(I,"minVideoMediaRequestDurationVariableGOP",0),E7b:F(I,"minVideoMediaRequestDurationBranching",0),uda:F(I,"minAudioMediaRequestSizeBytes",0),Dda:F(I,"minVideoMediaRequestSizeBytes",0),pSb:F(J,"droppedFrameRateFilterEnabled",!1),qSb:F(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),sSb:F(function(fa,wa,ua,Ea,Xa,vb){return P(fa,wa,"[",function(nb){nb=nb.split(";");for(var zb=nb.length;zb--;){nb[zb]=nb[zb].split("|");for(var Ma=nb[zb].length;Ma--;){nb[zb][Ma]=(0,p.Fk)(nb[zb][Ma]);}}return nb;},[function(nb){return (0,v.isArray)(nb) && 0 < nb.length;},function(nb){for(var zb=nb.length;zb-- && void 0 !== nb;){if(!(0,v.isArray)(nb[zb]))return !1;for(var Ma=nb[zb].length;Ma--;){if(!(0,v.NF)(nb[zb][Ma],ua,Ea))return !1;}}return !0;},function(nb){if(void 0 !== Xa)for(var zb=nb.length;zb--;){if(Xa !== nb[zb].length)return !1;}return !0;},function(nb){return void 0 === vb || nb.length >= vb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),rSb:F(I,"droppedFrameRateFilterMinHeight",384),tSb:F(X,"droppedFramesPercentilesList",[]),r7b:F(J,"microsoftScreenSizeFilterEnabled",!1),b4b:F(J,"keyStatusFilterEnabled",!1),Sab:F(I,"hdcpEngagementWaitTime",0),ilc:F(J,"uiLabelFilterEnabled",!0),hlc:F(N,"uiLabelFilter",{}),NQb:F(I,K("defaultVolume"),100,0,100),aAa:F(I,K("maxPlaybackRate"),2,0,16),t7a:F(J,"fastForwardAds",!1),O5a:F(J,"disableVideoRightClickMenu",!1),yda:F(I,"minDecoderBufferMilliseconds",1E3,0,h.cA),iG:F(I,"optimalDecoderBufferMilliseconds",5E3,0,h.cA),FBa:F(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,h.cA),cR:F(I,"minimumTimeBeforeBranchDecision",3E3,0,h.cA),Vfb:F(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,h.cA),mC:F(I,"maxDecoderBufferMilliseconds",ka.mC.ia(z.va),0,h.cA),j5a:F(I,"decoderTimeoutMilliseconds",1E4,1),Cgb:F(I,"noRenderTimeoutMilliseconds",0),Qqb:F(I,"videoGapsTimeoutMilliseconds",500),dac:F(I,"pauseTimeoutLimitMilliseconds",18E5),uxa:F(I,"inactivityMonitorInterval",3E4,0),lGb:F(X,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),yP:F(J,"enableTrickPlay",!1),zHb:F(X,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),Rkc:F(I,"trickPlayHighResolutionBitrateThreshold",1E3),Skc:F(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),Vkc:F(M,"trickplayBufferFactor",.5),Qkc:F(I,"trickPlayDownloadRetryCount",1),Qza:F(H,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),jUb:F(U,"experimentalFilter",["throughput-wssl"]),wra:F(H,"ciPredictorSource","throughput-ci"),yFa:F(H,"simulationDurationStrategy","default"),LAa:F(H,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),ANa:F(N,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),Zeb:F(L,"maxIQRSamples",Infinity),Nfb:F(L,"minIQRSamples",5),Aqb:F(J,"useResourceTimingAPI",!1),E1b:F(J,"ignoreFirstByte",!0),mAa:F(J,"mediaRequestAsyncLoadStart",ka.mAa),ymc:F(J,"useXHROnLoadStart",!1),fua:F(X,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),L9:F(I,"connectTimeoutMilliseconds",8E3,500),SAa:F(I,"noProgressTimeoutMilliseconds",8E3,500),Pob:F(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),nxc:F(I,"netflixRequestExpiryTimeout",0),tnc:F(J,"webkitDecodedFrameCountIncorrectlyReported",!1),Sga:F(U,K("supportedAudioTrackTypes"),[],void 0,1),Vba:F(I,"initialLogFlushTimeout",5E3),Fib:F(H,"playdataPersistKey",Q.JB?"unsentplaydatatest":"unsentplaydata"),xyc:F(J,"sendPersistedPlaydata",!0),Lac:F(I,"playdataPersistIntervalMilliseconds",4E3),Jxc:F(I,"playdataSendDelayMilliseconds",1E4),yyc:F(J,"sendPlaydataBackupOnInit",!0),G5b:F(U,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),Gfb:F(J,"midplayEnabled",!0),sda:F(I,"midplayIntervalMilliseconds",3E5),Hfb:F(X,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),x$:F(I,"downloadReportDenominator",0),dSb:F(I,"downloadReportInterval",3E5),jeb:F(I,"logConfigApplyDenominator",0),Q1a:F(ha,K("bookmarkByMovieId"),{}),DY:F(J,K("forceLimitedDurationLicense"),!1),SF:F(I,K("licenseRenewalRequestDelay"),0),dCa:F(I,K("persistedReleaseDelay"),1E4),Awc:F(J,K("limitedDurationFlagOverride"),void 0),wlb:F(I,"safariPlayPauseWorkaroundDelay",100),Enc:F(I,"workaroundValueForSeekIssue",1200),Zqa:F(J,K("callEndOfStream"),ka.Zqa),pac:F(J,"performRewindCheck",!0),HUb:F(J,"fatalOnUnexpectedSeeking",!0),GUb:F(J,"fatalOnUnexpectedSeeked",!0),EUb:F(J,"fatalOnManifestMistmatch",!0),ghc:F(J,K("setVideoElementSize")),aMb:F(J,K("clearVideoSrc"),!0),y5a:F(I,K("delayPlayPause"),0),Vu:F(J,K("useTypescriptEme"),!1),rqb:F(J,K("useEncryptedEvent"),!0),YX:F(H,K("drmPersistKey"),"unsentDrmData"),vjb:F(J,K("promiseBasedEme"),!1),N8b:F(J,K("nudgeSourceBuffer"),!1),Mlb:F(L,K("seekDelta"),1),N0:F(J,K("preciseSeeking"),!1),pbc:F(J,K("preciseSeekingOnTwoCoreDevice"),!1),x5a:F(ha,K("delayErrorHandling")),Yl:F(H,"esn",""),w7a:F(H,"fesn",""),mTb:F(J,K("enablePerformanceLogging"),!1),D6a:F(J,K("enableEmeVerboseLogging"),!1),appId:F(H,"appId","",Aa),sessionId:F(H,"sessionId","",Aa),gra:F(H,"cdnProxyUrl"),vmc:F(J,"usePlayReadyHeaderObject",!1),g8a:F(I,"forceXhrErrorResponseCode",void 0),Xr:{kxc:F(H,"mslApiPath","/msl/"),Rxc:F(H,"proxyPath",""),Dz:F(H,"uiVersion"),oha:F(H,"uiPlatform"),iuc:function(){return "0";},BCa:F(U,"preferredLanguages",h.HKa,/^[a-zA-Z-]{2,5}$/,1),SVb:F(H,K("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),tjc:F(J,"supportPreviewContentPin",!0),ujc:F(J,"supportWatermarking",!0),Mhc:F(J,"showAllSubDubTracks",!1),tvc:F(J,K("failOnGuidMismatch"),!1)},ffa:{enabled:F(J,"qcEnabled",!1),Ep:F(H,"qcPackageId","")},Uu:F(J,"useRangeHeader",!1),iY:F(J,"enableMilestoneEventList",!0),bJb:F(ha,"authenticationKeyNames",(0,p.Qe)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),Fjc:F(H,"systemKeyWrapFormat"),Ghc:F(J,"shouldSendUserAuthData",!0),MEa:F(J,"sendUserAuthIfRequired",ka.MEa),zhc:F(J,"shouldClearUserData",!1),dT:F(J,"usesMsl",!0),Y7b:F(J,"mslDeleteStore",!1),$7b:F(J,"mslPersistStore",!0),cNb:F(J,"correctNetworkForShortTitles",!0),kbc:F(J,"postplayHighInitBitrate",!1),zjc:F(J,"supportsUnequalizedDownloadables",!0),d5a:F(I,K("debugAseDenominator"),100),M8:F(I,"aseAudioBufferSizeBytes",ka.M8.ia(x.nx)),Q8:F(I,"aseVideoBufferSizeBytes",ka.Q8.ia(x.nx)),Aw:F(I,"minInitVideoBitrate",560),yAa:F(I,"minHCInitVideoBitrate",560),oC:F(I,"maxInitVideoBitrate",Infinity),V_:F(I,"minInitAudioBitrate",0),T_:F(I,"minHCInitAudioBitrate",0),G_:F(I,"maxInitAudioBitrate",65535),tda:F(I,"minAcceptableVideoBitrate",235),aG:F(I,"minRequiredBuffer",3E4),Dk:F(I,"minPrebufSize",7800),xda:F(I,"minCheckBufferingCompleteInterval",999999),mDa:F(M,"rebufferingFactor",1),lu:F(I,"maxBufferingTime",2600),kHa:F(J,"useMaxPrebufSize",!0),ZF:F(I,"maxPrebufSize",45E3),cAa:F(I,"maxRebufSize",Infinity),Sba:F(V,"initialBitrateSelectionCurve",null),Gbb:F(I,"initSelectionLowerBound",560),Hbb:F(I,"initSelectionUpperBound",1050),t2:F(I,"throughputPercentForAudio",15),mqa:F(I,"bandwidthMargin",10),nqa:F(J,"bandwidthMarginContinuous",!1),oqa:F(V,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Yra:F(I,"conservBandwidthMargin",20),gGa:F(J,"switchConfigBasedOnInSessionTput",!1),tX:F(I,"conservBandwidthMarginTputThreshold",0),Zra:F(V,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),oob:F(J,"switchAlgoBasedOnHistIQR",!1),UG:F(H,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),bAa:F(L,"maxPlayerStateToSwitchConfig",-1),Bza:F(H,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Vja:F(M,"IQRThreshold",.5),gxa:F(H,"histIQRCalcToUse","simple"),ou:F(I,"maxTotalBufferLevelPerSession",0),cY:F(J,"enableCombinedPlaygraphs",!0),EJ:F(J,"enableAdPlaygraphs",!0),Jfa:F(J,"retainSbrOnFade",!1),Zta:F(U,"excludedContentPlaygraphIds",[]),C$:F(J,"enableDiscontiguousBuffering",!1),Mua:F(X,"forceImmediateTransitionTypeForTitles",[]),Lua:F(I,"forceImmediateTransitionExitZone",0),wha:F(J,"useBufferSizeLimiter",!1),jHa:F(J,"useLegacyFragmentRounding",!1),$ab:F(I,"highWatermarkLevel",3E4),Yob:F(I,"toStableThreshold",3E4),eha:F(I,"toUnstableThreshold",ka.eha.ia(z.va)),AFa:F(J,"skipBitrateInUpswitch",!1),BHa:F(I,"watermarkLevelForSkipStart",8E3),axa:F(I,"highStreamRetentionWindow",9E4),Cza:F(I,"lowStreamTransitionWindow",51E4),cxa:F(I,"highStreamRetentionWindowUp",3E5),Eza:F(I,"lowStreamTransitionWindowUp",3E5),bxa:F(I,"highStreamRetentionWindowDown",6E5),Dza:F(I,"lowStreamTransitionWindowDown",0),$wa:F(M,"highStreamInfeasibleBitrateFactor",.5),iC:F(I,"lowestBufForUpswitch",15E3),v_:F(I,"lockPeriodAfterDownswitch",15E3),Gza:F(I,"lowWatermarkLevel",25E3),jC:F(I,"lowestWaterMarkLevel",2E4),Hza:F(J,"lowestWaterMarkLevelBufferRelaxed",!1),oda:F(M,"mediaRate",1),gda:F(I,"maxTrailingBufferLen",1E4),X8:F(I,"audioBufferTargetAvailableSize",262144),Eha:F(I,"videoBufferTargetAvailableSize",1048576),mfb:F(I,"maxVideoTrailingBufferSize",8388608),Reb:F(I,"maxAudioTrailingBufferSize",393216),W$:F(M,"fastUpswitchFactor",3),gua:F(M,"fastDownswitchFactor",1),xw:F(I,"maxMediaBufferAllowed",24E4),xFa:F(J,"simulatePartialBlocks",!0),anb:F(J,"simulateBufferFull",!0),$ra:F(J,"considerConnectTime",!1),Xra:F(M,"connectTimeMultiplier",1),peb:F(I,"lowGradeModeEnterThreshold",12E4),qeb:F(I,"lowGradeModeExitThreshold",9E4),Ueb:F(I,"maxDomainFailureWaitDuration",3E4),Qeb:F(I,"maxAttemptsOnFailure",18),j7a:F(J,"exhaustAllLocationsForFailure",!0),bfb:F(I,"maxNetworkErrorsDuringBuffering",20),Zca:F(I,"maxBufferingTimeAllowedWithNetworkError",12E4),s7a:F(I,"fastDomainSelectionBwThreshold",2E3),Cob:F(I,"throughputProbingEnterThreshold",4E4),Dob:F(I,"throughputProbingExitThreshold",34E3),feb:F(I,"locationProbingTimeout",1E4),z7a:F(I,"finalLocationSelectionBwThreshold",1E4),Aob:F(M,"throughputHighConfidenceLevel",.75),Bob:F(M,"throughputLowConfidenceLevel",.4),O6a:F(J,"enablePerfBasedLocationSwitch",!1),Ow:F(J,"probeServerWhenError",!0),MCa:F(I,"probeRequestTimeoutMilliseconds",8E3),YA:F(J,"allowSwitchback",!0),NR:F(I,"probeDetailDenominator",100),$ca:F(I,"maxDelayToReportFailure",300),mza:F(I,"locationStatisticsUpdateInterval",6E4),f4a:F(J,"countGapInBuffer",!1),D0a:F(J,"allowCallToStreamSelector",!0),Z1a:F(I,"bufferThresholdForAbort",1E4),H6b:F(I,"maxResponsesInitialTput",6),H6a:F(J,"enableInitialTputLogging",!1),fCa:F(I,"pipelineScheduleTimeoutMs",2),pC:F(I,"maxPartialBuffersAtBufferingStart",2),eAa:F(I,"maxStreamingSkew",4E3),$za:F(I,"maxPendingBufferPercentage",10),Cba:F(I,"headerRequestSize",4096),Nta:F(J,"estimateHeaderSize",!1),S_:F(I,"minBufferLenForHeaderDownloading",1E4),u1:F(I,"reserveForSkipbackBufferMs",1E4),dBa:F(I,"numExtraFragmentsAllowed",2),qj:F(J,"pipelineEnabled",!1),knb:F(I,"socketReceiveBufferSize",0),Z8:F(I,"audioSocketReceiveBufferSize",32768),hT:F(I,"videoSocketReceiveBufferSize",65536),Ywa:F(I,"headersSocketReceiveBufferSize",32768),tha:F(I,"updatePtsIntervalMs",1E3),Aqa:F(I,"bufferTraceDenominator",100),cX:F(I,"bufferLevelNotifyIntervalMs",2E3),FO:F(I,"aseReportDenominator",0),O8:F(I,"aseReportIntervalMs",3E5),NSb:F(J,"enableAbortTesting",!1),jGb:F(I,"abortRequestFrequency",8),YFa:F(I,"streamingStatusIntervalMs",2E3),HC:F(I,"prebufferTimeLimit",24E4),wda:F(I,"minBufferLevelForTrackSwitch",2E3),YBa:F(I,"penaltyFactorForLongConnectTime",2),yza:F(I,"longConnectTimeThreshold",200),Bpa:F(I,"additionalBufferingLongConnectTime",2E3),Cpa:F(I,"additionalBufferingPerFailure",8E3),b1:F(I,"rebufferCheckDuration",6E4),L6a:F(J,"enableLookaheadHints",!1),neb:F(I,"lookaheadFragments",2),aF:F(J,"enableOCSideChannel",!0),v5:F(N,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Spb:F(J,"updateDrmRequestOnNetworkFailure",!1),w5a:F(J,"deferAseScheduling",!1),Teb:F(I,"maxDiffAudioVideoEndPtsMs",16E3),i$:F(I,"defaultHeaderCacheSize",4),h$:F(I,"defaultHeaderCacheDataPrefetchMs",8E3),Pda:F(J,"neverWipeHeaderCache",!0),KAa:F(I,"networkFailureResetWaitMs",2E3),JAa:F(I,"networkFailureAbandonMs",6E4),fda:F(I,"maxThrottledNetworkFailures",3),Xga:F(I,"throttledNetworkFailureThresholdMs",200),Fza:F(L,"lowThroughputThreshold",400),Yta:F(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),dgb:F(J,"mp4ParsingInNative",!1),nnb:F(J,"sourceBufferInOrderAppend",!0),wL:F(J,"requireAudioStreamToEncompassVideo",!0),C0a:F(J,"allowAudioToStreamPastVideo",!0),mj:F(J,"enableManagerDebugTraces",!1),Ceb:F(I,"managerDebugMessageInterval",1E3),Beb:F(I,"managerDebugMessageCount",20),Qgb:F(J,"notifyManifestCacheEom",!1),zqa:F(I,"bufferThresholdToSwitchToSingleConnMs",18E4),yqa:F(I,"bufferThresholdToSwitchToParallelConnMs",12E4),Eea:F(I,"periodicHistoryPersistMs",3E5),Vfa:F(I,"saveVideoBitrateMs",18E4),R0a:F(J,"appendMediaRequestOnComplete",!0),Mha:F(J,"waitForDrmToAppendMedia",!1),kaa:F(J,K("forceAppendHeadersAfterDrm"),!1),QVb:F(J,K("forceAppendEncryptedStreamHeaderFirst"),!0),edc:F(J,K("reappendRequestsOnSkip"),!1),d8b:F(I,"netIntrStoreWindow",36E3),A7b:F(I,"minNetIntrDuration",8E3),zUb:F(I,"fastHistoricBandwidthExpirationTime",10368E3),lJb:F(I,"bandwidthExpirationTime",5184E3),xUb:F(I,"failureExpirationTime",86400),b1b:F(I,"historyTimeOfDayGranularity",4),iUb:F(J,"expandDownloadTime",!1),N7b:F(I,"minimumMeasurementTime",500),M7b:F(I,"minimumMeasurementBytes",131072),bkc:F(I,"throughputMeasurementTimeout",2E3),j2b:F(I,"initThroughputMeasureDataSize",262144),ckc:F(H,"throughputPredictor","ewma"),akc:F(I,"throughputMeasureWindow",5E3),gkc:F(I,"throughputWarmupTime",5E3),$jc:F(I,"throughputIQRMeasureWindow",5E3),zwb:F(I,"IQRBucketizerWindow",15E3),JMb:F(I,"connectTimeHalflife",10),Zec:F(I,"responseTimeHalflife",10),a1b:F(I,"historicBandwidthUpdateInterval",2E3),L7b:F(I,"minimumBufferToStopProbing",1E4),zEa:F(H,"secondThroughputEstimator","none"),Jlb:F(L,"secondThroughputMeasureWindowInMs",Infinity),XSb:F(U,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),VUb:F(N,"filterDefinitionOverrides",{}),GQb:F(H,"defaultFilter","throughput-ewma"),Mfc:F(H,"secondaryFilter","none"),HQb:F(N,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),$_:F(J,"needMinimumNetworkConfidence",!0),rqa:F(J,"biasTowardHistoricalThroughput",!0),ppa:F(J,"addHeaderDataToNetworkMonitor",!1),IFa:F(J,"startMonitorOnLoadStart",!1),HDa:F(J,"reportFailedRequestsToNetworkMonitor",!1),ada:F(L,"maxFastPlayBufferInMs",Infinity),Xza:F(L,"maxFastPlayBitThreshold",Infinity),Mpa:F(J,"appendFirstHeaderOnComplete",!0),nIb:F(H,"ase_stream_selector","optimized"),Gxa:F(H,"initBitrateSelectorAlgorithm","default"),Eqa:F(H,"bufferingSelectorAlgorithm","default"),e5a:F(H,"ase_ls_failure_simulation",""),Fsa:F(J,"ase_dump_fragments",!1),Gsa:F(I,"ase_location_history",0),f5a:F(I,"ase_throughput",0),h5a:F(J,"ase_simulate_verbose",!1),fbc:F(I,"pollingPeriod",150),u5b:F(I,"loadTimeMs",18E4),l6b:F(I,"marginTimeMs",1E4),sva:F(J,"getDeviceIdFromBindDevice",!1),opa:F(J,"addFailedLogBlobsToQueue",!0),jlc:{"content-sampling":{lu:F(I,"contentSamplingMaxBufferingTime",3E3),lS:F(H,"contentSamplingSelectStartingVMAFMethod","fallback"),wW:F(J,"contentSamplingActivateSelectStartingVMAF",!0),Bw:F(I,"contentSamplingMinStartingVideoVMAF",80),R_:F(I,"contentSamplingMinAcceptableVMAF",70),PK:F(I,"contentSamplingMinAllowedVmaf",60)},billboard:{Aw:F(I,"billboardMinInitVideoBitrate",1050),oC:F(I,"billboardMaxInitVideoBitrate",null),Dk:F(I,"billboardMinPrebufSize",null),ZF:F(I,"billboardMaxPrebufSize",null),lu:F(I,"billboardMaxBufferingTime",null),pC:F(I,"billboardMaxPartialBuffersAtBufferingStart",null),jC:F(I,"billboardLowestWaterMarkLevel",6E3),iC:F(I,"billboardLowestBufForUpswitch",25E3),UG:F(H,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Aw:F(I,"preplayMinInitVideoBitrate",1050),oC:F(I,"preplayMaxInitVideoBitrate",null),Dk:F(I,"preplayMinPrebufSize",null),ZF:F(I,"preplayMaxPrebufSize",null),lu:F(I,"preplayMaxBufferingTime",null),pC:F(I,"preplayMaxPartialBuffersAtBufferingStart",null),jC:F(I,"preplayLowestWaterMarkLevel",6E3),iC:F(I,"preplayLowestBufForUpswitch",25E3)},embedded:{Aw:F(I,"embeddedMinInitVideoBitrate",1050),oC:F(I,"embeddedMaxInitVideoBitrate",null),Dk:F(I,"embeddedMinPrebufSize",null),ZF:F(I,"embeddedMaxPrebufSize",null),lu:F(I,"embeddedMaxBufferingTime",null),pC:F(I,"embeddedMaxPartialBuffersAtBufferingStart",null),jC:F(I,"embeddedLowestWaterMarkLevel",6E3),iC:F(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Aw:F(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),oC:F(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Dk:F(I,"videoMerchBobHorizontalMinPrebufSize",null),ZF:F(I,"videoMerchBobHorizontalMaxPrebufSize",null),lu:F(I,"videoMerchBobHorizontalMaxBufferingTime",null),pC:F(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),jC:F(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),iC:F(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{Aw:F(I,"miniModalHorizontalMinInitVideoBitrate",null),oC:F(I,"miniModalHorizontalMaxInitVideoBitrate",null),Dk:F(I,"miniModalHorizontalMinPrebufSize",null),ZF:F(I,"miniModalHorizontalMaxPrebufSize",null),lu:F(I,"miniModalHorizontalMaxBufferingTime",500),pC:F(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),jC:F(I,"miniModalHorizontalLowestWaterMarkLevel",null),iC:F(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},vTb:F(J,"enableVerbosePlaydelayLogging",!1),pTb:F(J,"enableSeamless",!1),fxa:F(I,"hindsightDenominator",0),exa:F(I,"hindsightDebugDenominator",0),Gba:F(N,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),jY:F(J,"enableSessionHistoryReport",!1),tta:F(I,"earlyStageEstimatePeriod",1E4),Jdb:F(I,"lateStageEstimatePeriod",3E4),dda:F(I,"maxNumSessionHistoryStored",30),Cda:F(I,"minSessionHistoryDuration",3E4),Vy:F(I,"maxActiveRequestsPerSession",3),Xca:F(I,"maxActiveRequestsSABCell100",2),cza:F(J,"limitAudioDiscountByMaxAudioBitrate",!0),Hd:F(N,"browserInfo",{}),aKb:F(I,K("busyGracePeriod"),199),kgc:F(J,K("sendTransitionLogblob"),!0),CSb:F(J,K("editVideoFragments"),!0),B$:F(J,K("earlyAppendSingleChildBranch"),!0),Q1b:F(J,K("includeSegmentInfoOnLogblobs"),!0),oUb:F(J,"exposeTestData",!1),nUb:F(J,K("exposeErrorData"),!1),Hsa:F(J,"declareBufferingCompleteAtSegmentEnd",!0),RI:F(J,K("applyProfileTimestampOffset"),!1),Km:F(J,K("applyProfileStreamingOffset"),!1),O_:F(J,K("mediaSourceSupportsNegativePts"),!1),PHb:F(J,K("allowSmallSeekDelta"),!1),cic:F(I,K("smallSeekDeltaThresholdMilliseconds"),t.V5),SSb:F(J,"enableCDMAttestedDescriptors",!1),Dfa:F(J,"requireDownloadDataAtBuffering",!1),Efa:F(J,"requireSetupConnectionDuringBuffering",!1),oDa:F(J,"recordFirstFragmentOnSubBranchCreate",!1),vqb:F(J,"useMobileVMAF",!1),F5a:F(H,"desiredVMAFTypeMobile","phone_plus_lts"),G5a:F(H,"desiredVMAFTypeNonMobile","plus_lts"),wW:F(J,"activateSelectStartingVMAF",!1),Bw:F(I,"minStartingVideoVMAF",1),R_:F(I,"minAcceptableVMAF",1),PK:F(I,"minAllowedVmaf",1),SHb:F(J,"alwaysNotifyEOSForPlaygraph",!0),E$:F(J,"enableNewAse",!0),yha:F(J,"useNewApi",!0),Yca:F(I,"maxAllowedOutstandingRequests",4),CO:F(J,"alwaysRunUnderflowTimer",!0),zAa:F(I,"minStreamableConcurrencyWindow",3E3),VFa:F(M,"streamableConcurrencyFactor",.3),fX:F(I,"bufferingConcurrencyWindow",7800),Whc:F(J,"singleStreamablePerBranch",!0),F$:F(J,"enableResolutionVMAFStreamFilter",!1),Ifa:F(N,"resolutionVMAFCappingRuleList",{}),aCa:F(L,"percentCapTitlesForResolutionVMAFStreamFilter",100),JRb:F(J,"disableSkipping",!1),xha:F(J,"useHLSPlayer",ka.xha),hHa:F(J,K("useExitZones"),!0),Gec:F(J,"requestSegmentVmaf",!1),AR:F(N,"perFragmentVMAFConfig",{enabled:!1}),JBa:F(I,"paddingDurationMs",1E3),KBa:F(H,"paddingMediaType","padding"),mob:F(J,"supportsPtsChanged",!1),tbc:F(J,K("preferUnletterboxed"),!1),I6a:F(J,"enableKeySystemRestrictor",!1),YTb:F(I,"errorEventToRestrict",2),XTb:F(X,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),WTb:F(X,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),z6a:F(J,"enableCachedErrors",!1),kKb:F(I,"cachedErrorCountLimit",20),mKb:F(I,"cachedErrorExpirationSeconds",604800),nKb:F(I,"cachedErrorsStorageTimeoutSeconds",2E3),r_:F(I,"liveTargetBufferDuration",1E4),eza:F(I,"liveEdgeCushion",2E3),$4b:F(L,"liveEdgeThreshold",1E4),dTb:F(J,"enableLivePlaybackRateDriftCorrection",!0),g5b:F(M,"livePlaybackRateMin",.98),f5b:F(M,"livePlaybackRateMax",1.02),e5b:F(L,"livePlaybackRateAdjustmentThresholdMs",20),d5b:F(L,"livePlaybackRateAdjustmentIntervalMs",1E3),c5b:F(M,"livePlaybackRateAdjustmentFactor",.1),Jua:F(J,"forceDisableLiveUI",!1),Kua:F(X,"forceDisableLiveUIByMovieIds",[]),RVb:F(L,"forceAstRelativeLiveBookmark",void 0),TVb:F(L,"forceEstRelativeLiveBookmark",void 0),Bic:F(L,"startSlateMs",void 0),h5b:F(L,"liveSlateMs",void 0)};R=!0;b.Wra=function(fa){var wa,ua,Ea;wa=c.Ga.get(A.kd).id;if(0 < b.config.jeb && 0 === wa % b.config.jeb)try{ua=c.Ga.get(w.Ho);Ea=c.Ga.get(u.bA).Nv("config","info",{params:fa});ua.Ec(Ea);}catch(Xa){c.log.error("Failed to log config$apply",Xa);}mb._cad_global.config=b.config;(0,g.wa)(fa);fa && (Oa=(0,p.Qe)({},fa,{A_:!0}),(0,p.Qe)(Oa,W,{A_:!0}),G(ra,b.config),Oa.istestaccount && c.log.trace("Config applied for",qa(R?Oa:fa)),R=!1);};(0,b.Wra)(Oa);};b.J9=function(D){D=d(D);return (0,p.Qe)({},a(180)(D),{pea:!0});};b.N3a=function(D,E,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={Zy:D?b.config.v7b:b.config.Zy,tC:D?b.config.E7b:G?b.config.G7b:b.config.tC,B$:!E};return (0,p.Qe)({},a(180)(D),{pea:!0});};b.GMb=d;b.FMb=l;},function(r,b,a){var l;function d(h,n){return h && n?Math.abs(h * n / (0,l.kF)(h,n)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.O=void 0;l=a(401);r=(function(){function h(n,c){"object" === typeof n?(this.Cc=n.Ca,this.wb=n.V):(this.Cc=n,this.wb=c);isFinite(this.Cc) || (this.wb=1);}h.compare=function(n,c){return n.Mm(c);};h.abs=function(n){return new h(Math.abs(n.Cc),n.wb);};h.Na=function(n){return 0 === n?h.Oa:new h(n,1E3);};h.dha=function(n,c){return Math.floor(1E3 * n / c);};h.fgb=function(n,c){return Math.floor(n * c / 1E3);};h.max=function(){for(var n=[],c=0;c < arguments.length;c++){n[c]=arguments[c];}return n.reduce(function(f,g){return f.greaterThan(g)?f:g;});};h.min=function(){for(var n=[],c=0;c < arguments.length;c++){n[c]=arguments[c];}return n.reduce(function(f,g){return f.lessThan(g)?f:g;});};h.kF=function(n,c){var f;if(n.wb === c.wb)return new h((0,l.kF)(n.Cc,c.Cc),n.wb);f=d(n.wb,c.wb);return new h((0,l.kF)(n.Cc * f / n.wb,c.Cc * f / c.wb),f);};Object.defineProperties(h.prototype,{Ca:{get:function(){return this.Cc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{V:{get:function(){return this.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Z:{get:function(){return h.dha(this.Cc,this.wb);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{IC:{get:function(){return 1E3 * this.Cc / this.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{AL:{get:function(){var n;n=this.IC;return 0 > n?Math.ceil(n):Math.floor(n);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$i:{get:function(){return this.Cc / this.wb;},enumerable:!1,configurable:!0}});h.prototype.Ue=function(n){n/=this.wb;return new h(Math.floor(this.Cc * n),Math.floor(this.wb * n));};h.prototype.add=function(n){var c;if(this.wb === n.wb)return new h(this.Cc + n.Cc,this.wb);c=d(this.wb,n.wb);return new h(this.Cc * c / this.wb + n.Cc * c / n.wb,c);};h.prototype.Fa=function(n){var c;if(this.wb === n.wb)return new h(this.Cc - n.Cc,this.wb);c=d(this.wb,n.wb);return new h(this.Cc * c / this.wb - n.Cc * c / n.wb,c);};h.prototype.$y=function(n){return new h(this.Cc * n,this.wb);};h.prototype.qk=function(n){var c;if("number" === typeof n){if(Math.floor(n) === n){c=d(this.Cc,n);if(c !== this.Cc)return this.Ue(c / this.Cc * this.wb).qk(n);}return new h(Math.floor(this.Cc / n),this.wb);}if(this.wb === n.wb)return this.Cc / n.Cc;c=d(this.wb,n.wb);return this.Cc * c / this.wb / (n.Cc * c / n.wb);};h.prototype.lP=function(n){var c;if(this.wb === n.wb)return new h(Math.abs(this.Cc - n.Cc),this.wb);c=d(this.wb,n.wb);return new h(Math.abs(this.Cc * c / this.wb - n.Cc * c / n.wb),c);};h.prototype.jkb=function(){return new h(this.wb,this.Cc);};h.prototype.compare=function(n,c){var f;if(this.wb === c.wb)return n(this.Cc,c.Cc);f=d(this.wb,c.wb);return n(this.Cc * f / this.wb,c.Cc * f / c.wb);};h.prototype.Mm=function(n){var c;if(this.wb === n.wb)return this.Ca === n.Cc?0:this.Cc - n.Cc;c=d(this.wb,n.wb);return this.Cc * c / this.wb - n.Cc * c / n.wb;};h.prototype.equal=function(n){return this.compare(function(c,f){return c === f;},n);};h.prototype.WAa=function(n){return this.compare(function(c,f){return c !== f;},n);};h.prototype.lessThan=function(n){return this.compare(function(c,f){return c < f;},n);};h.prototype.greaterThan=function(n){return this.compare(function(c,f){return c > f;},n);};h.prototype.RF=function(n){return this.compare(function(c,f){return c <= f;},n);};h.prototype.tk=function(n){return this.compare(function(c,f){return c >= f;},n);};h.prototype.isFinite=function(){return !!this.wb && isFinite(this.Cc);};h.prototype.hab=function(n){return d(this.V,n);};h.prototype.toJSON=function(){return {ticks:this.Cc,timescale:this.wb};};h.prototype.toString=function(){return ("").concat(this.Cc,"/").concat(this.wb);};h.prototype.Fb=function(){return ("").concat(this.Cc,"/").concat(this.wb," (").concat(this.Z,"ms)");};h.Oa=new h(0,1E3);h.yC=new h(1,1E3);h.Zt=new h(Infinity,1);return h;})();b.O=r;},function(r,b,a){var l;function d(h){return h.filter(function(n,c){return h.indexOf(n) === c;});}Object.defineProperties(b,{__esModule:{value:!0}});b.b1a=b.Vda=b.Z_b=b.dNb=b.flatten=b.Lfb=b.uMb=b.L8=b.Fv=b.d1a=b.MW=b.Tpa=b.vt=b.Upa=b.Nc=void 0;l=a(0);b.Nc=function(h,n){for(var c=0;c < h.length;c++){if(n(h[c],c,h))return h[c];}};b.Upa=function(h,n){for(var c=h.length - 1;0 <= c;--c){if(n(h[c],c,h))return h[c];}};b.vt=function(h,n){var c;c=-1;return h.some(function(f,g,k){c=g;return n(f,g,k);})?c:-1;};b.Tpa=function(h,n){for(var c=h.length - 1;0 <= c;c--){if(n(h[c],c,h))return c;}return -1;};b.MW=d;b.d1a=function(h,n){n=h.indexOf(n);if(-1 === n)return !1;h.splice(n,1);return !0;};b.Fv=function(h,n,c){return c?h.filter(function(f){return !n.some(function(g){return c(f,g);});}):h.filter(function(f){return -1 === n.indexOf(f);});};b.L8=function(h,n){return d(h.concat(n));};b.uMb=function(h){return function(n,c){return h(n) - h(c);};};b.Lfb=function(h){return function(n,c){return h(n) < h(c)?n:c;};};b.flatten=function(h){var n;return (n=[]).concat.apply(n,l.__spreadArray([],l.__read(h),!1));};b.dNb=function(h,n){void 0 === n && (n=function(c){return c;});return h.reduce(function(c,f){f=n(f);return (void 0 === c[f]?c[f]=1:++c[f],c);},{});};b.Z_b=function(h,n){return h.reduce(function(c,f){var g;g=n(f);return (void 0 === c[g]?c[g]=[f]:c[g].push(f),c);},{});};b.Vda=function(h){return null !== h && void 0 !== h;};b.b1a=function(h){var n,f;n=[];if(Array.isArray(h))for(var c=0;c < h.length;c++){f=h[c];Array.isArray(f)?n=n.concat(f.filter(function(g){return void 0 !== g;})):void 0 !== f && n.push(f);}return n;};},function(r,b,a){var h,n,c;function d(){c || (c=h.Ga.get(n.Sz));return c;}function l(f,g){return d().assert(f,g);}Object.defineProperty(b,"__esModule",{value:!0});b.nQb=b.Esa=b.gQb=b.kQb=b.hP=b.HX=b.jQb=b.lQb=b.IX=b.c5a=b.iQb=b.hQb=b.wa=b.mQb=b.qsb=void 0;h=a(10);n=a(111);b.qsb=function(){l(!1);};b.mQb=!0;c=void 0;b.wa=l;b.hQb=function(f,g){return d().rIb(f,g);};b.iQb=function(f,g){return d().sIb(f,g);};b.c5a=function(f,g){return d().T8(f,g);};b.IX=function(f,g){return d().yIb(f,g);};b.lQb=function(f,g){return d().wIb(f,g);};b.jQb=function(f,g){return d().S8(f,g);};b.HX=function(f,g){return d().uIb(f,g);};b.hP=function(f,g){return d().xIb(f,g);};b.kQb=function(f,g){return d().vIb(f,g);};b.gQb=function(f,g){return d().qIb(f,g);};b.Esa=function(f,g){return d().tIb(f,g);};b.nQb=function(){return d().H2b();};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.ZMb=b.h8a=b.Yn=b.vg=b.kMb=b.sf=b.Qy=b.trim=b.ixa=b.Ynb=b.Kjb=b.L$b=b.Fk=b.e1a=b.x2a=b.Qe=b.jh=void 0;d=a(22);l=a(14);h=a(15);b.jh=function(n,c){for(var f in n){n.hasOwnProperty(f) && c(f,n[f]);}};b.Qe=b.Qe || (function(n,c,f){var g,k,m;if(c)if(f){g=f.A_;k=f.prefix;m=f.pea;(0,b.jh)(c,function(p,q){if(!m || (0,h.Ad)(q))n[(k || "") + (g?p.toLowerCase():p)]=q;});}else (0,b.jh)(c,function(p,q){n[p]=q;});return n;});b.x2a=function(n,c,f,g){var k;if(n){k=n[c];(0,h.qd)(k) && (f=k.apply(n,l.slice.call(arguments,3)));}return f;};b.e1a=function(n){for(var c={},f=n.length;f--;){c[n[f]]=!0;}return c;};b.Fk=b.Fk || (function(n){return parseInt(n,10);});b.L$b=function(n){return (/^true$/i).test(n);};b.Kjb=function(n,c){return (0,l.Sp)(n + (0,l.uU)() * (c - n));};b.Ynb=function(n){return JSON.stringify(n,null,"  ");};b.ixa=(function(){var c,f;function n(g){(0,d.wa)(void 0 !== c[g]);return c[g];}c={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(g){return g.replace(f,n);};})();b.trim=(function(){var n;n=/^\s+|\s+$/gm;return function(c){return c.replace(n,"");};})();b.Qy=function(n){return Array.isArray(n)?n:[n];};b.sf=b.sf || (function(n){var c,f,g;if(n){c=n.stack;f=n.number;g=n.message;g || (g="" + n);c?(n="" + c,0 != n.indexOf(g) && (n=g + "\n" + n)):n=g;f && (n+="\nnumber:" + f);return n;}});b.kMb=function(n){var g;for(var c=0;c < arguments.length;++c){;}c=0;for(var f=arguments.length;c < f;){g=arguments[c++];if((0,h.Ad)(g))return g;}};b.vg=function(n){return (0,h.Pa)(n)?n.toFixed(0):"";};b.Yn=function(n){return (0,h.Pa)(n)?(n / 1E3).toFixed(0):"";};b.h8a=function(n){return (0,h.Pa)(n)?n.toFixed():"";};b.ZMb=function(n){for(var c=[],f=0;f < n.length;f++){c[f]=n[f];}return c;};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(103);b.M=!1;r=(function(){function l(h,n,c,f,g){this.Xb=h;this.type=n;this.byteOffset=c;this.byteLength=f;this.parent=g;this.ze={};this.bL=f;}l.KB=function(h,n){var f,k;function c(m){m && m.KB && (m=m.KB(n),m.length && (f=f.concat(m)));}f=[];h.type === n && f.push(h);if(h.ze)for(var g in h.ze){k=h.ze[g];Array.isArray(k) && k.forEach(c);}return f;};l.DW=function(h,n){void 0 === h.ze[n.type] && (h.ze[n.type]=[]);h.ze[n.type].push(n);};l.Eq=function(h,n){return l.KB(h,n)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{R:{get:function(){return this.Xb;},enumerable:!0,configurable:!0}});l.prototype.Vh=function(){var h;h=this.Xb.mc();this.version=h >> 24;this.flags=h & 16777215;};l.prototype.DW=function(h){l.DW(this,h);};l.prototype.KB=function(h){return l.KB(this,h);};l.prototype.Eq=function(h){return l.Eq(this,h);};l.prototype.parse=function(){return !0;};l.prototype.JJ=function(){return !0;};l.prototype.gr=function(h){if((h=this.ze[h]) && Array.isArray(h) && 1 === h.length)return h[0];};l.prototype.no=function(h,n){n=void 0 === n?this.Xb.offset:n;d.assert(n >= this.startOffset + 8 && n + h <= this.startOffset + this.bL,"Removal range [0x" + n.toString(16) + "-0x" + (n + h).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.bL).toString(16) + ")");this.Xb.no(h,n,this);};l.prototype.zfa=function(h,n,c){c=void 0 === c?this.Xb.offset:c;d.assert(c >= this.startOffset + 8 && c + h <= this.startOffset + this.bL,"Removal range [0x" + c.toString(16) + "-0x" + (c + h).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.bL).toString(16) + ")");this.Xb.zfa(h,n,c,this);};l.prototype.Yjb=function(h,n,c){if(1 < c){for(var f=[];0 < c--;){f.push(this.WZa(h,n));}return f;}return this.WZa(h,n);};l.prototype.mz=function(h){var n,c;c=this;void 0 === n && (n={});h.forEach(function(f){var g,k;if("offset" === f.type){g=f.offset;if(0 < g % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");c.Xb.offset+=g / 8;}else for(g in f){k=f[g];n[g]="string" === typeof k?c.Yjb(k):c.Yjb(k.type,k.length,k.gIb);}});return n;};l.prototype.WZa=function(h,n){var c;c=this.byteLength - this.Xb.offset + this.startOffset;"undefined" === typeof n && (n=c);switch(h){case "int8":h=this.Xb.Od();break;case "int64":h=this.Xb.lm();break;case "int32":h=this.Xb.mc();break;case "int16":h=this.Xb.Kh();break;case "string":h=this.Xb.Wcc(Math.min(n,c));break;default:throw Error("Invalid type: " + h);}return h;};l.zd=!1;return l;})();b.Gg=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ah="IsTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uz=b.eXa=b.$zb=b.sr=b.Mf=b.zn=b.lx=b.u=void 0;(function(a){a[a.Audio=0]="Audio";a[a.XWa=1]="Video";})(b.u || (b.u={}));(function(a){a[a.Tz=0]="Default";a[a.fA=1]="Microsoft";})(b.lx || (b.lx={}));(function(a){a[a.Tz=0]="Default";a[a.AM=1]="Chrome";a[a.fA=2]="Microsoft";})(b.zn || (b.zn={}));(function(a){a[a.RU=0]="SD";a[a.r4=1]="HD";a[a.mN=2]="UHD";a[a.px=3]="DV";a[a.KM=4]="HDR10";a[a.rD=5]="AVCHigh";a[a.QD=6]="VP9";a[a.Il=7]="AV1";})(b.Mf || (b.Mf={}));(function(a){a[a.k5=0]="Level_1_4";a[a.zH=1]="Level_2_2";})(b.sr || (b.sr={}));b.$zb=function(){};(function(a){a[a.Yrc=0]="Platform";a[a.kpc=1]="CurrentTitle";})(b.eXa || (b.eXa={}));b.Uz="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nh="ClockSymbol";},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Rla=b.zj=b.Kc=void 0;d=a(0);l=a(931);h=a(21);(function(n){n[n.Cl=0]="startPlayback";n[n.kl=1]="endPlayback";n[n.sn=2]="underflow";})(b.Kc || (b.Kc={}));b.zj={Ju:"startplay",sC:"midplay",HB:"endplay",PZ:"intrplay",mB:"chgstrm",DR:"playbackaborted",k1:"renderstrmswitch",AG:"repos",Ww:"resumeplay",c2:"statechanged",SI:"aseReport"};r=(function(){function n(c){this.config=c;this.uL=[];}n.prototype.eg=function(c){var f,g;g=d.__read(this.config.kIb.filter(function(k){return k.je === c.je;}),1)[0];this.config.QSb && (null !== (f=null === g || void 0 === g?void 0:g.enabled) && void 0 !== f?f:c.enabled)?this.uL.push(c):c.Wa && c.Wa();};n.prototype.SZb=function(c){return (0,h.Nc)(this.uL,function(f){return f.je === c.je;});};n.prototype.ol=function(c,f){var g,k,m,v,t;k={};m=[];try{for(var p=d.__values(this.uL),q=p.next();!q.done;q=p.next()){v=q.value;try{t=v.ol({Ug:c,VF:f});t && (v.ru?k[v.ru]=t:k=d.__assign(d.__assign({},k),t));}catch(u){m.push(Error(("").concat(v.je,"::").concat(u)));}}}catch(u){var w;w={error:u};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(w)throw w.error;}}m.length && (k["rpt-error"]=l.kia.stringify(new l.kia("Reporting error",m)));return k;};return n;})();b.Rla=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(76);b.default={Loc:{Cx:0,msc:1,name:["STARTUP","STEADY"]},K4:{ai:0,lsc:1,Wzb:2,name:["STARTING","STABLE","UNSTABLE"]},ee:{U:r.u.U,J:r.u.J,nb:r.u.nb,name:["AUDIO","VIDEO","TEXT"]},Jqc:{U:r.u.U,J:r.u.J,nb:r.u.nb,name:["AUDIO","VIDEO","TEXT"]},Zh:{URL:0,PH:1,LOCATION:2,hA:3,name:["URL","SERVER","LOCATION","NETWORK"]},bk:{HAVE_NOTHING:0,zD:1,yD:2,YT:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Bx:{roc:0,iqc:1,Prc:2,krc:3,Jrc:4,Msc:5,nqc:6,Iqc:7,Cx:8,mg:9,bla:10,Gyb:11,Fia:12,Gwb:13,Fwb:14,nzb:15,mzb:16,Lwb:17,Ezb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},Lpc:{hA:0,lpc:1,name:["NETWORK","DECODE"]},jsc:{mpc:"delayedSeamless",vqc:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fi="Base64EncoderSymbol";},function(r,b,a){var n,c;function d(f,g){return f && f.uw && (g || !1 !== f.Yv);}function l(f,g,k){return !n.Pa(f) || f < g?g:f > k?k:f;}function h(f){if(!(this instanceof h))return new h(f);this.ae=n.Pa(f)?f:void 0;}n=a(13);c=new (a(3).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:c,debug:!1,assert:function(f,g){if(!f)throw (f=g?" : " + g:"",c.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},wK:d,xua:function(f,g,k){var p,q,v,t;function m(w){var u;u=f[w];if(!u.uw || k && !k(u,w))return !1;t=w;return !0;}p=f.length;q=0;v=p;n.isArray(g) && (q=l(g[0],0,p),v=l(g[1],0,p),g=g[2]);g=l(g,q - 1,v);for(p=g - 1;p >= q;--p){if(m(p))return t;}for(p=g + 1;p < v;++p){if(m(p))return t;}return -1;},W7b:function(f,g){return Math.floor(f / (125 * g) * 1E3);},dKb:function(f,g){return Math.ceil(f / 1E3 * g * 125);},nwc:function(f,g){return !f.slice(g + 1).some(d);},Yp:h,Nc:function(f,g){var k;return f.some(function(m,p,q){k=m;return g(m,p,q);})?k:void 0;},vt:function(f,g){var k;return f.some(function(m,p,q){k=p;return g(m,p,q);})?k:-1;},WO:l};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ii="UtilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ia="ConfigurableInputsSymbol";b.yn="ValidatingConfigurableInputsSymbol";b.G3="ConfigNameSymbol";b.iU="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xj="AsyncComponentLoaderSymbol";},function(r,b,a){var n,c,f;function d(g){var k,m,p,t;p=Object.getOwnPropertyNames(g);for(g=Object.getPrototypeOf(g);g !== Object.prototype;){try{for(var q=(k=void 0,n.__values(Object.getOwnPropertyNames(g))),v=q.next();!v.done;v=q.next()){t=v.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){k={error:w};}finally{try{v && !v.done && (m=q.return) && m.call(q);}finally{if(k)throw k.error;}}g=Object.getPrototypeOf(g);}return p;}function l(g,k,m,p,q){var v;Object.getOwnPropertyNames(g).filter(function(t){return q(t) && (m || !Object.prototype.hasOwnProperty.call(k,t)) && (p || !((t in k)));}).forEach(function(t){v=Object.getOwnPropertyDescriptor(g,t);void 0 !== v && Object.defineProperty(k,t,v);});}function h(g,k,m,p){var q,v;q=[];m || (q=Object.getOwnPropertyNames(k));p || (q=d(k));v=Object.getPrototypeOf(g);null !== v && v !== Object.prototype && h(v,k,m,p);l(g,k,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.hf=b.aNb=void 0;n=a(0);c=a(2);b.aNb=h;f=Object.getOwnPropertyNames(Function);b.hf=function(g,k,m,p){void 0 === m && (m=!0);void 0 === p && (p=!0);p || (0,c.assert)(!m);g.prototype?(h(g.prototype,k.prototype,m,p),l(g,k,m,p,function(q){return -1 === f.indexOf(q);})):l(g,k.prototype,m,p,function(q){return -1 === f.indexOf(q);});return k;};},function(r,b,a){var l;function d(h,n,c,f,g,k,m,p,q,v,t,w){this.code=void 0 === h?l.aa.Ko:h;this.xc=n;this.yd=c;this.jp=f;this.uC=g;this.message=k;this.details=m;this.data=p;this.ml=q;this.Jac=v;this.alert=t;this.Epa=w;this.ja=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.rd=void 0;l=a(4);d.sf=function(h){var n,c,f;if(h){n=h.stack;c=h.number;f=h.message;f || (f="" + h);n?(h="" + n,0 !== h.indexOf(f) && (h=f + "\n" + h)):h=f;c && (h+="\nnumber:" + c);return h;}return "";};d.prototype.OX=function(h){this.details=d.sf(h);this.data=h;};d.prototype.toString=function(){return JSON.stringify(this.toJSON);};d.prototype.toJSON=function(){return {code:this.code,subCode:this.xc,extCode:this.yd,edgeCode:this.jp,mslCode:this.uC,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.ml,playbackServiceError:this.Jac};};d.Sua=function(h,n){return new d(h,l.Y.un,void 0,void 0,void 0,void 0,n.message,n.stack);};d.nrb=function(h,n){return new d(h,n,void 0,void 0,void 0,void 0,void 0,void 0);};d.Bnc=function(h,n,c){return new d(h,n,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c);};b.rd=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mXa="WindowTimersSymbol";b.xH="JSONSymbol";b.QWa="UserAgentSymbol";b.XM="NavigatorSymbol";b.lxb="MediaSourceSymbol";b.nPa="LocationSymbol";b.SKa="DateSymbol";b.lla="PerformanceSymbol";b.E5="PlatformExtraInfoSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(1114),b);r.__exportStar(a(162),b);r.__exportStar(a(1115),b);r.__exportStar(a(1116),b);r.__exportStar(a(1117),b);r.__exportStar(a(1118),b);r.__exportStar(a(465),b);r.__exportStar(a(1119),b);r.__exportStar(a(1120),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qp=b.vx=b.Yz=void 0;(function(a){a[a.hWa=0]="Test";a[a.wOa=1]="Int";a[a.Fzb=2]="Staging";a[a.Vyb=3]="Prod";})(b.Yz || (b.Yz={}));(function(a){a[a.NU=0]="PreferMsl";a[a.cUa=1]="PreferNoMsl";a[a.Exb=2]="NoMsl";})(b.vx || (b.vx={}));b.Qp="GeneralConfigSymbol";},function(r,b,a){var n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D;function d(E){var G,F,K;G=B(E,0,1);F=B(E,-1);if("%" === G && "%" !== F)throw new n("invalid intrinsic syntax, expected closing `%`");if("%" === F && "%" !== G)throw new n("invalid intrinsic syntax, expected opening `%`");K=[];z(E,C,function(O,L,I,M){K[K.length]=I?z(M,D,"$1"):L || O;});return K;}function l(){throw new f();}function h(E){try{return c('"use strict"; return (' + E + ").constructor;")();}catch(G){}}n=SyntaxError;c=Function;f=TypeError;g=Object.getOwnPropertyDescriptor;if(g)try{g({},"");}catch(E){g=null;}b=g?(function(){try{return (arguments.callee,l);}catch(E){try{return g(arguments,"callee").get;}catch(G){return l;}}})():l;k=a(320)();m=Object.getPrototypeOf || (function(E){return E.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:m(Uint8Array);v={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":k?m([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k?m(m([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && k?m(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && k?m(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k?m(("")[Symbol.iterator]()):void 0,"%Symbol%":k?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(E){b=m(m(E));v["%Error.prototype%"]=b;}t=function F(G){var K,O;if("%AsyncFunction%" === G)K=h("async function () {}");else if("%GeneratorFunction%" === G)K=h("function* () {}");else if("%AsyncGeneratorFunction%" === G)K=h("async function* () {}");else if("%AsyncGenerator%" === G){O=F("%AsyncGeneratorFunction%");O && (K=O.prototype);}else "%AsyncIteratorPrototype%" === G && (O=F("%AsyncGenerator%")) && (K=m(O.prototype));return v[G]=K;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(214);u=a(108);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);B=b.call(Function.call,String.prototype.slice);A=b.call(Function.call,RegExp.prototype.exec);C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(G,F){var K,O,L,I,M,H,J,N,P;if("string" !== typeof G || 0 === G.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof F)throw new f('"allowMissing" argument must be a boolean');if(null === A(/^%?[^%]*%?$/,G))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");K=d(G);O=0 < K.length?K[0]:"";L="%" + O + "%";I=L;if(u(w,I)){M=w[I];I="%" + M[0] + "%";}if(u(v,I)){H=v[I];H === p && (H=t(I));if("undefined" === typeof H && !F)throw new f("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new n("intrinsic " + L + " does not exist!");L=H;I=!1;M && (O=M[0],x(K,y([0,1],M)));M=1;for(H=!0;M < K.length;M+=1){J=K[M];N=B(J,0,1);P=B(J,-1);if(('"' === N || "'" === N || "`" === N || '"' === P || "'" === P || "`" === P) && N !== P)throw new n("property names with quotes must have matching quotes");"constructor" !== J && H || (I=!0);O+="." + J;N="%" + O + "%";if(u(v,N))L=v[N];else if(null != L){if(!((J in L))){if(!F)throw new f("base intrinsic for " + G + " exists, but the property is not available.");return;}g && M + 1 >= K.length?(P=g(L,J),L=(H=!!P) && ("get" in P) && !(("originalValue" in P.get))?P.get:L[J]):(H=u(L,J),L=L[J]);H && !I && (v[N]=L);}}return L;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FD="named";b.o5="name";b.YU="unmanaged";b.uRa="optional";b.hU="inject";b.CH="multi_inject";b.bWa="inversify:tagged";b.cWa="inversify:tagged_props";b.Vka="inversify:paramtypes";b.aub="design:paramtypes";b.JU="post_construct";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I={qH:"playready-h264mpl30-dash",rH:"playready-h264mpl31-dash",q4:"playready-h264mpl40-dash",QMa:"h264mpl30-dash-playready-prk-qc",RMa:"h264mpl31-dash-playready-prk-qc",SMa:"h264mpl40-dash-playready-prk-qc",OMa:"playready-h264hpl22-dash",k4:"playready-h264hpl30-dash",m4:"playready-h264hpl31-dash",o4:"playready-h264hpl40-dash",PMa:"h264hpl22-dash-playready-live",l4:"h264hpl30-dash-playready-live",n4:"h264hpl31-dash-playready-live",p4:"h264hpl40-dash-playready-live",sma:"vp9-profile0-L21-dash-cenc",n6:"vp9-profile0-L30-dash-cenc",o6:"vp9-profile0-L31-dash-cenc",aV:"vp9-profile0-L40-dash-cenc",Ija:"hevc-main10-L30-dash-cenc",Jja:"hevc-main10-L31-dash-cenc",Kja:"hevc-main10-L40-dash-cenc",Lja:"hevc-main10-L41-dash-cenc",$T:"hevc-main10-L50-dash-cenc",aU:"hevc-main10-L51-dash-cenc",M4:"hevc-main10-L30-dash-cenc-prk",P4:"hevc-main10-L31-dash-cenc-prk",S4:"hevc-main10-L40-dash-cenc-prk",V4:"hevc-main10-L41-dash-cenc-prk",N4:"hevc-main10-L30-dash-cenc-prk-do",Q4:"hevc-main10-L31-dash-cenc-prk-do",T4:"hevc-main10-L40-dash-cenc-prk-do",W4:"hevc-main10-L41-dash-cenc-prk-do",Y4:"hevc-main10-L50-dash-cenc-prk-do",a5:"hevc-main10-L51-dash-cenc-prk-do",L4:"hevc-main10-L30-dash-cenc-live",O4:"hevc-main10-L31-dash-cenc-live",R4:"hevc-main10-L40-dash-cenc-live",U4:"hevc-main10-L41-dash-cenc-live",X4:"hevc-main10-L50-dash-cenc-live",Z4:"hevc-main10-L51-dash-cenc-live",K3:"hevc-dv5-main10-L30-dash-cenc-prk",M3:"hevc-dv5-main10-L31-dash-cenc-prk",ST:"hevc-dv5-main10-L40-dash-cenc-prk",P3:"hevc-dv5-main10-L41-dash-cenc-prk",R3:"hevc-dv5-main10-L50-dash-cenc-prk",T3:"hevc-dv5-main10-L51-dash-cenc-prk",ija:"hevc-dv5-main10-L40-dash-cenc-prk-qc",jja:"hevc-dv5-main10-L41-dash-cenc-prk-qc",kja:"hevc-dv5-main10-L50-dash-cenc-prk-qc",lja:"hevc-dv5-main10-L51-dash-cenc-prk-qc",L3:"hevc-dv5-main10-L30-dash-cenc-prk-do",N3:"hevc-dv5-main10-L31-dash-cenc-prk-do",O3:"hevc-dv5-main10-L40-dash-cenc-prk-do",Q3:"hevc-dv5-main10-L41-dash-cenc-prk-do",S3:"hevc-dv5-main10-L50-dash-cenc-prk-do",U3:"hevc-dv5-main10-L51-dash-cenc-prk-do",t4:"hevc-hdr-main10-L30-dash-cenc-prk",w4:"hevc-hdr-main10-L31-dash-cenc-prk",ZT:"hevc-hdr-main10-L40-dash-cenc-prk",B4:"hevc-hdr-main10-L41-dash-cenc-prk",E4:"hevc-hdr-main10-L50-dash-cenc-prk",H4:"hevc-hdr-main10-L51-dash-cenc-prk",u4:"hevc-hdr-main10-L30-dash-cenc-prk-do",x4:"hevc-hdr-main10-L31-dash-cenc-prk-do",z4:"hevc-hdr-main10-L40-dash-cenc-prk-do",C4:"hevc-hdr-main10-L41-dash-cenc-prk-do",F4:"hevc-hdr-main10-L50-dash-cenc-prk-do",I4:"hevc-hdr-main10-L51-dash-cenc-prk-do",s4:"hevc-hdr-main10-L30-dash-cenc-live",v4:"hevc-hdr-main10-L31-dash-cenc-live",y4:"hevc-hdr-main10-L40-dash-cenc-live",A4:"hevc-hdr-main10-L41-dash-cenc-live",D4:"hevc-hdr-main10-L50-dash-cenc-live",G4:"hevc-hdr-main10-L51-dash-cenc-live",MHa:"av1-main-L20-dash-cbcs-prk",NHa:"av1-main-L21-dash-cbcs-prk",pD:"av1-main-L30-dash-cbcs-prk",qD:"av1-main-L31-dash-cbcs-prk",uT:"av1-main-L40-dash-cbcs-prk",vT:"av1-main-L41-dash-cbcs-prk",r3:"av1-main-L50-dash-cbcs-prk",s3:"av1-main-L51-dash-cbcs-prk"};b.Rd={D3:[b.I.qH,b.I.rH,b.I.q4],n3:[b.I.k4,b.I.m4,b.I.o4],m3:[b.I.l4,b.I.n4,b.I.p4],Yha:[b.I.n6,b.I.o6,b.I.aV],Xoc:[b.I.Ija,b.I.Jja,b.I.Kja,b.I.Lja,b.I.$T,b.I.aU],Sia:[b.I.M4,b.I.P4,b.I.S4,b.I.V4,b.I.$T,b.I.aU],Tia:[b.I.N4,b.I.Q4,b.I.T4,b.I.W4,b.I.Y4,b.I.a5],Ria:[b.I.L4,b.I.O4,b.I.R4,b.I.U4,b.I.X4,b.I.Z4],Pia:[b.I.t4,b.I.w4,b.I.ZT,b.I.B4,b.I.E4,b.I.H4],Qia:[b.I.u4,b.I.x4,b.I.z4,b.I.C4,b.I.F4,b.I.I4],Oia:[b.I.s4,b.I.v4,b.I.y4,b.I.A4,b.I.D4,b.I.G4],KJa:[b.I.K3,b.I.ST,b.I.R3,b.I.M3,b.I.P3,b.I.T3],LJa:[b.I.L3,b.I.O3,b.I.S3,b.I.N3,b.I.Q3,b.I.U3],MJa:[b.I.pD,b.I.qD,b.I.uT,b.I.vT,b.I.r3,b.I.s3]};b.oe={sH:"heaac-2-dash",J4:"heaac-5.1-dash",tH:"heaac-2hq-dash",vA:"xheaac-dash",QT:"ddplus-2.0-dash",I3:"ddplus-5.1-dash",RT:"ddplus-atmos-dash"};b.xn={pzb:"simplesdh",bja:"dfxp-ls-sdh",NNa:"imsc1.1",q6:"webvtt-lssdh-ios8",VM:"nflx-cmisc"};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.M3a=b.Vxa=b.Kva=b.Yva=b.Taa=b.JNa=b.dzb=b.rx=b.rNa=b.Z5=b.Y5=b.iXa=b.jXa=b.KRa=b.f4=b.TEMPORARY=b.ox=void 0;d=a(15);l=a(10);h=a(173);b.ox="cenc";b.TEMPORARY="temporary";b.f4="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.KRa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.jXa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.iXa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.Y5="SW_SECURE_CRYPTO";b.Z5="SW_SECURE_DECODE";b.rNa="HW_SECURE_DECODE";b.rx="HW_SECURE_ALL";b.dzb={Y5:"SW_SECURE_CRYPTO",Z5:"SW_SECURE_DECODE",rNa:"HW_SECURE_DECODE",rx:"HW_SECURE_ALL"};b.JNa=[b.rx];b.Taa=function(n){var c;c=n.getConfiguration();return [b.rx,b.Z5,b.Y5].find(function(f){var g;return null === (g=c.videoCapabilities) || void 0 === g?void 0:g.some(function(k){return k.robustness === f;});});};b.Yva=function(n){var c,k;try{for(var f=/\((\d[^)]+)\)/g,g;g=f.exec(n);){k=Number(g[1]);(0,d.Pa)(k) && (c=k);}}catch(m){}return c;};b.Kva=function(n){var c;c={};try{n.forEach(function(f){var g,k;if(f.AJ){for(var m=(0,l.cB),p=f.AJ,q=0,v=new Uint8Array(16),t=0;t < p.length;t+=2){v[q++]=parseInt(p.slice(t,t + 2),16);}m=m(v);f=null !== (g=f.height) && void 0 !== g?g:f.QDa;c[m]=Math.max(f,null !== (k=c[m]) && void 0 !== k?k:0);}});}catch(f){}return c;};b.Vxa=function(n){return h.We.Il.test(n);};b.M3a=function(n){return n.robustness?n.keySystem + "." + n.robustness:n.keySystem;};},function(r,b,a){var g,k,m,p,q,v;function d(){var t,w;if(t=b.bba.TZa)return t;t=p.r5.search.substr(1);w=t.indexOf("#");0 <= w && (t=t.substr(0,w));t=l(t);return b.bba.TZa=t;}function l(t){for(var w=/[+]/g,u=(t || "").split("&"),y={},x,z=0;z < u.length;z++){t=(0,m.trim)(u[z]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(w,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(w,"%20")):y[t.toLowerCase()]=null;}return y;}function h(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function n(t){return h(t.constructor);}function c(t){return p.sort.call(t,function(w,u){return w - u;});}function f(t){for(var w=0,u=t.length;u--;){w+=t[u];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.ibc=b.cK=b.x9a=b.rca=b.dbc=b.Jcb=b.Usb=b.Vsb=b.KVb=b.Kv=b.DMb=b.haa=b.QUb=b.ZK=b.ksb=b.xT=b.lsb=b.v3=b.jsb=b.D2b=b.createElement=b.zX=b.Nbc=b.fBa=b.mva=b.getFunctionName=b.C0=b.bba=b.LZb=b.Qjb=b.p0a=b.U3a=b.Ucc=b.LE=b.B3a=void 0;g=a(17);k=a(10);m=a(23);p=a(14);q=a(15);v=a(43);b.B3a=function(t,w){if(t === w)return !0;if(!t || !w)return !1;for(var u in t){if(t.hasOwnProperty(u) && (!w.hasOwnProperty(u) || t[u] !== w[u]))return !1;}return !0;};b.LE=b.LE || (function(t,w){if(t.length == w.length){for(var u=t.length;u--;){if(t[u] != w[u])return !1;}return !0;}return !1;});b.Ucc=function(t){var w;if(t){w=t.length;if(w)return (w=(0,m.Kjb)(0,w - 1),t[w]);}};b.U3a=function(t,w){if(t.length != w.length)return !1;t.sort();w.sort();for(var u=t.length;u--;){if(t[u] !== w[u])return !1;}return !0;};b.p0a=function(t,w,u){function y(){t.removeEventListener(w,y);u.apply(this,arguments);}t.addEventListener(w,y);};b.Qjb=function(){var t,w,u,y,x,z;t=p.$h.cookie.split("; ");w=t.length;x={};for(u=0;u < w;u++){if(y=(0,m.trim)(t[u])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}}return x;};b.LZb=d;b.bba=Object.assign(d,{TZa:void 0});b.C0=l;b.getFunctionName=h;b.mva=n;b.fBa=function(t){var w;w="";(0,q.isArray)(t) || (0,q.xya)(t)?w=p.reduce.call(t,function(u,y){return u + (32 <= y && 128 > y?(0,p.YVa)(y):".");},""):(0,q.Tg)(t)?w=t:(0,m.jh)(t,function(u,y){w+=(w?", ":"") + "{" + u + ": " + ((0,q.qd)(y)?h(y) || "function":y) + "}";});return "[" + n(t) + " " + w + "]";};b.Nbc=function(t,w){t.firstChild?t.insertBefore(w,t.firstChild):t.appendChild(w);};b.zX=b.zX || (function(t){var w;w="";(0,m.jh)(t,function(u,y){w+=(w?";":"") + u + ":" + y;});return w;});b.createElement=b.createElement || (function(t,w,u,y){var x;x=p.$h.createElement(t);w && (x.style.cssText=w);u && (x.innerHTML=u);y && (0,m.jh)(y,function(z,B){x.setAttribute(z,B);});return x;});b.D2b=function(t,w){var u;u=t[0];if(w <= u[0])return u.slice(1);for(var y=1,x;x=t[y++];){if(w <= x[0]){t=(w - u[0]) / (x[0] - u[0]);w=[];for(y=1;y < u.length;y++){w.push((u[y] || 0) + t * ((x[y] || 0) - (u[y] || 0)));}return w;}u=x;}return u.slice(1);};b.jsb=function(t,w){var x;for(var u={},y=0;y < w.length;y++){x=w[y];if("string" != typeof x && "number" != typeof x)return !1;u[w[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!u[x]))return !1;}return !0;};b.v3=c;b.lsb=f;b.xT=function(t,w){var u,y,x,z;u=-1;y=t.length;if(1 === arguments.length){for(;++u < y && !(null != (x=t[u]) && x <= x);){x=void 0;}for(;++u < y;){null != (z=t[u]) && z > x && (x=z);}}else {for(;++u < y && !(null != (x=w.call(t,t[u],u)) && x <= x);){x=void 0;}for(;++u < y;){null != (z=w.call(t,t[u],u)) && z > x && (x=z);}}return x;};b.ksb=function(t,w){var u,y,x,z;u=-1;y=t.length;if(1 === arguments.length){for(;++u < y && !(null != (x=t[u]) && x <= x);){x=void 0;}for(;++u < y;){null != (z=t[u]) && x > z && (x=z);}}else {for(;++u < y && !(null != (x=w.call(t,t[u],u)) && x <= x);){x=void 0;}for(;++u < y;){null != (z=w.call(t,t[u],u)) && x > z && (x=z);}}return x;};b.ZK=function(t){return (0,q.qd)(t.then)?t:new Promise(function(w,u){t.oncomplete=function(){w(t.result);};t.onerror=function(){u(t.error);};});};b.QUb=function(t,w){var y,x,z,B,A,C;function u(D){0 > y.indexOf(D) && (0,q.Pa)(D) && y.push(D);}t=t.slice();c(t);y=[];if(!w || !w.length)return t;if(!t.length)return [];x=w.length;try{for(;x--;){B="" + w[x];A=(0,m.Fk)(B);switch(B[B.length - 1]){case "-":for(z=t.length;z--;){C=t[z];if(C < A){u(C);break;}}break;case "+":for(z=0;z < t.length;z++){if((C=t[z],C > A)){u(C);break;}}break;default:0 <= t.indexOf(A) && u(A);}}}catch(D){}y.length || y.push(t[0]);c(y);return y;};b.haa=b.haa || (function(t,w,u){var y;if(t / w > u){y=(0,p.Sp)(w * u);t=w;}else (y=t,t=(0,p.Sp)(t / u));return {width:y,height:t};});b.DMb=function(t,w,u){for(var y=[],x=0;x < w;x++){y.push((0,p.gQa)(t[x] - u,2));}return (0,p.hQa)(f(y) / y.length);};b.Kv=function(t,w){var u;u=t.length;w=(u - 1) * w + 1;if(1 === w)return t[0];if(w == u)return t[u - 1];u=(0,p.TM)(w);return t[u - 1] + (w - u) * (t[u] - t[u - 1]);};b.KVb=function(t,w){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var u=t.length,y=0;y < u;y++){for(var x=0;x < w.length;x++){if(t[y].type == w[x])return t[y];}}throw Error("Box not found " + w);};b.Vsb=function(t){return t.HXb("trak/mdia/minf/stbl/stsd/" + g.sJa + "|" + g.tJa).children.filter(function(w){return "sinf" == w.type && w.uvc.schm.nyc == v.ox;})[0].HXb("schi/tenc").Pq;};b.Usb=function(t){var u;function w(y,x){var z;z=u[y];u[y]=u[x];u[x]=z;}u=new Uint8Array(t);w(0,3);w(1,2);w(4,5);w(6,7);return u;};b.Jcb=function(){return (0,q.qd)(p.lf.requestMediaKeySystemAccess);};b.dbc=function(t){return function(w){return w && w[t];};};(0,q.qd)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,w){var u,y;void 0 === t && (t=0);void 0 === w && (w=this.byteLength);t=Math.floor(t);w=Math.floor(w);0 > t && (t+=this.byteLength);0 > w && (w+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - t)return new ArrayBuffer(0);u=new ArrayBuffer(w - t);y=new Uint8Array(u);t=new Uint8Array(this,t,w - t);y.set(t);return u;});b.rca=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.x9a=function(){var t,w;t=new ArrayBuffer(4);w=new Uint8Array(t);t=new Uint32Array(t);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.cK=function(){var t,w,u;try{t=/playercore.*js/;w=p.wx.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(w && 0 < w.length){u=(0,p.Sp)(w[0].duration);return JSON.stringify(u);}}catch(y){}};b.ibc=function(t,w,u){if(t && t.length){if(u && u.JLb)try{t.forEach(function(y,x){var z;z=(x=u.JLb[x]) && x.media;z && (0,q.Tg)(z)?(!1,z=(0,k.At)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:w,Dc:x.cdn}):k.log.warn("chunk not in cache",y.Ih);});}catch(y){k.log.error("error reading cached chunks",y);}else k.log.warn("chunks not available in cached stream",u.type);}else k.log.warn("chunks not available in mediabuffer",u.type);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vp="PlatformSymbol";b.F5="PlatformMutableSymbol";},function(r,b,a){var n,c,f;function d(g){return function(k,m){return k.jDa(m,g);};}function l(g,k){return g.gfa.Ncc[k] || h(g,k);}function h(g,k){g=g.YB.data[k];switch(typeof g){case "undefined":break;case "string":case "number":case "boolean":return g.toString();default:return JSON.stringify(g);}}Object.defineProperty(b,"__esModule",{value:!0});b.$A=b.rDa=b.object=b.QTb=b.url=b.ha=b.dm=b.MGa=b.G2b=b.UL=b.string=b.hD=b.vd=b.HF=b.config=void 0;n=a(52);c=a(5);f=a(146);b.config=function(g,k,m){m=void 0 === m?!1:m;return function(p,q,v){var t,w;t=void 0 !== k?k:q;w=v.get;void 0 !== w && (v.get=function(){var u;if(!this.y3b(q))return this.VZb(q);a:{u=(this.NHb || m?l:h)(this,t.toString());if(void 0 !== u)if((u=g(this.f0,u),u instanceof f.vr))this.l8a(t,u);else break a;u=w.bind(this)();}this.XDa(q,u);return u;});return v;};};b.HF=function(g,k){return g.Ujb(k);};b.vd=function(g,k){return g.gDa(k);};b.hD=function(g,k){return g.Fs(k);};b.string=function(g,k){return g.jDa(k);};b.UL=function(g,k){return g.sl(k,b.string);};b.G2b=function(g,k){return g.sl(k,b.HF);};b.MGa=function(g,k){return g.sl(k,b.hD);};b.dm=function(g,k){g=g.Fs(k);return g instanceof f.vr?g:(0,c.Vb)(g);};b.ha=function(g,k){g=g.Fs(k);return g instanceof f.vr?g:(0,n.ha)(g);};b.url=d(/^\S+$/);b.QTb=function(g){return function(k,m){return k.Tjb(m,g);};};b.object=function(){return function(g,k){return g.Vjb(k);};};b.rDa=d;b.$A=function(g,k){return function(m,p){return m.sl(p,g,k);};};},function(r,b,a){var h,n,c,f;function d(g,k){var m;m=f.call(this,g,k) || this;m.P3a=k;m.debug=g.debug;m.ta=g.zg.eb(m.P3a);return m;}function l(g,k){this.P3a=k;this.TCa={};this.YB=g.YB;this.f0=g.f0;this.gfa=g.gfa;}Object.defineProperty(b,"__esModule",{value:!0});b.Lf=b.DT=b.dWa=void 0;r=a(0);h=a(741);n=a(1);c=a(146);b.dWa="isTestAccount";l.prototype.l8a=function(){};l.prototype.XDa=function(g,k){this.TCa[g]=[k,this.YB.Lfa];};l.prototype.y3b=function(g){return h.Uka.of(this.TCa[g]).map(function(k){return k[1];}).or(-1) < this.YB.Lfa;};l.prototype.VZb=function(g){return h.Uka.of(this.TCa[g]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Va.Object.defineProperties(l.prototype,{NHb:{configurable:!0,enumerable:!0,get:function(){var g,k;if(this && this.YB && this.YB.data){g=this.YB.data[b.dWa];"undefined" !== typeof g && (k=g.toString());g=this.f0.gDa(k);g=g instanceof c.vr?!1:g;}else g=!1;return g;}}});f=l;f=r.__decorate([(0,n.$)(),r.__param(0,(0,n.Np)()),r.__param(1,(0,n.Np)())],f);b.DT=f;la(d,f);d.prototype.l8a=function(g,k){this.ta.error("Invalid configuration value.",{name:g},k);this.debug.assert(!1);};a=d;a=r.__decorate([r.__param(0,(0,n.Np)()),r.__param(1,(0,n.Np)())],a);b.Lf=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ck="SchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u=void 0;b.u={U:0,J:1,nb:2};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mka="LogBatcherConfigSymbol";b.Ho="LogBatcherSymbol";b.qPa="LogBatcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wn="PboCommandContextSymbol";},function(r,b,a){var h;function d(){return h.ZU.apply(this,arguments) || this;}function l(n){return new h.kv(n,b.kH);}Object.defineProperty(b,"__esModule",{value:!0});b.Oa=b.IQa=b.fka=b.nx=b.kH=b.b7b=b.i4b=b.ha=b.Ct=b.ftb=void 0;h=a(332);la(d,h.ZU);b.ftb=d;b.Ct=l;b.ha=function(n){return new h.kv(n,b.nx);};b.i4b=function(n){return new h.kv(n,b.fka);};b.b7b=function(n){return new h.kv(n,b.IQa);};b.kH=new d(1,"b");b.nx=new d(8 * b.kH.sh,"B",b.kH);b.fka=new d(1024 * b.nx.sh,"KB",b.kH);b.IQa=new d(1024 * b.fka.sh,"MB",b.kH);b.Oa=l(0);},function(r,b,a){var d,l;d=a(125);l=a(171);r.exports=function(h){return function g(c,f){switch(arguments.length){case 0:return g;case 1:return l(c)?g:d(function(k){return h(c,k);});default:return l(c) && l(f)?g:l(c)?d(function(k){return h(k,f);}):l(f)?d(function(k){return h(c,k);}):h(c,f);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.Qq=b.Xic=b.bhb=void 0;b.bhb=function(a,d){return a - d;};b.Xic=function(a,d){return a.localeCompare(d);};b.Qq=function(a,d){var l;l=Object.getOwnPropertyDescriptor(a,d);l && Object.defineProperty(a,d,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ia(a));};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eub="Cannot apply @injectable decorator multiple times.";b.Fub="Metadata key was used more than once in a parameter:";b.EU="NULL argument";b.DOa="Key Not Found";b.Hrb="Ambiguous match found for serviceIdentifier:";b.gtb="Could not unbind serviceIdentifier:";b.vxb="No matching bindings found for serviceIdentifier:";b.Vwb="Missing required @injectable annotation in:";b.Wwb="Missing required @inject or @multiInject annotation in:";b.Vzb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.jtb="Circular dependency found:";b.lrc="Sorry, this feature is not fully implemented yet.";b.lwb="Invalid binding type:";b.xxb="No snapshot available to restore.";b.pwb="Invalid return type in middleware. Middleware must return!";b.owb="Value provided to function binding must be a function!";b.rwb="The toSelf function can only be applied when a constructor is used as service identifier";b.mwb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Jrb=function(){for(var a=[],d=0;d < arguments.length;d++){a[d]=arguments[d];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.ytb="Invalid Container constructor argument. Container options must be an object.";b.wtb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.vtb="Invalid Container option. Auto bind injectable must be a boolean";b.xtb="Invalid Container option. Skip base check must be a boolean";b.ixb="Cannot apply @postConstruct decorator multiple times in the same class";b.Fyb=function(){for(var a=[],d=0;d < arguments.length;d++){a[d]=arguments[d];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.ktb=function(){for(var a=[],d=0;d < arguments.length;d++){a[d]=arguments[d];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.tzb="Maximum call stack size exceeded";},function(r,b){var d,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Go=b.Ua=b.Rk=void 0;(function(h){h[h.Xp=0]="STANDARD";h[h.Rp=1]="LIMITED";h[h.Orc=2]="PREVIEW";})(d || (d={}));(function(h){h[h.HAVE_NOTHING=0]="HAVE_NOTHING";h[h.HAVE_METADATA=1]="HAVE_METADATA";h[h.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";h[h.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";h[h.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(h){h.Vrb="asl_start";h.Trb="asl_comp";h.noc="asl_exc";h.Urb="asl_fail";h.wzb="stf_creat";h.Uvb="idb_open";h.Rvb="idb_block";h.awb="idb_upgr";h.$vb="idb_succ";h.Svb="idb_error";h.Tvb="idb_invalid_state";h.Wvb="idb_open_timeout";h.Yvb="idb_open_wrkarnd";h.Zvb="idb_storelen_exc";h.Vvb="idb_open_exc";h.Xvb="idb_timeout_invalid_storelen";h.cxb="msl_load_data";h.exb="msl_load_no_data";h.dxb="msl_load_failed";})(r=b.Rk || (b.Rk={}));(function(h){h.Yka="PlaybackRequestStart";h.Xka="PlaybackRequestEnd";h.N5="RequestPrefetchManifestStart";h.M5="RequestPrefetchManifestEnd";h.L5="RequestManifestStart";h.K5="RequestManifestEnd";h.J5="RequestLicenseStart";h.I5="RequestLicenseEnd";h.JT="RequestTimedTextUrlStart";h.IT="RequestTimedTextUrlEnd";h.HT="RequestAudioUrlStart";h.GT="RequestAudioUrlEnd";h.LT="RequestVideoUrlStart";h.KT="RequestVideoUrlEnd";h.$ha="AppendBufferStart";h.Zha="AppendBufferEnd";h.Ula="SetMediaKeysStart";h.Tla="SetMediaKeysEnd";h.i4="GenerateChallengeStart";h.h4="GenerateChallengeEnd";h.p3="ApplyLicenseStart";h.o3="ApplyLicenseEnd";})(b.Ua || (b.Ua={}));b.Go=a;a.gka=d;a.d4a=function(h){return ["STANDARD","LIMITED","PREVIEW"][h];};a.Rk=r;a.bU=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bza=b.dj=void 0;(function(a){a[a.Xp=0]="STANDARD";a[a.Rp=1]="LIMITED";})(b.dj || (b.dj={}));b.bza=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.oba=b.Vt=b.pba=b.yF=b.Tm=b.bf=void 0;r=a(70);d=a(59);l=a(14);b.bf=new r.Nk();b.Tm=1;b.yF=2;b.pba=3;b.Vt=4;b.oba=5;(0,d.Rg)(function(){var n,c,f;function h(g,k){if(c)c.on(g,k);else mb.addEventListener(g,k);}n=mb.jQuery;c=n && n(mb);n=(n=mb.netflix) && n.cadmium && n.cadmium.addBeforeUnloadHandler;f=l.$h.hidden;n?n(function(g){b.bf.Zc(b.Tm,g);}):h("beforeunload",function(g){b.bf.Zc(b.Tm,g);});h("keydown",function(g){b.bf.Zc(b.yF,g);});h("resize",function(){b.bf.Zc(b.pba);});l.$h.addEventListener("visibilitychange",function(){f !== l.$h.hidden && (f=l.$h.hidden,b.bf.Zc(b.Vt));});});(function(){mb.addEventListener("error",function(h){b.bf.Zc(b.oba,h);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rg=void 0;b.Rg=function(a){return setTimeout(a,0);};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(402),b);r.__exportStar(a(403),b);r.__exportStar(a(184),b);r.__exportStar(a(917),b);r.__exportStar(a(152),b);},function(r,b,a){var l,h,n,c,f;function d(){return l.vc.get(n.kd).fC.ia(f.va);}Object.defineProperty(b,"__esModule",{value:!0});b.fMb=b.D9=b.n3a=b.dMb=b.eMb=b.Hra=b.Zo=void 0;l=a(219);h=a(27);n=a(18);c=a(87);f=a(5);b.Zo=function(){return l.vc.get(n.kd).Qb().ia(f.va);};b.Hra=function(){return l.vc.get(h.Nh).rf.ia(f.Jo);};b.eMb=function(){return l.vc.get(n.kd).fC.ia(f.Jo);};b.dMb=function(){return l.vc.get(c.aA).yB();};b.n3a=d;b.D9=function(){return l.vc.get(h.Nh).rf.ia(f.va);};b.fMb=function(){return d();};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ws="EmeConfigSymbol";},function(r,b){function a(d){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=d;}Object.defineProperty(b,"__esModule",{value:!0});b.LD=b.$s=void 0;la(a,Error);b.$s=a;b.LD="PromiseTimerSymbol";},function(r,b,a){var l,h;function d(n,c){var f;f=b.Wp[0];f == c && (f=b.Wp[1]);f?f.close(function(){d(n,c);}):n && n(l.th);}Object.defineProperty(b,"__esModule",{value:!0});b.hTa=b.fTa=b.sla=b.tla=b.KD=b.ula=b.gTa=b.xla=b.wla=b.Wp=b.jTa=b.vla=void 0;l=a(17);h=a(22);b.vla=d;b.jTa=function(n,c){switch(n){case b.gTa:b.wla.push(c);return;case b.ula:b.xla.push(c);return;}(0,h.wa)(!1);};b.Wp=[];b.wla=[];b.xla=[];b.gTa=1;b.ula=3;b.KD={index:0,cgb:void 0,Dua:void 0};b.tla="network";b.sla="media";b.fTa="timedtext";b.hTa="playback";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sx=b.FU=b.ResponseType=void 0;b.ResponseType={Text:1,ctc:2,Jsb:3};b.FU="OPEN_CONNECT_APPLIANCE";b.sx="LegacyHttpSymbol";},function(r,b,a){(function(d){var l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.V7b=b.platform=b.Qg=b.RTb=b.HYb=b.cZ=b.ZP=b.U5b=b.lN=b.zj=b.Kc=b.nr=b.Kl=b.vU=b.Dx=b.nN=void 0;l=a(0);l.__exportStar(a(183),b);l.__exportStar(a(902),b);l.__exportStar(a(903),b);l.__exportStar(a(904),b);h=a(116);Object.defineProperties(b,{nN:{enumerable:!0,get:function(){return h.nN;}}});Object.defineProperties(b,{Dx:{enumerable:!0,get:function(){return h.Dx;}}});Object.defineProperties(b,{vU:{enumerable:!0,get:function(){return h.vU;}}});l.__exportStar(a(915),b);l.__exportStar(a(916),b);l.__exportStar(a(400),b);l.__exportStar(a(257),b);l.__exportStar(a(20),b);l.__exportStar(a(60),b);l.__exportStar(a(404),b);n=a(405);Object.defineProperties(b,{Kl:{enumerable:!0,get:function(){return n.Kl;}}});Object.defineProperties(b,{nr:{enumerable:!0,get:function(){return n.nr;}}});l.__exportStar(a(411),b);l.__exportStar(a(409),b);c=a(28);Object.defineProperties(b,{Kc:{enumerable:!0,get:function(){return c.Kc;}}});Object.defineProperties(b,{zj:{enumerable:!0,get:function(){return c.zj;}}});f=a(413);Object.defineProperties(b,{lN:{enumerable:!0,get:function(){return f.lN;}}});l.__exportStar(a(258),b);l.__exportStar(a(6),b);b.U5b=function(m){b.platform.FZ(m);if(!d.nY.loc)return a(932).VPa;throw Error("Legacy not included in bundle");};b.ZP=function(m){b.platform.FZ(m);return Promise.resolve().then(function(){return l.__importStar(a(460));}).then(function(p){return p.ZP();});};b.cZ=function(m,p){b.platform.FZ(m);return Promise.resolve().then(function(){return l.__importStar(a(463));}).then(function(q){return q.cZ(p);});};b.HYb=function(){return a(260);};g=l.__importDefault(a(29));b.RTb=g.default;g=a(1199);b.Qg=g.Qg;g=l.__importDefault(a(3));b.platform=g.default;k=a(1200);b.V7b=function(){return {mv:k.mv};};}).call(this,a(131));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oh={vza:"logblob",ba:"manifest",F4b:"licensedmanifest",oi:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.bzb={LUa:"X-Netflix.Request.Attempt",Sla:"X-Netflix.Client.Request.Name",AJa:"x-netflix.browsername",BJa:"x-netflix.browserversion",vRa:"x-netflix.osname",wRa:"x-xetflix.osversion",lKa:"x-netflix.clienttype",KWa:"x-netflix.uiversion"};b.MD={LUa:"reqAttempt",Sla:"reqName",AJa:"browsername",BJa:"browserversion",vRa:"osname",wRa:"osversion",lKa:"clienttype",KWa:"uiversion"};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(41);r=(function(){function l(h,n){this.key=h;this.value=n;}l.prototype.toString=function(){return this.key === d.FD?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dt="Utf8EncoderSymbol";},function(r,b,a){var l,h;function d(){var n,c;n=this;this.tv={};this.on=function(f,g,k){n.addListener(f,g,k);};this.addListener=function(f,g,k){n.tv && (n.tv[f]=n.tv[f] || new h.Jla(!0)).add(g,k);};this.removeListener=function(f,g){n.tv && n.tv[f] && n.tv[f].removeAll(g);};this.xva=function(f){return n.tv && n.tv[f]?n.tv[f].flatten():[];};c=this;this.Zc=function(f,g,k){var m;if(c.tv){m=c.xva(f);for(f={tM:0};f.tM < m.length;(f={tM:f.tM},f.tM++)){k?(function(p){return function(){var q;q=m[p.tM];(0,l.Rg)(function(){q(g);});};})(f)():m[f.tM].call(this,g);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Nk=void 0;l=a(59);h=a(364);d.prototype.Oi=function(){this.tv=void 0;};b.Nk=d;},function(r,b,a){var l,h,n,c;function d(f,g,k){var m,p,t;g=l.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{ehb:g,ut:k}));if((null === f || void 0 === f?0:f.ut) && k)if(!0 === f.ut)g.args=k;else {p={};g.args=p;try{for(var q=l.__values(f.ut),v=q.next();!v.done;v=q.next()){t=v.value;p[t]=k[t];}}catch(u){var w;w={error:u};}finally{try{v && !v.done && (m=q.return) && m.call(q);}finally{if(w)throw w.error;}}}return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ex=b.Dwa=b.jc=void 0;l=a(0);h=a(9);n=l.__importDefault(a(3));c=a(8);b.jc=function(f){return function(g,k,m){var p;p=m.value;m.value=function(){var q,v,t,w,u,y;v=(0,b.Dwa)(this);if(v)(t=d(f,this,arguments),w=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(k),u=v.q0a(w,t,null === f || void 0 === f?void 0:f.Wl,null === f || void 0 === f?void 0:f.awc));q=null === v || void 0 === v?void 0:v.xsa;v && (v.xsa=u);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,c.rya)(y) && (y=y.then(function(z){u && (null === f || void 0 === f?0:f.return) && (u.data.resolve=z);return z;},function(z){u && (u.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{v && (v.xsa=q);u && (u.data || (u.data={}),x?(u.data.error=("").concat(x),null === v || void 0 === v?void 0:v.KMb(u)):(null === f || void 0 === f?0:f.return) && !(0,c.rya)(y) && (u.data.lRet=y));}};};};b.Dwa=function(f){if(null === f || void 0 === f?0:f.Cma)return f.Cma;};r=(function(){function f(g){this.us=[];this.k7=!1;this.Ena={};this.K=l.__assign({Rq:10},g);Object.defineProperties(g.Dp,{Cma:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.K.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.k7;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{X3b:{get:function(){return l.__spreadArray([],l.__read(this.us),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{c1b:{get:function(){return this.Ena;},enumerable:!1,configurable:!0}});f.prototype.Dv=function(g){var k,m;if(!this.k7){m=null === (k=(0,b.Dwa)(this.K.Dp)) || void 0 === k?void 0:k.xsa;m && (m.data=l.__assign(l.__assign({},m.data),g));}};f.prototype.q0a=function(g,k,m,p){var q,v,t,w;if(!this.k7){t=!1;w=null === (v=(q=this.K).u0a) || void 0 === v?void 0:v.call(q,this.K.Dp);q=d({},this.K.Dp);k=l.__assign(l.__assign(l.__assign({},w),q),k);w=0 < Object.keys(k).length;k={methodName:g,data:w?k:void 0,time:n.default.time.fa()};p && this.Ena[g]++;m && this.us.length && (m=this.us[this.us.length - 1],m.methodName === g && (m.data=m.data || ({}),m.data.dedup=m.data.dedup || ({hitCount:1}),m.data.dedup.hitCount++,m.data.dedup.lJournal=k,t=!0));this.LMb(k);t || this.us.push(k);this.us.length > this.K.Rq && this.us.shift();return k;}};f.prototype.LMb=function(g){var k;h.M && (null === (k=this.K.console) || void 0 === k?void 0:k.trace(("").concat(this.K.source,"::").concat(g.methodName),g.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.K,g);};f.prototype.KMb=function(g){var k;h.M && (null === (k=this.K.console) || void 0 === k?void 0:k.error(("").concat(this.K.source,"::").concat(g.methodName),g.data));};f.prototype.Wa=function(){Object.defineProperties(this.K.Dp,{Cma:{enumerable:!1,value:null,configurable:!0}});this.k7=!0;this.clear();};f.prototype.clear=function(){this.us=[];this.Ena={};};return f;})();b.Ex=r;},function(r,b,a){var l,h,n,c,f;function d(g,k,m){this.context=g;this.errorCode=k;this.gfc=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Gi=void 0;r=a(0);l=a(1);h=a(561);n=a(5);c=a(36);f=a(39);d.prototype.send=function(g,k,m,p,q,v){var t;t=this;v=void 0 === v?f.vx.NU:v;return this.NXb(g,k,m,v,p,q).then(function(w){return t.context.PRb.send(w.context,w.request);});};d.prototype.NXb=function(g,k,m,p,q,v){var t,w;try{t=this.context.Aec.create(this.context.WB.yB(),k.url,m,q,p);w=this.XJb(k,g,p,v);return Promise.resolve({context:w,request:t});}catch(u){return Promise.reject(u);}};d.prototype.XJb=function(g,k,m,p){return {Ef:this.context.Ef,log:k,$o:g.name,url:this.context.mmc((0,h.j2a)(this.context.Li,this.context.ti,g.name,m)),bEa:this.gfc,timeout:(0,n.$i)(59),headers:(0,h.i2a)(this.context.ti,this.context.wJ),ul:g.ul,zJb:p};};d.prototype.Zn=function(g){return g instanceof c.rd?g:(0,h.Zn)(this.errorCode,g);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.Np)()),r.__param(1,(0,l.Np)()),r.__param(2,(0,l.Np)())],a);b.Gi=a;},function(r,b,a){var l,h,n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.EM=b.Ab=void 0;l=a(126);h=a(36);n=a(4);d.UY=function(c){if(c){if(c.includes(b.EM.GC))return l.ym.GC;if(c.includes("fps"))return l.ym.hF;if(c.includes(b.EM.e3))return l.ym.e3;}throw new h.rd(n.aa.avb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + c);};d.uva=function(c){switch(c){case l.ym.GC:return b.EM.GC;case l.ym.hF:return b.EM.hF;default:return b.EM.e3;}};b.Ab=d;d.nA="com.microsoft.playready";d.xe="com.microsoft.playready.hardware";d.LH="com.microsoft.playready.software";d.tvb="com.apple.fps.2_0";d.t6="com.widevine.alpha";d.fAb="com.widevine.alpha.experiment";d.rla="com.microsoft.playready.recommendation.3000";d.cTa="com.microsoft.playready.recommendation.2000";d.Lvb=[d.rla];b.EM={hF:"fairplay",e3:"widevine",GC:"playready"};},function(r,b,a){var l,h,n;function d(c,f){this.Qx=f?[f]:[];this.Fna="$op$" + n++;this.Va=c;}Object.defineProperty(b,"__esModule",{value:!0});b.ac=void 0;l=a(17);h=a(22);n=0;d.prototype.addListener=function(c,f){var g;g=this;(0,h.Esa)(c);(0,h.wa)(0 > this.Qx.indexOf(c));c[l.x5 + this.Fna]=f;this.Qx=this.Qx.slice();this.Qx.push(c);this.Qx.sort(function(k,m){return g.iic(k,m);});};d.prototype.removeListener=function(c){var f;(0,h.Esa)(c);this.Qx=this.Qx.slice();0 <= (f=this.Qx.indexOf(c)) && this.Qx.splice(f,1);};d.prototype.set=function(c,f){var g;if(this.Va !== c){g={oldValue:this.Va,newValue:c,lj:f};this.Va=c;this.oBb=f;c=this.Qx;f=c.length;for(var k=0;k < f;k++){c[k](g);}}};d.prototype.when=function(c){var f;f=this;return new Promise(function(g){function k(m){if(c(m.newValue))return (f.removeListener(k),g(m.newValue));}if(c(f.Va))return g(f.Va);f.addListener(k);});};d.prototype.iic=function(c,f){return (c[l.x5 + this.Fna] || 0) - (f[l.x5 + this.Fna] || 0);};Va.Object.defineProperties(d.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Va;}},lj:{configurable:!0,enumerable:!0,get:function(){return this.oBb;}}});b.ac=d;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});r=a(244);d=a(149);b.upc=d;d=a(385);b.JWa=d;d=a(389);b.RW=d;b.$la=r.hR.ze.sidx;r=a(837);b.mv=r.mv;r=a(253);b.FH=r.FH;r=a(842);b.gA=r.gA;b.PQ=r.PQ;r=a(843);b.dka=r.dka;r=a(90);b.GN=r.GN;a=a(844);b.u=a.u;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.zfb=b.oAa=b.ng=b.u=void 0;d=a(49);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return d.u;}}});b.ng=[d.u.U,d.u.J];b.oAa=function(l,h,n){l=l || h?h?[d.u.J]:[d.u.U]:[d.u.U,d.u.J];n && l.push(d.u.nb);return l;};b.zfb=function(l){return l === d.u.U?"audio":l === d.u.J?"video":l === d.u.nb?"text":"unknown";};},function(r,b,a){var d,l,h,n,c,f,g,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Jl=void 0;d=a(0);l=a(2);h=d.__importDefault(a(29));n=d.__importDefault(a(188));c=a(430);f=a(20);r=a(35);g=a(189);k=a(266);a=a(78);m=(function(p){function q(v,t,w){var u;u=p.call(this,v,t) || this;q.oa(u,v,t,w);return u;}d.__extends(q,p);q.oa=function(v,t,w,u){var y;g.kx.oa(v,t,w);v.Je=w.index;v.EN=w.$a;v.Kx=w.lb;v.dGb=w.gb?w.gb:t.gb;v.IG=w.IG;v.Waa=u;v.oYa=!!w.cs;v.VYa=!!w.Um;v.YZa=null !== (y=w.region) && void 0 !== y?y:0;v.nYa=!!w.Eua;v.UYa=!!w.Py;v.pa=void 0 === w.qaa || void 0 === w.Qua || w.qaa === w.$a && w.Qua === w.lb?v:new k.sD(v,{$a:w.qaa,lb:w.Qua});v.hDb=w.GAa;v.uAb=w.el;v.pCb=t.G0b;v.Vk=w.La?v.Hgb(w.La):void 0;v.x_a=w.zz;v.ud=!1;};q.D4a=function(v){for(var t=new Uint32Array(v.length),w=new Uint32Array(v.length),u=new Uint8Array(v.length),y=new Uint8Array(v.length),x=0,z,B,A=0;A < v.length;++A){z=v[A];B=z.md;t[A]=z.Kx - z.EN;w[A]=B;u[A]=z.stream.Fg;void 0 !== z.gb && null !== z.gb && (y[A]=z.gb);x+=B;}return new c.ama(t,w,v.length?v[0].V:1E3,x);};Object.defineProperties(q.prototype,{KF:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gb:{get:function(){return this.dGb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sqa:{get:function(){return 8 * this.ha / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$a:{get:function(){return this.EN;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lb:{get:function(){return this.Kx;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yj:{get:function(){var v,t;return null !== (t=null === (v=this.Waa) || void 0 === v?void 0:v.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cs:{get:function(){return this.oYa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Um:{get:function(){return this.VYa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.YZa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Eua:{get:function(){return this.nYa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Py:{get:function(){return this.UYa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{GAa:{get:function(){return this.hDb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{el:{get:function(){return this.uAb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{La:{get:function(){return this.Vk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zz:{get:function(){return this.x_a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qaa:{get:function(){return this.pa.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qua:{get:function(){return this.pa.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dWb:{get:function(){return this.pa.Sv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{saa:{get:function(){return this.pa.Nd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{p8a:{get:function(){return this.pa.bg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{o8a:{get:function(){return this.pa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rua:{get:function(){return this.pa.ue;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cWb:{get:function(){return this.pa.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ay:{get:function(){var v;v=this.dWb;(0,l.assert)(v);return v / this.stream.da.Ca;},enumerable:!1,configurable:!0}});q.prototype.Rza=function(v){this.oYa=!!v;};q.prototype.Leb=function(){this.VYa=!0;};q.prototype.Xgc=function(v){this.IG={Ge:v.rva(),get $Z() {return v.Lu;}};};q.prototype.sS=function(v){this.x_a=v;};q.prototype.Ugc=function(v,t,w){this.YZa=v;this.nYa=t;this.UYa=w;};q.prototype.vj=function(v){var t,w;void 0 === v && (v={});t=this.stream.da.Ca;w=this.Vk || ({start:0,end:this.Ay});v=this.Hgb(v);this.pa && this.pa !== this || (this.pa=new k.sD(this,this));v.start > w.start && (this.EN=this.pa.$a + v.start * t);v.end < w.end && (this.Kx=this.pa.$a + v.end * t);this.Vk=d.__assign(d.__assign({},w),v);};q.prototype.nta=function(v){void 0 === v && (v=1);this.Vk?this.vj({start:this.Vk.start + v,end:this.Vk.end}):this.vj({start:v});};q.prototype.ota=function(v){this.Vk?this.vj({start:this.Vk.start,end:(this.Vk.end || 0) - v}):this.vj({start:0,end:-v});};q.prototype.Jj=function(){this.La?this.vj({start:this.La.start,end:this.La.start}):this.vj({start:0,end:0});};q.prototype.Ygc=function(v){this.Vk || this.vj();this.Vk.zga=v;};q.prototype.omb=function(v){this.Vk || this.vj();this.Vk.Vv=!0;v && (this.Vk.o7a=v);};q.prototype.pmb=function(v){this.Vk || this.vj();this.Vk.$r=!0;v && (this.Vk.p7a=v);};q.prototype.O7a=function(v){var w;if(!(v < this.ca || v >= this.Sa) && this.el && this.el.length){v=new f.O(v + 1 - this.ca,1E3).qk(this.stream.da);for(var t=this.el.length - 1;0 <= t;--t){w=this.el[t];if(w.uj <= v)return w;}return {uj:0,Ce:this.Rua};}};q.prototype.vVb=function(v){var w;if(!(v < this.ca || v >= this.Sa) && this.el && this.el.length){v=new f.O(v + 1 - this.ca,1E3).qk(this.stream.da);for(var t=this.el.length - 1;0 <= t;--t){w=this.el[t];if(w.uj <= v)return w;}return {uj:0,Ce:this.Rua};}};q.prototype.D7a=function(v,t){var w,u,y;if(!(v < this.ca || v >= this.Sa)){if(!t && this.pCb)return {uj:0,Ce:this.ca};w=this.da.Ca;u=this.da.V;y=Math.floor(this.Sv / w);v=Math.min((t?Math.ceil:Math.floor)((f.O.fgb(v,u) - this.$a + (t?-1:1) * (u / 1E3 - 1)) / w),y);w=f.O.dha(this.$a + v * w,u);return v === y?void 0:{uj:v,Ce:w};}};q.prototype.tua=function(v){return this.mediaType === h.default.ee.J?this.O7a(v):this.D7a(v,!1);};q.prototype.sua=function(v){return this.mediaType === h.default.ee.J?this.vVb(v):this.D7a(v,!0);};q.prototype.y8=function(v){this.md+=v.ha;this.Kx=v.lb;this.Vk && (this.pa=new k.sD(this,{$a:this.qaa,lb:this.Kx}),this.Vk.end=this.Ay);};q.prototype.GDa=function(v){var t,w,u;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === h.default.ee.U?"audioedit":"videoedit";u=[this.saa === this.ca?this.Oc:this.ue,this.saa === this.ca?-this.duration:this.duration];v && u.push(v);t.fields[w]={type:"array",value:u};return t;};q.prototype.toString=function(){return ("[").concat(this.Ta,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.ue,"-").concat(this.Oc,",") + ("p:").concat(this.Nd,"-").concat(this.bg,",d:").concat(this.duration,"]");};q.prototype.toJSON=function(){var v;v=g.kx.prototype.toJSON.call(this);(0,n.default)({index:this.index,startPts:this.ca,endPts:this.Sa,"contentStartTicks:":this.$a,contentEndTicks:this.lb,contentStartPts:this.ue,contentEndPts:this.Oc,fragmentStartPts:this.saa !== this.ca?this.saa:void 0,fragmentEndPts:this.p8a !== this.Sa?this.p8a:void 0,edit:this.La},v);return v;};q.prototype.N7a=function(v){var w;if(this.el)for(var t=0;t < this.el.length;++t){if(this.el[t].uj === v)w=this.el[t].offset;}return w;};q.prototype.Hgb=function(v){var t,w;t=v.start || 0;w=void 0 === v.end?this.Ay:Math.min(this.Ay,Math.max(t,0 > v.end?this.Ay + v.end:v.end));return d.__assign(d.__assign({},v),{start:t,end:w});};return q;})(g.kx);b.Jl=m;(0,r.hf)(a.bv,m);(0,r.hf)(a.Oz,m);},function(r,b,a){var c;function d(f,g){return void 0 === f?void 0:0 === f?c.O.Oa:new c.O(f,g);}function l(f,g){return f && Math.floor(c.O.dha(f,g));}function h(f,g){return void 0 === f || void 0 === g?void 0:f + g;}function n(f,g){return void 0 === f || void 0 === g?void 0:f - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.Oz=b.bv=void 0;c=a(20);r=(function(){function f(){}Object.defineProperties(f.prototype,{Sv:{get:function(){return n(this.lb,this.$a) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Tac:{get:function(){return h(this.$a,this.Yj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pac:{get:function(){return h(this.lb,this.Yj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Nt:{get:function(){return d(this.Sv,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cc:{get:function(){return d(this.$a,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xd:{get:function(){return d(this.lb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ed:{get:function(){return d(this.Tac,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qc:{get:function(){return d(this.Pac,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{XCa:{get:function(){return d(this.Yj,this.V);},enumerable:!1,configurable:!0}});return f;})();b.bv=r;r=(function(){function f(){}Object.defineProperties(f.prototype,{duration:{get:function(){return n(this.Sa,this.ca) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return l(h(this.$a,this.Yj),this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sa:{get:function(){return l(h(this.lb,this.Yj),this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sw:{get:function(){return l(this.Yj,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{il:{get:function(){return l(this.$a,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ue:{get:function(){return l(this.$a,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Oc:{get:function(){return l(this.lb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Nd:{get:function(){return l(h(this.$a,this.Yj),this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bg:{get:function(){return l(h(this.lb,this.Yj),this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Xn:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{LC:{get:function(){return this.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Rw:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});return f;})();b.Oz=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Hi=b.Gxb=b.jA=void 0;d=a(15);b.jA=b.jA || (function(l,h,n){return l >= h?l <= n?l:n:h;});b.Gxb=function(l,h,n,c,f){return (l - h) * (f - c) / (n - h) + c;};b.Hi=function(l){if((0,d.Pa)(l))return (l / 1E3).toFixed(3);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cv={Request:"Request",bma:"Singleton",j6:"Transient"};b.Mk={uKa:"ConstantValue",vKa:"Constructor",HLa:"DynamicValue",Dja:"Factory",Function:"Function",Instance:"Instance",Bwb:"Invalid",rUa:"Provider"};b.sA={kKa:"ClassProperty",wKa:"ConstructorArgument",tma:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uOa="Injector";b.cA=145152E5;b.dN="ProfileSymbol";},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.M5a=b.tab=b.Fpb=b.Hw=b.rda=b.Afb=void 0;r=a(684);d=a(687);l=a(708);h=a(711);a=a(712);b.Afb=r;b.rda=function(n,c){return (0,b.Afb)(function(f,g){return void 0 !== g?g:f;},n,c);};b.Hw=d;b.Fpb=l;b.tab=h;b.M5a=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pz="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gzb="StorageValidatorSymbol";b.Nz="AppStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mA="PboConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kN="TimingApiSymbol";b.AU="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aA="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bA="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qr={start:"start",stop:"stop",c_:"keepAlive",zP:"engage",splice:"splice"};b.Aja="EventPboCommandFactorySymbol";b.KVa="StartEventPboCommandSymbol";b.RVa="StopEventPboCommandSymbol";b.FOa="KeepAliveEventPboCommandSymbol";b.FVa="SpliceEventPboCommandSymbol";b.fMa="EngageEventPboCommandSymbol";},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(103);b.GN=function(l){d.assert("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.PXa=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.ktc=function(l,h){return Math.floor(1E3 * l / h);};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(n){l.prototype.parse.call(this,n);this.gd=this.mz([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{bwc:"int32"},{wzc:"int32"},{offset:32,type:"offset"},{Cvc:"int16"},{vuc:{type:"int8",gIb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};h.zd=!0;return h;})(a(245).default);b.default=r;a=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.Af="avc1";return h;})(r);b.bsb=a;a=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.Af="avc2";return h;})(r);b.csb=a;a=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.Af="avc3";return h;})(r);b.dsb=a;a=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.Af="avc4";return h;})(r);b.esb=a;a=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.Af="hvc1";return h;})(r);b.Jvb=a;a=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.Af="hev1";return h;})(r);b.Cvb=a;r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.Af="av01";return h;})(r);b.$rb=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jx=void 0;r=(function(){function a(d){this.pe=d;}a.prototype.aFa=function(d){this.pe=d;};a.prototype.g3a=function(){this.pe=void 0;};a.prototype.EY=function(d){return this.pe && this.pe.rea && this.pe.rea(d);};a.prototype.OP=function(d){this.pe && this.pe.AC && this.pe.AC(d);};a.prototype.jF=function(d){this.pe && this.pe.zC && this.pe.zC(d);};a.prototype.OJ=function(d){this.pe && this.pe.YK && this.pe.YK(d);};a.prototype.i8a=function(d){this.pe && this.pe.EBa && this.pe.EBa(d);};a.prototype.$v=function(d){this.pe && this.pe.rl && this.pe.rl(d);};a.prototype.oaa=function(d){this.pe && this.pe.v0 && this.pe.v0(d);};a.prototype.NP=function(d,l,h){this.pe && this.pe.u0 && this.pe.u0(d,l,h);};a.prototype.paa=function(d,l,h){this.pe && this.pe.BC && this.pe.BC(d,l,h);};a.prototype.j8a=function(d){this.pe && this.pe.qea && this.pe.qea(d);};return a;})();b.jx=r;r.prototype.rea=r.prototype.EY;r.prototype.AC=r.prototype.OP;r.prototype.zC=r.prototype.jF;r.prototype.YK=r.prototype.OJ;r.prototype.rl=r.prototype.$v;r.prototype.v0=r.prototype.oaa;r.prototype.u0=r.prototype.NP;r.prototype.EBa=r.prototype.i8a;r.prototype.BC=r.prototype.paa;r.prototype.qea=r.prototype.j8a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.y3=b.jg=void 0;d=a(0);r=d.__importDefault(a(11));l=d.__importStar(a(13));h=r.default.kf;n=d.__importDefault(a(3));c=n.default.ur;f=a(186);g=a(6);k=d.__importDefault(a(154));m=a(8);r=a(35);a(2);a(1003);p=a(190);q=a(189);(function(t){t[t.aRa=0]="NOTHING_APPENDED";t[t.z5=1]="PARTIAL";t[t.Pp=2]="COMPLETE";t[t.mg=3]="ERROR";})(v=b.jg || (b.jg={}));a=(function(t){function w(u,y,x,z,B,A,C){y=t.call(this,y,x) || this;y.BCb=!!z.zc;p.hH.oa(y,u,z,B,A,C);q.kx.oa(y,u,z);y.mAb=u.bQ(y.zc,y.pj);y.Bma=z.responseType;y.lAb=z.vga;void 0 === y.Bma && (y.Bma=c.Yc && !c.Yc.eS.hN?0:1);y.fk=new h();y.fk.on(y,c.jf.rRa,y.koa);y.fk.on(y,c.jf.qRa,y.YDb);y.fk.on(y,c.jf.sRa,y.aEb);y.fk.on(y,c.jf.GU,y.joa);y.fk.on(y,c.jf.Irc,y.XDb);y.fk.on(y,c.jf.JH,y.TV);y.pN=!1;y.mf=!1;y.En=!1;y.iq=!1;y.xV=!1;y.WEb=z.t1;y.hFb=z.WC;y.xu=0;return y;}d.__extends(w,t);Object.defineProperties(w.prototype,{zc:{get:function(){return this.BCb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{active:{get:function(){return this.mf;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{nDa:{get:function(){return this.En;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{complete:{get:function(){return !this.pN && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{aborted:{get:function(){return this.pN;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{kya:{get:function(){return this.iq && !this.xV;},enumerable:!1,configurable:!0}});w.prototype.oa=function(u){var y;p.hH.prototype.oa.call(this,u);if(!this.gq && this.mediaType !== g.u.nb && (this.te.ppa || !this.zc) && (u=this.gq=k.default.instance(),this.active)){y=n.default.time.fa();u.Uw(y,this.DG);this.En && (u.Skb(),y=this.yL,this.connect && 0 < y.length && u.XA(y[0]));}};w.prototype.uk=function(){return !this.ud && (6 !== this.readyState && 7 !== this.readyState && 1 === this.responseType?3 <= this.readyState:5 === this.readyState);};w.prototype.Qr=function(u,y,x,z,B){var A;z || (z=(0,m.Ry)(this));this.ud=B?this.te.h$b?B.every(function(C,D){return y.appendBuffer(C,0 === D?z:void 0);}):y.appendBuffer(1 < B.length?(0,m.tB)(B):B[0],z):y.appendBuffer(this.response,z);null === (A=this.p7) || void 0 === A?void 0:A.n9b();this.response && this.VR();return {status:this.ud?v.Pp:v.mg};};w.prototype.$K=function(){var u;null === (u=this.p7) || void 0 === u?void 0:u.J9b();(this.iq=c.prototype.open.call(this,this.mAb,{start:this.offset,end:this.offset + this.ha - 1},this.Bma,{},void 0,void 0,this.lAb,this.stream.Gu)) && this.EY(this);return this.iq;};w.prototype.abort=function(){var u,y;if(this.aborted)return !0;u=this.mf;y=this.gq;y && u && y.oz(n.default.time.fa(),this.En,this.DG);this.pN=!0;this.En=this.mf=!1;c.prototype.abort.call(this);this.NP(this,u,this.kya);return !0;};w.prototype.wd=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.fk && this.fk.clear();t.prototype.wd.call(this);};w.prototype.koa=function(){var u,y;y=this.xg || this.loadTime;null === (u=this.p7) || void 0 === u?void 0:u.C9b();f.Qz.instance().push(n.default.time.fa() - y);this.mf || (this.mf=!0,this.rw=this.track.rw(),this.stream.K.Neb || (u=this.gq) && u.Uw(y,this.DG),this.OP(this),this.Nw=this.xg);};w.prototype.YDb=function(){var u,y,x,z;null === (u=this.p7) || void 0 === u?void 0:u.y9b();u=this.xg || this.yua;y=this.connect;x=this.yL;f.Qz.instance().push(n.default.time.fa() - u);this.mf || (this.mf=!0);if(!this.En){this.En=!0;z=this.gq;this.stream.K.Neb && z && z.Uw(u,this.DG);z && z.Skb();y && 0 < x.length && z && z.XA(x[0]);this.jF(this);this.Nw=u;0 >= this.ha && (u=this.ha,this.xgc(this.Yg),this.paa(this,this.Yg,u));this.stream.qa?(u=this.getResponseHeader("X-TCP-Info",!0),this.stream.T$b(u,this)):this.getAllResponseHeaders(!0);}};w.prototype.aEb=function(){var u,y,x;u=this.xg;y=this.bytesReceived - this.xu;f.Qz.instance().push(n.default.time.fa() - u);this.En || (this.En=!0);x=this.gq;x && (void 0 === this.Nw || x.vE(y,this.Nw,u,this.DG),(y=this.yL) && y.length && y.forEach(function(z){x.WA(z);}));this.OJ(this);this.Nw=u;this.xu=this.bytesReceived;};w.prototype.joa=function(){var u,y,x;null === (u=this.p7) || void 0 === u?void 0:u.k0();u=this.xg;y=this.bytesReceived - this.xu;f.Qz.instance().push(n.default.time.fa() - u);x=this.gq;x && (0 < y && x.vE(y,this.Nw,u,this.DG),(y=this.yL) && y.length && y.forEach(function(z){x.WA(z);}),x.oz(u,this.En,this.DG));this.En=this.mf=!1;this.xV=!0;this.$v(this);this.Nw=u;this.xu=this.bytesReceived;this.wd();};w.prototype.XDb=function(){this.j8a(this);};w.prototype.ZBb=function(){var u,y;u=(u=this.stream)?u.toString():this.url;y=this.OO;y && (u+=",range " + y.start + "-" + y.end);return u;};Object.defineProperties(w.prototype,{DG:{get:function(){return {requestId:this.ZBb(),ll:this.bd,type:this.mediaType,t1:this.WEb,ha:this.ha,bytesReceived:this.bytesReceived,WC:this.hFb};},enumerable:!1,configurable:!0}});w.prototype.TV=function(){var u,y,x,z;this.H.warn("AseMediaRequest._onError:",this.toString());u=this.xg;y=this.status;x=this.Fh;z=this.Sj;f.Qz.instance().push(n.default.time.fa() - u);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):l.Pa(x)?((x=this.gq) && this.te && this.te.HDa && this.loadTime && void 0 === y && x.vE(this.xu?this.bytesReceived - this.xu:this.bytesReceived,this.Nw?this.Nw:this.loadTime,u,this.DG),this.oaa(this)):this.H.warn("ignoring undefined request error (nativecode: " + z + ")");};return w;})(c);b.y3=a;(0,r.hf)(p.hH,a,!1);(0,r.hf)(q.kx,a,!1);},function(r){r.exports=function(b,a){for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aj={audio:"audio",video:"video",bha:"timedtext",FGa:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vz="DeviceFactorySymbol";},function(r,b,a){var d;d=a(617);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":d(l);};},function(r,b,a){var h,n;function d(c,f,g,k,m){var p,q,t;p={};q="number" === typeof m;m=void 0 !== m && q?m.toString():g;if(q && void 0 !== g)throw Error(h.mwb);Reflect.Swa(c,f) && (p=Reflect.getMetadata(c,f));g=p[m];if(Array.isArray(g)){q=0;for(var v=g;q < v.length;q++){t=v[q];if(t.key === k.key)throw Error(h.Fub + " " + t.key.toString());}}else g=[];g.push(k);p[m]=g;Reflect.m$(c,p,f);}function l(c,f){return function(g,k){f(g,k,c);};}Object.defineProperty(b,"__esModule",{value:!0});h=a(55);n=a(41);b.XL=function(c,f,g,k){d(n.bWa,c,f,k,g);};b.q2=function(c,f,g){d(n.cWa,c.constructor,f,g);};b.SE=function(c,f,g){"number" === typeof g?(c=[l(g,c)],Reflect.SE(c,f)):"string" === typeof g?Reflect.SE([c],f,g):Reflect.SE([c],f);};},function(r,b,a){var l,h;function d(n,c,f,g,k){n=void 0 === n?l.aa.Ko:n;return h.rd.call(this,n,c,f,void 0,void 0,g,h.rd.sf(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Yh=void 0;l=a(4);h=a(36);la(d,h.rd);b.Yh=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eA="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yT=b.nsb=b.oia=b.pia=void 0;(function(a){a[a.i6a=0]="downloading";a[a.iSb=1]="downloaded";a[a.ud=2]="appended";a[a.buffered=3]="buffered";a[a.WR=4]="removed";a[a.nzc=5]="unused";})(b.pia || (b.pia={}));(function(a){a[a.waiting=1]="waiting";a[a.vxc=2]="ondeck";a[a.i6a=4]="downloading";a[a.iSb=8]="downloaded";a[a.NZ=6]="inprogress";})(b.oia || (b.oia={}));b.nsb="AseBufferViewSymbol";b.yT="AseBufferAccountingSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ila=b.Io=void 0;r=b.Io || (b.Io={});r.$M="PRE_FETCH";r.Wyb="QC";r.Xp="STANDARD";r.X5="SUPPLEMENTAL";r.npc="DOWNLOAD";b.ila="PboManifestCommandSymbol";},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);return n;})(Error);b.assert=function(h,n){if(!h)throw new l(n || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oka="6674654e-696c-5078-6966-665374726d21";b.Pka="6674654e-696c-4878-6165-6465722e7632";b.YQa="6674654e-696c-5078-6966-66496e646578";b.q5="6674654e-696c-4d78-6f6f-6653697a6573";b.p5="6674654e-696c-5378-6565-6b506f696e74";b.JRa="cedb7489-e77b-514c-84f9-7148f9882554";b.IRa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Nka="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var p;function d(q){return Array.isArray(q)?q.reduce(function(v,t){return v + t;},0):!1;}function l(q){return Array.isArray(q) && q.length?d(q) / q.length:!1;}function h(q){var v;if(!Array.isArray(q) || 2 > q.length)return !1;v=l(q);return d(q.map(function(t){return (t - v) * (t - v);})) / (q.length - 1);}function n(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=h(q);return Math.sqrt(q);}function c(q,v){if(q.length == v.length && 1 < q.length){for(var t=q.length,w=0,u=d(q),y=d(v),x=0;x < t;x++){w+=q[x] * v[x];}return (w - u * y / t) / t;}return !1;}function f(q,v,t){return Math.max(Math.min(q,t),v);}function g(q,v){return "number" === typeof q?q:v;}function k(q){return 1 / (1 + Math.exp(-q));}function m(q,v,t){return q * t + (1 - t) * v;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ry=b.Clb=b.scale=b.g7a=b.M$=b.xga=b.a3a=b.WO=b.tanh=b.bga=b.ri=b.zXb=b.BXb=b.k_b=b.lab=b.L8a=b.w_b=b.tB=b.jh=b.kb=void 0;p=a(0).__importStar(a(13));b.kb=function(q,v,t){try{q.emit(v,t);}catch(w){q.Ll("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",t);}};b.jh=function(q,v){void 0 !== q && p.J$b(q).forEach(function(t){v(t[0],t[1]);});};b.tB=function(){var t;for(var q=[],v=0;v < arguments.length;v++){q[v]=arguments[v];}q=Array.prototype.concat.apply([],q);v=q.reduce(function(w,u){return w + u.byteLength;},0);t=new Uint8Array(v);q.reduce(function(w,u){t.set(new Uint8Array(u),w);return w + u.byteLength;},0);return t.buffer;};b.w_b=d;b.L8a=l;b.lab=h;b.k_b=n;b.BXb=c;b.zXb=function(q,v){var t;if(q.length == v.length){t=c(q,v);q=n(q);v=n(v);if(0 < q && 0 < v)return t / (q * v);}return !1;};b.ri=function(q,v,t){return v.F4a?v.F4a(t):new q.Console("ASEJS","media|asejs",v.prefix?v.prefix + " " + t:t);};b.bga=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var v;v=Math.exp(+q);q=Math.exp(-q);return Infinity == v?1:Infinity == q?-1:(v - q) / (v + q);});b.WO=f;b.a3a=function(q,v,t,w){return {min:f(g(q.min,v),t,w),max:f(g(q.max,v),t,w),kB:f(q.kB || 6E4,0,6E5),G2a:f(q.G2a || 0,-3E5,3E5),scale:f(q.scale || 6E4,0,3E5),Dlb:f(q.Dlb || 0,-3E5,3E5),gamma:f(q.gamma || 1,.1,10)};};b.xga=k;b.M$=function(q,v,t){return q.min + (q.max - q.min) * (1 - Math.pow(k(6 * (v - (q.kB + (q.G2a || 0) * (1 - t))) / (q.scale + (q.Dlb || 0) * (1 - t))),q.gamma));};b.g7a=function(q,v){return q.min + (q.max - q.min) * Math.pow(k(6 * (v - q.kB) / q.scale),q.gamma);};b.scale=m;b.Clb=function(q,v,t){return {min:m(q.min,v.min,t),max:m(q.max,v.max,t),kB:m(q.kB,v.kB,t),scale:m(q.scale,v.scale,t),gamma:m(q.gamma,v.gamma,t)};};b.Ry=function(q){var v,t,w;w=null === (v=q.Xa) || void 0 === v?void 0:v.Ya.G.id;v=null === (t=q.Xa) || void 0 === t?void 0:t.Ya.G.N;return {ca:q.ca,duration:q.duration,offset:q.offset,ha:q.ha,bitrate:q.bitrate,profile:q.profile,zc:q.zc,S:w,N:v,Ta:q.Ta,bd:q.bd,location:q.location,Si:q.Si,il:q.il,uu:{Ya:{G:{id:w,N:v}}}};};},function(r){var g,k,m,p;function b(){b.oa.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function d(q,v,t,w){var u,y;a(t);u=q.eh;if(void 0 === u)(u=q.eh=Object.create(null),q.gI=0);else {void 0 !== u.qxc && (q.emit("newListener",v,t.listener?t.listener:t),u=q.eh);y=u[v];}void 0 === y?(u[v]=t,++q.gI):("function" === typeof y?y=u[v]=w?[t,y]:[y,t]:w?y.unshift(t):y.push(t),t=void 0 === q.RV?b.IQb:q.RV,0 < t && y.length > t && !y.onc && (y.onc=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(v) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.Ot=q,t.type=v,t.count=y.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.R7a)return (this.target.removeListener(this.type,this.orb),this.R7a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function h(q,v,t){q={R7a:!1,orb:void 0,target:q,type:v,listener:t};v=l.bind(q);v.listener=t;return q.orb=v;}function n(q){var v;v=this.eh;if(void 0 !== v){q=v[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function c(q,v,t){"function" === typeof q.on && f(q,"error",v,t);}function f(q,v,t,w){if("function" === typeof q.on){if(w.once)q.once(v,t);else q.on(v,t);}else if("function" === typeof q.addEventListener)q.addEventListener(v,function x(y){w.once && q.removeEventListener(v,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}g="object" === typeof Reflect?Reflect:null;k=g && "function" === typeof g.apply?g.apply:function(q,v,t){return Function.prototype.apply.call(q,v,t);};m=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,v){return new Promise(function(t,w){function u(x){q.removeListener(v,y);w(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",u);t([].slice.call(arguments));}f(q,v,y,{once:!0});"error" !== v && c(q,u,{once:!0});});};b.EventEmitter=b;b.prototype.eh=void 0;b.prototype.gI=0;b.prototype.RV=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.oa=function(){if(void 0 === this.eh || this.eh === Object.getPrototypeOf(this).eh)(this.eh=Object.create(null),this.gI=0);this.RV=this.RV || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.RV=q;return this;};b.prototype.emit=function(q){var w,u;for(var v=[],t=1;t < arguments.length;t++){v.push(arguments[t]);}w="error" === q;t=this.eh;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < v.length && (u=v[0]);if(u instanceof Error)throw u;v=Error("Unhandled error." + (u?" (" + u.message + ")":""));v.context=u;throw v;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)k(t,this,v);else {u=t.length;w=Array(u);for(var y=0;y < u;++y){w[y]=t[y];}for(t=0;t < u;++t){k(w[t],this,v);}}return !0;};b.prototype.addListener=function(q,v){return d(this,q,v,!1);};b.prototype.on=b.prototype.addListener;b.prototype.Q0=function(q,v){return d(this,q,v,!0);};b.prototype.once=function(q,v){a(v);this.on(q,h(this,q,v));return this;};b.prototype.CCa=function(q,v){a(v);this.Q0(q,h(this,q,v));return this;};b.prototype.removeListener=function(q,v){var t,w,u,y,x;a(v);w=this.eh;if(void 0 === w)return this;u=w[q];if(void 0 === u)return this;if(u === v || u.listener === v)0 === --this.gI?this.eh=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,u.listener || v));else if("function" !== typeof u){y=-1;for(t=u.length - 1;0 <= t;t--){if(u[t] === v || u[t].listener === v){x=u[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)u.shift();else {for(;y + 1 < u.length;y++){u[y]=u[y + 1];}u.pop();}1 === u.length && (w[q]=u[0]);void 0 !== w.removeListener && this.emit("removeListener",q,x || v);}return this;};b.prototype.Ew=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var v,t,w;v=this.eh;if(void 0 === v)return this;if(void 0 === v.removeListener)return (0 === arguments.length?(this.eh=Object.create(null),this.gI=0):void 0 !== v[q] && (0 === --this.gI?this.eh=Object.create(null):delete v[q]),this);if(0 === arguments.length){t=Object.keys(v);for(v=0;v < t.length;++v){w=t[v];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.eh=Object.create(null);this.gI=0;return this;}t=v[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(v=t.length - 1;0 <= v;v--){this.removeListener(q,t[v]);}return this;};b.prototype.listeners=function(q){var v;v=this.eh;if(void 0 === v)q=[];else if((q=v[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {v=Array(q.length);for(var t=0;t < v.length;++t){v[t]=q[t].listener || q[t];}q=v;}return q;};b.listenerCount=function(q,v){return "function" === typeof q.listenerCount?q.listenerCount(v):n.call(q,v);};b.prototype.listenerCount=n;},function(r,b,a){var g,k,m,p,q,v,t,w,u,y,x,z,B;function d(){this.Jg=(0,v.sk)("Http");this.Ml=new g.Nk();this.bI=0;this.ic={ssl:0,"non-ssl":0,invalid:0};this.O5={nb:1,gAb:2,dJa:3};this.addEventListener=this.Ml.addListener;this.removeEventListener=this.Ml.removeListener;}function l(A){var C,D,E,G;C=A.url.split("?");D="sc=" + A.Kfc;E=A.k2a?"random=" + (1E17 * (0,u.uU)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";A.Dc && !(0,m.rca)(G) && (A=k.config && k.config.gra) && (G=A.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function h(A,C){var D,E,G;D=A.url.split("?");E=n(A);G=D[0];E && (C.Au=E,(void 0 === A.Uu?k.config.Uu:A.Uu) || A.Gu !== z.FU?(A.headers=A.headers || ({}),A.headers.Range="bytes=" + E):(C.Au=E,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=E));E=A.k2a?"random=" + (1E17 * (0,u.uU)()).toFixed(0):"";k.config.aF && A.vga && (E="sc=" + A.vga + (E?"&" + E:""));G=D[1]?G + ("?" + D[1] + (E?"&" + E:"")):G + (E?"?" + E:"");A.Dc && !(0,m.rca)(G) && (A=k.config && k.config.gra) && (G=A.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function n(A){var C;C=A.offset;if(void 0 !== C)return ((0,t.HX)(C),void 0 !== A.length?(A=C + A.length - 1,(0,t.HX)(A),C + "-" + A):C + "-");}function c(A,C,D,E){var G,F;G=E.Sib;F=E.headers;A.open(G?"POST":"GET",C,!D);switch(E.responseType){case b.AZ:A.responseType="arraybuffer";break;case b.kxa:(0,w.x2a)(A,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,x.Tg)(G)?"text/plain":"application/x-octet-stream"},F=F?(0,w.Qe)(C,F):C);F && (0,w.jh)(F,function(K,O){A.setRequestHeader(K,O);});E.withCredentials && (A.withCredentials=!0);G?A.send(G):A.send();}function f(A,C){switch(C.type){case b.AZ:return A.response || new ArrayBuffer(0);case b.kxa:return A.responseXML;default:return A.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.AZ=b.kxa=b.jxa=b.n1b=b.mxa=b.m1b=b.fbb=b.Hba=b.Ef=b.hAb=b.iAb=b.l1b=b.lxa=b.i1b=b.j1b=b.h1b=b.k1b=void 0;g=a(70);k=a(19);r=a(17);m=a(44);p=a(61);q=a(4);v=a(10);t=a(22);w=a(23);u=a(14);y=a(59);x=a(15);z=a(65);B=a(1249);d.prototype.Ohc=function(A){var C;C=new XMLHttpRequest();A=l(A);C.open("HEAD",A);C.onreadystatechange=function(){2 === C.readyState && !1;};C.send();};d.prototype.download=function(A,C){var M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa;function D(){var T;if(!V){V=!0;Oa && (mb.clearTimeout(Oa),Oa=null);M.Ml.removeListener(b.mxa,K);M.voa(qa,xa);xa && (xa.onloadstart=null,xa.onreadystatechange=null,xa.onprogress=null,xa.onerror=null,xa.onload=null,xa=xa.onabort=null);qa.ja || (qa.Da != q.Y.AD?J.warn("Download failed",X,(0,q.Zz)(qa)):J.trace("Download aborted",X));T=S;S=null;null === T || void 0 === T?void 0:T.reduceRight(function(W,Q){(0,y.Rg)(function(){return Q(qa);});},null);M.Ml.Zc(b.fbb,qa,!0);}}function E(){Oa && (mb.clearTimeout(Oa),Oa=null);Oa=mb.setTimeout(O,Aa?P:N);}function G(T,W,Q,ka){var ra,R;qa.ja=!1;qa.Da=T;ra=(0,p.Zo)();R=qa.Ym;R.tj=R.tj || ra;R.$q=R.$q || ra;W && 0 < W && (qa.Xl=W,qa.Wf=W.toString());Q && (qa.Tb=Q);ka && (qa.FG=ka);T !== q.Y.cU && T !== q.Y.uH && T !== q.Y.fU || !xa || (xa.onabort=null,L());D();}function F(T){var W,Q;try{Q=T.getResponseHeader("X-Netflix.Retry.Server.Policy");Q && (W=JSON.parse(Q));}catch(ka){!1;}return W;}function K(){(0,b.lxa)() || G(q.Y.cU);}function O(){G(Aa?q.Y.uH:q.Y.fU);}function L(){try{null === xa || void 0 === xa?void 0:xa.abort();}catch(T){}}function I(){G(q.Y.AD);}M=this;(0,t.wa)(C);J=(null === (H=null === A || void 0 === A?void 0:A.j) || void 0 === H?0:H.log)?(0,v.nj)(A.j,"Http"):this.Jg;N=A.L9 || k.config.L9;P=A.SAa || k.config.SAa;X={Num:this.bI++};V=!1;S=[C];U={};this.VFb(A);qa=new B.INa(A,L,O,U,function(T){V || ((0,t.wa)(S,"Callback should be added before download starts."),S && S.unshift(T));});Aa=!1;(0,y.Rg)(function(){var T,W;if((0,x.zya)(A.url))try{if((h(A,qa),ha=qa.url,(0,t.IX)(ha),X.Url=ha,(0,b.lxa)())){!1;xa=new XMLHttpRequest();T=k.config.ymc && "undefined" != typeof xa.onloadstart;T && (xa.onloadstart=function(){var Q;Q=(0,p.Zo)();U.Is=Q;qa.n0({mediaRequest:A,timestamp:Q});});xa.onreadystatechange=function(){2 === (null === xa || void 0 === xa?void 0:xa.readyState) && (Aa=!0,U.tj=(0,p.Zo)(),xa.onreadystatechange=null,E(),!1,M.voa(qa,xa),qa.o0({timestamp:U.tj,connect:!0,mediaRequest:A,start:U.Is,rt:[U.tj - U.Is],responseHeaders:qa.headers}));};xa.onprogress=function(Q){Aa=!0;U.vX=Q.loaded;E();M.voa(qa,xa);Q={mediaRequest:A,bytes:Q.loaded,timestamp:(0,p.Zo)(),bytesLoaded:Q.loaded,responseHeaders:qa.headers};qa.o0(Q);};xa.onload=function(Q){!V && xa && ((0,t.wa)(void 0 === U.$q),U.$q=(0,p.Zo)(),U.tj=U.tj || U.$q,U.vX=Q.loaded,200 <= xa.status && 299 >= xa.status?(Q=f(xa,qa),qa.parsed=!1,qa.content=Q,qa.ja=!0):420 === xa.status?G(q.Y.eU,xa.status):G(q.Y.dU,xa.status,xa.response,F(xa)),D());};xa.onabort=I;xa.onerror=function(){var Q,ka;if(xa){Q=xa.status;"undefined" !== typeof k.config.g8a && (Q=k.config.g8a);if(0 < Q){if(420 === Q)G(q.Y.eU,Q);else {try{ka=xa.responseText;}catch(ra){}G(q.Y.dU,Q,ka,F(xa));}}else G(q.Y.gU);}};W=(0,p.Zo)();c(xa,ha,!1,A);M.Ml.Zc(b.Hba,qa,!0);T || (U.Is=W,qa.n0({mediaRequest:A,timestamp:W}));E();M.Ml.addListener(b.mxa,K);}else (0,y.Rg)(G.bind(void 0,q.Y.cU));}catch(Q){J.error("Exception starting download",Q,X);G(q.Y.Qja,void 0,(0,w.sf)(Q));}else G(q.Y.mNa);});return qa;};d.prototype.hcc=function(A){var C,D,E;C=new XMLHttpRequest();D=A.url;E=A.ecc;C.open("HEAD",D);C.timeout=Math.max(2 * E.y5b,k.config.MCa);C.onreadystatechange=function(){2 === C.readyState && (!1,E && E.oR({url:D}));};C.ontimeout=C.onerror=function(){!1;E && E.$Aa({url:D});};C.send();};d.prototype.VFb=function(A){var C;try{C=A.url;(0,x.zya)(C)?0 === C.indexOf("https")?this.ic.ssl++:0 === C.indexOf("http")?this.ic["non-ssl"]++:this.ic.invalid++:this.ic.invalid++;}catch(D){}};d.prototype.voa=function(A,C){var D;if(!A.headers && C){D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(E){var G;G=oa(E.split(": "));E=G.next().value;G=da(G).join(": ");E && (D[E.toLowerCase()]=G);});A.headers=D;}};b.k1b=l;b.h1b=function(A){var C,D,E,G;C=A.url.split("?");D="bb_reason=" + A.reason;E=A.k2a?"random=" + (1E17 * (0,u.uU)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";A.Dc && !(0,m.rca)(G) && (A=k.config && k.config.gra) && (G=A.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;};b.j1b=h;b.i1b=n;b.lxa=r.wUa;b.l1b=function(){return !1 !== u.lf.onLine;};b.iAb=c;b.hAb=f;b.Ef=new d();b.Hba=1;b.fbb=2;b.m1b=3;b.mxa=4;b.n1b=5;b.jxa=b.Ef.O5.nb;b.kxa=b.Ef.O5.gAb;b.AZ=b.Ef.O5.dJa;mb._cad_global.http=b.Ef;},function(r,b,a){b=a(214);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KH="PlatformConfigDefaultsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VKa="DebugConfigSymbol";b.Sz="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bja="EventSourceSymbol";b.Eja="GlobalEventSourceSymbol";b.W3="DebugEventSourceSymbol";b.jLa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SH="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PM="LoggerSinksSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DH="ManifestFetcherSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(905),b);r.__exportStar(a(906),b);r.__exportStar(a(907),b);r.__exportStar(a(908),b);r.__exportStar(a(909),b);r.__exportStar(a(910),b);r.__exportStar(a(911),b);r.__exportStar(a(912),b);r.__exportStar(a(397),b);r.__exportStar(a(398),b);r.__exportStar(a(913),b);r.__exportStar(a(914),b);r.__exportStar(a(399),b);},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tn=void 0;d=a(0).__importDefault(a(3));l=a(105);r=(function(){function h(n){n=("(").concat(n,")");this.H=new d.default.Console("ASEJS","media|asejs",n);this.coa=[];}h.prototype.Hq=function(n){var c;if(!this.coa[n]){c=("[").concat(n,"]");this.coa[n]=(0,l.ri)(d.default,this.H,c);}return this.coa[n];};return h;})();b.tn=new r(0);},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Fo=void 0;d=a(0);l=d.__importDefault(a(29));h=a(6);n=d.__importDefault(a(3));c=a(1004);r=(function(){function f(g){this.XH=g;this.Fe=[];this.console=new n.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(f,{instance:{get:function(){var g;if(void 0 === f.yv){g=a(3).default;f.yv=new f(g.DM);}return f.yv;},enumerable:!1,configurable:!0}});f.reset=function(){f.yv=void 0;};f.prototype.Kt=function(g,k,m,p,q,v){var t;t=v.qhc?this.oVb(m,k,g,v.rhc):-1;-1 === t?(t={track:this.XOb(m,p,g,q,v),Wi:m,L:k,Jjb:g,yG:[],Un:!1,vJ:!1},this.Fe.push(t),this.kdc(t),g=!1):(g=!0,t=this.Fe[t]);g=new c.PUa(this.console,t.track,t.Un,g);t.yG.push(g);return g;};f.prototype.kdc=function(g){function k(){g.Un=!0;g.track.removeListener("created",k);}g.track.on("created",k);};f.prototype.uJ=function(g){var k,m;g.Mt();k=this.yY(function(p){return p.track === g.track;});if(-1 !== k){if((k=this.Fe[k],1 === k.yG.length))(k.track.Mt(),k.vJ=!0);else {m=k.yG.indexOf(g);0 <= m && k.yG.splice(m,1);}}else g.track.Mt();};f.prototype.Xf=function(){this.XH.Xf();};f.prototype.XOb=function(g,k,m,p,q){var v,t,w,u,y,x;v=this;w=!1;u=t=!1;y=p.qa;g?m === h.u.J?(g=1,q.qj?(u=!0,g=q.SQ):q.Vy && 2 < q.Vy && (u=!0,g=q.Vy),t=y?!!q.O2:q.O2 || !u,t={type:this.XH.J,openRange:t,pipeline:u,connections:g,socketBufferSize:q.hT,minRequestSize:q.QK}):m === h.u.U?(w=q.qj && (q.smc || k && q.tmc),t=y?!!q.O2:q.O2 || !w,t={type:this.XH.U,openRange:t,pipeline:w,connections:1,socketBufferSize:q.Z8,minRequestSize:q.QK}):m === h.u.nb?(t=y?!!q.O2:q.O2 || !q.umc,t={type:this.XH.nb,openRange:t,pipeline:q.qj,connections:1,socketBufferSize:q.Ujc,minRequestSize:q.QK}):t={type:q.HRb?this.XH.J:this.XH.Avb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Ywa,minRequestSize:q.QK}:t={type:m === h.u.U?l.default.ee.U:l.default.ee.J,openRange:!1,pipeline:!1,connections:1,socketBufferSize:m === h.u.U?q.Z8:q.hT,minRequestSize:q.QK};x=new this.XH(t,p);x.qj=u;x.on("transportreport",function(z){var B;B=v.yY(function(A){return A.track === x;});-1 !== B && (B=v.Fe[B],B.yG.length && B.yG[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var B;B=v.yY(function(A){return A.track === x;});-1 !== B && (B=v.Fe[B],B.yG.length && B.yG[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=v.yY(function(B){return B.track === x;});-1 !== z && v.Fe.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.qj=!1;if(y)x.e1(d.__assign(d.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(w && q.rmc || q.zqb)q.zqb && x.config.type === h.u.J?x.e1(d.__assign(d.__assign({},x.config),{socketBufferSize:q.H7b,pipeline:!1,openRange:!0,connections:1})):x.e1(d.__assign(d.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};f.prototype.oVb=function(g,k,m,p){return this.yY(function(q){return !q.vJ && (!p && q.track.config.yxc || !g?!q.Wi && q.Jjb === m:q.Wi && q.L === k && q.Jjb === m);});};f.prototype.yY=function(g){for(var k=0;k < this.Fe.length;++k){if(g(this.Fe[k]))return k;}return -1;};return f;})();b.Fo=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qk=void 0;r=b.Qk || (b.Qk={});r.Un="created";r.yz="started";r.KS="succeeded";r.Wv="failed";r.Uf="cancelled";r.C2a="cancelled_on_start";r.ara="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VH="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bN=b.OH=void 0;r=b.OH || (b.OH={});r.yqc="ident";r.uka="main";r.VJa="credits";b.bN="PlaygraphHelperSymbol";},function(r,b,a){var d,l,h;d=a(40);l=a(619);h=l(d("String.prototype.indexOf"));r.exports=function(n,c){c=d(n,!!c);return "function" === typeof c && -1 < h(n,".prototype.")?l(c):c;};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.h0=b.Yi=void 0;d=a(82);b.Yi=function(l,h){return [].concat.apply([],ia(l)).map(function(n){return Object.assign({name:n},null !== h && void 0 !== h?h:{});});};b.h0=function(l,h){for(var n=[],c=1;c < arguments.length;++c){n[c - 1]=arguments[c];}return (0,d.M5a)(function(f,g){return f.name === g;},l,n);};},function(r,b,a){var d,l,h;d=a(125);l=a(53);h=a(171);r.exports=function(n){return function m(f,g,k){switch(arguments.length){case 0:return m;case 1:return h(f)?m:l(function(p,q){return n(f,p,q);});case 2:return h(f) && h(g)?m:h(f)?l(function(p,q){return n(p,g,q);}):h(g)?l(function(p,q){return n(f,p,q);}):d(function(p){return n(f,g,p);});default:return h(f) && h(g) && h(k)?m:h(f) && h(g)?l(function(p,q){return n(p,q,k);}):h(f) && h(k)?l(function(p,q){return n(p,g,q);}):h(g) && h(k)?l(function(p,q){return n(f,p,q);}):h(f)?d(function(p){return n(p,g,k);}):h(g)?d(function(p){return n(f,p,k);}):h(k)?d(function(p){return n(f,g,p);}):n(f,g,k);}};};},function(r,b,a){var d;d=a(171);r.exports=function(l){return function c(n){return 0 === arguments.length || d(n)?c:l.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tub=b.ym=void 0;r=b.ym || (b.ym={});r[r.GC=0]="playready";r[r.e3=1]="widevine";r[r.hF=2]="fairplay";r[r.ruc=3]="clearkey";b.Tub="DrmTypeSymbol";},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.de=void 0;l=a(26);d.J4a=function(h){var n;n={};n[l.Mf.RU]=d.j4;n[l.Mf.r4]=d.j4;n[l.Mf.mN]=d.Hja;n[l.Mf.KM]=d.KM;n[l.Mf.px]=h || d.px;n[l.Mf.rD]=d.j4;n[l.Mf.QD]=d.$U;n[l.Mf.Il]=d.Il;return n;};b.de=d;d.wAa='video/mp4; codecs="avc1.4d0028"';d.j4="avc1.4d0028";d.Hja="hev1.1.6.L93.B0";d.dja="dvhe.05.01";d.QKa="dvhe.05.04";d.eja="dvhe.05.05";d.fja="dvhe.05.06";d.gja="dvhe.05.07";d.hja="dvhe.05.09";d.px=d.dja;d.KM=d.Hja;d.Xha="mp4a.40.2";d.vA="mp4a.40.42";d.Gtb="ec-3";d.$U="vp09.00.11.08.02";d.Il="av01.0.04M.08";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zLa="DrmServicesSymbol";b.a4="DrmServicesProviderSymbol";},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.RH=void 0;r=a(0);a=a(1);d.prototype.format=function(h,n){var f;for(var c=1;c < arguments.length;++c){;}f=Array.prototype.slice.call(arguments,1);return h.replace(/{(\d+)}/g,function(g,k){return "undefined" != typeof f[k]?f[k]:g;});};d.prototype.Vnb=function(h){for(var n=h.length,c=new Uint16Array(n),f=0;f < n;f++){c[f]=h.charCodeAt(f);}return c.buffer;};d.prototype.Ynb=function(h){return JSON.stringify(h,null,"  ");};l=d;l=r.__decorate([(0,a.$)()],l);b.RH=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.i6=void 0;b.wr={aN:"PRIMARY",aia:"ASSISTIVE",OJa:"COMMENTARY",NONE:"NONE"};b.i6={assistive:b.wr.aia,closedcaptions:b.wr.aia,directorscommentary:b.wr.OJa,commentary:b.wr.OJa,subtitles:b.wr.aN,primary:b.wr.aN,none:b.wr.NONE};},function(r){var g,k,m,p,q,v;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function d(t){if(g === setTimeout)return setTimeout(t,0);if((g === b || !g) && setTimeout)return (g=setTimeout,setTimeout(t,0));try{return g(t,0);}catch(w){try{return g.call(null,t,0);}catch(u){return g.call(this,t,0);}}}function l(t){if(k === clearTimeout)return clearTimeout(t);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(t));try{return k(t);}catch(w){try{return k.call(null,t);}catch(u){return k.call(this,t);}}}function h(){p && q && (p=!1,q.length?m=q.concat(m):v=-1,m.length && n());}function n(){var t;if(!p){t=d(h);p=!0;for(var w=m.length;w;){q=m;for(m=[];++v < w;){q && q[v].rz();}v=-1;w=m.length;}q=null;p=!1;l(t);}}function c(t,w){this.xWb=t;this.$A=w;}function f(){}r=r.exports={};g="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;m=[];p=!1;v=-1;r.txc=function(t){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var u=1;u < arguments.length;u++){w[u - 1]=arguments[u];}m.push(new c(t,w));1 !== m.length || p || d(n);};c.prototype.rz=function(){this.xWb.apply(null,this.$A);};r.title="browser";r.Ytc=!0;r.nY={};r.Htc=[];r.version="";r.vzc={};r.on=f;r.addListener=f;r.once=f;r.Ew=f;r.removeListener=f;r.removeAllListeners=f;r.emit=f;r.Q0=f;r.CCa=f;r.listeners=function(){return [];};r.Utc=function(){throw Error("process.binding is not supported");};r.Buc=function(){return "/";};r.muc=function(){throw Error("process.chdir is not supported");};r.mzc=function(){return 0;};},function(r,b,a){var h,n,c,f,g,k,m;function d(p){return p && "function" === typeof p.Oi?!0:!1;}function l(p){return d(p) && (p=typeof p.Y2b,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Etb=b.pUb=b.X2b=b.msb=b.AsyncIterator=void 0;h=a(0);n=a(9);f=(function(){function p(q){var v;v=this;this.oCb=q;this.GV=!1;this.BEb=function(t){return v.occ(t);};this.j4a();}p.U3b=function(q,v){function t(){var w;w=q.next();w.then(function(u){l(q) && q.Y2b || v(u);});w.then(function(u){return !u.done && t();});}t();};Object.defineProperties(p.prototype,{au:{get:function(){return this.GV;},enumerable:!1,configurable:!0}});p.w9a=function(){return new g([]);};p.xwa=function(){c || (c=Promise.resolve({done:!0}));return c;};Object.defineProperties(p.prototype,{wQ:{get:function(){return this.An || !1;},enumerable:!1,configurable:!0}});p.prototype.Oi=function(){this.cancel();};p.prototype.cancel=function(){this.GZa();this.An=!0;return this.Pma;};p.prototype.next=function(){return this.An?this.Pma:Promise.race([this.Pma,this.oCb()]).then(this.BEb);};p.prototype.occ=function(q){q.done && (this.GV=!0,this.Oi());this.wQ || (this.GZa(),this.j4a());return q;};p.prototype.j4a=function(){var q;q=this;this.Pma=new Promise(function(v){q.GZa=function(){v({done:!0});};});};return p;})();b.AsyncIterator=f;g=(function(p){function q(v){var t;t=p.call(this,function(){return t.bZb();}) || this;t.$A=v;t.index=0;return t;}h.__extends(q,p);q.prototype.Oi=function(){d(this.$A) && this.$A.Oi();p.prototype.Oi.call(this);};q.prototype.bZb=function(){return this.$A.length > this.index?Promise.resolve({value:this.$A[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.msb=g;b.X2b=d;b.pUb=l;k=(function(p){function q(v,t,w){var u;u=p.call(this,function(){return u.NAa();}) || this;u.console=t;u.Em=w;u.SCa=!1;Array.isArray(v)?u.UV=new g(v):u.UV=v;return u;}h.__extends(q,p);q.prototype.qcc=function(v){var t;this.SCa=!1;t=this.console;n.M && t && t.trace("CompoundIterator: processNextOuterIterator");if(v.done)return v;v=v.value;if(this.UN)return (d(v) && v.Oi(),f.xwa());Array.isArray(v)?this.Em=new g(v):this.Em=v;return this.NAa();};q.prototype.pcc=function(v){var t;t=this.console;n.M && t && t.trace("CompoundIterator: processNextInnerResult",this.UN,v.done);if(!v.done || this.UN)return v;this.Em=void 0;return this.NAa();};q.prototype.Oi=function(){var v;v=this.console;n.M && v && v.trace("CompoundIterator: dispose");this.UN=!0;p.prototype.Oi.call(this);d(this.UV) && this.UV.Oi();d(this.Em) && this.Em.Oi();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.UN," ").concat(this.UV," ").concat(this.Em);};q.prototype.NAa=function(){var v,t;v=this;t=this.console;n.M && t && t.trace("CompoundIterator: nextImpl");if(this.Em)return (n.M && t && t.trace("CompoundIterator: getNextInner"),this.Em.next().then(function(w){return v.pcc(w);}));this.SCa=!0;n.M && t && t.trace("CompoundIterator: getNextOuter");return this.UV.next().then(function(w){return v.qcc(w);});};return q;})(f);b.Etb=k;b.map=function(p,q,v){return new m(p,q,v);};m=(function(p){function q(v,t,w){var u;u=p.call(this,function(){return u.$Bb();}) || this;u.source=v;u.Pza=t;u.Vra=w;return u;}h.__extends(q,p);q.prototype.Oi=function(){d(this.source) && this.source.Oi();p.prototype.Oi.call(this);};q.prototype.$Bb=function(){var v,t,w;v=this.Vra;t=this.Pza;w=this.source;n.M && v && v.trace("MappedIterator: Requesting next");return w.next().then(function(u){return u.done?u:t(u.value);});};return q;})(f);b.flatten=function(p,q,v){return new k(p,q,v);};},function(r,b,a){(function(d){var h,n,c,f,g,k;function l(m,p){return m - p;}Object.defineProperties(b,{__esModule:{value:!0}});b.yvb=b.RJ=void 0;h=a(0);n=a(9);c=h.__importDefault(a(3));f="gctag" === d.nY.wvb;b.RJ=function(m,p){var q;if(!f)return m;q=new k(m.name,p);return (function(v){function t(){for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}w=v.apply(this,h.__spreadArray([],h.__read(w),!1)) || this;w.z8a=q.cPb(w);return w;}h.__extends(t,v);return t;})(m);};k=(function(){function m(p,q){this.name=p;this.Vra=q;this.GF=[];this.A2b=0;}Object.defineProperties(m,{console:{get:function(){g || (g=new c.default.Console("GCTAGGER"));return g;},enumerable:!1,configurable:!0}});m.prototype.cPb=function(p){var q,v;if(f){q=this.Vra;q || (q=m.console);if(!p.z8a && "undefined" !== typeof nrdp){p={type:this.name,id:this.A2b++};this.GF.push(p.id);v=JSON.stringify(p);v=nrdp.z8a(v,(function(t,w,u,y){t.GF.splice(t.GF.indexOf(w),1);t.GF=t.GF.sort(l);for(var x=[],z=0;z < t.GF.length && 5 > z;z++){x.push(t.GF[z]);}null === y || void 0 === y?void 0:y.error(("Removing instance for ").concat(u,"/").concat(w,". ") + ("").concat(t.GF.length," remaining, earliest: ").concat(x,"}"));}).bind(null,this,p.id,p.type,q));n.M && q && q.info("Creating tagged instance",p);return v;}}};return m;})();b.yvb=k;}).call(this,a(131));},function(r,b,a){(function(d,l){function h(n,c,f,g){this.console=new n("ASEJS_PROGRESS","media|asejs");this.now=c;this.fmb=this.vic=n=this.now();this.I$=n + f;this.qac=f;this.b5a=n + g;this.debug=!1;this.counter=this.nC=0;this.qy=1E4;this.Kob=f / 100;this.Mob=n;this.Lob=1 * this.Kob / 4;this.Yga=0;this.JX="";this.Jg(n,"progress tracking start");}h.prototype.constructor=h;h.prototype.Jg=function(n,c){var f,g;f=((n - this.fmb) / 1E3).toFixed(3);f=("     ").slice(f.length - 4) + f;g=d.g7b();this.console.info(f + (" " + ((this.b5a - n) / 1E3).toFixed(3)) + (" " + Math.round(this.qy)) + (" M:(" + Math.floor(g.Yvc / 1024 / 1024) + " MB/" + Math.floor(g.Xab / 1024 / 1024) + " MB) ") + this.JX + c);};h.prototype.lFb=function(n){var c;c=this.now();this.JX=n?n + ": ":n;this.nC=0;this.fmb=c;this.Jg(c,"starting");};h.prototype.RFb=function(n){var c,f;this.counter++;if(!(this.counter < this.qy)){this.counter=0;c=this.now();f=c - (this.Mob + this.Kob);this.Mob=c;this.Yga=.9 * this.Yga + .1 * f;this.Yga > this.Lob?(this.qy*=.875,this.qy=Math.max(1,this.qy)):this.Yga < -this.Lob && (this.qy*=1.5,this.qy=Math.min(this.qy,1E5));if(c >= this.b5a)throw (this.Jg("Execution deadline exceeded after " + (c - this.vic) + " ms" + this.JX),Error("Execution deadline exceeded" + this.JX));f=d.g7b();this.nC=Math.max(this.nC,f.Xab);if(7516192768 < f.Xab)throw Error("Heap total limit exceeded" + this.JX);if(!(c <= this.I$)){for(;c > this.I$;){this.I$+=this.qac;}this.Jg(c,n);}}};h.oa=function(n,c,f,g){l.wG=new h(n,c,f || 5E3,g || 33E5);};h.TEa=function(n){l.wG && l.wG.lFb(n);};h.update=function(n){l.wG && l.wG.RFb(n);};h.i$a=function(){if(l.wG)return l.wG.nC;};h.now=function(){return l.wG?l.wG.now():Date.now();};r.exports=h;}).call(this,a(131),a(213));},function(r){var b;b={FZ:function(a){for(var d in a){a.hasOwnProperty(d) && (b[d]=a[d]);}}};r.exports=b;},function(r,b,a){var c,f;function d(g){return g instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(g);}function l(g){return c.Tg(g);}function h(g){return c.Pa(g);}function n(g){return !d(g) && !l(g) && !h(g) && !Array.isArray(g) && c.vk(g);}c=a(13);f={oH:0,W5:1,yxb:2,u5:3,Ko:4};r.exports={Ewa:function(g){return d(g)?f.oH:l(g)?f.W5:h(g)?f.yxb:n(g)?f.u5:f.Ko;},bca:d,Tg:l,Pa:h,vk:n,Ys:f};},function(r,b,a){(function(d){var c,f,g,k,m,p,q,v,t,w;function l(u,y){var x,z,B,A;A=u.$c.na.T[y];A && A.tc && u.$c.Le && (A=Number(A.tc.replace(":main","")),(y=(0,v.TJ)(y)) && (B=null === (z=null === (x=u.$c.Le.Ng.yf[A]) || void 0 === x?void 0:x[y.Im]) || void 0 === z?void 0:z.dx));return B;}function h(u,y,x,z){var B;return y === p.ux.VX?(y=f.O.Oa,(null === z || void 0 === z?void 0:z.tyc) === w.end && (y=f.O.Na(null !== (B=x.$c.na.T[u].Aa) && void 0 !== B?B:0),(0,g.assert)(0 < y.Z,"EndTime must be non null")),x.mi.XE({offset:y,S:u}).S):x.mi.ex({offset:f.O.Oa,S:u}).S;}function n(u,y,x){return y === p.ux.UGa?x.mi.ex(u):x.mi.XE(u);}Object.defineProperties(b,{__esModule:{value:!0}});b.fz=void 0;c=a(0);f=a(20);g=a(2);k=a(1142);m=a(281);p=a(199);q=a(258);v=a(200);t=a(1147);m=(0,m.slb)();k=(0,k.h2a)()({Keb:"combinedPlaygraph",fS:{Ti:m()({map:n,hB:t.Hcb}),tf:m()({map:function(u,y,x,z){var B;B=(null === z || void 0 === z?0:z.Ns)?(0,t.Oaa)(u,z.Ns):u.position;y=n(B,y,x);u=(0,t.F9)(u,null === z || void 0 === z?void 0:z.Ns);(null === z || void 0 === z?0:z.Ns)?(0,t.qmb)(u,z.Ns,y):u.position=y;return u;},hB:function(u,y,x){return (null === x || void 0 === x?0:x.Ns)?(0,t.Oaa)(u,x.Ns):(0,t.tf)(u);}}),EHa:m()({map:function(u,y,x,z){if(y === p.ux.VX)return u.inner;y=(0,t.F9)(u,null === z || void 0 === z?void 0:z.Ns);y.inner || (y.inner=u,"gctag" === d.nY.wvb && (y.gctag=void 0));return y;},hB:function(u,y,x){return (null === x || void 0 === x?0:x.Ns)?"object" === typeof (0,t.Oaa)(u,x.Ns):"object" === typeof u;}}),S:m()({map:h,hB:t.Ncb}),B1:m()({map:function(u,y,x,z){var B,A;A=null !== (B=u.S) && void 0 !== B?B:u.segmentId;y=h(A,y,x,z);return u.S?c.__assign(c.__assign({},u),{S:y}):c.__assign(c.__assign({},u),{segmentId:y});},hB:t.Mab}),W3a:m()({map:function(u,y,x){y === p.ux.VX?(u=(0,q.xX)(x.$c.na,u.N,u.Ht,{Ilb:!0}),(0,g.assert)(void 0 !== u,"Graph position must exist in ux playgraph"),u=x.mi.XE(u),y=u.S,u=u.offset,y=x.sb.na.T[y],x=y.N,y=y.Ba,u=f.O.Na(y).add(u)):(u=(0,q.xX)(x.sb.na,u.N,u.Ht,{Ilb:!0}),(0,g.assert)(void 0 !== u,"Graph position must exist in combined playgraph"),u=x.mi.ex(u),y=u.S,u=u.offset,y=x.$c.na.T[y],x=y.N,y=y.Ba,u=f.O.Na(y).add(u));return {Ht:u,N:x};},hB:t.ncb}),wqa:m()({hB:t.jcb,map:function(u,y,x){var z,B,A,C,D;if(y === p.ux.VX){y={S:u.G.id,offset:f.O.Oa};A=x.mi.XE(y);y=x.sb.na.T[A.S];x=x.$c.na.T[u.G.id];C=y.Aa;D=y.Ba;C=null !== (z=C && C - D) && void 0 !== z?z:0;x=u.Ud.add(f.O.Na(y.Ba - x.Ba));return {Ud:x,oG:u.Cs.add(f.O.Na(C)),Cs:u.Cs,G:{id:A.S,xf:f.O.Na(y.Ba),Eh:f.O.Na(null !== (B=y.Aa) && void 0 !== B?B:0)}};}y={S:u.G.id,offset:f.O.Oa};B=x.mi.ex(y);D=x.Qxa.c0;y=D.T[u.G.id];A=x.$c.na.T[B.S];z=f.O.Na(null !== (C=A.Aa && A.Aa - A.Ba) && void 0 !== C?C:0);A.Aa && Infinity !== A.Aa || (C=x.mi.CYb(B),D=D.T[C],D.Aa && (z=x.mi.ex({S:C,offset:f.O.Na(D.Aa - D.Ba)}).offset));C=u.Cs.Fa(B.offset);D=C.add(z);x=u.Ud.add(f.O.Na(A.Ba - y.Ba));u=f.O.Na(A.Ba);y=z.add(u);return {Ud:x,oG:D,Cs:C,G:{id:B.S,xf:u,Eh:y}};}}),aJb:m()({hB:function(u){return "segmentPresenting" === u.type;},map:function(u,y,x){var z;u=(0,t.F9)(u);if(y=u.metrics){z=l(x,y.destPosition.S);void 0 !== z && (u.metrics.adBreakLocationMs=z);z=l(x,y.srcStartPosition.S);void 0 !== z && (u.metrics.srcadBreakLocationMs=z);}return u;}})}});(function(u){u[u.Ttc=0]="beginning";u[u.end=1]="end";})(w || (w={}));b.fz=k;}).call(this,a(131));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SM="ManifestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oyb=b.Gub=b.WKa=void 0;r=b.WKa || (b.WKa={});r.Wrc="PboDebugEvent";r.Zrc="PlaygraphEvent";b.Gub={Tqc:"Manifest",Event:"Event",Fqc:"Logblob"};b.Oyb={Vsc:"UX",dpc:"Combined_1",epc:"Combined_2"};},function(r,b){var d;function a(l,h){var n;n=this;this.tna=[];d.forEach(function(c){(c=c(l,h)) && n.tna.push(c);});}Object.defineProperty(b,"__esModule",{value:!0});b.xU=b.HQa=void 0;d=[];a.prototype.ZC=function(l){var c;for(var h=[],n=this.tna.length;n--;){c=this.tna[n];c.ZC(l) && h.push(c.Z$);}if(h.length)return h;};b.HQa=a;b.xU=function(l){d.push(l);};},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x;function d(z){var B,A;B=this;this.Jea=new x.zla();this.createPlaygraphPlayer=function(C,D,E){var G;C=t.Dla.encode(C);G=c.Ga.get(w.SM);E=E?G.create(E):void 0;G=c.Ga.get(p.Fla).create(C);return G.BPb(C.ke,B.Jea.Oza(B.v1a(D,G.pva())),E);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,n.vla)(C);};this.init=function(C){B.yE.s_(function(D){D.ja?B.ggc().then(function(){(0,l.ZSa)();}).catch(function(E){c.log.error("Unable to initialize the playdata services",E);}).then(function(){Object.assign(B,d.GO);C(Object.assign({success:!0},d.GO));}):C({success:!1,error:(0,c.BTa)(D.errorCode || g.aa.Tja,D)});});};this.applyConfig=function(C){B.Wpb(C);(0,h.Wra)(C);};this.prepare=function(C,D){var E;C=B.Zib.pRb(C) || [];E=new Set();C=C.filter(function(G){var F;F=E.has(G.L);E.add(G.L);return !F;});if(h.config.wu && B.Jd)try{B.Jd.mL(C,D);}catch(G){c.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){mb._cad_global.playerPredictionModel?(C=B.Zib.rRb(C)) && mb._cad_global.playerPredictionModel.update(C):c.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,c.TP)().j2().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,c.TP)().k2().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,c.TP)().h2().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,c.TP)().Uga().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return h.config.pTb;};this.Wpb(z);c.Ga.get(y.vIa);this.Zib=c.Ga.get(f.aTa);this.yE=c.Ga.get(v.xj);A=c.Ga.get(u.WSa).apply();(0,h.O3a)([z],A);this.Jd=c.Ga.get(q.VH);(0,c.TP)().k2();}Object.defineProperty(b,"__esModule",{value:!0});b.WH=void 0;l=a(305);h=a(19);n=a(64);c=a(10);f=a(552);g=a(4);k=a(33);m=a(151);p=a(312);q=a(120);v=a(34);t=a(38);w=a(138);u=a(333);y=a(527);x=a(600);d.prototype.v1a=function(z,B){var A,C,D,E;z=void 0 === z?{}:z;E=null !== (C=null === (A=z.playbackState) || void 0 === A?void 0:A.currentTime) && void 0 !== C?C:B.Ba;return Object.assign(Object.assign({startPts:E,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=B.Aa) && void 0 !== D?D:void 0,isPlaygraph:!0});};d.prototype.Wpb=function(z){c.Ga.get(k.iU).h7b(z);};d.prototype.ggc=function(){c.Ga.get(m.KU)().catch(function(z){c.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){c.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.WH=d;d.GO={};},function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},function(r,b,a){var f;function d(g){return "function" === typeof g?g.name:"symbol" === typeof g?g.toString():g;}function l(g,k){return null === g.CC?!1:g.CC.Lh === k?!0:l(g.CC,k);}function h(g){function k(m,p){var q;void 0 === p && (p=[]);q=d(m.Lh);p.push(q);return null !== m.CC?k(m.CC,p):p;}return k(g).reverse().join(" --\x3e ");}function n(g){g.tra.forEach(function(k){if(l(k,k.Lh))throw (k=h(k),Error(f.jtb + " " + k));n(k);});}function c(g){var k;if(g.name)return g.name;g=g.toString();k=g.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + g;}Object.defineProperty(b,"__esModule",{value:!0});f=a(55);b.dQ=d;b.Udb=function(g,k,m){var p;p="";g=m(g,k);0 !== g.length && (p="\nRegistered bindings:",g.forEach(function(q){var v;v="Object";null !== q.ao && (v=c(q.ao));p=p + "\n " + v;q.lJ.Cfb && (p=p + " - " + q.lJ.Cfb);}));return p;};b.LLb=n;b.H4b=function(g,k){var m,p;if(k.vya() || k.iya()){m="";p=k.$Yb();k=k.DXb();null !== p && (m+=p.toString() + "\n");null !== k && k.forEach(function(q){m+=q.toString() + "\n";});return " " + g + "\n " + g + " - " + m;}return " " + g;};b.getFunctionName=c;},function(r,b,a){var l,h,n,c;function d(f,g){var k,m,p,q,v,t;k=f.lC;m=f.dR;f=f.xR;p=g.lC;q=g.dR;g=g.xR;v=void 0 === k || void 0 === p;t=v || void 0 === m || void 0 === q;return v || k > p || k === p && (t || m > q) || k === p && m === q && (t || void 0 === f || void 0 === g || f >= g);}Object.defineProperty(b,"__esModule",{value:!0});b.RP=b.SP=b.O3b=b.RZ=b.WZ=void 0;l=a(5);h=a(73);n=a(42);c=a(123);b.WZ=function(f,g,k,m){return d({lC:f.s$b,dR:f.t$b,xR:f.u$b},{lC:g,dR:k,xR:m});};b.RZ=function(f,g){return d({lC:f.sq},{lC:g});};b.O3b=d;b.SP=function(){return {version:"6.0039.753.911",Ida:!0,PP:!0,Xsa:"browser",r5a:["en-US"],uza:"",PX:"cadmium",Hqb:!0,z8:!0};};b.RP=function(){return {TI:(0,c.Yi)([n.oe.sH,n.oe.tH]),Do:(0,c.Yi)([].concat(ia(n.Rd.D3),ia(n.Rd.n3),ia(n.Rd.Yha))),hu:(0,c.Yi)([].concat(ia(n.Rd.m3))),co:h.Ab.t6,mC:(0,l.Vb)(31E3)};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wU="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.f6=b.vr=void 0;b.vr=function(){};b.f6="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aWa="SystemRandomSymbol";b.P5="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MU="PlayerErrorFactorySymbol";},function(r){var d,l;function b(){var h,n;if(DataView.prototype && DataView.prototype.lZ && !l){try{h=new ArrayBuffer(4);n=new DataView(h);n.iQ(0,4,1);}catch(c){return;}try{h=new ArrayBuffer(4);n=new DataView(h);n.iQ(1,2,2);}catch(c){DataView.prototype.iQ=a(DataView.prototype.iQ,DataView.prototype.getUint8,Uint8Array);DataView.prototype.kba=a(DataView.prototype.kba,DataView.prototype.getUint16,Uint16Array);DataView.prototype.lZ=a(DataView.prototype.lZ,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Hva=a(DataView.prototype.Hva,DataView.prototype.getInt8,Int8Array);DataView.prototype.Fva=a(DataView.prototype.Fva,DataView.prototype.getInt16,Int16Array);DataView.prototype.Gva=a(DataView.prototype.Gva,DataView.prototype.getInt32,Int32Array);}d.K_b=function(c,f,g,k,m){return g?c.iQ(f,g,k || 1,m):new Uint8Array(0);};d.I_b=function(c,f,g,k,m){return g?c.kba(f,g,k || 2,m):new Uint16Array(0);};d.J_b=function(c,f,g,k,m){return g?c.lZ(f,g,k || 4,m):new Uint32Array(0);};d.Kvc=function(c,f,g,k,m){return g?c.Hva(f,g,k || 1,m):new Int8Array(0);};d.Ivc=function(c,f,g,k,m){return g?c.Fva(f,g,k || 2,m):new Int16Array(0);};d.Jvc=function(c,f,g,k,m){return g?c.Gva(f,g,k || 4,m):new Int32Array(0);};l=!0;}}function a(h,n,c){return function(f,g,k,m){var p;k=k || c.BYTES_PER_ELEMENT;if(f + g * k > this.byteLength){p=new c(g);p.set(h.call(this,f,g - 1,k,m));p[g - 1]=n.call(this,f + (g - 1 * k),m);return p;}return h.call(this,f,g,k,m);};}d={iQ:function(h,n,c,f,g){var k;k=new Uint8Array(c);f=f || 1;for(var m=0;m < c;(++m,n+=f)){k[m]=h.getUint8(n,g);}return k;},kba:function(h,n,c,f,g){var k;k=new Uint16Array(c);f=f || 2;for(var m=0;m < c;(++m,n+=f)){k[m]=h.getUint16(n,g);}return k;},lZ:function(h,n,c,f,g){var k;k=new Uint32Array(c);f=f || 4;for(var m=0;m < c;(++m,n+=f)){k[m]=h.getUint32(n,g);}return k;},Hva:function(h,n,c,f,g){var k;k=new Int8Array(c);f=f || 1;for(var m=0;m < c;(++m,n+=f)){k[m]=h.getInt8(n,g);}return k;},Fva:function(h,n,c,f,g){var k;k=new Int16Array(c);f=f || 2;for(var m=0;m < c;(++m,n+=f)){k[m]=h.getInt16(n,g);}return k;},Gva:function(h,n,c,f,g){var k;k=new Int32Array(c);f=f || 4;for(var m=0;m < c;(++m,n+=f)){k[m]=h.getInt32(n,g);}return k;},svc:b};l=!1;d.KXb=function(){return l;};b();r.exports=d;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(246);r=(function(){function h(n,c,f){this.tag=n;this.view=c;this.R=f;this.startOffset=f.offset;}h.Rjb=function(n,c,f){var g,k;g=n.Od();k=n.Ycc();n=new (l.kP[g] || h)(g,n.m9a(k),n);n.parse(c,f);return n;};Object.defineProperties(h.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});h.prototype.parse=function(){this.R.offset=this.startOffset + this.length;this.R.Yd=0;return !0;};h.prototype.E7a=function(n){var c;c=[];this.tag === n && c.push(this);if(this.kP)for(var f=0;f < this.kP.length;f++){c=d.__spreadArrays(c,this.kP[f].E7a(n));}return c;};h.prototype.Eq=function(n){for(n=this.E7a(n);0 < n.length;){return n[0];}};h.prototype.VZa=function(n){for(this.kP=[];this.R.offset < this.startOffset + this.length;){this.kP.push(h.Rjb(this.R,n,this));}};return h;})();b.pja=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KSa="PboPlaydataServicesSymbol";b.KU="PboPlaydataServicesProviderSymbol";},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fj=b.b6=void 0;d=a(20);(function(c){c[c.absolute=0]="absolute";c[c.okb=1]="relative";})(l=b.b6 || (b.b6={}));n=(function(){function c(f,g){this.type=f;this.timestamp=g;}c.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(c,{Oa:{get:function(){h || (h=new c(l.okb,d.O.Oa));return h;},enumerable:!1,configurable:!0}});return c;})();r=(function(){function c(){}c.mD=function(f){return new n(l.absolute,f);};Object.defineProperties(c,{mnc:{get:function(){return n.Oa;},enumerable:!1,configurable:!0}});c.fH=function(f){return new n(l.okb,f);};c.zHa=new n(l.absolute,d.O.Zt);return c;})();b.fj=r;},function(r,b,a){function d(l,h){this.tO=l;this.cl=Math.floor((l + h - 1) / h);this.fe=h;this.reset();}a(2);d.prototype.shift=function(){this.se.shift();this.$x.shift();};d.prototype.Vq=function(l){return this.o2a(this.se[l],l);};d.prototype.update=function(l,h){this.se[l]=(this.se[l] || 0) + h;};d.prototype.push=function(){this.se.push(0);this.$x.push(0);this.Bb+=this.fe;};d.prototype.add=function(l,h,n){var c,f,g;if(null === this.Bb){c=Math.max(Math.floor((n - h + this.fe - 1) / this.fe),1);for(this.Bb=h;this.se.length < c;){this.push();}}for(;this.Bb <= n;){this.push();this.se.length > this.cl && this.shift();}if(null === this.Zp || h < this.Zp)this.Zp=h;if(h > this.Bb - this.fe)this.update(this.se.length - 1,l);else if(h == n)(c=this.se.length - Math.max(Math.ceil((this.Bb - n) / this.fe),1),0 <= c && this.update(c,l));else for(c=1;c <= this.se.length;++c){f=this.Bb - c * this.fe;g=f + this.fe;if(!(f > n)){if(g < h)break;this.update(this.se.length - c,Math.round(l * (Math.min(g,n) - Math.max(f,h)) / (n - h)));}}for(;this.se.length > this.cl;){this.shift();}};d.prototype.start=function(l){null === this.Zp && (this.Zp=l);null === this.Bb && (this.Bb=l);};d.prototype.stop=function(l){var h,n;if(null !== this.Bb)if(l - this.Bb > 10 * this.tO)this.reset();else {for(;this.Bb <= l;){this.push();this.se.length > this.cl && this.shift();}h=this.se.length - Math.ceil((this.Bb - this.Zp) / this.fe);n=this.se.length - Math.ceil((this.Bb - l) / this.fe);if(0 <= n)if((0 > h && (this.Zp=this.Bb - this.fe * this.se.length,h=0),h === n))this.$x[h]+=l - this.Zp;else if(n > h)for((this.$x[h]+=(this.Bb - this.Zp) % this.fe,this.$x[n]+=this.fe - (this.Bb - l) % this.fe,l=h + 1);l < n;++l){this.$x[l]=this.fe;}this.Zp=null;}};d.prototype.o2a=function(l,h){h=this.Xua(h);return 0 === h?null:8 * l / h;};d.prototype.Xua=function(l){var h;h=this.$x[l];null !== this.Zp && (l=this.Bb - (this.se.length - l - 1) * this.fe,l > this.Zp && (h=l - this.Zp <= this.fe?h + (l - this.Zp):this.fe));return h;};d.prototype.get=function(l,h){var n,c;n=this.se.map(this.o2a,this);if("last" === l)for(l=0;l < n.length;++l){null === n[l] && (n[l]=0 < l?n[l - 1]:0);}else if("average" === l){h=1 - Math.pow(.5,1 / ((h || 2E3) / this.fe));for(l=0;l < n.length;++l){null === n[l]?n[l]=Math.floor(c || 0):c=void 0 !== c?h * n[l] + (1 - h) * c:n[l];}}return n;};d.prototype.reset=function(){this.Gna || (this.se=[],this.$x=[],this.Zp=this.Bb=null);};d.prototype.setInterval=function(l){this.cl=Math.floor((l + this.fe - 1) / this.fe);};r.exports=d;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});d=a(0);l=d.__importStar(a(13));r=a(11);h=d.__importDefault(a(153));n=d.__importDefault(a(421));c=a(956);f=a(422);g=a(957);k=a(959);m=a(3).default;p=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(v){function t(w,u,y){var x;x=v.call(this) || this;x.Hn={};x.dW=0;x.bE=0;x.cV=[];x.Dm=0;x.stc=!1;x.K=y;x.hYa=new n.default(y);x.uV=new g.yja(!0);x.bV=new g.yja(!1);y.N6a && (x.cO=new k.VRa(x.K));x.reset();x.sZa=w;x.Nl=u;x.NYa=m.Uq.name();x.Nl.mga(x.NYa);m.events.on("networkchange",x.G9b.bind(x));return q=x;}d.__extends(t,v);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.G9b=function(w){this.NYa=w;this.Nl.mga(w);};Object.defineProperties(t.prototype,{zk:{get:function(){return this.Nl;},enumerable:!1,configurable:!0}});t.prototype.Vpb=function(){var w;if(!this.Uoa){w=this.fab();this.Nl.NI(w.default.ya,this.confidence);w["initial-throughput-ewma"] && w["initial-throughput-ewma"].ya && this.Nl.LI(w["initial-throughput-ewma"].ya);w["throughput-ci"] && this.Nl.OI(w["throughput-ci"]);w.deliverytime && this.Nl.zO(w.deliverytime);this.Nl.mM(w.pw?w.pw.Dea:void 0,w.pw?w.pw.tfc:void 0);l.yb(this.ed) || (this.Uoa=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.xh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.Hn.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ej:{get:function(){return this.rN;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{S_a:{get:function(){return this.cV;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{p4b:{get:function(){return this.QYa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.nI;},enumerable:!1,configurable:!0}});t.prototype.kBb=function(){var w,u,y,x;w=this.K;u=w.ABb.concat(w.KBb);y=w.sna;x=this.hYa;u=u.reduce(function(z,B){z[B]=x.create(B,y);return z;},{});u.confidence=new f.fla(w,new c.dRa(w,this.hea.bind(this)));return u;};t.prototype.reset=function(){var w,u,y,x;w=this.K.sna;u=this.hYa;y=this.K;this.nI=null;this.Hn=this.kBb();if(this.K.Q6a){x=this.K.Eob;this.Hn.ekc=new h.default(x.numB * x.bSizeMs,x.bSizeMs);}this.uV.reset();this.bV.reset();this.QA=u.create("respconn-ewma",w);this.GA=u.create("respconn-ewma",w);this.cO && this.cO.reset();this.TFb=this.Vpb.bind(this);this.h8=void 0;this.HA=this.ed=this.xh=null;this.c8=0;y.Ykb && (this.bE=this.dW=this.rN=0,this.cV=[]);};t.prototype.M1=function(w){var u;u=this.Hn;if(w !== this.nI){l.xa(this.h8) || (clearInterval(this.h8),this.h8=void 0);l.yb(this.nI) && (this.c8=0,this.xh=null);if(!l.yb(w)){for(var y in u){u[y] && u[y].reset && u[y].reset();}this.QA.reset();this.GA.reset();}l.yb(this.xh) || (this.c8+=(l.yb(this.ed)?m.time.fa():this.ed) - this.xh);this.ed=this.xh=null;this.nI=w;this.Nl.M1(w);}};t.prototype.mga=function(w){this.Nl.mga(w);};t.prototype.RGb=function(w){this.Hn.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.Hn.QoEEvaluator=w;};t.prototype.aec=function(){delete this.Hn.QoEEvaluator;};t.prototype.vE=function(w,u,y,x){var z,B;this.QYa=Math.max(this.QYa || 0,y);this.bE-=w;z=this.K;B=this.Hn;if(!0 === x.oT)(x=B["throughput-wssl"]) && x.add(w,u,y,!0);else if(l.xa(u))p.warn("addDataReceived called with undefined start time");else {this.cO && this.cO.vE(w,u,y,x);z.JBb && 10 > y - u?u=y - 10:0 === y - u && (u=y - 1);this.uV.vE(w,u,y,x);this.bV.vE(w,u,y,x);for(var A in B){B[A] && B[A].add && B[A].add(w,u,y,x);}l.yb(this.xh) && (this.xh=u,this.ed=null,this.Uoa=!1);l.yb(this.ed) || (u > this.ed && (this.xh+=u - this.ed),this.ed=null,this.Uoa=!1);l.yb(this.HA) || (u - this.HA > z.tZa?this.sZa.$bb(this.HA,u):y - u > z.tZa && this.sZa.$bb(u,y));this.HA=this.HA?Math.max(y,this.HA):y;}};t.prototype.XA=function(w){this.QA.add(w);this.Nl.XA(w);};t.prototype.WA=function(w){this.GA.add(w);this.Nl.WA(w);};t.prototype.start=function(w,u){var y;l.yb(this.HA) && !l.yb(this.ed) && (this.HA=w);y=this.Hn;if(this.K.IFa)for(var x in y){y[x] && y[x].start && y[x].start(w,u);}};t.prototype.stop=function(w,u){var y,x;y=this.Hn;for(x in y){y[x] && y[x].stop && y[x].stop(w,u);}this.ed=l.yb(this.ed)?w:Math.min(this.ed,w);this.HA=null;};t.prototype.flush=function(){var w,u;w=this.Hn;for(u in w){w[u] && w[u].flush && w[u].flush();}};t.prototype.y9a=function(){var w,u;w=this.Hn.kvc;if(w){u=w.oKb();w.reset();}return u;};t.prototype.fab=function(){var w,u,y,x,z,B,A,C;w=m.time.fa();u=this.Hn;y=this.K;x=y.qBb;z=y.rBb;B=y.fFb;A={};for(C in u){u[C] && u[C].get && (A[C]=u[C].get(w,this.bE),"iqr" === u[C].type && (A.pw=A[C]),"tdigest" === u[C].type && (A.rh=A[C]),"wssl" === u[C].type && (A.oT=A[C]));}A.cdnavtp=this.uV.up();A.activecdnavtp=this.bV.up();A.default=x && A[x] && z && void 0 !== A[x][z]?{ya:A[x][z]}:x && A[x]?A[x]:A["throughput-ewma"];"none" !== y.zEa && "none" !== B && (A.Klb=B && A[B]?A[B]:A["throughput-sw"]);return A;};t.prototype.Yaa=function(){return this.cO?this.cO.Yaa():void 0;};t.prototype.get=function(){var w,u,y,x,z,B;w=this.fab();u=w.default;y=this.QA.get();x=this.GA.get();z=this.K;if(w.Klb){B=w.Klb;u=l.Pa(u.ya) && l.Pa(B.ya) && u.ya > B.ya && 0 < B.ya?B:u;}w.Za=u;w.LZ=w["initial-throughput-ewma"];!z.xTb || !u || l.yb(u.ya) || isNaN(u.ya) || !w.oT || l.yb(w.oT.ya) || isNaN(w.oT.ya) || ("max" === z.srb?w.Za.ya=Math.max(w.oT.ya,u.ya):"sum" === z.srb && (w.Za.ya+=w.oT.ya));w.vl=y;w.nQ=x;this.K.Q6a && (u=this.K.Eob,w.ezc=this.Hn.ekc.get(u.fillS,u.fillHl));u=this.c8 + (l.yb(this.xh)?0:(l.yb(this.ed)?m.time.fa():this.ed) - this.xh);w.time=u;return w;};t.prototype.D_b=function(){var w,u,y;w={};u=this.get();if(u.confidence && u["throughput-ewma"]){w.aseavtp=Number(u["throughput-ewma"].ya).toFixed(2);w.asevartp=Number(u["throughput-ewma"].He).toFixed(2);if(u.pw){y=u.pw.Dea;!y || void 0 === y.hm || void 0 === y.gm || void 0 === y.Ek || isNaN(y.hm || 0) || isNaN(y.gm) || isNaN(y.Ek) || (w.aseniqr=0 < y.Ek?Number((y.hm - y.gm) / y.Ek).toFixed(2):-1,w.aseiqr=Number(y.hm - y.gm).toFixed(2),w.asemedtp=Number(y.Ek).toFixed(2));w.iqrsamples=u.pw.tfc;}u.rh && u.rh.PB && (w.tdigest=u.rh.PB());}return w;};t.prototype.Uw=function(w,u){var y,x,z;y=u.requestId;1 === ++this.rN && this.emit("active",w);if(this.K.x6a){x=this.Hn;for(z in x){x[z] && x[z].Uw && x[z].Uw(w,u);}}this.K.Jga && this.start(w,u);y && (this.K.Jga || this.start(w,u),this.cV.push(y));this.bE+=u.ha || 0;this.uV.Uw(w,u);this.bV.Uw(w,u);};t.prototype.Skb=function(){++this.dW;};t.prototype.oz=function(w,u,y){var x,z,B;x=y.requestId;u && --this.dW;--this.rN;this.bE=Math.max((this.bE || 0) - ((y.ha || 0) - (y.bytesReceived || 0)),0);this.K.Ykb && (this.rN=Math.max(this.rN,0),this.dW=Math.max(this.dW,0));if(this.K.x6a){z=this.Hn;for(B in z){z[B] && z[B].oz && z[B].oz(w,u,y);}}this.K.Jga && this.stop(w,y);0 === this.rN && (this.K.Jga || this.stop(w,y),this.emit("inactive",w));x && (u=this.cV.indexOf(x),0 <= u && this.cV.splice(u,1));this.uV.oz(w,y);this.bV.oz(w,y);};t.prototype.hea=function(){this.Vpb();this.h8=setInterval(this.TFb,this.K.OCb);};return t;})(r.EventEmitter);b.default=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Ca:1001,V:24E3};b.duration={Ca:6006,V:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,731];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Ca:1001,V:24E3};b.duration={Ca:6006,V:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,729];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Ca:1001,V:24E3};b.duration={Ca:6006,V:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,731];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Ca:1001,V:24E3};b.duration={Ca:6006,V:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,729];b.pc=[44];},function(r,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.jka=b.Q5=void 0;a=(function(){function l(){var h;h=this;this.fW=[];this.fec=function(n){n=h.fW.indexOf(n);0 <= n && h.fW.splice(n,1);};}Object.defineProperties(l.prototype,{ZA:{get:function(){return 0 !== this.fW.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{chb:{get:function(){return this.fW.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var h;h=new d(this.fec);this.fW.push(h);return h;};l.prototype.Qha=function(h){var n;n=this.add();try{return Promise.resolve(h()).then(function(c){n.release();return c;},function(c){n.release();return Promise.reject(c);});}catch(c){return (n.release(),Promise.reject(c));}};return l;})();b.Q5=a;d=(function(){function l(h){this.LEb=h;}l.prototype.release=function(){this.LEb(this);};return l;})();r=(function(){function l(h,n){this.T9b=h;this.console=n;this.counter=new a();}l.prototype.cy=function(){var h,n;h=this;this.console.trace("Acquiring lease, total count",this.counter.chb + 1);n=this.counter.add();return {release:function(){n.release();h.console.trace("Releasing lease, total count",h.counter.chb);h.T9b(function(){return !h.counter.ZA;});}};};return l;})();b.jka=r;},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.wM=void 0;d=a(0);a(2);r=a(35);l=d.__importDefault(a(29));h=d.__importDefault(a(3));n=a(191);c=a(77);f=a(93);g=h.default.ur;k=a(1030);a=(function(m){var R8;R8=2;for(;R8 !== 9;){switch(R8){case 2:d.__extends(p,m);p.create=function(q,v,t,w,u,y,x,z){var M2z,B,A;M2z=2;for(;M2z !== 11;){switch(M2z){case 13:return u;break;case 14:var o4M="sub";o4M+="re";o4M+="quest";(B={offset:y,ha:Math.min(A,z),responseType:w.responseType},y+=B.ha,A-=B.ha,u.push(new f.y3(q,t,o4M,B,u,v,x)));M2z=6;break;case 4:B=Math.ceil(w.ha / w.TQ);y=w.offset;A=w.ha;u=new n.av(q,w,u,v,x,z);M2z=7;break;case 2:M2z=!v.Wh && w.La && q.mediaType === l.default.ee.J && g.Yc && g.Yc.eS.hN?1:5;break;case 7:z=Math.ceil(w.ha / B);M2z=6;break;case 1:return new k.BIa(q,t,w,u,y,v,x,z);break;case 12:return new p(q,t,w,u,y,v,x,z);break;case 5:M2z=w.TQ && w.ha > w.TQ?4:12;break;case 6:M2z=0 < A?14:13;break;}}};p.prototype.toString=function(){var Z$C;Z$C=2;for(;Z$C !== 1;){switch(Z$C){case 2:var X4P="I";X4P+="D";X4P+=": ";return X4P + this.Si() + ":" + c.Jl.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var N9g;N9g=2;for(;N9g !== 1;){switch(N9g){case 2:return {ID:this.Si(),request:c.Jl.prototype.toJSON.call(this)};break;}}};R8=3;break;case 3:return p;break;}}function p(q,v,t,w,u,y,x,z){var o_P,B;o_P=2;for(;o_P !== 6;){switch(o_P){case 3:void 0 === t.responseType && (t.responseType=t.La || g.Yc && !g.Yc.eS.hN?0:1);B=m.call(this,q,v,B,t,w,y,x) || this;c.Jl.oa(B,q,t,z);return B;break;case 2:var P_q="e";P_q+="d";P_q+="i";P_q+="t";var w07="c";w07+="ac";w07+="he";var q69="1SI";q69+="YbZrN";q69+="JC";q69+="p";q69+="9";B=this;q69;B=[w07,P_q].filter(function(A,C){var T_V;T_V=2;for(;T_V !== 1;){switch(T_V){case 4:return [u,t.La][C];break;case 2:return [u,t.La][C];break;}}});B=B.length?"(" + B.join(",") + ")":"";o_P=3;break;}}}})(f.y3);b.wM=a;(0,r.hf)(c.Jl,a,!1);},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.tD=void 0;d=a(6);l=a(105);h=a(450);r=(function(){function n(c,f){var d41,g;d41=2;for(;d41 !== 8;){switch(d41){case 3:var E8V="1SI";E8V+="Y";E8V+="b";E8V+="Z";E8V+="rNJCp9";this.O0=function(k,m,p){var T8N;T8N=2;for(;T8N !== 5;){switch(T8N){case 2:k=g.up(k,p);return g.config.F1a?(m=(0,l.M$)(g.config.E1a,m.nk - m.Pc,1),{lower:k * (1 - m),upper:void 0}):{lower:k * g.config.t2 / 100,upper:void 0};break;}}};E8V;d41=8;break;case 2:g=this;this.config=c;this.RQ=f;this.Uqb=this.Y8=null;d41=3;break;}}}var A7T;A7T=2;for(;A7T !== 14;){switch(A7T){case 3:n.prototype.JY=function(){var Z1C;Z1C=2;for(;Z1C !== 1;){switch(Z1C){case 2:return this.Y8;break;case 4:return this.Y8;break;}}};n.prototype.NL=function(c){var n99;n99=2;for(;n99 !== 1;){switch(n99){case 2:this.Uqb=c;n99=1;break;}}};n.prototype.mZ=function(){var m7x;m7x=2;for(;m7x !== 1;){switch(m7x){case 2:return this.Uqb;break;case 4:return this.Uqb;break;}}};n.prototype.WGa=function(c){var f_z;f_z=2;for(;f_z !== 1;){switch(f_z){case 2:this.config=c;f_z=1;break;case 4:this.config=c;f_z=3;break;}}};return n;break;case 2:n.prototype.P5a=function(c,f){var v0i,g;v0i=2;for(;v0i !== 3;){switch(v0i){case 2:g=null === this.Y8?c * (100 - this.config.t2) / 100:(0,h.Ppa)(c,this.Y8);f=null !== f && void 0 !== f?f:this.RQ;this.config.cza && f?(c=(0,h.Ppa)(c,f),c=Math.max(c,g)):c=g;v0i=4;break;case 4:return c;break;}}};n.prototype.oFa=function(c){var E2F;E2F=2;for(;E2F !== 1;){switch(E2F){case 2:return this.config.G6a && (c === d.Ma.ai || c === d.Ma.ce);break;}}};n.prototype.up=function(c,f){var r74,g,k,m;r74=2;for(;r74 !== 5;){switch(r74){case 2:return this.oFa(f)?(null === (g=c.LZ) || void 0 === g?void 0:g.ya) || (null === (k=c.Za) || void 0 === k?void 0:k.ya) || 0:(null === (m=c.Za) || void 0 === m?void 0:m.ya) || 0;break;}}};n.prototype.XC=function(c){var e4H;e4H=2;for(;e4H !== 1;){switch(e4H){case 4:this.Y8=c;e4H=2;break;case 2:this.Y8=c;e4H=1;break;}}};A7T=3;break;}}})();b.tD=r;},function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(h,n){h[n]=a(l[n]);return h;},{}):l;}function d(l,h){return Object.keys(l).reduce(function(n,c){return (n[h[c] || c]=l[c],n);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.yx=void 0;r=(function(){function l(h){h && (this.KL(h.ke),this.jFa(h.Ge),this.cFa(h.T));}l.prototype.KL=function(h){this.ke=h;return this;};l.prototype.jFa=function(h){this.Ge=h;return this;};l.prototype.wmb=function(h){this.ag=h;return this;};l.prototype.pg=function(h,n,c){this.T || (this.T={});this.T[h]=a(n);if(c){h=this.T[h];if(n=h.next)h.next=d(n,c);h.dc && c[h.dc] && (h.dc=c[h.dc]);}return this;};l.prototype.cFa=function(h,n,c){void 0 === n && (n=function(){return !0;});this.T={};return this.o0a(h,n,c);};l.prototype.o0a=function(h,n,c,f){var g;g=this;void 0 === n && (n=function(){return !0;});Object.keys(h).filter(function(k){return n(h[k],k);}).forEach(function(k){var m;m=h[k];f && (m=f(m,k));g.pg(k,m,c);});return this;};l.prototype.Lab=function(h){var n;return !(null === (n=this.T) || void 0 === n || !n[h]);};l.prototype.kj=function(){var h;if(!this.T)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ke)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.T[this.ke])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");h={ke:this.ke,T:this.T};this.Ge && (h.Ge=this.Ge);this.ag && (h.ag=this.ag);return h;};return l;})();b.yx=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.CM=b.Kub=void 0;d=a(26);b.Kub=function(){this.TI=[];this.Do=[];this.hu=[];this.w0a=[];this.aqa=d.lx.Tz;this.Gha=d.zn.Tz;};b.CM="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TU="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CU="MslProviderSymbol";},function(r){function b(n,c){return n.some(function(f){return f.id === c;});}function a(n,c){return n.filter(d.bind(null,c)).map(l).reduce(h,0);}function d(n,c){return n.id === c.id && n.displayTime + n.duration === c.displayTime;}function l(n){return n.duration;}function h(n,c){return n + c;}r.exports={vMb:function(n,c,f){for(var g=0;g < n.length;g++){if(n[g] !== c[g])return (f.error("indexId mismatch in sidx",{sIndexId:n,mIndexId:c}),!1);}return !0;},psa:function(n,c,f){var g;g={};g.displayTime=n.displayTime;g.duration=n.duration;g.originX=n.i$b;g.originY=n.j$b;g.sizeX=n.Xhc;g.sizeY=n.Yhc;g.imageData=c;g.id=n.kK;g.rootContainerExtentX=f.ifc;g.rootContainerExtentY=f.jfc;return g;},tva:function(n,c){return "o_" + n + "s_" + c;},Kmc:function(n,c){c("P" === String.fromCharCode(n[1]));c("N" === String.fromCharCode(n[2]));c("G" === String.fromCharCode(n[3]));},Ad:function(n){return "undefined" !== typeof n;},ryc:b,evc:a,WY:function(n,c){var f,g;f=Object.create({});for(g in n){f[g]=n[g];}n instanceof Error && (f.message=n.message,f.stack=n.stack);f.errorString=c;return f;},assert:function(n,c){if(!n)throw (c && c.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},nbb:function(n){return n && 0 < n.entries.length && 0 === n.images.length;},kjc:function(n,c){for(var f=c.entries.length,g,k=0;k < f;k++){if((g=c.entries[k],g.displayTime <= n && g.displayTime + g.duration >= n))return !0;}return !1;},ljc:function(n,c,f){for(var g=f.entries.length,k,m,p=0;p < g;p++){k=f.entries[p];m=k.displayTime;k=m + k.duration;if(c < m)break;if(m <= n && k >= n || m > n && m <= c)return !0;}return !1;},R3a:function(n){return n.map(function(c,f){c.duration+=a(n.slice(f + 1),c);return c;}).reduce(function(c,f){b(c,f.id) || c.push(f);return c;},[]);},qwa:function(n){return n.reduce(function(c,f){return c + f.entries.reduce(function(g,k){return k.qxa + g;},0);},0);},XRb:function(n,c){return n && n.kz <= c && n.Ds >= c;},dYb:function(n){if(n)return n.endTime;},BYb:function(n){try{return String.fromCharCode.apply(String,n);}catch(c){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MH="PlaygraphConfigSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Rr=b.osb=void 0;b.osb=a;b.Rr=new a();},function(r,b,a){var l,h,n;function d(c,f,g,k){f=n.Gi.call(this,c,f,k) || this;f.context=c;f.Uta=g;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Ts=void 0;r=a(0);l=a(1);h=a(67);n=a(72);a(139);la(d,n.Gi);d.prototype.dba=function(c){return "LIVE" === c.qh?h.Oh.events + "/live/" + this.Uta:h.Oh.events + "/" + this.Uta;};d.prototype.Xf=function(c,f){var g,k;g=this;k=this.GE(f);!1;!1;return this.send(c,{url:f.href,name:h.Oh.events,ul:this.dba(f)},k).then(function(){return f;}).catch(function(m){throw g.Zn(m);});};d.prototype.Cq=function(c,f,g){var k,m,p;k=this;m=this.GE(g);!1;!1;p={url:f.XP("events").href,name:h.Oh.events,ul:this.dba(g)};return this.send(c,p,m).then(function(q){f.qpa(q.result.links);return g;}).catch(function(q){throw k.Zn(q);});};d.prototype.GE=function(c){return {event:this.Uta,xid:c.sa,position:c.position || 0,clientTime:c.oB,sessionStartTime:c.so,videoTrackId:c.jT,audioTrackId:c.rq,timedTextTrackId:c.SS,mediaId:c.VQ,trackId:c.trackId,sessionId:c.sessionId,appId:c.appId,playTimes:this.Iqa(c.ez),sessionParams:c.ro};};d.prototype.Hqa=function(c){return {downloadableId:c.Wb,duration:c.duration};};d.prototype.Iqa=function(c){var f;f={total:c.total,audio:c.audio.map(this.Hqa),video:c.video.map(this.Hqa),text:c.text.map(this.Hqa)};c.total !== c.eM && (f.totalContentTime=c.eM);0 !== c.YG && (f.totalAdDuration=c.YG);0 !== c.ZG && (f.totalOtherDuration=c.ZG);if(0 !== c.ZG || 0 !== c.YG)f.totalCombinedDuration=c.VS;0 !== c.fM && (f.totalLiveEdgeDuration=c.fM);0 !== c.gM && (f.totalStartSlateDuration=c.gM);return f;};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.Np)()),r.__param(1,(0,l.Np)()),r.__param(2,(0,l.Np)()),r.__param(3,(0,l.Np)())],a);b.Ts=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lH="BrowserInfoSymbol";},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(d){this.buffer=d;this.position=0;}a.prototype.seek=function(d){this.position=d;};a.prototype.skip=function(d){this.position+=d;};a.prototype.gwa=function(){return this.buffer.length - this.position;};a.prototype.NC=function(){return this.buffer[this.position++];};a.prototype.sl=function(d){var l;l=this.position;this.position+=d;return this.K3b(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.K3b=function(d){return void 0 !== d.subarray;};a.prototype.Es=function(d){for(var l=0;d--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.hDa=function(d){for(var l="";d--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.zi=function(){return this.Es(2);};a.prototype.Fs=function(){return this.Es(4);};a.prototype.SR=function(){return this.Es(8);};a.prototype.lz=function(d){for(var l,h="";d--;){l=this.NC();h+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return h;};a.prototype.iDa=function(d){for(var l=0,h=0;h < d;h++){l+=this.NC() << (h << 3);}return l;};a.prototype.RR=function(){return this.iDa(4);};a.prototype.h3=function(d){this.nT(d,2);};a.prototype.oD=function(d){this.nT(d,4);};a.prototype.Sha=function(d){this.buffer[this.position++]=d;};a.prototype.nT=function(d,l){this.position+=l;for(var h=1;h <= l;h++){this.buffer[this.position - h]=d & 255;d=Math.floor(d / 256);}};a.prototype.nD=function(d){for(var l=0;l < d.length;l++){this.buffer[this.position++]=d.charCodeAt(l);}};a.prototype.g3=function(d){for(var l=d.length,h=0;h < l;h++){this.buffer[this.position++]=d[h];}};a.prototype.mT=function(d,l){this.g3(d.sl(l));};a.prototype.rrb=function(d){d=new a(d);for(var l,h;;){if((l=d.gwa(),h=l >>> 14))(h=Math.min(4,h),this.Sha(192 | h),this.mT(d,16384 * h));else {128 > l?this.Sha(l):this.nT(l | 32768,2);this.mT(d,l);break;}}};a.prototype.Ojb=function(){var h;for(var d=[],l=new a(d);;){h=this.NC();if(h & 128){if(128 == (h & 192))(h&=63,h=(h << 8) + this.NC(),l.mT(this,h));else if((h&=63,0 < h && 4 >= h)){l.mT(this,16384 * h);continue;}else throw Error("bad asn1");}else l.mT(this,h);break;}return new Uint8Array(d);};return a;})();b.TT=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.We=void 0;b.We=a;a.fNa=/^hevc-main/;a.eNa=/^hevc-hdr-|hevc-dv/;a.KM=/^hevc-hdr-/;a.px=/^hevc-dv/;a.j4=/h264mpl/;a.qH=/h264mpl30/;a.rH=/h264mpl31/;a.rD=/h264hpl.*-dash$/;a.OHa=/h264hpl.*-live$/;a.QD=/^vp9-/;a.Il=/^av1-/;a.pvb=/[l|L]4[0-1]-/;a.mN=/-L5[0-1]-/;a.LOa=/-live/;a.Xha=/^heaac-2-/;a.Evb=/^heaac-2hq-dash/;a.vA=/^xheaac-dash/;a.Htb=/ddplus-2/;a.Itb=/ddplus-5/;a.Jtb=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.F3="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GUa="ReportSyncSymbol";b.EUa="ReportApiErrorSyncSymbol";b.EMa="FtlProbeConfigSymbol";b.GMa="FtlProbeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u3="ApiInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.m6="UserAgentDataPlatformVersionProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V3="DebouncerFactorySymbol";},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.xUa=b.V5=b.Maa=void 0;d=a(49);l=a(4);b.Maa=function(h){return h === d.u.U?l.Y.Aka:l.Y.Bka;};b.V5=50;b.xUa=1E3;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Aw,minHCInitVideoBitrate:a.yAa,maxInitVideoBitrate:a.oC,minInitAudioBitrate:a.V_,maxInitAudioBitrate:a.G_,minHCInitAudioBitrate:a.T_,minAcceptableVideoBitrate:a.tda,minRequiredBuffer:a.aG,minPrebufSize:a.Dk,minCheckBufferingCompleteInterval:a.xda,rebufferingFactor:a.mDa,useMaxPrebufSize:a.kHa,maxPrebufSize:a.ZF,maxRebufSize:a.cAa,maxBufferingTime:a.lu,minAudioMediaRequestSizeBytes:a.uda,minVideoMediaRequestSizeBytes:a.Dda,initialBitrateSelectionCurve:a.Sba,initSelectionLowerBound:a.Gbb,initSelectionUpperBound:a.Hbb,throughputPercentForAudio:a.t2,bandwidthMargin:a.mqa,bandwidthMarginContinuous:a.nqa,bandwidthMarginCurve:a.oqa,conservBandwidthMargin:a.Yra,switchConfigBasedOnInSessionTput:a.gGa,conservBandwidthMarginTputThreshold:a.tX,conservBandwidthMarginCurve:a.Zra,switchAlgoBasedOnHistIQR:a.oob,switchConfigBasedOnThroughputHistory:a.UG,maxPlayerStateToSwitchConfig:a.bAa,lowEndMarkingCriteria:a.Bza,IQRThreshold:a.Vja,histIQRCalcToUse:a.gxa,maxTotalBufferLevelPerSession:a.ou,highWatermarkLevel:a.$ab,toStableThreshold:a.Yob,toUnstableThreshold:a.eha,skipBitrateInUpswitch:a.AFa,watermarkLevelForSkipStart:a.BHa,highStreamRetentionWindow:a.axa,lowStreamTransitionWindow:a.Cza,highStreamRetentionWindowUp:a.cxa,lowStreamTransitionWindowUp:a.Eza,highStreamRetentionWindowDown:a.bxa,lowStreamTransitionWindowDown:a.Dza,highStreamInfeasibleBitrateFactor:a.$wa,lowestBufForUpswitch:a.iC,lockPeriodAfterDownswitch:a.v_,lowWatermarkLevel:a.Gza,lowestWaterMarkLevel:a.jC,lowestWaterMarkLevelBufferRelaxed:a.Hza,mediaRate:a.oda,maxTrailingBufferLen:a.gda,audioBufferTargetAvailableSize:a.X8,videoBufferTargetAvailableSize:a.Eha,maxVideoTrailingBufferSize:a.mfb,maxAudioTrailingBufferSize:a.Reb,fastUpswitchFactor:a.W$,fastDownswitchFactor:a.gua,maxMediaBufferAllowed:a.xw,simulatePartialBlocks:a.xFa,simulateBufferFull:a.anb,considerConnectTime:a.$ra,connectTimeMultiplier:a.Xra,lowGradeModeEnterThreshold:a.peb,lowGradeModeExitThreshold:a.qeb,maxDomainFailureWaitDuration:a.Ueb,maxAttemptsOnFailure:a.Qeb,exhaustAllLocationsForFailure:a.j7a,maxNetworkErrorsDuringBuffering:a.bfb,maxBufferingTimeAllowedWithNetworkError:a.Zca,fastDomainSelectionBwThreshold:a.s7a,throughputProbingEnterThreshold:a.Cob,throughputProbingExitThreshold:a.Dob,locationProbingTimeout:a.feb,finalLocationSelectionBwThreshold:a.z7a,throughputHighConfidenceLevel:a.Aob,throughputLowConfidenceLevel:a.Bob,locationStatisticsUpdateInterval:a.mza,enablePerfBasedLocationSwitch:a.O6a,probeServerWhenError:a.Ow,probeRequestTimeoutMilliseconds:a.MCa,allowSwitchback:a.YA,probeDetailDenominator:a.NR,maxDelayToReportFailure:a.$ca,countGapInBuffer:a.f4a,bufferThresholdForAbort:a.Z1a,allowCallToStreamSelector:a.D0a,pipelineScheduleTimeoutMs:a.fCa,maxPartialBuffersAtBufferingStart:a.pC,maxActiveRequestsSABCell100:a.Xca,maxStreamingSkew:a.eAa,maxPendingBufferPercentage:a.$za,headerRequestSize:a.Cba,estimateHeaderSize:a.Nta,minBufferLenForHeaderDownloading:a.S_,reserveForSkipbackBufferMs:a.u1,numExtraFragmentsAllowed:a.dBa,pipelineEnabled:a.qj,maxParallelConnections:a.SQ,socketReceiveBufferSize:a.knb,audioSocketReceiveBufferSize:a.Z8,videoSocketReceiveBufferSize:a.hT,headersSocketReceiveBufferSize:a.Ywa,updatePtsIntervalMs:a.tha,bufferTraceDenominator:a.Aqa,bufferLevelNotifyIntervalMs:a.cX,aseReportDenominator:a.FO,aseReportIntervalMs:a.O8,enableAbortTesting:a.NSb,abortRequestFrequency:a.jGb,streamingStatusIntervalMs:a.YFa,prebufferTimeLimit:a.HC,minBufferLevelForTrackSwitch:a.wda,penaltyFactorForLongConnectTime:a.YBa,longConnectTimeThreshold:a.yza,additionalBufferingLongConnectTime:a.Bpa,additionalBufferingPerFailure:a.Cpa,rebufferCheckDuration:a.b1,enableLookaheadHints:a.L6a,lookaheadFragments:a.neb,enableOCSideChannel:a.aF,OCSCBufferQuantizationConfig:a.v5,updateDrmRequestOnNetworkFailure:a.Spb,deferAseScheduling:a.w5a,maxDiffAudioVideoEndPtsMs:a.Teb,defaultHeaderCacheSize:a.i$,defaultHeaderCacheDataPrefetchMs:a.h$,neverWipeHeaderCache:a.Pda,networkFailureResetWaitMs:a.KAa,networkFailureAbandonMs:a.JAa,maxThrottledNetworkFailures:a.fda,throttledNetworkFailureThresholdMs:a.Xga,lowThroughputThreshold:a.Fza,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Yta,mp4ParsingInNative:a.dgb,sourceBufferInOrderAppend:a.nnb,requireAudioStreamToEncompassVideo:a.wL,allowAudioToStreamPastVideo:a.C0a,enableManagerDebugTraces:a.mj,managerDebugMessageInterval:a.Ceb,managerDebugMessageCount:a.Beb,bufferThresholdToSwitchToSingleConnMs:a.zqa,bufferThresholdToSwitchToParallelConnMs:a.yqa,netIntrStoreWindow:a.d8b,minNetIntrDuration:a.A7b,fastHistoricBandwidthExpirationTime:a.zUb,bandwidthExpirationTime:a.lJb,failureExpirationTime:a.xUb,historyTimeOfDayGranularity:a.b1b,expandDownloadTime:a.iUb,minimumMeasurementTime:a.N7b,minimumMeasurementBytes:a.M7b,throughputMeasurementTimeout:a.bkc,initThroughputMeasureDataSize:a.j2b,throughputMeasureWindow:a.akc,throughputIQRMeasureWindow:a.$jc,IQRBucketizerWindow:a.zwb,connectTimeHalflife:a.JMb,responseTimeHalflife:a.Zec,historicBandwidthUpdateInterval:a.a1b,throughputWarmupTime:a.gkc,minimumBufferToStopProbing:a.L7b,throughputPredictor:a.ckc,ase_stream_selector:a.nIb,enableFilters:a.XSb,filterDefinitionOverrides:a.VUb,defaultFilter:a.GQb,secondaryFilter:a.Mfc,defaultFilterDefinitions:a.HQb,initBitrateSelectorAlgorithm:a.Gxa,bufferingSelectorAlgorithm:a.Eqa,ase_ls_failure_simulation:a.e5a,ase_dump_fragments:a.Fsa,ase_location_history:a.Gsa,ase_throughput:a.f5a,ase_simulate_verbose:a.h5a,secondThroughputEstimator:a.zEa,secondThroughputMeasureWindowInMs:a.Jlb,marginPredictor:a.Qza,networkMeasurementGranularity:a.LAa,HistoricalTDigestConfig:a.ANa,maxIQRSamples:a.Zeb,minIQRSamples:a.Nfb,periodicHistoryPersistMs:a.Eea,saveVideoBitrateMs:a.Vfa,needMinimumNetworkConfidence:a.$_,biasTowardHistoricalThroughput:a.rqa,maxFastPlayBufferInMs:a.ada,maxFastPlayBitThreshold:a.Xza,minAudioMediaRequestDuration:a.Zy,minVideoMediaRequestDuration:a.tC,minAudioMediaRequestDurationCache:a.Zy,minVideoMediaRequestDurationCache:a.tC,addHeaderDataToNetworkMonitor:a.ppa,hindsightDenominator:a.fxa,hindsightDebugDenominator:a.exa,hindsightParam:a.Gba,minimumTimeBeforeBranchDecision:a.cR,minimumTimeBeforeDelayedSeekToQueuedSegment:a.Vfb,enableSessionHistoryReport:a.jY,earlyStageEstimatePeriod:a.tta,lateStageEstimatePeriod:a.Jdb,maxNumSessionHistoryStored:a.dda,minSessionHistoryDuration:a.Cda,appendMediaRequestOnComplete:a.R0a,waitForDrmToAppendMedia:a.Mha,forceAppendHeadersAfterDrm:a.kaa,startMonitorOnLoadStart:a.IFa,reportFailedRequestsToNetworkMonitor:a.HDa,reappendRequestsOnSkip:a.edc,maxActiveRequestsPerSession:a.Vy,limitAudioDiscountByMaxAudioBitrate:a.cza,appendFirstHeaderOnComplete:a.Mpa,maxAudioFragmentOverlapMs:0,editVideoFragments:a.CSb,declareBufferingCompleteAtSegmentEnd:a.Hsa,applyProfileTimestampOffset:a.RI,applyProfileStreamingOffset:a.Km,mediaSourceSupportsNegativePts:a.O_,requireDownloadDataAtBuffering:a.Dfa,requireSetupConnectionDuringBuffering:a.Efa,recordFirstFragmentOnSubBranchCreate:a.oDa,earlyAppendSingleChildBranch:a.B$,selectStartingVMAFMethod:a.lS,activateSelectStartingVMAF:a.wW,minStartingVideoVMAF:a.Bw,minAcceptableVMAF:a.R_,minAllowedVmaf:a.PK,alwaysNotifyEOSForPlaygraph:a.SHb,enableNewAse:a.E$,useNewApi:a.yha,enableCombinedPlaygraphs:a.cY,enableAdPlaygraphs:a.EJ,retainSbrOnFade:a.Jfa,excludedContentPlaygraphIds:a.Zta,enableDiscontiguousBuffering:a.C$,forceImmediateTransitionTypeForTitles:a.Mua,forceImmediateTransitionExitZone:a.Lua,useBufferSizeLimiter:a.wha,useLegacyFragmentRounding:a.jHa,maxAllowedOutstandingRequests:a.Yca,alwaysRunUnderflowTimer:a.CO,minStreamableConcurrencyWindow:a.zAa,streamableConcurrencyFactor:a.VFa,bufferingConcurrencyWindow:a.fX,singleStreamablePerBranch:a.Whc,enableResolutionVMAFStreamFilter:a.F$,resolutionVMAFCappingRuleList:a.Ifa,percentCapTitlesForResolutionVMAFStreamFilter:a.aCa,useExitZones:a.hHa,perFragmentVMAFConfig:a.AR,enableInitialTputLogging:a.H6a,maxResponsesInitialTput:a.H6b,paddingDurationMs:a.JBa,paddingMediaType:a.KBa,supportsPtsChanged:a.mob,ciPredictorSource:a.wra,experimentalFilter:a.jUb,simulationDurationStrategy:a.yFa,liveTargetBufferDuration:a.r_,liveEdgeCushion:a.eza};};},function(r,b){function a(l,h){return "number" !== typeof l || "number" !== typeof h?!1:l && h?Math.abs(l * h / d(l,h)):0;}function d(l,h){var n;l=Math.abs(l);for(h=Math.abs(h);h;){n=h;h=l % h;l=n;}return l;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function l(h,n){"object" === typeof h?(this.Cc=h.Ca,this.wb=h.V):(this.Cc=h,this.wb=n);}l.Na=function(h){return new l(h,1E3);};l.dha=function(h,n){return Math.floor(1E3 * h / n);};l.fgb=function(h,n){return Math.floor(h * n / 1E3);};l.max=function(){for(var h=[],n=0;n < arguments.length;n++){h[n]=arguments[n];}return h.reduce(function(c,f){return c.greaterThan(f)?c:f;});};l.min=function(){for(var h=[],n=0;n < arguments.length;n++){h[n]=arguments[n];}return h.reduce(function(c,f){return c.lessThan(f)?c:f;});};l.kF=function(h,n){var c;if(h.V === n.V)return new l(d(h.Ca,n.Ca),h.V);c=a(h.V,n.V);return l.kF(h.Ue(c),n.Ue(c));};Object.defineProperties(l.prototype,{Ca:{get:function(){return this.Cc;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{V:{get:function(){return this.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{Z:{get:function(){return 1E3 * this.Cc / this.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{$i:{get:function(){return this.Cc / this.wb;},enumerable:!0,configurable:!0}});l.prototype.Ue=function(h){h/=this.V;return new l(Math.floor(this.Ca * h),Math.floor(this.V * h));};l.prototype.add=function(h){var n;if(this.V === h.V)return new l(this.Ca + h.Ca,this.V);n=a(this.V,h.V);return this.Ue(n).add(h.Ue(n));};l.prototype.Fa=function(h){return this.add(new l(-h.Ca,h.V));};l.prototype.$y=function(h){return new l(this.Ca * h,this.V);};l.prototype.qk=function(h){var n;if(this.V === h.V)return this.Ca / h.Ca;n=a(this.V,h.V);return this.Ue(n).qk(h.Ue(n));};l.prototype.hab=function(h){return a(this.V,h);};l.prototype.jkb=function(){return new l(this.V,this.Ca);};l.prototype.compare=function(h,n){var c;if(this.V === n.V)return h(this.Ca,n.Ca);c=a(this.V,n.V);return h(this.Ue(c).Ca,n.Ue(c).Ca);};l.prototype.equal=function(h){return this.compare(function(n,c){return n === c;},h);};l.prototype.WAa=function(h){return this.compare(function(n,c){return n !== c;},h);};l.prototype.lessThan=function(h){return this.compare(function(n,c){return n < c;},h);};l.prototype.greaterThan=function(h){return this.compare(function(n,c){return n > c;},h);};l.prototype.RF=function(h){return this.compare(function(n,c){return n <= c;},h);};l.prototype.tk=function(h){return this.compare(function(n,c){return n >= c;},h);};l.prototype.toJSON=function(){return {ticks:this.Ca,timescale:this.V};};l.prototype.toString=function(){return this.Ca + "/" + this.V;};l.Oa=new l(0,1);l.yC=new l(1,1E3);return l;})();b.O=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(24);r=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.parse=function(c){var f;f=h.prototype.parse.call(this,c);this.R.offset+=8;this.jra=this.R.Kh();this.lEa=this.R.Kh();this.R.offset+=4;this.samplerate=this.R.Kh();this.R.offset+=2;l.M && this.R.console.trace("MP4AudioSampleEntry: channelcount: " + this.jra + ", samplesize: " + this.lEa + ", samplerate: " + this.samplerate);if(null === c || void 0 === c?0:c.If)(c.If.jra=this.jra,c.If.lEa=this.lEa,c.If.samplerate=this.samplerate);return f;};n.zd=!1;return n;})(a(245).default);b.default=r;},function(r,b,a){var l;function d(h){var n;n={profile:h.spoofedProfile || h.profile,uaa:h.max_framerate_value,taa:h.max_framerate_scale,maxWidth:h.maxWidth,maxHeight:h.maxHeight,gCa:h.pixelAspectX,hCa:h.pixelAspectY,channels:h.channels,sampleRate:h.channels?48E3:void 0};h.spoofedProfile && (n.zxc=h.profile);return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.l$a=b.Pva=void 0;l=a(6);b.Pva=function(h,n,c){var f;f=[{},{}];(c === l.u.U?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(g,k){h[g].some(function(m,p){return p === n[k]?(f[k]=d(m),!0):!1;});});return f;};b.l$a=d;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nma=b.Cm=void 0;d=a(152);(function(h){h[h.pending=0]="pending";h[h.Ofa=1]="running";h[h.complete=2]="complete";h[h.vJ=3]="destroyed";})(l=b.Cm || (b.Cm={}));r=(function(){function h(n,c){void 0 === c && (c=0);this.name=n;this.priority=c;this.Tc=l.pending;}Object.defineProperties(h.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dcb:{get:function(){return this.Tc === l.pending || this.Tc === l.Ofa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ee:{get:function(){return this.nq;},enumerable:!1,configurable:!0}});h.prototype.zIb=function(n){var c;null === (c=this.nq) || void 0 === c?void 0:c.wfa(this);this.nq=n;};h.prototype.rz=function(){this.Tc=l.Ofa;this.Xf();this.Sda() === d.fj.zHa && (this.Tc=l.complete);};h.prototype.Wa=function(){var n;this.Tc=l.vJ;null === (n=this.nq) || void 0 === n?void 0:n.wfa(this);};h.prototype.J2a=function(n){this.nq.wfa(this);this.nq=n;this.nq.$Da(this);};h.prototype.By=function(){};h.prototype.reset=function(){this.Tc=l.pending;};return h;})();b.nma=r;},function(r,b,a){var l;function d(h,n){return h < n?-1:h > n?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.BU=void 0;l=a(0);r=(function(){function h(n,c){this.data=null !== n && void 0 !== n?n:[];this.compare=null !== c && void 0 !== c?c:d;if(!this.empty)for(n=(this.length >> 1) - 1;0 <= n;n--){this.gna(n);}}Object.defineProperties(h.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});h.prototype.push=function(n){this.data.push(n);this.G_a(this.length - 1);};h.prototype.pop=function(){var n,c;if(!this.empty){n=this.data[0];c=this.data.pop();this.empty || (this.data[0]=c,this.gna(0));return n;}};h.prototype.Vq=function(){return this.data[0];};h.prototype.map=function(n){return this.data.map(n);};h.prototype.find=function(n){return l.__read(this.data.filter(n),1)[0];};h.prototype.clear=function(){this.data=[];};h.prototype.remove=function(n){var c,f,g;c=this.data;n=c.indexOf(n);if(-1 !== n){f=c.pop();if(n < c.length){c[n]=f;g=n - 1 >> 1;c=c[g];0 <= g && 0 > this.compare(f,c)?this.G_a(n):this.gna(n);}}};h.prototype.ZIb=function(){for(var n=this.data,c=1;c < n.length;c++){if(0 > this.compare(n[c],n[c - 1 >> 1]))throw Error(("Audit failed at position ").concat(c," of ").concat(n));}};h.prototype.contains=function(n){return 0 <= this.data.indexOf(n);};h.prototype.El=function(){return this.data.concat([]);};h.prototype.G_a=function(n){for(var c=this.data,f=this.compare,g=c[n],k,m;0 < n;){k=n - 1 >> 1;m=c[k];if(0 <= f(g,m))break;c[n]=m;n=k;}c[n]=g;};h.prototype.gna=function(n){for(var c=this.data,f=this.compare,g=this.length >> 1,k=c[n],m,p,q;n < g;){m=(n << 1) + 1;q=c[m];p=m + 1;p < this.length && 0 > f(c[p],q) && (m=p,q=c[p]);if(0 <= f(q,k))break;c[n]=q;n=m;}c[n]=k;};return h;})();b.BU=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Qz=void 0;d=a(187);l=a(2);r=(function(){function h(n){this.config=n;this.reset();}h.instance=function(){(0,l.assert)(void 0 !== h.yv);return h.yv;};h.IMb=function(n){h.yv=new h(n);};h.prototype.push=function(n){this.rh && this.rh.push(n);};h.prototype.Ib=function(){if(this.rh)return (this.rh.sB(),this.rh.Vj([.25,.5,.75,.9,.95,.99]).map(function(n){return n?parseFloat(n.toFixed(1)):0;}));};h.prototype.reset=function(){this.config.P6a && this.config.aka && (this.rh=new d.kma(this.config.aka.c,this.config.aka.maxc));};return h;})();b.Qz=r;},function(r,b,a){var c;function d(f,g,k){this.mP=!1 === f;this.yq=f || .01;this.bka=void 0 === g?25:g;this.WJa=void 0 === k?1.1:k;this.Ij=new c(l);this.reset();}function l(f,g){return f.Ag > g.Ag?1:f.Ag < g.Ag?-1:0;}function h(f,g){return f.Xy - g.Xy;}function n(f){this.config=f || ({});this.mode=this.config.mode || "auto";d.call(this,"cont" === this.mode?f.yq:!1);this.BRb=this.config.ratio || .9;this.CRb=this.config.Yyc || 1E3;this.Jda=0;}c=a(933).Zyb;d.prototype.reset=function(){this.Ij.clear();this.Yya=this.n=0;};d.prototype.size=function(){return this.Ij.size;};d.prototype.El=function(f){var g;g=[];f?(this.O6(!0),this.Ij.tg(function(k){g.push(k);})):this.Ij.tg(function(k){g.push({Ag:k.Ag,n:k.n});});return g;};d.prototype.summary=function(){return [(this.mP?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Vj(0),"Q1  = " + this.Vj(.25),"Q2  = " + this.Vj(.5),"Q3  = " + this.Vj(.75),"max = " + this.Vj(1)].join("\n");};d.prototype.push=function(f,g){g=g || 1;f=Array.isArray(f)?f:[f];for(var k=0;k < f.length;k++){this.ZXa(f[k],g);}};d.prototype.aDa=function(f){f=Array.isArray(f)?f:[f];for(var g=0;g < f.length;g++){this.ZXa(f[g].Ag,f[g].n);}};d.prototype.O6=function(f){var g;if(!(this.n === this.Yya || !f && this.WJa && this.WJa > this.n / this.Yya)){g=0;this.Ij.tg(function(k){k.Xy=g + k.n / 2;g=k.cP=g + k.n;});this.n=this.Yya=g;}};d.prototype.wVb=function(f){var g,k;if(0 === this.size())return null;g=this.Ij.lowerBound({Ag:f});k=null === g.data()?g.qL():g.data();return k.Ag === f || this.mP?k:(g=g.qL()) && Math.abs(g.Ag - f) < Math.abs(k.Ag - f)?g:k;};d.prototype.aO=function(f,g,k){this.Ij.xp({Ag:f,n:g,cP:k});this.n+=g;};d.prototype.v6=function(f,g,k){g !== f.Ag && (f.Ag+=k * (g - f.Ag) / (f.n + k));f.cP+=k;f.Xy+=k / 2;f.n+=k;this.n+=k;};d.prototype.ZXa=function(f,g){var k,m,p;k=this.Ij.min();m=this.Ij.max();p=this.wVb(f);p && p.Ag === f?this.v6(p,f,g):p === k?this.aO(f,g,0):p === m?this.aO(f,g,this.n):this.mP?this.aO(f,g,p.cP):(k=p.Xy / this.n,Math.floor(4 * this.n * this.yq * k * (1 - k)) - p.n >= g?this.v6(p,f,g):this.aO(f,g,p.cP));this.O6(!1);!this.mP && this.bka && this.size() > this.bka / this.yq && this.sB();};d.prototype.IJb=function(f){var g,k;this.Ij.Mo=h;g=this.Ij.upperBound({Xy:f});this.Ij.Mo=l;k=g.qL();f=k && k.Xy === f?k:g.next();return [k,f];};d.prototype.Vj=function(f){var g;g=(Array.isArray(f)?f:[f]).map(this.nEb,this);return Array.isArray(f)?g:g[0];};d.prototype.nEb=function(f){var g,k;if(0 !== this.size()){this.O6(!0);this.Ij.min();this.Ij.max();f*=this.n;g=this.IJb(f);k=g[0];g=g[1];return g === k || null === k || null === g?(k || g).Ag:this.mP?f <= k.cP?k.Ag:g.Ag:k.Ag + (f - k.Xy) * (g.Ag - k.Ag) / (g.Xy - k.Xy);}};d.prototype.sB=function(){var f;if(!this.K3a){f=this.El();this.reset();for(this.K3a=!0;0 < f.length;){this.aDa(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.O6(!0);this.K3a=!1;}};n.prototype=Object.create(d.prototype);n.prototype.constructor=n;n.prototype.push=function(f){d.prototype.push.call(this,f);this.FLb();};n.prototype.aO=function(f,g,k){this.Jda+=1;d.prototype.aO.call(this,f,g,k);};n.prototype.v6=function(f,g,k){1 === f.n && --this.Jda;d.prototype.v6.call(this,f,g,k);};n.prototype.FLb=function(){!("auto" !== this.mode || this.size() < this.CRb) && this.Jda / this.size() > this.BRb && (this.mode="cont",this.mP=!1,this.yq=this.config.yq || .01,this.sB());};r.exports={TDigest:d,Digest:n};},function(r,b){function a(d,l){var h;d.__proto__ && d.__proto__ !== Object.prototype && a(d.__proto__,l);Object.getOwnPropertyNames(d).forEach(function(n){h=Object.getOwnPropertyDescriptor(d,n);void 0 !== h && Object.defineProperty(l,n,h);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.kx=void 0;a(2);r=(function(){function d(l,h){d.oa(this,l,h);}d.oa=function(l,h,n){l.Uc=h;l.md=n.ha;l.Sb=n.offset;};Object.defineProperties(d.prototype,{stream:{get:function(){return this.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ha:{get:function(){return this.md;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{offset:{get:function(){return this.Sb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{P:{get:function(){return this.Uc.P;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{L:{get:function(){return this.Uc.L;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mediaType:{get:function(){return this.Uc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ta:{get:function(){return this.Uc.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bitrate:{get:function(){return this.Uc.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{profile:{get:function(){return this.Uc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{V:{get:function(){return this.Uc.V;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{SK:{get:function(){return this.Uc.SK;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{da:{get:function(){return this.Uc.da;},enumerable:!1,configurable:!0}});d.prototype.xgc=function(l){this.md=l;};d.prototype.toJSON=function(){return {movieId:this.L,streamId:this.Ta,offset:this.offset,bytes:this.ha};};return d;})();b.kx=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hH=void 0;d=a(0);l=d.__importDefault(a(3));r=(function(h){function n(c,f,g,k,m){var p;p=h.call(this,g) || this;p.x8=!1;n.oa(p,c,f,g,k,m);return p;}d.__extends(n,h);n.oa=function(c,f,g,k,m,p){c.pe=k;c.Cu=f;c.te=m;c.nI=f.location || g.location;c.kW=f.ec || g.bd;c.PEa=f.PEa || g.PEa;c.pj=g.pj;c.Zga=l.default.time.fa();c.H=p;};Object.defineProperties(n.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{location:{get:function(){return this.nI;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bd:{get:function(){return this.kW;},enumerable:!1,configurable:!0}});n.prototype.oa=function(c){this.Xa=c;};n.prototype.bFa=function(c,f){this.nI=c;this.kW=f;};n.prototype.cHa=function(c){var f,g,k;if(this.complete)return 0;f=this.Cu;g=f.P;if(!f.url)return (this.H.warn("updateurl, missing url for streamId:",f.Ta,"mediaRequest:",this,"stream:",f),1);k=f.bQ(this.zc,this.pj);if(this.url !== k || c)if((g.bFa(this,f.location,f.ec),!this.TG(k)))return (this.H.warn("swapUrl failed: ",this.KP),2);return 0;};return n;})(a(92).jx);b.hH=r;},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.av=void 0;d=a(0);l=a(2);r=a(35);h=a(8);n=a(21);c=a(435);f=a(77);g=a(93);a=(function(k){function m(p,q,v,t,w,u){v=k.call(this,p,q,v,t,w) || this;f.Jl.oa(v,p,q,u);v.md=0;v.ud=!1;return v;}d.__extends(m,k);Object.defineProperties(m.prototype,{zc:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.push=function(p){this.md+=p.ha;k.prototype.push.call(this,p);};m.prototype.Gs=function(p){this.md-=p.ha;k.prototype.Gs.call(this,p);};m.prototype.uk=function(){var p;return !this.ud && !!this.Ja.length && !(null === (p=(0,n.Nc)(this.Ja,function(q){return !q.ud;})) || void 0 === p || !p.uk());};m.prototype.Qr=function(p,q,v){var t,w;(0,l.assert)(!this.ud);t=g.jg.aRa;w=(0,h.Ry)(this);this.ud=this.Ja.every(function(u){if(u.ud)return !0;if(!u.uk())return !1;t=u.Qr(p,q,v,w).status;return t === g.jg.Pp;});t !== g.jg.Pp || this.ud || (t=g.jg.z5);return {status:t};};m.prototype.Sdc=function(){this.Ja.forEach(function(p){p.VR();});};m.prototype.Si=function(){return this.Ja?this.Ja[0].Si() + "-" + this.Ja[this.Ja.length - 1].Si():"empty";};m.prototype.BC=function(p,q,v){this.md+=q - v;this.paa(this,q,v);};m.prototype.toString=function(){return "ID: " + this.Si() + ":" + f.Jl.prototype.toString.call(this) + "(aggregate)";};m.prototype.toJSON=function(){return {ID:this.Si(),request:k.prototype.toJSON.call(this)};};return m;})(c.nia);b.av=a;(0,r.hf)(f.Jl,a);},function(r,b,a){var h,n,c,f,g,k,m,p;function d(q,v){return q.done?q:{value:{value:q.value,R_a:v}};}function l(q){q.R_a();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.cJb=b.Yyb=b.iH=void 0;h=a(0);r=a(11);n=a(132);c=a(9);f=h.__importDefault(a(3));g=a(8);k=a(2);a=a(35);m=(function(){function q(v,t){this.console=v;this.Zg=t;this.nDb=this.oV=0;this.uh=[];this.console=(0,g.ri)(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{jRb:{get:function(){return this.oV;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{G3a:{get:function(){var v,t,w;for(t=0;t < this.uh.length;t++){w=this.uh[t];if(!w.VZ || (null === (v=w.item) || void 0 === v?0:v.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Zg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{au:{get:function(){return 0 === this.Zg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{NDa:{get:function(){var v;for(v=0;v < this.uh.length && this.uh[v].tya;v++){;}return v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var v;v=h.__read(this.uh,1)[0];return (v=v && v.item) && !v.done && v.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{OAa:{get:function(){var v;for(v=0;v < this.uh.length && this.uh[v].VZ;v++){;}return v;},enumerable:!1,configurable:!0}});q.prototype.AP=function(){var v;if(void 0 === this.Zg){v=this.console;c.M && v && v.trace("QueueIterator: enqueueEnd");this.XGa(this.OAa - (this.Zg || 0));}};q.prototype.El=function(){return this.uh.map(function(v){return v.item;});};q.prototype.C2=function(){this.og || (this.og=this.uh.filter(function(v){return (null === v || void 0 === v?void 0:v.item) && !v.item.done;}).map(function(v){return v.item.value;}));return this.og;};q.prototype.XGa=function(v){var t;c.M && this.console.trace("updateCount",{uxc:this.Zg,yq:v});if(void 0 !== this.Zg){t=this.uh[this.Zg];t && this.Oxa(t);}this.Zg=void 0 === this.Zg?v:void 0 === v?v:this.Zg + v;void 0 !== this.Zg && (this.Zg=Math.max(0,this.Zg),(t=this.uh[this.Zg]) && t.yK.resolve({done:!0}));};q.prototype.enqueue=function(v){var t;c.M && this.console.trace("Enqueue called");t=this.OAa;this.A9();return this.Dcc(t,{value:v,done:!1}).C5a.promise;};q.prototype.alb=function(){c.M && this.console.trace("resetEnd");this.XGa(void 0);};q.prototype.clear=function(v){var t,w,u;c.M && this.console.trace("clear");this.Ajb();t=this.NDa;w=this.uh.length - t;if(0 < w){u={index:t,eBa:w};c.M && this.console.trace("Removing items",u);this.uh.splice(t,w);this.A9();this.emit("onRemoved",u);}for(w=1;w < t;w++){this.Oxa(this.uh[w]);}this.Zg=void 0;this.XGa(v?v + t:v);this.oV && (this.oV=0);};q.prototype.getIterator=function(){var v,t;v=this;t=(0,g.ri)(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return v.r$a(w);},t);};q.prototype.jP=function(){var v;if(0 < this.NDa){v=h.__read(this.uh,1)[0];if(v.VZ)return (c.M && this.console.trace("dequeue",v.id),this.Ajb(1),this.emit("onDequeue",v.yK.promise));}};q.prototype.remove=function(v){var t,w,u;for(t=0;t < this.uh.length;t++){w=this.uh[t];u=w.item;if(u && !u.done && u.value === v){this.uh.splice(t,1);this.Zg && this.Zg > t && this.Zg--;this.A9();c.M && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,eBa:1});break;}}};q.prototype.Ajb=function(v){var t;v=v || Math.min(this.NDa,this.OAa);if(0 < v){t=this.uh.splice(0,v);this.A9();this.Zg && (this.Zg-=v);c.M && this.console.trace("pruned",v);Promise.resolve().then(function(){t.forEach(function(w){w.C5a.resolve();});});this.emit("onRemoved",{index:0,eBa:v});this.oV+=v;}};q.prototype.r$a=function(v){var t;c.M && this.console.trace("getNextItemCalled",{offset:v});if(void 0 === this.count || 0 < this.count){this.Fbb(v);t=this.uh[v];t.Iec.resolve();v=t.yK.promise;c.M && this.console.trace("getNextItem:return",{id:t.id});}else (c.M && this.console.trace("getNextItem:returnDone"),v=Promise.resolve({done:!0}));return v;};q.prototype.Dcc=function(v,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;c.M && this.console.trace("Providing result",{fIb:v,item:w});this.Fbb(v);v=this.uh[v];w=v.yK.resolve;w(t);return v;};q.prototype.Fbb=function(v){var t;if(void 0 === this.uh[v]){t={};this.Oxa(t);this.uh[v]=t;v === this.Zg && t.yK.resolve({done:!0});c.M && this.console.trace("Item initialized",{fIb:v});}};q.prototype.nsa=function(v){var t;t={};t.promise=new Promise(function(w,u){t.resolve=function(y){w(y);v && v(y);};t.reject=u;});return t;};q.prototype.Oxa=function(v){var t;t=this;v.yK=this.nsa(function(w){v.item=w;v.VZ=!0;c.M && t.console.trace("Item resolved",{id:v.id});});v.id && v.tya && !v.VZ && (v.yK.resolve({done:!0}),c.M && this.console.warn("Overwriting requested queue item",v.id));v.C5a=this.nsa();v.Iec=this.nsa(function(){v.tya=!0;c.M && t.console.trace("Item requested",{id:v.id});});v.id=this.nDb++;v.tya=!1;v.VZ=!1;v.item=void 0;};q.prototype.A9=function(){this.og=void 0;};q.prototype.eva=function(){var v,t,w;v=this;t=(0,g.ri)(f.default,this.console,"QueueIteratorInstance::");w=new p(this,function(u){var y,x;if(0 === v.count)return n.AsyncIterator.xwa();y=v.r$a(u);x=v.uh[0];return y.then(function(z){return d(z,function(){w.wQ || (x === v.uh[0]?v.jP():(0,k.assert)(!v.uh.filter(function(B){return B.yK.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.iH=m;(0,a.hf)(r.EventEmitter,m);p=(function(q){function v(t,w,u){var y;y=q.call(this,function(){c.M && y.console.trace("Next item requested",{index:y.index});return y.kfc(y.index++);}) || this;y.parent=t;y.kfc=w;y.console=u;y.UN=!1;y.index=0;y.Jna=!1;y.nhb=function(x){var z;z=x.index;x=x.eBa;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;c.M && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}h.__extends(v,q);v.prototype.Oi=function(){this.console.trace("disposed");this.UN=!0;this.wd();q.prototype.Oi.call(this);};v.prototype.next=function(){this.wQ || this.uQ();return q.prototype.next.call(this);};v.prototype.cancel=function(){this.wd();return q.prototype.cancel.call(this);};v.prototype.wd=function(){this.parent.Ew("onRemoved",this.nhb);this.Jna=!1;};v.prototype.uQ=function(){this.Jna || (this.Jna=!0,this.parent.on("onRemoved",this.nhb));};return v;})(n.AsyncIterator);b.Yyb=p;b.cJb=function(q){return (0,n.map)(q,l);};},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.e6=void 0;d=a(8);r=(function(){function l(h){this.KA=h;this.X7a=new d.xD();}Object.defineProperties(l.prototype,{xdb:{get:function(){var h,n;return null !== (h=this.V0b) && void 0 !== h?h:null === (n=this.parent) || void 0 === n?void 0:n.xdb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{f_:{get:function(){var h,n;return null !== (h=this.w8b) && void 0 !== h?h:null === (n=this.parent) || void 0 === n?void 0:n.f_;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Vm:{get:function(){var h,n;return null !== (h=this.oh) && void 0 !== h?h:null === (n=this.parent) || void 0 === n?void 0:n.Vm;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ddb:{get:function(){var h,n,c,f;return null !== (h=this.ae) && void 0 !== h?h:(null === (n=this.track) || void 0 === n?0:n.equals(null === (c=this.parent) || void 0 === c?void 0:c.track))?null === (f=this.parent) || void 0 === f?void 0:f.ae:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fdb:{get:function(){var h,n;return null !== (h=this.Nic) && void 0 !== h?h:null === (n=this.parent) || void 0 === n?void 0:n.Fdb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Rya:{get:function(){var h,n;return null !== (h=this.Oic) && void 0 !== h?h:null === (n=this.parent) || void 0 === n?void 0:n.Rya;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.agc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hrb:{get:function(){return this.X7a.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var h;return null === (h=this.KA) || void 0 === h?void 0:h.call(this);},enumerable:!1,configurable:!0}});l.prototype.Wa=function(){this.KA=void 0;};l.prototype.rmb=function(h){this.V0b=h;};l.prototype.Pgc=function(h){this.w8b=h;};l.prototype.Fmb=function(h){this.oh=h;this.X7a.resolve();};l.prototype.N1=function(h){this.ae=h;};l.prototype.$gc=function(h){this.Nic=h;};l.prototype.Hmb=function(h){this.Oic=h;};l.prototype.O1=function(h){this.agc=h;};return l;})();b.e6=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});r=a(1042);d=a(446);a=a(1045);b.default={STARTING:a.Qlb,BUFFERING:r.dga,REBUFFERING:r.dga,PLAYING:d.qo,PAUSED:d.qo};},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.$P=b.tD=void 0;d=a(449);l=a(1056);h=a(1057);n=a(1058);c=a(161);Object.defineProperties(b,{tD:{enumerable:!0,get:function(){return c.tD;}}});b.$P=function(f,g){switch(f.Qza){case "manifold":return new d.Eka(f,g);case "stddev":return new h.PVa(f,g);case "ci":return new n.sKa(f,g);default:return new l.yVa(f,g);}};},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.UU=void 0;d=a(31);r=(function(){function l(h){this.config=h;this.oO=[];}Object.defineProperties(l.prototype,{first:{get:function(){var h;return null === (h=this.oO[0]) || void 0 === h?void 0:h.Rc;},enumerable:!1,configurable:!0}});l.prototype.HW=function(h){this.oO.push({Rc:h});};l.prototype.CY=function(h){this.oO.forEach(function(n,c){return h(n.Rc,c,n.ae);});};l.prototype.PVb=function(h){this.CY(function(n){n.forEach(function(c,f){return h(c,f);});});};l.prototype.X$a=function(h,n,c){var f,g,k,m,p;f=this;g=c;k=n;m=0;p=[];this.oO.forEach(function(q,v){var t,w,u,y;y=q.Rc;q=q.ae;q=void 0 === q?0:q;(null === (t=f.config) || void 0 === t || !t.Uhc) && 0 < v || 0 >= g || (v=(0,d.WO)(0 === v?h:f.E2b(h,q,y),0,y.length - 1),y=y[v],v=null === (w=y.ma) || void 0 === w?void 0:w.isa(k,g),w=null !== (u=null === v || void 0 === v?void 0:v.blocks) && void 0 !== u?u:0,m+=w,p.push({stream:y,blocks:w,Wd:k}),null === v || void 0 === v?!0:!v.xDa) || (k=0,g-=v.xDa);});return {Onb:p,$ob:m};};l.prototype.Ylc=function(h,n){this.oO[h].ae=n;};l.prototype.E2b=function(h,n,c){var f;f=this.oO[0].ae;h >= f?(f=[f,this.first.length - 1],n=[n,c.length - 1]):(f=[0,f],n=[0,n]);n=(h - f[0]) * (n[1] - n[0]) / (f[1] - f[0]) + n[0];return Math.round(isNaN(n)?h:n);};return l;})();b.UU=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OT=void 0;b.OT=(function(){function a(){}a.$ba=function(d,l){var c;function h(f){return n(c++)(f,h);}function n(f){return f >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(f));}:l[f];}c=0;return h(d);};return a;})();},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jwa=b.vp=b.isEqual=b.a_=void 0;d=a(8);l=a(258);b.a_=function(h){return !!h.N;};b.isEqual=function(h,n){var c,f;c=(0,b.a_)(h);f=(0,b.a_)(n);return c === f?c?h.N === n.N:h.na === n.na:!1;};b.vp=function(h){if((0,b.a_)(h))return h.N;h=h.na;return h.T[h.ke].N;};b.jwa=function(h,n){var c;return h.j9?h.j9 instanceof d.O?(h=(0,l.xX)(n,(0,b.vp)(h.key),h.j9),(null === h || void 0 === h?0:h.offset.greaterThan(d.O.Oa))?h:{offset:d.O.Oa,S:null !== (c=null === h || void 0 === h?void 0:h.S) && void 0 !== c?c:n.ke}):h.j9:{offset:d.O.Oa,S:n.ke};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ux=void 0;r=b.ux || (b.ux={});r[r.UGa=0]="up";r[r.VX=1]="down";},function(r,b,a){var l,h,n;function d(c){var f;f=(/^.+:ad\-(\d+)\-(\d+)$/).exec(c);if(f)return {o8:parseInt(f[2]),Im:parseInt(f[1]),vK:!1};if(c=(/^.+:pad((end)|(start))-(\d+)$/).exec(c))return {Im:parseInt(c[4]),vK:!0,A0:c[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.i9a=b.TJ=b.iIa=void 0;l=a(405);h=a(8);n=a(471);r=(function(){function c(f,g,k){this.Cv=f;this.$c=g;this.Ng=k;}c.prototype.QWb=function(f){for(var g,k,m=d(null === f || void 0 === f?void 0:f.S),p=this.Cv.na,q,v=p.T[f.S],t=v,w=[f.S],u=this.$c.na.T[t.tc].N;t && t.tc === v.tc && t.N !== u;){w.push(t.dc);t=p.T[t.dc];}w.pop();p=null !== (q=w.pop()) && void 0 !== q?q:f.S;q=d(p);f=this.Cv.na.T[f.S];p=this.Cv.na.T[p];f=(null !== (g=f.Aa) && void 0 !== g?g:Infinity) - f.Ba;g=(null !== (k=p.Aa) && void 0 !== k?k:Infinity) - p.Ba;return {start:(null === m || void 0 === m?0:m.vK)?new n.tia(l.xM.start,f):void 0,end:(null === q || void 0 === q?0:q.vK)?new n.tia(l.xM.end,g):void 0};};Object.defineProperties(c.prototype,{JC:{get:function(){if(this.Cv.X.tf)return this.NWb(this.Cv.X.Ni);},enumerable:!1,configurable:!0}});c.prototype.NWb=function(f){var g,k,m;k=d(f.S);if(k){m=null === (g=this.$c.mi) || void 0 === g?void 0:g.ex(f);g=this.Ng.yf[this.$c.na.T[m.S].N][k.Im];m=this.QWb(f);m=new n.yIa(g,m.start,m.end);for(var p=this.Cv.na,q=p.T[f.S],v=q,t=-f.offset.Z,w=this.$c.na.T[v.tc].N;v && v.tc === q.tc && v.N !== w;){t+=v.Aa - v.Ba;v=p.T[v.dc];}p=h.O.Na(t);q=p.Fa(m.kY.duration);k.vK && ("end" === k.A0?q=h.O.Oa:(v=m.Gga.duration.Fa(f.offset),q=q.Fa(v)));m={$e:m,progress:{wGb:g.duration.Fa(q),yGb:1 - Math.max(0,q.Z) / g.duration.Z,zGb:m.duration.Fa(p),AGb:1 - Math.max(0,p.Z) / m.duration.Z},position:f,index:k.Im};p=this.Cv.na.T[f.S];p=p.Aa - p.Ba;f=f.offset.Z / p;k.vK?m.Rhb={I$b:f,LBa:k.A0,wea:h.O.Na(p)}:m.uE={dg:g.zf[k.o8],V_a:f,index:k.o8};return m;}};c.prototype.PWb=function(f,g){var k,m;k=f.S;m=this.S_b(f);if(k=d(k))return (f=this.Ng.yf[m][k.Im],k.vK?{$e:f,A0:k.A0}:{$e:f,dg:f.zf[k.o8]});if(f=this.Ng.lFa(m,f,g))return {$e:f};};c.prototype.TJ=function(f){return d(f);};c.prototype.S_b=function(f){var g,k;k=this.$c;f=null === (g=k.mi) || void 0 === g?void 0:g.ex(f);return k.na.T[f.S].N;};return c;})();b.iIa=r;b.TJ=d;b.i9a=function(c){if(c=(/^.+-(\d+)$/).exec(c))return {X3a:parseInt(c[1])};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oU="LogblobBuilderFactorySymbol";b.pka="LogblobBuilderCommonSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zxb="NativeLocalStorageSymbol";b.bRa="NativeLocalStorageFactorySymbol";b.MNa="IDBFactorySymbol";},function(r,b,a){var l,h;function d(n){switch(n){case l.Y.dU:return "http";case l.Y.fU:return "connectiontimeout";case l.Y.uH:return "readtimeout";case l.Y.qNa:return "corruptcontent";case l.Y.AD:return "abort";case l.Y.gU:case l.Y.Qja:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.iwa=b.D$a=b.Xva=void 0;l=a(4);h=a(14);b.Xva=d;b.D$a=function(n,c){n={errorcode:n + (c.errorCode || l.aa.Ko)};c.Da && (n.errorsubcode=c.Da);c.Wf && (n.errorextcode=c.Wf);c.Jta && (n.erroredgecode=c.Jta);c.Tb && (n.errordetails=c.Tb);c.Xl && (n.httperr=c.Xl);c.Lda && (n.aseneterr=c.Lda);c.eF && (n.errordata=c.eF);c.N_ && (n.mediaerrormessage=c.N_);(c=d(Number(c.Da))) && (n.nwerr=c);return n;};b.iwa=function(){return {screensize:h.xx.width + "x" + h.xx.height,screenavailsize:h.xx.availWidth + "x" + h.xx.availHeight,clientsize:mb.innerWidth + "x" + mb.innerHeight,devicePixelRatio:h.$Qa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gv={SU:"START_SLATE",hka:"LIVE_EVENT",wja:"END_SLATE"};b.aPa="LivePlaybackManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mU="LicenseProviderSymbol";},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.a6b=b.aib=b.R$b=b.n9a=b.aac=b.vrb=b.urb=b.Lz=b.HHa=b.trb=b.j3=void 0;d=a(23);l=a(22);b.j3="$attributes";b.trb="$children";b.HHa="$name";b.Lz="$text";b.urb="$parent";b.vrb="$sibling";b.aac=/^\s*<\?xml.*\?>/i;b.n9a=function(h,n,c){for(var f=2;f < arguments.length;++f){;}for(f=1;(n=arguments[f++]) && (h=h[n]);){;}return h;};b.R$b=function(h,n){var c;h?c=(0,d.Fk)(h[b.Lz]):void 0 !== n && (c=n);(0,l.HX)(c);return c;};b.aib=function(h,n){var c;h?c=h[b.Lz]:void 0 !== n && (c=n);(0,l.c5a)(c);return c;};b.a6b=function(h,n){var c;c={};c[b.j3]=h;c[b.Lz]=n;return c;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DD=void 0;r=b.DD || (b.DD={});r[r.Noc=8]="Backspace";r[r.Psc=9]="Tab";r[r.Spc=13]="Enter";r[r.Isc=16]="Shift";r[r.jpc=17]="Ctrl";r[r.poc=18]="Alt";r[r.Vrc=19]="PauseBreak";r[r.apc=20]="CapsLock";r[r.Upc=27]="Escape";r[r.Ksc=32]="Space";r[r.Urc=33]="PageUp";r[r.Trc=34]="PageDown";r[r.Rpc=35]="End";r[r.wqc=36]="Home";r[r.Dqc=37]="LeftArrow";r[r.Xsc=38]="UpArrow";r[r.esc=39]="RightArrow";r[r.zpc=40]="DownArrow";r[r.Aqc=45]="Insert";r[r.wpc=46]="Delete";r[r.ftc=48]="Zero";r[r.Krc=49]="One";r[r.Ssc=50]="Two";r[r.Qsc=51]="Three";r[r.qqc=52]="Four";r[r.oqc=53]="Five";r[r.Jsc=54]="Six";r[r.Hsc=55]="Seven";r[r.Qpc=56]="Eight";r[r.urc=57]="Nine";r[r.hoc=65]="A";r[r.qoc=66]="B";r[r.Uoc=67]="C";r[r.Ftb=68]="D";r[r.E=69]="E";r[r.Vpc=70]="F";r[r.rqc=71]="G";r[r.uqc=72]="H";r[r.xqc=73]="I";r[r.Bqc=74]="J";r[r.bka=75]="K";r[r.Dwb=76]="L";r[r.Hqc=77]="M";r[r.Wqc=78]="N";r[r.Hrc=79]="O";r[r.Mrc=80]="P";r[r.Q=81]="Q";r[r.asc=82]="R";r[r.ezb=83]="S";r[r.Pzb=84]="T";r[r.Tsc=85]="U";r[r.Ysc=86]="V";r[r.$sc=87]="W";r[r.zma=88]="X";r[r.dtc=89]="Y";r[r.etc=90]="Z";r[r.Eqc=91]="LeftWindowKey";r[r.fsc=92]="RightWindowKey";r[r.Fsc=93]="SelectKey";r[r.xrc=96]="Numpad0";r[r.yrc=97]="Numpad1";r[r.zrc=98]="Numpad2";r[r.Arc=99]="Numpad3";r[r.Brc=100]="Numpad4";r[r.Crc=101]="Numpad5";r[r.Drc=102]="Numpad6";r[r.Erc=103]="Numpad7";r[r.Frc=104]="Numpad8";r[r.Grc=105]="Numpad9";r[r.Vqc=106]="Multiply";r[r.ooc=107]="Add";r[r.Lsc=109]="Subtract";r[r.vpc=110]="DecimalPoint";r[r.ypc=111]="Divide";r[r.Wpc=112]="F1";r[r.$pc=113]="F2";r[r.aqc=114]="F3";r[r.bqc=115]="F4";r[r.cqc=116]="F5";r[r.dqc=117]="F6";r[r.eqc=118]="F7";r[r.fqc=119]="F8";r[r.gqc=120]="F9";r[r.Xpc=121]="F10";r[r.Ypc=122]="F11";r[r.Zpc=123]="F12";r[r.wrc=144]="NumLock";r[r.Dsc=145]="ScrollLock";r[r.Gsc=186]="SemiColon";r[r.Tpc=187]="Equals";r[r.fpc=188]="Comma";r[r.tpc=189]="Dash";r[r.Xrc=190]="Period";r[r.pqc=191]="ForwardSlash";r[r.Rsc=192]="Tilde";r[r.Lrc=219]="OpenBracket";r[r.Moc=220]="BackSlash";r[r.cpc=221]="CloseBracket";r[r.$rc=222]="Quote";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JM=void 0;b.JM=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qja=b.rLa=void 0;b.rLa=function(){this.U=0;this.J=1;this.Avb=2;this.Xf=function(){};};b.qja="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gc=void 0;b.Gc=a;a.jf={rRa:"mr1",qRa:"mr2",sRa:"mr3",GU:"mr4",Ixb:"mr5",JH:"mr6"};a.dd={UNSENT:0,OPENED:1,qA:2,oA:3,DONE:5,IM:6,tT:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.d4={NO_ERROR:-1,mub:0,MKa:1,zub:2,qub:3,qtb:4,TJa:5,RJa:6,rtb:7,stb:8,ttb:9,ntb:10,ptb:11,SJa:12,otb:13,mtb:14,Gvb:15,oNa:16,nNa:17,Nja:18,b5:19,Oja:20,Pja:21,Ivb:22,c5:23,pNa:24,Hvb:25,uub:26,nub:27,szb:28,dub:29,eub:30,fub:31,gub:32,hub:33,iub:34,jub:35,kub:36,lub:37,oub:38,pub:39,rub:40,tub:41,vub:42,wub:43,xub:44,yub:45,Aub:46,Bub:47,rzb:48,TIMEOUT:49,kNa:50,lNa:51,Fvb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Yc={eS:{Krb:!0,hN:!1,uxb:!0}};},function(r,b){function a(){var d;d=this;this.My=!1;this.trace=[];this.a$=function(){d.Sta.Gk(function(){d.Ft();});};}Object.defineProperty(b,"__esModule",{value:!0});b.xm=void 0;a.prototype.start=function(d){var l;l=this;this.j=d;this.Le=this.j.Fq();this.My || (this.Le.Kn.addListener(this.Ft),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.v1();};a.prototype.unsubscribe=function(){this.Le.Kn.removeListener(this.Ft);this.My=!1;this.v1();};b.xm=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.jl=void 0;d=a(17);l=a(19);r=a(4);h=a(22);n=a(10);c=a(521);f=a(14);g=a(34);k=a(45);m=n.Ga.get(g.xj);m.register(r.aa.Uja,function(p){var q,v,t;q=n.Ga.get(k.Vp);(0,h.wa)(l.config);(0,h.wa)(f.HD && f.HD.getDeviceId || f.ZQa || q.PP);v=n.Ga.get(c.iLa);t=(0,n.sk)("Device");m.ef("devs");v.create({deviceId:l.config.deviceId,PP:q.PP,I5a:"deviceid",Yl:l.config.Yl,Aq:q.Aq,PX:q.PX,userAgent:f.HH,pza:l.config.pza,sva:l.config.sva,mxc:l.config.JB?"mslstoretest":"mslstore",dT:l.config.dT}).then(function(w){b.jl=w;mb._cad_global.device=b.jl;t.info("Esn source: " + b.jl.K$);m.ef("devdone");p(d.th);}).catch(function(w){w.ja=void 0;p(w);});});},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof mb && (b=mb);}r.exports=b;},function(r,b,a){b=a(612);r.exports=Function.prototype.bind || b;},function(r,b,a){var d;d=a(321);r.exports=function(){return d() && !!Symbol.toStringTag;};},function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},function(r,b,a){var d,l,h,n;b=a(40);d=b("%TypeError%");l=b("%SyntaxError%");h=a(108);n={"Property Descriptor":function(c){var f,g;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(g in c){if(h(c,g) && !f[g])return !1;}f=h(c,"[[Value]]");c=h(c,"[[Get]]") || h(c,"[[Set]]");if(f && c)throw new d("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(647),"Iterator Record":function(c){return h(c,"[[Iterator]]") && h(c,"[[NextMethod]]") && h(c,"[[Done]]");},"PromiseCapability Record":function(c){return c && h(c,"[[Resolve]]") && "function" === typeof c["[[Resolve]]"] && h(c,"[[Reject]]") && "function" === typeof c["[[Reject]]"] && h(c,"[[Promise]]") && c["[[Promise]]"] && "function" === typeof c["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(c){return c && h(c,"[[Completion]]") && h(c,"[[Capability]]") && n["PromiseCapability Record"](c["[[Capability]]"]);}};r.exports=function(c,f,g,k){var m;m=n[f];if("function" !== typeof m)throw new l("unknown record type: " + f);if("Object" !== c(k) || !m(k))throw new d(g + " must be a " + f);};},function(r,b){var d;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.wH=void 0;d=/^\S+$/;a.prototype.tJ=function(l){return void 0 !== l;};a.prototype.Ch=function(l){return null !== l && void 0 !== l;};a.prototype.IW=function(l){return a.H0a(l);};a.prototype.apa=function(l){return !(!l || !a.H0a(l));};a.prototype.wE=function(l){return Array.isArray(l);};a.prototype.I0a=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.Rl=function(l,h,n){return a.O_a(l,h,n);};a.prototype.$oa=function(l){return a.$oa(l);};a.prototype.Jpa=function(l,h,n){return a.C8(l,h,n) && 0 === l % 1;};a.prototype.JW=function(l,h,n){return a.C8(l,h || 0,n);};a.prototype.sW=function(l){return a.C8(l,1);};a.prototype.hGb=function(l){return a.C8(l,0,255);};a.prototype.iGb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.J0a=function(l){return !(!l || !d.test(l));};a.prototype.Mr=function(l){return a.P_a(l);};a.prototype.Vo=function(l){return !(!a.P_a(l) || !l);};a.prototype.j8=function(l){return !0 === l || !1 === l;};a.prototype.l8=function(l){return "function" == typeof l;};a.P_a=function(l){return "string" == typeof l;};a.O_a=function(l,h,n){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === h || l >= h) && (void 0 === n || l <= n);};a.$oa=function(l){return "number" == typeof l && isNaN(l);};a.C8=function(l,h,n){return a.O_a(l,h,n) && 0 === l % 1;};a.H0a=function(l){return "object" == typeof l;};b.wH=new a();},function(r,b,a){var d,l,h,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.vc=void 0;r=a(1);d=a(81);l=a(681);h=a(227);n=a(738);c=a(745);f=a(749);a=a(1448);b.vc=new r.H3({PL:!0});(0,f.Ydb)(b.vc);b.vc.load(l.platform);b.vc.load(n.config);h.rP.load(c.u6a);b.vc.load(a.N0a);b.vc.load(a.profile);b.vc.bind(d.uOa).pn(b.vc);},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(221);r=(function(){function l(h){this.Lc=h;}l.prototype.az=function(h){this.Lc.az=h;return new d.Jia(this.Lc);};return l;})();b.z3=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(220);a(331);r=(function(){function l(h){this.Lc=h;}l.prototype.when=function(h){this.Lc.lJ=h;return new d.z3(this.Lc);};l.prototype.d3=function(){this.Lc.lJ=function(h){return null !== h.target && !h.target.iya() && !h.target.vya();};return new d.z3(this.Lc);};return l;})();b.Jia=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qla="PlatformEmeSymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var h,n,c,f;function d(g,k,m){for(var p=m.next();!p.done;){if((k=g["@@transducer/step"](k,p.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p=m.next();}return g["@@transducer/result"](k);}function l(g,k,m,p){return g["@@transducer/result"](m[p](c(g["@@transducer/step"],g),k));}h=a(690);n=a(692);c=a(693);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(g,k,m){"function" === typeof g && (g=n(g));if(h(m)){for(var p=0,q=m.length;p < q;){if((k=g["@@transducer/step"](k,m[p])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p+=1;}return g["@@transducer/result"](k);}if("function" === typeof m["fantasy-land/reduce"])return l(g,k,m,"fantasy-land/reduce");if(null != m[f])return d(g,k,m[f]());if("function" === typeof m.next)return d(g,k,m);if("function" === typeof m.reduce)return l(g,k,m,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(d){return a.apply(this,arguments);};case 2:return function(d,l){return a.apply(this,arguments);};case 3:return function(d,l,h){return a.apply(this,arguments);};case 4:return function(d,l,h,n){return a.apply(this,arguments);};case 5:return function(d,l,h,n,c){return a.apply(this,arguments);};case 6:return function(d,l,h,n,c,f){return a.apply(this,arguments);};case 7:return function(d,l,h,n,c,f,g){return a.apply(this,arguments);};case 8:return function(d,l,h,n,c,f,g,k){return a.apply(this,arguments);};case 9:return function(d,l,h,n,c,f,g,k,m){return a.apply(this,arguments);};case 10:return function(d,l,h,n,c,f,g,k,m,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ima="StringUtilsSymbol";},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C;Object.defineProperty(b,"__esModule",{value:!0});b.rP=b.t6a=void 0;r=a(1);d=a(128);l=a(343);h=a(228);n=a(229);c=a(721);f=a(723);g=a(100);k=a(145);m=a(724);p=a(174);q=a(725);v=a(230);t=a(726);w=a(232);u=a(730);y=a(351);x=a(734);z=a(352);B=a(736);A=a(234);C=a(737);b.t6a=new r.Kd(function(D){D(l.vLa).to(h.uLa).la();D(n.Wia).to(c.ZJa).la();D(d.a4).A2(f.yjb);D(z.IOa).to(B.HOa).la();D(A.eka).to(C.JOa).la();D(g.eA).XG(function(E){b.rP.parent=E.xb;return b.rP.get(g.eA);});D(k.wU).Te(function(){return function(){return new m.zQa();};});D(p.F3).to(q.aKa).la();D(v.xja).to(t.ZLa).la();D(w.rja).to(u.ALa).la();D(y.wQa).to(x.vQa).la();});b.rP=new r.H3({PL:!0});},function(r,b,a){var h;function d(){}function l(n){n?(this.active=!1,this.Uua(n)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.uLa=b.Z3=void 0;r=a(0);a=a(1);l.prototype.Uua=function(n){this.cf=n.keySessionData?n.keySessionData.map(function(c){return {id:c.id,EK:c.licenseContextId,n_:c.licenseId};}):[];this.sa=n.xid;this.L=n.movieId;};l.prototype.cx=function(){return JSON.parse(JSON.stringify({keySessionData:this.cf?this.cf.map(function(n){return {id:n.id,licenseContextId:n.EK,licenseId:n.n_};}):[],xid:this.sa,movieId:this.L}));};b.Z3=l;d.prototype.create=function(){return new l();};d.prototype.load=function(n){return new l(n);};h=d;h=r.__decorate([(0,a.$)()],h);b.uLa=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wia="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xja="EmeApiFactorySymbol";},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x,z){this.Z_=t;this.is=w;this.yc=u;this.bj=y;this.Kj=x;this.Ei=z;(0,n.Qq)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Ax=void 0;r=a(0);h=a(1);n=a(54);c=a(4);f=a(37);g=a(25);k=a(99);m=a(32);p=a(30);q=a(62);a=a(69);d.prototype.OB=function(){if(this.Eb)return this.Eb.sessionId;};d.prototype.yec=function(t,w){return this.Z_.requestMediaKeySystemAccess(t,w);};d.prototype.createMediaKeys=function(t){return t.createMediaKeys();};d.prototype.createSession=function(t,w){this.Eb=t.createSession(w);};d.prototype.V9=function(){return Promise.reject(new k.Yh(c.aa.c4));};d.prototype.C3b=function(){return !!this.Eb;};d.prototype.setServerCertificate=function(t,w){return this.is.l8(t.setServerCertificate) && w?t.setServerCertificate(w):Promise.resolve();};d.prototype.generateRequest=function(t,w){return this.Eb?this.Eb.generateRequest(t,w[0]):Promise.reject(new k.Yh(c.aa.c4,c.Y.GM,void 0,"Unable to generate a license request, key session is not valid"));};d.prototype.update=function(t){return this.Eb?this.Eb.update(t[0]):Promise.reject(new k.Yh(c.aa.QLa,c.Y.GM,void 0,"Unable to update the EME with a response, key session is not valid"));};d.prototype.load=function(t){return this.Eb?this.Eb.load(t):Promise.reject(new k.Yh(c.aa.cvb,c.Y.GM,void 0,"Unable to load a key session, key session is not valid"));};d.prototype.close=function(){var t;this.Jra=void 0;if(!this.Eb)return Promise.reject(new k.Yh(c.aa.ILa,c.Y.GM,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.OB() && (t=this.Eb.close());this.Eb=void 0;return t;};d.prototype.remove=function(){return this.Eb?this.Eb.remove():Promise.reject(new k.Yh(c.aa.evb,c.Y.GM,void 0,"Unable to remove a key session, key session is not valid"));};d.prototype.sL=function(){return Promise.reject(new k.Yh(c.aa.uja,void 0,"Unable to renew a key session, not supported"));};d.prototype.i0a=function(t){if(!this.Eb)throw ReferenceError("Unable to add message handler, key session is not valid");this.Eb.addEventListener(l.VLa,t);};d.prototype.e0a=function(t){if(!this.Eb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Eb.addEventListener(l.ULa,t);};d.prototype.b0a=function(t){if(!this.Eb)throw ReferenceError("Unable to add error handler, key session is not valid");this.Eb.addEventListener(l.TLa,t);};d.prototype.LGb=function(t){var w;w=this;if(!this.Eb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Jra=t;this.Eb.closed.then(function(u){var y;return null === (y=w.Jra) || void 0 === y?void 0:y.call(w,u);});};d.prototype.ykb=function(t){if(!this.Eb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Eb.removeEventListener(l.VLa,t);};d.prototype.vkb=function(t){if(!this.Eb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Eb.removeEventListener(l.ULa,t);};d.prototype.tkb=function(t){if(!this.Eb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Eb.removeEventListener(l.TLa,t);};v=l=d;v.VLa="message";v.ULa="keystatuseschange";v.TLa="error";v=l=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(f.XM)),r.__param(1,(0,h.l)(g.ah)),r.__param(2,(0,h.l)(p.Fi)),r.__param(3,(0,h.l)(m.Ii)),r.__param(4,(0,h.l)(q.Ws)),r.__param(5,(0,h.l)(a.dt))],v);b.Ax=v;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rja="DrmTraitsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xxa=b.qx=void 0;(function(a){a.nqb="usable";a.Uv="expired";a.released="released";a.Chb="output-restricted";a.w$b="output-downscaled";a.Fic="status-pending";a.C2b="internal-error";})(b.qx || (b.qx={}));b.Xxa=function(a){return !!a && !!a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eka="KeySystemRestrictorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yia="CachedErrorsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XU="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sk="_ANY_";b.iMa="EnricherSymbol";},function(r,b,a){var l,h,n;function d(c,f,g,k){this.Ia=c;this.r9=f;this.Jp=g;this.uq=void 0 === k?"General":k;this.Mra={};}Object.defineProperty(b,"__esModule",{value:!0});b.OM=void 0;l=a(7);h=a(370);n=a(780);d.prototype.Z_a=function(c,f){this.Mra[c]=f;};d.prototype.fatal=function(c,f){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.qE(l.Ok.ovb,c,this.fT(c,g));};d.prototype.error=function(c,f){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.qE(l.Ok.mg,c,this.fT(c,g));};d.prototype.warn=function(c,f){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.qE(l.Ok.wma,c,this.fT(c,g));};d.prototype.info=function(c,f){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.qE(l.Ok.Sja,c,this.fT(c,g));};d.prototype.trace=function(c,f){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.qE(l.Ok.eWa,c,this.fT(c,g));};d.prototype.debug=function(c,f){for(var g=1;g < arguments.length;++g){;}!1;};d.prototype.log=function(c,f){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.debug.apply(this,[c].concat(ia(g)));};d.prototype.write=function(c,f,g){for(var k=[],m=2;m < arguments.length;++m){k[m - 2]=arguments[m];}this.qE(c,f,this.fT(f,k));};d.prototype.toString=function(){return JSON.stringify(this);};d.prototype.toJSON=function(){return {category:this.uq};};d.prototype.T9=function(c){return new d(this.Ia,this.r9,this.Jp,c);};d.prototype.qE=function(c,f,g){c=new h.nka(c,this.uq,this.Ia.Qb(),f,g);f=oa(this.Jp.Jp);for(g=f.next();!g.done;g=f.next()){g=g.value;g(c);}};d.prototype.vXb=function(c){return 0 < Object.keys(this.Mra).length?[this.Mra].concat(ia(c)):c;};d.prototype.fT=function(c,f){var g;c && "null" !== c && "undefined" !== c || f.push({StackTrace:null !== (g=Error("Empty message").stack) && void 0 !== g?g:"nostack"});return (0,n.g2a)(this.r9,this.vXb(f));};b.OM=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zla="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jla="PboPlaydataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ala="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dka="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mja="HLSConfigSymbol";},function(r,b,a){var E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T,W,Q,ka,ra,R,fa,wa,ua,Ea,Xa,vb,nb,zb;function d(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function l(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function h(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function n(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);this.rFa=Ma.config.rFa;this.Ne=this.sizes=void 0;}function c(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function f(){for(var Ma=new DataView(this),Ya="",bb,hb=0;hb < this.byteLength;hb++){bb=Ma.getUint8(hb);Ya+=("00" + bb.toString(16)).slice(-2);}return Ya;}function g(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function k(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function m(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function p(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function q(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function v(Ma){function Ya(bb,hb,kb,ob,Bb){K.call(this,bb,hb,kb,ob,Bb);this.tgb=Ma;}Ya.zd=!1;Ya.prototype=new K();Ya.prototype.constructor=Ya;Object.defineProperties(Ya.prototype,{PKa:{get:function(){return this.tgb;}}});Ya.prototype.parse=function(){this.R.console.trace("renaming '" + this.type + "' to draft type '" + this.tgb + "'");this.R.offset=this.startOffset + 4;this.Xb.qrb(this.PKa);this.type=this.PKa;return !0;};return Ya;}function t(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function w(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function u(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function y(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function x(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function z(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function B(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function A(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function C(Ma,Ya,bb,hb,kb){K.call(this,Ma,Ya,bb,hb,kb);}function D(Ma,Ya){Ma.forEach(function(bb){Ya[bb.Af]=bb;});}E=a(103).assert;b=a(104);G=a(181).O;F=a(385);a(149);a(90);a(90);a(90);K=a(24).Gg;O=a(802).default;L=a(803).default;I=a(804).default;M=a(805).default;H=a(806).default;J=a(807).default;N=a(808).default;P=a(809).default;X=a(810).default;a(245);a(182);V=a(386).Frb;S=a(386).Vub;U=a(811).default;ha=a(812).default;qa=a(91).default;xa=a(91).bsb;Aa=a(91).csb;Oa=a(91).dsb;T=a(91).esb;W=a(813).default;Q=a(814).default;ka=a(815).default;ra=a(91).Jvb;R=a(91).Cvb;fa=a(91).$rb;wa=a(816).default;ua=a(817).default;Ea=a(818).default;Xa=a(387).default;vb=a(388).default;a(150);a(248);a(249);a(247);nb=a(819).default;zb=a(820).Uzb;a=a(836).default;d.zd=!0;d.prototype=new K();d.prototype.constructor=d;l.zd=!0;l.prototype=new K();l.prototype.constructor=l;h.zd=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(Ma){var Ya;this.Vh();1 === this.version?(this.R.lm(),this.R.lm(),this.V=this.R.mc(),this.duration=this.R.lm()):(this.R.mc(),this.R.mc(),this.V=this.R.mc(),this.duration=this.R.mc());Ya=this.R.Kh() & 32767;this.language=String.fromCharCode(96 + (Ya >>> 10),96 + (Ya >>> 5 & 31),96 + (Ya & 31));Ma && Ma.If && (Ma.If.V=this.V,Ma.If.duration=this.duration);return !0;};n.zd=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.jEb=function(){this.Vh();this.R.mc();this.V=this.R.mc();0 === this.version?(this.o6a=this.R.mc(),this.W7a=this.R.mc()):(this.o6a=this.R.lm(),this.W7a=this.R.lm());this.Pec=this.R.Kh();this.nkb=this.R.Kh();};n.prototype.eBb=function(Ma,Ya){var bb,hb,kb;bb=this.V;Ma=Ma && Ma.V || bb;hb=Ma / bb;bb=this.R.ifa(Ya,12,!1);kb=1 === hb?this.R.ifa(Ya,12,!1):F.from(Uint32Array,{length:Ya},function(){var ob;ob=Math.round(this.R.mc() * hb);this.R.offset+=8;return ob;},this);this.SFb(Ya,kb,bb,Ma);};n.prototype.SFb=function(Ma,Ya,bb,hb){if(this.rFa){hb=this.rFa * hb / 1E3;for(var kb=0,ob=1;ob < Ma;ob++){Math.abs(Ya[kb] - hb) > Math.abs(Ya[kb] + Ya[ob] - hb)?(Ya[kb]+=Ya[ob],bb[kb]+=bb[ob]):(++kb,kb !== ob && (Ya[kb]=Ya[ob],bb[kb]=bb[ob]));}++kb;Ya=new Uint32Array(Ya.buffer.slice(0,4 * kb));bb=new Uint32Array(bb.buffer.slice(0,4 * kb));}this.sizes=bb;this.Ne=Ya;};n.prototype.parse=function(Ma){var Ya,bb,hb,kb;this.jEb();this.da=Ma.da;Ya=this.V;bb=this.da && this.da.V || Ya;hb=this.nkb;kb=this.startOffset + this.length + this.W7a;Ya=new G(this.o6a,Ya).Ue(bb).Ca;this.ma={V:bb,vo:Ya,offset:kb};this.eBb(this.da,hb);this.ma.Ne=this.Ne;this.ma.sizes=this.sizes;Ma.sm=this;return !0;};c.zd=!1;c.prototype=new K();c.prototype.constructor=c;c.prototype.parse=function(){var Ma;this.Jz=[];this.uac=[];Ma=(this.length - 11) / 2;this.R.Od();this.R.Od();this.R.Od();for(var Ya=0;Ya < Ma;Ya++){this.Jz.push(this.R.Od());this.uac.push(this.R.Od());}return !0;};g.zd=!1;g.prototype=new K();g.prototype.constructor=g;g.prototype.parse=function(Ma){var Ya;this.Vh();this.R.offset+=1;if(0 == this.version)this.R.offset+=1;else {Ya=this.R.Od();this.QQb=Ya >> 4;this.WQb=Ya & 15;Ma && Ma.If && (Ma.If.Luc=this.QQb,Ma.If.Ouc=this.WQb);}this.u5a=this.R.Od();this.t5a=this.R.Od();this.Fya=this.R.offset;this.Pq=this.R.kfa(16);this.Pq.toString=f;Ma && Ma.If && (Ma.If.Muc=this.u5a,Ma.If.SQb=this.t5a,Ma.If.Nuc=this.Pq);1 == this.u5a && 0 == this.t5a && (this.PQb=this.R.Od(),this.OQb=this.R.kfa(this.PQb),Ma && Ma.If && (Ma.If.RQb=this.OQb));return !0;};k.zd=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){this.Vh();this.Yr=this.R.Kh();this.U6b=this.R.ifa(this.Yr,void 0,!0);return !0;};m.zd=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.parse=function(Ma){var Ya,bb,hb,kb,ob,Bb;Ya=Ma.sm;E(Ya);Ma=Ma.da;bb=Ya.V;Ya=Ya.nkb;E(Ma);E(bb);E(Ya);this.Vh();E(2 > this.version);this.Yr=this.R.Kh();this.GR=new Uint16Array(Ya + 1);hb=Ma.hab(bb);kb=hb / bb;ob=Ma.Ue(hb).Ca;if(0 === this.version)for((this.gS=new Uint16Array(),this.Ui=new Uint32Array(),Ma=bb=0);Ma <= Ya;++Ma){if((this.GR[Ma]=bb,Ma < this.Yr)){Bb=this.R.Od();if(0 !== Bb)for(hb=0;hb < Bb;(++hb,++bb)){this.gS[bb]=Math.floor((this.R.mc() + 1) * kb) / ob;this.Ui[bb]=this.R.mc();}}}else if(1 === this.version)for((hb=this.R.Vcc(this.Yr),this.R.offset+=4,this.Ui=this.R.ifa(this.Yr,10,!1),this.R.offset-=8,this.gS=F.from(Uint16Array,{length:this.Yr},function(){var Hb;Hb=Math.floor((this.R.mc() + 1) * kb) / ob;this.R.offset+=6;return Hb;},this),bb=Ma=0);Ma <= Ya;++Ma){for(;bb < hb.length && hb[bb] < Ma;){++bb;}this.GR[Ma]=bb;}this.el={GR:this.GR,gS:this.gS,Ui:this.Ui};return !0;};p.zd=!0;p.prototype=Object.create(d.prototype);p.prototype.constructor=p;q.zd=!0;q.prototype=Object.create(d.prototype);q.prototype.constructor=q;q.prototype.JJ=function(){var Ma;Ma=this.gr("tfhd");Ma && (this.Bt=Ma.H1a?Ma.Bt:this.parent.startOffset);return !0;};t.zd=!1;t.prototype=new K();t.prototype.constructor=t;t.prototype.parse=function(){var Ma,Qb;Ma=this.R.offset;this.Vh();if(1 === this.version){this.R.console.trace("translating vpcC box to draft equivalent");this.R.offset+=2;for(var Ya=this.R.offset,bb=this.R.Od(),hb=this.R.Od(),kb=this.R.Od(),ob=this.R.Od(),Bb=this.R.Kh(),Hb=[],Kb=0;Kb < Bb;++Kb){Hb=this.R.Od();}Kb=(bb & 240) >>> 4;Qb=(bb & 14) >>> 1;bb&=1;kb=16 === kb?1:0;hb != ob && this.R.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + hb + " and matrixCoefficients " + ob + " should be the same value!");ob=2;switch(hb){case 1:ob=2;break;case 6:ob=1;break;case 9:ob=5;break;default:this.R.console.warn("VP9: Unknown colourPrimaries " + hb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Xb.Rha(this.version,Ma);this.Xb.Rha(Kb << 4 | ob,Ya++);this.Xb.Rha(Qb << 4 | kb << 1 | bb,Ya++);Bb+=2;Hb.push(0,0);this.Xb.Fnc(Bb);Ya+=2;Hb.forEach(function(Tb){this.Xb.Rha(Tb,Ya++);});}return !0;};w.zd=!1;w.prototype=new K();w.prototype.constructor=w;w.Af="tfhd";Object.defineProperties(w.prototype,{H1a:{get:function(){return this.flags & 1;}},vfc:{get:function(){return this.flags & 2;}},TQb:{get:function(){return this.flags & 8;}},VQb:{get:function(){return this.flags & 16;}},v5a:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Ma){this.Vh();this.YS=this.R.mc();this.Bt=this.H1a?this.R.lm():void 0;this.ylb=this.vfc?this.R.mc():void 0;this.ty=this.TQb?this.R.mc():void 0;this.DB=this.VQb?this.R.mc():void 0;this.CB=this.v5a?this.R.mc():void 0;Ma && Ma.pa && (Ma.pa.YS=this.YS,Ma.pa.Bt=this.Bt,Ma.pa.ylb=this.ylb,Ma.pa.ty=this.ty,Ma.pa.DB=this.DB,Ma.pa.CB=this.v5a?this.CB:void 0);return !0;};u.zd=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(Ma){this.Vh();this.XI=1 === this.version?this.R.lm():this.R.mc();Ma && Ma.pa && (Ma.pa.XI=this.XI);return !0;};u.prototype.La=function(Ma){var Ya;Ya=this.startOffset + 12;this.XI+=Ma;1 === this.version?this.Xb.Gnc(this.XI,Ya):this.Xb.hx(this.XI,Ya);};y.zd=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{VI:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Ma){this.Vh();this.VI && this.R.MC();this.VI && this.R.mc();this.UQb=this.R.Od();this.$d=this.R.mc();this.Z1b=this.R.jfa(this.$d);Ma && Ma.pa && (Ma.pa.wfc=this.Z1b);return !0;};y.prototype.La=function(Ma,Ya){if(Ma && 0 === this.UQb){Ma=Ya?this.$d - Ma:Ma;this.Xb.offset=this.startOffset + 13 + (this.VI?8:0);this.$d-=Ma;this.Xb.hx(this.$d);this.gEa=0;if(Ya)this.Xb.offset+=this.$d;else {for(Ya=0;Ya < Ma;++Ya){this.gEa+=this.Xb.Od();}this.Xb.offset-=Ma;}this.no(Ma,this.R.offset);}return !0;};x.zd=!1;x.prototype=Object.create(K.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{VI:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Ma){var Ya,bb,Kb,Qb;this.Vh();this.VI && this.R.MC();this.VI && this.R.mc();this.Yr=this.R.mc();E(1 === this.Yr,"Expected a single entry in Sample Auxiliary Information Offsets box");this.ep=0 === this.version?this.R.mfa():this.R.bdc();this.R.offset=this.ep;if(Ma && Ma.pa && Ma.If){Ya=Ma.If.SQb;bb=Ma.pa.wfc;E(0 < Ya || void 0 !== Ma.If.RQb,"Expected per sample or constant IV");E(0 < (bb || []).length,"Expected saix box parsing to find sample info sizes");Ma.pa.BL=[];for(var hb=0;hb < bb.length;hb++){for(var kb=Ya?this.R.kfa(Ya):void 0,ob=[],Bb=this.R.Kh(),Hb=0;Hb < Bb;Hb++){Kb=this.R.Kh();Qb=this.R.mc();ob.push({eKb:Kb,fKb:Qb});}Ma.pa.BL.push({$Fa:ob,Wja:kb});}}return !0;};x.prototype.La=function(Ma,Ya){this.ep+=Ma;this.Xb.offset=this.startOffset + 16 + (this.VI?8:0) + (0 === this.version?0:4);this.Xb.FHa(Ya,this.ep);return !0;};z.zd=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{Nhb:{get:function(){return this.flags & 1;}},Dqb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Ma){var Ya,Bb,Hb;this.Vh();Ya=0;this.Nhb && (Ya=this.W3b=this.R.mc() & 255,this.R.jfa(16));if(Ma && Ma.pa){if(Ma.pa.BL)return !0;Ma.pa.yl || (Ma.pa.yl=[]);}if(0 !== Ya && 8 !== Ya && 16 !== Ya)return !0;this.$d=this.R.mc();if(Ma && Ma.pa)for(var bb=0;bb < this.$d;bb++){if((Ma.pa.yl[bb].Wja=0 < Ya?this.R.kfa(Ya):void 0,this.Dqb)){for(var hb=[],kb=this.R.Kh(),ob=0;ob < kb;ob++){Bb=this.R.Kh();Hb=this.R.mc();hb.push({eKb:Bb,fKb:Hb});}Ma.pa.yl[bb].$Fa=hb;}}return !0;};z.prototype.La=function(Ma,Ya){var bb,hb;bb=Ya?this.$d - Ma:Ma;this.Xb.offset=this.startOffset + 28 + (this.Nhb?20:0);this.$d-=bb;this.Xb.hx(this.$d);Ma=this.Xb.offset;if(this.Dqb)for(bb=Ya?this.$d:bb;0 < bb;--bb){this.Xb.offset+=8;hb=this.Xb.Kh();this.Xb.offset+=6 * hb;}else this.Xb.offset+=8 * (Ya?this.$d:bb);Ya?this.no(this.length - (this.R.offset - this.startOffset),this.R.offset):this.no(this.R.offset - Ma,Ma);};B.zd=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(Ma){this.Vh();if(Ma && Ma.pa){void 0 === Ma.pa.yl && (Ma.pa.yl=[]);for(var Ya=0;Ya < this.length - 12;Ya++){Ma.pa.yl[Ya].kyc=this.R.Od();}}return !0;};B.prototype.La=function(Ma,Ya,bb){bb?this.no(Ya - Ma,this.startOffset + 12 + Ma):this.no(Ma,this.startOffset + 12);return !0;};A.zd=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.Vh();this.R.MC();1 === this.version && this.R.mc();this.Yr=this.R.mc();this.y1=[];for(var Ma=0;Ma < this.Yr;++Ma){for(var Ya=this.R.mc(),bb=this.R.mc(),hb=0;hb < Ya;++hb){this.y1.push(bb);}}return !0;};A.prototype.La=function(Ma,Ya){this.y1=Ya?this.y1.slice(0,Ma):this.y1.slice(Ma);Ma=this.y1.reduce(function(bb,hb){0 !== bb.length && bb[bb.length - 1].group === hb || bb.push({group:hb,count:0});++bb[bb.length - 1].count;return bb;},[]);this.Xb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Xb.hx(Ma.length);Ma.forEach((function(bb){this.Xb.hx(bb.count);this.Xb.hx(bb.group);}).bind(this));this.Yr > Ma.length && this.no(8 * (this.Yr - Ma.length));this.Yr=Ma.length;return !0;};C.zd=!1;C.prototype=Object.create(K.prototype);C.prototype.constructor=C;qa={ze:{moov:l,trak:d,mdia:d,mdhd:h,minf:d,encv:qa,schi:d,sidx:n,sinf:d,stbl:d,tenc:g,mvex:d,moof:p,traf:q,tfhd:w,trun:zb,sbgp:A,sdtp:B,saiz:y,saio:x,tfdt:u,mdat:C,vmaf:c},Okc:{vpcC:t,SmDm:v("smdm"),CoLL:v("coll")},opb:{schm:W},hEa:{}};D([Q,ka,J,N,a,P,ra,R,fa,O,M,Xa,vb,H,X,L,I,nb,zb],qa.ze);D([V,U,xa,Aa,Oa,T,S,ha,ua,wa],qa.hEa);D([Q,W],qa.opb);qa.ze[b.JRa]=g;qa.ze[b.q5]=k;qa.ze[b.p5]=m;qa.ze[b.IRa]=z;qa.hEa[b.Nka]=Ea;qa.Gg=K;r.exports={hR:qa};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=a(24);l=a(24);a=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.parse=function(c){this.R.offset+=6;this.R.Kh();l.M && this.R.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === c || void 0 === c?0:c.If)c.If.sfc=this.type;return !0;};return n;})(r.Gg);b.default=a;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(150),b);r.__exportStar(a(247),b);r.__exportStar(a(248),b);r.__exportStar(a(249),b);r=a(248);d=a(249);a=a(247);b.kP={3:a.RLa,4:r.YKa,5:d.Hub};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(24);r=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.parse=function(c){var f;this.kvb=this.R.Kh();f=this.R.Od();this.Pnb=!!(f & 128);this.MWa=!!(f & 64);this.pRa=!!(f & 32);this.Ric=f & 31;this.iRb=this.Pnb?this.R.Kh():void 0;this.MWa && this.R.jfa(this.R.Od());this.Hxb=this.pRa?this.R.Kh():void 0;l.M && this.R.console.trace("ESDescriptor: ES_ID=" + this.kvb + ", streamDependenceFlag=" + this.Pnb + ", URL_Flag=" + this.MWa + ", OCRstreamFlag=" + this.pRa + ", streamPriority=" + this.Ric + ", dependsOn_ES_ID=" + this.iRb + ", OCR_ES_Id=" + this.Hxb);this.VZa(c);return !0;};n.tag=3;return n;})(a(150).pja);b.RLa=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(24);r=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.parse=function(c){var f;this.bea=this.R.Od();f=this.R.Od();this.UFa=f >>> 2;this.VGa=f >>> 1 & 1;this.xqa=256 * this.R.Kh() + this.R.Od();this.maxBitrate=this.R.mc();this.h9=this.R.mc();l.M && this.R.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.bea.toString(16) + ", streamType=" + this.UFa + ", upStream=" + this.VGa + ", bufferSizeDB=" + this.xqa + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.h9);if(null === c || void 0 === c?0:c.pk)(c.pk.bea=this.bea,c.pk.UFa=this.UFa,c.pk.VGa=this.VGa,c.pk.xqa=this.xqa,c.pk.maxBitrate=this.maxBitrate,c.pk.h9=this.h9);this.VZa(c);return !0;};n.tag=4;return n;})(a(150).pja);b.YKa=r;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(24);r=a(150);h=a(246);a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.Xjb=function(){var f;f=this.R.Pd(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.R.Pd(24);};c.prototype.parse=function(f,g){if(this.W2b(g) && 64 === g.bea){if(null === f || void 0 === f?0:f.pk){g=this.R.m9a(this.length);for(var k=new ArrayBuffer(this.length),m=new Uint8Array(k),p=0;p < this.length;p++){m[p]=g.getUint8(p);}f.pk.Huc=k;}this.Sr=this.Pjb();this.Tfa=this.Xjb();this.ira=this.R.Pd(4);this.nEa=this.rY=5 === this.Sr || 29 === this.Sr?5:-1;this.WCa=29 === this.Sr?1:-1;0 < this.rY && (this.bua=this.Xjb(),this.Sr=this.Pjb(),22 === this.Sr && (this.aua=this.R.Pd(4)));switch(this.Sr){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.FY=this.R.Pd(1),this.hsa=(this.hRb=this.R.Pd(1))?this.R.Pd(14):void 0,this.R.Pd(1),this.PJ=3 === this.Sr?256:23 === this.Sr?this.FY?480:512:this.FY?960:1024);}l.M && this.R.console.trace("AudioSpecificConfig: audioObjectType=" + this.Sr + ", samplingFrequency=" + this.Tfa + ", channelConfiguration=" + this.ira + ", extensionAudioObjectType=" + this.rY + ", sbrPresentFlag=" + this.nEa + ", psPresentFlag=" + this.WCa + ", extensionSamplingFrequency=" + this.bua + ", extensionChannelConfiguration=" + this.aua + ", frameLengthFlag=" + this.FY + ", coreCoderDelay=" + this.hsa + ", frameLength=" + this.PJ);if(null === f || void 0 === f?0:f.pk)(f.pk.Sr=this.Sr,f.pk.Tfa=this.Tfa,f.pk.ira=this.ira,f.pk.rY=this.rY,f.pk.nEa=this.nEa,f.pk.WCa=this.WCa,f.pk.bua=this.bua,f.pk.aua=this.aua,f.pk.FY=this.FY,f.pk.hsa=this.hsa,f.pk.PJ=this.PJ);}this.skip();return !0;};c.prototype.Pjb=function(){var f;f=this.R.Pd(5);31 === f && (f=32 + this.R.Pd(6));return f;};c.prototype.W2b=function(f){return f.tag === h.YKa.tag;};c.tag=5;return c;})(r.pja);b.Hub=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A3=void 0;r=(function(){function a(d){this.data=d;this.Ct=this.Sb=this.Yd=0;this.view=new DataView(d.buffer,d.byteOffset,d.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Sb;},enumerable:!1,configurable:!0});a.prototype.read=function(d){if(0 === this.Yd){if(8 === d)return this.data[this.Sb++];if(16 === d)return (d=this.view.getUint16(this.Sb),this.Sb+=2,d);if(32 === d)return (d=this.view.getUint32(this.Sb),this.Sb+=4,d);}for(;this.Yd < d;){this.Ct=(this.Ct << 8) + this.data[this.Sb++];this.Yd+=8;}this.Yd-=d;return this.Ct >>> this.Yd & (1 << d) - 1;};a.prototype.advance=function(d){var l;if(d <= this.Yd)this.Yd-=d;else {d-=this.Yd;l=Math.floor(d / 8);this.Sb+=l;this.Ct=this.data[this.Sb++];this.Yd=8 - (d - 8 * l);}};a.prototype.write=function(d,l){var h,n;l&=(1 << d) - 1;if(0 === this.Yd){if(8 === d){this.data[this.Sb++]=l;return;}if(16 === d){this.view.setUint16(this.Sb,l);this.Sb+=2;return;}if(32 === d){this.view.setUint32(this.Sb,l);this.Sb+=4;return;}}if(0 < this.Yd){h=Math.min(d,this.Yd);n=this.data[this.Sb - 1] & (~((1 << this.Yd) - 1) ^ (1 << this.Yd - h) - 1);this.data[this.Sb - 1]=n ^ (d >= h?l >>> d - h:l << this.Yd - h);this.Yd-=h;d-=h;}for(;8 <= d;){d-=8;this.data[this.Sb++]=l >>> d & 255;}0 < d && (this.Yd=8 - d,n=this.data[this.Sb] & (1 << this.Yd) - 1,this.Ct=this.data[this.Sb++]=n ^ (l & (1 << d) - 1) << 8 - d);};a.prototype.reverse=function(d){0 !== this.Yd && d <= 8 - this.Yd?this.Yd+=d:(0 !== this.Yd && (d-=8 - this.Yd,--this.Sb),this.Sb-=Math.floor(d / 8),this.Ct=this.data[this.Sb - 1],this.Yd=d % 8);};a.prototype.bKb=function(){0 !== this.Yd && (this.Yd=0);};return a;})();b.A3=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;d=a(0);l=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);return n;})(Error);b.assert=function(h,n){if(!h)throw new l(n || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var l;for(var a=[],d=0;d < arguments.length;d++){a[d]=arguments[d];}a=Array.prototype.concat.apply([],a);d=a.reduce(function(h,n){return h + n.byteLength;},0);l=new Uint8Array(d);a.reduce(function(h,n){l.set(new Uint8Array(n),h);return h + n.byteLength;},0);return l.buffer;};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(390);l=a(244);h=a(391);r=(function(){function n(c,f,g){this.console=c;this.stream=f;this.view=g instanceof ArrayBuffer?new DataView(g):new DataView(g.data,g.offset,g.length);}n.prototype.parse=function(c){var f;f=new h.bLa(this.view.byteLength);this.Dg=new d.Kia(l.hR.ze,f,this.view,this.console,{PBa:!0});c=this.Dg.parse(c);this.ze=this.Dg.ze;return c;};return n;})();b.FH=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qY=b.pya=void 0;b.pya=function(a){return void 0 !== a && null !== a;};b.qY=function(){return null;};},function(r,b,a){var l,h;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Y3=void 0;l=a(42);h=a(127);d.Jt=function(){var n;n={};return (n[l.I.qH]="avc1.4D401E",n[l.I.rH]="avc1.4D401F",n[l.I.q4]="avc1.4D4028",n[l.I.QMa]="avc1.4D401E",n[l.I.RMa]="avc1.4D401F",n[l.I.SMa]="avc1.4D4028",n[l.I.Ija]="hev1.2.6.L90.B0",n[l.I.Jja]="hev1.2.6.L93.B0",n[l.I.Kja]="hev1.2.6.L120.B0",n[l.I.Lja]="hev1.2.6.L123.B0",n[l.I.M4]="hev1.2.6.L90.B0",n[l.I.P4]="hev1.2.6.L93.B0",n[l.I.S4]="hev1.2.6.L120.B0",n[l.I.V4]="hev1.2.6.L123.B0",n[l.I.$T]="hev1.2.6.L150.B0",n[l.I.aU]="hev1.2.6.L153.B0",n[l.I.N4]="hev1.2.6.L90.B0",n[l.I.Q4]="hev1.2.6.L93.B0",n[l.I.T4]="hev1.2.6.L120.B0",n[l.I.W4]="hev1.2.6.L123.B0",n[l.I.Y4]="hev1.2.6.L150.B0",n[l.I.a5]="hev1.2.6.L153.B0",n[l.I.L4]="hev1.2.6.L90.B0",n[l.I.O4]="hev1.2.6.L93.B0",n[l.I.R4]="hev1.2.6.L120.B0",n[l.I.U4]="hev1.2.6.L123.B0",n[l.I.X4]="hev1.2.6.L150.B0",n[l.I.Z4]="hev1.2.6.L153.B0",n[l.I.t4]="hev1.2.6.L90.B0",n[l.I.w4]="hev1.2.6.L93.B0",n[l.I.ZT]="hev1.2.6.L120.B0",n[l.I.B4]="hev1.2.6.L123.B0",n[l.I.E4]="hev1.2.6.L150.B0",n[l.I.H4]="hev1.2.6.L153.B0",n[l.I.u4]="hev1.2.6.L90.B0",n[l.I.x4]="hev1.2.6.L93.B0",n[l.I.z4]="hev1.2.6.L120.B0",n[l.I.C4]="hev1.2.6.L123.B0",n[l.I.F4]="hev1.2.6.L150.B0",n[l.I.I4]="hev1.2.6.L153.B0",n[l.I.s4]="hev1.2.6.L90.B0",n[l.I.v4]="hev1.2.6.L93.B0",n[l.I.y4]="hev1.2.6.L120.B0",n[l.I.A4]="hev1.2.6.L123.B0",n[l.I.D4]="hev1.2.6.L150.B0",n[l.I.G4]="hev1.2.6.L153.B0",n[l.I.K3]=h.de.dja,n[l.I.M3]=h.de.QKa,n[l.I.ST]=h.de.eja,n[l.I.P3]=h.de.fja,n[l.I.R3]=h.de.gja,n[l.I.T3]=h.de.hja,n[l.I.ija]=h.de.eja,n[l.I.jja]=h.de.fja,n[l.I.kja]=h.de.gja,n[l.I.lja]=h.de.hja,n[l.I.L3]=h.de.dja,n[l.I.N3]=h.de.QKa,n[l.I.O3]=h.de.eja,n[l.I.Q3]=h.de.fja,n[l.I.S3]=h.de.gja,n[l.I.U3]=h.de.hja,n[l.I.OMa]="avc1.640016",n[l.I.k4]="avc1.64001E",n[l.I.m4]="avc1.64001F",n[l.I.o4]="avc1.640028",n[l.I.PMa]="avc1.640016",n[l.I.l4]="avc1.64001E",n[l.I.n4]="avc1.64001F",n[l.I.p4]="avc1.640028",n[l.I.sma]=h.de.$U,n[l.I.n6]=h.de.$U,n[l.I.o6]=h.de.$U,n[l.I.aV]=h.de.$U,n[l.I.MHa]=h.de.Il,n[l.I.NHa]=h.de.Il,n[l.I.pD]=h.de.Il,n[l.I.qD]=h.de.Il,n[l.I.uT]=h.de.Il,n[l.I.vT]=h.de.Il,n[l.I.r3]=h.de.Il,n[l.I.s3]=h.de.Il,n);};b.Y3=d;},function(r,b){function a(d){return "globalAudioMemoryLimit" === d || "globalVideoMemoryLimit" === d?"global":"staticAudioMemoryLimit" === d || "staticVideoMemoryLimit" === d?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.Vic=b.Zjb=b.kDa=void 0;b.kDa=function(d){return "globalMemoryLimit" === d?"global":"staticMemoryLimit" === d?"static":a(d);};b.Zjb=a;b.Vic=function(d){return ("IStreamable: ").concat(d.identifier," [").concat(d.mediaType,"] ").concat(d.groupId," ") + ("p:").concat(JSON.stringify(d.yi)," sp:").concat(d.UC," ") + ("pssp:").concat(d.T0," ") + ("state:").concat(d.Pg," path-complete:").concat(d.DC," ") + ("streaming:").concat(d.Ku," current:").concat(d.Lt);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tka=void 0;r=(function(){function a(d,l,h,n){var c;c=this;this.properties=d;this.transform=l;this.Lv=h;this.state=n;this.oa();d.forEach(function(f){return f.addListener(c.vBa);});this.vBa();}a.prototype.clear=function(){var d;d=this;this.properties.forEach(function(l){return l.removeListener(d.vBa);});};a.prototype.pcb=function(d){return void 0 !== d.equal;};a.prototype.oa=function(){var d;d=this;this.vBa=function(){var l,h;l=d.state;h=d.properties.map(function(n){return n.value;});d.state=d.transform(h);(d.pcb(d.state) && d.pcb(l)?d.state.equal(l):l === d.state) || d.Lv(d.state);};};return a;})();b.Tka=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xX=void 0;d=a(0);l=a(20);b.xX=function(h,n,c,f){var g,k,m,v,t,w;void 0 === f && (f={});m=l.O.max(c,l.O.Oa);try{for(var p=d.__values(Object.keys(h.T)),q=p.next();!q.done;q=p.next()){v=q.value;t=h.T[v];if(t.N === n){w=l.O.Na(t.Ba);if(m.tk(w) && (!isFinite(null !== (k=t.Aa) && void 0 !== k?k:NaN) || m.lessThan(l.O.Na(t.Aa))))return {S:v,offset:c.Fa(w)};}}}catch(y){var u;u={error:y};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(u)throw u.error;}}if(f.Ilb && (t=Object.keys(h.T).map(function(y){return {key:y,G:h.T[y]};}).filter(function(y){return y.G.N === n;}).map(function(y){var x,z;x=l.O.abs(c.Fa(l.O.Na(y.G.Ba)));if(y.G.Aa && isFinite(y.G.Aa)){z=l.O.abs(c.Fa(l.O.Na(y.G.Aa)));x=l.O.min(x,z);}return d.__assign(d.__assign({},y),{yq:x});}),t.sort(function(y,x){return y.yq.Z - x.yq.Z;}),w=d.__read(t,1)[0]))return (t=w.G,f=w.key,w=l.O.Na(t.Ba),{S:f,offset:c.Fa(w)});};},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BM=void 0;r=a(0);d=a(186);l=r.__importDefault(a(260));h=r.__importDefault(a(955));n=r.__importDefault(a(154));c=a(2);f=a(424);g=r.__importDefault(a(3));b.BM=(function(){function m(p,q,v){var t;t=this;this.zk=new l.default(p,v);this.su=new h.default(p);this.Bc=new n.default(this.su,this.zk,p);new f.d6(g.default.b$,q,p);d.Qz.IMb(p);p.Eea && setInterval(function(){t.zk.save();t.su.save();},p.Eea);}m.Xaa=function(p,q,v){void 0 === k?(m.config=p,m.u2=v,k=new m(p,q,v)):((0,c.assert)(m.config === p),(0,c.assert)(m.u2 === v));return k;};m.reset=function(){m.config=void 0;k=m.u2=void 0;};return m;})();},function(r,b,a){var c,f,g,k,m,p;function d(q){var v;v=q.sna;this.K=q;this.UD=f.bk.HAVE_NOTHING;this.bna=q.bna;q=new m(q);this.nW=q.create("throughput-location-history",v);this.f7=q.create("throughput-location-history",v);this.Z7=q.create("throughput-location-history",v);this.a8=q.create("throughput-location-history",v);this.Y7=q.create("throughput-location-history",v);this.QA=q.create("respconn-location-history",v);this.GA=q.create("respconn-location-history",v);this.W7=q.create("throughput-tdigest-history",v);this.g7=q.create("throughput-iqr-history",v);this.R6=q.create("throughput-location-history",v);this.T6=q.create("throughput-location-history",v);this.S6=q.create("throughput-location-history",v);this.U6=q.create("throughput-location-history",v);this.Bb=null;}function l(q,v,t,w,u){this.wv=new d(u);this.oq=[];this.cDb=g.time.fa() - Date.now() % 864E5;this.uv=null;this.K=u;for(q=0;q < w;++q){this.oq.push(new d(u));}}function h(q,v,t){return c.has(q,v)?q[v]:q[v]=t;}function n(q,v){var t;this.K=q;this.B_a=v;this.UTb();this.iI=new d(this.K);this.NV();t=q.Gsa;t && (t={confidence:f.bk.YT,Za:{ya:parseInt(t,10),He:0},vl:{ya:0,He:0},nQ:{ya:0,He:0}},this.get=function(){return t;});}c=a(13);f=a(29).default;b=a(8);g=a(3).default;k=b.JMa;m=a(944).uvb;new g.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.bk.HAVE_NOTHING};d.prototype.NI=function(q,v){this.UD=v;this.nW.add(q);this.W7.add(q);this.Bb=g.time.fa();};d.prototype.LI=function(q){this.f7.add(q);};d.prototype.OI=function(q){this.Z7.add(q.initial);this.a8.add(q.low);this.Y7.add(q.high);};d.prototype.mM=function(q,v){this.g7.set(q,v);};d.prototype.XA=function(q){this.QA.add(q);};d.prototype.WA=function(q){this.GA.add(q);};d.prototype.zO=function(q){this.R6.add(q.ya);this.T6.add(q.He);this.S6.add(q.IO);this.U6.add(q.gT);};d.prototype.getState=function(){var q,v,t,w,u,y,x,z,B,A,C,D,E,G;q=this.nW.getState();v=this.f7.getState();t=this.Z7.getState();w=this.a8.getState();u=this.Y7.getState();y=this.QA.getState();x=this.GA.getState();z=this.g7.getState();B=this.W7.getState();A=this.R6.getState();C=this.T6.getState();D=this.S6.getState();E=this.U6.getState();if(c.yb(q) && c.yb(y) && c.yb(x))return null;G={c:this.UD,t:g.time.FAa(this.Bb)};c.yb(q) || (G.tp=q);c.yb(v) || (G.itp=v);c.yb(t) || (G.tcii=t);c.yb(w) || (G.tcil=w);c.yb(u) || (G.tcih=u);c.yb(y) || (G.rt=y);c.yb(x) || (G.hrt=x);c.yb(z) || (G.iqr=z);c.yb(B) || (G.td=B);c.yb(A) || (G.dta=A);c.yb(C) || (G.dtv=C);c.yb(D) || (G.dtta=D);c.yb(E) || (G.dttv=E);return G;};d.prototype.Qd=function(q){var v;v=g.time.now();if(!(q && c.has(q,"c") && c.has(q,"t") && c.has(q,"tp") && c.isFinite(q.c) && c.isFinite(q.t)) || 0 > q.c || q.c > f.bk.YT || q.t > v || !this.nW.Qd(q.tp))return (this.UD=f.bk.HAVE_NOTHING,this.uv=this.Bb=null,this.nW.Qd(null),this.QA.Qd(null),this.GA.Qd(null),!1);this.UD=q.c;this.Bb=g.time.bBa(q.t);this.QA.Qd(c.has(q,"rt")?q.rt:null);this.GA.Qd(c.has(q,"hrt")?q.hrt:null);this.f7.Qd(c.has(q,"itp")?q.itp:null);this.Z7.Qd(c.has(q,"tcii")?q.tcii:null);this.a8.Qd(c.has(q,"tcil")?q.tcil:null);this.Y7.Qd(c.has(q,"tcih")?q.tcih:null);this.R6.Qd(c.has(q,"dta")?q.dta:null);this.T6.Qd(c.has(q,"dtv")?q.dtv:null);this.S6.Qd(c.has(q,"dtta")?q.dtta:null);this.U6.Qd(c.has(q,"dttv")?q.dttv:null);c.has(q,"iqr") && this.g7.Qd(q.iqr);c.has(q,"td") && this.W7.Qd(q.td);return !0;};d.prototype.get=function(){var q,v,t,w,u,y,x,z,B,A,C;q=this.K;if(c.yb(this.Bb))return p;v=(g.time.fa() - this.Bb) / 1E3;v > q.rCb?this.UD=f.bk.HAVE_NOTHING:v > q.OBb && (this.UD=Math.min(this.UD,f.bk.zD));q=this.nW.get();t=this.f7.get();w=this.Z7.get().ya;u=this.a8.get().ya;y=this.Y7.get().ya;x=this.QA.get();z=this.GA.get();B=this.g7.get();A=this.W7.get();C={ya:this.R6.fwa().ya,He:this.T6.fwa().ya,IO:this.S6.get().ya,gT:this.U6.get().ya};result={Ln:v,confidence:this.UD,Za:q,LZ:t,"throughput-ci":{initial:w,low:u,high:y},vl:x,nQ:z,pw:B,rh:A,fp:C};q && (result.$yc=k.prototype.gz.bind(q));x && (result.ayc=k.prototype.gz.bind(x));z && (result.dwc=k.prototype.gz.bind(z));return result;};d.prototype.time=function(){return this.Bb;};l.prototype.Je=function(){return ((g.time.fa() - this.cDb) / 1E3 / 3600 / (24 / this.oq.length) | 0) % this.oq.length;};l.prototype.getState=function(){var q;q={g:this.wv.getState(),h:this.oq.map(function(v){return v.getState();})};c.yb(this.uv) || (q.f=g.time.FAa(this.uv));return q;};l.prototype.Qd=function(q){var v,t;if(!this.wv.Qd(q.g))return !1;v=this.oq.length;t=!1;this.oq.forEach(function(w,u){t=!w.Qd(q.h[u * q.h.length / v | 0]) || t;});this.uv=c.has(q,"f")?g.time.bBa(q.f):null;return t;};l.prototype.NI=function(q,v){this.wv.NI(q,v);this.oq[this.Je()].NI(q,v);this.uv=null;};l.prototype.LI=function(q){this.wv.LI(q);this.oq[this.Je()].LI(q);this.uv=null;};l.prototype.OI=function(q){this.wv.OI(q);this.oq[this.Je()].OI(q);this.uv=null;};l.prototype.mM=function(q,v){this.wv.mM(q,v);this.oq[this.Je()].mM(q,v);};l.prototype.XA=function(q){this.wv.XA(q);this.oq[this.Je()].XA(q);};l.prototype.WA=function(q){this.wv.WA(q);this.oq[this.Je()].WA(q);};l.prototype.zO=function(q){this.wv.zO(q);this.oq[this.Je()].zO(q);};l.prototype.fail=function(q){this.uv=q;};l.prototype.get=function(){var q,v;if(!c.yb(this.uv)){if((g.time.fa() - this.uv) / 1E3 < this.K.NBb)return {confidence:f.bk.HAVE_NOTHING,Wv:!0};this.uv=null;}q=this.oq[this.Je()].get();v=this.wv.get();q=q.confidence >= v.confidence?q:v;q.Wv=!1;return q;};l.prototype.time=function(){return this.wv.time();};n.prototype.uYa=function(q,v){var t;t=this.K;q=h(this.DV,q,{});return h(q,v,new l(t.KYa || 14400,t.JYa || 100,t.IYa || 100,t.HZa || 4,t));};n.prototype.NV=function(){var q,v;q=g.storage.get("lh");v=g.storage.get("gh");q && this.Hoa(q);v && this.mFb(v);};n.prototype.Ana=function(){var q;q={};c.tg(this.DV,function(v,t){c.tg(v,function(w,u){h(q,t,{})[u]=w.getState();},this);},this);return q;};n.prototype.mFb=function(q){this.iI.Qd(q);};n.prototype.Hoa=function(q){var v,t;v=null;t=this.K;c.tg(q,function(w,u){c.tg(w,function(y,x){var z;z=new l(t.KYa || 14400,t.JYa || 100,t.IYa || 100,t.HZa || 4,t);z.Qd(y)?(h(this.DV,u,{})[x]=z,v=!0):c.yb(v) && (v=!1);},this);},this);return c.yb(v)?!0:v;};n.prototype.save=function(){var q;q=this.Ana();g.storage.set("lh",q);g.storage.set("gh",this.iI.getState());this.B_a && this.B_a.VEa(this.iI.getState());};n.prototype.UTb=function(){this.DV={};this.HN=this.UXa="";this.Nl=null;};n.prototype.M1=function(q){this.UXa=q;this.Nl=null;};n.prototype.mga=function(q){this.HN=q;this.Nl=null;};n.prototype.hI=function(){c.yb(this.Nl) && (this.Nl=this.uYa(this.UXa,this.HN));return this.Nl;};n.prototype.NI=function(q,v){this.hI().NI(q,v);this.iI.NI(q,v);};n.prototype.LI=function(q){this.hI().LI(q);this.iI.LI(q);};n.prototype.OI=function(q){this.hI().OI(q);this.iI.OI(q);};n.prototype.mM=function(q,v){q && q.gm && q.Ek && q.hm && (this.hI().mM(q,v),this.iI.mM(q,v));};n.prototype.XA=function(q){this.hI().XA(q);};n.prototype.WA=function(q){this.hI().WA(q);};n.prototype.zO=function(q){this.hI().zO(q);};n.prototype.fail=function(q,v){this.uYa(q,this.HN).fail(v);};n.prototype.get=function(q,v){var t,w,u,y;q=(q=this.DV[q])?q[this.HN]:null;t=null;if(q && (t=q.get(),t.confidence > f.bk.HAVE_NOTHING))return t;if(!1 === v)return p;w=t=null;u=!1;y=null;c.tg(this.DV,function(x){c.tg(x,function(z,B){var A;if(!u || B == this.HN){A=z.get();A && (!w || w <= A.confidence) && (!y || w < A.confidence || y < z.time()) && (w=A.confidence,u=B == this.HN,y=z.time(),t=A);}},this);},this);return t?t:p;};r.exports=n;},function(r,b,a){var n;function d(c){this.sO=c;this.reset();}function l(c){this.cl=new d(c);this.Sb=0;this.ed=null;}function h(c,f){this.sO=c;this.iZa=f;this.reset();}n=a(13);d.prototype.RZa=function(c,f){this.Bb+=c;this.Uk+=c;this.md+=f;this.Mg.push({d:c,b:f});};d.prototype.bW=function(){var c;for(;this.Uk > this.sO;){c=this.Mg.shift();this.md-=c.b;this.Uk-=c.d;}};d.prototype.reset=function(){this.Mg=[];this.Bb=null;this.Uk=this.md=0;};d.prototype.setInterval=function(c){this.sO=c;this.bW();};d.prototype.start=function(c){n.yb(this.Bb) && (this.Bb=c);};d.prototype.add=function(c,f,g){n.yb(this.Bb) && (this.Bb=f);f > this.Bb && this.RZa(f - this.Bb,0);this.RZa(g > this.Bb?g - this.Bb:0,c);this.bW();};d.prototype.get=function(){return {ya:Math.floor(8 * this.md / this.Uk),He:0};};l.prototype.reset=function(){this.cl.reset();this.Sb=0;this.ed=null;};l.prototype.add=function(c,f,g){!n.yb(this.ed) && g > this.ed && (f > this.ed && (this.Sb+=f - this.ed),this.ed=null);this.cl.add(c,f - this.Sb,g - this.Sb);};l.prototype.start=function(c){!n.yb(this.ed) && c > this.ed && (this.Sb+=c - this.ed,this.ed=null);this.cl.start(c - this.Sb);};l.prototype.stop=function(c){this.ed=n.yb(this.ed)?c:Math.min(c,this.ed);};l.prototype.get=function(){return this.cl.get();};l.prototype.setInterval=function(c){this.cl.setInterval(c);};h.prototype.reset=function(){this.Mg=[];this.md=this.Uk=0;};h.prototype.add=function(c,f,g,k){void 0 !== k && !0 === k && (f=g - f,this.Uk+=f,this.md+=c,this.Mg.push({d:f,b:c}),this.bW());};h.prototype.bW=function(){var c;for(;this.Uk > this.sO || this.Mg.length > this.iZa;){c=this.Mg.shift();this.md-=c.b;this.Uk-=c.d;}};h.prototype.start=function(){};h.prototype.stop=function(){};h.prototype.get=function(){return {ya:Math.floor(8 * this.md / this.Uk),He:0};};h.prototype.setInterval=function(c,f){this.sO=c;this.iZa=f;this.bW();};r.exports={hpc:d,Mub:l,eAb:h};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.cLa=b.Iub=b.oja=b.nvb=b.Jub=void 0;d=a(0);l=a(948);a=(function(){return function(){};})();b.Jub=a;h=(function(){function n(c,f,g,k,m){this.alpha=c;this.ya=f;this.weight=k;this.cma=g * this.weight;this.z2=m;}n.prototype.Mi=function(){return new n(this.alpha,this.ya,this.He,this.weight,this.z2);};Object.defineProperties(n.prototype,{He:{get:function(){return this.weight?this.cma / this.weight:0;},enumerable:!1,configurable:!0}});n.prototype.update=function(c,f,g){var k,m,p,q;k=this.alpha;m=this.weight;p=this.z2;q=k * (c - p);5 < q && (this.weight/=Math.exp(q),this.z2=p=c);c=Math.exp(k * (f - p)) - Math.exp(k * (c - p));f=this.weight+=c;k=this.ya;this.ya=p=k + c * (g - k) / f;this.cma=m?this.cma * (f - c) / m + c * (g - p) * (g - k):0;};return n;})();b.nvb=h;r=(function(){var X89;X89=2;for(;X89 !== 14;){switch(X89){case 2:n.prototype.Mi=function(c){var x4k;x4k=2;for(;x4k !== 8;){switch(x4k){case 3:c.RL=this.RL.Mi();return c;break;case 2:c || (c=new n(this.im));c.Ru=this.Ru;c.VG=this.VG;c.QL=this.QL.Mi();x4k=3;break;}}};n.prototype.reset=function(){var B3K,c;B3K=2;for(;B3K !== 3;){switch(B3K){case 2:c=-Math.log(.5) / this.gK;this.QL=new h(c,0,0,0,0);this.RL=new h(c,0,0,0,0);this.Ru=this.VG=null;B3K=3;break;}}};n.prototype.start=function(c){var B76;B76=2;for(;B76 !== 1;){switch(B76){case 2:null === this.Ru && (this.Ru=c);B76=1;break;}}};n.prototype.add=function(c,f,g){var J6z=R7xOY;var a0t,k;a0t=2;for(;a0t !== 7;){switch(a0t){case 3:J6z.h1T(0);k=Math.max(J6z.f4w(g,f),1);J6z.h1T(1);this.QL.update(f,g,J6z.p3p(c,k));J6z.e_n(2);this.RL.update(f,g,J6z.f4w(8,c,k));a0t=7;break;case 2:k=this.Ru;this.Ru=null === k?f:Math.min(k,f);k=this.VG;this.VG=null === k?g:Math.max(k,g);a0t=3;break;}}};n.prototype.get=function(c,f){var o$Z=R7xOY;var v5j,t,g,k,m,p,q,v,w,u;v5j=2;for(;v5j !== 16;){switch(v5j){case 13:o$Z.e_n(0);v.update(o$Z.p3p(k,g),o$Z.f4w(c,g),0);v5j=20;break;case 7:v5j=0 === t?6:12;break;case 10:m=1E-11 < w?Math.max(u / w,m):m + 2 * t / p;v5j=14;break;case 17:(q=this.QL,v=this.RL);v5j=20;break;case 8:o$Z.e_n(3);var u_d=o$Z.p3p(1,7,5);t=Math.pow(f,u_d) * q.He;v5j=7;break;case 4:void 0 === f && (f=this.Mfb);m >= p && (f=Math.min(f,this.Mfb));p=f * q.ya;v5j=8;break;case 5:v5j=(q=new h(q.alpha,q.ya,q.He,q.weight,q.z2),v=new h(v.alpha,v.ya,v.He,v.weight,v.z2),0 < q.weight && 0 !== f)?4:20;break;case 1:v5j=0 < m?5:17;break;case 2:(g=this.Ru || 0,k=this.VG || 0,m=c - k,p=this.z7b,q=this.QL,v=this.RL);v5j=1;break;case 12:(w=new l.j5(p,t).XKb(m),u=p - w[1]);o$Z.h1T(4);var C4K=o$Z.f4w(1,18,16,3);w=C4K - w[0];v5j=10;break;case 20:c=q.weight;f=v.weight;return {ya:c?q.ya:null,He:c?q.He:null,IO:f?v.ya:null,gT:f?v.He:null};break;case 14:o$Z.h1T(0);q.update(o$Z.p3p(k,g),o$Z.p3p(c,g,o$Z.e_n(0)),o$Z.p3p(f,m,o$Z.e_n(1)));v5j=13;break;case 6:m=Math.max(m,p);v5j=14;break;}}};n.prototype.toString=function(){var V57;V57=2;for(;V57 !== 1;){switch(V57){case 2:var v1v="Deliver";v1v+="yDis";v1v+="t(";return v1v.concat(this.gK,")");break;case 4:var K6w="Deliv";K6w+="eryD";K6w+="i";K6w+="st";K6w+="(";var n6A="Del";n6A+="ivery";n6A+="Di";n6A+="s";n6A+="t(";return n6A.concat(this.gK,K6w);break;}}};n.prototype.stop=function(){};X89=7;break;case 7:n.prototype.flush=function(){};return n;break;}}function n(c){var m5j,f,g;m5j=2;for(;m5j !== 7;){switch(m5j){case 2:var x88="1";x88+="SIYbZ";x88+="rNJCp9";this.im=c;x88;(f=c.min_b,g=c.min_iv);this.gK=c.hl;m5j=3;break;case 3:this.Mfb=f;this.z7b=g;this.reset();m5j=7;break;}}}})();b.oja=r;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);return c;})(a);b.Iub=a;r=(function(n){function c(f){var g;g=n.call(this,f) || this;g.im=f;return g;}d.__extends(c,n);c.prototype.get=function(){var f,g,k;if(0 === this.QL.weight || 0 === this.RL.weight)return {low:null,high:null,initial:null};switch(this.im.aR){case "deliverytime":f=this.QL;f=new l.j5(f.ya,f.He);(g=this.im.accuracy,k=this.im.B6b);return {low:8 / f.gz(this.im.yZ,g,k),high:8 / f.gz(this.im.x_,g,k),initial:8 / f.gz(this.im.Wba,g,k)};default:return (f=this.RL,f=new l.j5(f.ya,f.He),g=this.im.accuracy,k=this.im.B6b,{low:f.gz(this.im.x_,g,k),high:f.gz(this.im.yZ,g,k),initial:f.gz(this.im.Wba,g,k)});}};c.prototype.Mi=function(){var f;f=new c(this.im);n.prototype.Mi.call(this,f);return f;};c.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.im.x_,this.im.yZ),"])");};return c;})(r);b.cLa=r;},function(r){(function(){var t5S;t5S=2;function b(){var F94;F94=2;for(;F94 !== 5;){switch(F94){case 2:this.gE=this.md=0;this.Bb=this.xh=void 0;F94=5;break;}}}for(;t5S !== 8;){switch(t5S){case 2:var B$v="1SI";B$v+="YbZrNJ";B$v+="Cp9";b.prototype.start=function(a){var m31;m31=2;for(;m31 !== 1;){switch(m31){case 2:this.xh?a < this.xh?(this.gE+=this.xh - a,this.xh=a):a > this.Bb && (this.Bb=this.xh=a):this.Bb=this.xh=a;m31=1;break;}}};b.prototype.stop=function(a){var a9Q;a9Q=2;for(;a9Q !== 1;){switch(a9Q){case 2:this.Bb && a > this.Bb && (this.gE+=a - this.Bb,this.Bb=a);a9Q=1;break;}}};b.prototype.add=function(a,d,l){var z67;z67=2;for(;z67 !== 4;){switch(z67){case 2:this.start(d);this.stop(l);this.md+=a;z67=4;break;}}};b.prototype.get=function(){var W1Q;W1Q=2;for(;W1Q !== 1;){switch(W1Q){case 2:return {ya:this.gE?Math.floor(8 * this.md / this.gE):null,v$:this.gE?this.gE:0};break;}}};r.exports=b;B$v;t5S=8;break;}}})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.t8a=b.tHa=b.s8a=void 0;b.s8a={23976:{Ca:24E3,V:1001},24:{Ca:24E3,V:1E3},25:{Ca:25E3,V:1E3},2997:{Ca:3E4,V:1001},30:{Ca:3E4,V:1E3}};b.tHa=["23976","24","25","2997","30"];b.t8a=function(a,d){return a.Ca / a.V === d.Ca / d.V;};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y;Object.defineProperties(b,{__esModule:{value:!0}});b.Aia=void 0;d=a(0);l=a(11);h=a(997);r=a(92);n=a(427);c=a(999);f=a(1002);g=a(437);k=a(6);m=d.__importDefault(a(3));p=a(2);a(8);q=a(21);v=a(1006);t=a(267);w=a(133);u=a(183);y=(function(){return function(x){var z;z=x.Mcb;x=x.$xa;this.L_=this.replace=z;this.ug=x;};})();a=(function(x){function z(B,A){var C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa;D=A.Ub;E=A.ba;G=A.Xq;F=A.ag;K=A.pfb;O=A.Tl;L=A.config;I=A.Vab;M=A.bS;H=A.yaa;J=A.Bc;N=A.zk;P=A.e0;X=A.c7a;A=A.MG;V=x.call(this) || this;V.N=B;V.Dba=!1;V.Hdb=0;V.LQ={};V.fza=(C={},C[k.u.U]={},C[k.u.J]={},C[k.u.nb]={},C);V.LYa=[];V.gZa=[];V.Ji=[];V.TE=[];V.Oo=!1;V.Lgb=!1;V.HMb=["liveEdgeCushion","maxMediaBufferAllowed","decryptOCSideChannelMinInterval","decryptOCSideChannelMinIntervalAfterCompleted"];V.Ub=D;V.cZa=E;V.Xq=G;V.Ac=function(T){return 0 <= F.indexOf(T);};V.console=new m.default.Console("ASEJS","media|asejs","<" + String(V.N) + ">");V.config=V.UFb(E,L);I && (B=I.sF,V.Sg=new f.vNa(V,V.console,V.config,I.xC,I.hZ,B,I.eca,I.wg,I.Gk,I.ki,I.AF),V.sF=B);V.events=new l.EventEmitter();V.yaa=H;V.Bc=J;V.e0=P;V.bS=M;V.MG=A;V.$f=new y(K);V.Tl=O;S=[[],[],[]];U=[{},{},{}];ha=[0,0];qa=!1;Aa=V.Ac(k.u.U);Oa=V.Ac(k.u.J);O=V.qa;["audio_tracks","video_tracks"].forEach(function(T,W){var Q,ka;Q=W === k.u.J;ka=W === k.u.U;ka && !Aa || Q && !Oa || V.ba[T].forEach(function(ra,R){if(ra.type !== k.u.U || !1 !== ra.Sh)(R=new n.yM({P:V,Xm:ra,mediaType:W,ug:K.$xa,$G:R,VA:R + (ka?V.ba.video_tracks.length:0)},V.config,V.console),W === k.u.J && L.wTb && new v.VIa(L).vcc(R.Rc),W === k.u.J && (xa=t.oN.from({Dw:ra.hAa,Rv:ra.gAa})),S[W].push(R),U[W]=d.__assign(d.__assign({},U[W]),R.RB()),R.maxBitrate > ha[R.mediaType] && (ha[R.mediaType]=R.maxBitrate),qa=qa || R.wp);});});O && V.ba.timedtexttracks.forEach(function(T,W){var Q;if("none" !== T.id){Q=k.u.nb;T=new n.yM({P:V,Xm:T,mediaType:Q,ug:!1,$G:W,VA:W},V.config,V.console);S[Q].push(T);U[Q]=d.__assign(d.__assign({},U[Q]),T.RB());}});V.ba.Pr && ((0,p.assert)(xa,"Should have video track if there are adverts"),V.Pr={yf:V.ba.Pr.yf.map(function(T){var W;W=d.__assign(d.__assign({},T),{dx:T.eo,eo:xa.normalize(T.eo)});T.zf !== T.ads && (W.unnormalizedLocationMs=W.dx,W.locationMs=W.eo);return W;})});V.Ak=new g.mPa(V.ba,U,J,N,V.config,null === X || void 0 === X?void 0:X.xC);X && (J=X.Wt,N=X.zp,V.Ir=X.ig,V.zp=N,V.Wt=J,V.mna=new c.jMa(V.Ak,V.config,V.c0b.bind(V),V.b0b.bind(V)));V.uN=S;V.Nga=U;V.ku=ha;V.wp=qa;return V;}d.__extends(z,x);Object.defineProperties(z.prototype,{ba:{get:function(){return this.cZa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qa:{get:function(){var B,A;B=this.ba;A=B.bm;return "LIVE" === B.qh && !!A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{K_:{get:function(){var B;return !(null === (B=this.uN[k.u.J][0]) || void 0 === B || !B.K_);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{oj:{get:function(){return this.LYa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{z6b:{get:function(){return this.gZa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{L:{get:function(){return this.ba.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Yo:{get:function(){return this.ba.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{duration:{get:function(){return this.ba.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{pl:{get:function(){return this.Oo;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{zq:{get:function(){(0,p.assert)(this.mna,"ErrorDirector is not available on old architecture prefetch viewables.");return this.mna;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{FP:{get:function(){return this.zq.events;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{H1:{get:function(){return void 0 === this.iga?(this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),m.default.time.now()):m.default.time.fa() - this.iga;},set:function(B){var A;A=m.default.time.fa();if(void 0 === this.iga || A - this.iga < B)this.iga=A - B;},enumerable:!1,configurable:!0}});z.prototype.Wa=function(){this.close();this.wd();};z.prototype.close=function(){var B;this.TE=[];null === (B=this.mna) || void 0 === B?void 0:B.Wa();this.Ak.Wa();this.Oo=!0;};z.prototype.wd=function(){this.Sg && this.Sg.wd();};z.prototype.nM=function(B){var A,C,D,E,G,F,K,O;A=this;C=B.ba;D=B.Tl;E=B.ug;G=void 0 === E?!1:E;B=B.ag;F=void 0 === B?k.ng:B;(0,p.assert)(D === this.Tl,"Updating Viewable clearplay not supported");k.ng.forEach(function(L){(0,p.assert)(A.Ac(L) === 0 <= F.indexOf(L),"Updating Viewable media types not supported");});(0,p.assert)(C.movieId === this.ba.movieId,"Changing Viewable manifest movieId unsupported");K=this.Ac(k.u.U);O=this.Ac(k.u.J);["audio_tracks","video_tracks"].forEach(function(L,I){var M,H,J,N;M=I === k.u.J;H=I === k.u.U;if(!(H && !K || M && !O)){J=C[L];N=A.uN[I];(0,p.assert)(N.every(function(P){var X;X=J[P.$G];return X && X.ZS === P.trackId && (X.type === k.u.J || !1 !== X.Sh);}),"Existing tracks must still exist and be hydrated in updated manifest");J.forEach(function(P,X){var V,S;if(P.type !== k.u.U || !1 !== P.Sh){V=A.getTrackById(P.ZS);if(V){P=P.streams;S=Object.keys(V.RB());(0,p.assert)(P.length === S.length,"Expected updated manifest track to have same number of streams");P.forEach(function(U){U=U.downloadable_id;(0,p.assert)(-1 !== S.indexOf(U),"Changing Viewable track streams unsupported");});}else (V=new n.yM({P:A,Xm:P,mediaType:I,ug:G,$G:X,VA:X + (H?A.ba.video_tracks.length:0)},A.config,A.console),N.push(V),A.Nga[I]=d.__assign(d.__assign({},A.Nga[I]),V.RB()),V.maxBitrate > A.ku[V.mediaType] && (A.ku[V.mediaType]=V.maxBitrate),(0,p.assert)(A.wp || !V.wp,"Can not update clear viewable with drm track."));}});}});this.cZa=C;this.Ak.EW(this.ba,this.Nga);};z.prototype.u1b=function(B,A){var C,D;C=this;(0,p.assert)(this.ba.Pr,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,p.assert)(this.Pr,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.ba.Pr.yf.some(function(E,G){var F,K;if(E.Jm === A){F=C.Pr.yf[G];K=F.eo;F=F.dx;D=d.__assign(d.__assign({},B),{dx:F,eo:K,Jm:A});E.zf !== E.ads && (D.unnormalizedLocationMs=D.dx,D.locationMs=D.eo,D.adBreakToken=D.Jm);C.Pr.yf[G]=D;return !0;}});return D;};z.prototype.ML=function(B){var A,C,D;A=B.Fp;C=B.sa;D=B.UX;B=B.Ap;A && C?(this.uga=new h.vVa(A,{sa:String(C),UX:!!D,S6b:this.config.v5.mx,QJb:this.config.v5.lv},B),this.zq.ML(this.uga)):this.Lgb || (B("SideChannel: pbcid/xid is missing."),this.Lgb=!0);};z.prototype.Ly=function(){return void 0 !== this.Yo;};z.prototype.qp=function(B,A){return (0,u.Pva)(this.ba,B,A);};z.prototype.getTracks=function(B){return this.uN[B];};z.prototype.getTrackById=function(B){var A;this.uN.some(function(C){return C.some(function(D){if(D.trackId === B)return (A=D,!0);});});A || this.console.warn("getTrackById not found:",B,"length:",this.uN.length);return A;};z.prototype.F_b=function(B,A){var C;C=this.uN[B];if(0 > A || A >= C.length)this.console.warn("getTrackByIndex out of range:",A,"length:",C.length,"mediaType:",B);else return C[A];};z.prototype.Gy=function(B,A){return (B=this.RB(B)) && B[A];};z.prototype.RB=function(B){return this.Nga[B];};z.prototype.Dlc=function(B,A){this.LYa[B]=A;A.stream.ma && this.Zpb(B,A.stream.ma);};z.prototype.L3b=function(B){var A,C;if(void 0 === B.Zea || void 0 === B.KCa){A=this.Ak.vC.filter(function(D){return void 0 !== D.streams[B.Ta];})[0];C=A.children.filter(function(D){return D.urls.some(function(E){return E.stream.id === B.Ta;});})[0];B.Zea=A.id;B.KCa=C.id;}return {Aya:B.location === B.Zea,M3b:B.ec === B.KCa};};z.prototype.bFa=function(B,A,C){void 0 !== A && void 0 !== C && (this.Kkb(B.mediaType,A),B.bFa(A,C));};z.prototype.Kkb=function(B,A){var C,D;D=this.config.LAa;("location" === D || "video_location" === D && B === k.u.J) && this.Bc.M1(A);null === (C=this.yaa) || void 0 === C?void 0:C.call(this).H9b(B,A);};z.prototype.ig=function(B,A,C,D,E,G){(0,p.assert)(this.Ir,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Ir(B,A,C,D,E,G);};z.prototype.wm=function(){var B,A,C;B=this;A=[];if(this.pl)return (this.console.error("updateRequestUrls, closed Viewable:",this.N),!1);k.ng.forEach(function(D){B.Ac(D) && B.$lc(D) && (D=B.Nlc(D),0 < D.length && A.push.apply(A,D));});C=this.Elc();0 < C.length && A.push.apply(A,C);return this.Oec(A);};z.prototype.mp=function(B,A){var C;C=this.getTracks(k.u.J)[0];(0,p.assert)(C);if(C.nK)return C.mp(B,A);};z.prototype.$lc=function(B){var A;A=this;return this.pl?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.Ac(B)?this.Ji.reduce(function(C,D){return (0,q.L8)(C,D.Fe.filter(function(E){return E.mediaType === B;}));},[]).map(function(C){return A.Ak.L2(A.N,C.Rc);}).every(function(C){return C;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",B),!1);};z.prototype.Elc=function(){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");return this.Sg.wm();};z.prototype.Nlc=function(B){var A,C,G;C=[];if(this.pl)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),C);if(!this.Ac(B))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",B),C);try{for(var D=d.__values(this.Ji),E=D.next();!E.done;E=D.next()){G=E.value.wm(B);G.length && C.push.apply(C,G);}}catch(K){var F;F={error:K};}finally{try{E && !E.done && (A=D.return) && A.call(D);}finally{if(F)throw F.error;}}return C;};z.prototype.Oec=function(B){var A,C,D;A=this;if(0 === B.length)return !0;C=0;D=[];B.forEach(function(E){var G;if(E.zc){G=E.P;G.Ub > A.Ub && (D.push({P:G,track:E.stream.track}),++C);}});D.forEach(function(E){var G;G=E.track;E.P.aS([G.mediaType === k.u.U?G:void 0,G.mediaType === k.u.J?G:void 0],void 0,G.mediaType);});return C === B.length;};z.prototype.UFb=function(B,A){var C,E;if((B=B.steeringAdditionalInfo) && B.streamingClientConfig && Object.keys(B.streamingClientConfig).length){B=B.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(B));for(var D in B){if(-1 !== this.HMb.indexOf(D) && A.hasOwnProperty(D)){E=Number(B[D]);A.set?0 === A.set((C={},C[D]=E,C)) && this.console.trace("Invalid key" + D):A[D]=E;}}}return A;};z.prototype.si=function(){var B;B=this;this.Ak.si();this.zq.si();this.uga && ((0,p.assert)(this.sF),k.ng.forEach(function(A){A=B.sF(A);B.uga.HEa("rebuffer",A.Xya);}));};z.prototype.lBa=function(){this.zq.lBa();};z.prototype.bHa=function(B,A){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");this.Sg.bHa(B,A);};z.prototype.wba=function(){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables..");return this.Sg.wba();};z.prototype.Cra=function(){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");this.Sg.Cra();};z.prototype.qS=function(B){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");this.Sg.qS(B);};z.prototype.JGa=function(){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");return this.Sg.JGa();};z.prototype.gs=function(B,A){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");return this.Sg.gs(B,A);};z.prototype.p4a=function(B,A,C){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");this.Sg.kha(B,A,C,!0);};z.prototype.r8=function(B,A,C){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");return this.Sg.r8(B,A,!!C);};z.prototype.Dgc=function(B,A){this.TE.push({stream:B,s_b:A});};z.prototype.qkb=function(){this.TE=[];};z.prototype.$dc=function(B){this.TE=this.TE.filter(function(A){return A.stream !== B;});};z.prototype.Zdc=function(B){this.TE=this.TE.filter(function(A){return A !== B;});};z.prototype.gQ=function(){var B;B=this;(0,p.assert)(this.zp,"Streamables not available on old architecture prefetch viewables.");return this.zp()?[]:this.TE.map(function(A){var C,D,E,G,F,K;C=A.stream;D=A.s_b;E=D();D=E.yi;G=E.Pg;F=E.DC;K=E.Ku;E=E.Lt;return {identifier:("").concat(C.N,"-").concat(C.mediaType,"-").concat(C.bitrate),mediaType:C.mediaType,yi:D,Pg:G,DC:F,Ku:K,Lt:E,HCa:0,GCa:Infinity,T0:1,UC:1,V7a:0,groupId:("").concat(B.N),MF:!0,bu:!1,Xcb:function(){return {result:!0};},bdb:function(){if(C.bH())return (B.$dc(C),{Nj:!0,reason:"success"});B.Zdc(A);return {Nj:!1,reason:"viewableTryIssueHeaderRequest"};}};});};z.prototype.bH=function(B,A){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");return this.Sg.bH(B,A);};z.prototype.vO=function(B,A){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");return this.Sg.vO(B,A);};z.prototype.aEa=function(B){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");return this.Sg.aEa(B);};z.prototype.aS=function(B,A,C){(0,p.assert)(this.Sg,"Headers not available on old architecture prefetch viewables.");return this.Sg.aS(B,A,C);};z.prototype.e0b=function(B){var A,C,D;A=B.Ta;C=B.mediaType;this.qa || this.Zpb(C,B.stream.ma);A=this.Gy(C,A);D=this.Ly()?this.config.Yeb:0;A.Ppb(m.default.Iq()[C],D);this.events.emit("onHeaderFragments",B);};z.prototype.sDa=function(B){this.Ji.push(B);};z.prototype.TGa=function(B){B=this.Ji.indexOf(B);(0,p.assert)(-1 !== B,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ji.splice(B,1);};z.prototype.rea=function(B){var A;null === (A=this.bS) || void 0 === A?void 0:A.Ev(B);};z.prototype.AC=function(B){this.pl?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",B):void 0 !== B.location && this.Kkb(B.mediaType,B.location);};z.prototype.YK=function(B){this.pl?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",B):this.zq.qha(B);};z.prototype.rl=function(B){var A;null === (A=this.bS) || void 0 === A?void 0:A.Gs(B);(0,p.assert)(this.zp && this.e0,"Requests cannot be handled on old architecture prefetch viewables.");this.pl?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",B):this.zp() || (this.zq.qha(B),this.e0(B));};z.prototype.u0=function(B,A,C){var D;C && (null === (D=this.bS) || void 0 === D?void 0:D.Gs(B));};z.prototype.v0=function(B){var A;A=this;this.pl?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",B):(this.zq.Bu(B,void 0,B.status,B.Fh,B.Sj),this.qa && !B.zc && B.pj && !B.Cu.UCa(B.pj)?this.zq.MS <= this.config.gza && setTimeout(function(){A.Jlc(B);},this.config.Qjc):this.wm() || this.ig(B.KP || "unknown","NFErr_MC_StreamingFailure",B.Fh,B.status,B.Sj));};z.prototype.kcc=function(){var B,A;this.Ypb(null === (B=this.ba.bm) || void 0 === B?void 0:B.Wta,null === (A=this.ba.bm) || void 0 === A?void 0:A.O$,!0);};z.prototype.Ypb=function(B,A,C){var D,E,G,F,K;(0,p.assert)(this.ba.bm,"Missing manifest liveMetadata.");G=this.ba.bm;F=G.Wta;G=G.O$;K=this.LQ;this.LQ={startTime:null !== (D=null !== F && void 0 !== F?F:B) && void 0 !== D?D:K.startTime,endTime:null !== (E=null !== G && void 0 !== G?G:A) && void 0 !== E?E:K.endTime};(C || this.LQ.startTime !== K.startTime || this.LQ.endTime !== K.endTime) && this.events.emit("liveEventTimesUpdated",d.__assign({P:this},this.LQ));};z.prototype.Ilc=function(B,A){if(this.fza[B].FJ !== A.FJ || this.fza[B].GJ !== A.GJ)(this.fza[B]=A,this.events.emit("liveLoggingInfoUpdated",{P:this,mediaType:B,info:A}));};z.prototype.a5b=function(){(0,p.assert)(this.qa,"liveEventCompleted called on viewable that is not live");return void 0 !== this.LQ.endTime;};z.prototype.Jlc=function(B){var A,E;try{for(var C=d.__values(this.Ji),D=C.next();!D.done;D=C.next()){E=D.value.fb(B.mediaType);E && E.Klc();}}catch(F){var G;G={error:F};}finally{try{D && !D.done && (A=C.return) && A.call(C);}finally{if(G)throw G.error;}}};z.prototype.Zpb=function(B,A){this.gZa[B]=A.Yza;};z.prototype.c0b=function(B){var A,C,D;if(!this.Oo){A=B.v3b;C=B.n$b;D=B.p$b;B=B.q$b;this.console.warn("Streaming failure, is permanent: " + A + ", last error code: " + C + ", last http code: " + D + ", last native code: " + B);A?(this.console.warn(" > Permanent failure, done"),A=this.ig("Permanent failure","NFErr_MC_StreamingFailure",C,D,B)):(this.console.warn(" > We are buffering, calling it!"),A=this.ig("Temporary failure while buffering","NFErr_MC_StreamingFailure",B,D,B,!0));A || (this.console.warn(" > Resetting failures"),this.zq.Ffa());}};z.prototype.b0b=function(){(0,p.assert)(this.Wt,"Error handling not available on old architecture prefetch viewables.");this.Oo || (this.wm(),this.Wt());};return z=d.__decorate([w.RJ],z);})(r.jx);b.Aia=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.sD=void 0;r=a(35);a=a(78);d=(function(){function l(h,n){this.KA=h;this.EN=n.$a;this.Kx=n.lb;}Object.defineProperties(l.prototype,{$a:{get:function(){return void 0 !== this.EN?this.EN:this.KA.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{lb:{get:function(){return void 0 !== this.Kx?this.Kx:this.KA.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{V:{get:function(){return this.KA.V;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Yj:{get:function(){return this.KA.Yj;},enumerable:!1,configurable:!0}});l.prototype.L1=function(h){this.Kx=h;};l.prototype.Bra=function(){this.Kx=void 0;};return l;})();b.sD=d;(0,r.hf)(a.bv,d);(0,r.hf)(a.Oz,d);},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.oN=void 0;d=a(20);r=(function(){function l(h,n){this.rI=h;this.fI=n;this.xfc();}l.from=function(h){return "number" === typeof h?new l(h,1):new l(h.Dw,h.Rv);};l.oWb=function(h){return new l(h.V,h.Ca);};Object.defineProperties(l.prototype,{Dw:{get:function(){return this.rI;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Rv:{get:function(){return this.fI;},enumerable:!1,configurable:!0}});l.prototype.da=function(){return new d.O(this.fI,this.rI);};l.prototype.equal=function(h){return this.rI === h.rI && this.fI === h.fI;};l.prototype.normalize=function(h){var n;n=1E3 * this.Rv;return Math.floor(Math.floor((Math.floor(h + 1) * this.Dw - 1) / n) * n / this.Dw);};l.prototype.xfc=function(){var h,n,c;h=Math.floor(1E3 * this.rI / this.fI);n=Math.floor(1001 * this.rI / this.fI);c=1E3 * Math.round(h / 1E3);this.rI=c;this.fI=Math.abs(n - c) > Math.abs(h - c)?1E3:1001;};return l;})();b.oN=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.zT=void 0;d=a(0);r=d.__importDefault(a(188));l=a(93);h=a(189);a=(function(n){function c(f,g,k,m,p,q,v){g=n.call(this,f,g,k,m,p,q,v) || this;h.kx.oa(g,f,m);return g;}d.__extends(c,n);return c;})(l.y3);b.zT=a;(0,r.default)(h.kx.prototype,a.prototype);},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Nia=b.Cw=void 0;d=a(0);r=a(11);l=a(117);h=d.__importDefault(a(29));n=a(6);c=d.__importDefault(a(3));f=a(20);g=a(2);k=a(1007);m=a(93);p=a(60);q=a(21);b.Cw=function(v){return v.Fa(f.O.Na(v.AL));};a=(function(v){function t(w,u,y,x,z,B,A,C){var D,E;D=this;D=v.call(this) || this;D.Of=w;D.Lg=u;D.Ld=y;D.K=x;D.IDb=z;D.X=B;D.nq=A;D.ki=C;D.M_a=!1;D.eYa=!1;D.lW=!1;D.H=l.tn.Hq(D.Of);D.Ll=D.H.error.bind(D.H);D.bc=D.H.warn.bind(D.H);D.ik=D.H.trace.bind(D.H);null === (E=y.events) || void 0 === E?void 0:E.addListener("ready",function(){D.Gx();});D.xfb=new k.GQa(D.K,D.Of,D.Lg.Yc,D.H);D.reset();return D;}d.__extends(t,v);Object.defineProperties(t.prototype,{endOfStream:{get:function(){return this.sV;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{nnc:{get:function(){return this.In.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{k4b:{get:function(){return this.Wk;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{gob:{get:function(){return !!this.Ld.HTb;},enumerable:!1,configurable:!0}});t.prototype.reset=function(w){var u,y,x;null === (u=this.xZa) || void 0 === u?void 0:u.Wa();this.Po=!1;w || (this.In=[]);this.Wk=this.wna=this.mI=void 0;this.ena=!1;this.XN=void 0;this.lW=this.sV=!1;this.p_a(f.O.Oa);null === (x=(y=this.Ld).reset) || void 0 === x?void 0:x.call(y);this.xfb.reset();};t.prototype.d8a=function(){this.wna=!0;};t.prototype.pause=function(){this.Po=!0;};t.prototype.resume=function(){this.Po=!1;this.Gx();};t.prototype.BJ=function(){this.eYa=!0;this.Po || this.Gx();};t.prototype.LG=function(w){this.M_a=w;};t.prototype.Lva=function(){var w;return null === (w=this.Wk) || void 0 === w?void 0:w.bg;};t.prototype.EIb=function(w){var u;if(this.K.C6a){(0,g.assert)(w.Xa);u=w.Xa.Ya;(0,g.assert)(void 0 !== w.ue);(0,g.assert)(void 0 !== u.Oc);if(w.ue >= u.Oc)return;}this.In.push(w);this.Gx();};t.prototype.Tu=function(){this.Gx();};t.prototype.o1=function(w){w=this.In.indexOf(w);-1 !== w && this.In.splice(w,1);};t.prototype.Ngb=function(w,u){this.K.Mpa && u && void 0 === this.Wk && this.CXa(w,0);this.Gx();};t.prototype.d0=function(w,u){var y,x;y=this;void 0 === w && (w=!1);this.sV || (this.sV=!0,this.Gx(),!w && this.gob) || (u && this.nq && this.K.$Qb?(w=f.O.Na(this.K.Iob),u=u.Fa(w),w=(0,p.Oha)(this.nq,u,!0),u=w.um,w=w.promise,null === (x=this.xZa) || void 0 === x?void 0:x.Wa(),this.xZa=u,w.then(function(){y.sV && y.Ld.endOfStream();})):this.Ld.endOfStream());};t.prototype.hga=function(){return JSON.stringify(this.In);};t.prototype.p_a=function(w){var u;null !== (u=this.JFb) && void 0 !== u && u.equal(w) || (this.JFb=w,this.Ld.ehc(w.Ca,w.V));};t.prototype.Gx=function(){var w,u,y,x,z,B,A,C,D;x=this.K;if(this.In.length || this.Wk && !this.Wk.ud)if(!this.Ld || !1 === this.Ld.ready)this.hO("@" + c.default.time.fa() + ", append: not appending, sourceBuffer not ready");else if(!this.Wk || this.Wk.ud || this.Wk.uk())if(this.Wk && !this.Wk.ud || this.In.length)if(this.Po){z=this.Wk && !this.Wk.ud?this.Wk:this.In[0];this.hO("@" + c.default.time.fa() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(z));}else if((!this.Wk || this.Wk.ud || (this.$Xa(this.Wk),this.Wk.ud)) && this.In.length)if((z=this.In[0],z.aborted))(this.bc("aborted MediaRequest should not appear in the toAppend list:",z.toString(),"complete:",z.complete),this.hO("@" + c.default.time.fa() + ", append: removing aborted request from toAppend: " + z.toString()),this.In.shift());else {B=z.stream;A=B.P;if(B.kh)if((z.cs && !this.lW && (null === (u=(w=this.Ld).vnb) || void 0 === u?void 0:u.call(w,{N:B.track.P.N,ocb:B.Mj}),this.lW=!0),this.vhc(B,z.index)))(this.wna=!1,this.CXa(B,z.index));else if((w=this.X.rs(A),B=this.K1b(B),w || B || !this.ena && !x.Mha))if((w=this.M$a(z),this.Of !== h.default.ee.U || !z.Um && !z.Py || !z.La || x.wL || this.sV || 1 !== this.In.length || !(w > x.W_) || null !== (y=z.IG) && void 0 !== y && y.$Z)){if(x.C6a || x.bTb)if((y=z.Xa.Ya,u=this.wRb())){C=y.Vl;D=z.Oc >= u;w=w > x.W_;if(u < y.Oc && D && w && !C)return;}if(x.cac && this.ki && (x=this.ki(A.Ub)) && !x.LW)this.pause();else {this.ena || (this.ena=B);this.In.shift();try{this.zAb(z);}catch(E){throw (this.H.error(E),E);}}}else this.Ifc();}};t.prototype.Ifc=function(){var w;w=this;this.nq && (this.Bya?this.Bya.dcb || this.Bya.Eg():this.Bya=this.nq.zB(function(){return w.a4b();},"JIT Appender"));};t.prototype.a4b=function(){var w,u,y,x;return d.__generator(this,function(z){switch(z.label){case 0:if(1 !== this.In.length)return [3,3];w=this.In[0];if(!w.Um && !w.Py || (null === (x=w.IG) || void 0 === x?0:x.$Z))return [2];u=this.M$a(w);y=this.K.W_;return u > y?[4,p.fj.fH(f.O.Na(u - y))]:[3,2];case 1:(z.ub(),z.label=2);case 2:return (this.Gx(),[3,0]);case 3:return [2];}});};t.prototype.M$a=function(w){return w.Nd - this.X.fg();};t.prototype.vhc=function(w,u){if(this.wna || void 0 === this.mI || w.Ta !== this.mI.Ta)return !0;w=w.kh;(0,g.assert)(w);return 1 < w.length?(0,q.Tpa)(w,function(y){return y.Wd <= u;}) !== this.mI.ucb:!1;};t.prototype.K1b=function(w){if(w.mediaType === n.u.U || !w.Mj)return !0;if(void 0 === this.mI)return !1;if(!w.track.K_)return !w.Mj;w=w.kh;(0,g.assert)(w);return !1 === w[this.mI.ucb].Pm;};t.prototype.wRb=function(){throw Error("not supported");};t.prototype.CXa=function(w,u){var y,x,z,B;if(!this.M_a || this.eYa){z=w.kh.reduce(function(A,C,D){return C.Wd <= u?D:A;},0);B=w.kh[z];this.mI || (null === (x=(y=this.Ld).vnb) || void 0 === x?void 0:x.call(y,{N:w.track.P.N,ocb:w.Mj}),this.lW=!0);if(this.Ld.appendBuffer(B.data,{zc:!0,profile:w.profile,bitrate:w.bitrate,Ta:w.Ta}))(this.hO("@" + c.default.time.fa() + ", header appended, streamId: " + w.Ta),this.mI={Ta:w.Ta,ucb:z},this.SEb(w.P.Ub || 0,w.Ta,z),this.Gx());else throw (this.bc("appendHeader error: " + this.Ld.error),this.hO("@" + c.default.time.fa() + ", appendHeader error: " + this.Ld.error),Error("appendHeaderError"));}};t.prototype.zAb=function(w){var u,y,x,z,B,A;u=this;z=w.XCa || f.O.Oa;B=w.Xa.Ya.G;B.Sa && Infinity !== B.Sa && (z=new f.O(B.Sa,1E3).add(z).$i,Infinity === this.Lg.duration || this.Lg.duration < z) && (this.Lg.duration=z);z=void 0 !== w.zz?f.O.Na(w.zz).add(w.XCa):void 0;B=null === (y=this.In[0]) || void 0 === y?void 0:y.Ed;y={endOfStream:this.endOfStream || !(null === (x=w.IG) || void 0 === x || !x.$Z),YQ:z,MAa:B};z=this.xfb.append(w,y);x=z.Jj;B=z.Qj;y=z.response;z=z.offset;null === B || void 0 === B?void 0:B.forEach(function(C){return u.emit(C.type,C);});B=w.stream;if(B.qa){A=B.Gq().Xea;z=z.Fa(A.Ue(B.V));}this.p_a(z);x && (w.Um || w.Py) && w.Jj();this.$Xa(w,x,y);};t.prototype.$Xa=function(w,u,y){var x,z,B,A;void 0 === u && (u=!1);A=u?{status:m.jg.Pp,Bk:void 0}:w.Qr(this.Lg,this.Ld,this.Lg.Yc,void 0,y);y=A.status;(A=A.Bk) && this.emit(A.type,A);switch(y){case m.jg.mg:this.yAb(w);break;case m.jg.z5:u || (this.Wk=w);break;case m.jg.Pp:(u || (this.Wk=w,void 0 === this.XN || this.Of !== h.default.ee.U || w.Ed.equal(this.XN) || (this.XN=void 0),this.hO("@" + c.default.time.fa() + ", request appended, type: " + w.mediaType + ", streamId: " + w.Ta + ", pts: " + w.Nd + "-" + w.bg)),w.Um || w.Py?(this.XN=u?w.Ed:w.Qc,null === (z=(x=this.Ld).HTb) || void 0 === z?void 0:z.call(x,w.IG),this.lW=!1,(null === (B=w.IG) || void 0 === B?0:B.$Z) && this.IDb && this.d0(!1,this.XN)):this.XN=void 0,this.TEb(w),this.Gx());}};t.prototype.yAb=function(w){if(void 0 !== this.Ld.error){if("done" === this.Ld.error)return;this.Ll("failure to append queued mediaRequest:",null === w || void 0 === w?void 0:w.toString(),"err:",JSON.stringify(this.Ld.error));throw this.Ld.error;}w=Error("failure to append queued mediaRequest: " + (null === w || void 0 === w?void 0:w.toString()) + " err: " + this.Ld.error);this.Ll(w.message);throw w;};t.prototype.SEb=function(w,u,y){w={type:"headerAppended",mediaType:this.Of,manifestIndex:w,streamId:u,isIndex:y};this.emit(w.type,w);};t.prototype.TEb=function(w){w={type:"requestAppended",mediaType:this.Of,request:w};this.emit(w.type,w);};t.prototype.hO=function(w){w={type:"managerdebugevent",message:w};this.emit(w.type,w);};return t;})(r.EventEmitter);b.Nia=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Oea=void 0;d=a(6);b.Oea=function(l){switch(l){case d.Ma.ce:l=d.cd.ce;break;case d.Ma.bh:l=d.cd.bh;break;case d.Ma.ai:case d.Ma.Am:case d.Ma.OD:l=d.cd.Am;break;default:l=d.cd.Bm;}return l;};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.UM=void 0;d=a(2);l=a(6);h=a(21);r=(function(){function n(c){var f;void 0 === c && (c=[]);f=this;this.items=c;c.forEach(function(g){return f.YGa(g);});}Object.defineProperties(n.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$ea:{get:function(){var c;return null !== (c=this.video) && void 0 !== c?c:this.audio;},enumerable:!1,configurable:!0}});n.prototype.get=function(c){return c === l.u.J?this.video:this.audio;};n.prototype.every=function(c){return this.items.every(c);};n.prototype.some=function(c){return this.items.some(c);};n.prototype.forEach=function(c){this.items.forEach(c);};n.prototype.find=function(c){return (0,h.Nc)(this.items,c);};n.prototype.reduce=function(c,f){return this.items.reduce(c,f);};n.prototype.filter=function(c){return new n(this.items.filter(c));};n.prototype.replace=function(c,f){var g;g=this.items.indexOf(c);(0,d.assert)(-1 < g);(0,d.assert)(c.mediaType === f.mediaType);this.items[g]=f;this.YGa(f);};n.prototype.wgc=function(c,f){(c=this.get(c))?this.replace(c,f):this.add(f);};n.prototype.add=function(c){this.items.push(c);this.YGa(c);};n.prototype.remove=function(c){var f;f=this.items.indexOf(c);if(-1 === f)return !1;this.items.splice(f,1);this.VLb(c.mediaType);return !0;};n.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};n.prototype.YGa=function(c){c.mediaType === l.u.J?this.video=c:this.audio=c;};n.prototype.VLb=function(c){c === l.u.J?this.video=void 0:this.audio=void 0;};return n;})();b.UM=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(1036),b);},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.G5=void 0;d=a(0);l=a(11);h=a(8);n=a(9);c=a(60);f=d.__importDefault(a(3));g=h.O.Na(1E3);r=(function(){function k(m,p,q,v,t,w,u,y,x,z){var B,A;this.lWb=m;this.l$b=p;this.I8=v;this.events=t;this.ot=w;this.hpb=y;this.priority=x;this.cm=[];this.console=(0,h.ri)(f.default,p,("PresentationTracker [").concat(this.lWb,"] ").concat(this.hpb,"]"));this.TBa=g.add(h.O.Na(null !== (A=null === (B=w.vS) || void 0 === B?void 0:B.Z) && void 0 !== A?A:0));this.listeners=new l.kf();this.qCa=new l.kf();this.zI=!z;this.HPb(u);this.zmb(q,u,v);}k.prototype.zmb=function(m,p,q){var v;v=this;this.I8=q;this.listeners.clear();this.qCa.clear();this.Lb=m;this.Ee=p;this.qCa.on(m.X,"skipped",this.q0.bind(this));this.listeners.on(q,"requestAppended",function(t){return v.pu(t.request);});this.events=m.events;this.sP.J2a(p);this.Z0.J2a(p);};k.prototype.HPb=function(m){var p;p=this;this.sP=m.zB(function(){return p.KSb();},"Presentation Emit",this.priority);this.Z0=m.zB(function(){return p.Gcc();},"Presentation Prune");};k.prototype.q0=function(){this.trace(("skipped, scheduler clock ").concat(this.Ee.za.currentTime.Fb()));this.zI=!0;this.sP.Eg();};k.prototype.KSb=function(){var m,p,q;return d.__generator(this,function(v){switch(v.label){case 0:(n.M && this.console.trace("Starting emit job"),this.pL=this.n8b(this.zI),m=this.vgb(),v.label=1);case 1:if(!m)return [3,3];this.trace(("queuing task for ").concat(this.xca(m.Qu)) + (" at player time ").concat(m.timestamp.Fb()) + (" scheduler clock is ").concat(this.Ee.za.currentTime.Fb()));return [4,c.fj.mD(m.timestamp)];case 2:v.ub();this.trace(("executing task for ").concat(this.xca(m.Qu)) + (" for player time ").concat(m.timestamp.Fb()) + (", scheduler clock: ").concat(this.Ee.za.currentTime.Fb()) + (", actual player time: ").concat(this.Lb.Me) + (", first item: ").concat(this.zI));p=this.zI?this.Lb.Me:m.timestamp;q=this.zI;this.zI=!1;this.S4a=m;this.pL++;this.ysa=(m=this.vgb())?m.timestamp:this.zK;try{this.wta(this.S4a,p,q);}catch(t){this.console.error(("Error in ").concat(this.hpb," emit, continuing"),t);}p=null === m || void 0 === m?void 0:m.timestamp;return [3,1];case 3:return (n.M && this.console.trace("Ending emit job"),[2]);}});};k.prototype.vgb=function(){if(void 0 !== this.pL)return this.cm[this.pL];};k.prototype.n8b=function(m){var p,q,t;void 0 === m && (m=!1);for(var v=m?0:null !== (p=this.pL) && void 0 !== p?p:0;v < this.cm.length;v++){p=this.cm[v];t=h.O.Na(null !== (q=this.ot.Sac) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.Lb.Me.add(t)))return m && 0 < v?v - 1:v;}return Math.max(this.cm.length - 1,0);};k.prototype.Gcc=function(){var m,p;return d.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.cm.length))return [3,2];m=d.__read(this.cm,2);p=m[1];this.trace(("queuing pruning task for ").concat(p.Qu) + (" at player time ").concat(this.TBa.add(p.timestamp).Fb()) + (" scheduler clock is ").concat(this.Ee.za.currentTime.Fb()));return [4,c.fj.mD(this.TBa.add(p.timestamp))];case 1:return (q.ub(),this.trace(("executing pruning task for ").concat(p.Qu) + (" at player time ").concat(this.TBa.add(p.timestamp).Fb()) + (" scheduler clock is ").concat(this.Ee.za.currentTime.Fb())),this.cm.shift(),this.pL && this.pL--,[3,0]);case 2:return [2];}});};k.prototype.jy=function(m,p,q){this.zmb(m,p,q);};k.prototype.reset=function(){this.cm=[];n.M && this.trace("reset");this.zI=!0;this.zK=void 0;this.pL=0;this.Z0.Eg();this.sP.Eg();};k.prototype.close=function(){n.M && this.trace("close()");this.qCa.clear();this.sP.Wa();this.Z0.Wa();this.listeners.clear();this.cm=[];};k.prototype.hi=function(m){var p;n.M && this.trace(("canSkip() ").concat(m));if(0 === this.cm.length)return (n.M && this.trace("canSkip false, no media sequence"),!1);p=this.cm[0];return p.timestamp.greaterThan(m)?(n.M && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.zK || this.zK.lessThan(m)?(n.M && this.trace(("canSkip false, later than last appended at ").concat(this.zK)),!1):!0;};k.prototype.trace=function(m){n.M && this.console.trace(m);};k.prototype.spa=function(m,p,q){var v;q && (this.zK=q);v=this.cm.length?this.cm[this.cm.length - 1]:void 0;if(void 0 === v || !this.vca(v.Qu,m))return (this.cm.push({Qu:m,timestamp:p}),this.sP.state === c.Cm.complete && this.sP.Eg(),this.Z0.state === c.Cm.complete && this.Z0.Eg(),!0);v === this.S4a && (this.ysa=q);return !1;};k.prototype.vca=function(m,p){return m === p;};k.prototype.iMb=function(m){m.cm=d.__spreadArray([],d.__read(this.cm),!1);m.zK=this.zK;};return k;})();b.G5=r;},function(r,b,a){var n,c;function d(){}function l(f,g){this.Qn=f;void 0 !== g?(c(g <= f.po,"require remain_sec <= chunk.sec but has " + g + " and " + f.po),this.mm=g):this.mm=f.po;}function h(f){var g;void 0 === f && (f=[]);this.zu=[];this.Ci=this.qn=0;try{for(var k=n.__values(f),m=k.next();!m.done;m=k.next()){this.add(m.value,void 0);}}catch(q){var p;p={error:q};}finally{try{m && !m.done && (g=k.return) && g.call(k);}finally{if(p)throw p.error;}}}n=a(0);c=a(2).assert;d.prototype=Error();l.prototype.constructor=l;l.prototype.Mi=function(){return new l(this.Qn,this.mm);};h.prototype.constructor=h;h.prototype.add=function(f,g){f=new l(f,g);this.zu.push(f);this.Ci+=f.mm;this.qn+=f.Qn.SB() * f.mm;};h.prototype.Mi=function(){var f,g,p;g=new h(void 0);try{for(var k=n.__values(this.zu),m=k.next();!m.done;m=k.next()){p=m.value;g.add(p.Qn,p.mm);}}catch(v){var q;q={error:v};}finally{try{m && !m.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return g;};h.prototype.iw=function(){try{return this.zu[0];}catch(f){}};h.prototype.yib=function(f){var g;for(c(0 <= f,"unexpected play_for_x_sec: x=" + f);0 < f;){if(void 0 === this.iw())throw new d();if(f < this.iw().mm){g=this.iw().Qn.SB() * f;this.iw().mm-=f;this.Ci-=f;this.qn-=g;f=0;}else (g=this.zu.shift(),this.Ci-=g.mm,this.qn-=g.Qn.SB() * g.mm,f-=g.mm);}};h.prototype.Hac=function(f){var k;c(0 <= f,"unexpected play_y_kb: y=" + f);for(var g=0;0 < f;){if(void 0 === this.iw())throw new d();if(f < this.iw().mm * this.iw().Qn.SB()){k=f / this.iw().Qn.SB();this.iw().mm-=k;this.Ci-=k;this.qn-=f;g+=k;f=0;}else (k=this.zu.shift(),this.Ci-=k.mm,this.qn-=k.Qn.SB() * k.mm,g+=k.mm,f-=k.Qn.SB() * k.mm);}return g;};r.exports={CJa:h,dtb:d};},function(r){r.exports={NPa:{code:-1,description:"MediaCache is not supported."},csc:{code:100,description:"Resource was not found"},Twb:{code:101,description:"Resource Metadata was not found"},eN:{code:102,description:"Read failed",Ss:function(b,a){return {code:this.code,description:b,cause:a};}},s6:{code:200,description:"Daily write limit exceeded"},zM:{code:201,description:"Capacity has been exceeded"},r6:{code:202,description:"Write failed, cause unknown",Ss:function(b,a){return {code:this.code,description:b,cause:a};}},btc:{code:203,description:"Write failed, cause unknown"},$tb:{code:300,description:"Failed to delete resource",Ss:function(b,a){return {code:this.code,description:b,cause:a};}},CD:{code:900,description:"Invalid partition name"},qwb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},LKa:{code:701,description:"Failed to initialize underlying disk cache."},Swb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={sab:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(d){var l;void 0 === d.error.code && (d.error.code=0);void 0 === d.error.description && (d.error.description="Unknown");a.forEach(function(h){d.error && d.error.code == h.error.code && d.error.description === h.error.description && (l=h);});l?l.resources.push(d.Ls):a.push({error:d.error,resources:[d.Ls]});});return a;}},g9a:function(b){var a;a={freeSize:b.op,dailyBytesRemaining:b.gP,bytesWritten:b.Sl,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(d){return {key:d.key,operation:d.fm,itemBytes:d.uca,error:d.error};}));return a;},jz:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.tA=void 0;d=a(0);l=a(9);h=a(8);n=a(28);r=(function(){function c(f,g){this.Di=f;this.options=d.__assign({XLb:!0},g);}Object.defineProperties(c.prototype,{ru:{get:function(){return ("trace-").concat(this.Di.source);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{je:{get:function(){return this.ru;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});c.prototype.ol=function(f){var g,k;g=f.Ug;if(g === n.Kc.kl || g === n.Kc.sn){f=(0,h.m5a)(this.Di.X3b);k=this.Di.c1b;g === n.Kc.kl && this.options.XLb && this.Di.clear();g=f;Object.keys(k).length && (g=d.__spreadArray(d.__spreadArray([],d.__read(f),!1),[k],!1));return g;}};c.prototype.Wa=function(){var f;null === (f=this.Di) || void 0 === f?void 0:f.Wa();};return c;})();b.tA=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.c6=void 0;r=a(11);d=a(35);l=a(20);a=(function(){function h(n){void 0 === n && (n={wk:!1,currentTime:l.O.Oa,speed:1});this.Tc={wk:function(){return "function" === typeof n.wk?n.wk():n.wk;},currentTime:function(){return "function" === typeof n.currentTime?n.currentTime():n.currentTime;},speed:function(){return "function" === typeof n.speed?n.speed():n.speed;}};}Object.defineProperties(h.prototype,{wk:{get:function(){return this.Tc.wk();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{currentTime:{get:function(){return this.Tc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{speed:{get:function(){return this.Tc.speed();},enumerable:!1,configurable:!0}});return h;})();b.c6=a;(0,d.hf)(r.EventEmitter,a);},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.CPa=b.S5=void 0;d=a(11);l=a(28);(function(n){n[n.CKa=1]="Creation";n[n.LVa=2]="StartPlayback";})(h=b.S5 || (b.S5={}));r=(function(){function n(c,f,g){this.Ee=c;this.H=f;this.events=g;this.uL=[];this.Th=new d.kf();}n.prototype.eg=function(c){var f;f={hn:c,Rqa:void 0};this.uL.push(f);c.Lra === h.CKa && this.Flb(f);this.Th.on(c.events,"collectionRequested",this.w9b.bind(this,f));};n.prototype.Wa=function(){this.Th.clear();};n.prototype.G4b=function(c){var f,g;f=this;g={Ug:c};this.uL.forEach(function(k){f.HGa(k.hn,g);c === l.Kc.Cl && k.hn.Lra === h.LVa && f.Flb(k);});};n.prototype.w9b=function(c){var f;this.HGa(c.hn,{qMb:!0});null === (f=c.Rqa) || void 0 === f?void 0:f.Eg();};n.prototype.Flb=function(c){var f,g,k,m;f=this;k=c.hn;m=this.Ee.q4a(function(){f.HGa(k,{lcb:!0});},k.hX,k.Rt);null === (g=c.Rqa) || void 0 === g?void 0:g.Wa();c.Rqa=m;};n.prototype.HGa=function(c,f){var g;try{g=c.Xf(f);g.rga && this.events.emit(c.Rt,g.event);}catch(k){this.H.error(("Error generating event for ").concat(c.Rt),k);}};return n;})();b.CPa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c1a=b.MW=b.Nc=void 0;b.Nc=function(a,d){for(var l=0;l < a.length;l++){if(d(a[l],l,a))return a[l];}};b.MW=function(a){return a.filter(function(d,l){return a.indexOf(d) === l;});};b.c1a=function(a,d){return a.filter(function(l,h){return a.indexOf(l) === h && -1 !== d.indexOf(l);});};},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.slb=b.e$a=b.map=void 0;d=a(0);a(1143);b.map=function(l){return function(h,n){void 0 === n && (n=!1);return function(c,f,g){var k,m,p,q,v,t,w,u;v=Reflect.x$a(l,c,f) || ({});w="number" === typeof g;u=n;(t=w?null !== (m=(null !== (k=v.Gb) && void 0 !== k?k:{})[g]) && void 0 !== m?m:{}:u?v.return:v.tAa) || (t={rules:[]});k=d.__assign(d.__assign(d.__assign({},t),h),{rules:d.__spreadArray(d.__spreadArray([],d.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),d.__read(null !== (q=h.rules) && void 0 !== q?q:[]),!1)});w?(v.Gb || (v.Gb={}),v.Gb[g]=k):u?v.return=k:v.tAa=k;Reflect.m$(l,v,c,f);};};};b.e$a=function(l){return function(h,n){var c,f,g,k;h=null !== (k=null !== (f=null === (c=h.__proxyCtor) || void 0 === c?void 0:c.prototype) && void 0 !== f?f:null === (g=null === h || void 0 === h?void 0:h.constructor) || void 0 === g?void 0:g.prototype) && void 0 !== k?k:h;for(var m;h && void 0 === m;){m=Reflect.x$a(l,h,n);h=h.__proto__;}return m;};};b.slb=function(){return function(){return function(l){return l;};};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wc=void 0;r=b.Wc || (b.Wc={});r.CJb="bitraterestriction";r.F2a="cdnsel";r.mB="chgstrm";r.debug="debug";r.SRb="dlreport";r.HB="endplay";r.PZ="intrplay";r.sC="midplay";r.DR="playbackaborted";r.k1="renderstrmswitch";r.AG="repos";r.Ww="resumeplay";r.pgc="serversel";r.Ju="startplay";r.c2="statechanged";r.transition="transition";r.AEa="segmentdropped";r.oIb="asereport";r.l5b="livereport";r.k5b="livepipelinefailover";r.t1a="audioswitch";r.P1a="blockedautoplay";r.config="config";r.fta="dlreq";r.Evc="ftlProbeError";r.mjc="subtitleerror";r.njc="subtitleqoe";r.nkc="timedtextrebuffer";r.Rob="timedtextswitch";r.rnb="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BOa="IsTypeSupportedProviderFactorySymbol";b.XSa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var l,h,n;function d(){this.type=l.lx.fA;}Object.defineProperty(b,"__esModule",{value:!0});b.ED=void 0;l=a(26);r=a(129);h=a(73);n=new r.RH();d.iPb=function(){return {isTypeSupported:function(c){var f;try{if(-1 == c.toLowerCase().indexOf("codec"))return mb.MSMediaKeys.isTypeSupported(c,"video/mp4");f=c.split("|");return 1 === f.length?mb.MSMediaKeys.isTypeSupported(h.Ab.nA,c):"probably" === d.eGa(f[0],f[1]);}catch(g){return !1;}}};};d.S9=function(c,f,g){f=n.format(d.nha,f);if(0 === g.length)return f;g=n.format('features="{0}"',g.join());return n.format("{0}|{1}{2}",c,f,g);};d.eGa=function(c,f){var g;try{g=mb.MSMediaKeys.isTypeSupportedWithFeatures?mb.MSMediaKeys.isTypeSupportedWithFeatures(c,f):"";}catch(k){g="exception";}return g;};b.ED=d;d.nha='video/mp4;codecs="{0},mp4a";';},function(r,b){function a(d,l){var h;h=this;this.status={};d.forEach(function(n,c){h.status[n]=l[c];});}Object.defineProperty(b,"__esModule",{value:!0});b.H5=void 0;a.prototype.eQ=function(){return this.status;};a.prototype.gba=function(){return Object.entries(this.status).filter(function(d){d=oa(d);d.next();return d.next().value.supported;}).map(function(d){var l;d=oa(d);l=d.next().value;d.next();return l;});};b.H5=a;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v){var t;t=n.nH.call(this,m,p,l.u.XWa,v) || this;t.config=m;t.Tq=p;t.is=q;t.jda=v;t.type=l.zn.Tz;t.dnc=c.de.J4a();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.wD=void 0;l=a(26);h=a(42);n=a(492);r=a(129);c=a(127);f=a(255);g=a(82);k=a(285);new r.RH();la(d,n.nH);d.prototype.WL=function(){return Promise.resolve(!1);};d.prototype.ZJ=function(){return Promise.resolve("");};d.prototype.Jaa=function(){return Promise.resolve("");};d.prototype.j2=function(){return this.config().yta?this.jda.aya()?this.jda.uY(h.I.ZT).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};d.prototype.Uga=function(){return this.config().yta?this.jda.aya()?this.jda.uY(h.I.ST).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};d.prototype.k2=function(){return Promise.resolve(!1);};d.prototype.h2=function(){return Promise.resolve(!1);};d.prototype.OY=function(m){return this.dnc[m];};d.prototype.npa=function(){};d.prototype.i6b=function(m){switch(m){case l.sr.k5:return "1.4";case l.sr.zH:return "2.2";}};d.prototype.Jt=function(){return f.Y3.Jt();};d.prototype.J$a=function(){var p;function m(q,v){return (0,g.Fpb)(function(t,w){return t.name === w.name;},q,v);}p=m(this.config().w0a,this.config().Do);return m(p,this.config().hu);};d.prototype.eZ=function(){return Promise.resolve(void 0);};d.prototype.Zaa=function(){return Promise.resolve(void 0);};d.prototype.R9=function(m){var p;p=[];this.is.Ch(m) && p.push(this.i6b(m));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};d.prototype.vY=function(m){return this.config().A$b?Promise.resolve(new k.H5(m,m.map(function(){return {supported:!0};}))):n.nH.prototype.vY.call(this,m);};b.wD=d;d.nha="video/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cja=b.$z=void 0;r=b.$z || (b.$z={});r.Yzb="unknown";r.PHa="absent";r.kUa="present";r.Error="error";b.Cja="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LNa="IDBDatabaseFactorySymbol";b.pOa="IndexedDBFactorySymbol";b.rOa="IndexedDBStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.k6="TransportConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$5b=b.QQ=b.Y5b=void 0;b.Y5b=function(a){return a;};b.QQ=function(a){return a;};b.$5b=function(a){return Object.assign({},a);};},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y;function d(x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V){this.j=x;this.trackId=z;this.qK=B;this.wc=A;this.Sh=C;this.dpb=D;this.Wb=E;this.urls=G;this.Sf=F;this.displayName=K;this.aj=O;this.VL=L;this.variant=I;this.zG=M;this.profile=H;this.zw=J;this.mR=N;this.YVb=P;this.mca=X;this.lw=V;this.type=c.Aj.bha;this.Uu=void 0;this.am=!(!H || H != g.xn.VM);this.Ih={bcp47:F,trackId:z,downloadableId:E,isImageBased:this.am};this.log=(0,f.nj)(x,"TimedTextTrack");this.state=y.t5;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.TH=void 0;l=a(0);h=a(107);n=a(19);c=a(95);f=a(10);g=a(42);k=a(22);m=a(15);p=a(1250);q=a(16);v=a(4);t=a(1251);w=a(65);u=a(66);(function(x){x[x.t5=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.yH=2]="LOADED";x[x.lU=3]="LOAD_FAILED";})(y || (y={}));d.prototype.Rba=function(){var x;x=this;if(this.j.state.value === q.kc.CLOSED || this.j.state.value === q.kc.CLOSING)return Promise.reject({ja:!1});if(this.am)return this.q2b();if(this.j.Md.qa)return (this.state=y.LOADING,this.Obb());this.e6a || (this.e6a=this.g6a());return this.e6a.then(function(z){return x.Obb(z);});};d.prototype.getState=function(){return this.state;};d.prototype.Oq=function(){return this.mR;};d.prototype.yp=function(){return this.YVb;};d.prototype.vwa=function(){var x;return (null === (x=this.g2) || void 0 === x?0:x.ready)?this.g2.B_:void 0;};d.prototype.Jq=function(x,z){var B;try{return null === (B=this.vwa()) || void 0 === B?void 0:B.Jq(x,z);}catch(A){this.log.error("error in getSubtitlesCount",A,{start:x,end:z,isImageBased:this.am});}};d.prototype.l_b=function(){var x,z,B;if(!(0,m.Ad)(this.ca))try{B=null === (z=null === (x=this.vwa()) || void 0 === x?void 0:x.WJ(0)) || void 0 === z?void 0:z[0];this.ca=null === B || void 0 === B?void 0:B.displayTime;}catch(A){this.log.error("exception in getStartPts",A);}return this.ca;};d.prototype.$Ca=function(x){var z,B;(0,k.wa)((0,u.ccb)(x));(0,k.wa)(null === (z=this.j.ba) || void 0 === z?void 0:z.Ra.bm,"Live manifest is unavailable.");(0,k.wa)(null === (B=this.g2) || void 0 === B?void 0:B.B_,"Subtitle manager is unavailable");z=x.elc;this.g2.B_.$Ca({S:x.S,xml:z,ca:x.ca,Sa:x.Sa,size:z.length,oL:x.oL});};d.prototype.sga=function(x){return this.j.state.value === q.kc.CLOSING || this.j.state.value === q.kc.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Mb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};d.prototype.G4a=function(x){var z,B;z=this;B=(0,f.nj)(this.j,"TimedTextTrack");B.warn=B.trace.bind(B);B.info=B.debug.bind(B);B=(0,p.H4a)(this.j,B,this.request,this);x=new t.default(B,x);this.g2={B_:x,ready:!1};x.on("ready",function(){z.g2.ready=!0;});return x;};d.prototype.q2b=function(){var x,z,B,A,C,D,E;x=this;if(!this.Lbb){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",z1a:!1,vAa:this.zw.offset,Ifb:this.zw.length,Ce:this.j.mediaTime.value || 0,bufferSize:n.config.I1b,aga:{T:this.j.NY()}};B=(this.urls || []).map(function(G){return G.Qh;});A=0;C={};D=!0;E=function(G,F){var K;(0,m.Ad)(G)?D || x.sga(x.fw(x.Pv,"","image"))?(D=!1,x.zw.url=null === (K=x.Daa(x.Pv)) || void 0 === K?void 0:K.url,z.url=x.zw.url,C[G]=(C[G] || 0) + 1,K=x.G4a(z),K.on("ready",function(){F({ja:!0,track:x});}),K.on("error",function(O){var L;O=Object.assign({ja:!1},O);L=x.fw(x.Pv,x.zw.url,"image");L.details={midxoffset:x.zw.offset,midxsize:x.zw.length};L.errorstring=O.errorString;C[G] <= n.config.Pob?(x.daa(L,!0,"retry with current cdn"),x.kqa(C[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.fw(x.Pv,"","image"));E(x.Pv,F);})):(x.Pv=B[A++],x.Pv?(x.daa(L,!0,"retry with next cdn"),x.kqa(C[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.fw(x.Pv,"","image"));E(x.Pv,F);})):(x.daa(L,!1,"all cdns tried"),F({ja:!1,X7b:"all cdns failed for image subs",track:x})));}),K.start()):F({ja:!1,aborted:!0}):(F({ja:!1,X7b:"cdnId is not defined for image subs downloadUrl"}),x.daa(x.fw(0,"","image"),!1,"cdnId is undefined"));};this.Pv=B[A++];this.Lbb=new Promise(function(G,F){E(x.Pv,function(K){K.ja?(x.log.info("Loaded image subtitle manager"),x.state=y.yH,G(K)):(x.log.error("Unable to load image subtitles manager",K),x.state=y.lU,F(K));});});}return this.Lbb;};d.prototype.Obb=function(x){var z,B;z=this;B=this.j.dH.value;(0,k.wa)(B);(0,k.wa)(void 0 !== x || this.j.Md.qa);return new Promise(function(A,C){var D;D=z.G4a({profile:z.profile,xml:x,Qg:n.config.Qob,preferences:n.config.sGa,Ce:z.j.mediaTime.value || 0,z1a:!1,videoSize:B,qa:z.j.Md.qa});D.on("ready",function(){A(D);}).on("error",function(E){C({ja:!1,error:E});}).start();}).then(function(){z.state=y.yH;return {ja:!0,track:z};}).catch(function(A){z.log.error("Unable to parse timed text track",(0,v.Zz)(A),z.Ih,{url:A.url});z.state=y.lU;A.reason="parseerror";A.track=z;throw A;});};d.prototype.daa=function(x,z,B){x=Object.assign({},x,{Czc:z,status:B});this.j.fireEvent(q.ka.JS,x);this.log.warn("subtitleerror event",x);};d.prototype.request=function(x,z){var B,A,C;B=this;this.log.trace("Downloading",x);C=this.Daa(this.Pv);x={url:x.url,offset:x.offset,length:x.size,Uu:this.Uu,responseType:h.AZ,headers:{},Dc:C?{id:C.Qh}:void 0,VE:"tt-" + this.Sf,Gu:null !== (A=null === C || void 0 === C?void 0:C.type) && void 0 !== A?A:w.FU};this.j.Iba.download(x,function(D){B.log.trace("imgsub: request status " + D.ja);D.ja?z(null,new Uint8Array(D.content)):z({Da:D.Da,Wf:D.Wf});});};d.prototype.fw=function(x,z,B){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Wb,subtitletype:B,bcp47:this.Sf,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.am};};d.prototype.Daa=function(x){return (this.urls || []).find(function(z){return z.Qh === x;});};d.prototype.g6a=function(){var A,C;function x(D){return l.__awaiter(A,void 0,void 0,function G(){var F,K,O;K=this;return Ka(G,function(L){F=B();O=K.fw(D.Dc.Qh,D.url,"text");O.errorstring=D.reason;return F && K.sga(O)?L.return(K.kqa(C[F.Qh]).then(z)):L.return(Promise.reject({ja:!1,aborted:!0}));});});}function z(){return l.__awaiter(A,void 0,void 0,function E(){var G,F,K;K=this;return Ka(E,function(O){G=B();F=null === G || void 0 === G?void 0:G.url;return G && F?(C[G.Qh]=(C[G.Qh] || 0) + 1,O.return(K.aSb(F,G).catch(x))):O.return(Promise.reject({}));});});}function B(){return (A.urls || []).find(function(D){return !!((C[D.Qh] || 0) < n.config.Pob);});}A=this;this.state=y.LOADING;C={};return z();};d.prototype.kqa=function(x){return new Promise(function(z){var B;B=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(B);},B);});};d.prototype.aSb=function(x,z){var B;B=this;this.log.trace("Downloading",z && ({Dc:z.Qh}),this.fw(z.Qh,x,"text"));return new Promise(function(A,C){var D,E;E={responseType:h.jxa,url:x,track:B,Dc:{id:z.Qh},VE:"tt-" + B.Sf,Gu:null !== (D=z.type) && void 0 !== D?D:w.FU};B.j.Iba.download(E,function(G){G.ja?A(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:E.url,track:B,Dc:z}),C(G));});});};Va.Object.defineProperties(d.prototype,{sg:{configurable:!0,enumerable:!0,get:function(){return this.dpb.sg;}},mG:{configurable:!0,enumerable:!0,get:function(){return this.dpb.mG;}}});b.TH=d;d.ND=y;},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},gwa:function(){return this.buffer.length - this.position;},NC:function(){return this.buffer[this.position++];},sl:function(a){var d;d=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(d,this.position):a.slice(d,this.position);},Es:function(a){for(var d=0;a--;){d=256 * d + this.buffer[this.position++];}return d;},hDa:function(a){for(var d="";a--;){d+=String.fromCharCode(this.buffer[this.position++]);}return d;},zi:function(){return this.Es(2);},Fs:function(){return this.Es(4);},SR:function(){return this.Es(8);},lz:function(a){for(var d,l="";a--;){d=this.NC();l+=("0123456789ABCDEF")[d >>> 4] + ("0123456789ABCDEF")[d & 15];}return l;},iDa:function(a){for(var d=0,l=0;l < a;l++){d+=this.NC() << (l << 3);}return d;},RR:function(){return this.iDa(4);},h3:function(a){this.nT(a,2);},oD:function(a){this.nT(a,4);},Sha:function(a){this.buffer[this.position++]=a;},nT:function(a,d){this.position+=d;for(var l=1;l <= d;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},nD:function(a){for(var d=0;d < a.length;d++){this.buffer[this.position++]=a.charCodeAt(d);}},g3:function(a){for(var d=a.length,l=0;l < d;l++){this.buffer[this.position++]=a[l];}},mT:function(a,d){this.g3(a.sl(d));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yPa="LogMessageRulerConfigSymbol";b.APa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jka="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hla="PboLicenseResponseTransformerSymbol";},function(r,b,a){var c,f,g,k,m,p;function d(q,v,t,w){this.za=q;this.nZ=v;this.Ia=t;this.profile=w;}function l(){}function h(){}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.GSa=b.D5=void 0;r=a(0);c=a(1);f=a(27);g=a(5);k=a(12);m=a(18);a=a(81);n.prototype.encode=function(q){return {downloadableId:q.Wb,duration:q.duration};};n.prototype.decode=function(q){return {Wb:q.downloadableId,duration:q.duration};};h.prototype.encode=function(q){return {total:q.total,totalContentTime:q.eM,totalAdDuration:q.YG,totalCombinedDuration:q.VS,totalOtherDuration:q.ZG,totalStartSlateDuration:q.gM,totalLiveEdgeDuration:q.fM,audio:q.audio.map(new n().encode),video:q.video.map(new n().encode),text:q.text.map(new n().encode)};};h.prototype.decode=function(q){var v;return {total:q.total,eM:null !== (v=q.totalContentTime) && void 0 !== v?v:q.total,YG:q.totalAdDuration,VS:q.totalCombinedDuration,ZG:q.totalOtherDuration,gM:q.totalStartSlateDuration,fM:q.totalLiveEdgeDuration,audio:q.audio.map(new n().decode),video:q.video.map(new n().decode),text:q.text.map(new n().decode)};};l.prototype.encode=function(q){return {streamingType:q.qh,href:q.href,xid:q.sa,movieId:q.L,position:q.position,clientTime:q.oB,sessionStartTime:q.so,videoTrackId:q.jT,audioTrackId:q.rq,timedTextTrackId:q.SS,mediaId:q.VQ,playTimes:new h().encode(q.ez),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.ro,profileId:q.profileId};};l.prototype.decode=function(q){return {qh:q.streamingType,href:q.href,sa:q.xid,L:q.movieId,position:q.position,oB:q.clientTime,so:q.sessionStartTime,jT:q.videoTrackId,rq:q.audioTrackId,SS:q.timedTextTrackId,VQ:q.mediaId,ez:new h().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,ro:q.sessionParams,profileId:q.profileId};};b.D5=l;d.prototype.create=function(q){var v,t,w,u,y,x,z,B;B=Object.assign(Object.assign({},null !== (v=q.jb.ro) && void 0 !== v?v:{}),{uiVersion:this.nZ().Xr.Dz});v=null !== (t=q.Md.qa?q.Md.jba():q.DX) && void 0 !== t?t:0;return {href:q.ba && q.ba.Oj?q.ba.Oj.XP("events").href:"",qh:null !== (u=null === (w=q.ba) || void 0 === w?void 0:w.Ra.qh) && void 0 !== u?u:"VOD",sa:q.sa.toString(),L:q.L,position:Math.floor(v),oB:this.za.HL.ia(g.va),so:q.bC?q.bC.ia(g.va):-1,jT:null === (y=q.Xh.value) || void 0 === y?void 0:y.trackId,rq:null === (x=q.Hc.value) || void 0 === x?void 0:x.trackId,SS:null === (z=q.Mb.value) || void 0 === z?void 0:z.trackId,VQ:void 0,ez:this.Zva(q),trackId:void 0 !== q.Gl?q.Gl.toString():"",sessionId:this.nZ().sessionId || this.Ia.id,appId:this.nZ().appId || this.Ia.id,ro:B,profileId:this.profile};};d.prototype.load=function(q){return new l().decode(q);};d.prototype.cwa=function(q){return q.map(function(v){return {Wb:v.downloadableId,duration:v.duration};});};d.prototype.Zva=function(q){return (q=q.bn)?(q=q.xZb(),{total:q.total,eM:q.totalContentTime,YG:q.totalAdDuration,ZG:q.totalOtherDuration,VS:q.totalCombinedDuration,fM:q.totalLiveEdgeDuration,gM:q.totalStartSlateDuration,audio:this.cwa(q.audio),video:this.cwa(q.video),text:this.cwa(q.timedtext)}):{total:0,eM:0,YG:0,VS:0,ZG:0,fM:0,gM:0,video:[],audio:[],text:[]};};p=d;p=r.__decorate([(0,c.$)(),r.__param(0,(0,c.l)(f.Nh)),r.__param(1,(0,c.l)(k.uc)),r.__param(2,(0,c.l)(m.kd)),r.__param(3,(0,c.l)(a.dN))],p);b.GSa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MSa="PboPlaydataValidatorSymbol";b.DSa="PboPlaydataArrayValidatorSymbol";b.FSa="PboPlaydataCollectionValidatorSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.qka=void 0;b.qka=a;a.cub="display";a.utb="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ila=b.cN=void 0;r=b.cN || (b.cN={});r.Ojc="taskstart";r.Mjc="taskabort";r.Njc="taskfail";r.Pjc="tasksuccess";b.Ila="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Via="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MIa="AsePrefetcherAdapterSymbol";b.NIa="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kla="PboPublisherSymbol";},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.TL=void 0;d=a(17);l=a(19);h=a(58);n=a(61);c=a(4);f=a(22);g=a(10);k=a(23);m=a(14);p=a(304);q=a(15);r=a(34);g.Ga.get(r.xj).register(c.aa.ZNa,function(v){var u,y,x;function t(){var z;t=d.iA;z=setInterval(w,l.config.B5b);h.bf.addListener(h.Tm,function(B){B && B.isPopStateEvent?u.trace("popstate event, Lock timers can stay"):((0,k.jh)(y,function(A,C){localStorage.removeItem(C.iu);}),clearInterval(z));},d.YM);}function w(){var z;z=(0,n.Hra)();(0,k.jh)(y,function(B,A){!1;B=localStorage.getItem(A.iu);(B=JSON.parse(B))?B.updated=z:B={updated:z,sessionId:x,count:1};localStorage.setItem(A.iu,JSON.stringify(B));});}(0,f.wa)(p.storage);u=(0,g.sk)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.TL={cy:function(z,B,A){var D,E,G,F,K,O,L,I,M,H;function C(J){localStorage.setItem(G,JSON.stringify(J));J={iu:G};y[G]=J;u.trace("Lock acquired",{Name:J.iu});t();B({ja:!0,Rca:J});}D=this;A=void 0 === A?!1:A;if(localStorage){E=(0,n.Hra)();G="lock-" + z;F={updated:E,sessionId:x,count:1};try{if((G in localStorage)){K=localStorage.getItem(G);O=0;L=JSON.parse(K);(0,q.NF)(L.updated) && (O=L.updated);I=(0,m.m5)(E - O) * d.hv;M=x === L.sessionId;if(I < l.config.heb){if(M)(L.count+=1,u.debug("Incremented lock count for existing playbackSession",{id:x,count:L.count}),L.updated=E,C(L));else if(A){H=l.config.heb - I + d.hv;u.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:L.count,Epoch:E,LockEpoch:O,waitTimeoutMs:H});mb.setTimeout(function(){return D.cy(z,B,!1);},H);}else B({ja:!1});}else (u.error("Lock was expired or invalid, ignoring",{Epoch:E,LockEpoch:O}),C(F));}else C(F);}catch(J){u.error("Error acquiring Lock",{errorSubCode:c.Y.un,errorDetails:(0,k.sf)(J)});B({ja:!0});}}else (m.lza?u.error("Local storage access exception",{errorSubCode:c.Y.yzb,errorDetails:(0,k.sf)(m.lza)}):u.error("No localstorage",{errorSubCode:c.Y.zzb}),B({ja:!0}));},release:function(z,B){var A,C;(0,f.wa)(y[z.iu] == z);if(localStorage){try{A=localStorage.getItem(z.iu);C=JSON.parse(A);C && 1 < C.count?(--C.count,localStorage.setItem(z.iu,JSON.stringify(C)),u.trace("Lock count decremented",{Name:z.iu,count:C.count})):(localStorage.removeItem(z.iu),delete y[z.iu],u.trace("Lock released",{Name:z.iu}));}catch(D){u.error("Unable to release Lock",{Name:z.iu},D);}B && B(d.th);}}};l.config.G$?b.TL.cy("session",function(z){b.TL.emb=z;v(d.th);}):v(d.th);});},function(r,b,a){var d,l,h,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(19);l=a(17);h=a(571);r=a(4);n=a(572);c=a(574);f=a(10);a=a(34);b.storage=b.storage || void 0;f.Ga.get(a.xj).register(r.aa.YNa,function(g){var k;switch(d.config.Mic){case "idb":k=n.Inb;break;case "none":k=h.Knb;break;case "ls":k=c.Jnb;}k(function(m){m.ja?(b.storage=m.storage,g(l.th)):g(m);});});},function(r,b,a){var h,n,c,f,g,k,m,p,q,v,t,w;function d(u,y){var z;function x(){function B(A,C){return C.cf && 0 !== C.cf.length && C.cf[0].EK?(0,h.PC)(u,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return A?A.i1(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({oc:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),A?A.i1(C):Promise.resolve());}l(z).then(function(A){var C;C=A.A$.filter(function(D){return !1 === D.active;}).map(function(D){return B(A,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");y(n.th);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);y(n.th);});}).catch(function(A){z.error("Unable to load DRM session data",A);y(n.th);});}z=(0,k.sk)("PlayDataManager");y=y || n.iA;c.config.Vu?y(n.th):x();}function l(u){var y;if(!b.kta){y=k.Ga.get(m.Wia);b.kta=new Promise(function(x,z){y.Sjb().then(function(){x(y);}).catch(function(B){u.error("Unable to load DRM data for license release",B);z(B);});});}return b.kta;}Object.defineProperty(b,"__esModule",{value:!0});b.ZSa=b.YSa=b.kta=void 0;h=a(306);n=a(17);c=a(19);f=a(58);g=a(45);k=a(10);r=a(4);m=a(229);p=a(151);q=a(16);v=a(50);t=a(34);w=a(222);b.YSa=function(u){var z,B,A,C,D,E;function y(){B || (u.ef("pdsb"),B=k.Ga.get(p.KU)().then(function(G){C=G;u.ef("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);u.ef("pdse");throw G;}));return B;}function x(){A=!0;C && C.close();f.bf.removeListener(f.Tm,x);}z=(0,k.nj)(u,"PlayDataManager");A=!1;D=k.Ga.get(g.F5);if(!D.HM || !D.FM){E=k.Ga.get(w.qla)();D.HM=E.oc;D.FM=E.request;}u.ef("pdctor");u.addEventListener(q.ka.Ah,function(){f.bf.removeListener(f.Tm,x);});u.addEventListener(q.ka.o_,function(){var G;if(!c.config.Vu && u.af){G=u.M9.l4a();l(z).then(function(F){return F.a0a(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});u.addEventListener(q.ka.Ah,function(){var G;if(!A){u.jnc();G=[(function(){return c.config.Vu || !u.af?Promise.resolve():new Promise(function(F){var K;z.info("Sending the expedited playdata");K=u.M9.l4a();u.af.k7a(K).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(O){return O?O.i1(K):Promise.resolve();}).then(function(){F(void 0);}).catch(function(O){z.error("Unable to send the expedited playdata",O);F();});});})(),(function(){return y().then(function(F){return F.d2(u.ga);}).then(function(){z.info("Sent the playdata");}).catch(function(F){z.error("Unable to send the playdata",F);});})(),(function(){return new Promise(function(F){k.Ga.get(v.Ho).flush(!1).catch(function(){z.error("Unable to send logblob");F(void 0);}).then(function(){F(void 0);});});})()];Promise.all(G).then(function(){u.Xda();}).catch(function(){u.Xda();});}});f.bf.addListener(f.Tm,x);return {};};b.ZSa=function(){return new Promise(function(u){d({},function(y){u(y);});});};k.Ga.get(t.xj).register(r.aa.BD,function(u){u(n.th);});},function(r,b,a){var h,n,c,f,g,k,m,p;function d(q){this.j=q;this.Qdb=!1;this.log=(0,n.nj)(this.j,"Playback");this.KQ=n.Ga.get(m.mU);(0,c.wa)(h.config);h.config.Vu || (this.kSb=n.Ga.get(f.vLa));}function l(q,v){var w;function t(u){return u && 0 < u.length && u[0].EK;}w=n.Ga.get(m.mU);return q.sa && t(q.cf)?w.release({sa:q.sa,cf:q.cf}).then(function(){}):v.sa && t(v.cf)?w.release(v).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.PC=b.BKa=void 0;h=a(19);n=a(10);c=a(22);f=a(343);g=a(56);k=a(15);m=a(205);p=a(16);d.prototype.$J=function(q){var v;v=this;return new Promise(function(t,w){var u,y,x;u=g.Go.d4a(q.yg);y=q.fl.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,n.cB)(z.data)};});x=v.j.zZb(q.fl[0].sessionId);v.KQ.cy({Wg:x.Wg,yg:k.is.Vo(q.yg)?q.yg:u,z$:[x.Om],fl:y,sa:x.sa,ip:q.ip,Oj:x.ba.Oj,qh:x.ba.Ra.qh}).then(function(z){v.j.cf=z.cf;t(z);v.xVb(x);}).catch(w);});};d.prototype.release=function(q){return l(this.j,q);};d.prototype.l4a=function(){var q;q=this.kSb.create();q.cf=this.j.cf;q.sa=this.j.sa;q.L=this.j.L;return q;};d.prototype.xVb=function(q){this.Qdb || (this.Qdb=!0,this.j.fireEvent(p.ka.o_,{L:q.L}));};b.BKa=d;b.PC=l;},function(r,b,a){var h,n,c,f,g,k,m,p,q,v,t,w;function d(u){u=Error.call(this,u);this.message=u.message;("stack" in u) && (this.stack=u.stack);this.name="CodecSwitchingError";}function l(u,y,x,z){var B,A;B=this;this.j=u;this.type=y;this.log=z;this.i7=new c.ac(!1);this.cI={data:[],state:"",operation:""};this.mimeType=this.n7a((this.type === w.u.J?this.j.Xh.value:this.j.Hc.value).streams);this.Ml=new f.Nk();this.$na={Type:this.type};if(n.config.SF){A=!0;this.Aua=new c.ac(!1);}this.log.trace("Adding source buffer",this.$na,{TypeId:this.mimeType});this.Ld=x.addSourceBuffer(this.mimeType);this.Ld.addEventListener("updatestart",function(){!1;B.cI.state="updatestart";});this.Ld.addEventListener("update",function(){!1;B.cI.state="update";});this.Ld.addEventListener("updateend",function(){var C;!1;B.i7.set(!1);B.MXa && B.MXa();B.cI.state="updateend";C=0;try{C=B.Ld.buffered.length;}catch(D){}A && C && (A=!1,B.Aua.set(!0),!1);});this.Ld.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(E){}u.Vd(k.aa.Byb,(0,h.Maa)(B.type));});this.Ld.addEventListener("abort",function(){!1;});u.addEventListener(q.ka.closed,function(){B.Ld=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Dtb=b.Gka=void 0;h=a(179);n=a(19);c=a(74);f=a(70);g=a(10);a(101);k=a(4);a(5);m=a(22);p=a(15);q=a(16);v=a(164);t=a(210);w=a(49);l.prototype.Ri=function(){return this.i7.value;};l.prototype.updating=function(){return this.Ld?this.Ld.updating:!1;};l.prototype.lga=function(u){this.MXa=u;};l.prototype.pva=function(){return this.cI;};l.prototype.buffered=function(){return this.Ld.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.jva=function(){var u,z,B;try{u=this.Ld.buffered;if(u){for(var y=[],x=0;x < u.length;x++){z=1E3 * u.start(x);B=1E3 * u.end(x);(0,m.wa)(B > z);y.push({start:z,end:B});}return y;}}catch(A){}};l.prototype.Baa=function(){var u,y;u=this.jva();if(u){u=u.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=u.reduce(function(x,z){return x + z.end - z.start;},0);u=u.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:u.join("|")};}};l.prototype.Q0a=function(u,y){!1;try{(0,m.wa)(this.Ld.buffered && 1 >= this.Ld.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.Baa()));}catch(x){}(0,m.wa)(!this.Ri());this.Rmb("append",u);y=y && y.Sw / 1E3;(0,p.Pa)(y) && this.Ld.timestampOffset !== y && (!1,this.Ld.timestampOffset=y);this.Ld.appendBuffer(u);!1;this.i7.set(!0);};l.prototype.remove=function(u,y){(0,m.wa)(!this.Ri());try{this.Rmb("remove");!1;this.Ld.remove(u,y);this.i7.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.$na);}};l.prototype.Rmb=function(u,y){this.cI.data=y || [];this.cI.state="init";this.cI.operation=u;};l.prototype.ehc=function(u,y){this.y4b=u / y * 1E3;};l.prototype.gLb=function(u){var y;if(this.Ld){if((u=this.n7a([{type:this.SMb,qf:u}]),u !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + u);if(!this.Ld.changeType)throw new d("Platform doesnt support changing SourceBuffer mime-type");try{this.Ld.changeType(u);this.mimeType=u;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.$na,{From:y,To:u}),new d(x.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(u,y){!y || y.zc?this.Npa(u,y):this.H8(u,y);return !0;};l.prototype.Npa=function(u,y){this.j.df.Npa(this,u,y || ({}));};l.prototype.H8=function(u,y){u=this.NMb(u,y);!1;this.j.df.H8(u);};l.prototype.NMb=function(u,y){var x;x=this.y4b || 0;return {RLb:function(){this.response=void 0;},Si:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.Gc.dd.DONE,LC:y.ca,Rw:y.ca + y.duration,Xn:y.duration,Sw:x,il:y.il,S:y.S,Ta:y.Ta,bd:+y.bd,location:y.location,PO:y.offset,NO:y.offset + y.ha - 1,bitrate:y.bitrate,response:u,Fab:u && 0 < u.byteLength,KF:!0,get zc() {return !this.KF;},Plb:this.Uk - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.S,isHeader:this.zc,ptsStart:this.LC,ptsOffset:this.Sw,responseType:this.utc,duration:this.Xn,readystate:this.Ki};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var u;this.j.MI("EndOfStream");null === (u=this.j.df) || void 0 === u?void 0:u.d0(this.mediaType);};l.prototype.vnb=function(u){this.vFb=u;};l.prototype.addEventListener=function(u,y,x){this.Ml.addListener(u,y,x);};l.prototype.removeEventListener=function(u,y){this.Ml.removeListener(u,y);};l.prototype.n7a=function(u){var y;y=g.Ga.get(v.TU);return this.type === w.u.J?y.W9(u):y.Q9(u);};Va.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},wnb:{configurable:!0,enumerable:!0,get:function(){return this.vFb;}},SMb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Gka=l;la(d,Error);b.Dtb=d;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.O4a=b.Iza=void 0;d=a(22);l=a(23);h=a(15);(function(){var c,f,g;function n(k){(0,d.wa)(void 0 !== c[k]);return c[k];}c={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;g=/[", ]/;b.O4a=function(k){return (0,h.Ad)(k)?(0,h.Pa)(k)?k:(0,h.Tg)(k)?k.replace(f,n):(0,h.hcb)(k)?k:isNaN(k)?"NaN":"":"";};b.Iza=function(k){var m,p;m=b.O4a;p="";(0,l.jh)(k,function(q,v){q=m(q) + "=" + m(v);g.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pk=void 0;r=b.Pk || (b.Pk={});r[r.qnb=1]="sourceopen";r[r.xq=2]="currentTimeChanged";r[r.A1=3]="seeked";r[r.Pdb=5]="licenseadded";r[r.onb=6]="sourceBuffersAdded";r[r.mea=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iia={EGb:"adStart",V_a:"adProgress",Btc:"adComplete",FGb:"adStop"};b.RHa={tE:"adBreakComplete"};b.jia={error:"error",hUb:"exit",Gpb:"unload"};b.YHa="AdImpressionLoggerrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hia="AdEventPboCommandSymbol";b.gia="AdBreakEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fla="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hla="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var l,h,n;function d(c,f){var g;g=this;this.rj=c;this.Uh=f;this.addEventListener=function(k,m,p){return g.Uh.addListener(k,g.l5a(k,m),p);};this.removeEventListener=function(k,m){return g.Uh.removeListener(k,g.l5a(k,m));};this.getReady=function(){return g.Uh.isReady();};this.getXid=function(){return g.Jb().hw();};this.getMovieId=function(){return g.Jb().q$a();};this.getPlaygraphId=function(){return g.Uh.BZb();};this.getElement=function(){return g.Uh.pp();};this.isPlaying=function(){return g.Jb().ss();};this.isPaused=function(){return g.Jb().tw();};this.isMuted=function(){return g.Jb().hya();};this.isReady=function(){return g.Jb().isReady();};this.isBackground=function(){return g.Jb().gcb();};this.setBackground=function(k){return g.Jb().SEa(k);};this.startInactivityMonitor=function(){return g.Jb().CS();};this.setTransitionTime=function(k){return g.Jb().iFa(k);};this.getDiagnostics=function(){return g.Jb().o9a();};this.getTextTrackList=function(k){return g.Jb().zwa(k);};this.getMaxRecommendedTextIndex=function(k){return g.Jb().Ova(k);};this.getTextTrack=function(){return g.Jb().ywa();};this.setTextTrack=function(k){return g.Jb().eFa(k);};this.getVolume=function(){return g.Jb().oab();};this.isEnded=function(){return g.Jb().Yxa();};this.getBusy=function(){return g.Jb().Ri();};this.getError=function(){return g.Jb().getError();};this.getCurrentTime=function(){return g.Jb().lF();};this.getAdManager=function(){return g.Jb().Fq();};this.getLivePlaybackManager=function(){var k;k=g.Jb().$n();(0,h.wa)(k,"Unexpected call to getLivePlaybackManager()");if(k.qa && !g.Jua && !g.Kua.includes(g.getMovieId()))return {seekToLiveEdge:function(){return k.Yfa();},isAtLiveEdge:function(){return k.JF();},getLiveEventState:function(){return k.pF();},isLiveEventEnded:function(){return k.nca();}};};this.getBufferedTime=function(){return g.Jb().U8a();};this.getSegmentTime=function(){return g.Jb().Faa();};this.getDuration=function(){return g.Jb().nva();};this.getVideoSize=function(){return g.Jb().nab();};this.getAudioTrackList=function(){return g.Jb().K8a();};this.getMaxRecommendedAudioIndex=function(){return g.Jb().k$a();};this.getAudioTrack=function(){return g.Jb().J8a();};this.getTimedTextTrackList=function(k){return g.Jb().zwa(k);};this.getMaxRecommendedTimedTextIndex=function(k){return g.Jb().Ova(k);};this.getTimedTextTrack=function(){return g.Jb().ywa();};this.getAdditionalLogInfo=function(){return g.Jb().H8a();};this.getTrickPlayFrame=function(k){return g.Jb().jab(k);};this.getSessionSummary=function(){return g.Jb().pwa();};this.getTimedTextSettings=function(){return g.Jb().jZ();};this.setMuted=function(k){return g.Jb().xmb(k);};this.setVolume=function(k){return g.Jb().Mmb(k);};this.getPlaybackRate=function(){return g.Jb().Tt();};this.setPlaybackRate=function(k){return g.Jb().pga(k);};this.setAudioTrack=function(k){return g.Jb().hmb(k);};this.setTimedTextTrack=function(k){return g.Jb().eFa(k);};this.setTimedTextSettings=function(k){return g.Jb().tS(k);};this.prepare=function(){return g.Jb().mL();};this.load=function(){return g.Jb().load();};this.close=function(k){return g.U0a(g.Uh.close(),k);};this.play=function(){return g.Jb().play();};this.pause=function(){return g.Jb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(k,m){return g.U0a(g.Jb().zP(k),m);};this.induceError=function(k){return g.Jb().Cbb(k);};this.loadCustomTimedTextTrack=function(k,m,p,q){return g.Jb().Zdb(k,m,p,q);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return g.Jb().Gaa();};this.generateScreenshots=function(k){return g.Jb().B8a(k);};this.getCurrentSegmentId=function(){return g.Uh.k9a();};this.getPlaygraphMap=function(){return g.Uh.dK();};this.updatePlaygraphMap=function(k){return g.Uh.fx(k);};this.Tta=new Map();this.log=(0,l.sk)("VideoPlayer");c=l.Ga.get(n.uc);this.Jua=c().Jua;this.Kua=c().Kua;Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.p6=void 0;l=a(10);a(101);h=a(22);n=a(12);d.prototype.Jb=function(){return this.Uh.Jb();};d.prototype.l5a=function(c,f){var g;this.Tta.has(c) || this.Tta.set(c,new Map());g=this.Tta.get(c);g.has(f) || g.set(f,this.AQb(c,f));return g.get(f);};d.prototype.AQb=function(c,f){var g;g=this;return function(k){return f(Object.assign({},k,{type:c,target:g}));};};d.prototype.U0a=function(c,f){return f?c.then(f,f):c;};b.p6=d;},function(r,b,a){b=a(131);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.fa:Date.now;},function(r){r.exports={Rz:{mma:0,UUa:1,zm:2,name:["transient","semiTransient","permanent"]},Mz:{uMa:0,TUa:1,U5:2,HU:3,kA:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},Zsc:{Nsc:0,Lqc:1,$oc:2,kA:100,name:["trailer","montage","content"]},tx:{KOa:0,yUa:1,Xzb:2,Cub:3,kA:100,name:["left","right","up","down"]},jU:{ztb:0,U5:1,tqc:2,Opc:3,uoc:4,sqc:5,rsb:6,kA:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},MM:{HU:0,JKa:1,kA:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var d,l,h,n,c,f;d=a(610);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");h=Object.prototype.toString;n=Array.prototype.concat;c=Object.defineProperty;b=a(319)();f=c && b;r.exports=function(g,k){var m,p,v,t,w,u;m=2 < arguments.length?arguments[2]:{};p=d(k);l && (p=n.call(p,Object.getOwnPropertySymbols(k)));for(var q=0;q < p.length;q+=1){v=g;t=p[q];w=k[p[q]];u=m[p[q]];if(!((t in v)) || "function" === typeof u && "[object Function]" === h.call(u) && u())f?c(v,t,{configurable:!0,enumerable:!1,value:w,writable:!0}):v[t]=w;}};},function(r){var b;b=Object.prototype.toString;r.exports=function(a){var d,l;d=b.call(a);l="[object Arguments]" === d;l || (l="[object Array]" !== d && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},function(r,b,a){var l;function d(){if(l)try{return (l({},"a",{value:1}),!0);}catch(h){}return !1;}l=a(40)("%Object.defineProperty%",!0);d.s0b=function(){if(!d())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(h){return !0;}};r.exports=d;},function(r,b,a){var d,l;d="undefined" !== typeof Symbol && Symbol;l=a(321);r.exports=function(){return "function" !== typeof d || "function" !== typeof Symbol || "symbol" !== typeof d("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},function(r){r.exports=function(){var b,a,d;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");d=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(d))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;d=Object.getOwnPropertySymbols(b);return 1 !== d.length || d[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},function(r,b,a){var d,l,h,n,c,f;d=a(615);l=a(616);h=a(618);n=a(142);c=a(324);f=a(628);r.exports=function(g){var k;g=h(g);if(n(g) || 0 === g)return 0;if(!c(g))return g;k=l(d(g));return 0 === k?0:f(g) * k;};},function(r){var l,h,n,c,f,g,k,m;function b(){return !1;}function a(p){try{if(d(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function d(p){var q;try{q=l.call(p);return f.test(q);}catch(v){return !1;}}l=Function.prototype.toString;h="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof h && "function" === typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw c;}});c={};h(function(){throw 42;},null,n);}catch(p){p !== c && (h=null);}else h=null;f=/^\s*class\b/;g=Object.prototype.toString;k="function" === typeof Symbol && !!Symbol.toStringTag;m=!((0 in [,]));"object" === typeof document && g.call(document.all) === g.call(document.all) && (b=function(p){var q;if(!(!m && p || "undefined" !== typeof p && "object" !== typeof p))try{q=g.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(v){}return !1;});r.exports=h?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{h(p,null,n);}catch(q){if(q !== c)return !1;}return !d(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(k)return a(p);if(d(p))return !1;q=g.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},function(r,b,a){var d;d=a(142);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !d(l) && Infinity !== l && -Infinity !== l;};},function(r,b,a){r.exports=a(323);},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(41);r=(function(){function l(){}l.prototype.h9a=function(h){var n;n=Reflect.getMetadata(d.Vka,h);h=Reflect.getMetadata(d.bWa,h);return {D3a:n,Amc:h || ({})};};l.prototype.JZb=function(h){return Reflect.getMetadata(d.cWa,h) || [];};return l;})();b.Ika=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(55);b.Ocb=function(l){return l instanceof RangeError || l.message === d.tzb;};},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(55);l=a(41);h=a(68);n=a(98);r=(function(){function c(f){this.TAb=f;}c.prototype.tlc=function(){return this.TAb();};return c;})();b.ika=r;b.l=function(c){return function(f,g,k){var m;if(void 0 === c)throw Error(d.Vzb(f.name));m=new h.Metadata(l.hU,c);"number" === typeof k?n.XL(f,g,k,m):n.q2(f,g,m);};};},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(41);l=a(109);h=a(68);n=a(662);r=(function(){function c(f,g,k,m){this.id=l.id();this.type=f;this.Lh=k;this.name=new n.Xyb(g || "");this.jd=[];f=null;"string" === typeof m?f=new h.Metadata(d.FD,m):m instanceof h.Metadata && (f=m);null !== f && this.jd.push(f);}c.prototype.Nab=function(f){for(var g=0,k=this.jd;g < k.length;g++){if(k[g].key === f)return !0;}return !1;};c.prototype.isArray=function(){return this.Nab(d.CH);};c.prototype.s6b=function(f){return this.Tza(d.CH)(f);};c.prototype.iya=function(){return this.Nab(d.FD);};c.prototype.vya=function(){return this.jd.some(function(f){return f.key !== d.hU && f.key !== d.CH && f.key !== d.o5 && f.key !== d.YU && f.key !== d.FD;});};c.prototype.Bcb=function(){return this.Tza(d.uRa)(!0);};c.prototype.$Yb=function(){return this.iya()?this.jd.filter(function(f){return f.key === d.FD;})[0]:null;};c.prototype.DXb=function(){return this.vya()?this.jd.filter(function(f){return f.key !== d.hU && f.key !== d.CH && f.key !== d.o5 && f.key !== d.YU && f.key !== d.FD;}):null;};c.prototype.Tza=function(f){var g;g=this;return function(k){var q;for(var m=0,p=g.jd;m < p.length;m++){q=p[m];if(q.key === f && q.value === k)return !0;}return !1;};};return c;})();b.h6=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(220);l=a(221);r=(function(){function h(n){this.Lc=n;this.fV=new l.Jia(this.Lc);this.Jma=new d.z3(this.Lc);}h.prototype.when=function(n){return this.fV.when(n);};h.prototype.d3=function(){return this.fV.d3();};h.prototype.az=function(n){return this.Jma.az(n);};return h;})();b.jH=r;},function(r,b,a){var h;function d(n){return function(c){function f(g){return null !== g && null !== g.target && g.target.Tza(n)(c);}f.Cfb=new h.Metadata(n,c);return f;};}function l(n,c){n=n.CC;return null !== n?c(n)?!0:l(n,c):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(41);h=a(68);b.qpb=l;b.rob=d;a=d(r.FD);b.mgb=a;b.ypb=function(n){return function(c){var f;if(null !== c){f=c.$W[0];return "string" === typeof n?f.Lh === n:n === c.$W[0].ao;}return !1;};};},function(r,b,a){var h;function d(n,c){this.sh=c;this.kC=Math.floor(n);this.display=this.kC + " " + this.sh.name;}function l(n,c,f){this.sh=n;this.name=c;this.Tr=f?f:this;(0,h.Qq)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.kv=b.ZU=void 0;h=a(54);l.prototype.oY=function(n){return this.sh == n.sh;};l.prototype.toJSON=function(){return this.name;};b.ZU=l;d.prototype.ia=function(n){return this.sh.oY(n)?this.kC:Math.floor(this.kC * this.sh.sh / n.sh);};d.prototype.Wib=function(n){return this.sh.oY(n)?this.kC:this.kC * this.sh.sh / n.sh;};d.prototype.as=function(n){return new d(this.ia(n),n);};d.prototype.to=function(n){return new d(this.ia(n),n);};d.prototype.toString=function(){return this.display;};d.prototype.toJSON=function(){return {magnitude:this.kC,units:this.sh.name};};d.prototype.add=function(n){return this.w3a(n);};d.prototype.Fa=function(n){return this.w3a(n,function(c){return -c;});};d.prototype.scale=function(n){return new d(this.ia(this.sh.Tr) * n,this.sh.Tr);};d.prototype.Mm=function(n){return this.ia(this.sh.Tr) - n.ia(this.sh.Tr);};d.prototype.oY=function(n){return 0 == this.Mm(n);};d.prototype.Zcb=function(){return 0 == this.kC;};d.prototype.jya=function(){return 0 > this.kC;};d.prototype.Icb=function(){return 0 < this.kC;};d.prototype.w3a=function(n,c){c=void 0 === c?function(f){return f;}:c;return new d(this.ia(this.sh.Tr) + c(n.ia(this.sh.Tr)),this.sh.Tr);};b.kv=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WSa="PlatformConfigOverridesSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var d,l,h,n,c,f;b=a(53);d=a(336);l=a(689);h=a(334);n=a(224);c=a(694);f=a(339);a=b(d(["filter"],c,function(g,k){return h(k)?n(function(m,p){g(k[p]) && (m[p]=k[p]);return m;},{},f(k)):l(g,k);}));r.exports=a;},function(r,b,a){var d,l;d=a(337);l=a(688);r.exports=function(h,n,c){return function(){var f,g;if(0 === arguments.length)return c();f=Array.prototype.slice.call(arguments,0);g=f.pop();if(!d(g)){for(var k=0;k < h.length;){if("function" === typeof g[h[k]])return g[h[k]].apply(g,f);k+=1;}if(l(g))return n.apply(null,f)(g);}return c.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={oa:function(){return this.i3["@@transducer/init"]();},result:function(b){return this.i3["@@transducer/result"](b);}};},function(r,b,a){var d,l,h,n,c;b=a(125);d=a(223);l=a(695);h=!({toString:null}).propertyIsEnumerable("toString");n=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");c=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || c?function(f){var g,k,m,p;if(Object(f) !== f)return [];g=[];k=c && l(f);for(m in f){!d(m,f) || k && "length" === m || (g[g.length]=m);}if(h)for(k=n.length - 1;0 <= k;){m=n[k];if(p=d(m,f)){a:{for(p=0;p < g.length;){if(g[p] === m){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (g[g.length]=m);--k;}return g;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},function(r){r.exports=function(b,a){for(var d=0,l=a.length,h=Array(l);d < l;){h[d]=b(a[d]);d+=1;}return h;};},function(r,b,a){var d,l,h;d=a(225);l=a(125);b=a(53);h=a(698);a=b(function(n,c){return 1 === n?l(c):d(n,h(n,[],c));});r.exports=a;},function(r){r.exports=function(b,a,d){for(var l=0,h=d.length;l < h;){if(b(a,d[l]))return !0;l+=1;}return !1;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vLa="DrmDataFactorySymbol";},function(r,b,a){var l;function d(h,n,c,f,g){this.version=h;this.fL=n;this.RFa=c;this.kn=f;this.cx=g;this.qm=new l.kOa(h,n,c,f,g);this.On=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Xja=void 0;l=a(722);d.prototype.load=function(h){var n;n=this;return this.qm.load(h).then(function(){var c;n.On=null !== (c=n.qm.On) && void 0 !== c?c:[];});};d.prototype.add=function(h){this.On.push(h);return this.qm.set(this.On);};d.prototype.remove=function(h,n){h=this.Y8a(this.QP(h,n));return 0 <= h?(this.On.splice(h,1),this.qm.set(this.On)):Promise.resolve();};d.prototype.update=function(h,n){n=this.Y8a(this.QP(h,n));return 0 <= n?(this.On[n]=h,this.qm.set(this.On)):Promise.resolve();};d.prototype.QP=function(h,n){for(var c=0;c < this.On.length;++c){if(n(this.On[c],h))return this.On[c];}};d.prototype.Y8a=function(h){return h?this.On.indexOf(h):-1;};b.Xja=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lXa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.yMa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.bTa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UH=void 0;r=b.UH || (b.UH={});r[r.Request=0]="Request";r[r.CUa=1]="Renewal";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.a6=void 0;a.X1b=function(d){return "ID" + (d + 1);};a.Wnb=function(d){return Number(d.substr(2)) - 1;};b.a6=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u;function d(y,x,z,B,A,C){var D;D=this;this.Ia=x;this.BE=z;this.config=B;this.Zq=A;this.cG=C;this.keyStatuses=new p.ac({});this.qBa=function(E){var G,F,K,O,L,I;try{F=D.rn.gsa(E);K=F.NK;O=F.messageType;L=F.sessionId;D.Oy=D.Oy || F.Oy;D.J1(L);D.log.trace("Received " + E.type + " event",{sessionId:L,messageType:O,keyIds:D.Oy});if(O === b.xka){if(D.config.ata){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.yg=n.dj.Xp;D.fm=t.tL;}D.fm === t.oi && D.Or(c.dv.fkb);D.fm === t.tL && D.Or(c.dv.gkb);I={fl:K,H2a:O,yg:D.yg};null === (G=D.khb) || void 0 === G?void 0:G.call(D,I);D.m_ && (D.Qwa(K)?D.OF(new m.rd(h.aa.NLa)):(D.m_.resolve(I),D.m_=void 0));}catch(M){D.OF(M);}};this.oBa=function(E){var G,F,K,O,L,H,J,N,P,X,V,S,qa,xa,Aa,Oa,T;F=E.target;K=F.keyStatuses;D.J1(F.sessionId);D.log.trace("Received event: " + E.type);try{L=null === (G=D.context) || void 0 === G?void 0:G.Bca;E=[];for(var I=oa(K),M=I.next();!M.done;M=I.next()){H=oa(M.value);J=H.next().value;N=H.next().value;P=D.BE.encode(new Uint8Array(J));E.push({Pq:P,status:N,height:null === L || void 0 === L?void 0:L[P]});}E.sort(function(W,Q){return (W.height || 0) - (Q.height || 0);});X=E.map(function(W){return W.Pq;});V=E.map(function(W){return W.height;});S=E.map(function(W){return W.status;});D.Gya=X + ", " + V + ", " + S;D.log.trace("KeyStatus: " + D.Gya);L={};for(var U=oa(K),ha=U.next();!ha.done;ha=U.next()){qa=oa(ha.value);xa=qa.next().value;Aa=qa.next().value;Oa=D.BE.encode(new Uint8Array(xa));T=w[Aa];L[Oa]=T.status;D.sK(Oa,T.error) && (O=new g.Yh(T.error));}D.keyStatuses.set(L);}catch(W){O=new g.Yh(h.aa.vyb);O.OX(W);}O?D.gu?D.sca(O):D.b_(O):(D.rn.H9() || D.adb(),D.yg !== n.dj.Rp || D.rn.eqa() || (D.config.ata?D.log.trace("Disabling license renewal"):D.iec()));};this.xs=function(E){var G;G=D.rn.xB(E);D.log.error("Received event: " + E.type,G);D.OF(G);D.sca(G);D.ds || D.gu || D.b_(G);};this.u9b=function(E){D.log.error("MediaKeySession closed unexpectedly: " + E);D.b_(new m.rd(h.aa.vja,u[E]));};this.OF=function(E){var G;D.ds && D.close().then(function(){var F;D.log.trace("Issuing a generate challenge error");null === (F=D.ds) || void 0 === F?void 0:F.reject(E);D.ds=void 0;},function(F){var K;D.log.error("EmeSession closed with an error.",D.rn.xB(F));null === (K=D.ds) || void 0 === K?void 0:K.reject(E);D.ds=void 0;});null === (G=D.m_) || void 0 === G?void 0:G.reject(E);};this.S3b=function(){var E;null === (E=D.ds) || void 0 === E?void 0:E.resolve();D.ds=void 0;};this.sca=function(E){D.log.error("Failed to add license",E);return D.close().then(function(){var G;D.log.trace("Issuing a license error");D.ds=void 0;null === (G=D.gu) || void 0 === G?void 0:G.reject(E);D.gu=void 0;},function(G){var F;D.log.error("EmeSession closed with an error.",D.rn.xB(G));D.fm === t.tL && D.Or(c.dv.n0a);D.ds=void 0;null === (F=D.gu) || void 0 === F?void 0:F.reject(E);D.gu=void 0;}).then(function(){throw E;});};this.adb=function(){D.gu && (D.log.info("Successfully added license"),D.fm === t.oi?D.Or(c.dv.g0a):D.fm === t.tL && D.Or(c.dv.m0a),D.gu.resolve(),D.gu=void 0);};this.b_=function(E){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.ds=void 0;D.gu=void 0;null === (G=D.hhb) || void 0 === G?void 0:G.call(D,E);},function(G){var F;D.log.error("EmeSession closed with an error.",D.rn.xB(G));D.ds=void 0;D.gu=void 0;null === (F=D.hhb) || void 0 === F?void 0:F.call(D,E);});};this.Or=function(E){D.Bd.push({time:D.Ia.Qb(),Q_:E});};this.Gkb=!1;this.log=y.eb("EmeSession");this.fm=t.nlc;this.Li=C.o4a();this.rn=C.n4a();this.Bd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.cMa=b.xka=b.yka=void 0;l=a(5);h=a(4);n=a(57);c=a(349);r=a(233);f=a(346);g=a(99);k=a(63);m=a(36);p=a(74);q=a(350);v=a(43);(function(y){y[y.nlc=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.oi=3]="license";y[y.tL=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.yka="license-request";b.xka="license-renewal";w={usable:{status:r.qx.nqb},expired:{status:r.qx.Uv,error:h.aa.Zka},released:{status:r.qx.released},"output-not-allowed":{status:r.qx.Chb,error:h.aa.NRa},"output-restricted":{status:r.qx.Chb,error:h.aa.$ka},"output-downscaled":{status:r.qx.w$b},"status-pending":{status:r.qx.Fic},"internal-error":{status:r.qx.C2b,error:h.aa.uyb}};u={"internal-error":h.Y.$ub,"closed-by-application":h.Y.Wub,"release-acknowledged":h.Y.dvb,"hardware-context-reset":h.Y.tja,"resource-evicted":h.Y.fvb};d.prototype.WP=function(){return this.cG.Cca;};d.prototype.T9a=function(){return this.Gya;};d.prototype.OB=function(){return this.sessionId;};d.prototype.close=function(){var y;y=this;this.khb=this.context=void 0;this.fm=t.closed;this.Bd=[];void 0 !== this.yfa && (mb.clearTimeout(this.yfa),this.yfa=void 0);return this.Li.C3b()?(this.log.trace("Closing the session"),this.Li.ykb(this.qBa),this.Li.vkb(this.oBa),this.Li.tkb(this.xs),this.mediaKeys=void 0,this.Zq.Ks(this.config.L0a,this.Li.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.rn.xB(x).code=h.aa.xyb;throw x;})):Promise.resolve(void 0);};d.prototype.ew=function(){return this.cG.ew();};d.prototype.Rwa=function(){return void 0 !== this.yk;};d.prototype.createSession=function(y,x,z){var B;B=this;this.context=z;this.yg=x;this.fm=t.create;this.Or(c.dv.Odb);return (y.Gab()?Promise.resolve():this.Zq.Ks(this.config.M0a,this.Li.createMediaKeys(this.cG)).then(function(A){B.log.trace("Created media keys");return B.cIb(A).then(function(){return y.h0a(A);}).catch(function(C){return Promise.reject(B.OCa(C,h.aa.gvb));});})).then(function(){B.mediaKeys=y.mediaKeys;try{B.Li.createSession(B.mediaKeys,v.TEMPORARY);B.Li.i0a(B.qBa);B.Li.e0a(B.oBa);B.Li.b0a(B.xs);B.Li.LGb(B.u9b);B.J1(B.Li.OB());}catch(A){return Promise.reject(B.OCa(A,h.aa.Xub));}}).catch(function(A){return Promise.reject(B.OCa(A,h.aa.VT));});};d.prototype.Rgc=function(y){this.Wj=y;this.log.Z_a("xid",y.sa);};d.prototype.EWb=function(y,x){var z;z=this;return this.generateRequest(y,x).then(function(){z.log.trace("Returning the challenge promise");return z.m_.promise;});};d.prototype.FWb=function(y,x){this.generateRequest(y,x);return this.ds.promise;};d.prototype.f0a=function(y){this.cf=y.cf;y=y.yk.map(function(x){return x.data;});this.Qwa(y)?(this.log.error("The license buffer is empty"),this.OF(new g.Yh(h.aa.MLa,h.Y.KLa))):(this.fm === t.oi && (this.Or(c.dv.ekb),this.yk=y,this.k6a=this.rn.UP(this.Oy,y),this.S3b()),this.fm === t.tL && (this.Or(c.dv.hkb),this.yk=y,this.k6a=this.rn.UP(this.Oy,y),this.Rpa()));};d.prototype.XGb=function(y){this.fm === t.tL?(this.Or(c.dv.ikb),this.b_(y)):this.OF(y);};d.prototype.Rpa=function(){var y,x;y=this;if(!this.yk)return this.sca(new g.Yh(h.aa.MLa,h.Y.PLa));this.gu=new q.PU();x=this.yk;this.yk=void 0;this.Zq.Ks(this.config.P0a,this.Li.update(x,this.fm === t.oi?f.UH.Request:f.UH.CUa,this.Oy)).then(function(){y.rn.H9() && y.adb();}).catch(function(z){z=y.rn.xB(z);z.code=h.aa.B5;z.message="Unable to update the EME";y.log.error(z.message,z);y.sca(z);});return this.gu.promise;};d.prototype.Lgc=function(y){this.khb=y;};d.prototype.Fgc=function(y){this.hhb=y;};d.prototype.UP=function(){return this.k6a;};d.prototype.generateRequest=function(y,x){var z;z=this;this.fm=t.oi;this.log.trace("Generating a license challenge");this.ds=new q.PU();this.m_=new q.PU();return y?this.Qwa(y)?(y=new g.Yh(h.aa.LLa,h.Y.KLa),this.OF(y),Promise.reject(y)):this.Zq.Ks(this.config.F8,this.Li.generateRequest(this.rn.Eva(),y,x)).then(function(){z.J1(z.Li.OB());}).catch(function(B){var A,C;A=new g.Yh(h.aa.c4,B instanceof k.$s?h.Y.WT:h.Y.un);try{C=z.rn.xB(B);A.yd=C.yd;A.message="Unable to generate request.";A.OX(B);}catch(D){}z.log.error("Unable to generate a license request",A);z.OF(A);return Promise.reject(A);}):(y=new g.Yh(h.aa.LLa,h.Y.PLa),this.OF(y),Promise.reject(y));};d.prototype.cIb=function(y){return this.Zq.Ks(this.config.O0a,this.Li.setServerCertificate(y,this.rn.Eaa()));};d.prototype.J1=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.Z_a("sessionId",y));};d.prototype.iec=function(){var y;y=this;this.Gkb || (this.Gkb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.SF}),this.yfa=mb.setTimeout(function(){y.yfa=void 0;y.sL();},this.config.SF.ia(l.va)));};d.prototype.J3b=function(y){var x,z,B;return 1080 < (null !== (B=null === (z=null === (x=this.context) || void 0 === x?void 0:x.Bca) || void 0 === z?void 0:z[y]) && void 0 !== B?B:0);};d.prototype.sK=function(y,x){return x === h.aa.$ka?this.J3b(y)?this.config.Ehb:this.config.Dhb:!!x;};d.prototype.sL=function(){this.log.trace("Initiating a renewal request");this.yg=n.dj.Xp;this.fm=t.tL;this.rn.$qa()?this.rn.Pxa(this.Li):this.V9();};d.prototype.V9=function(){var y;y=this;this.Li.V9(this.mediaKeys,v.TEMPORARY,this.qBa,this.oBa,this.xs).then(function(){y.log.debug("Creating session to renew license");y.J1(y.Li.OB());}).catch(function(){y.b_(new g.Yh(h.aa.c4));});};d.prototype.Qwa=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};d.prototype.OCa=function(y,x){var z,B;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.xc))return y;B=(0,v.Yva)(null === y || void 0 === y?void 0:y.message);return new g.Yh(x,y instanceof k.$s?h.Y.WT:h.Y.un,null === (z=null === B || void 0 === B?void 0:B.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.cMa=d;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.l6a=b.dv=void 0;(function(d){d[d.Odb=0]="licenseStarted";d[d.fkb=1]="receivedLicenseChallenge";d[d.ekb=2]="receivedLicense";d[d.gkb=3]="receivedRenewalChallengeComplete";d[d.hkb=4]="receivedRenewalLicenseComplete";d[d.ikb=5]="receivedRenewalLicenseFailed";d[d.gdc=6]="receivedIndivChallengeComplete";d[d.hdc=7]="receivedIndivLicenseComplete";d[d.g0a=8]="addLicenseComplete";d[d.m0a=9]="addRenewalLicenseComplete";d[d.n0a=10]="addRenewalLicenseFailed";})(a=b.dv || (b.dv={}));b.l6a=function(d){switch(d){case a.Odb:return "lg";case a.fkb:return "lc";case a.ekb:return "lr";case a.gkb:return "renew_lc";case a.hkb:return "renew_lr";case a.ikb:return "renew_lr_failed";case a.gdc:return "ilc";case a.hdc:return "ilr";case a.g0a:return "ld";case a.m0a:return "renew_ld";case a.n0a:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PU=void 0;b.PU=function(){var a;a=this;this.promise=new Promise(function(d,l){a.resolve=d;a.reject=l;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wQa="MediaKeySystemAccessInternalFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IOa="KeySystemProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mla="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fRa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xLa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bMa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oKa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yRa="OneWayCounterFactorySymbol";},function(r,b,a){var l,h;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hia=void 0;r=a(0);a=a(1);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};d.prototype.decode=function(n){for(var c=new Uint8Array(n.length / 2),f=0;f < c.length;f++){c[f]=this.Zob(n.substr(2 * f,2));}return c;};d.prototype.encode=function(n){var k;for(var c="",f=n.length,g=0;g < f;g++){k=n[g];c+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return c;};d.prototype.QJ=function(n,c){var f;f="";for(c<<=1;c--;){f=(("0123456789ABCDEF")[n & 15] || "0") + f;n>>>=4;}return f;};d.prototype.Zob=function(n){var c;c=n.length;if(7 < c)throw Error("hex to long");for(var f=0,g=0;g < c;g++){f=16 * f + l[n[g]];}return f;};h=d;h=r.__decorate([(0,a.$)()],h);b.Hia=h;},function(r,b,a){var l,h;function d(){this.Zr={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Nk=void 0;r=a(0);a=a(1);d.prototype.addListener=function(n,c,f){var g,k;g="$netflix$player$order" + this.id + "$" + n;if(this.Zr){k=this.Zr[n]?this.Zr[n].slice():[];f && (c[g]=f);0 > k.indexOf(c) && (k.push(c),k.sort(function(m,p){return (m[g] || 0) - (p[g] || 0);}));this.Zr[n]=k;}};d.prototype.removeListener=function(n,c){if(this.Zr && this.Zr[n]){for(var f=this.Zr[n].slice(),g;0 <= (g=f.indexOf(c));){f.splice(g,1);}this.Zr[n]=f;}};d.prototype.Zc=function(n,c,f){var g;if(this.Zr){g=this.xva(n);for(n={uM:0};n.uM < g.length;(n={uM:n.uM},n.uM++)){f?(function(k){return function(){var m;m=g[k.uM];setTimeout(function(){m(c);},0);};})(n)():g[n.uM].call(this,c);}}};d.prototype.Oi=function(){this.Zr=void 0;};d.prototype.on=function(n,c,f){this.addListener(n,c,f);};d.prototype.xva=function(n){var c;return null !== (c=this.Zr && (this.Zr[n] || (this.Zr[n]=[]))) && void 0 !== c?c:[];};h=l=d;h.counter=0;h=l=r.__decorate([(0,a.$)()],h);b.Nk=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FKa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mja="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lka=b.oxb=void 0;b.oxb=function(){};b.Lka="MseConfigSymbol";},function(r,b,a){var l;function d(h){this.FCb=void 0 === h?!1:h;this.Pf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Jla=void 0;r=a(0);a=a(1);d.prototype.add=function(h,n){var c;n=void 0 === n?0:n;c=this.Pf[n];c?this.FCb && -1 !== c.indexOf(h) || c.push(h):this.Pf[n]=[h];};d.prototype.remove=function(h,n){this.PA(h,void 0 === n?0:n);};d.prototype.removeAll=function(h){this.PA(h);};d.prototype.flatten=function(){var h;h=this;return Object.keys(this.Pf).sort().reduce(function(n,c){return n.concat(h.Pf[c]);},[]);};d.prototype.PA=function(h,n){Object.entries(this.Pf).forEach(function(c){var f,g;f=oa(c);c=f.next().value;f=f.next().value;if(void 0 === n || n === parseInt(c)){-1 < (g=f.indexOf(h)) && f.splice(g,1);}});};l=d;l=r.__decorate([(0,a.$)()],l);b.Jla=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NWa="UrlFactorySymbol";},function(r,b,a){var l,h,n;function d(c,f,g,k,m,p,q){this.debug=c;this.config=f;this.platform=g;this.mda=k;this.debug.assert(m && m != h.aa.Ko,"There should always be a specific error code");this.errorCode=m || h.aa.Ko;p && "object" === typeof p?(this.Da=p.Da || p.xc,this.Wf=p.Wf || p.yd,this.Jta=p.Jta || p.jp,this.Tb=p.Tb || p.details,this.TX=p.ml,this.J$=p.J$ || p.lxc || p.uC,this.eF=p.eF || p.data,p.N_ && (this.N_=p.N_),this.Xl=p.Xl,this.method=p.method,this.Lda=p.Lda,this.alert=p.alert,this.Epa=p.Epa,this.jK=p.jK,!this.Tb && this.jK && (this.Tb=JSON.stringify(this.jK)),this.debug.assert(!this.Xl || this.Xl == this.Wf)):(this.Da=p,this.Wf=q);this.stack=[this.errorCode];this.Da?this.stack.push(this.Da):this.Wf && this.stack.push(h.Y.Ko);this.Wf && this.stack.push(this.Wf);this.t$=this.platform.Qt + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.CTa=void 0;l=a(17);h=a(4);n=a(15);a(23);d.prototype.Amb=function(c){this.Qac=c;};d.prototype.toString=function(){var c;c="[PlayerError #" + this.t$ + "]";this.Tb && (c+=" " + this.Tb);this.TX && (c+=" (CustomMessage: " + this.TX + ")");return c;};d.prototype.B2=function(){var c,f,g,k;this.TX && (g=["streaming_error"]);g || this.mda.ew() !== l.b4 || ("80080017" == this.Wf && (g=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Wf && (g=["pause_timeout"]));g || this.mda.ew() !== l.sja || this.errorCode !== h.aa.JLa && this.errorCode !== h.aa.VT || (g=["no_cdm","platform_error","plugin_error"]);g || this.errorCode !== h.aa.vja || this.Da !== h.Y.tja || (g=["pause_timeout"]);this.J$ === h.n5.rma && (this.lra("2018") || this.lra("2020")?g=["received_soad"]:this.lra("5000") && (g=["should_reset_device"]));k=this.oXb();k && (g=[k],this.TX=void 0);if(!g)switch(this.errorCode){case h.aa.A5:case h.aa.g5:case h.aa.Xrb:case h.aa.Zka:this.Qac && (g=["pause_timeout"]);break;case h.aa.eOa:case h.aa.fOa:g=this.Da?["platform_error"]:["multiple_tabs"];break;case h.aa.Uja:case h.aa.RRa:case h.aa.ala:case h.aa.LRa:g=["platform_error","plugin_error"];break;case h.aa.IU:g=["no_cdm","platform_error","plugin_error"];break;case h.aa.QLa:case h.aa.Zs:case h.aa.B5:switch(this.Wf){case "FFFFD000":g=["device_needs_service","platform_error"];break;case "48444350":g=["unsupported_output","platform_error"];break;case "00000024":g=["private_mode"];}break;case h.aa.NRa:case h.aa.$ka:g=["unsupported_output"];}!g && (0,h.lMa)(this.Da) && (g=this.Da == h.Y.eU?["geo"]:["internet_connection_problem"]);g || this.errorCode !== h.aa.VT || this.Da !== h.Y.un || "S" !== this.platform.Qt || (g=["private_mode"]);if(!g)switch(this.Znb(this.Da)){case h.Y.xma:g=["should_upgrade"];break;case h.Y.GRa:g=["should_reset_device"];break;case h.Y.FRa:g=["should_reload_device"];break;case h.Y.ERa:g=["should_exit_device"];break;case h.Y.pxb:case h.Y.SPa:g=["should_signout_and_signin"];break;case h.Y.qxb:g=["internet_connection_problem"];break;case h.Y.KKa:g=["platform_error","plugin_error"];break;case h.Y.bub:case h.Y.ONa:case h.Y.PNa:g=["private_mode"];break;case h.Y.vka:g=["should_reload_with_preferred_locales"];}g=g || [];g.push(this.platform.Qt + this.errorCode);if(this.Da)switch(this.Znb(this.Da)){case h.Y.HRa:g.push("incorrect_pin");break;default:g.push("" + this.Da);}g={display:{code:this.t$,text:this.TX},messageIdList:g,alert:this.alert,alertTag:this.Epa,preferredAudioLocale:null === (c=this.jK) || void 0 === c?void 0:c.ibb,preferredTextLocale:null === (f=this.jK) || void 0 === f?void 0:f.jbb};this.config().nUb && (g.debugData=this.eF);return g;};d.prototype.Znb=function(c){var f;f=parseInt(c,10);return isNaN(f)?c:f;};d.prototype.lra=function(c){return ((0,n.Pa)(this.Wf)?this.Wf.toString():(0,n.Tg)(this.Wf)?this.Wf:"").endsWith(c);};d.prototype.oXb=function(){if(this.errorCode === h.aa.NM && (this.Da === h.Y.Wka || this.Da === h.Y.DRa))return this.pXb(this.Da === h.Y.Wka);};d.prototype.pXb=function(c){var f,g,k,m;k=this.config().browserInfo || ({});m=null === (f=k.os) || void 0 === f?void 0:f.name;f=((null === (g=k.os) || void 0 === g?void 0:g.version) || "").split(".");g=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(m){case "windows":return 6 > g || 6 === g && 1 > f?c?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":c?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > g || 10 === g && 10 > f?c?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":c?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return c?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.CTa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fka="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XT="EventSourceFactorySymbol";},function(r,b,a){var l,h;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.XT=b.pMa=void 0;r=a(0);l=a(360);a=a(1);d.prototype.create=function(){return new l.Nk();};h=d;h=r.__decorate([(0,a.$)()],h);b.pMa=h;b.XT="EventSourceFactorySymbol";},function(r,b,a){var l;function d(h,n,c,f,g,k){this.level=h;this.uq=n;this.timestamp=c;this.message=f;this.gd=g;this.index=void 0 === k?0:k;this.Ewb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.nka=void 0;l=a(5);d.prototype.cha=function(h,n){var c;c="" + this.message;this.gd.forEach(function(f){c+=f.dM(h,n);});return (this.timestamp.ia(l.va) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Ewb[this.level] || this.level) + "|" + this.uq + "| " + c;};b.nka=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RQa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mVa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mTa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aXa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xWa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kLa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pSa="PboGenerateScreenshotsCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hNa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FTa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gma="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rU="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uNa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ENa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yNa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,d,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(d.buffer,d.byteOffset,d.byteLength),l * a.byteLength / a.length);}:function(a,d,l){a.set(d,l);};r.exports={from:function(a,d,l,h){a=new a(d.length);for(var n="function" === typeof l,c=0;c < d.length;++c){a[c]=n?l.call(h,d[c],c,d):d[c];}return a;},set:b};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){var n;n=null !== l && l.apply(this,arguments) || this;n.PJ=1536;return n;}d.__extends(h,l);h.zd=!0;return h;})(a(182).default);b.default=r;a=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.Af="ac-3";return h;})(r);b.Frb=a;r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.Af="ec-3";return h;})(r);b.Vub=r;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(104);r=a(24);h=l.Oka;r=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Vh();this.fileSize=this.R.lm();this.V=this.R.lm();this.duration=this.R.lm(!1,!0);this.e9b=this.R.lm();this.R.lm();this.i9b=this.R.lm();this.p8b=this.R.mc();this.f9b=this.R.lm();this.JVb=this.R.mc();this.R.nfa();this.en={moof:{offset:this.e9b},sidx:{offset:this.f9b,size:this.JVb}};this.en[l.YQa]={offset:this.i9b,size:this.p8b};this.R.offset - this.startOffset <= this.length - 24 && (this.h9b=this.R.lm(),this.f8b=this.R.mc(),this.g9b=this.R.lm(),this.e8b=this.R.mc(),this.en[l.q5]={offset:this.h9b,size:this.f8b},this.en[l.p5]={offset:this.g9b,size:this.e8b});return !0;};c.Af=h;c.zd=!1;return c;})(r.Gg);b.default=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=a(104);a=a(24);l=r.Pka;a=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.parse=function(){var c,k,m;this.Vh();1 <= this.version && this.R.nfa();c=this.R.mc();this.en={};for(var f=this.startOffset + this.length,g=0;g < c;++g){k=this.R.MC();"uuid" === k && (k=this.R.nfa());m=this.R.lm();this.en[k]={offset:f,size:m};f+=m;}return !0;};n.Af=l;n.zd=!1;return n;})(a.Gg);b.default=a;},function(r,b){var a,d,l;Object.defineProperty(b,"__esModule",{value:!0});r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,yga:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,yga:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};d={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,yga:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,yga:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.RW={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":d,"ddplus-5.1hq-dash":d,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":d,"ddplus-2.0-dash":l};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(24);h=a(90);r=(function(n){function c(f,g,k,m,p){k=n.call(this,k,m,p) || this;k.JJb=f;k.GS=g;k.ze={};return k;}d.__extends(c,n);c.prototype.parse=function(f){var g,k,m,p,q,v;this.offset=0;g=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;m=this.mc();if(0 === m)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=h.GN(this.mc());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.nfa();}if(0 === g.length && this.GS.k8a(p,k,m))break;if(k + m > this.view.byteLength)break;q=this.JJb[p];v=void 0;if(q){if((v=new q(this,p,k,m,g[0]),(g[0] || this).DW(v),v.parse(f)))this.config.PBa && q.zd?g.unshift(v):this.offset=k + m;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + m;for(;g.length && this.offset > g[0].byteOffset + g[0].bL - 8;){v=g.shift();if(!v.JJ(f))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.bL;}if(0 === g.length && this.GS.Z5a(p,k,m,v))break;}return !this.GS.done && (f=this.GS.endOffset?this.GS.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,ngb:f}:{done:!0,offset:Math.min(this.GS.endOffset || Infinity,this.offset)};};c.prototype.DW=function(f){l.Gg.DW(this,f);};return c;})(a(839).bAb);b.Kia=r;},function(r,b,a){var l;function d(h,n){h=n.indexOf(h);-1 !== h && n.splice(h,1);}Object.defineProperty(b,"__esModule",{value:!0});l=a(104);r=(function(){function h(n){this.endOffset=n;this.done=!1;}h.prototype.k8a=function(){return this.done;};h.prototype.Z5a=function(n,c,f){return this.done=c + f >= this.endOffset;};return h;})();b.bLa=r;r=(function(){function h(n,c,f,g){void 0 === c && (c=[]);void 0 === f && (f=[]);void 0 === g && (g=!1);this.Vw=n;this.o$=c;this.uob=f;this.QBa=g;this.done=!1;this.en={};}h.prototype.k8a=function(n,c,f){-1 !== h.N0b.indexOf(n) && (this.en[n]={offset:c,size:f});if(-1 !== this.uob.indexOf(n)){if((this.en[n]={offset:c,size:f},this.QBa))this.endOffset=c + f;else return (this.endOffset=c,this.done=!0);}else this.Vw && -1 !== this.Vw.indexOf(n)?(n=1 < this.Vw.length?4096:0,this.endOffset=Math.max(c + f + n,this.endOffset || 0)):-1 !== this.o$.indexOf(n) && (n=this.Vw?4096:0,this.endOffset=Math.max(c + f + n,this.endOffset || 0));return this.done;};h.prototype.Z5a=function(n,c,f,g){var k;k=this;if(-1 !== this.uob.indexOf(n))return this.done=!0;n === l.Oka && this.Dmb(g.en);n === l.Pka && this.Dmb(g.en);this.Vw && d(n,this.Vw);d(n,this.o$);return this.Vw && 0 === this.Vw.length && !this.o$.some(function(m){return k.en[m];})?this.done=!0:this.done;};h.prototype.Dmb=function(n){var c;c=this;this.en=n;this.endOffset=(this.Vw || []).concat(this.o$).reduce(function(f,g){return c.en[g]?(g=c.en[g],Math.max(g.offset + (g.size || 4096),f)):f;},this.endOffset || 0);};h.N0b=["moov","sidx"];return h;})();b.Kvb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jNa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hKa="CdnPartitionerSymbol";},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.nja=void 0;l=a(42);d.Jt=function(){var h;h={};return (h[l.oe.sH]="mp4a.40.2",h[l.oe.J4]="mp4a.40.2",h[l.oe.tH]="mp4a.40.2",h[l.oe.vA]="mp4a.40.42",h[l.oe.QT]="ec-3",h[l.oe.I3]="ec-3",h[l.oe.RT]="ec-3",h);};b.nja=d;},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.cd=b.Nq=void 0;(function(d){d[d.Am=0]="STOPPED";d[d.ce=1]="BUFFERING";d[d.bh=2]="REBUFFERING";d[d.Bm=3]="STREAMING";d[d.VU=4]="TRACK_SWITCH";})(a || (a={}));b.cd=a;b.Nq=function(d){return d === a.ce || d === a.bh || d === a.VU;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qpa=void 0;b.Qpa=function(a,d,l){var h,n;h=!0;l.forEach(function(c){var f;if(h && a === c.profile){f=c.ranges;h=void 0 === f?d >= c.min && d <= c.max:f.some(function(g){return d >= g.min && d <= g.max;});!h && c.disallowed && c.disallowed.some(function(g){if(g.stream.bitrate === d)return (n=g.disallowedBy,!0);});}});return {inRange:h,s$:n};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IH=void 0;b.IH={nl:function(a){return a;}};},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Dx=b.iN=void 0;d=a(397);(function(h){h[h.LR=0]="primary";h[h.IJ=1]="fallback";})(l=b.iN || (b.iN={}));r=(function(){function h(n,c){var f,g;void 0 === c && (c=!1);g=this;this.PKb=c;this.filters=(f={},f[l.LR]=[],f[l.IJ]=[],f);Array.isArray(n)?n.forEach(function(k){return g.and(k,l.LR);}):this.and(n);}h.prototype.and=function(n,c){void 0 === c && (c=l.LR);n !== d.IH && this.filters[c].push({filter:n,Q3a:!0});return this;};h.prototype.or=function(n,c){void 0 === c && (c=l.LR);this.filters[c].push({filter:n,Q3a:!1});return this;};h.prototype.filter=function(n){var c;c=this;[l.LR,l.IJ].forEach(function(f){c.filters[f]=c.filters[f].filter(function(g){return n(f,g.filter);});});};h.prototype.nl=function(n,c,f,g){var k;k=this;return [l.LR,l.IJ].reduce(function(m,p){return k.filters[p].reduce(function(q,v){v.Q3a?q=v.filter.nl(q,c,f,g):0 === q.length && (q=v.filter.nl(n,c,f,g));return q;},m);},n);};return h;})();b.Dx=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vU=void 0;d=a(9);l=a(66);r=(function(){function h(n,c){this.console=n;this.config=c;this.gHa=!1;}h.prototype.nl=function(n,c,f,g){void 0 === f && (f=l.O.Oa);void 0 === g && (g=!1);d.M && this.console.trace("Filtering streams for fastplay",{gHa:this.gHa,Ht:f.Z,swc:g});if(this.gHa || f.Z >= this.config.y6b || !1 === g){c=n.filter(this.mSb);if(c.length)return c;d.M && this.console.trace("No drm streams to return");}c=n.filter(this.ZLb);if(c.length)return c;d.M && this.console.trace("No clear streams to return");return n;};h.prototype.mSb=function(n){return n.Mj;};h.prototype.ZLb=function(n){return !n.Mj;};return h;})();b.vU=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lA=b.azb=void 0;d=a(0);l=a(257);r=(function(){function h(n,c){this.Va=n;this.TB=c?[c]:[];}Object.defineProperties(h.prototype,{value:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});h.prototype.addListener=function(n){-1 === this.TB.indexOf(n) && (this.TB=this.TB.slice(),this.TB.push(n));};h.prototype.removeListener=function(n){n=this.TB.indexOf(n);-1 !== n && (this.TB=this.TB.slice(),this.TB.splice(n,1));};return h;})();b.azb=r;r=(function(h){function n(c,f){return h.call(this,c,f) || this;}d.__extends(n,h);n.rnc=function(c,f,g){return new l.Tka(c,f,g,!1);};Object.defineProperties(n.prototype,{value:{get:function(){return this.Va;},set:function(c){this.set(c);},enumerable:!1,configurable:!0}});n.prototype.set=function(c){var f;f=this.Va;f !== c && (this.Va=c,this.TB.forEach(function(g){return g({oldValue:f,newValue:c});}));};return n;})(r);b.lA=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kF=void 0;b.kF=function(a,d){var l;a=Math.abs(a);for(d=Math.abs(d);d;){l=d;d=a % d;a=l;}return a;};},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.COa=void 0;d=a(0);l=a(20);h=a(2);a(132);n=d.__importDefault(a(3));c=a(184);f=a(152);r=(function(g){function k(m,p,q){p=g.call(this,p,q) || this;p.Gfc=m;p.Mna=!1;p.x7=!1;p.reset();return p;}d.__extends(k,g);k.prototype.reset=function(){var m,p;if(this.Tc === c.Cm.Ofa || this.Tc === c.Cm.pending)null === (p=null === (m=this.JN) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m);g.prototype.reset.call(this);this.JN=this.Gfc();this.x7=!1;this.SV=f.fj.fH(l.O.Oa);};k.prototype.Eg=function(){this.reset();(0,h.assert)(this.nq);this.nq.$Da(this);};k.prototype.Sda=function(){return this.SV;};k.prototype.Xf=function(){var m,p,q,v,t;try{this.Mna=!0;t=null !== (p=null === (m=this.JN) || void 0 === m?void 0:m.next()) && void 0 !== p?p:{done:!0};}finally{this.Mna=!1;this.KCb=n.default.time.fa();this.tLb();}t.done?(this.SV=f.fj.zHa,null === (v=null === (q=this.JN) || void 0 === q?void 0:q.return) || void 0 === v?void 0:v.call(q),this.JN=void 0):this.SV=t.value;};k.prototype.tLb=function(){this.x7 && this.H5a();};k.prototype.H5a=function(){var m,p;this.Mna?this.x7=!0:(this.x7=!1,null === (p=null === (m=this.JN) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m),this.JN=void 0);};k.prototype.Wa=function(){this.H5a();g.prototype.Wa.call(this);};k.prototype.By=function(){return {state:c.Cm[this.state],nextWakeup:{ms:this.SV.timestamp.Z,type:f.b6[this.SV.type]},lastRunMono:this.KCb};};return k;})(c.nma);b.COa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.zVa=void 0;d=a(0);l=a(184);h=a(152);r=(function(n){function c(f,g,k,m){void 0 === m && (m={});k=n.call(this,k) || this;k.uEa=f;k.Lv=g;k.options=m;return k;}d.__extends(c,n);c.prototype.Sda=function(){return this.Tc === l.Cm.pending?this.uEa:h.fj.zHa;};c.prototype.Xf=function(){this.Lv();};c.prototype.Eg=function(){this.options.Dyc?(n.prototype.reset.call(this),this.nq.$Da(this)):this.Wa();};return c;})(l.nma);b.zVa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.kTa=void 0;d=a(0);r=(function(l){function h(n,c){n=l.call(this,n) || this;n.d7a=c;n.name="PlaybackError";return n;}d.__extends(h,l);h.w3b=function(n){return n && n.message && n.stack && n.d7a?"PlaybackError" === (null === n || void 0 === n?void 0:n.name):!1;};return h;})(Error);b.kTa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Kc=void 0;r=a(0);r.__exportStar(a(406),b);r.__exportStar(a(921),b);r.__exportStar(a(407),b);r.__exportStar(a(922),b);r.__exportStar(a(923),b);r.__exportStar(a(924),b);r.__exportStar(a(408),b);r.__exportStar(a(926),b);r.__exportStar(a(927),b);r.__exportStar(a(410),b);d=a(28);Object.defineProperties(b,{Kc:{enumerable:!0,get:function(){return d.Kc;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nr=b.AT=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.P5b=2]="lowCpuPlaybackStarting";})(b.AT || (b.AT={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.nr || (b.nr={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kl=void 0;r=b.Kl || (b.Kl={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.Bm=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.L2b=b.ccb=void 0;b.ccb=function(a){return ("ttml" in a);};b.L2b=function(a){return ("images" in a);};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(411),b);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(928),b);r.__exportStar(a(929),b);r.__exportStar(a(930),b);r.__exportStar(a(412),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lN=void 0;r=(function(){function a(d){this.h_a=d;}Object.defineProperties(a.prototype,{wQ:{get:function(){return this.yCb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.h_a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{klb:{get:function(){var d;d=this;return this.h_a.then(function(){return d;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.yCb=!0;};a.prototype.k0=function(d,l){var h;h=this;this.result.then(function(n){h.wQ?l && l(n):d(n);});return this;};return a;})();b.lN=r;},function(r){function b(){}function a(d){this.D_a=d;this.yr=[];this.wh=null;}b.prototype.clear=function(){this.Pf=null;this.size=0;};b.prototype.find=function(d){var h;for(var l=this.Pf;null !== l;){h=this.Mo(d,l.data);if(0 === h)return l.data;l=l.li(0 < h);}return null;};b.prototype.lowerBound=function(d){var c;for(var l=this.Pf,h=this.iterator(),n=this.Mo;null !== l;){c=n(d,l.data);if(0 === c)return (h.wh=l,h);h.yr.push(l);l=l.li(0 < c);}for(c=h.yr.length - 1;0 <= c;--c){if((l=h.yr[c],0 > n(d,l.data)))return (h.wh=l,h.yr.length=c,h);}h.yr.length=0;return h;};b.prototype.upperBound=function(d){for(var l=this.lowerBound(d),h=this.Mo;null !== l.data() && 0 === h(l.data(),d);){l.next();}return l;};b.prototype.min=function(){var d;d=this.Pf;if(null === d)return null;for(;null !== d.left;){d=d.left;}return d.data;};b.prototype.max=function(){var d;d=this.Pf;if(null === d)return null;for(;null !== d.right;){d=d.right;}return d.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.tg=function(d){for(var l=this.iterator(),h;null !== (h=l.next());){d(h);}};a.prototype.data=function(){return null !== this.wh?this.wh.data:null;};a.prototype.next=function(){var d;if(null === this.wh){d=this.D_a.Pf;null !== d && this.pZa(d);}else if(null === this.wh.right){do {if((d=this.wh,this.yr.length))this.wh=this.yr.pop();else {this.wh=null;break;}}while(this.wh.right === d);}else (this.yr.push(this.wh),this.pZa(this.wh.right));return null !== this.wh?this.wh.data:null;};a.prototype.qL=function(){var d;if(null === this.wh){d=this.D_a.Pf;null !== d && this.jZa(d);}else if(null === this.wh.left){do {if((d=this.wh,this.yr.length))this.wh=this.yr.pop();else {this.wh=null;break;}}while(this.wh.left === d);}else (this.yr.push(this.wh),this.jZa(this.wh.left));return null !== this.wh?this.wh.data:null;};a.prototype.pZa=function(d){for(;null !== d.left;){this.yr.push(d);d=d.left;}this.wh=d;};a.prototype.jZa=function(d){for(;null !== d.right;){this.yr.push(d);d=d.right;}this.wh=d;};r.exports=b;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ama=void 0;d=a(0).__importDefault(a(3));r=(function(){function l(h){this.kS=new Uint16Array(h.length);for(var n=0;n < h.length;++n){this.kS[n]=h.charCodeAt(n);}}l.prototype.encrypt=function(h){for(var n=this.kS.length,c="",f=0;f < h.length;++f){c+=String.fromCharCode(this.kS[f % n] ^ h.charCodeAt(f));}return encodeURIComponent(c);};l.prototype.decrypt=function(h,n){var c,f;void 0 === n && (n=!1);c=this.kS.length;f="";if(n)for((n=new Uint8Array(d.default.b$(h)),h=0);h < n.length;h++){f+=String.fromCharCode(this.kS[h % c] ^ n[h]);}else for((n=decodeURIComponent(h),h=0);h < n.length;h++){f+=String.fromCharCode(this.kS[h % c] ^ n.charCodeAt(h));}return f;};return l;})();b.Ama=r;},function(r,b){function a(d){var l,h;l=Math.abs(d);h=1 / (1 + l / 2);l=h * Math.exp(-l * l - 1.26551223 + h * (1.00002368 + h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));return 0 <= d?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.VTb=b.lbb=b.EP=void 0;b.EP=a;b.lbb=function(d){var l,h,c;if(2 <= d)return -100;if(0 >= d)return 100;l=1 > d?d:2 - d;h=Math.sqrt(-2 * Math.log(l / 2));h=-.70711 * ((2.30753 + .27061 * h) / (1 + h * (.99229 + .04481 * h)) - h);for(var n=0;2 > n;n++){c=a(h) - l;h+=c / (1.1283791670955126 * Math.exp(-(h * h)) - h * c);}return 1 > d?h:-h;};b.VTb=function(d){return 1 - a(d);};},function(r){function b(a){this.boa=a;this.fh=[];this.qt=!1;this.BI=void 0;this.Zk={};}b.prototype.t8=function(a){this.fh.length === this.boa && this.fh.shift();Array.isArray(a)?this.fh=this.fh.concat(a):this.fh.push(a);this.qt=!0;};b.prototype.cQ=function(){return this.fh.length;};b.prototype.Vqa=function(){var a;a=this.fh;return 0 < a.length?a.reduce(function(d,l){return d + l;},0) / this.fh.length:void 0;};b.prototype.w9=function(){var a,d;a=this.fh;if(0 < a.length){d=this.Vqa();a=a.reduce(function(l,h){return l + h * h;},0) / a.length;return Math.sqrt(a - d * d);}};b.prototype.Kv=function(a){var d,l,h;if(this.qt || void 0 === this.BI)(this.BI=this.fh.slice(0).sort(function(n,c){return n - c;}),this.Zk={},this.qt=!1);if(void 0 === this.Zk[a]){d=this.BI;l=Math.floor(a / 100 * (d.length - 1) + 1) - 1;h=(a / 100 * (d.length - 1) + 1) % 1;this.Zk[a]=l === d.length - 1?d[l]:d[l] + h * (d[l + 1] - d[l]);}return this.Zk[a];};r.exports=b;},function(r,b,a){var n;function d(c){this.reset();this.Qgc(c);}function l(c){this.setInterval(c);this.reset();}function h(c){this.XD=new l(c);this.Sb=0;this.ed=null;}n=a(13);d.prototype.Qgc=function(c){this.tN=Math.pow(.5,1 / c);this.AV=c;};d.prototype.reset=function(c){c && c.ya && n.Pa(c.ya)?c.He && n.Pa(c.He)?(this.Lx=this.uCb,this.zr=c.ya,this.SD=c.He + c.ya * c.ya):(this.Lx=this.uCb,this.zr=c.ya,this.SD=c.ya * c.ya):this.SD=this.zr=this.Lx=0;};d.prototype.add=function(c){var f;if(n.Pa(c)){this.Lx++;f=this.tN;this.zr=f * this.zr + (1 - f) * c;this.SD=f * this.SD + (1 - f) * c * c;}};d.prototype.fwa=function(){var c,f,g;if(0 === this.Lx)return {ya:0,He:0};c=this.zr;f=this.SD;g=1 - Math.pow(this.tN,this.Lx);c/=g;f/=g;g=c * c;return {ya:c,He:f > g?f - g:0};};d.prototype.get=function(){var c;c=this.fwa();return {ya:Math.floor(c.ya),He:Math.floor(c.He)};};d.prototype.getState=function(){return 0 === this.Lx?null:{a:Number(this.zr.toPrecision(6)),s:Number(this.SD.toPrecision(6)),n:this.Lx};};d.prototype.Qd=function(c){if(n.yb(c) || !n.has(c,"a") || !n.has(c,"s") || !n.isFinite(c.a) || !n.isFinite(c.s))return (this.SD=this.zr=this.Lx=0,!1);this.zr=c.a;this.SD=c.s;n.has(c,"n") && n.Pa(c.n)?this.Lx=c.n:this.Lx=16 * this.AV;return !0;};l.prototype.setInterval=function(c){this.AV=c;this.tN=-Math.log(.5) / c;};l.prototype.reset=function(c){this.Bb=this.xh=null;c && n.isFinite(c.ya)?this.zr=c.ya:this.zr=0;};l.prototype.start=function(c){n.yb(this.xh) && (this.Bb=this.xh=c);};l.prototype.add=function(c,f,g){var k,m,p;n.yb(this.xh) && (this.Bb=this.xh=f);this.xh=Math.min(this.xh,f);f=Math.max(g - f,1);k=this.tN;m=Math.max(g,this.Bb);p=m - this.Bb;g=m - g;this.zr=this.zr * (0 < p?Math.exp(-k * p):1) + 8 * c / f * (1 - Math.exp(-k * f)) * (0 < g?Math.exp(-k * g):1);this.Bb=m;};l.prototype.get=function(c){var f;c=Math.max(c,this.Bb);f=this.zr * Math.exp(-this.tN * (c - this.Bb));c=1 - Math.exp(-this.tN * (c - this.xh));0 < c && (f/=c);return {ya:Math.floor(f)};};l.prototype.toString=function(){return "ewmav(" + this.AV + ")";};h.prototype.setInterval=function(c){this.XD.setInterval(c);};h.prototype.reset=function(c){this.XD.reset(c);this.Sb=0;this.ed=null;};h.prototype.start=function(c){!n.yb(this.ed) && c > this.ed && (this.Sb+=c - this.ed,this.ed=null);this.XD.start(c - this.Sb);};h.prototype.add=function(c,f,g){!n.yb(this.ed) && g > this.ed && (this.Sb+=f > this.ed?f - this.ed:0,this.ed=null);this.XD.add(c,f - this.Sb,g - this.Sb);};h.prototype.stop=function(c){this.ed=Math.max(n.yb(this.XD.Bb)?0:this.XD.Bb + this.Sb,n.yb(this.ed)?c:Math.min(this.ed,c));};h.prototype.get=function(c){return this.XD.get((n.yb(this.ed)?c:this.ed) - this.Sb);};h.prototype.toString=function(){return this.XD.toString();};r.exports={Nub:d,ipc:l,Lub:h};},function(r,b,a){var l,h;function d(n,c,f,g){l.call(this,f,g);this.Sx=new h(n);this.dDb=c;}l=a(153);h=a(417);d.prototype=Object.create(l.prototype);d.prototype.shift=function(){var n;n=this.Vq(0);l.prototype.shift.call(this);null !== n && this.Sx.t8(n);return n;};d.prototype.flush=function(){var n;n=this.get();this.Sx.t8(n);l.prototype.reset.call(this);return n;};d.prototype.get=function(){var n;n=this.aK();return {sampleSize:this.cQ(),Dea:n,QAa:n.Ek?(n.hm - n.gm) / n.Ek:void 0};};d.prototype.cQ=function(){return this.Sx.cQ();};d.prototype.aK=function(){return this.Sx.cQ() < this.dDb?{gm:void 0,Ek:void 0,hm:void 0,sampleSize:void 0,Vj:void 0}:{gm:this.Sx.Kv(25),Ek:this.Sx.Kv(50),hm:this.Sx.Kv(75),sampleSize:this.Sx.cQ(),Vj:this.Sx.Kv.bind(this.Sx)};};d.prototype.toString=function(){return "biqr(" + this.tO + "," + this.fe + "," + this.cl + ")";};r.exports=d;},function(r,b,a){var l,h;function d(n){this.K={I_:n.maxc || 25,Tra:n.c || .5,vnc:n.w || 15E3,dB:n.b || 5E3};l.call(this,this.K.vnc,this.K.dB);this.iW();}l=a(153);h=a(187).TDigest;d.prototype=Object.create(l.prototype);d.prototype.shift=function(){var n;n=this.Vq(0);l.prototype.shift.call(this);null !== n && (this.Qf.push(n,1),this.qt=!0);return n;};d.prototype.flush=function(){var n;n=this.get();this.Qf.push(n,1);this.qt=!0;l.prototype.reset.call(this);return n;};d.prototype.get=function(){return this.eab();};d.prototype.PB=function(){var n;n=this.eab();return {min:n.min,p10:n.uea,p25:n.gm,p50:n.Ek,p75:n.hm,p90:n.vea,max:n.max,centroidSize:n.dLb,sampleSize:n.sampleSize,centroids:n.Ij};};d.prototype.eab=function(){var n;if(0 === this.Qf.size())return null;n=this.Qf.Vj([0,.1,.25,.5,.75,.9,1]);if(n[2] === n[4])return null;if(this.qt || !this.sd)(this.qt=!1,this.sd={min:n[0],uea:n[1],gm:n[2],Ek:n[3],hm:n[4],vea:n[5],max:n[6],Vj:this.Qf.Vj.bind(this.Qf),dLb:this.Qf.size(),sampleSize:this.Qf.n,Ij:this.rXb(),PB:this.PB.bind(this)});return this.sd;};d.prototype.rXb=function(){var n;if(0 === this.Qf.size())return null;if(!this.qt && this.sd)return this.sd.centroids;n=this.Qf.Vj([.25,.75]);if(n[0] === n[1])return null;this.Qf.size() > this.K.I_ && this.Qf.sB();n=this.Qf.El(!1).map(function(c){return {mean:c.Ag,n:c.n};});return JSON.stringify(n);};d.prototype.aab=function(){return this.Qf.summary();};d.prototype.size=function(){return this.Qf.size();};d.prototype.toString=function(){return "btdtput(" + this.tO + "," + this.fe + "," + this.cl + "): " + this.Qf.summary();};d.prototype.iW=function(){this.Qf=new h(this.K.Tra,this.K.I_);};r.exports=d;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x;function d(z){this.config=z;this.sBb=z.bna;}l=a(422).fla;h=a(949).rKa;b=a(418);n=b.Nub;c=b.Lub;f=a(261).Mub;g=a(262).oja;k=a(262).cLa;m=a(261).eAb;p=a(419);q=a(420);v=a(423).gWa;t=a(950);w=a(951);u=a(263);y=a(952).GTa;x=a(953).rIa;d.prototype.constructor=d;d.prototype.create=function(z,B){var A,C,D,E;A=this.sBb[z];C=B[z];D={};A && Object.keys(A).forEach(function(G){D[G]=A[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":E=new l(this.config,new f(D.mw));break;case "discontiguous-ewma":E=new l(this.config,new c(D.mw));break;case "initial-discontiguous-ewma":E=new y(new c(D.mw),D.playerStates);break;case "wssl":E=new m(D.mw,D.max_n);break;case "iqr":E=new p(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":E=new q(D);break;case "ci":E=new l(this.config,new x(D,new h(D)));break;case "discrete-ewma":E=new n(D.hl);break;case "tdigest-history":E=new v(D);break;case "iqr-history":E=new t(D);break;case "avtp":E=new u();break;case "entropy":E=new w(D);break;case "deliverytime":E=new l(this.config,new x(D,new g(D)));break;case "deliverytime-ci":E=new l(this.config,new x(D,new k(D)));}E && (E.type=D.type);return E;};r.exports=d;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fla=void 0;new (a(3).default.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function d(l,h){this.config=l;this.filter=h;}d.prototype.Mi=function(){return new d(this.config,this.filter);};d.prototype.Ehc=function(l,h,n,c){var f,g,k;k=c.t1;if(!k || !k.oca())return !0;switch(this.config.F1b){case "requested":return !1;case "requested-low":return (k=k.oEa(this.config.uta),k.Qfb() > ((null === (f=c.WC) || void 0 === f?void 0:f.P0) || 0));case "inferred":k=k.oEa(this.config.uta);l=k.Uza(l,h,n,this.config.z0);if(!l)break;return k.Qfb() > ((null === (g=c.WC) || void 0 === g?void 0:g.P0) || 0);case "inferred-strict":if((k=k.oEa(this.config.uta),k.Uza(l,h,n,this.config.z0)))return !1;}return !0;};d.prototype.add=function(l,h,n,c){this.Ehc(l,h,n,c) && this.filter.add(l,h,n,c);};d.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};d.prototype.start=function(l){this.filter.start && this.filter.start(l);};d.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};d.prototype.flush=function(){this.filter.flush && this.filter.flush();};d.prototype.reset=function(){this.filter.reset && this.filter.reset();};return d;})();b.fla=r;},function(r,b,a){var l,h;function d(n){this.K={I_:n.maxc || 25,Tra:n.c || .5,idc:n.rc || "none",gK:n.hl || 7200};this.iW();this.JEb=this.K.idc;this.AV=this.K.gK;this.Ima=Math.exp(Math.log(2) / this.AV);this.Ima=Math.max(this.Ima,1);this.N6=1;}l=a(13);h=a(187).TDigest;new (a(3).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");d.prototype.getState=function(){var n;if(0 === this.Qf.size())return null;n=this.Qf.Vj([.25,.75]);if(n[0] === n[1])return null;this.Qf.size() > this.K.I_ && this.Qf.sB();n=this.Qf.El(!1).reduce((function(c,f){l.Pa(f.Ag) && l.Pa(f.n) && c.push({mean:f.Ag,n:f.n / this.N6});return c;}).bind(this),[]);return {tdigest:JSON.stringify(n)};};d.prototype.Qd=function(n){var c;if(l.yb(n) || !l.has(n,"tdigest") || !l.Tg(n.tdigest))return !1;try{c=JSON.parse(n.tdigest);}catch(f){return !1;}c.forEach(function(f){l.isFinite(f.n) || (f.n=1);});n=c.map(function(f){return {Ag:f.mean,n:f.n};});this.N6=1;this.Qf.aDa(n);void 0 === this.Qf.Vj(0) && this.iW();};d.prototype.get=function(){var n,c;n=this.Qf;c=n.Vj([0,.1,.25,.5,.75,.9,1]);return {min:c[0],uea:c[1],gm:c[2],Ek:c[3],hm:c[4],vea:c[5],max:c[6],Ij:n.El(!1)};};d.uZb=function(n){var c;c=new d({});l.yb(n) || l.xa(n) || !l.isArray(n.Ij) || (c.Qf.aDa(n.Ij),void 0 === c.Qf.Vj(0) && c.iW());n=c.Qf.Vj([.25,.75]);return n[0] === n[1]?null:function(f){return c.Qf.Vj(f);};};d.prototype.add=function(n){var c;c=1;"ewma" === this.JEb && (this.N6=c=this.N6 * this.Ima);this.Qf.push(n,c);};d.prototype.toString=function(){return "TDigestHist(" + this.Qf.summary() + ")";};d.prototype.iW=function(){this.Qf=new h(this.K.Tra,this.K.I_);};r.exports={gWa:d};},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.d6=void 0;d=a(2);b.d6=(function(){function h(n,c,f){f.EJ && (l=new (a(960).OVa)(n,c));}h.instance=function(){(0,d.assert)(l,"expected StaticMediaProvider to exist");return l;};return h;})();},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;d=a(0);l=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);return n;})(Error);b.assert=function(h,n){if(!h)throw new l(n || "Assertion failed");};},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zNa=b.Rja=void 0;d=a(0);l=d.__importStar(a(13));h=d.__importDefault(a(3));n=a(993);c=a(994);f=(function(){return function(){this.i9=new c.LU(100);this.Oda=new c.LU(100);};})();r=(function(){function g(k,m,p){var q,v,t;this.K=m;this.H=p;this.L7=k;q=this.jO=this.xN=this.wN=0;v=0;t=0;this.L7.length >= this.K.Ada && (this.L7.forEach(function(w){!(w=w.get().NVb) || l.xa(w.avtp) || l.xa(w.neuhd) || (q+=w.avtp,v+=1 * w.neuhd,t++);}),this.jO=t,this.wN=q / t,this.xN=v / t);}Object.defineProperties(g.prototype,{gJb:{get:function(){return this.wN;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{iJb:{get:function(){return this.xN;},enumerable:!1,configurable:!0}});g.prototype.kca=function(){return this.jO >= this.K.Ada && this.wN >= this.K.baselineHighAndStableThreshold.bwThreshold && this.xN < this.K.baselineHighAndStableThreshold.nethreshold;};return g;})();b.Rja=r;r=(function(g){function k(m,p,q){m=g.call(this,m,p,q) || this;m.zma=[];m.IUb={};m.yob=[];m.AB=new f();m.L7.length >= m.K.Ada && (m.I_a("avtp",m.AB.i9),m.I_a("neuhd",m.AB.Oda));return m;}d.__extends(k,g);k.prototype.kca=function(){var m;this.tZb();m=new n.HPa(this.H,this.yob,this.wJb);m.zCa(this.zma);m=m.QLb(this.K.Eba.Oxc);return this.qmc && 1 === m && this.jO >= this.K.Ada;};k.prototype.lF=function(){var m,p,q,v;m={};p=h.default.time.now();q=new Date(p);v=q.getHours();m.currentMonoTime=p;m.currentTime=q.getTime();m.currentHour=v;return m;};k.prototype.p9a=function(m,p,q){m="avtp" === m?this.wN:this.xN;for(var v=p.w9(),t=0,w="skew" === q?3:4,u=0;u < p.fh.length;u++){l.xa(m) || l.xa(v) || (t+=Math.pow(p.fh[u] - m,w));}t/=p.fh.length;return !l.xa(v) && 0 < v?t / Math.pow(v,w) - 3 * ("skew" === q?0:1):NaN;};k.prototype.G9a=function(m,p,q){var v;v=0;"lte" === q?v=m.reduce(function(t,w){return w <= p?t + 1:t;},0) / (1 * m.length):"gte" === q && (v=m.reduce(function(t,w){return w >= p?t + 1:t;},0) / (1 * m.length));return v;};k.prototype.YYb=function(m){var p,q;p=m.Kv(25);q=m.Kv(50);m=m.Kv(75);return l.xa(p) || l.xa(q) || l.xa(m)?NaN:0 < q?(m - p) / q:NaN;};k.prototype.jXb=function(m,p){m="avtp" === m?this.wN:this.xN;p=p.w9();return !l.xa(p) && !l.xa(m) && (0 < p || 0 < m) && 0 < m?(m - p) / (m + p):NaN;};k.prototype.aK=function(m,p){m=m.Kv(p);return l.xa(m)?NaN:m;};k.prototype.normalize=function(m,p,q){return !isNaN(m) && 0 < q?(m - p) / q:NaN;};k.prototype.tZb=function(){var m,p,q,v,t,w,u,y,x,z,B,A;m=this;p=this.K.Eba.ueb.Gwc;q=this.K.Eba.ueb.Ewc;v=this.K.Eba.ueb.Fwc;y=[];A=0;this.qmc=!Object.keys(p).some(function(C){var D;B=NaN;if(!(p.hasOwnProperty(C) && q.hasOwnProperty(C) && v.hasOwnProperty(C) && !l.xa(m.AB) && m.AB.i9 && m.AB.Oda) || 1 > m.jO || "number" !== typeof p[C] || "number" !== typeof q[C] || "number" !== typeof v[C])return !0;t=p[C];w=q[C];u=v[C];y=C.split("_",2);x=y[0];z=y[1];switch(x){case "avtp":D=m.AB.i9;break;case "neuhd":D=m.AB.Oda;break;default:D=void 0;}if("avtp" === x || "neuhd" === x){if(D)switch(z){case "last":B=D.fh[m.jO - 1];break;case "mean":B="avtp" === x?m.wN:m.xN;break;case "niqr":B=m.YYb(D);break;case "skew":B=m.p9a(x,D,"skew");break;case "kurtosis":B=m.p9a(x,D,"kurtosis");break;case "std":B=D.w9();break;case "b":B=m.jXb(x,D);break;default:-1 !== C.search("[p][1-9]?[1-9]") && (B=m.aK(D,Number(C.split("_p",2)[1])));}}else switch(C){case "fracAbove20Mbps":D=m.AB.i9;B=l.xa(D)?NaN:m.G9a(D.fh,2E4,"gte");break;case "fracBelow20p":D=m.AB.Oda;B=l.xa(D)?NaN:m.G9a(D.fh,.15,"lte");break;case "hour_current":B=m.lF().currentHour;break;case "session_ct":B=m.jO;break;case "intercept":(B=t,m.wJb=B);}B=m.normalize(B,w,u);if(isNaN(B))return !0;"intercept" !== C && (m.zma.push(B),m.yob.push(t),m.IUb[C]=A,A+=1);});};k.prototype.I_a=function(m,p){this.L7.forEach(function(q){q=q.get().NVb;!q || "avtp" !== m && "neuhd" !== m || l.xa(q[m]) || p.t8(Number(q[m]));});};return k;})(r);b.zNa=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.yM=void 0;d=a(0);l=a(76);h=a(428);n=a(20);c=a(2);f=a(8);g=a(429);k=a(267);m=a(431);p=a(432);r=(function(){function q(v,t,w){this.K=t;this.H=w;this.DA=new f.wVa();this.w7=0;this.Xm=v.Xm;this.P=v.P;this.mediaType=v.mediaType;this.$G=v.$G;this.VA=v.VA;this.mediaType === l.u.J?(t=this.Xm,w=d.__read(t.streams,1)[0],this.aFb=new m.uma({w:t.maxWidth,ks:t.maxHeight},{w:t.gCa,ks:t.hCa}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.xna=k.oN.from({Dw:w.framerate_value,Rv:w.framerate_scale}),this.aoa=this.xna.da()),void 0 !== t.hAa && void 0 !== t.gAa && (this.UCb=k.oN.from({Dw:t.hAa,Rv:t.gAa}))):this.mediaType === l.u.U && (this.UAb=this.Xm.streams[0].channels,this.cFb=48E3);this.wb=(this.RN=this.aoa) && this.RN.V;this.mediaType === l.u.nb && (this.wb=1E3);this.Cna=this.MZa=!1;this.dxa=-Infinity;this.seb=Infinity;v=q.iBb(this,v.ug);t=v.maxBitrate;w=v.Rc;this.wp=v.wp;this.maxBitrate=t;this.Rc=w;this.yFb=w.reduce(function(u,y){u[y.Ta]=y;return u;},{});!1;}q.iBb=function(v,t){var w,u,y,x,z,B,A;w=v.K;u=v.mediaType === l.u.J;y=!1;x=0;z=[];if(v.mediaType === l.u.U || v.mediaType === l.u.J){B=v.Xm;A=B.streams.some(function(C){return C.Mj;});B.streams.forEach(function(C,D){var E,G,F;E=C.bitrate;G=!0;if(u){F=C.Mj;G=w.E$ && w.yha?t?!0:F === A:t && !F || !t && (F || !A);y=y || F;}G && E > x && (x=E);C=new p.zia({Ty:C,Fg:D,track:v,qs:G},w,v.H);z.push(C);});}else v.mediaType === l.u.nb && (B=v.Xm,B=new p.zia({Ty:B.ttDownloadables["imsc1.1"],Fg:0,track:v,qs:!0,Rjc:B.downloadableIds["imsc1.1"]},w,v.H),z.push(B));return {wp:y,maxBitrate:x,Rc:z};};Object.defineProperties(q.prototype,{Kda:{get:function(){return !this.ve && 0 === this.w7;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ve:{get:function(){var v;return this.mediaType === l.u.nb?!0:this.qa?!(null === (v=this.DA.value) || void 0 === v || !v.ve):!!this.fr && !!this.DA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JCa:{get:function(){return this.MZa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{L:{get:function(){return String(this.P.L);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === l.u.nb?this.Xm.id:this.Xm.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qu:{get:function(){return this.kDb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{da:{get:function(){return this.RN;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.xna;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bda:{get:function(){return this.UCb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{om:{get:function(){return this.aFb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.UAb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.cFb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === l.u.nb?this.Xm.rawTrackType:this.Xm.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{X1:{get:function(){return this.mediaType === l.u.nb?this.Xm.rawTrackType:this.Xm.X1;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{V:{get:function(){return this.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{SK:{get:function(){return this.jDb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fr:{get:function(){return this.fd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nK:{get:function(){return this.DA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uaa:{get:function(){return this.da.V;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{taa:{get:function(){return this.da.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cua:{get:function(){return this.DA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{K_:{get:function(){return this.Rc.some(function(v){var t;return 1 < ((null === (t=v.kh) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qa:{get:function(){return this.P.qa;},enumerable:!1,configurable:!0}});q.prototype.Gy=function(v){return this.RB()[v];};q.prototype.RB=function(){return this.yFb;};q.prototype.equals=function(v){return !!v && this.L === v.L && this.mediaType === v.mediaType && this.trackId === v.trackId;};q.prototype.kea=function(){this.w7++;};q.prototype.jea=function(){0 < this.w7 && this.w7--;};q.prototype.iea=function(v,t,w,u,y,x){if(this.qa || u && void 0 !== u.vo && (this.ve || void 0 !== u.Ne && u.Ne.length)){if(v.Mj || !v.track.wp)this.MZa=!0;if(this.ve)!this.Cna && !this.qa && u.Ne && u.Ne.length > this.fr.length && (this.fd=new h.pma(this.mediaType,this.da,u,y),this.DA.dlb(),this.dxa=-Infinity,this.Cna=!0);else {this.n_a(t);this.kDb=x;if(w=w || this.aoa)(this.m_a(w || this.aoa),void 0 === this.V && this.o_a(w.V));this.qa || (this.fd=new h.pma(this.mediaType,this.da,u,y));if(v.Mj || !v.track.wp)this.Cna=!0;}}else this.qa || this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.A9b=function(v){void 0 === this.DA.value && this.DA.set(v);};q.prototype.$Mb=function(v){this.ve || (this.o_a(v.V),this.n_a(v.SK),this.m_a(v.da),this.fd=v.fr,v.Cua.value?this.DA.set(v.Cua.value):this.DA.dlb());};q.prototype.mp=function(v,t,w,u){var y;(0,c.assert)(this.nK);y=this.nK;this.qa && (t=Math.min(t,this.oF().Z));return (0,g.mp)(this.mediaType,v,y,t,w,u);};q.prototype.LB=function(v,t,w){var u,y,x,z;(0,c.assert)(this.nK);y=this.nK;if(this.qa){x=this.P.ba.bm;z=null === x || void 0 === x?void 0:x.O$;x=null !== (u=null === x || void 0 === x?void 0:x.N$) && void 0 !== u?u:0;Infinity === t && z && (t=new Date(z).getTime() - y.Gq().iqa + x);}return (0,g.LB)(this.mediaType,v,y,t,w);};q.prototype.qp=function(){var v;if(this.mediaType === l.u.U){(0,c.assert)(this.mediaType === l.u.U);(0,c.assert)(void 0 !== this.channels);(0,c.assert)(void 0 !== this.sampleRate);v={channels:this.channels,profile:this.profile,X1:this.X1,bitrate:this.Rc[this.Rc.length - 1].bitrate,sampleRate:this.sampleRate,qu:this.qu};}else ((0,c.assert)(this.mediaType === l.u.J),(0,c.assert)(void 0 !== this.bda),(0,c.assert)(void 0 !== this.om),v={N:this.P.N,wp:this.wp,profile:this.profile,uaa:this.bda.Dw,taa:this.bda.Rv,X1:this.X1,om:this.om,maxWidth:this.om.om.w,maxHeight:this.om.om.ks,gCa:this.om.Thb.w,hCa:this.om.Thb.ks,qu:this.qu});return v;};q.prototype.toJSON=function(){return {movieId:this.L,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.oF=function(){(0,c.assert)(this.qa,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return n.O.Na(Math.max(0,this.l9a() - this.K.r_));};q.prototype.b$a=function(v){(0,c.assert)(this.qa,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.l9a() - v.Z > 1E3 * this.P.Ak.j5b?"DVR":"LIVE";};q.prototype.l9a=function(){var v;(0,c.assert)(this.qa,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (null !== (v=this.nK) && void 0 !== v?v:this.Rc[0]).Gq().W4a;};q.prototype.o_a=function(v){this.wb=v;};q.prototype.n_a=function(v){this.jDb=v;};q.prototype.m_a=function(v){this.RN=v;this.mediaType === l.u.J && (this.xna=k.oN.oWb(v));};return q;})();b.yM=r;},function(r,b,a){var l,h,n,c;function d(f){return function(){for(var g=Array(this.length),k=0;k < this.length;++k){g[k]=f.call(this,k);}return g;};}Object.defineProperties(b,{__esModule:{value:!0}});b.hIb=b.Qy=b.pma=b.vWa=void 0;r=a(0);l=a(2);r=r.__importDefault(a(3));h=a(20);n=new r.default.Console("FRAGMENTS","media|asejs");c=(function(){function f(g,k){this.fd=g;this.Je=k;}Object.defineProperties(f.prototype,{index:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cc:{get:function(){return new h.O(this.$a,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xd:{get:function(){return new h.O(this.lb,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$a:{get:function(){return this.fd.O7 + this.fd.mE[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lb:{get:function(){return this.$a + this.fd.jt[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sv:{get:function(){return this.fd.jt[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{da:{get:function(){return this.fd.da;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V:{get:function(){return this.fd.V;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return Math.floor(1E3 * this.$a / this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sa:{get:function(){return Math.floor(1E3 * (this.$a + this.Sv) / this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.Sa - this.ca;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.$a / this.da.V,endPts:1E3 * this.lb / this.da.V,duration:1E3 * this.Sv / this.da.V,index:this.index};};return f;})();b.vWa=c;a=(function(){function f(g,k,m,p){this.mediaType=g;this.length=m.Ne.length;this.wb=m.V;this.jt=m.Ne;this.v8=p && p.GR;this.v0a=p && p.gS;this.RN=k;this.OGa=this.PGa=this.fZa=void 0;this.O7=m.vo;this.mE=new Uint32Array(this.length + 1);if(this.length){for(k=g=0;k < this.length;++k){this.mE[k]=g;g+=this.jt[k];}this.mE[k]=g;this.Gma=Math.floor((this.Sa - this.ca) / this.length);}}Object.defineProperties(f.prototype,{vo:{get:function(){return this.Bnb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fta:{get:function(){return this.Bnb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return this.Dl(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sa:{get:function(){return this.Dl(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Eh:{get:function(){return new h.O(this.Fta,this.V);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Yza:{get:function(){return this.fZa || this.RAb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{da:{get:function(){return this.RN;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V:{get:function(){return this.wb;},enumerable:!1,configurable:!0}});f.prototype.Bnb=function(g){return this.O7 + this.mE[g];};f.prototype.Dl=function(g){return Math.floor(1E3 * (this.O7 + this.mE[g]) / this.V);};f.prototype.lY=function(g){return this.Dl(g + 1);};f.prototype.Ne=function(g){return this.lY(g) - this.Dl(g);};f.prototype.get=function(g){return new c(this,g);};f.prototype.np=function(g,k,m){if(0 === this.length || g < this.Dl(0))return -1;g=Math.max(g,k || 0);for(var p=0,q=this.length - 1,v,t;q >= p;){if((v=p + (q - p >> 1),t=this.Dl(v),g < t))q=v - 1;else if(g >= t + this.Ne(v))p=v + 1;else {for(;k && v < this.length && this.Dl(v) < k;){++v;}return v < this.length?v:m?this.length - 1:-1;}}return m?this.length - 1:-1;};f.prototype.baa=function(g,k,m){g=this.np(g,k,m);return 0 <= g?this.get(g):void 0;};f.prototype.isa=function(g,k){var m,p,q;m=Math.floor(k * this.V / 1E3);p=Math.min(g + Math.ceil(k / this.Gma),this.length);q=this.mE[p] - this.mE[g];if(q >= m){for(;q >= m;){--p;q-=this.jt[p];}return {blocks:Math.max(p - g + 1,0),xDa:0};}for(;q < m && p <= this.length;){k-=q || 0;q+=this.jt[p];++p;}return {blocks:Math.max(p - g - 1,0),xDa:k};};f.prototype.subarray=function(g,k){(0,l.assert)(void 0 === g || 0 <= g && g < this.length);(0,l.assert)(void 0 === k || k > g && k <= this.length);return new f(this.mediaType,this.da,{V:this.V,vo:this.O7 + this.mE[g],Ne:this.jt.subarray(g,k)},this.v8 && ({GR:this.v8.subarray(g,k + 1),gS:this.v0a}));};f.prototype.forEach=function(g){for(var k=0;k < this.length;++k){g(this.get(k),k,this);}};f.prototype.map=function(g){for(var k=[],m=0;m < this.length;++m){k.push(g(this.get(m),m,this));}return k;};f.prototype.reduce=function(g,k){for(var m=0;m < this.length;++m){k=g(k,this.get(m),m,this);}return k;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Gma};};f.prototype.dump=function(){var k;n.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Gma + "ms");for(var g=0;g < this.length;++g){k=this.get(g);n.trace(("TrackFragments: ").concat(g,": [").concat(k.ca,"-").concat(k.Sa,"]"));}};f.prototype.RAb=function(){for(var g=0,k=0;k < this.length;k++){g=Math.max(this.jt[k],g);}return this.fZa=g;};return f;})();b.pma=a;b.Qy=d;a.prototype.Anb=d(a.prototype.Dl);d(a.prototype.lY);d(a.prototype.Ne);b.hIb=function(f){return ("[").concat(Array(f.length).map(function(g,k){return f[k].toString();}).join(","),"]");};},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.U6a=b.LB=b.mp=b.Naa=void 0;d=a(77);l=a(6);h=a(2);n=a(117);b.Naa=function(c,f){return c.np(f,void 0,!0);};b.mp=function(c,f,g,k,m,p){var q,v,t,w;n.tn.Hq(c);if(g.qa){f=g.V;q=g.Gq();m=q.DS;p=q.Nt.Ue(f);q=m + Math.floor(k / p.Z);c === l.u.U && (q=Math.max(m,q - 1));c=p.$y(q - m);k=c.add(p);return new d.Jl(g,{index:q,$a:c.Ca,lb:k.Ca,V:f,offset:0,ha:0});}(0,h.assert)(g.ma,"findFirstFragment called without stream fragments");v=g.ma;k=Math.max(g.ma.Dl(0),k);c === l.u.U && !p && f.Km && !f.RI && g.Jf && (k=Math.max(g.ma.Dl(0),k + g.Jf.Z));q=(0,b.Naa)(v,k);t=g.Zl(q);if(t.Sa < k)return t;w=t.tua(k);w?(0 < w.uj && t.vj({start:w.uj}),c !== l.u.U || f.O_ || (0 > w.Ce && t.vj({start:w.uj}),w.Ce < (f.Km && !f.RI && g.Jf?Math.floor(g.Jf.Z):0) && t.nta())):k >= t.Sa && q < v.length - 1 && (t=g.Zl(q + 1));c === l.u.J && m && t.Sa === m && q < v.length - 1 && (t=g.Zl(q + 1));c === l.u.U && !t.La && (f.Ubb || f.ySb) && p && t.vj({});t.sS(k);return t;};b.LB=function(c,f,g,k,m,p){var q,v;n.tn.Hq(c);if(g.qa)return (m=f=q=Infinity,c=g.V,void 0 !== k && Infinity !== k && (q=g.Gq(),f=q.DS,m=q.Nt.Ue(c),q=f + Math.floor(k / m.Z),0 === k % m.Z && (q=Math.max(f,q - 1)),k=m.$y(q - f),m=k.add(m),f=k.Ca,m=m.Ca),new d.Jl(g,{index:q,$a:f,lb:m,V:c,offset:0,ha:0}));q=g.ma;void 0 === k && (k=q.Sa);if(m && (m=m.jVb(g,k,c,f,p)))return m;m=q.da;p=k?k + (0,b.U6a)(c,m,f.wL,f.jS):q.lY(q.length - 1);q=q.np(p,void 0,!0);m=g.Zl(q);0 === q || m.ca !== k || c !== l.u.J && f.wL || (--q,m=g.Zl(q));p=c === l.u.J?p:k;if(p < m.Sa){v=m.sua(p);v && 0 !== v.uj?m.vj({end:v.uj}):c === l.u.U && (v || p < m.ca) && 0 !== q?m=g.Zl(q - 1):c !== l.u.J || (g.Q2b || f.jHa) && !v || 0 === q || (m=g.Zl(q - 1));}c === l.u.U && !m.La && f.Ubb && m.vj();m.sS(k);return m;};b.U6a=function(c,f,g,k){var m;return c === l.u.J || k?0:g?null !== (m=null === f || void 0 === f?void 0:f.Z) && void 0 !== m?m:0:f?-f.Z:0;};},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ama=void 0;d=a(0);l=a(75);a(2);d.__importDefault(a(31));r=(function(){function h(n,c,f,g){this.Ne=n;this.V=f;this.length=Math.min(n.length,c.length);this.So=c;this.md=g;}Object.defineProperties(h.prototype,{ha:{get:function(){return void 0 !== this.md?this.md:this.md=this.Oma();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sizes:{get:function(){return this.So;},enumerable:!1,configurable:!0}});h.prototype.subarray=function(n,c){return new h(this.Ne.subarray(n,c),this.sizes.subarray(n,c),this.V);};h.prototype.concat=function(){var f,g;for(var n=[],c=0;c < arguments.length;c++){n[c]=arguments[c];}c=[this];n=c.concat.apply(c,d.__spreadArray([],d.__read(n),!1));c=n.reduce(function(k,m){return k + m.length;},0);f=new Uint32Array(c);g=new Uint32Array(c);c=n[0].V;n.reduce(function(k,m){l.JWa.set(f,m.Ne,k);l.JWa.set(g,m.sizes,k);return k + m.length;},0);return new h(f,g,c);};h.prototype.Oma=function(){for(var n=this.sizes,c=this.length,f=0,g=0;g < c;++g){f+=n[g];}return f;};h.prototype.rcb=function(n){return void 0 === this.XFb?!1:0 < this.XFb[n];};return h;})();b.ama=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.uma=void 0;d=a(401);b.uma=(function(){return function(l,h){var n;void 0 === h && (h={w:1,ks:1});this.om=l;this.Thb=h;n=l.w * h.w;l=l.ks * h.ks;h=(0,d.kF)(n,l);this.iy={w:n / h,ks:l / h};};})();},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zia=void 0;d=a(0);l=a(76);h=a(998);n=a(20);c=a(2);f=a(415);g=d.__importDefault(a(3));k=a(77);r=(function(){function m(p,q,v){var t,w,u;this.K=q;this.H=v;this.al=p.track;this.R7=p.Fg;this.Ty=p.Ty;this.zCb=this.mediaType !== l.u.nb?this.D_.Mj:!1;this.EFb=p.Rjc;this.jI=this.ab=void 0;q=p.qs;this.qs=void 0 === q?!0:q;this.s$=p.s$;this.QN=void 0;this.hZa=this.dh=0;this.url=this.IL=this.ec=this.Fu=this.nza=this.location=this.Za=this.Ib=void 0;this.UB=!1;this.Aya=this.Yf=void 0;this.gV=new Set();q=(p=this.K) && "object" === typeof p.ujb && p.ujb[this.profile];"object" === typeof q && (q=q[this.bitrate]) && (this.EEb=new n.O(q.ticks,q.timescale));this.pDb=0 <= (null === (t=p.VIb) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (w=p.AR) || void 0 === w?0:w.gvc) && this.mediaType === l.u.J && (t=this.Ty,0 < (null === (u=t.Ms) || void 0 === u?void 0:u.length))){u=t.Ms.splice(0,t.Ms.length);t=new Uint8Array(u.length);for(w=0;w < u.length;w++){t[w]=u[w].gb;}this.Ms=t;}}Object.defineProperties(m.prototype,{ve:{get:function(){return this.qa?!!this.jI:!!this.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ecb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{P:{get:function(){return this.al.P;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{N:{get:function(){return this.P.N;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{L:{get:function(){return this.al.L;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.al.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{da:{get:function(){return this.al.da;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{V:{get:function(){return this.al.V;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{SK:{get:function(){return this.al.SK;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.al.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.al;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{D_:{get:function(){if(this.mediaType !== l.u.nb)return this.Ty;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Fg:{get:function(){return this.R7;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ta:{get:function(){var p;return this.mediaType === l.u.nb?null !== (p=this.EFb) && void 0 !== p?p:"":this.D_.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mj:{get:function(){return this.zCb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qa:{get:function(){return this.track.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.mediaType === l.u.nb?0:this.D_.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gb:{get:function(){var p;if(this.L$)return this.L$;if(this.mediaType === l.u.J)return null !== (p=this.Ty.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Tec:{get:function(){if(this.mediaType === l.u.J)return this.Ty.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hfa:{get:function(){if(this.mediaType === l.u.J)return this.Ty.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.mediaType === l.u.nb?"timedtext":this.D_.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qf:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sm:{get:function(){if(this.mediaType === l.u.J)return this.Ty.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jf:{get:function(){return this.EEb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{G0b:{get:function(){return this.pDb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ma:{get:function(){return this.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wy:{get:function(){return this.ab && this.ab.Wy;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uaa:{get:function(){return this.al.uaa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{taa:{get:function(){return this.al.taa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ca:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Yv:{get:function(){return void 0 !== this.QN?this.QN:this.F3b();},set:function(p){this.QN=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uw:{get:function(){return this.qs && !this.UB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kh:{get:function(){return this.jI;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Q2b:{get:function(){(0,c.assert)(!!this.ma,"Initial header should have been received already");return this.P.Ly() && -1 < this.qf.indexOf("h264mpl") && void 0 === this.ma.Dpa;},enumerable:!1,configurable:!0}});m.prototype.gs=function(){return this.P.gs(this.mediaType,this.Ta);};m.prototype.Paa=function(){var p;p=this.gs();return p && p.stream.ma;};m.prototype.bH=function(p){return this.P.bH(this,p);};m.prototype.kea=function(){this.track.kea();};m.prototype.jea=function(){this.track.jea();};m.prototype.iea=function(p,q,v,t,w,u,y,x){this.qa || t && void 0 !== t.vo && (this.track.ve || void 0 !== t.Ne && t.Ne.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.qa && this.K.Km && this.Jf && 0 === t.vo && (t.vo+=this.Jf.Ue(t.V).Ca),this.ve || (this.jI=p,this.track.iea(this,q,v,t,u,x),this.qa || (this.ab=new h.UVa(this.R7,this.track.fr,t,w,u,y,this.L)),this.track.A9b(this))):this.qa || (t?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.vo) + "," + this.track.ve + "," + this.track.JCa + "," + (void 0 !== t.Ne) + "," + !(!t.Ne || !t.Ne.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};m.prototype.P9=function(p){this.ve || (this.track.$Mb(p.track),this.ab=p.ma,this.jI=p.kh);};m.prototype.Zl=function(p){return new k.Jl(this,this.ma.get(p));};m.prototype.z9a=function(p){var q;q=this.Zl(p.index);p.La && (q.vj(p.La),q.sS(p.zz));return q;};m.prototype.Ppb=function(p,q){this.dh=p;this.hZa=q;};m.prototype.$Lb=function(){this.Za=this.Ib=this.ec=this.location=this.url=void 0;};m.prototype.qp=function(){return this.mediaType === l.u.U?this.VWb():this.P_b();};m.prototype.bQ=function(p,q,v){var t,w,u;return this.qa?(v=null === (t=v || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (w=null === v || void 0 === v?void 0:v[0]) && void 0 !== w?w:"",w=null !== (u=null === v || void 0 === v?void 0:v[1]) && void 0 !== u?u:"",p?p=this.Gq().o2b:(void 0 === q && this.H.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,c.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Gq().media.replace("$Number$",q.toString())),t + "/" + p + (w?"?" + w:"")):v || this.url;};m.prototype.Gq=function(){var p,q;(0,c.assert)(this.qa && this.P.ba.bm,"liveMetadata missing from manifest");p=this.P.ba.bm;p=p.CEa[p.ita[this.Ta]];q=new Date(p.g9).getTime();return d.__assign(d.__assign({},p),{iqa:q,W4a:Math.max(0,this.P.H1 - q - this.K.eza),DS:Number(p.DS),Xea:new n.O(Number(p.Qbc),p.V),Nt:new n.O(p.duration,p.V)});};m.prototype.T$b=function(p,q){var v,t,w,u,y,x,z,B,A;if(p){p.split(";").some(function(C){if(0 === C.indexOf("sc="))return (t=C.slice(3),!0);});if(t && (q.B0b=!0,p=this.K.CQb,this.P.a5b() && (p=Math.max(p,this.K.DQb)),!(g.default.time.fa() - this.P.Hdb < p))){(0,c.assert)(null === (v=this.P.ba.JE) || void 0 === v?void 0:v.Fp,"Missing pbcid for OC side channel message decryption.");v=new f.Ama(this.P.ba.JE.Fp).decrypt(t,!0);try{w=JSON.parse(v);u=w.time;y=Number(u);isNaN(y)?this.H.error(("Invalid live server time in OC side channel message. time:").concat(u)):this.P.H1=y;x=w["live-msg-start"];z=w["live-msg-end"];void 0 !== x && isNaN(new Date(x).getTime()) || void 0 !== z && isNaN(new Date(z).getTime())?this.H.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(x,", live-msg-end:").concat(z)):this.P.Ypb(x,z);B=w["encoder-tag"];A=w["encoder-region"];B && A || this.H.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(B,", encoder-region:").concat(A));this.P.Ilc(this.mediaType,{GJ:B,FJ:A});this.P.Hdb=g.default.time.fa();}catch(C){this.H.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(v));}}}};m.prototype.UCa=function(p){return !this.gV.has(p);};m.prototype.JGb=function(p){this.gV.has(p)?this.H.trace("segment already blocked: " + p):(this.H.trace("addBlockedLiveSegment: " + p),this.gV.add(p));};m.prototype.Xdc=function(p){this.gV.has(p) && (this.H.trace("removeBlockedSegment: " + p),this.gV.delete(p));};m.prototype.toJSON=function(){return {movieId:this.L,mediaType:this.mediaType,streamId:this.Ta,bitrate:this.bitrate,streamIndex:this.Fg,isAvailable:this.qs,fittable:this.Yv,vmaf:this.gb,resolutionWidth:this.Tec,resolutionHeight:this.Hfa};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Ta + ":" + this.bitrate;};m.prototype.F3b=function(){var p,q,v,t,w,u,y;if(!this.ve)return !0;if(this.track.dxa >= this.bitrate)return this.QN=!0;if(this.track.seb <= this.bitrate)return this.QN=!1;(y=this.qa?this.K.oda * this.bitrate / 8 * (this.K.aG + (null !== (q=null === (p=this.P) || void 0 === p?void 0:p.MG.Z) && void 0 !== q?q:0)) < this.dh:this.ab.uKb(this.K.aG,this.dh,null !== (t=null === (v=this.P) || void 0 === v?void 0:v.MG.Z) && void 0 !== t?t:0,null !== (u=null === (w=this.P) || void 0 === w?void 0:w.MG.ha) && void 0 !== u?u:0,this.hZa))?this.track.JCa && !this.Mj && this.track.wp || (this.track.dxa=this.bitrate):this.track.seb=this.bitrate;return this.QN=y;};m.prototype.P_b=function(){return d.__assign(d.__assign({},this.track.qp()),{profile:this.qf});};m.prototype.VWb=function(){return d.__assign(d.__assign({},this.track.qp()),{profile:this.qf,bitrate:this.bitrate});};return m;})();b.zia=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.qia=void 0;d=a(0);l=a(75);r=a(11);h=d.__importDefault(a(3));n=a(8);c=a(35);f=a(2);g=a(6);k=a(268);m=a(434);a=a(435);p=h.default.MediaSource;a=(function(q){function v(t,w,u,y,x,z,B){w=q.call(this,t,y,x,w,B) || this;m.x3.Ebb(w,t,y,B);w.zu=u;w.track=u.track;w.yy=!!y.yy;w.iR=!!y.iR;w.YE=!!y.YE;w.k$b=y.ha;w.zS=!!y.zS;w.IV=(z?"(cache)":"") + w.Ta + " header";t=y.offset;y=y.ha;w.Nx && (t+=w.Nx.byteLength,y-=w.Nx.byteLength);w.DI(t,y);return w;}d.__extends(v,q);Object.defineProperties(v.prototype,{zc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{yea:{get:function(){return this.kEb;},enumerable:!1,configurable:!0}});v.prototype.wd=function(){var t;if(!this.complete){t={type:"headerRequestCancelled",request:this};this.emit(t.type,t);}q.prototype.wd.call(this);};v.prototype.EY=function(t){this.stream.kea();q.prototype.EY.call(this,t);};v.prototype.NP=function(t,w,u){this.stream.jea();q.prototype.NP.call(this,t,w,u);};v.prototype.rl=function(t){t.response && this.wXa(t.response);(0,f.assert)(this.Nx);t.VR();this.stream.jea();this.hEb()?q.prototype.rl.call(this,t):this.AXa?(this.DI(t.offset + t.ha,this.AXa),this.stream.kea(),q.prototype.rl.call(this,t)):this.oaa(this);};v.prototype.qea=function(t){t.response && this.wXa(t.response);q.prototype.qea.call(this,t);};v.prototype.DI=function(t,w){t=new k.zT(this.stream,this.track,this.IV + " (" + this.Ja.length + ")",{zc:!0,offset:t,ha:w,WC:{uf:g.Ma.ai},location:this.location,bd:this.bd,responseType:0},this,this.te,this.H);this.push(t);this.md=this.Ja.reduce(function(u,y){return u + y.ha;},0);};v.prototype.hEb=function(){var t,w,u,y,x,z,B;y=this.te;x=new l.mv(v.U7b,this.stream,this.Nx,this.stream.qa?["moov"]:["sidx"],y.K$b,{Eyc:this.stream.track.JCa,OBa:void 0 === this.da,npb:!p.Yc || !p.Yc.q3a,CGa:y.CGa,Km:y.Km,cT:this.te.cT,mlb:!0,Cga:!p.Yc || !p.Yc.igb,DDa:this.te.DDa});z=x.parse({da:this.da});this.zmc=y.cT && x.D0b;if(z.Gw){(0,f.assert)(z.kh);this.jI=z.kh;this.kEb=z.yea;this.fYa=!!z.FTb;void 0 === this.da && void 0 === z.da && this.H.error("No frame duration available for " + this.Ta);x=z.da?new n.O(z.da):this.da;B=void 0;if(this.Cu.mediaType === g.u.J && (null === (t=y.AR) || void 0 === t?0:t.enabled))if(null === (w=this.Cu.Ms) || void 0 === w?0:w.length)B=this.Cu.Ms;else if((t=this.Cu.Ty.Ms,0 < (null === t || void 0 === t?void 0:t.length)))for((B=new Uint8Array(t.length),u=0);u < t.length;u++){B[u]=t[u].gb;}else if(null === (u=z.Jz) || void 0 === u?0:u.length)for((B=new Uint8Array(z.Jz.length),u=0);u < z.Jz.length;u++){B[u]=z.Jz[u];}this.stream.iea(z.kh,z.V,x,z.ma,z.gR,z.el,B,z.trackId);this.Nx=void 0;}else this.AXa=z.yHb || 0;return !!z.Gw;};v.prototype.wXa=function(t){this.Nx=this.Nx?(0,n.tB)(this.Nx,t):t;};v.U7b=new h.default.Console("MP4","media|asejs");return v;})(a.nia);b.qia=a;(0,c.hf)(m.x3,a,!1,!1);(0,c.hf)(r.EventEmitter,a);},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.x3=void 0;d=a(0);l=a(2);h=a(189);r=(function(n){function c(f,g,k){var m;m=n.call(this,f,g) || this;m.zS=!1;m.yy=!1;m.iR=!1;m.YE=!1;m.zu=void 0;c.Ebb(m,f,g,k);return m;}d.__extends(c,n);c.Ebb=function(f,g,k,m){h.kx.oa(f,g,k);f.jI=k.kh;f.Nx=k.SBa;f.fYa=k.Pm;f.H=m;};Object.defineProperties(c.prototype,{zc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{kh:{get:function(){return this.jI;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{SBa:{get:function(){return this.Nx;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Pm:{get:function(){return this.fYa;},enumerable:!1,configurable:!0}});c.prototype.wd=function(){};c.prototype.cHa=function(){};c.prototype.GHb=function(f){(0,l.assert)(this.Uc.Ta === f.Ta);!f.ve && this.Uc.ve && f.P9(this.Uc);!f.location && this.Uc.location && (f.location=this.Uc.location,f.ec=this.Uc.ec,f.IL=this.Uc.IL,f.url=this.Uc.url,f.Ib=this.Uc.Ib);this.Uc=f;};c.prototype.toJSON=function(){return d.__assign(d.__assign({},n.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.ma});};return c;})(h.kx);b.x3=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nia=void 0;d=a(0);d.__importDefault(a(3));l=a(2);r=(function(h){function n(c,f,g,k,m){c=h.call(this,c,f,g,k,m) || this;c.qYa=!1;c.pYa=!1;c.xV=!1;c.Ja=[];c.iq=!1;c.DZa=!1;c.MYa=!1;c.mf=!1;c.En=!1;c.gj=!1;c.pN=!1;c.WN=void 0;c.Px=void 0;return c;}d.__extends(n,h);Object.defineProperties(n.prototype,{kya:{get:function(){return this.iq && !this.xV;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{active:{get:function(){return this.mf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{nDa:{get:function(){return this.En;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{complete:{get:function(){return this.gj || (this.gj=this.Ja.every(function(c){return c.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aborted:{get:function(){return this.pN;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Yg:{get:function(){return this.Ja.reduce(function(c,f){return c + f.Yg;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bytesReceived:{get:function(){return this.Ja.reduce(function(c,f){return c + f.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xg:{get:function(){return this.WN || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{url:{get:function(){return this.Ja[0] && this.Ja[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{readyState:{get:function(){return this.Ki || this.Ja.reduce(function(c,f){return Math.min(c,f.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{status:{get:function(){return this.Px && this.Px.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fh:{get:function(){return this.Px && this.Px.Fh;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{KP:{get:function(){return this.Px && this.Px.KP;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Sj:{get:function(){return this.Px && this.Px.Sj;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{rw:{get:function(){return !!this.Ja.length && this.Ja[0].rw;},enumerable:!1,configurable:!0}});n.prototype.push=function(c){this.MYa && c.oa(this.Xa);this.Ja.push(c);this.iq && c.$K();};n.prototype.Gs=function(c){c=this.Ja.indexOf(c);-1 !== c && this.Ja.splice(c,1);};n.prototype.oa=function(c){h.prototype.oa.call(this,c);this.Ja.forEach(function(f){return f.oa(c);});this.MYa=!0;};n.prototype.$K=function(){this.DZa=!0;(this.iq=this.Ja.every(function(c){return c.$K();})) && this.EY(this);this.DZa=!1;return this.iq;};n.prototype.wd=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Ja.forEach(function(c){return c.wd();});};n.prototype.TG=function(c){var f;f=this;this.SDa();return this.Ja.every(function(g){(0,l.assert)(g.Cu === f.Ja[0].Cu);return 5 !== g.readyState && 7 !== g.readyState?g.TG(c):!0;});};n.prototype.abort=function(){var c,f,g;c=this.active;f=this.aborted;this.Ki=7;this.pN=!0;this.En=this.mf=!1;g=this.Ja.map(function(k){return k.abort();}).every(function(k){return k;});f || this.NP(this,c,this.kya);return g;};n.prototype.getResponseHeader=function(c,f){var g;g=null;this.Ja.some(function(k){return !!(g=k.getResponseHeader(c,f));});return g;};n.prototype.getAllResponseHeaders=function(c){var f;void 0 === c && (c=!1);f=null;this.Ja.some(function(g){return !!(f=g.getAllResponseHeaders(c));});return f;};n.prototype.rea=function(){};n.prototype.AC=function(c){this.mf || (this.mf=!0);this.qYa || (this.qYa=!0,this.xu=0,this.WN=this.Nw=c.xg,this.OP(this));};n.prototype.zC=function(c){this.En || (this.En=!0);this.pYa || (this.pYa=!0,this.WN=c.xg,this.jF(this));};n.prototype.YK=function(c){this.WN=c.xg;this.OJ(this);this.xu=this.bytesReceived;this.Nw=c.xg;};n.prototype.rl=function(c){this.WN=c.xg;this.complete?(this.gj=!0,this.Ki=5,this.En=this.mf=!1,this.xV=!0,this.$v(this)):this.OJ(this);this.xu=this.bytesReceived;this.Nw=c.xg;};n.prototype.v0=function(c){this.WN=c.xg;this.Px=c;this.Ki=6;this.oaa(this);};n.prototype.u0=function(){};n.prototype.Si=function(){return this.Ja[0].Si() + "-" + this.Ja[this.Ja.length - 1].Si();};n.prototype.toString=function(){return ("Compound[").concat(this.Ja.map(function(c){return c.toString();}).join(","),"]");};n.prototype.toJSON=function(){return {requests:this.Ja};};n.prototype.SDa=function(){this.Ki=this.Px=void 0;};return n;})(a(190).hH);b.nia=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oua=void 0;b.oua=function(a,d){for(var l,h,n=a.length - 1;0 <= n;--n){if((h=a[n],h.uw)){if(h.bitrate <= d)return n;l=n;}}return l;};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(1005),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uva=b.OHb=void 0;b.OHb=function(a){return a.jS;};b.Uva=function(a,d){return void 0 !== a.bR?a.bR:d && void 0 !== d.bR?d.bR:100;};},function(r,b,a){var h;function d(n,c){this.mEb=n.AR && n.AR.enabled;this.S7=void 0;this.aDb=c;this.Doa=[];this.Zoa=[];this.noa=[];n=n.a_a || [];c=n.map(function(f){return f.Ruc;});c.unshift(0);this.vEb=n;this.wEb=c;this.poa=[];this.sd=[];}function l(n,c){var v,t,w,u;for(var f=[],g=[],k=0;k < n.length;k++){for(var m=n[k],p=[],q=0;q < m.length;q++){v=m[q] - (g[q] || 0);t=c && c[q];w=p;u=w.push;1 <= t && (t=Math.pow(10,t || 0),v=Math.round(v * t) / t);u.call(w,v);}f.push(p);g=m;}return f;}h=a(31).wK;d.prototype.reset=function(n){this.S7=void 0;this.Doa=[];this.Zoa=[];this.noa=[];this.poa=[];n && (this.sd=[]);};d.prototype.add=function(n,c){var f,g,k,m;f=c.filter(function(p,q){return h(p) || q === n.ae;});g=f.map(function(p){return p.bitrate;});c=c[n.ae];f=f.indexOf(c);k=this.S7;if(k && (k.length !== g.length || k.some(function(p,q){return p !== g[q];}))){m=this.j9a();m && (this.sd.push(m),this.reset(!1));}void 0 === k && (this.S7=g);this.Doa.push([f,n.Ru,n.Fc,n.Gqa,n.e2a,n.P0,n.X8b,n.uf,n.Ej,n.il,n.VG - n.Ru,n.Vac]);void 0 !== n.tu && this.noa.push([n.Ru,n.tu.$C,n.tu.uB,n.tu.OC]);f=c && c.ma;this.mEb && void 0 !== f && (k=f.np(n.il),-1 != k && (f=f.get(k),k=f.duration,c=f.gb || c.gb,void 0 !== c && this.Zoa.push({ca:f.ca,duration:k,gb:c})));(c=n.sbc) && c.length && (c=c.slice(0),c.unshift(n.Ru),this.poa.push(c));};d.prototype.j9a=function(){var n,c;n=l(this.Doa);if(0 !== n.length){n={dltype:this.aDb,bitrates:this.S7,seltrace:n,vmaftrace:this.Zoa,paceratetrace:l(this.noa)};c=l(this.poa,this.wEb);c && c.length && (n.predtrace={config:this.vEb,data:c});return n;}};d.prototype.get=function(){var n,c;n=this.j9a();c=this.sd;n && c.push(n);if(0 !== c.length)return c;};r.exports=d;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.AKa=void 0;d=a(1020);r=(function(){function l(h){var q61;q61=2;for(;q61 !== 5;){switch(q61){case 2:var y_7="1SIYb";y_7+="Z";y_7+="r";y_7+="NJC";y_7+="p9";this.H=h;y_7;q61=5;break;case 3:this.H=h;"";q61=9;break;}}}var x2L;x2L=2;for(;x2L !== 3;){switch(x2L){case 4:return l;break;case 2:l.prototype.BAb=function(h,n){var X7q,c;X7q=2;for(;X7q !== 14;){switch(X7q){case 9:X7q=!h?8:7;break;case 8:return n;break;case 3:h=h.cdnResponseData;X7q=9;break;case 7:var t9S="using sab cell";t9S+=" >= 100, ";t9S+="pipelineEnabled";t9S+=": ";var l$N="u";l$N+="sing sab ";l$N+="cell >= ";l$N+="200, pipelineEnable";l$N+="d: ";var R_G=",";R_G+=" a";R_G+="llowSw";R_G+="i";R_G+="tchback";var b4O=", ";b4O+="probeDetail";b4O+="Denomi";b4O+="na";b4O+="tor: ";var l$E="using sab";l$E+=" cell >= 300, probeServe";l$E+="rWhenError: ";var S30=", ";S30+="all";S30+="owSwitchback";var r5U=",";r5U+=" probeD";r5U+="etail";r5U+="De";r5U+="nominator: ";var M$H="us";M$H+="ing";M$H+=" sab cell >= 400, ";M$H+="probeServ";M$H+="erWhenError: ";(h=h.sessionABTestCell) && (h=h.split(".")) && 1 < h.length && (h=parseInt(h[1].replace(/cell/i,""),10),400 <= h?(n.set?(n.set({probeServerWhenError:!0}),n.set({probeDetailDenominator:1}),n.set({allowSwitchback:!0})):(n.Ow=!0,n.NR=1,n.YA=!0),this.H.trace(M$H + n.Ow + r5U + n.NR + S30 + n.YA)):300 <= h?(n.set?(n.set({probeServerWhenError:!0}),n.set({probeDetailDenominator:1}),n.set({allowSwitchback:!1})):(n.Ow=!0,n.NR=1,n.YA=!1),this.H.trace(l$E + n.Ow + b4O + n.NR + R_G + n.YA)):200 <= h?(n.set?n.set({pipelineEnabled:!1}):n.qj=!1,this.H.trace(l$N + n.qj)):100 <= h && (n.set?(n.set({pipelineEnabled:!0}),n.set({maxParallelConnections:1}),n.set({maxActiveRequestsPerSession:n.Xca}),n.set({maxPendingBufferLen:n.dfb})):(n.qj=!0,n.SQ=1,n.Vy=n.Xca,n.eda=n.dfb),this.H.trace(t9S + n.qj)));return n;break;case 4:var s10="applying manifest bas";s10+="ed stre";s10+="am";s10+="ingClientConfig";return (h=c.streamingClientConfig,this.H.trace(s10 + JSON.stringify(h)),this.EZa(n,h));break;case 5:X7q=c && c.streamingClientConfig && Object.keys(c.streamingClientConfig).length?4:3;break;case 2:n=(0,d.Y3a)(n,h);c=h.steeringAdditionalInfo;X7q=5;break;}}};l.prototype.CAb=function(h,n){var L7N;L7N=2;for(;L7N !== 9;){switch(L7N){case 2:L7N=!n.dsa || h === this.GCb?1:5;break;case 1:return n;break;case 6:return n;break;case 5:this.GCb=h;for(var c in n.dsa){new RegExp(c).test(h) && (n=this.EZa(n,n.dsa[c]));}return n;break;}}};l.prototype.EZa=function(h,n){var s_J,c,f,g;s_J=2;for(;s_J !== 4;){switch(s_J){case 2:for(f in n){if(n.hasOwnProperty(f)){var E75="I";E75+="nva";E75+="lid key";g=n[f];h.set?0 === h.set((c={},c[f]=g,c)) && this.H.trace(E75 + f):h[f]=g;}}return h;break;}}};x2L=4;break;}}})();b.AKa=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.NOa=b.T5=void 0;d=a(0);l=a(11);h=d.__importStar(a(13));n=d.__importDefault(a(94));c=a(6);f=a(270);g=a(20);r=a(35);k=d.__importDefault(a(3));m=a(1025);p=a(442);(function(v){v[v.bWb=0]="forwards";v[v.lqa=1]="backwards";v[v.mR=2]="none";})(q=b.T5 || (b.T5={}));a=(function(v){function t(w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I){var M,H,J;M=this;M=v.call(this,void 0,u,x,D.P,w,D,void 0,E,K,g.O.Na(G),A.fg.bind(A),F,I,void 0,new l.EventEmitter(),void 0) || this;M.Eb=w;M.Cj=y;M.Mc=z;M.ina=B;M.X=A;M.kO=C;M.sj=F;M.MY=O;M.ci=L;M.Bj=I;M.active=!1;M.DYa=[];M.roa=0;null === (H=M.P) || void 0 === H?void 0:H.sDa(M);M.children=Object.create(null);M.Bz=[];M.Pe=void 0;void 0 === K && (K=g.O.Na(D.ca));J=[M.K.r1a,M.K.SFa];E.forEach(function(N){var P;P=N.mediaType;N=new p.kka(w,M.Cj,M.H,M,N,K.Z,J[P],u,M.ina,M.ci,null === F || void 0 === F?void 0:F.fb(P));M.pf.wgc(P,N);});M.Xx=M.pf.$ea;return M;}d.__extends(t,v);Object.defineProperties(t.prototype,{L:{get:function(){return this.P.L;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{oo:{get:function(){var w,u,y,x;return [null !== (u=null === (w=this.fb(0)) || void 0 === w?void 0:w.oo) && void 0 !== u?u:0,null !== (x=null === (y=this.fb(1)) || void 0 === y?void 0:y.oo) && void 0 !== x?x:0];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ap:{get:function(){var w,u,y,x;return [null !== (u=null === (w=this.fb(0)) || void 0 === w?void 0:w.ap) && void 0 !== u?u:{Z:0,ha:0},null !== (x=null === (y=this.fb(1)) || void 0 === y?void 0:y.ap) && void 0 !== x?x:{Z:0,ha:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cga:{get:function(){return this.G.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{rCa:{get:function(){return this.cga + this.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Oc:{get:function(){return this.G.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{bg:{get:function(){return this.Oc + this.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ac:{get:function(){return this.P.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{weight:{get:function(){return this.G.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G:{get:function(){return this.mq;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{jm:{get:function(){return this.pf;},enumerable:!1,configurable:!0}});t.prototype.he=function(){var w;this.Uf || (this.active=!1,this.sj && (delete this.sj.children[this.G.id],this.sj=void 0),h.tg(this.children,function(u){u && u.sj && (u.sj=void 0);}),this.children=Object.create(null),this.BN=void 0,v.prototype.he.call(this),null === (w=this.P) || void 0 === w?void 0:w.TGa(this),this.pf.clear());};t.prototype.VDa=function(w,u){void 0 === u && (u=q.lqa);this.jm.forEach(function(y){(h.xa(w) || y.mediaType === w) && y.reset();});switch(u){case q.lqa:this.sj && this.sj.VDa(w,u);break;case q.bWb:this.children && h.tg(this.children,function(y){y && y.VDa(w,u);});}};t.prototype.vQ=function(w){var u,y,x;if(!this.active)return !1;u=this.sj;if(u){y=u.fb(w);x=y.Xa.kib;if(0 !== x && (u.HO(w),x=y.Xa.kib,0 !== x))return !1;}return !0;};t.prototype.Ae=function(w){return this.jm.get(w);};t.prototype.F0b=function(){return this.jm.every(function(w){return 0 === w.TC;});};t.prototype.toJSON=function(){return d.__assign(d.__assign({},v.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Nd,playerEndPts:this.bg,pipelines:this.jm,previousBranch:this.sj});};t.prototype.Lmb=function(w,u){this.P.TGa(this);this.P=this.G.P=w;this.aFa(this.P);this.P.sDa(this);this.jm.forEach(function(y){var x;x=u[y.mediaType];x && y.O1(x);});};t.prototype.AZb=function(w){return this.Bj[w];};t.prototype.fb=function(w){return this.jm.get(w);};t.prototype.UZb=function(w){return this.fb(w).TC;};t.prototype.ymb=function(w,u){var y,x,z,B,A;y=void 0;x=this;z=this.G;w=this.v9(z.ca,this.P,w,this.L === (w?w.L:this.Mc.od.L));B=w.PR;A=w.MB;void 0 === y && (y=[c.u.U,c.u.J]);0 === A.length || y.forEach(function(C){var D,E;D=x.fb(C);u && (D.pd=A[C]);E=x.wY(z.Sa);D.oga(E[C]);});return B;};t.prototype.xy=function(w,u){if(u=this.fb(u))return u.Xa.xy(w);};t.prototype.HO=function(w){void 0 === w?this.jm.forEach(function(u){u.HO();}):this.fb(w).HO();};t.prototype.Y0=function(w,u,y){(w=this.fb(w)) && w.Xa.Y0(u,y);};t.prototype.cba=function(w,u){(u=this.fb(u)) && u.Xa.cba(w);};t.prototype.m6b=function(w){this.DYa[w]=!0;};t.prototype.pLb=function(){var w;w=this;return [c.u.U,c.u.J].every(function(u){return !w.Ac(u) || w.DYa[u];});};t.prototype.kLb=function(w,u,y,x){var z,B,A,C,D,E,G,F,K;z=this.K;B=this.Eb;A=this.X.getState();C=A === c.Ma.ce || A === c.Ma.bh;if(!C && void 0 === y)return {Og:!0};if(A === c.Ma.bh && k.default.time.fa() < this.roa + z.BAa)return {Og:!1};D=this.fb(c.u.U);E=this.fb(c.u.J);G=this.Mc.my(this,c.u.U);F=this.Mc.my(this,c.u.J);K=(0,f.Oea)(A);G=!D || D.N2a(K,this.X.fg(),u,G,this.X.Tt(),x);F=!E || E.N2a(K,this.X.fg(),w,F,this.X.Tt(),x);void 0 !== y && G && (y=y.trackId,w=this.P.getTrackById(y),this.IAb(y,w.$G),B.UI=void 0);if(G && F)return (this.kO(),this.eX=k.default.time.fa(),A === c.Ma.bh && (this.roa=k.default.time.fa()),{Og:!0,Jv:E?E.YI:D.YI});G=this.Rh(c.u.U);F=this.Rh(c.u.J);if(C){B=!E || F > z.Dk;if((!D || G > z.Dk) && B && (D=this.MY(),D >= z.HC))return (this.bc("buffering longer than limit: " + D + " >= " + z.HC + ", audio buffer: " + G + " ms, video buffer: " + F + " ms"),this.kO(),this.eX=k.default.time.fa(),A === c.Ma.bh && (this.roa=k.default.time.fa()),{Og:!0,Jv:"prebufferTimeLimit"});this.Cj.uDb();}return {Og:!1};};t.prototype.pra=function(w,u){var y,x,z,B,A,C;y=this.K;x=this.fb(c.u.U);z=this.fb(c.u.J);u?(u=this.Rh(c.u.U,w),w=this.Rh(c.u.J,w)):(u=this.Mc.my(this,c.u.U,w),w=this.Mc.my(this,c.u.J,w));B=y.Dk;A=!this.Ac(c.u.U) || x.cj && 0 === x.Xa.jG && 0 === x.Xa.Su;x=!this.Ac(c.u.J) || z.cj && 0 === z.Xa.jG && 0 === z.Xa.Su;C=A && x;y=!A && u < y.Dk;if(!C && (y || !x && w < B))return !1;if(z && z.Og || !this.Ac(c.u.J))return !0;if(C)if(this.Eb.z7 && 0 === u && 0 === w)this.bc("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};t.prototype.kga=function(w,u){var y,x;y=this;x=this.K;this.jm.forEach(function(z){z.seeking=void 0;});w && x.mj && this.jm.forEach(function(z){var B;if(z){B=y.Mc.bJ(y,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.ap.ha + ", completedMs: " + z.ZO + ", completedBytes: " + B + ", partials: " + z.Xa.jG + ", streamingPts: " + z.Fc + ", completeStreamingPts: " + z.Gt + ", fragments: " + JSON.stringify(z.Xa.ma) + ", toAppend: " + u(z.mediaType);y.Cj.io(z);}});};t.prototype.xz=function(w,u,y){var x,z,B;x=this;z=k.default.time.fa();B={};h.tg(this.children,function(A){var C,D,E,G;if(A){if(A.Pe){A.Pe.jSb=z - A.Pe.Tba;A.Pe.Tba=void 0;C=A.Pe.weight;}else C=x.Mc.S$a(x.G.id,A.G.id);D=A.NB();E=x.fb(c.u.U) && 0 === D.st;G=x.fb(c.u.J) && 0 === D.Op;B[A.G.id]={weight:C,Dt:D,vZ:!E && !G};}});y={Is:z,Se:w,Qsa:y,Ega:this.G.id,Pe:B};w || (w=u.fg(),y.AS=w - (this.G.ca + this.qg),y.AS=Math.max(0,y.AS),y.n$=0,y.startTime=z);this.Bz.unshift(y);return y;};t.prototype.AMb=function(w){var u,y;u=this.Bz[0];u.Se && (u.AS=this.Oc - this.G.ca,u.AS=Math.max(0,u.AS));u.lpb={};y=w.NB();(0,n.default)(y,u.lpb);u.vZ=w.ap.every(function(x){return 0 < x.Z;});this.Bz=[];return u;};t.prototype.uo=function(w){var u;u=this.G;w-=this.qg;if(u.ca < w && w < u.Sa)this.Bz.shift();else if(u=this.Bz[0])u.uo=!0;};t.prototype.v9=function(w,u,y,x){var z,B,A,C;z=this;void 0 === u && (u=this.P);B=!1;if(y){B=!0;A=y.fb(c.u.J).Xd;y=y.fb(c.u.U).Xd;if(!A || !y)return {PR:[],MB:[]};A=A.Sa;x || (A=void 0);}C=this.F7a(w,A,B,u);u.Ub === this.Mc.aQb && [c.u.J,c.u.U].forEach(function(D){var E;E=z.fb(D);E && (E.pd=C[D]);});return {PR:C.map(function(D){return D.ca;}),MB:C};};t.prototype.F7a=function(w,u,y,x){var z;z=this;void 0 === x && (x=this.P);return this.K_a(x)?[c.u.J,c.u.U].map(function(B){var A;if(!z.Ac(B))return {};A=x.oj[B];B=z.fb(B).mp(A.stream,w,u,y);w=B.ca;return B;}).reverse():[];};t.prototype.wY=function(w,u){var y;y=this;void 0 === u && (u=this.P);return this.K_a(u)?[c.u.J,c.u.U].map(function(x){var z;if(!y.Ac(x))return {};z=u.oj[x].stream;x=y.fb(x).LB(z,w);w=y.K.Wh?new g.O(x.lb,z.da.V).Z:x.Sa;return x;}).reverse():[];};t.prototype.Hlc=function(w,u){var y;y=this.G.Sa;y && y < u && (w=this.wY(y));u=this.Ae(c.u.J);y=this.Ae(c.u.U);u && u.oga(w[c.u.J]);y && y.oga(w[c.u.U]);};t.prototype.K_a=function(w){var u;u=w.oj;if(!u)return !1;w=u[c.u.J];w=!this.Ac(c.u.J) || w && w.stream.ve;u=u[c.u.U];u=!this.Ac(c.u.U) || u && u.stream.ve;return w && u?!0:!1;};t.prototype.IAb=function(w,u){this.Cj.sDb(w,u);};return t;})(m.SOa);b.NOa=a;(0,r.hf)(l.EventEmitter,a);},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.kka=void 0;d=a(0);r=a(443);l=d.__importDefault(a(29)).default.ee;h=a(429);n=a(6);c=d.__importDefault(a(3));f=a(195);g=a(2);k=a(20);m=a(196);p=a(1059);a=(function(q){function v(t,w,u,y,x,z,B,A,C,D,E){u=q.call(this,y,A,u,y,y,x,k.O.Na(z),B,!1,function(){return null === E || void 0 === E?void 0:E.De;}) || this;u.Eb=t;u.Cj=w;u.Dh=C;u.ci=D;u.Dqa=0;u.iF=[];u.xA=!1;u.lq.oqb=!1;u.vV=new p.OOa(y,u.ci,A,u.H,u.mediaType,u.Cj,u.Xa,u.Eb);u.w4b=c.default.time.fa();u.n4b=void 0;u.MK=A.Jxa;u.ejb=c.default.time.fa();w=(0,f.$P)(A);t=w.O0;w=w.lL;u.rbc=u.mediaType === n.u.U?t:w;u.O1(x);return u;}d.__extends(v,q);Object.defineProperties(v.prototype,{tt:{get:function(){return this.Xa.tt;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ZO:{get:function(){return this.Xa.ZO;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ME:{get:function(){return this.Xa.ME;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{TC:{get:function(){return this.Xa.TC;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{cj:{get:function(){return this.vV.cj;},set:function(t){this.vV.cj=t;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Vs:{get:function(){return this.vV.Vs;},set:function(t){this.vV.Vs=t;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kca:{get:function(){return this.re;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{D1:{get:function(){return this.$j.D1;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{e_b:{get:function(){return this.Eb.xoa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Og:{get:function(){return this.xA;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{YI:{get:function(){return this.LXa;},enumerable:!1,configurable:!0}});v.prototype.reset=function(){this.seeking=void 0;this.connected=this.cj=!1;this.lq.reset();};v.prototype.he=function(){this.reset();q.prototype.he.call(this);};v.prototype.LB=function(t,w){return (0,h.LB)(this.al.mediaType,this.K,t,w,this.Wh,this.Eb.a7b);};v.prototype.mp=function(t,w,u,y){return (0,h.mp)(this.al.mediaType,this.K,t,w,u,y);};v.prototype.uo=function(){this.MK=this.K.Jxa;};v.prototype.HO=function(){this.Xa.lha();};v.prototype.O1=function(t){var w,u;w=this.Eb;u=this.mediaType;(0,g.assert)(t.mediaType === u);(0,g.assert)(t.P === this.Ya.P);this.al=t;this.Ya.P.bHa(u,t.Rc);w.kCb(this,t.Xm);this.vKb(t.Rc);this.De.O1(t);this.Ya.P.Cra();this.cj=!1;};v.prototype.mua=function(t){var w;w=this.Ya.P.oj[this.mediaType];if(w && w.stream.ve && (t=w.stream.ma.np(t),-1 !== t))return t;};v.prototype.rS=function(t,w){var u,y,x;if(this.pd && this.pd.ca === t){w=this.pd.index;u=t;}else {y=this.Ya.P;x=y.oj[this.mediaType];if(!x || !x.stream.ve){this.eL=t;this.mac=w;return;}u=x.stream.ma;this.pd=this.mp(x.stream,t,void 0,w);if(void 0 === this.pd){if((w=u.length - 1,u=u.Dl(w),this.bc("setStreamingPts out of range of fragments, pts:",t,"last startPts:",u,"fragment index:",w,"fastplay:",y.$f.ug),y.$f.ug)){this.eL=t;return;}}else (w=this.pd.index,u=this.pd.ca);}this.$m=w;this.pO=u;this.eL=void 0;};v.prototype.Omc=function(t){var w,u;w=this.al.Gy(t);u="verifying streamId: " + t + " stream's track: " + (w?w.Ta:"unknown") + " currentTrack: " + this.al.trackId;return w?!0:(this.Cj.io(u),this.Cj.io("unknown streamId: " + t),!1);};v.prototype.vKb=function(t){this.$0b=t.reduce(function(w,u){return u.uw && u.bitrate > w.bitrate?u:w;},t[0]);};v.prototype.oga=function(t){this.Xd=t;};v.prototype.b6b=function(t,w,u,y,x){this.tpb(t,w,y,x);u && ++this.Dqa;this.Eb.Pl();};v.prototype.AC=function(t){t.Sa && t.ca && (this.MK-=t.Sa - t.ca);q.prototype.AC.call(this,t);};v.prototype.rl=function(t){this.xab(t);this.$v(t);};v.prototype.Mlc=function(t){var w;w=c.default.time.fa();this.MK+=t * (w - this.ejb);this.ejb=w;};v.prototype.Qec=function(){this.MK=this.K.Jxa;};v.prototype.VO=function(t){this.Xa.kra();this.Wh || this.vV.VO(t,this.Oc);};v.prototype.xab=function(t){var w,u,y;u=this.Kca;y=this.Eb;this.Dh.u_a() || (this.Cj.RDb(t.mediaType,t.P.Ub,t.stream.track.VA,this.Gt,this.S),null === (w=this.Wh) || void 0 === w?void 0:w.U1b(t),w=u.X.fg() || 0,y.Pb.zA() || (u=u.fb(l.J)) && !u.Og && u.xba && y.Pb.swa(u),this.VO(w),this.Eb.wab(t),this.Dh.I6(this) && this.Dh.Pl());};v.prototype.EBa=function(t){this.Eb.rba(t);};v.prototype.N2a=function(t,w,u,y,x,z){var B,A;B=this.K;A=B.Dk;if(u >= B.Dk && (B.Dfa && (A=u + 1E3),B.Efa && !this.connected))return !1;if(this.Wh)return this.Wh.lB();u=this.cj && 0 === this.Xa.RBa && 0 === this.Xa.Su;return !u && y < A?!1:u?z && 0 === y?(this.bc("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.ALb(t,w,x);};v.prototype.Ogc=function(t){this.pO=t;};v.prototype.kga=function(t){this.xA=!0;this.LXa=t;};v.prototype.Ara=function(){this.xA=!1;this.LXa=void 0;};v.prototype.ALb=function(t,w,u){var y;if(this.Og || this.mediaType === n.u.U)return !0;if(void 0 === this.Vm)return !1;w=this.VBb(w,t);this.track.P.Ak.L2(this.track.P.N,this.track.Rc);y=new m.UU();y.HW([this.Vm]);this.$j.ACa(y,!1,(0,n.Nea)(t),w,this.rbc);t=this.$j.lB(w,t,u,this.Vm,this.Ya.P.zq);t.complete?this.kga(t.reason):(this.Ara(),this.WF=t.WF,this.progress=t.progress);return this.Og;};v.prototype.VBb=function(t,w){var u,y,x,z,B;z=c.default.Iq()[this.mediaType];B=this.Xa.cba();t={Et:z,ca:null !== (u=B.Nd) && void 0 !== u?u:0,Pc:t,Fc:null !== (y=B.FR || t) && void 0 !== y?y:0,nk:null !== (x=B.sX || t) && void 0 !== x?x:0,Yg:B.Yg,Uj:B.Uj,Gp:B.Gp,n8a:B.ma.length,ma:B.ma};"number" !== typeof t.ca?(t.ca=0,t.Fc=0):w === n.cd.ce && t.Pc !== t.ca && (t.Pc=t.ca);return t;};return v;})(r.mla);b.kka=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.mla=void 0;d=a(0);l=a(11);h=a(1026);n=a(92);c=a(1027);f=a(6);g=a(1029);k=a(1035);m=a(193);p=a(272);q=a(8);v=a(2);t=a(20);w=d.__importDefault(a(3));r=a(78);u=a(35);y=a(448);x=a(118);z=a(133);a=(function(B){function A(C,D,E,G,F,K,O,L,I,M,H,J,N){var P;P=B.call(this,C) || this;P.K=D;P.re=F;P.al=K;P.vCb=O;P.Vx=J;P.$p=N;P.events=new l.EventEmitter();P.connected=!1;P.Pwa=!1;P.An=!1;P.raa=new c.lRa(P.mediaType,D,E,P);C="[" + P.mediaType + "]";P.H=(0,q.ri)(w.default,E,C);P.Ll=P.H.error.bind(P.H);P.bc=P.H.warn.bind(P.H);P.ik=P.H.trace.bind(P.H);P.pO=O.Z;"string" === typeof L || void 0 === L?(E=D.gY || P.mediaType === f.u.U && D.dY || P.mediaType === f.u.J && D.eY,P.Ooa=new p.hma(L,D,new m.e6(M),E)):P.Ooa=L;P.Fm=new h.USa(P,G,P.K,P.H,P.mediaType);P.lq=new g.NUa(P,D,P.H,P.Fm,P.re,P.mediaType,P.Vx,function(){return P.Yj;});D.Wh && (P.Wh=new k.IVa(D.Wh,P.H));I && (P.gf=null !== H && void 0 !== H?H:(0,y.Kt)(P.mediaType,P.track.P,P.K,P.H,P.track.qa,P.Fm.aWb.bind(P.Fm),P.Fm.$Vb.bind(P.Fm),function(){}),P.gf.on("created",function(){return P.events.emit("requestQueueCreated");}));return P;}d.__extends(A,B);Object.defineProperties(A.prototype,{mediaType:{get:function(){return this.al.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{track:{get:function(){return this.al;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ya:{get:function(){return this.re;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{S:{get:function(){return this.re.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Xa:{get:function(){return this.lq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Rc:{get:function(){return this.al.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ap:{get:function(){return this.lq.ap;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{oo:{get:function(){return this.lq.oo;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Fc:{get:function(){return this.pO;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Hga:{get:function(){var C;return null !== (C=this.Ed) && void 0 !== C?C:this.$t;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{rX:{get:function(){var C;return null !== (C=this.Xa.rX) && void 0 !== C?C:this.Hga;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{gpa:{get:function(){return this.Xa.rX;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Gt:{get:function(){return this.Xa.Gt;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Rra:{get:function(){return this.Xa.Rra;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{l4b:{get:function(){var C;C=this.Xa.udb;return null === C || void 0 === C?void 0:C.xd;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vw:{get:function(){return !!this.Xd && (this.$m > this.Xd.index || this.pO >= this.Xd.Oc);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Gj:{get:function(){return this.vw && 0 === this.lq.jG;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{THb:{get:function(){return !!this.Xa.udb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{tt:{get:function(){return this.Xa.tt;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hr:{get:function(){return this.Qc?t.O.max(this.Qc.Fa(this.QG),t.O.Oa):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{KJ:{get:function(){return this.Ya.KJ;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{R4a:{get:function(){return this.Xa.ma.Nt;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{$j:{get:function(){return this.Ooa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{De:{get:function(){return this.$j.De;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Vm:{get:function(){return this.$j.De.Vm;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{V:{get:function(){var C,D;return null !== (D=null === (C=this.pd) || void 0 === C?void 0:C.V) && void 0 !== D?D:1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{$a:{get:function(){var C;return null === (C=this.pd) || void 0 === C?void 0:C.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{lb:{get:function(){var C;return null === (C=this.Xd) || void 0 === C?void 0:C.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Yj:{get:function(){return this.Ya.Ud.Ue(this.V).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{xba:{get:function(){return this.Xa.xba;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{yz:{get:function(){return this.Xa.yz;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{JFa:{get:function(){return this.Xa.JFa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{$t:{get:function(){return this.vCb.add(this.Ya.Ud);},enumerable:!1,configurable:!0}});A.prototype.tW=function(){var C;C=this;this.lq.tW(void 0,function(D){var E;E=D[0];D=E.ue;E=E.index;E < C.$m && C.LL(D,E);});};A.prototype.reset=function(){this.Xa.reset();this.pd && this.LL(this.pd.ue,this.pd.index);this.gf && this.Ya.P.vO(this.mediaType,this.gf);};A.prototype.he=function(C){var D;this.An=!0;this.lq.he(C);null === (D=this.Ooa) || void 0 === D?void 0:D.De.Wa();this.gf && (this.Ya.P.vO(this.mediaType,this.gf),x.Fo.instance.uJ(this.gf),this.gf.removeAllListeners(),this.gf=void 0);};A.prototype.toJSON=function(){return {started:this.yz,startOfSequence:this.JFa,segmentId:this.S,requestedBufferLevel:this.oo,viewableId:this.re.P.N,hasFragments:this.xba};};A.prototype.wm=function(C){return this.Xa.wm(C);};A.prototype.LL=function(C,D){this.pO=C;this.$m=D;};A.prototype.Fy=function(){return this.Xa.Fy();};A.prototype.bF=function(){this.Xa.close();};A.prototype.NE=function(C){return (C=this.Xa.xy(C.Z))?C.complete:!1;};Object.defineProperties(A.prototype,{yi:{get:function(){return this.re.yi;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{QG:{get:function(){var C,D,E,G;return null !== (G=null !== (C=this.Xa.QG) && void 0 !== C?C:null === (E=null === (D=this.pd) || void 0 === D?void 0:D.cc) || void 0 === E?void 0:E.add(this.Ya.Ud)) && void 0 !== G?G:this.$t;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Rnb:{get:function(){return t.O.Na(this.pO);},enumerable:!1,configurable:!0}});A.prototype.upb=function(C,D,E){var G;(0,v.assert)(this.gf);(0,v.assert)(!this.An,"pipeline.tryIssueRequest on disabled pipeline");if(!C.ve)return (C=C.bH(this.gf))?{Nj:C,reason:"success"}:{Nj:C,reason:"pipelineTryIssueHeaderRequest"};if(C.qa)((0,v.assert)(this.track.qa,"Unexpected live stream."),C=this.blc(C,this.gf,E));else {G=C.Paa();(0,v.assert)(G,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(C.ve,", headerFragments:").concat(G));C=this.tpb(C,G,this.gf,D,E,!1);}this.O2a();return C;};A.prototype.Yba=function(C,D){C && (this.pd=C);D && (this.Xd=D);(0,v.assert)(this.pd);(0,v.assert)(this.Xd);(0,v.assert)(void 0 === this.$m);this.LL(this.pd.ue,this.pd.index);};A.prototype.truncate=function(C){var D;D=this;(0,v.assert)(this.pd,"expected first fragment to exist on updateStreaming");this.Xd=C;this.vw && (C=d.__read(this.lq.kGb(C),2),this.LL(C[0],C[1]),this.bu() && (this.Xa.gmb(),this.Xa.kra(),Promise.resolve(function(){D.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:D.mediaType});})));};A.prototype.MF=function(){return this.bu()?!1:this.Hh()?!0:this.track.Kda;};A.prototype.Hh=function(){return void 0 !== this.pd && void 0 !== this.Xd;};A.prototype.bu=function(){return this.An || this.vw;};A.prototype.Dcb=function(){var C,D,E;E=this.K.qj;if(null === (C=this.gf) || void 0 === C?0:C.track)E=null === (D=this.gf) || void 0 === D?void 0:D.track.qj;return E;};Object.defineProperties(A.prototype,{cjb:{get:function(){var C;C=!0;this.K.Efa && (C=this.connected);this.K.Dfa && (C=C && this.Pwa);return C;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{y$b:{get:function(){return void 0 !== this.Wh;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Fhb:{get:function(){var C;return (null === (C=this.Wh) || void 0 === C?0:C.lB())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});A.prototype.rl=function(C){this.Fm.F8b(C);"oncomplete" === this.K.Bbb && (this.Pwa=!0);this.$v(C);};A.prototype.AC=function(C){C.zc || this.Fm.Sgb(C.stream,C.ca,C.ue);this.Fm.B8b(this.S,C.stream,C.zc);this.OP(C);};A.prototype.zC=function(C){C.x8 || (this.connected=!0);"onfirstbyte" === this.K.Bbb && (this.Pwa=!0);this.jF(C);};A.prototype.I9a=function(C){var D,E;D=this.Xa.ma;if(0 === D.length)return {ma:[],zea:0,Uj:0,Gp:0};E=D.LP(C.Z);0 > E && (E=void 0 === D.ca || C.Z <= D.ca?0:D.length);return {ma:D.Xfc(E),zea:Math.max(0,D.H3a - E),Uj:D.Uj,Gp:D.Gp};};A.prototype.oF=function(){return this.track.oF();};A.prototype.Klc=function(){this.wm(!0);};A.prototype.tpb=function(C,D,E,G,F,K){var O,L,I,M,H,J,N,P,X,V;void 0 === K && (K=!0);N=this.re;P=N.P;X=this.mediaType;V=this.$m;if(V >= D.length)return (this.bc("makeRequest nextFragmentIndex:",V,"past fragments length:",D.length),{Nj:!1,reason:"insufficientFragments"});if(!this.pd || !this.Xd)return (this.bc("makeRequest delayed, first or last fragment not set","first:",!!this.pd,"last:",!!this.Xd),{Nj:!1,reason:"noFirstOrLastFragment"});D=X === f.u.U && !!this.K.VC && (null === (O=this.Ya.G.G) || void 0 === O?void 0:O.Vv) && this.pd.Xn < this.K.VC && void 0 !== this.pd.La;O=X === f.u.U && !!this.K.VC && (null === (L=this.Ya.G.G) || void 0 === L?void 0:L.$r) && this.Xd.Xn < this.K.VC && void 0 !== this.Xd.La;L=this.raa.H9a(C,V,D,O);if(X === f.u.U && this.K.VC){if(null === (I=this.Ya.G.G) || void 0 === I?0:I.Vv)L.cs?L.omb():L.index === this.pd.index + 1 && this.pd.Xn < this.K.VC && void 0 !== this.pd.La && L.omb(this.pd.La.end - this.pd.La.start);if(null === (M=this.Ya.G.G) || void 0 === M?0:M.$r)L.Um?L.pmb():L.index === this.Xd.index - 1 && this.Xd.Xn < this.K.VC && void 0 !== this.Xd.La && L.pmb(this.Xd.La.end - this.Xd.La.start);}if(this.$p && !this.$p.sLb(this.mediaType,L.ha))return {Nj:!1,reason:this.mediaType === f.u.J?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.Mya=L.region;L.WC=F;null === (H=this.Wh) || void 0 === H?void 0:H.W1b(L,C);L.Um && X === f.u.J && this.Fm.goa(N.G,L.Sa);this.K.TQ && (L.TQ=this.K.TQ);void 0 !== C && (L.location=C.location,L.bd=C.ec,L.PEa=C.Fu);(F=N.P.uga) && "OPEN_CONNECT_APPLIANCE" === C.Gu && (I=this.K.oTb && this.mediaType === f.u.J && this.K.qj,L.t1=this.K.gY || X === f.u.U && this.K.dY || X === f.u.J && this.K.eY?G:void 0,L.vga=F.Nv({FE:N.Rh(this.mediaType),Tda:this.K.jTb?this.K.Tda:void 0,Tob:String(w.default.time.fa()),Ohb:G,uqa:I?{start:L.offset,size:L.ha}:void 0}));w.default.time.fa();E=this.Xa.A4a(L,E,C);if(!E.$K()){this.bc("MediaRequest.open error: " + E.Fh + " native: " + E.Sj);if(7 === E.readyState)return {Nj:!1,reason:"requestAborted"};this.bc("makeRequest caught:",E.Fh);P.ig("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Nj:!1,reason:"openAseMediaRequest"};}null === (J=this.Wh) || void 0 === J?void 0:J.KTb(E,L,C);this.Fm.G8b(E);this.LL(E.Oc,L.jR);K && this.O2a();return {Nj:!0,reason:"success"};};A.prototype.blc=function(C,D,E){var G,F,K,O,L,I,M,H,J,N;K=this.re;O=K.P;L=this.$m;I=C.V;M=C.Gq();H=M.DS;J=M.Nt.Ue(I);H=J.$y(L - H);J=H.add(J);if(J.Z > M.W4a)return {Nj:!1,reason:"exceedsLiveEdge"};if((M=L === (null === (G=this.Xd) || void 0 === G?void 0:G.index)) && this.mediaType === f.u.U && (G=this.Ya.fb(f.u.J)) && G.Xd)N=G.Xd.Oc;E={pj:L,index:L,$a:H.Ca,lb:J.Ca,V:I,offset:0,ha:0,WC:E,cs:L === (null === (F=this.pd) || void 0 === F?void 0:F.index),Um:M,IG:{Ge:K.G.rva(),$Z:K.G.Lu},zz:N};C=this.Xa.A4a(E,D,C);if(!C.$K()){this.bc("MediaRequest.open error: " + C.Fh + " native: " + C.Sj);if(7 === C.readyState)return {Nj:!1,reason:"requestAborted"};this.bc("makeRequest caught:",C.Fh);O.ig("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Nj:!1,reason:"openAseMediaRequest"};}this.LL(J.Z,this.$m + 1);return {Nj:!0,reason:"success"};};A.prototype.O2a=function(){this.bu() && (this.Xa.gmb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return A=d.__decorate([z.RJ],A);})(n.jx);b.mla=a;(0,u.hf)(r.Oz,a);(0,u.hf)(r.bv,a);},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ria=void 0;d=a(0);l=d.__importDefault(a(3)).default.ur;a(8);h=a(2);n=a(191);c=a(160);f=a(445);g=a(93);r=(function(k){function m(p,q,v,t,w,u,y,x,z){q=k.call(this,p,t,w,q,u,z) || this;q.tCb=("AseLiveTextAndVideoMediaRequest(").concat(q.ue,"-").concat(q.Oc,")");(0,h.assert)(t.pj);q.MV=t.pj;w=l.Yc && !l.Yc.eS.hN?0:1;w=d.__assign(d.__assign({},t),{responseType:w});p=new c.wM(p,v,w,q,!1,q.te,q.H,q.Waa);q.push(p);y=y.Rc[0];x=x.track;t=d.__assign(d.__assign({},t),{responseType:0,$a:q.cc.Ue(y.V).Ca,lb:q.xd.Ue(y.V).Ca,V:y.V});t=new f.sia(y,x,t,q,q.te,q.H);q.push(t);return q;}d.__extends(m,k);m.prototype.TG=function(){var p;p=this;this.SDa();return this.Ja.every(function(q){var v;if(5 === q.readyState || 7 === q.readyState)return !0;v=q.stream.bQ(p.zc,p.MV);return q.TG(v);});};m.prototype.rl=function(p){n.av.prototype.rl.call(this,p);};m.prototype.BC=function(p,q,v){n.av.prototype.BC.call(this,p,q,v);};m.prototype.Qr=function(p,q,v){var t,w,u;if(this.ud)return {status:g.jg.Pp};if(!this.uk())return {status:g.jg.mg};t=this.Ja[0];if(t.uk()){w=t.Qr(p,q,v);if(w.status === g.jg.mg)return w;}u=this.Ja[1];if(u.uk() && (w=u.Qr(p,q,v),w.status === g.jg.mg))return w;this.ud=t.ud && u.ud;return {status:this.ud?g.jg.Pp:g.jg.z5};};m.prototype.afc=function(){return this.Ja.map(function(p){return p.response;});};return m;})(n.av);b.ria=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sia=void 0;d=a(0);l=d.__importDefault(a(3));h=a(2);r=a(160);n=a(93);a=(function(c){function f(g,k,m,p,q,v){k=c.call(this,g,k,m,p,!1,q,v) || this;k.z_a=0;(0,h.assert)(0 === m.responseType);(0,h.assert)(m.pj);k.MV=m.pj;k.Gm=1E3 * m.$a / m.V;k.DBb=1E3 * m.lb / m.V;g=g.Gq();k.z_a=g.Xea.Z;return k;}d.__extends(f,c);f.prototype.Qr=function(g){var k;if(this.ud)return {status:n.jg.Pp};k=new Uint8Array(this.response);k=l.default.Ksa(k);(0,h.assert)(k);k={type:"subtitleData",S:this.MV,ca:this.Gm,Sa:this.DBb,oL:this.z_a,elc:k};g.events.emit(k.type,k);this.ud=!0;this.VR();return {status:n.jg.Pp};};return f;})(r.wM);b.sia=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.rta=b.du=b.qo=void 0;r=a(0);l=r.__importStar(a(13));h=a(21);n=a(77);c=r.__importDefault(a(29));f=r.__importDefault(a(31));g=r.__importDefault(a(1043));k=a(6);m=a(1044);p=f.default.assert;q=f.default.Yp;b.qo=(d=(function(){var C8q;C8q=2;for(;C8q !== 5;){switch(C8q){case 2:var u0h="1SIY";u0h+="bZrNJC";u0h+="p9";u0h;return {du:v,qo:function(u,y,x,z,B,A,C){var r_Y,S,U,ha,qa,E,G,F,K,O,L,I,M,H,J,N,P,X,V,D;r_Y=2;for(;r_Y !== 17;){switch(r_Y){case 20:qa[z]()?z + 1 < E.length && H > u.iC && (void 0 === this.EQ || this.Wya && this.Wya > this.EQ || L - this.EQ > u.v_ && H > u.Gza) && (B=(0,h.Upa)(E.slice(z + 1,D),function(xa,Aa){var S6L;S6L=2;for(;S6L !== 1;){switch(S6L){case 2:return qa[z + 1 + Aa]();break;}}})):B.ma && B.ma.length && (B=(0,h.Upa)(E.slice(0,z),function(xa,Aa){var k2N;k2N=2;for(;k2N !== 1;){switch(k2N){case 2:return qa[Aa]();break;case 4:return qa[Aa]();break;}}}),D=E[0],B && B.Fg < D.Fg || !B) && (B=D);G.oh=B || F;return G;break;case 14:x.CY(function(xa,Aa,Oa){var i7n,T;i7n=2;for(;i7n !== 5;){switch(i7n){case 2:void 0 !== Oa && (xa=xa[Oa],null !== (T=xa.ma) && void 0 !== T && T.length || (xa.TFa=!0));i7n=5;break;}}});(S=n.Jl.D4a(y.buffer.ma),U=y.buffer.Et - S.ha);D=(u.AFa || C) && H >= u.BHa?E.length:z + 2;(ha=(function(xa){var u_8,y6B;u_8=2;for(;u_8 !== 4;){switch(u_8){case 2:var F6H="va";F6H+="r";F6H+="i";F6H+="able";y6B=u.yFa;u_8=y6B === F6H?1:3;break;case 1:return E.slice(0,xa).map(function(Aa){var r5f;r5f=2;for(;r5f !== 1;){switch(r5f){case 2:return [w(u,y.buffer.Et,Aa),0];break;case 4:return [w(u,y.buffer.Et,Aa),9];break;}}});break;case 3:u_8=5;break;case 5:return E.slice(0,xa).map(function(Aa,Oa){var G5j;G5j=2;for(;G5j !== 1;){switch(G5j){case 2:return Oa < z?[u.bxa,u.Dza]:Oa === z?[u.axa,u.Cza]:[u.cxa,u.Eza];break;}}});break;}}})(D),qa=E.slice(0,D).map(function(xa,Aa){var A3c=R7xOY;var P4Q,Oa;P4Q=2;for(;P4Q !== 5;){switch(P4Q){case 2:A3c.e_n(5);Oa=A3c.p3p(Aa,z);return function(){var p53,T,W,Q,ka,ra,R,fa,wa,ua;p53=2;for(;p53 !== 5;){switch(p53){case 2:a:{A3c.h1T(0);T=Math.max(A3c.p3p(Aa,1),0);W=ha[Aa][1];Q=y.playbackRate;ka=x.X$a(Aa,M,ha[Aa][0]);ra=ka.$ob;ka=ka.Onb;A3c.e_n(6);W=x.X$a(T,A3c.p3p(ra,M),W);T=W.$ob;R=W.Onb;W=ka[0].stream;fa=W.Za || 0;wa=W.ma && W.ma.length;ua=C?u.CUb:wa?u.W$:u.DUb;ua=Oa?u.gua:ua;if(V && !V.X$ && V.Za >= fa && V.bitrate <= W.bitrate){ra=!1;}else {Oa || wa || (W.TFa=!0);if(!Oa || !wa)if(wa && !u.f2){if(fa >= Math.max(W.Wy * Q,W.bitrate * Q * ua) && W.Yv){ra=!0;break a;}}else if(fa >= W.bitrate * Q * ua){ra=!0;break a;}Q=!u.$ra || W === F || W.ec === F.ec && A?0:(Q=W.Ib) && Q.vl && Q.vl.ya?Q.vl.ya + u.Xra * (Q.vl.He?Math.sqrt(Q.vl.He):0):0;(ra=v(u,E,ka,R,S,O + Q - K,P,I - K,L - K,M,S.length,N,U,ra,T,X,y.XX,y.playbackRate)) && ra.result && (G.Dwc=ra.y_);V={X$:ra && ra.result,Za:fa,bitrate:W.bitrate};ra=ra && ra.result;}}return ra;break;}}};break;}}}));p(qa.length === ha.length);r_Y=20;break;case 6:return t.call(this,y,u,E,B);break;case 7:r_Y=J === c.default.K4.Wzb || !B.Za?6:14;break;case 3:var q35="n";q35+="umbe";q35+="r";var y8J="n";y8J+="umbe";y8J+="r";p(y8J === typeof y.buffer.Et);p(q35 === typeof y.XX);(E=x.first,G=new q(),F=B=E[z],K=y.buffer.ca,O=y.buffer.Pc,L=y.buffer.Fc,I=y.buffer.nk,M=y.Wd,H=I - O,J=this.De.xdb || c.default.K4.ai,N=y.state === k.Ma.Xc || y.state === k.Ma.ej?y.buffer.Uj:0,P=u.gda,X=null !== (D=u.jC) && void 0 !== D?D:1E3);r_Y=7;break;case 2:var O6h="inv";O6h+="alid player fragmentInde";O6h+="x";var S2$="Must";S2$+=" have at least one selecte";S2$+="d stream";p(!l.xa(z),S2$);void 0 === y.Wd && (y.Wd=0);p(l.Pa(y.Wd),O6h);r_Y=3;break;}}},rta:w};break;}}function w(u,y,x){var j_g,z;j_g=2;for(;j_g !== 3;){switch(j_g){case 8:j_g=+x.Za?5:2;break;case 5:z=(x.fkc || x.Za) / x.Za;return 1 >= z?u.dAa:Math.min(Math.max((u.Vhc * Math.min(8 * y / x.bitrate,u.xw) - u.jC) / (z - 1),u.Rfb),u.dAa);break;case 1:return u.Rfb;break;case 2:j_g=!x.Za?1:5;break;}}}function t(u,y,x){var w_G;w_G=2;for(;w_G !== 4;){switch(w_G){case 2:u=new q();u.oh=x[0];return u;break;}}}function v(u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J){var x66,N,P,U,X,V,S;x66=2;for(;x66 !== 17;){switch(x66){case 2:var t$h="F";t$h+="i";t$h+="rst stream ";t$h+="undefined";y=x[0].stream;P=null === (N=z[0]) || void 0 === N?void 0:N.stream;p(y,t$h);x66=3;break;case 20:x.forEach(function(ha){var k2V,qa,xa;k2V=2;for(;k2V !== 4;){switch(k2V){case 2:(qa=ha.stream,xa=ha.blocks);ha=ha.Wd;l.Pa(ha) && qa.ma && U.add(qa.ma.ar.subarray(ha,ha + xa));k2V=4;break;}}});z.forEach(function(ha){var J$t,qa,xa;J$t=2;for(;J$t !== 4;){switch(J$t){case 2:(qa=ha.stream,xa=ha.blocks);ha=ha.Wd;0 < I && l.Pa(ha) && qa.ma && U.add(qa.ma.ar.subarray(ha,ha + xa));J$t=4;break;}}});return 0 < L || 0 < I?(0,g.default)({eWb:U,blocks:F + L + I,Pc:A,nk:D,$hc:C,Uj:K,Fc:E,Wd:F,DVb:F + L,XX:H,w8a:O,Za:N / J,vda:M,aG:u.aG,N3b:u.f2,RSb:!1}):N > y.Wy?{result:!0,y_:0,Yv:!0}:{result:!1,y_:0,Yv:!0};break;case 3:N=y.Za;x66=9;break;case 13:S || (P=y);U=new m.AVa(B);L=Math.max(0,Math.min(L,y.ma.length - G));I=Math.max(0,Math.min(I,P.ma.length - G - L));x66=20;break;case 9:(X=D - A,V=y.ma && y.ma.length,S=(null === P || void 0 === P?void 0:P.ma) && (null === P || void 0 === P?void 0:P.ma.length));p(B.length === F);u.Hza && (M=Math.min(M,X));x66=6;break;case 6:x66=!N || N < y.bitrate * J * u.$wa || !V?14:13;break;case 14:return !1;break;}}}})(),d.qo);b.du=d.du;b.rta=d.rta;},function(r,b,a){var h,n,c,f,g,k;function d(m,p,q,v){f(!h.xa(v),"Must have at least one selected stream");return new k(v);}function l(m,p,q,v){f(!h.xa(v),"Must have at least one selected stream");return new k(v);}h=a(13);b=a(31);n=b.console;c=b.debug;f=b.assert;g=b.wK;k=b.Yp;r.exports={STARTING:function(m,p,q){var t,w,u,y;function v(x,z){var B,A,C,D;B=x.id;A=x.bitrate;C=x.Za || 0;D=!!C;c && n.log("Checking feasibility of [" + z + "] " + B + " (" + A + " Kbps)");if(!x.uw)return (c && !x.qs && n.log("  Not available"),c && x.UB && n.log("  Failed"),!1);if(A > m.G_)return (c && n.log("  Above maxInitAudioBitrate (" + m.G_ + " Kbps)"),!1);if(!(A * m.Bda / 8 < p.buffer.Et))return (c && n.log("  audio buffer too small to handle this stream"),!1);if(D){c && n.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(A * p.playbackRate < C / w)return (c && n.log(" +FEASIBLE: bitrate less than available throughput"),!0);c && n.log(" bitrate requires more than available throughput");return !1;}x=m.V_;p.bya && (x=Math.max(x,m.T_));if(A <= x)return (c && n.log("  Bitrate is less than max of minInitAudioBitrate (" + m.V_ + " Kbps) " + (p.bya?" and also minHCInitAudioBitrate (" + m.T_ + " Kbps)":"")),c && n.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);c && n.log("  No throughput history");return !1;}t=new k();w=m.Jtc || 1;y=q.first;for(u=y.length - 1;0 <= u;--u){q=y[u];if(v(q,u)){t.ae=u;break;}g(q) && (t.ae=u);}return t;},BUFFERING:d,REBUFFERING:d,PLAYING:l,PAUSED:l};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Kt=void 0;d=a(9);l=a(118);h=a(2);b.Kt=function(n,c,f,g,k,m,p,q){var v;d.M && g.trace("AsePlaygraph.createRequestQueue()");v=l.Fo.instance.Kt(n,c.L,!0,!1,{uy:f.uy,qa:k},f);v.Th.on(v,"networkfailing",function(){var t;d.M && g.trace("requestQueue OnNetworkFailing: ",v);v.V$ && ((0,h.assert)(v.tY),null === (t=c.zq) || void 0 === t?void 0:t.Bu(void 0,v.tY,void 0,v.Fh,v.Sj));c.wm();});v.Th.on(v,"error",function(){q(v.Fh,v.Sj);});v.on("transportreport",m);v.on("mediaRequestComplete",p);v.oa();return v;};},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Eka=void 0;d=a(0);r=d.__importStar(a(105));l=d.__importDefault(a(3));a=a(161);h=r.WO;n=r.a3a;c=r.M$;f=r.g7a;g=r.Clb;new l.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var j1v;j1v=2;for(;j1v !== 5;){switch(j1v){case 2:d.__extends(m,k);return m;break;}}function m(p,q){var q70,v;q70=2;for(;q70 !== 13;){switch(q70){case 6:var G2g="1SI";G2g+="Y";G2g+="bZ";G2g+="rNJCp9";G2g;return v;break;case 4:v.pJb=h(p.Hv.threshold || 6E3,1,1E5);v.mJb=h(p.Hv.gamma || 1,.1,10);v.filter=p.Hv.filter;v.Thc=!!p.Hv.simpleScaling;p.Hv.niqrfilter && p.Hv.niqrcurve && (v.zgb=p.Hv.niqrfilter,v.q8b=n(p.Hv.niqrcurve,1,0,4));q70=6;break;case 2:v=k.call(this,p,q) || this;v.lL=function(t,w,u,y){var d5r,x,z,B;d5r=2;for(;d5r !== 12;){switch(d5r){case 2:y=null !== y && void 0 !== y?y:v.RQ;B=v.up(t,u);u=v.oFa(u)?B:(null === (x=t[v.filter]) || void 0 === x?void 0:x.ya) || B;x=Math.pow(Math.max(1 - u / v.pJb,0),v.mJb);u=w.nk - w.Pc;v.Thc?(w=c(v.V4a,u,1),u=c(v.U4a,u,1),w=w * x + u * (1 - x)):w=c(g(v.V4a,v.U4a,x),u,1);d5r=7;break;case 7:t=v.zgb && (null === (z=t[v.zgb]) || void 0 === z?void 0:z.QAa);void 0 !== t && (z=f(v.q8b,t),w=Math.min(w * z,1));R7xOY.e_n(7);z=v.P5a(R7xOY.p3p(w,B,1),y);return {lower:z,upper:z * v.config.fHa};break;}}};Array.isArray(p.Hv.curves) && (v.V4a=n(p.Hv.curves[0],0,0,1),v.U4a=n(p.Hv.curves[1],0,0,1));q70=4;break;}}}})(a.tD);b.Eka=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ppa=b.O0=b.f7a=void 0;d=a(105);b.f7a=function(l,h,n){var c,f,g;c=0;if(n){l.some(function(k){var m;m=k.b;k=k.m;if(h <= m)return (c=g && m !== f?g + (k - g) / (m - f) * (h - f):k,!0);f=m;c=g=k;return !1;});}else l.some(function(k){c=k.m;return h <= k.b;});return c;};b.O0=function(l,h,n){var c;h=(null === (c=h.Za) || void 0 === c?void 0:c.ya) || 0;return l.F1a?(l=(0,d.M$)(l.E1a,n.nk - n.Pc,1),h * (1 - l)):h * l.t2 / 100;};b.Ppa=function(l,h){return l < 2 * h?l / 2:l - h;};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.xia=void 0;d=a(0);r=a(11);l=a(9);h=d.__importDefault(a(3));n=a(8);c=a(1061);f=a(132);g=a(1062);k=a(20);m=a(1065);p=a(1066);q=a(1067);v=a(2);t=a(1068);a=(function(w){function u(){var y;y=null !== w && w.apply(this,arguments) || this;y.b_a=0;y.Aoa=0;y.J6=0;y.Vma=0;return y;}d.__extends(u,w);u.prototype.LDa=function(y){var x,z;w.prototype.LDa.call(this,y);this.b_a++;this.Aoa++;this.C_a=h.default.time.fa();this.PN || (this.PN={Oc:y.Oc,ue:y.ue,index:y.index},this.Z6 || (this.Z6=this.PN));x=this.o7;z=!1;x && 100 > Math.abs(x.bg - y.Nd) && (this.J6+=y.bg - x.bg,this.Vma++,z=!0);z || (this.J6=y.Xn,this.Vma=1);this.o7=y;};u.prototype.stop=function(){w.prototype.stop.call(this);this.Aoa=0;this.PN=void 0;};u.prototype.S9a=function(){var y,x,z,B;y=this.pt;x=y.CX;if(x){B=x.fb(this.Of);B && B.Xa && (z=B.Xa.ewa());return {RM:z,currentBranch:{sId:x.G && x.G.id,cancelled:x.Uf},currentReceivedCount:y && y.ZPb,totalReceivedCount:this.b_a,currentState:y && y.T4a || "Uninitialized",lastRequestPushed:this.o7 && ({contentEndPts:this.o7.Oc,fragmentIndex:this.o7.index}),tslp:this.C_a && h.default.time.fa() - this.C_a,cpts:this.J6,crq:this.Vma,rslp:this.Aoa,firstRequestSSPushed:this.PN && ({contentStartPts:this.PN.ue,fragmentIndex:this.PN.index}),firstRequestPushed:this.Z6 && ({contentStartPts:this.Z6.ue,fragmentIndex:this.Z6.index})};}};return u;})((function(w){function u(y,x,z,B,A,C,D,E,G,F,K){var O;O=w.call(this) || this;O.Ig=y;O.Of=x;O.K=B;O.H=A;O.X=C;O.oCa=D;O.ff=E;O.Lp=G;O.$D=new n.lA(!1);O.YD=new n.lA(k.O.Na(-Infinity));O.H=(0,n.ri)(h.default,O.H,("AsePlayerBuffer [").concat(x,"]:"));O.pt=new c.wJa(O.H,z,x);O.resume();C && D && E && (K?(O.JR=K,K.jy(C,E,O.Ig)):O.r4a(),y=new m.rMa(null === C || void 0 === C?void 0:C.ff,k.O.Na(O.K.W_),A),O.pt.s8(y),O.K.S0a && (C=new p.XRa(null === C || void 0 === C?void 0:C.ff,O.K.S0a,k.O.Na(O.K.ZHb),A),O.pt.s8(C)),F && (O.k_a=new q.gVa(F,O.mediaType,A),O.pt.s8(O.k_a)),l.M && O.K.eTb && (A=new t.gPa(A),O.pt.s8(A)));O.Ig.on("requestAppended",function(L){O.$D.set(!0);L.request.Qc && O.YD.set(L.request.Qc);O.emit("requestAppended");});return O;}d.__extends(u,w);Object.defineProperties(u.prototype,{pu:{get:function(){return this.$D;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Hya:{get:function(){return this.YD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{N2b:{get:function(){return this.pt.wk;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{tFa:{get:function(){return this.Ig.endOfStream;},enumerable:!1,configurable:!0}});u.prototype.r4a=function(){(0,v.assert)(this.X && this.oCa && this.ff,"Player should be defined");this.JR=new g.mUa(this.Of,this.H,this.X,this.Ig,this.X.events,this.oCa,this.ff,this.Lp);};Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.Of;},enumerable:!1,configurable:!0}});u.prototype.S9a=function(){};u.prototype.resume=function(){l.M && this.H.trace("resume");this.GFa();};u.prototype.kcb=function(y){return this.Ig.Lva() > y;};Object.defineProperties(u.prototype,{FIb:{get:function(){return this.vN;},enumerable:!1,configurable:!0}});u.prototype.Qhc=function(){this.Ig.d0(!0);};u.prototype.reset=function(y,x){var z,B,A;void 0 === y && (y=!1);l.M && this.H.trace("reset");this.stop();this.Ig.reset(y);this.$D.set(!1);this.YD.set(k.O.Na(-Infinity));y || (this.vN=void 0,null === (z=this.JR) || void 0 === z?void 0:z.reset(),y=null === (B=this.X) || void 0 === B?void 0:B.ag,null === (A=this.k_a) || void 0 === A?void 0:A.F9b(y,null !== x && void 0 !== x?x:y));};u.prototype.Eg=function(y){void 0 === y && (y=!1);l.M && this.H.trace("restart");this.reset(y);this.GFa(!0);};u.prototype.stop=function(){l.M && this.H.trace("stop");this.pt.Gnb();};u.prototype.close=function(){var y;l.M && this.H.trace("start");null === (y=this.JR) || void 0 === y?void 0:y.close();};u.prototype.Wa=function(){this.stop();this.close();};u.prototype.l0=function(){this.K.kaa && this.Ig.d8a();this.Ig.BJ();};u.prototype.LG=function(y){this.Ig.LG(y);};u.prototype.EVb=function(y){this.Ig.Ngb(y,!0);};u.prototype.hi=function(y){var x;return !(null === (x=this.JR) || void 0 === x || !x.hi(y));};u.prototype.GFa=function(y){if(!this.pt.wk || y)(this.pt.bfc(),f.AsyncIterator.U3b(this.pt,this.yca.bind(this)));};u.prototype.yca=function(y){y.done || this.LDa(y.value);};u.prototype.LDa=function(y){var x,z;l.M && this.H.trace(("requestReceived: ").concat(null === (x=this.pt.CX) || void 0 === x?void 0:x.G.id) + (" ").concat(y.toString(),", edit: ").concat(JSON.stringify(y.La)));this.Ig.endOfStream?l.M && this.H.error("Buffer manager has declared EOS, ignoring request",y.toString()):(this.vN?(this.vN.o4b=y.Oc,this.vN.q4b=y.bg,this.vN.Adb=y.Qc):this.vN={vvc:y.ue,wvc:y.Nd,o4b:y.Oc,q4b:y.bg,Adb:y.Qc},y.cs && y.stream.track.wp && (null === (z=this.X) || void 0 === z || !z.rs(y.P.N)) && this.emit("drmNeeded",{N:y.P.N,Wq:y.Ed}),this.Ig.EIb(y));};return u;})(r.EventEmitter));b.xia=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Mia=void 0;r=a(0);d=r.__importStar(a(13));l=r.__importDefault(a(94));h=r.__importDefault(a(3));n=a(1069);c=a(6);f=a(192);g=a(8);k=a(2);m=a(20);p=a(396);q=a(441);a=(function(){function v(t,w,u,y,x,z,B,A,C,D){this.Eb=t;this.Cj=w;this.H=u;this.kO=y;this.K=B;this.ina=A;this.JZa=C;this.MY=D;this.bc=this.H.warn.bind(this.H);this.ik=this.H.trace.bind(this.H);this.Jg=this.H.log.bind(this.H);this.Ji=[];this.di={};x.Yo?((0,k.assert)(!x.Xq),this.Lma=!0,this.iEb(x,x.Yo,z)):(this.bq=this.AA(x.Xq || "",x,0,void 0,void 0,{},!0),this.bq.em=!0,this.bq.Sa=Infinity,this.X7=[this.bq]);this.re=this.L6(this.bq,void 0,z);this.re.active=!0;t=(0,g.ri)(h.default,this.H,"BranchQueue::");this.dk=new f.iH(t);this.dk.enqueue(this.re);this.soa=this.JV=void 0;}v.Wua=function(t){return "m" + t;};Object.defineProperties(v.prototype,{Ly:{get:function(){return !!this.Lma;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{pl:{get:function(){return this.re.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ke:{get:function(){return this.bq;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ji:{get:function(){return this.re.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{aQb:{get:function(){return this.re.P.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{od:{get:function(){return this.re;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{cb:{get:function(){return this.Ji;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qg:{get:function(){return this.re.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ci:{get:function(){return this.Eb.ci;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wi:{get:function(){return this.JV?this.JV:this.cb[0];},enumerable:!1,configurable:!0}});v.prototype.Wa=function(){this.Ji.forEach(function(t){t.he();});this.Ji=[];this.dk.clear();};v.prototype.Be=function(t){return this.di[t];};v.prototype.T$a=function(){return this.dk.getIterator();};v.prototype.S$a=function(t,w){var u;u=this.di[t];if(u)return (t=u.Nm[w]) && t.weight;this.bc("getSegmentWeight, unknown segment:",t);};v.prototype.a_b=function(t){var w;w=this.di[t];if(w)return w.ca;this.bc("getSegmentStartPts, unknown segment:",t);};v.prototype.$Zb=function(t){var w;w=this.di[t];if(!w)this.bc("getSegmentDuration, unknown segment:",t);else if(d.Pa(w.Sa) && isFinite(w.Sa) && d.Pa(w.ca) && isFinite(w.ca))return w.Sa - w.ca;};v.prototype.ufa=function(t){var w;w=-1;this.Ji.some(function(u,y){return u === t?(w=y,!0):!1;});-1 !== w?this.Ji.splice(w,1):this.bc("Unable to find branch:",t,"in branches array");};v.prototype.bJ=function(t,w){var u;u=0;this.TBb(t).forEach(function(y){(y=y.Ae(w)) && (u+=y.ME);});return u;};v.prototype.my=function(t,w,u){var y;if(!t.Ac(w))return 0;y=t.fb(w);for(y=u?y.Fc:y.Gt;void 0 === y;){if(!t.sj)return 0;t=t.sj;y=t.fb(w);y=u?y.Fc:y.Gt;}t=this.JZa.fg();return Math.max(y - t,0);};v.prototype.lua=function(t){return this.Ji.filter(function(w){if(w.P.Ub === t)return !0;});};v.prototype.fVb=function(t,w){return this.iYa(t,!1,w);};v.prototype.eVb=function(t,w){return this.iYa(t,!0,w);};v.prototype.kec=function(t,w,u){d.tg(this.Ji,function(y){y.P === t && y.Lmb(w,u);});d.tg(this.di,function(y){y.P === t && (y.P=w);});};v.prototype.blb=function(){var t;t=this;d.tg(this.Ji,function(w){var u;u=t.Eb.ki(w.P.Ub);w.jr(m.O.Na(u.Sy));});};v.prototype.Zw=function(t){var w;w=this;d.tg(this.Ji,function(u){u.fb(c.u.J).track.Rc.forEach(function(y){var x;x=(0,p.Qpa)(y.qf,y.bitrate,t,w.H);(0,l.default)(x,y);});});};v.prototype.xy=function(t,w,u,y){var x;for(;w;){x=w.xy(t,u);if(x)return x;if(y)break;w=w.sj;}};v.prototype.a5a=function(t){var w,u;w=this;void 0 === t && (t=!1);u=this.Ji;t && (u=u.filter(function(y){return y !== w.re;}));u.forEach(function(y){y.active=!1;w.dk.remove(y);});t || this.dk.clear();return u;};v.prototype.Fcc=function(){var t;for(;0 < this.Ji.length;){t=this.Ji[0];t.fb(c.u.U);t.fb(c.u.J);if(!t.active)break;if(t === this.re)break;if(!t.F0b())break;t.he();this.Ji.shift();}};v.prototype.Y0=function(t,w,u,y,x){if(u > y){for(u-=y;t;){t.Y0(w,u,x);t=t.sj;}return u;}};v.prototype.zeb=function(t,w){for(var u={sX:null,FR:null,Nd:null,Uj:0,Gp:0,Yg:0,ma:[]};t;){t.cba(u,w);t=t.sj;}return u;};v.prototype.hMb=function(t){var w,u,y;w=this.re;if(w.oeb)u=w.oeb;else {y=this.re.qg;u=this.L6(w.G,w);c.ng.forEach(function(x){var z;z=u.Ae(x);z && (z.rS(0),x=w.Ae(x),z.oga(x.Xd));});u.jr(m.O.Na(y + t));w.oeb=u;}this.qN(u,w);};v.prototype.jHb=function(t,w,u){var y,x;(0,k.assert)(!t.Ly());if(!this.Lma){this.Lma=!0;this.JV=this.wi;y=this.bq.id || v.Wua(0);this.bq.id=y;this.di[y]=this.bq;this.bq.Sa=this.Eb.sYb().V9a();this.bq.qG=!0;}x=void 0 !== t.Xq?t.Xq:v.Wua(t.Ub);t=this.AA(x,t,w,u,void 0,{},!0);t.qG=!0;this.X7.forEach(function(z){z.Nm={};z.Nm[x]={weight:100};z.LX=x;z.Lu=!1;});this.X7=[t];};v.prototype.oy=function(t,w){var u,y,x,z;u=this.wi;y=u.xz(w,this.Eb.X);x=u.G;z=u.children[t];if(w){if(!x.Nm[t])return (this.re.bc("chooseNextSegment, invalid destination:",t,"for current segment:",x.id),!1);if(u.Vl)return u.Vl === t;u.Vl=t;z && u.naa && this.qN(z,u);return !0;}if(void 0 !== u.Vl)return !1;if(!z)return (y.pgb=!0,!1);y.pgb=!z.pra();this.Eb.c_a(void 0,q.T5.mR);u.naa=void 0;u.Vl=t;this.qN(z,u);u.bF();this.Eb.F7();return !0;};v.prototype.d1b=function(t,w){var u,y,x,z;u=this;z=t.G;w && !t.Vl && (t.Vl=z.LX,t.xz(!0,this.Eb.X,!0));t.children=Object.create(null);d.tg(z.Nm,function(B,A){t.Vl && A !== t.Vl || (y=u.di[A],x=u.jBb(y,t),t.children[A]=x);});t.Vl && (w=t.children[t.Vl]) && this.qN(w,t);t.naa=!0;};v.prototype.Ckc=function(){var t;t=0;d.tg(this.Ji,function(w){c.ng.forEach(function(u){w.Ac(u) && (u=w.Ae(u),t+=u.Xa.Ej);});});return t;};v.prototype.Bjc=function(t,w){var u,y,x;u=this;y=this.QBb(t,w);if(y){if(y !== this.re.G){this.a5a();x=this.L6(y,this.re,t);x.sj=void 0;x.ymb(void 0,!0);this.oAb(this.re);this.qN(x,this.re);}else this.a5a(!0).forEach(function(z){z.he();u.ufa(z);u.dk.remove(z);});y === this.wi.G && (this.wi.Bz.shift(),x && (x.Bz=this.wi.Bz,x.Vl=this.wi.Vl));this.Cj.v7(y,this.re.qg);this.re.naa=void 0;}else this.bc("findSegment no segment for manifestIndex:",w);};v.prototype.yeb=function(t,w){var u;u=t.G;w || (w=u.LX);(0,g.bga)(u.id);t.Vl || (t.Vl=w,t.xz(!0,this.Eb.X,!0));(w=t.children[t.Vl]) && this.qN(w,t);};v.prototype.Cgc=function(t){this.re !== t && (this.re=t);};v.prototype.Tu=function(t,w){var u,y,x,z,B;u=this;if(this.Ly){y=this.K;x=this.wi;z=x.G;B=(0,g.bga)(z.id);!x.Vl && !z.Lu && x.Oc - w <= y.cR && (this.bc(B + "updatePts making fork decision at playerPts:",t,"contentPts:",w),this.yeb(x));}c.ng.forEach(function(A){u.re.Ac(A) && u.ci[A].Tu();});};v.prototype.H8b=function(t,w){var u,y;if(this.Ly){u=this.JV;if(!(this.K.G1b && t && this.soa && t.ca === this.soa || (t=t.Xa.Ya,u && t.G.id === u.G.id))){y=null === u || void 0 === u?void 0:u.Ae(c.u.J);y=null === y || void 0 === y?void 0:y.Xd;this.soa=null === y || void 0 === y?void 0:y.ca;this.JV=t;this.LAb(u);u=u && u.AMb(t);this.Cj.NDb(t.G,w,u);}}};v.prototype.Uda=function(t,w,u){w.em || (w.ca=this.t$a(t,w.ca,!0),u || (w.Sa=this.t$a(t,w.Sa,!1)),w.em=!0,!1);};v.prototype.pha=function(t,w){var u;(0,g.bga)(t);u=this.di[t];u?d.tg(u.Nm,function(y,x){y.weight=w[x] || 0;}):this.bc("updateChoiceMapEntry, unknown segment:",t);};v.prototype.t$a=function(t,w,u){t=u?t.F7a(w):t.wY(w);if(!t.length)return w;w=t[c.u.J];return u?w.ca:w.Sa;};v.prototype.OYa=function(t,w,u){var y;y=w?u.Oc:u.bg;return (w?u.cga:u.rCa) <= t && t < y;};v.prototype.iYa=function(t,w,u){var B;for(var y=this.Eb,x=this.re;x;){if((!d.Pa(u) || y.Zxa(u,x.P.Ub)) && this.OYa(t,w,x))return x;x=x.sj;}if(w){x=Object.keys(this.re.children);for(var z=0;z < x.length;z++){B=this.re.children[x[z]];if((!d.Pa(u) || y.Zxa(u,B.P.Ub)) && this.OYa(t,w,B))return B;}}};v.prototype.jBb=function(t,w){var u,y;u=this.L6(t,w);y=u.ymb(w,this.K.oDa);c.ng.forEach(function(x){var z,B,A;if(u.Ac(x)){z=u.Ae(x);B=w.Ae(x);A=y[x];x === c.u.J && u.jr(m.O.Na(B.Fc + w.qg - A));z.rS(A);}});this.Cj.v7(t,u.qg);return u;};v.prototype.oAb=function(t){for(var w=[t.G.id];t.sj;){t=t.sj;w.unshift(t.G.id);}this.Dma(t);};v.prototype.Dma=function(t){var w,u;w=this;u=t.G;d.tg(t.children,function(y){y && w.Dma(y);});this.dk.remove(t);t.he();this.ufa(t);this.Cj.hoa(u);};v.prototype.qN=function(t,w){var u,y,x,z;u=this;y=w.G;w.P !== t.P && this.Eb.dZa(t.P.Ub);t.active=!0;this.dk.enqueue(t);t.HO();x=h.default.time.fa();z={};d.tg(w.children,function(B){var A,C;if(B){if(B.Pe){A=B.Ae(c.u.U);C=B.Ae(c.u.J);B.Pe.FE=[A?A.ap.Z:0,C?C.ap.Z:0];B.Pe.jSb=x - B.Pe.Tba;B.Pe.Tba=void 0;z[B.G.id]=B.Pe;}B.G.id !== t.G.id && u.Dma(B);}});w.children=Object.create(null);w.children[t.G.id]=t;w.BN=void 0;this.Cgc(t);this.Cj.LDb(t.G,z);1 < Object.keys(y.Nm).length && t.pra();};v.prototype.LAb=function(t){var w,u;if(t){w=h.default.time.fa();u=t.Bz[0];u && void 0 === u.n$?u.n$=w - u.Is:u || (this.bc("missing metrics for branch:",t.G.id),u={Ega:t.G.id,Se:!0,n$:0,Pe:{}},t.Bz.unshift(u));void 0 === u.startTime && (u.startTime=w);}};v.prototype.QBb=function(t,w){var y,x,z,B;(0,k.assert)(0 <= t);for(var u in this.di){y=this.di[u];if(this.Eb.Zxa(y.P.Ub,w)){if(y.ca <= t && (Infinity === y.Sa || void 0 === y.Sa || t < y.Sa))return y;x=Math.min(Math.abs(t - y.ca),Math.abs(t - y.Sa));if(d.xa(z) || x < z)(z=x,B=y);}}return B;};v.prototype.AA=function(t,w,u,y,x,z,B,A,C){w=new n.kVa(t,w,u,y,x,z,B,A,void 0,C);return this.di[t]=w;};v.prototype.iEb=function(t,w,u){var y,x,z;y=this;this.bq=void 0;this.X7=[];x=null;z=null;d.tg(w.segments,function(B,A){var C,D,E,G,F;C=B.startTimeMs;D=B.endTimeMs;E={};d.tg(B.next,function(K,O){E[O]={weight:K.weight || 0,Mkc:K.transitionHint || B.transitionHint,fvc:"number" === typeof K.earliestSkipRequestOffset?K.earliestSkipRequestOffset:B.earliestSkipRequestOffset};});G=B.defaultNext;d.xa(G) && (G=Object.keys(E)[0]);F=d.xa(G);G=y.AA(A,t,C,D,G,E,F,B.exitZones,B.transitionHint);C <= u && (u < D || d.xa(D))?y.bq=G:C > u && (!x || C < z) && (x=A,z=C);F && y.X7.push(G);});this.bq || (this.bq=x?this.di[x]:this.di[w.initialSegment]);};v.prototype.L6=function(t,w,u){var y,x,z,B;y=t.P;x=this.Eb.ki(y.Ub);z=x.Sy;B=[];[c.u.U,c.u.J].forEach(function(A){y.Ac(A) && B.push(x.dw(A));});t=new q.NOa(this.Eb,this.K,this.Cj,this.H,this,this.ina,this.JZa,this.kO,t,B,z,w,u?m.O.Na(u):void 0,this.MY,this.Eb.ci,this.Eb.Ux);this.rAb(t);this.Ji.push(t);return t;};v.prototype.rAb=function(t){var u;function w(y){u.Eb.emit(y.type,y);}u=this;t.addListener("locationSelected",w);t.addListener("logdata",w);t.addListener("serverSwitch",w);t.addListener("streamSelected",w);t.addListener("lastSegmentPts",w);t.addListener("managerdebugevent",w);t.addListener("requestCreated",function(y){y=y.request;u.Eb.Foa(y.mediaType,y.ca);});};v.prototype.TBb=function(t){for(var w=[t];t.sj;){t=t.sj;w.push(t);}return w;};return v;})();b.Mia=a;},function(r,b,a){var n,c,f,g;function d(k,m,p){this.pG=m;this.Lm=p;this.aD=this.IZ=this.XBa=this.hib=this.gib=this.pR=this.Rc=this.Mac=this.Lm=this.wo=this.Fc=this.ca=this.Wu=this.Op=this.ma=this.Qbb=this.WW=void 0;}function l(k,m,p){this.Sa=m;this.Kcb=p;this.$0a=this.drb=this.st=this.Op=this.KK=this.vy=void 0;}function h(k,m,p,q,v,t,w){var u;u=new d(p,m,k.Lm);k.forEach(function(y){var x,z;x=y.buffer;z=x.ma;y.mediaType === c.ee.U?u.WW=z.length?z[0].bitrate:void 0:y.mediaType === c.ee.J && (u.Qbb=z.length?z[0].bitrate:void 0,u.ma=z,u.Op=x.nk - x.Pc,u.Wu=x.Yg,u.ca=x.Pc,u.Fc=x.Fc,u.wo=y.Wd,u.Lm=y.Lm,u.Mac=m - y.Lm,u.Rc=y.Rc,u.pR=z.filter(function(B){return u.ca <= B.Rw;}).length);});this.Jk=u;this.Tv=void 0;this.g5a=q;this.pz=v;this.W1a=t;this.lDa=this.ofa=this.vhb=this.eD=this.DO=this.B7a=this.Fz=this.Rc=this.Tv=void 0;this.LHb=w;this.wCa={};}n=a(0);c=a(29).default;f=a(31).assert;g=a(6).Ma;d.prototype.constructor=d;l.prototype.constructor=l;h.prototype.constructor=h;h.prototype.JJ=function(k,m){var p,q,v,t,w,u,y,x,z,B,A,C,D,K,O,L,I,M,H;p=this.Jk;q=[];v=k[c.ee.J];t=k[c.ee.U];if(void 0 === v || void 0 === t)return !1;w=v.buffer;u=t.buffer;y=p.Rc.filter(function(J){return J.Paa();});if(void 0 === w || void 0 === u || void 0 === y || 0 === y.length)return !1;x=new l(m?g[m]:"maxbitratechanged",v.Pc,m === g.bh);z=0;B=0;A=0;C=0;D=p.ca;k=k[c.ee.J].Pc;for(var E=p.ma,G=p.pR,F=0;F < G;F++){K=E[F];O=K.offset;L=K.offset + K.ha - 1;I=K.Xn;M=K.LC;H=M + I;K && M <= k && H > D && (I=K.Xn,M=Math.min(I,Math.min(k,H) - Math.max(M,D) + 1),C+=M,z+=M / I * (L - O + 1),B+=K.bitrate * M,A+=K.gb * M);}p.gib=z;p.hib=C;p.XBa=0 < C?B / C:0;p.iac=0 < C?A / C:0;p.IZ || (p.IZ=0,y.some(function(J,N){if(J.bitrate === p.Qbb)return (p.IZ=N,!0);}));y.forEach(function(J){var N,X;J=J.Paa();N=[];p.aD || (p.aD=J.np(p.ca,void 0,!0));x.vy || (x.vy=J.np(x.Sa,void 0,!0),x.KK=J.length - 1);p.wo !== p.aD + p.pR && (p.wo=p.aD + p.pR);G=Math.min(x.KK,x.vy + 1);for(var P=p.aD;P <= G;P++){X=J.get(P);N[P]=X;}q.push(N);});m === g.bh && (x.Op=w.nk - w.Pc,x.st=u.nk - u.Pc,x.drb=v.bkb,x.$0a=t.bkb);this.Tv=x;this.Rc=y;this.Fz=q;return this.B7a=!0;};h.prototype.PB=function(){var k,m,p,q,v,t,w,u,y,x,z,D,E,G,F,K,I,M;if(this.Bk)return this.Bk;p=this.eD;q=this.Jk;v=this.Tv;t=this.Rc;w=this.vhb;u=this.LHb;f(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(v.Kcb)(y=!1,x=!0);else v.vy - q.aD + 1 <= q.pR?x=y=!0:(y=!0,x=!1);z=!0;}if(w)for(var B=w.Zba,A=w.HP,C=0;C < u.length;C++){D=u[C];(p=w[D]) && p.RAa && (x=!0);}v={bst:q.Lm,pst:q.pG,s:q.aD,e:v.vy,prebuf:q.pR,brsi:q.wo,pbdlbytes:q.gib,pbdur:q.hib,pbtwbr:q.XBa,pbvmaf:q.iac};this.pz && (v.fragmentsPrebuffered=q.ma);z && (v.nt=z);x && (v.nd=x);B && (v.invalid=B);A && (v.exception=A);this.lDa && (v.rr=this.lDa);this.ofa && (v.ra=this.ofa);if(!x && !B && !A && (this.g5a || this.pz)){v.bitrate=t.map(function(H){return H.bitrate;});p=this.eD;D=p.trace;E=[];F=0;D.forEach(function(H){H=Number(H).toFixed(0);E.push(H - F);F=H;});v.tput={ts:p.timestamp,trace:E,bkms:p.dB};}if(x || z || B || A)v.feasible=y;else for((v.sols={},v.elapsed=w.DSb,C=0);C < u.length;C++){D=u[C];p=w[D];x={};if(p && p.Ps){x.algelapsed=p.KHb;x.maxHeapTotal=p.nC;x.f=p && p.du || !1;x.dltwbr=p.T5a;x.dlvmaf=p.W5a;x.dlvdur=p.V5a;x.dlvbytes=p.U5a;x.dlabytes=p.R5a;if(this.g5a || this.pz){G=p.Ps.filter(function(H){return H;}).map(function(H){return H.ae;});F=0;K=[];G.forEach(function(H){K.push(H - F);F=H;});x.strmsel=K;}if(this.pz){z=[];y=this.Jk.wo;try{for(var O=(k=void 0,n.__values(G)),L=O.next();!L.done;L=O.next()){I=L.value;M=this.Fz[I][y];M.Fg=I;z.push(M);y++;}}catch(H){k={error:H};}finally{try{L && !L.done && (m=O.return) && m.call(O);}finally{if(k)throw k.error;}}x.fragsel=z;x.streamList=this.Rc;x.pause_dlnd_sec=p.Ps.filter(function(H){return H;}).map(function(H){return H.UBa;});x.buffer_sec=p.Ps.filter(function(H){return H;}).map(function(H){return H.Cqa;});x.buffer_kb=p.Ps.filter(function(H){return H;}).map(function(H){return H.Bqa;});x.buffer_frags=p.Ps.filter(function(H){return H;}).map(function(H){return H.a2a;});x.elapsed_secs=p.Ps.filter(function(H){return H;}).map(function(H){return H.s6a;});x.throughput=p.Ps.filter(function(H){return H;}).map(function(H){return H.Za;});}}v.sols[D]=x;}return this.Bk=v;};h.prototype.rVb=function(k){var q;if(void 0 !== this.wCa[k])return this.wCa[k];for(var m=this.Fz[this.Jk.IZ],p=0;p < m.length;p++){q=m[p];if(q && q.ca <= k && q.ca + q.duration > k)return this.wCa[k]=q;}throw Error("findPlayingFragment: missing");};r.exports=h;},function(r,b,a){var h,n;function d(c,f,g){this.ha=c;this.po=f;this.quality=g;}function l(c,f){this.Lza=f;void 0 === f && (this.Lza=!0);this.Rn=c;this.DAb();}h=a(0);n=a(2).assert;d.prototype.constructor=d;d.prototype.SB=function(){return 8 * this.ha / 1E3 / this.po;};l.prototype.constructor=l;l.prototype.Mi=function(c,f,g,k,m){void 0 === f && (f=0);void 0 === g && (g=c.kQ());void 0 === k && (k=0);void 0 === m && (m=c.Rn.length);for(var p=[],q,v=k;v < m;v++){k=[];for(var t=f;t < g;t++){q=c.Rn[v][t];k.push(q);}p.push(k);}return new l(p,c.Lza);};l.prototype.DAb=function(){var c,f,m;f=this.Rn[0].length;try{for(var g=h.__values(this.Rn.slice(1)),k=g.next();!k.done;k=g.next()){m=k.value;n(m.length === f,"expect chunk.length === n but got " + m.length + " and " + f);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (c=g.return) && c.call(g);}finally{if(p)throw p.error;}}this.Lza && this.EAb();this.FAb();};l.prototype.kQ=function(){return this.Rn[0].length;};l.prototype.EAb=function(){for(var c=0;c < this.Rn.length - 1;c++){for(var f=0;f < this.kQ();f++){n(this.Rn[c][f].ha <= this.Rn[c + 1][f].ha,"Chunk size for epoch " + f + " is not monotonic");}}};l.prototype.FAb=function(){for(var c=0;c < this.Rn.length - 1;c++){for(var f=0;f < this.kQ();f++){n(1E-8 > Math.abs(this.Rn[c][f].po - this.Rn[c + 1][f].po),"Chunk duration for epoch " + f + " is not consistent");}}};l.prototype.W_b=function(){var c;c=[];this.Rn[0].forEach(function(f){c.push(f.po);});return c;};r.exports={Btb:d,Ctb:l};},function(r,b,a){var n;function d(){}function l(c,f,g){void 0 === g && (g=!1);n(c.length === f.length,"bitrates_kbps and durations_sec must be of the same length.");n(1E-8 < h(c),"bitrate zero, won't be able to send anything.");this.DE=c;this.m6a=f;this.repeat=g;this.Vn=this.wq=0;}function h(c){return c.reduce(function(f,g){return f + g;},0);}n=a(2).assert;d.prototype=Error();l.prototype.constructor=l;l.prototype.Mi=function(){var c;c=new l(this.DE,this.m6a,this.repeat);c.wq=this.wq;c.Vn=this.Vn;return c;};l.prototype.Hwa=function(){return this.DE[this.wq % this.DE.length];};l.prototype.xF=function(){return this.m6a[this.wq % this.DE.length];};l.prototype.gSb=function(c){n(0 < c,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.wq && this.wq < this.DE.length))throw new d();n(this.Vn < this.xF(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.xF() - this.Vn;f=c < f?c:f;c-=f;this.Vn+=f;if(this.Vn < this.xF())break;this.Vn-=this.xF();this.wq+=1;if(!this.repeat && this.wq >= this.DE.length){if(0 < c)throw new d();break;}}};l.prototype.eib=function(c){this.gSb(c);};l.prototype.hSb=function(c){n(0 < c,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.wq && this.wq < this.DE.length))throw new d();n(this.Vn < this.xF(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,g=0;;){f=this.xF() - this.Vn;f=c < f * this.Hwa()?c / this.Hwa():f;c-=this.Hwa() * f;g+=f;this.Vn+=f;if(this.Vn < this.xF())return g;this.Vn-=this.xF();this.wq+=1;if(!this.repeat && this.wq >= this.DE.length){if(0 < c)throw new d();return g;}}};r.exports={Szb:l,Tzb:d};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y;Object.defineProperties(b,{__esModule:{value:!0}});b.Hzb=b.Hka=b.Jzb=b.NVa=void 0;r=a(0);d=r.__importStar(a(13));l=r.__importDefault(a(3));h=r.__importDefault(a(31)).default.wK;n=r.__importStar(a(8)).ri;c=r.__importDefault(a(453));f=a(436);g=a(76);k=a(6);m=a(21);p=a(2);q=a(116);v=a(270);t=a(196);a=(function(){function x(z,B,A,C,D,E,G,F,K,O,L){var I;I=this;this.H=z;this.bi=B;this.K=A;this.Ac=C;this.X=D;this.I1=E;this.Bc=G;this.Kb=F;this.Dh=K;this.m9=O;this.uI=L;this.Q7=[];this.Moa=[];this.oZa=[];this.FXa=void 0;[g.u.U,g.u.J].forEach(function(M){I.Ac(M) && (I.Q7[M]=new y(I.H,M),I.Moa[M]=new w(M),I.oZa[M]=new u(M));});this.Oqb=new q.nN(this.H);this.iT=(0,q.oJ)(this.K,this.Oqb);this.cqa=(0,q.nJ)();this.dI=void 0;}Object.defineProperties(x.prototype,{ph:{get:function(){return this.Q7;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{bD:{get:function(){return this.Moa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Yy:{get:function(){return this.oZa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{UI:{get:function(){return this.FXa;},set:function(z){this.FXa=z;},enumerable:!1,configurable:!0}});x.prototype.Zw=function(z,B){this.Oqb.Zw(z,B);};x.prototype.Kza=function(z){var B,A,C,D,E,G;B=this.K;A=z.mediaType;C=l.default.Iq()[A];D=A === g.u.U?B.X8:B.Eha;E=this.X.getState();G=this.X.fg();B=z.Xa.Ya;A=this.m9.zeb(B,A);C={Et:C,ca:A.Nd,Pc:G,Fc:A.FR || G,nk:A.sX || G,Yg:A.Yg,Uj:A.Uj,Gp:A.Gp,n8a:A.ma.length,ma:[]};D={state:E,ss:this.X.ss(),Wd:z.$m,buffer:C,XX:D,tP:!!this.I1.hn,Ej:this.Bc && this.Bc.Ej,pfa:z.e_b,playbackRate:this.X.Tt()};void 0 === D.Wd && (D.Wd=z.mua(C.Fc));D.eX=B.eX;C.ma=A.ma;d.Pa(C.ca)?z.seeking && C.Pc != C.ca && (C.Pc=C.ca):(C.ca=0,C.Fc=0);this.bi.uLb(D);this.bi.iHb(D);return D;};x.prototype.ora=function(z,B,A){var F,K;z=this.Q7[z];for(var C=z.maxBitrate,D="manifest",E=0,G=B.length - 1;0 <= G;G--){F=B[G];K=F.bitrate;if(h(F)){E=Math.max(E,K);break;}else this.K.f2 && !F.Yv?D="bc":F.qs?F.UB && (D="hf"):D="av";}if(void 0 === C || E !== C)(z.maxBitrate=E,this.Kb.C8b(C,E,D,A));};x.prototype.c_b=function(z){return this.swa(z).Fg;};x.prototype.swa=function(z){var B,A,C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U;B=this.K;A=z.mediaType;C=A == g.u.J;D=0;E=this.Q7[A];G=this.Moa[A];if(!E.gf)return {Fg:void 0};F=this.Kza(z);K=z.De;O=K.Vm;L=z.Kca.P;I=z.track.Rc;if(!L.Ak.L2(L.N,I))return (z.Ll("location selector did not find any urls"),{Fg:void 0});M=(0,v.Oea)(F.state);H=C?this.iT:this.cqa;try{J=H.nl(I,M);}catch(ha){this.H.error("StreamFilters: filterStreams: " + ha);J=[I[0]];}0 === J.length && (this.H.error("StreamFilters: empty list"),J=[I[0]]);if(this.uI.Pt && (z.iF.length !== J.length || 0 < (0,m.Fv)(z.iF,J).length || 0 < (0,m.Fv)(J,z.iF).length)){try{this.dI && this.cVb();}catch(ha){this.Kb.Ap("Hindsight: Error when handling maxbitrate chagned: " + ha);}z.iF=J;}M=O?O.Fg:E.Fua;try{if(O && (D=O.bitrate,O && K.track && !O.track.equals(K.track))){N=(0,f.oua)(J,D) || 0;P=J[N];if(O.bitrate !== P.bitrate || A === g.u.J)F.state=k.Ma.ai;O=P;M=I.indexOf(P);}}catch(ha){this.H.error("StreamFilters: track change: " + ha);}if(!C && (D=B.LS,!(D && 0 < D.length) && M && I[M] && O && O.location === I[M].location))return {Fg:M};O=this.bi;try{X=O.$P(A);V=C?O.JY():O.mZ();S=new t.UU();S.HW(J);U=z.$j.GEa(F,S,V,X,E.gf.config.uu,L.zq);if(!U)return (z.Ll("stream selector did not find a stream"),{Fg:void 0});}catch(ha){this.H.error("StreamFilters: stream selector: " + ha);U={ae:0};}U.ae=I.indexOf(J[U.ae]);this.I1.hn && this.I1.hn.nHb(z.mediaType,U,I);C && this.ora(A,J,z.Fc);F=U.ae;J=I[F];X=J.bitrate;F != M && (C && B.vP && this.Dh.vXa(z,X),C?O.NL(X):O.XC(X));d.Pa(E.Fua) || (E.Fua=F);z.Og || (U.Og?((0,p.assert)(void 0 !== U.n9),z.kga(U.n9),G.Jv=U.n9):(z.WF=U.WF,z.EG=U.EG,z.progress=U.progress));this.zA();if(C)if(U.EB)L.qS(U.EB);else if(!L.wba() && !B.jnb)for(z=0;z < I.length;++z){if((B=I[z],B.uw && !L.gs(A,B.Ta))){L.qS([B.Ta]);break;}}U.u1a && this.Kb.J8b(U.u1a);return {Ta:J.Ta,Fg:F,tu:U.tu};};x.prototype.zA=function(){var z,B,A,C,D,E;A=this.ph[g.u.U];C=this.ph[g.u.J];D=this.bD[g.u.J];E=this.bD[g.u.U];A=this.m9.od.kLb(null !== (z=null === C || void 0 === C?void 0:C.Mw) && void 0 !== z?z:0,null !== (B=null === A || void 0 === A?void 0:A.Mw) && void 0 !== B?B:0,this.UI,this.I1.L0);A.Jv && (this.I1.Co && D?D.Jv=A.Jv:E && (E.Jv=A.Jv));return A.Og;};x.prototype.jua=function(z,B){var A,C,D,E;A=this;if(this.dI){C=this.dI;D=this.X.fg();E=[];B && (D=B.Sa);g.ng.forEach(function(G){var F,K;F=A.m9.od.Ae(G);if(F){K=A.Kza(F);K.mediaType=G;K.Pc=D;z === k.Ma.bh && (K.bkb=F.Xa.Kpa(D));E[G]=K;}});C.B7a || C.JJ(E,z) || this.RDa();return C;}};x.prototype.cVb=function(){var z,B;z=this.dI;B=this.K;z && (this.jua(void 0),z && !z.DO && this.bi.bDa.Ota(z));this.u4a(B);};x.prototype.RDa=function(){this.dI=void 0;};x.prototype.Qlc=function(z){var B,A,C;B=z.oldValue;z=z.newValue;A=this.dI;C=this.K;z === k.Ma.Xc && B !== k.Ma.Xc?(A && this.H.warn("override an existing play segment!"),this.u4a(C,B,!0)):z !== k.Ma.Xc && B === k.Ma.Xc && A && (this.jua(z),A && !A.DO && this.bi.bDa.Ota(A),this.RDa());};x.prototype.u4a=function(z,B,A){var C,D,E;C=this;D=[];g.ng.forEach(function(G){var F,K,O;F=C.m9.od.Ae(G);if(F){K=C.Kza(F);if(A){O=C.ph[G];O.CFa?(K.Lm=O.CFa,O.CFa=void 0):K.Lm=O.Lm;}else K.Lm=l.default.time.fa();K.Rc=F.iF;K.mediaType=G;D[G]=K;}});E=l.default.Iq();E={Atc:E[g.u.U],Mqb:E[g.u.J],Qwc:z.gfb,xw:z.xw};this.dI=new c.default(D,l.default.time.fa(),B,this.uI.fY,z.pz,E,z.Fba);};return x;})();b.NVa=a;w=(function(){function x(z){this.mediaType=z;this.gX=this.zy=this.ZB=this.Jv=this.$B=void 0;}x.prototype.Vlc=function(z,B,A){this.$B=z?z:this.$B;this.Jv=this.Jv;this.ZB=B?B:this.ZB;this.zy=A?A:this.zy;};return x;})();b.Jzb=w;u=(function(){return function(x){this.mediaType=x;this.Qya=this.Xya=this.Sya=this.DK=void 0;};})();b.Hka=u;y=(function(){return function(x,z){this.mediaType=z;this.H=n(l.default,x,"[" + z + "]");this.Ll=this.H.error.bind(this.H);this.bc=this.H.warn.bind(this.H);this.ik=this.H.trace.bind(this.H);this.Jg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.Fua=this.Lm=this.qq=this.gf=void 0;this.M0=this.Mw=0;this.c3=!1;this.maxBitrate=void 0;};})();b.Hzb=y;},function(r,b,a){var q,v,t,w,u,y,x,z,B,A,C,D,E;function d(){}function l(G,F){var K,O,L,I;K=q.qd(F)?F:d;this.K=G || ({});(function(M,H,J){this.Yk[M].nf[H]=J;}).bind(this);(function(M,H){return this.Yk[M].nf?this.Yk[M].nf[H]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.kb=G.jvc?D.kb:d;O=w.VOb(G);L=this.K.dailyDiskCacheWriteLimit;if(O){this.Ox=O;I=k(G.Ywc || E,w.MXb());this.UA=function(M){return q.xa(I) || null === I || void 0 === this.Yk[M]?!1:!q.xa(I[M]);};I?(this.Yk={},F=v.Promise.all(Object.keys(I).map(function(M){return new v.Promise(function(H,J){var N;N=I[M];N.xqb=G.xqb;new u(M,O,N,function(P,X){P?J(P):H(X);},L);});})).then((function(M){M.map((function(H){var J;J=H.Tx;this.Yk[J]=H;I[J].jWb=I[J].Et - H.TA;this.Yk[J].on(u.jf.REPLACE,(function(N){N=N || ({});N.partition=J;N.type="save";this.kb("mediacache",N);}).bind(this));this.Yk[J].on(u.jf.kXa,(function(N){N=N || ({});N.partition=J;N.type="save";this.kb("mediacache",N);}).bind(this));this.Yk[J].on(u.jf.mg,(function(N){N=N || ({});N.partition=J;N.type=u.jf.mg;this.kb("mediacache-error",N);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(M){f(O,v.storage.DU,Object.keys(I));return M;}).bind(this)).then((function(M){Object.keys(M.Yk).map(function(H){M.Yk[H].yva().map(function(J){M.delete(H,J);});});M.ow=!0;K(null,M);}).bind(this)).catch((function(M){t.error("Failed to initialize media cache ",M);this.oK=A.LKa;K(this.oK,this);}).bind(this)),C.jz(F)):(this.oK=A.qwb,K(this.oK,this));}else (this.oK=A.LKa,K(this.oK,this));}function h(G,F,K,O,L,I){var M;M=I?"mediacache-error":"mediacache";F={partition:K,type:F,resource:O,time:v.time.now()};I && (F.error=I);L && (q.Pa(L.duration) && (F.duration=L.duration),q.Pa(L.gB) && (F.bytesRead=L.gB));try{G.kb(M,F);}catch(H){t.warn("caught exception while emitting basic event",H);}}function n(G,F,K,O,L){var I;I=L?"mediacache-error":"mediacache";F={partition:K,type:F,resources:O,time:v.time.now()};L && (F.error=L);try{G.kb(I,F);}catch(M){t.warn("caught exception while emitting basic event",M);}}function c(G){return !y.zQ(G) && !z.i3b(G);}function f(G,F,K){G.query(F,"",function(O,L){O || Object.keys(L).filter(function(I){return 0 > K.indexOf(I.slice(0,I.indexOf(".")));}).map(function(I){G.remove(F,I,d);});});}function g(G,F,K){var L,I;function O(M){G.delete(L,function(H){H?K(H):(delete G.nf[I],H=Object.keys(M.resourceIndex),H=v.Promise.all(H.map(function(J){return new v.Promise(function(N,P){G.delete(J,function(X){X?P(X):N(J);});});})).then(function(){K();},function(J){K(J);}),C.jz(H));});}if(y.zQ(F))(L=F,I=y.U$(F));else (L=y.ksa(F),I=F);(F=G.nf[I])?O(F):G.read(L,function(M,H){M?K(M):O(H);});}function k(G,F){var K,O,L;K={};O=G.partitions.reduce(function(I,M){return I + M.capacity;},0);L=F / O;G.partitions.map(function(I){var M;M=I.key;K[M]={};K[M].Et=Math.floor(L * I.capacity);K[M].cQb=I.dailyWriteFactor || 1;K[M].Axc=I.owner;K[M].cUb=I.evictionPolicy;});return K;}function m(G,F,K){if(K)return z.NRb(G,F).reduce(function(O,L){Object.keys(L).map(function(I){O[I]=L[I];});return O;},{});K={};K[G]=F;return K;}function p(G,F,K,O,L,I,M,H,J,N,P){return function(X,V){X?q.isArray(X)?(V=X.map(function(S){return S.error;}),V.some(function(S){return S.code === A.zM.code;}) && !V.some(function(S){return S.code === A.s6.code;})?P(N,X,function(){J.save(F,K,O,L,I,M);}):(N.delete(H),delete N.nf[K],I({error:X[0].error,Hw:X[0].Hw,type:X[0].type,B0a:X}))):I({error:X,Hw:F,type:"save"}):(X=V.items.filter(function(S){return 0 <= Object.keys(G).indexOf(S.key);}).reduce(function(S,U){return S + U.uca;},0),N.nf[K].Gmb(X),X={jWb:V.op,Duc:V.gP,Sl:0,items:V},0 < V.Sl && (X.Sl=V.Sl),0 < V.duration && (X.duration=V.duration),I(null,X));};}q=a(13);v=a(135);t=new v.Console("MEDIACACHE","media|asejs");w=a(1083);u=a(1084);y=a(458);x=a(136);z=a(1091);B=a(1092);A=a(275);C=a(276);D=a(459).EventEmitter;E={Fxc:[]};l.prototype.$0=function(G,F,K){var O;O=q.qd(K)?K:d;this.UA(G)?this.Yk[G].query(F,function(L,I){L?(t.error("Failed to query resources",L),O([])):O(I.filter(c));}):O([]);};l.prototype.read=function(G,F,K){var O,L,I,M;O=q.qd(K)?K:d;if(this.UA(G)){L=this.Yk[G];I=L.nf[F];if(!y.zQ(F) && this.K.Y6b){M=(function(H){L.lfa(Object.keys(H),(function(J,N,P){J?O(A.eN.Ss("Failed to read " + F,J)):(h(this,"read",G,F,P),O(null,z.B2b(N)));}).bind(this),H);}).bind(this);I?M(I.resourceIndex):this.Zcc(G,F,function(H,J){H?O(A.eN.Ss("Failed to read " + F,H)):M(J.resourceIndex);});}else L.read(F,(function(H,J,N){H?O(A.eN.Ss("Failed to read " + F,H)):(I && I.convertToBinaryData && (J=B.WMb(J)),h(this,"read",G,F,N),O(null,J));}).bind(this));}else O(A.CD);};l.prototype.lfa=function(G,F,K){var O,L;O=q.qd(K)?K:d;if(this.UA(G)){L={};F=v.Promise.all(F.map((function(I){return new v.Promise((function(M,H){this.read(G,I,function(J,N){J?(N={},N[I]=J,H(N)):(L[I]=N,M());});}).bind(this));}).bind(this))).then(function(){O(null,L);},function(I){O(I);});C.jz(F);}else O(A.CD);};l.prototype.Alb=function(G,F,K){var O;O=q.qd(K)?K:d;this.UA(G)?"[object Object]" !== Object.prototype.toString.call(F)?O(A.r6.Ss("items must be a map of keys to objects")):(K=new v.Promise((function(L){var I,M;I=this.Yk[G].yva();M=Object.keys(F);(I=I.filter(function(H){return -1 === M.indexOf(H);})) && 0 < I.length?this.A5a(G,I,function(){L();}):L();}).bind(this)).then((function(){return v.Promise.all(Object.keys(F).map((function(L){return new v.Promise((function(I,M){this.save(G,L,F[L].Ls,F[L].jd,function(H,J){H?(t.error("Received an error saving",L,H),M(H)):I(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(L){var I,M,H;try{I=Number.MAX_VALUE;M=Number.MAX_VALUE;H=L.reduce(function(J,N){N.op && N.op < I && (I=N.op);N.gP && N.gP < M && (M=N.gP);I < Number.MAX_VALUE && (J.freeSize=I);M < Number.MAX_VALUE && (J.dailyBytesRemaining=M);q.Pa(N.Sl) && (J.bytesWritten+=N.Sl);q.Pa(N.duration) && (J.duration+=N.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(F),time:v.time.now(),bytesWritten:0,duration:0});this.kb("mediacache",H);O(null,H);}catch(J){O(err);}}).bind(this),(function(L){q.isArray(L.B0a)?L.B0a.forEach((function(I){this.kb("mediacache-error",{partition:G,type:"saveMultiple",error:I.error,resources:I.resources});}).bind(this)):this.kb("mediacache-error",{partition:G,type:"saveMultiple",error:L});O(L);}).bind(this)),C.jz(K)):(q.qd(K)?K:d)(A.CD);};l.prototype.save=function(G,F,K,O,L,I){var M,H,J,N,P,X,V,S,U;M=q.qd(L)?L:d;if(this.UA(G)){H=this.Yk[G];J=y.ksa(F);L=H.yva();L=L.filter(function(ha){return ha !== F;});if(q.xa(O) || q.yb(O) || !q.Pa(O.lifespan))M(A.Swb);else {N=m(F,K,this.K.Y6b);P=H.nf[F] || ({});X=P.resourceIndex;X && Object.keys(X).map(function(ha){q.xa(N[ha]) && H.delete(ha);});O.convertToBinaryData && (K=B.XMb(N),N=m(F,K,!1));X=v.time.now();V={};V.partition=G;V.resourceIndex=Object.keys(N).reduce(function(ha,qa){ha[qa]=x.Ewa(N[qa]);return ha;},{});V.creationTime=P.creationTime || X;V.lastRefresh=X;V.lifespan=O.lifespan;V.lastMetadataUpdate=X;V.size=P.size;V.convertToBinaryData=O.convertToBinaryData;S=(function(ha,qa,xa){ha.dRb((function(Aa,Oa){Aa && t.error("Evicting","Failed to delete some orphaned records",Aa);Oa.qDa?xa():(Aa=ha.ZXb())?this.delete(ha.Tx,Aa,(function(T){T?(I || (q.isArray(qa)?qa.forEach((function(W){n(this,"save",ha.ZYb,W.resources,W.error);}).bind(this)):h(this,"save",ha.Tx,F,void 0,qa)),M(qa)):xa();}).bind(this)):M(A.zM);}).bind(this));}).bind(this);U=(function(){var ha,qa,xa;ha=this.Yk;qa=0;xa=v.time.now();if(!q.xa(ha))for(var Aa in ha){qa+=ha[Aa].kXb(xa);}return qa;}).bind(this);this.A5a(G,L,(function(){H.replace(J,V,(function(ha,qa){qa?(H.nf[F]=y.Tua(V),H.mec(N,p(N,G,F,K,O,M,I,J,this,H,S),I,U)):ha.code === A.zM.code?S(H,ha,(function(){this.save(G,F,K,O,M,I);}).bind(this)):M(ha);}).bind(this),I,U);}).bind(this));}}else M(A.CD);};l.prototype.delete=function(G,F,K){var O;O=q.qd(K)?K:d;this.UA(G)?g(this.Yk[G],F,(function(L){h(this,"delete",G,F,void 0,L);O(L);}).bind(this)):O(A.CD);};l.prototype.A5a=function(G,F,K){var O,L;O=q.qd(K)?K:d;if(this.UA(G)){L=this.Yk[G];K=v.Promise.all(F.map((function(I){return new v.Promise((function(M){g(L,I,(function(H){M({ja:q.xa(H),error:H,Ls:I});}).bind(this));}).bind(this));}).bind(this))).then((function(I){var P,X;for(var M=[],H=[],J=[],N=0;N < I.length;N++){P=I[N];P.ja?M.push(P.Ls):P.error && H.push(P);}0 < M.length && n(this,"delete",G,M);if(0 < H.length){J=H.map(function(V){return V.Ls;});I=C.sab(H);X=I[0];I.forEach((function(V){t.error("Failed to delete resources ",V.error,V.resources);n(this,"delete",G,V.resources,V.error);}).bind(this));}I={};I.Zxc=M;0 < J.length && (I.$xc=J);X?O(X,I):O(void 0,I);}).bind(this),(function(I){n(this,"delete",G,F,I);O(I);}).bind(this));C.jz(K);}else O(A.CD);};l.prototype.clear=function(G,F){var K;K=q.qd(F)?F:d;this.UA(G)?this.Yk[G].clear(function(O){K(O.filter(c));}):K(A.CD);};l.prototype.Zcc=function(G,F,K){var O,L;O=q.qd(K)?K:d;if(this.UA(G)){L=this.Yk[G];L.read(y.ksa(F),function(I,M){var H;if(I)O(A.Twb);else {H=y.Tua(M) || ({});L.y$a(Object.keys(H.YDa),function(J){H.size=J;(J=L.nf[F]) && (H.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= H.lastMetadataUpdate?L.nf[F]=H:J.lastMetadataUpdate && (J.lastMetadataUpdate > H.lastMetadataUpdate || q.xa(H.lastMetadataUpdate)) && (H=J));O(null,H);});}});}else O(A.CD);};l.prototype.constructor=l;r.exports=l;},function(r,b,a){var n,c;function d(f,g,k,m,p,q){return new h(f,g,k,m,p,q);}function l(f){return f && 0 <= f.indexOf(".__metadata__");}function h(f,g,k,m,p,q){this.partition=f;this.lifespan=k;this.resourceIndex=g;this.size=m;this.creationTime=p;this.lastRefresh=q;return this.bpb();}n=a(13);c=a(135);a(136);new c.Console("MEDIACACHE","media|asejs");h.prototype.refresh=function(){this.lastRefresh=c.time.now();return this.bpb();};h.prototype.Gmb=function(f){this.size=f;};h.prototype.L3a=function(){var f;f=c.time.now();return (this.lastRefresh + 1E3 * this.lifespan - f) / 1E3;};h.prototype.bpb=function(){this.lastMetadataUpdate=c.time.now();return this;};h.prototype.constructor=h;r.exports={create:d,Tua:function(f){var g;g=f;"string" === typeof f && (g=JSON.parse(f));if(g && g.partition && !n.xa(g.lifespan) && g.resourceIndex && g.creationTime && g.lastRefresh)return (f=d(g.partition,g.resourceIndex,g.lifespan,-1,g.creationTime,g.lastRefresh),g.lastMetadataUpdate && (f.lastMetadataUpdate=g.lastMetadataUpdate),!n.xa(g.size) && 0 <= g.size && f.Gmb(g.size),f.L3a(),f.convertToBinaryData=g.convertToBinaryData,f);},ksa:function(f){return f + ".__metadata__";},U$:function(f){return l(f)?f.slice(0,f.length - 13):f;},zQ:l};},function(r,b,a){r.exports={EventEmitter:a(1087),kf:a(1088)};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ZP=void 0;d=a(0).__importDefault(a(3));l=a(1096);b.ZP=function(){var n;if(!h){n=new d.default.Console("ASEJS","media|asejs");h=new l.pIa(n);}return h;};},function(r,b,a){var p,q,v;function d(t){return t.Ku - t.Lt;}function l(t,w){return Math.exp(-(Math.log(2) / t) * w);}function h(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function n(t,w){var u,y,x,z,B;u=w.HCa;y=w.GCa;x=w.T0;if(0 === w.yi.length)return {w8:!1};z=w.yi[0];w=z.Se;B=z.CF;z=z.duration;if(!B || 1 === x)return {w8:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(u < y)return {w8:!1};y=u - y;u=x + y / z * (1 - x);z-=y;B=B * (1 - u) / (1 - x);t=w * u / x * l(t,z) + B * h(t,z);(0,q.assert)(1 >= t);return {w8:!0,EHb:t};}function c(t){var w,u,y,x,z;w=t.Xn;u=t.Snb;y=t.UC;x=t.Ku;z=t.Lt;t=t.V7a;(0,q.assert)(void 0 !== u);(0,q.assert)(void 0 !== w);y=1 - y;x-=z;t?(z=u - t - x,w-=t,0 >= z?t=Math.max(0,(u - t) / w):(u=w - z,t=0 < u?x / u:0,y*=0 < u?u / w:1)):(z=u - x,0 >= z?t=u / w:(u=w - z,t=0 < u?x / u:0,y*=0 < u?u / w:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function f(t,w){t=Math.log(2) / t.ckb;return g(w) * Math.exp(-t * d(w));}function g(t){var w;return (null !== (w=t.eK) && void 0 !== w?w:1) * t.yi.reduce(function(u,y){var x;x=y.CF;return u * (y.Se + (void 0 === x?0:x));},1);}function k(t){var w,u,y,x;if(0 === t.yi.length)return 0;u=0;if(1 > t.T0){u=t.HCa;y=t.GCa;x=null !== (w=t.yi[0].duration) && void 0 !== w?w:0;u=Math.max(0,Math.min(x,u - (y - x)));}return t.yi.reduce(function(z,B){B=B.duration;return z + (void 0 === B?0:B);},0) - u;}function m(t){return t.yi.filter(function(w){return !w.CF;}).reduce(function(w,u){return w * u.Se;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Yqa=b.w2a=b.EKb=b.v2a=b.IKb=void 0;p=a(6);q=a(2);v=a(9);b.IKb=d;b.v2a=function(t,w,u){var y,x,z,B,A,C,D,E;if(!t.C$ || (0,p.Nq)(w.Pg))return f(t,w);x=t.ckb;t=d(w);z=k(w);B=m(w);A=n(x,w);C=A.w8;A=A.EHb;A=void 0 === A?1:A;D=1 > w.UC?c(w):1;E=(null !== (y=w.eK) && void 0 !== y?y:1) * B * l(x,t - z) * A * D * w.yi.filter(function(G,F){return G.CF && (0 < F || !C);}).reduce(function(G,F){var K,O;K=F.CF;O=F.duration;O=void 0 === O?0:O;K=void 0 === K?0:K;F=F.Se * l(x,O) + K * h(x,O);return G * F;},1);v.M && (null === u || void 0 === u?void 0:u.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.UC,", ") + ("pssp: ").concat(w.T0,", ") + ("streamingDuration: ").concat(w.Snb,", ") + ("duration: ").concat(w.Xn,", ") + ("seamlessProbability: ").concat(B,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(x,t - z),", ") + ("adjustedFirstTerm: ").concat(A,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(w.yi)," => ").concat(E)));return E;};b.EKb=f;b.w2a=g;b.Yqa=m;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.zU=void 0;d=a(6);r=(function(){function l(){this[d.u.U]=0;this[d.u.J]=0;this[d.u.nb]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[d.u.U] + this[d.u.J] + this[d.u.nb];},enumerable:!1,configurable:!0}});l.prototype.add=function(h){this[d.u.U]+=Math.max(h[d.u.U] || 0,0);this[d.u.J]+=Math.max(h[d.u.J] || 0,0);this[d.u.nb]+=Math.max(h[d.u.nb] || 0,0);};l.prototype.rpa=function(h,n){this[h]+=Math.max(n || 0,0);};return l;})();b.zU=r;d.u.U;d.u.J;d.u.nb;},function(r,b,a){var l,h,n,c;function d(){return l.__awaiter(this,void 0,void 0,function(){var f;return l.__generator(this,function(g){switch(g.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(460));})];case 1:return (f=g.ub().ZP,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.cZ=void 0;l=a(0);h=a(1110);n=l.__importDefault(a(3));b.cZ=function(f){var g;g=new n.default.Console("ASEJS","media|asejs");c || (c=new h.fUa(function(){return d();},f,g));return c;};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;d=a(0);l=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);return n;})(Error);b.AssertionError=l;b.assert=function(h,n){if(!h)throw new l(n || "Assertion failed");};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.aaa=b.sVb=b.pua=void 0;d=a(280);b.pua=function(l,h){var n;n=void 0;return Object.keys(l.T).some(function(c){var f;return null === (f=(n=l.T[c]).next) || void 0 === f?void 0:f[h];})?n:void 0;};b.sVb=function(l,h){return d.Nc(Object.keys(l.T),function(n){var c;return null === (c=l.T[n].next) || void 0 === c?void 0:c[h];});};b.aaa=function(l,h){return Object.keys(l.T).filter(function(n){var c;return null === (c=l.T[n].next) || void 0 === c?void 0:c[h];});};},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p){return p === c.u.J?0:p === c.u.U?1:p === c.u.nb?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Lia=b.uD=b.nxb=b.cH=void 0;l=a(0);h=a(11);n=a(9);c=a(6);f=l.__importDefault(a(3));g=a(8);k=a(2);b.cH=function(p,q){p=d(p.mediaType);q=d(q.mediaType);return p - q;};b.nxb={cH:b.cH};(function(p){p[p.NT=0]="CREATED";p[p.FT=1]="CANCELLED";})(m=b.uD || (b.uD={}));r=(function(){function p(q,v,t,w,u){this.mq=q;this.wYa=v;this.Ar=t;this.bo=w;this.Tc=m.NT;this.qO=[];this.events=new h.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,g.ri)(f.default,u,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Uf:{get:function(){return this.Tc === m.FT;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{G:{get:function(){return this.mq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Fe:{get:function(){return this.qO;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.wYa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.oa=function(){return l.__awaiter(this,void 0,void 0,function(){var q,v,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Qc && (v=q.Qc.Fa(this.bo),this.jr(v,"init from parent")),q.lT.then(function(){var w;if(!t.Uf){w=t.parent;(0,k.assert)(w,"Parent is undefined after parent normalization");w.Qc && (w=w.Qc.Fa(t.bo),t.jr(w,"parent normalization"));}}));return [2];});});};p.prototype.jr=function(q,v){void 0 === v && (v="unknown");n.M && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.Z) + (" from ").concat(this.Ar.Z,".  ").concat(v));this.Ar=q;};p.prototype.he=function(){this.wYa=void 0;};p.prototype.zba=function(q){return this.Fe.some(function(v){return v.mediaType === q;});};return p;})();b.Lia=r;},function(r,b,a){var h,n,c,f;function d(g,k,m,p,q){var v,t;m=null !== (v=k.pd) && void 0 !== v?v:k.track.mp(g,m.Z,void 0,q);g=null !== (t=k.Xd) && void 0 !== t?t:k.track.LB(g,null === p || void 0 === p?void 0:p.Z,k.Wh);return [!k.Hh(),m,g];}function l(g,k){var C,D;for(var m=[],p=0,q=g[p],v=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],w=k.Xd.index,u=k.track.fr,y=0,x=k.pd.cc,z=k.pd.xd.Z > q[0],B=z,A=k.pd.index;A <= w;++A){C=!1;if(q){D=u.get(A);z && (D.cc.Z >= t?(z=!1,++p >= g.length?t=v=q=void 0:(q=g[p],v=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):B?B=!1:(m.push(new c.R5(y,x,D.cc)),x=D.cc,C=!0));!z && q && D.xd.Z > v && (z=!0,C=D.cc,(D=k.track.nK.Zl(A).O7a(v)) && 0 !== D.uj && (C=f.O.Na(D.Ce)),m.push(new c.R5(y,x,C)),x=C,C=!0);}C && ++y;}m.push(new c.R5(y,x,k.Xd.xd));return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.q6b=b.Meb=b.Igb=b.Ggb=b.CDa=void 0;h=a(0);n=a(6);c=a(468);f=a(8);b.CDa=function(g,k,m){var p,q,v;v=k.get(n.u.U);k=k.get(n.u.J);k=null === k || void 0 === k?void 0:k.track.LB(g,null === m || void 0 === m?void 0:m.Z,k.Wh);return [null === v || void 0 === v?void 0:v.track.LB(g,null !== (q=null === (p=null === k || void 0 === k?void 0:k.xd) || void 0 === p?void 0:p.Z) && void 0 !== q?q:null === m || void 0 === m?void 0:m.Z,v.Wh),k];};b.Ggb=function(g,k,m,p,q){var v,t,w,u;v=k.get(n.u.U);k=k.get(n.u.J);t=h.__read(k?d(g,k,m,p,q):[!1],3);w=t[0];u=t[1];t=t[2];p=h.__read(v?d(g,v,w && void 0 !== (null === u || void 0 === u?void 0:u.ca)?f.O.Na(u.ca):m,void 0 !== (null === t || void 0 === t?void 0:t.Sa)?f.O.Na(null === t || void 0 === t?void 0:t.Sa):p,q):[!1],3);g=p[0];m=p[1];p=p[2];g && (null === v || void 0 === v?void 0:v.Yba(m,p));w && (null === k || void 0 === k?void 0:k.Yba(u,t));return [g,w];};b.Igb=function(g,k,m){return k.track.mp(g,m.Z,void 0,!0).cc;};b.Meb=function(g,k,m){var p;p=k.G;if(!p.Dq || 0 === p.Dq.length)return [];g=p.Dq.map(function(q){return [p.Ba + q[0],p.Ba + q[1]];});return l(g,m.$ea);};b.q6b=l;},function(r,b,a){var l,h,n;function d(c){return "immediate" === c;}Object.defineProperties(b,{__esModule:{value:!0}});b.XTa=b.R5=b.tcb=void 0;l=a(0);h=a(8);n=a(2);b.tcb=d;r=(function(){function c(f,g,k){this.region=f;this.cc=g;this.xd=k;}c.prototype.toJSON=function(){return {region:this.region,ca:this.cc.IC,Sa:this.xd.IC};};return c;})();b.R5=r;r=(function(){function c(f,g,k){var m,p,q;m=this;this.id=f;this.G=g;this.uZa=!1;this.hQ=function(v){var t,w,u,y;return (null === (t=m.nz) || void 0 === t?0:t.length)?"immediate":null !== (y=null === (u=null === (w=m.G.next) || void 0 === w?void 0:w[v]) || void 0 === u?void 0:u.Ge) && void 0 !== y?y:m.Ge;};this.mW=new h.O(g.Ba,1E3);this.tV=void 0 !== g.Aa && null !== g.Aa?new h.O(g.Aa,1E3):h.O.Zt;this.LFb=null !== (q=null !== (p=g.Ge) && void 0 !== p?p:k) && void 0 !== q?q:"lazy";this.Nbb();(0,n.assert)(this.mW.lessThan(this.tV),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(c.prototype,{N:{get:function(){return this.G.N;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{em:{get:function(){return this.uZa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{xf:{get:function(){return this.mW;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Eh:{get:function(){return this.tV;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{duration:{get:function(){return this.tV.Fa(this.mW);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.mW.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Sa:{get:function(){return this.tV.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{qG:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Lu:{get:function(){return this.wC.length?!this.G.dc && 0 === this.lR.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{wcb:{get:function(){return !this.G.type || "content" === this.G.type;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{o8b:{get:function(){return this.aE;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{wC:{get:function(){var f,g;return Object.keys(null !== (g=null === (f=this.G) || void 0 === f?void 0:f.next) && void 0 !== g?g:{});},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{lR:{get:function(){var f;f=this;return this.wC.filter(function(g){return !!f.aE[g];});},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{aGa:{get:function(){var f;return null !== (f=this.v_a) && void 0 !== f?f:this.v_a=this.JKb();},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Rga:{get:function(){var f;return null !== (f=this.w_a) && void 0 !== f?f:this.w_a=this.KKb();},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{UC:{get:function(){return this.G.weight?this.G.weight / (this.G.weight + this.Rga):1;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ge:{get:function(){var f;return (null === (f=this.nz) || void 0 === f?0:f.length)?"immediate":this.LFb;},enumerable:!1,configurable:!0}});c.prototype.normalize=function(f,g,k){this.mW=f;this.tV=g;this.nz=k;this.uZa=!0;this.lrb();};c.prototype.rva=function(){var f;return this.lR.length?null !== (f=this.lR.map(this.hQ).reduce(function(g,k){return g === k?k:void 0;})) && void 0 !== f?f:this.Ge:this.Ge;};c.prototype.Lk=function(f){this.Nbb(f);};c.prototype.zKb=function(f){var g,k;if(this.aGa){g=(this.aE[f] || 0) / this.aGa;if(void 0 === this.G.weight || 0 === this.Rga)return {Se:g};k=this.UC;return 1 !== k && d(this.hQ(f)) && this.aE[f]?{Se:k * g,CF:this.aE[f] / this.Rga * (1 - k)}:{Se:k * g};}return {Se:(null === (g=this.G.next) || void 0 === g?0:g[f])?1 / this.wC.length:0};};c.prototype.E0b=function(f){return -1 < this.wC.indexOf(f);};c.prototype.iIb=function(){return this.em?l.__assign(l.__assign({},this.G),{Ba:this.xf.Z,Aa:this.Eh.Z}):this.G;};c.prototype.Nbb=function(f){var g;if(void 0 === this.G.next)this.aE={};else {g=this.G.next;this.aE=Object.keys(g).reduce(function(k,m){var p;p=f?f[m] || 0:g[m].weight;void 0 !== p && null !== p && 0 <= p && (k[m]=p);return k;},{});}this.lrb();};c.prototype.JKb=function(){var f;f=this;return this.lR.reduce(function(g,k){return g + f.aE[k];},0);};c.prototype.KKb=function(){var f;f=this;return this.lR.filter(function(g){return d(f.hQ(g));}).reduce(function(g,k){return g + f.aE[k];},0);};c.prototype.lrb=function(){this.w_a=this.v_a=void 0;};return c;})();b.XTa=r;},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Cla=void 0;d=a(0);l=a(11);h=a(8);n=a(2);c=a(6);r=a(137);f=d.__importDefault(a(3));g=a(9);k=r.fz.Nsa;a=(function(){function m(){this.yR=[];this.$D=new h.lA(!1);this.YD=new h.lA(h.O.Na(-Infinity));this.events=new l.EventEmitter();this.H=new f.default.Console("ASEJS","media|asejs");}Object.defineProperties(m.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ff:{get:function(){return this.Vx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Bdb:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lp:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sG:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.Tt();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{T0a:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pu:{get:function(){return this.$D;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hya:{get:function(){return this.YD;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tf:{get:function(){return this.Iy;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Me:{get:function(){return this.XJ();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ni:{get:function(){var p,q;p=this.Me;q=this.dn(p,!1);g.M && (0,n.assert)(q,("Could not find current branch for ").concat(p.Z));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{l2b:{get:function(){return this.cb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fu:{get:function(){return this.Iy?this.cb[this.cb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wi:{get:function(){var p,q;p=this.Me;q=this.KY(p);(0,n.assert)(q,("Could not find presenting branch for ").concat(p.Z));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Iy:{get:function(){return 0 < this.cb.length;},enumerable:!1,configurable:!0}});m.prototype.nga=function(){};m.prototype.mmb=function(){};m.prototype.hi=function(){return !1;};m.prototype.Aba=function(){return 0 < this.cb.length;};m.prototype.rp=function(){(0,n.assert)(0 < this.cb.length,"Could not find presenting branch. Player has no branches.");return this.wi;};m.prototype.Aab=function(p){return -1 !== this.cb.indexOf(p);};m.prototype.V8=function(){return void 0 !== this.Ka?!1:!0;};m.prototype.vR=function(){};m.prototype.Wa=function(){};m.prototype.rZ=function(p){var q,v,t;q=this.cb.filter(function(w){return w.G.id === p.S;});if(0 !== q.length){v=this.XJ();t=new h.O(Infinity,1);q.forEach(function(w){w=w.Cs.add(p.offset);v.lP(w).lessThan(v.lP(t)) && (t=w);});return t;}};m.prototype.sZ=function(p){var q,v,t,w,u,y,x,z,B,A;return d.__generator(this,function(C){switch(C.label){case 0:q=this.cb.filter(function(D){return D.G.id === p.S;});if(0 === q.length)return [2,void 0];v=this.XJ();C.label=1;case 1:(C.Mp.push([1,6,7,8]),t=d.__values(q),w=t.next(),C.label=2);case 2:if(w.done)return [3,5];u=w.value;y=u.Cs.add(p.offset);x=v.lP(y);return [4,{Wq:y,lP:x}];case 3:(C.ub(),C.label=4);case 4:return (w=t.next(),[3,2]);case 5:return [3,8];case 6:return (z=C.ub(),B={error:z},[3,8]);case 7:try{w && !w.done && (A=t.return) && A.call(t);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};m.prototype.dn=function(p,q){var v,t,w;void 0 === q && (q=!1);v=this.KY(p,q);if(v){t=v.G;q=t.id;w=t.duration;p=h.O.min(p.Fa(t.xf.add(v.Ud)),w || h.O.Zt);return {S:q,offset:p};}};m.prototype.aba=function(){};m.prototype.reset=function(){this.KE();};m.prototype.TDa=function(){};m.prototype.cS=function(){};m.prototype.pause=function(p){void 0 === p && (p=c.ng);this.yR=null === p || void 0 === p?void 0:p.reduce(function(q,v){-1 === q.indexOf(v) && q.push(v);return q;},this.yR);};m.prototype.resume=function(p){var q;q=this;void 0 === p && (p=c.ng);p.forEach(function(v){v=q.yR.indexOf(v);-1 !== v && q.yR.splice(v,1);});};m.prototype.AGa=function(p){var q;(0,n.assert)(this.Ka);(0,n.assert)(p !== this);this.SL();q=p.V8(this.Ka,this);q && (this.dfa(),p.pause(this.yR),p.Hta.apply(p,d.__spreadArray([],d.__read(this.cb),!1)),this.Vsa(this.Ka));return q;};m.prototype.XJ=function(){return this.R9a();};m.prototype.R9a=function(){var p,q;g.M && (0,n.assert)(this.Iy,"Attempted to get initial time before any branches were queued");q=d.__read(this.cb,1)[0];g.M && (0,n.assert)(q);return null !== (p=q.Ed) && void 0 !== p?p:q.$t;};m.prototype.Tt=function(){return 1;};m.prototype.YY=function(){};m.prototype.KY=function(p,q){var v;void 0 === q && (q=!1);if(this.Iy){v=this.R9a();return p.lessThan(v)?this.cb[0]:(0,h.uua)(this.cb,p) || (q?this.fu:void 0);}};m.prototype.xXb=function(){var p,q,w,u,y,x,z,B;q={};try{for(var v=d.__values(this.cb),t=v.next();!t.done;t=v.next()){w=t.value;u=void 0;y=void 0;x=w.NB();for(u in x){z=u;B=x[z];B && (q[z]=(null !== (y=q[z]) && void 0 !== y?y:0) + B);}if(!w.Gj)break;}}catch(C){var A;A={error:C};}finally{try{t && !t.done && (p=v.return) && p.call(v);}finally{if(A)throw A.error;}}return q;};d.__decorate([k.return.Ti(),k.return.aea],m.prototype,"Bdb",null);d.__decorate([k.return.Ti()],m.prototype,"Ni",null);d.__decorate([k.return.wqa(),k.return.xo],m.prototype,"rp",null);d.__decorate([d.__param(0,k.Ti())],m.prototype,"rZ",null);d.__decorate([d.__param(0,k.Ti())],m.prototype,"sZ",null);d.__decorate([k.return.Ti()],m.prototype,"dn",null);return m;})();b.Cla=a;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Nfa=void 0;d=a(0);l=a(2);h=a(199);b.Nfa=function(n,c,f,g,k,m){var p,q;void 0 === k && (k=h.ux.VX);p=n();if(g && p){q=g.Ipa;n=g.xo;g=g.rules.map(function(v){return ["function" === typeof v.xl?v.xl(f):f[v.xl],v.config];});q || (0,l.assert)(c,"Param is null");m && g.push([{map:m,hB:function(){return !0;}},void 0]);m=g.filter(function(v){v=d.__read(v,2);return v[0].hB(c,p,v[1]);});n && (0,l.assert)(m.length,("No rules matched for ").concat(c));if(m.length)return m.reduce(function(v,t){t=d.__read(t,2);return t[0].map(v,k,p,t[1]);},c);}return c;};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(472),b);r.__exportStar(a(1146),b);r.__exportStar(a(412),b);},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.mia=void 0;d=a(66);r=(function(){function l(h){this.dg=h;this.UZ=this.ls=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.dg.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return d.O.Na(this.dg.Ba);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return d.O.Na(this.dg.Aa);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sE:{get:function(){return this.dg.sE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$ga:{get:function(){return this.dg.$ga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{qw:{get:function(){return this.dg.qw;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{NS:{get:function(){return this.dg.NS;},enumerable:!1,configurable:!0}});return l;})();b.mia=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.R8a=b.z$a=b.iva=b.MUa=void 0;d=a(0);l=a(9);h=a(28);r=(function(){function n(c){this.Lb=c;}Object.defineProperties(n.prototype,{je:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ru:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});n.prototype.ol=function(c){var f,g,p;c=c.Ug;if(c === h.Kc.kl || c === h.Kc.sn)if(c=this.Lb.dva()){g={};try{for(var k=d.__values(c.Nac),m=k.next();!m.done;m=k.next()){p=m.value;g[p.mediaType]=this.j6b(p);}}catch(v){var q;q={error:v};}finally{try{m && !m.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.R8a)(c.Scc),playerIterator:g,driftStats:this.Lb.AHa};}};n.prototype.j6b=function(c){return null === c || void 0 === c?void 0:c.S9a();};return n;})();b.MUa=r;b.iva=function(n){var c,f;if(n){c=n.G;f={};n.Rm().forEach(function(g){f[g.mediaType]=(0,b.z$a)(g);});return {sId:null === c || void 0 === c?void 0:c.id,cancelled:n.Uf,RM:f};}return n;};b.z$a=function(n){var c,f,g;if(n && n.Xa)return d.__assign(d.__assign({},n.Xa.ewa()),{unsentRequests:n.Xa.Su,lastFragmentContentEndPts:null === (c=n.Xd) || void 0 === c?void 0:c.Oc,trackAttributes:null === (f=n.track) || void 0 === f?void 0:f.qp(),bitrate:null === (g=n.Xd) || void 0 === g?void 0:g.bitrate});};b.R8a=function(n){return n.map(function(c){return (0,b.iva)(c);});};},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.mEa=b.xra=b.dn=b.qab=b.Kqb=void 0;d=a(8);l=a(2);h=a(9);b.Kqb=function(c,f){c=c.T[f.S];if(void 0 === c)return {CQ:!1,reason:("Segment ").concat(f.S," was not found")};if(0 > f.offset.Z)return {CQ:!1,reason:("Offset ").concat(f.offset.Z," was negative")};if(void 0 === c.Aa || null === c.Aa || Infinity === c.Aa)return {CQ:!0};c=c.Aa - c.Ba;return f.offset.Z >= c?{CQ:!1,reason:("Offset ").concat(f.offset.Z," was greater than segment duration ").concat(c)}:{CQ:!0};};n=d.O.Na(100);b.qab=function(c,f){if(c === f)return !0;if(c && f && c.S === f.S){if(c.offset === f.offset)return !0;c=d.O.abs(c.offset.Fa(f.offset));if(n.greaterThan(c))return !0;}return !1;};b.dn=function(c,f,g){var k,m,p,q;p=f.Ka;f=f.m2b;void 0 === g && (g={});q=p.na;p=p.navigator;q=p.Be(null !== (k=null === f || void 0 === f?void 0:f.id) && void 0 !== k?k:q.ke);k=null !== (m=null === f || void 0 === f?void 0:f.Ufc) && void 0 !== m?m:q.xf;if(k.greaterThan(c))return g.dic?{offset:c.Fa(k),S:q.id}:void 0;f=p.jdb(q);for(p=f.next();!p.done;){m=p.value;p=m.Eh.Fa(m.xf);q=k;k=q.add(p);if(k.greaterThan(c))return (c=c.Fa(q),h.M && (0,l.assert)(c.tk(d.O.Oa) && c.lessThan(p)),{S:m.id,offset:c});p=f.next();if(p.done && g.eic)return {S:m.id,offset:c.Fa(q)};}};b.xra=function(c,f){f=f.T[c.S];return c.offset.lessThan(d.O.Oa)?{z9:d.O.Oa,yq:c.offset}:f.Aa && (f=d.O.Na(f.Aa - f.Ba),f.isFinite() && c.offset.greaterThan(f))?{z9:f,yq:c.offset.Fa(f)}:{z9:c.offset,yq:d.O.Oa};};b.mEa=function(c,f){c=c.T[f.S];if(void 0 !== c)return null === c.Aa || void 0 === c.Aa?{S:f.S,offset:d.O.max(d.O.Oa,f.offset)}:{S:f.S,offset:d.O.max(d.O.Oa,d.O.min(f.offset,d.O.Na(c.Aa - c.Ba)))};};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.fjb=b.l6=void 0;a(0);d=a(9);l=a(476);h=a(2);a(21);r=(function(){function n(){this.W=new l.Nla();}Object.defineProperties(n.prototype,{empty:{get:function(){return !this.qz;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{root:{get:function(){var c;return null === (c=this.qz) || void 0 === c?void 0:c.value;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{values:{get:function(){var c;c=[];this.MJ(function(f){return !!c.push(f);});return c;},enumerable:!1,configurable:!0}});n.prototype.has=function(c){return !!this.W.get(c);};n.prototype.parent=function(c){var f;c=this.W.get(c);d.M && (0,h.assert)(c,"Attempted to find the parent of a node not in the tree");return null === (f=null === c || void 0 === c?void 0:c.parent) || void 0 === f?void 0:f.value;};n.prototype.children=function(c){c=this.W.get(c);d.M && (0,h.assert)(c,"Attempted to find the children of a node not in the tree");return (null === c || void 0 === c?0:c.children)?c.children.map(function(f){return f.value;}):[];};n.prototype.Owa=function(c){c=this.W.get(c);d.M && (0,h.assert)(c,"Attempted to find the children of a node not in the tree");return void 0 !== (null === c || void 0 === c?void 0:c.children) && 0 < c.children.length;};n.prototype.add=function(c,f){var g;d.M && (0,h.assert)(!this.W.get(c),"Attempted to add a value to tree that is already present");g={value:c};void 0 === this.qz?(d.M && (0,h.assert)(void 0 === f,"a parent cannot be specified when the tree is empty"),this.qz=g):(d.M && (0,h.assert)(void 0 !== f,"a parent must be specified when the tree is non-empty"),f=this.W.get(f),d.M && (0,h.assert)(f,"Parent value does not exist in tree"),this.o1a(g,f));this.W.set(c,g);return this;};n.prototype.remove=function(c){c=this.W.get(c);d.M && (0,h.assert)(c,"Attempted to remove a node not in the tree");this.removeNode(c);return this;};n.prototype.removeNode=function(c){var f;f=this;this.Hua(function(g){return f.W.delete(g);},c.value);void 0 === c.parent?this.qz=void 0:this.detach(c);};n.prototype.move=function(c,f){c=this.W.get(c);f=this.W.get(f);d.M && (0,h.assert)(c,"cannot move a value that is not in the tree");d.M && (0,h.assert)(f,"cannot move a value to a parent value not in the tree");d.M && (0,h.assert)(null === c || void 0 === c?void 0:c.parent,"cannot move the root node");d.M && (0,h.assert)(!this.M2b(c,f),"cannot move a node below itself or one of its decendants");c.parent !== f && (this.detach(c),this.o1a(c,f));return this;};n.prototype.nec=function(c){var f,g;f=this;c=this.W.get(c);d.M && (0,h.assert)(c,"cannot replant at a value that is not in the tree");g=[];this.detach(c);this.Hua(function(k){f.W.delete(k);g.unshift(k);return !0;});this.qz=c;};n.prototype.clear=function(){this.qz && this.remove(this.qz.value);return this;};n.prototype.b8a=function(c,f){var g,k;g=this;c=this.W.get(c);d.M && (0,h.assert)(c,"cannot iterate children of a value not in the tree");null === (k=c.children) || void 0 === k?void 0:k.forEach(function(m){return f(m.value,g);});};n.prototype.hic=function(c,f){var g,k;g=this;c=this.W.get(c);d.M && (0,h.assert)(c,"cannot iterate children of a value not in the tree");return !(null === (k=c.children) || void 0 === k || !k.some(function(m){return f(m.value,g);}));};n.prototype.MJ=function(c){this.c8a(c,void 0);};n.prototype.c8a=function(c,f,g,k){var m;m=this;void 0 === k && (k=0);d.M && (0,h.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (f=null !== f && void 0 !== f?f:this.qz.value,c(f,g,this,k) && this.b8a(f,function(p){return m.c8a(c,p,f,k + 1);}));};n.prototype.Hua=function(c,f){var g;g=this;d.M && (0,h.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (null !== f && void 0 !== f?f:f=this.qz.value,this.b8a(f,function(k){return g.Hua(c,k);}),c(f,this));};n.prototype.M7a=function(c,f){var g,k;g=this;d.M && (0,h.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");if(!this.empty){null !== f && void 0 !== f?f:f=this.qz.value;return this.hic(f,function(m){return !!(k=g.M7a(c,m));})?k:c(f,this)?f:void 0;}};n.prototype.ARb=function(c){var f,g,k,m;f=this;g=this.values;k=g.filter(function(p){return !c.has(p);});m=c.values.filter(function(p){return !f.has(p);});g=g.filter(function(p){return c.has(p) && f.parent(p) !== c.parent(p);});return {Apa:k,WR:m,Ikb:g};};n.prototype.o1a=function(c,f){var g;c.parent=f;(null !== (g=f.children) && void 0 !== g?g:f.children=[]).push(c);};n.prototype.detach=function(c){var f;d.M && (0,h.assert)(c.parent,"cannot detach the root");d.M && (0,h.assert)(void 0 !== c.parent.children,"logic error: parent node does not have children");f=c.parent.children.indexOf(c);(0,h.assert)(0 <= f,"logic error: node does not appear in the children of its parent");c.parent.children.splice(f,1);c.parent=void 0;};n.prototype.M2b=function(c,f){for(;void 0 !== f;){if(f === c)return !0;f=f.parent;}return !1;};return n;})();b.l6=r;b.fjb=function(n,c){var f;f="";n.MJ(function(g,k,m,p){f+=("").concat(Array(p + 1).join("-")).concat(c(g),"\n");return !0;});return f;};},function(r,b){var l,h,n;function a(c){return void 0 !== (null === c || void 0 === c?void 0:c.sXa);}function d(c){return (a(c)?c:Object.defineProperties(c,{sXa:{value:{},configurable:!1,enumerable:!1}})).sXa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Nla=void 0;h=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;n=Date.now() % h;r=(function(){function c(){this.id=n=(n + 1) % h;}c.prototype.get=function(f){return a(f)?d(f)[this.id]:void 0;};c.prototype.set=function(f,g){d(f)[this.id]=g;return this;};c.prototype.has=function(f){return a(f) && void 0 !== d(f)[this.id];};c.prototype.delete=function(f){if(!this.has(f))return !1;d(f)[this.id]=void 0;return !0;};return c;})();b.Nla=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Rka=void 0;d=a(0);l=a(11);h=a(9);n=a(2);r=(function(){function c(){this.events=new l.EventEmitter();}c.prototype.oa=function(f){var g;g=this;this.Ka=f;this.Ka.events.on("segmentNormalized",function(){g.qfa();});this.qfa();};Object.defineProperties(c.prototype,{c0:{get:function(){return this.qDb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{SGa:{get:function(){(0,n.assert)(this.Ka,"Must be initialized");return this.Ka.na;},enumerable:!1,configurable:!0}});c.prototype.qfa=function(){var f,g,k;f=this;if(this.Ka){g={};k=this.Ka.na;this.qDb=d.__assign(d.__assign({},k),{T:new Proxy(k.T,{get:function(m,p){var q;if(g[p])return g[p];m=k.T[p];if(!m)return m;q=f.CZb(p);q?(q=q.iIb(),g[p]=d.__assign(d.__assign(d.__assign({},q),m),{Ba:q.Ba,Aa:q.Aa})):g[p]=k.T[p];return g[p];}})});this.events.emit("updated");}};c.prototype.CZb=function(f){var g;h.M && (0,n.assert)(this.Ka,"Must be initialized");g=this.Ka.navigator;return g.Lab(f)?g.Be(f):void 0;};return c;})();b.Rka=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Fja=void 0;d=a(0);l=a(38);h=a(20);n=d.__importDefault(a(3));c=a(71);f=a(474);g=a(2);k=a(1170);m=a(9);p=a(479);r=(function(){function q(v,t,w,u){var x,z;function y(B,A){return B.S === A.S && B.offset.equal(A.offset);}x=this;this.KA=v;this.F6=t;this.config=w;this.console=new n.default.Console("GRAPHLOCATIONSERVICE");this.Di=new c.Ex({Dp:this,source:(u || "") + "GraphLocation",console:this.console});(0,p.tDa)(this,"d",new p.tka(w,y));(0,p.tDa)(this,"u",new p.tka(w,y));"temp" !== u && (null === (z=this.F6.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.Z8a)(x).forEach(function(B){return B.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.KA();},enumerable:!1,configurable:!0}});q.prototype.Iqb=function(v,t){return new q(function(){return v;},{c0:t,SGa:t},this.config,"temp");};q.prototype.XE=function(v){var t,w,u;m.M && this.console.trace("downConverting",v);t=this.parent;w=this.F6;u=w.c0;if(t === w.SGa)return v;if(u.T[v.S])return (t.T[v.S] || m.M && this.console.warn("Received a down converted position unexpectedly",v,Error().stack),v);w=(0,f.xra)(v,t);v=(0,l.Jqb)(t,u,{offset:w.z9.Z,G:v.S});v={offset:w.yq.add(h.O.Na(v.offset)),S:v.G};m.M && this.console.trace("downConverting ret:",v);return v;};q.prototype.ex=function(v){var t,w,u;m.M && this.console.trace("upConverting",v);t=this.parent;w=this.F6;u=w.c0;if(t === w.SGa)return v;if(t.T[v.S])return (u.T[v.S] || m.M && this.console.warn("Received a up converted position unexpectedly",v,Error().stack),v);w=(0,f.xra)(v,u);v=(0,l.y3a)(t,u,{offset:w.z9.Z,G:v.S});v={offset:w.yq.add(h.O.Na(v.offset)),S:v.G};m.M && this.console.trace("upConverting ret:",v);return v;};q.prototype.CYb=function(v){var t;t=(0,l.f9a)(this.parent,this.F6.c0,{G:v.S,offset:v.offset.Z});t=(0,k.ydb)(t);(0,g.assert)(t,("Could not find any segments in the path of ").concat(v));return t;};d.__decorate([(0,c.jc)({methodName:"downConvertPosition",Wl:!0,ut:!0,return:!0}),(0,p.Pqa)("d")],q.prototype,"XE",null);d.__decorate([(0,c.jc)({methodName:"upConvertPosition",Wl:!0,ut:!0,return:!0}),(0,p.Pqa)("u")],q.prototype,"ex",null);return q;})();b.Fja=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.W8a=b.Z8a=b.tDa=b.Pqa=b.tka=void 0;d=a(0);l=d.__importDefault(a(3));h=a(2);n=a(8);r=(function(){function f(g,k,m){void 0 === m && (m={});this.config=g;this.TTb=k;this.sd=[];this.Oqa=new n.QH();this.l2a=new n.QH();this.options=d.__assign({Rq:10},m);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.OSb;},enumerable:!1,configurable:!0}});f.prototype.Xaa=function(g,k){var m;if(!this.isEnabled)return k();m=this.TWb(g);if(m)return m.value;k=k();this.xp(g,k);return k;};f.prototype.findIndex=function(g){var k,m,p,q;k=Infinity;m=Infinity;if(this.options.vW || this.options.UR){p=l.default.time.fa();this.options.UR && (k=p - this.options.UR);this.options.vW && (m=p - this.options.vW);}for(p=0;p < this.sd.length;p++){q=this.sd[p];if(this.options.UR && q.Idb < k){this.sd.splice(p,this.sd.length - p);break;}if(this.options.vW && q.Un < m)(this.sd.splice(p,1),p--);else if(this.TTb(q.key,g))return p;}return -1;};f.prototype.TWb=function(g){var k;g=this.findIndex(g);if(-1 !== g){k=this.sd[g];this.sd.splice(g,1);this.sd.unshift(k);this.options.UR && (k.Idb=l.default.time.fa());this.l2a.push(g);this.Oqa.push(1);return k;}this.Oqa.push(0);};f.prototype.xp=function(g,k){this.sd.unshift({key:g,value:k});if(this.options.UR || this.options.vW)(g=l.default.time.fa(),this.options.UR && (this.sd[0].Idb=g),this.options.vW && (this.sd[0].Un=g));this.oLb();};f.prototype.oLb=function(){this.sd.length > this.options.Rq && this.sd.pop();};f.prototype.clear=function(){this.sd=[];};return f;})();b.tka=r;c=new WeakMap();b.Pqa=function(f){void 0 === f && (f="default");return function(g,k,m){var p;p=m.value;m.value=function(q){var v,t,w;v=this;w=null === (t=c.get(this)) || void 0 === t?void 0:t[f];(0,h.assert)(w,"lruCache not defined");return w.Xaa(q,function(){return p.call(v,q);});};};};b.tDa=function(f,g,k){c.has(f) || c.set(f,{});c.get(f)[g]=k;};b.Z8a=function(f){var g;if(!c.has(f))return [];g=c.get(f);return Object.keys(g).map(function(k){return g[k];});};b.W8a=function(f){return c.has(f)?c.get(f):{};};},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.wBa=b.xKa=void 0;d=a(0);l=a(38);h=a(1171);n=a(71);c=a(2);r=(function(f){function g(k,m,p,q){void 0 === q && (q="CphAsePlaygraph");q=f.call(this,k,m,p,q,!0) || this;q.gn=k;q.uhb=m;q.tlb=p;k.sb.eg(new h.yKa(q));return q;}d.__extends(g,f);g.prototype.vG=function(k){var m,p;m=f.prototype.vG.call(this,k);if(m){p=k.ba.cp;p && !this.H6 && (this.Xma.Dv({applyingContentPlaygraph:!0}),this.H6=p,this.nCb=this.RMb(k.ba),this.f1());}return m;};Object.defineProperties(g.prototype,{Hab:{get:function(){return this.nCb;},enumerable:!1,configurable:!0}});g.prototype.QE=function(k){if(this.H6)return (k=d.__assign(d.__assign({},k),{T:d.__assign({},k.T)}),(0,l.qAa)(k,this.H6.na));};g.prototype.RMb=function(k){var m,p;m=k.yt;p=k.zF;return !(!m || !m.some(function(q){return q.zF !== p;}));};Object.defineProperties(g.prototype,{cp:{get:function(){var k;return null === (k=this.H6) || void 0 === k?void 0:k.na;},enumerable:!1,configurable:!0}});d.__decorate([(0,n.jc)({methodName:"processViewableResponse"})],g.prototype,"vG",null);return g;})(a(481).Ela);b.xKa=r;b.wBa=function(f){var g;g=[];return {Js:function(k,m){var p,q,v,t,w,u,y;v=k.N;t=k.p1;w=f();if(w.gqa && w.gqa !== v){u=null === (p=null === t || void 0 === t?void 0:t.gi) || void 0 === p?void 0:p.Td;p=null === (q=null === t || void 0 === t?void 0:t.gi) || void 0 === q?void 0:q.Cg;q=w.Td;t=w.gqa;(0,c.assert)(t,"did not receive parent viewable id");t={gi:{Td:null !== u && void 0 !== u?u:q,Cg:null !== p && void 0 !== p?p:t}};}w.sb.console.trace("In wrapped request viewable",v,t);y=m(d.__assign(d.__assign({},k),{p1:t}));g.forEach(function(x){return x({N:v,eH:y.eH});});return y;},$nb:function(k){g.push(k);}};};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Ela=void 0;d=a(0);l=a(277);h=a(71);n=a(21);c=a(2);f=a(9);g=a(476);k=a(20);m=a(1172);p=a(482);q=a(1173);r=(function(){function v(t,w,u,y,x){var z;void 0 === y && (y="CphAsePlaygraph");void 0 === x && (x=!0);z=this;this.gn=t;this.uhb=w;this.tlb=u;this.Fkc=y;this.qCb=new g.Nla();x && this.oa();this.uhb(function(B){var A;A=B.eH;return d.__awaiter(z,void 0,void 0,function(){var C;return d.__generator(this,function(D){switch(D.label){case 0:return [4,A];case 1:return (C=D.ub(),this.vG(C),[2]);}});});});}Object.defineProperties(v.prototype,{sb:{get:function(){return this.gn.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mk:{get:function(){return this.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{na:{get:function(){return this.Qo;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mi:{get:function(){return this.gn.mi;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{H:{get:function(){return this.sb.console;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{K:{get:function(){return this.sb.config;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Hab:{get:function(){return !1;},enumerable:!1,configurable:!0}});v.prototype.oa=function(){var t,w,u;t=this;w=this.gn;this.Xma=new h.Ex({Rq:10,Dp:this,source:this.Fkc,console:this.H});this.events=(0,p.jsa)(function(){return w;},w.sb.events,this.tlb,q.Jib);this.Qo=w.sb.na;u=w.mi;w.sb.eg(new l.tA(this.Xma));w.sb.eg(new l.tA(w.mi.Di));w.sb.eg(new m.XJa(("").concat(w.Ldb,"::gls"),u));w.sb.events.on("playgraphUpdating",function(){t.gn.Qxa.qfa();});};v.prototype.jy=function(t){var w,u,y;y=null !== (w=this.X) && void 0 !== w?w:this.sb.X;this.X=t;t.$Ea && t.$Ea(this.gn);(w=this.gn.sb.jy(null !== (u=t.MZ) && void 0 !== u?u:t))?(this.X=t,y !== t && y.Fra && y.Fra()):this.X=y;return w;};v.prototype.f1=function(t,w,u,y){if(t=this.QE(null !== t && void 0 !== t?t:this.Qo))return this.I9b(t,this.Hab,w,u,y);};v.prototype.I9b=function(t,w,u,y,x){var z,B,A,C,D,E,G;z=this.gn.$c;B=z.X;C=z.na;if(A=u?u:z.jw && B.tf?B.Ni:z.Xt?z.Xg:void 0){D=this.sb.na.T[A.S];D && D.tc && (A=this.mi.ex(A));}z.config.inc && w && B.LG(!0);w=z.X9a();f.M && this.H.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(C)));f.M && this.H.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(t)));this.qCb.set(t,!0);C=this.sb.fx(t);try{if(!C.ja || A && !B.tf && !z.Xt || u && x)if(((0,c.assert)(!B.za.wk,"Player is not paused"),z.he(!0),C=this.sb.fx(t),A)){E=this.mi.XE(A);G=t.T[E.S];"padding" === (null === G || void 0 === G?void 0:G.type) && (E={S:G.dc,offset:k.O.Oa});this.sb.Xfa(E,y,x);B.resume();}return C;}finally{w.release();}};v.prototype.fx=function(t){var u,y,x;function w(){u.Qo=t;}u=this;x=null !== (y=this.QE(t)) && void 0 !== y?y:t;try{return (this.sb.events.CCa("playgraphUpdating",w),this.sb.fx(x));}finally{this.sb.events.removeListener("playgraphUpdating",w);}};Object.defineProperties(v.prototype,{Td:{get:function(){return this.GXa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{gqa:{get:function(){var t,w,u,y;t=this;u=Object.keys(this.sb.na.T);if(u=(0,n.Nc)(u,function(x){return !!t.sb.na.T[x].tc;})){u=this.sb.na.T[u].tc;y=this.na.T[u];return null !== (w=null === y || void 0 === y?void 0:y.N) && void 0 !== w?w:Number(u.split(":")[0]);}},enumerable:!1,configurable:!0}});v.prototype.vG=function(t){var w,u,y,x;u=t.ba;y=u.Td;u=u.cp;x=null !== (w=this.K.Zta) && void 0 !== w?w:[];if(u && x.some(function(z){return z == t.L;}))return (w=("").concat(t.L," was excluded from content playgraph"),this.Xma.Dv(w),f.M && this.H.trace(w),!1);y && !this.GXa && (this.GXa=y);return !0;};v.prototype.he=function(t){this.sb.he(t);};d.__decorate([(0,h.jc)({methodName:"attachPlayer"})],v.prototype,"jy",null);d.__decorate([(0,h.jc)({methodName:"reevaluateInnerPlaygraph"})],v.prototype,"f1",null);d.__decorate([(0,h.jc)({methodName:"processViewableResponse"})],v.prototype,"vG",null);d.__decorate([(0,h.jc)({methodName:"cancelStreaming"})],v.prototype,"he",null);return v;})();b.Ela=r;},function(r,b,a){var l,h,n,c;function d(f,g){return g && !Array.isArray(g) && -1 === g.h7a.indexOf(f)?g.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.jsa=void 0;l=a(0);r=a(11);h=a(199);n=a(470);c=(function(f){function g(k,m){var p;p=f.call(this) || this;p.h6b=k;p.Rbb=m;p.qna={};return p;}l.__extends(g,f);g.prototype.emit=function(k){for(var m=[],p=1;p < arguments.length;p++){m[p - 1]=arguments[p];}return f.prototype.emit.call(this,k,this.h6b(k,m[0]));};g.prototype.subscribe=function(k){var m,p;m=this;if(!this.listeners(k).length){p=function(){for(var q=[],v=0;v < arguments.length;v++){q[v]=arguments[v];}return m.emit.apply(m,l.__spreadArray([k],l.__read(q),!1));};this.qna[k]=p;this.Rbb.addListener(k,p);}};g.prototype.addListener=function(k,m){this.subscribe(k);f.prototype.addListener.call(this,k,m);return this;};g.prototype.removeListener=function(k,m){f.prototype.removeListener.call(this,k,m);m=this.qna[k];!this.listeners(k).length && m && (this.Rbb.removeListener(k,m),this.qna[k]=void 0);return this;};g.prototype.on=function(k,m){this.addListener(k,m);return this;};g.prototype.Ew=function(k,m){this.removeListener(k,m);return this;};g.prototype.once=function(k,m){var q;function p(){for(var v=[],t=0;t < arguments.length;t++){v[t]=arguments[t];}q.removeListener(k,p);m.apply(void 0,l.__spreadArray([],l.__read(v),!1));}q=this;this.addListener(k,p);return this;};g.prototype.Q0=function(k,m){this.subscribe(k);f.prototype.Q0.call(this,k,m);return this;};g.prototype.CCa=function(k,m){var q;function p(){for(var v=[],t=0;t < arguments.length;t++){v[t]=arguments[t];}q.removeListener(k,p);m.apply(void 0,l.__spreadArray([],l.__read(v),!1));}q=this;this.Q0(k,p);return this;};return g;})(r.EventEmitter);b.jsa=function(f,g,k,m){return new c(function(p,q){var v,t;t=d(p,m["*"]);p=null !== (v=m[p]) && void 0 !== v?v:[];v=t.concat(p).filter(function(w){return "object" === typeof w;});t=l.__read(p.filter(function(w){return "function" === typeof w;}),1)[0];return v.length?(0,n.Nfa)(f,q,k,{rules:v,xo:!1,Ipa:!0},h.ux.UGa,t):q;},g);};},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zia=void 0;d=a(0);l=a(11);h=a(2);n=a(9);c=0;r=(function(f){function g(k,m,p,q,v,t,w,u){m=f.call(this,("cdnList").concat(c++),m,p,q,v,t,w,"cdnList",u) || this;m.zh=k;m.oa();return m;}d.__extends(g,f);g.prototype.oa=function(){var k;k=this;this.ZV=new l.kf();this.ZV.on(this.Lb.X,"skipped",function(m){k.Wx && ((null === m || void 0 === m?0:m.Wbc) && k.qX(m.Wbc),k.Wx=void 0);});this.ZV.on(this.Lb.X,"paused",function(){k.Wx && k.Lb.tf && k.qX(k.Lb.Me);});this.ZV.on(this.Lb.X,"underflow",function(){k.Wx && k.Lb.tf && k.qX(k.Lb.Me);});};g.prototype.jy=function(k,m,p){this.ZV.clear();f.prototype.jy.call(this,k,m,p);this.oa();};g.prototype.close=function(){n.M && this.console.trace("close");f.prototype.close.call(this);this.ZV.clear();};g.prototype.fic=function(k,m){var p;p=this;this.Wx && this.qX(k);return this.I7a(m).map(function(q){return p.zh[q];});};g.prototype.skb=function(k){var m;m=this;this.I7a(k).forEach(function(p){delete m.zh[p];});};g.prototype.I7a=function(k){var m;m=this;return Object.keys(this.zh).filter(function(p){return m.zh[p].L === ("").concat(k);});};g.prototype.pu=function(k){var m,p,q;m=k.stream;p=k.bd;q=k.Ed;k=k.Qc;(0,h.assert)(void 0 !== q);(0,h.assert)(void 0 !== k);n.M && this.console.trace(("Media appended ").concat(q.Fb(),"-").concat(k.Fb()));this.spa({stream:m,bd:p},q,k);};g.prototype.vca=function(k,m){return k.stream === m.stream && k.bd === m.bd;};g.prototype.hYb=function(k){var m,p;p=k.Qu;k=p.bd;p=null === (m=p.stream.P.ba.JE) || void 0 === m?void 0:m.Fp;return ("").concat(k,"::").concat(p);};g.prototype.wta=function(k,m){n.M && this.console.trace(("Presenting event for ( ").concat(k.Qu.stream.id,", ").concat(k.Qu.bd," )") + (" at ").concat(m.Fb()));this.Wx?this.qX(m):this.mV=m;this.Wx=k;};g.prototype.qX=function(k){var m,p,q,v,t,w,u,y,x;(0,h.assert)(this.Wx);if(null === (m=this.ysa) || void 0 === m?0:m.lessThan(k))k=this.ysa;t=this.Wx;m=this.zh;w=t.Qu;u=w.stream;w=w.bd;y=null === (p=u.D_) || void 0 === p?void 0:p.hp;p=k.Fa(this.mV || t.timestamp).Z;if(void 0 !== w && void 0 !== y){x=null === (q=u.P.ba.JE) || void 0 === q?void 0:q.Fp;q=u.track.L;t=this.hYb(t);m=(v=(m[t] || (m[t]={Xo:w,Fp:x,L:q,zJ:{}})).zJ)[y] || (v[y]={bitrate:u.bitrate,Wb:y,mediaType:u.mediaType,totalTime:0,gb:u.gb});m.totalTime=Math.max(m.totalTime + p,0);}this.mV=k;};g.prototype.clone=function(k,m){m=void 0 === m?{}:m;k=new (m.Ryc || g)(k,this.l$b,this.Lb,this.I8,this.events,this.ot,this.Ee,m.priority);this.iMb(k);k.Wx=this.Wx;k.mV=this.mV;n.M && k.console.trace("Cloning",{Gtc:k.cm.length});return k;};g.prototype.reset=function(){f.prototype.reset.call(this);this.mV=void 0;};g.prototype.xca=function(k){return ("(").concat(k.stream.Ta,", ").concat(k.bd,")");};return g;})(a(273).G5);b.Zia=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.csa=void 0;d=a(137);l=a(1196);b.csa=function(h,n){var c;h=n(h);c=new l.DTa(h,d.fz.dEa.fS);return d.fz.VCa(h,c,function(){return c.gn;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gqc="LogblobBuilderSymbol";b.oU="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lWa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oWa="ThroughputTrackerSymbol";b.mWa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tMa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cKa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bJa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p){p=h.nH.call(this,k,m,l.u.Audio,p) || this;p.config=k;p.Tq=m;p.type=l.lx.Tz;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.X3=void 0;l=a(26);h=a(492);n=a(127);r=a(129);c=a(394);f=a(285);g=new r.RH().format;la(d,h.nH);d.prototype.h2=function(){var k;k=g(d.nha,n.de.Gtb);return Promise.resolve(this.config().wP && this.Tq.isTypeSupported(k));};d.prototype.Jt=function(){return c.nja.Jt();};d.prototype.J$a=function(){return this.config().TI;};d.prototype.vY=function(k){return this.config().z$b?Promise.resolve(new f.H5(k,k.map(function(){return {supported:!0};}))):h.nH.prototype.vY.call(this,k);};b.X3=d;d.nha="audio/mp4;codecs={0};";},function(r,b,a){var l,h,n,c,f;function d(g,k,m,p){this.config=g;this.Tq=k;this.mediaType=m;this.qC=p;this.nAa={};this.nAa[l.u.Audio]="audio";this.nAa[l.u.XWa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.nH=void 0;l=a(26);r=a(129);h=a(173);n=a(14);c=a(285);f=new r.RH().format;d.prototype.cab=function(g){return this.xRb(this.IZb(this.J$a(),g));};d.prototype.cJ=function(g){return this.Tq.isTypeSupported(g);};d.prototype.EXb=function(){return [h.We.Xha,h.We.Evb,h.We.qH,h.We.rH];};d.prototype.s2b=function(){this.Yq=[];this.Pw=[];this.config().B$b && this.Pw.push(h.We.vA);this.config().Lhb && this.Pw.push(h.We.fNa);this.config().Khb && this.Pw.push(h.We.eNa);this.config().Jhb && this.Pw.push(h.We.px);this.config().Hhb && this.Pw.push(h.We.rD);this.config().Ihb && this.Pw.push(h.We.OHa);this.config().Mhb && this.Pw.push(h.We.QD);this.config().Ghb && this.Pw.push(h.We.Il);this.Pw=this.Pw.concat(this.EXb());!this.config().yTb && this.Yq.push(h.We.vA);!this.config().B6a && this.Yq.push(h.We.Htb);!this.config().A6a && this.Yq.push(h.We.Itb);!this.config().wP && this.Yq.push(h.We.Jtb);!this.config().kTb && this.Yq.push(/prk$/);this.config().Jhb || this.config().WSb || this.Yq.push(h.We.px);this.config().Lhb || this.config().ZSb || this.Yq.push(h.We.fNa);this.config().Khb || this.config().yta || this.Yq.push(h.We.eNa);this.config().Hhb || this.config().uP || this.Yq.push(h.We.rD);this.config().Ihb || this.config().xta || this.Yq.push(h.We.OHa);this.config().Mhb || this.config().uTb || this.Yq.push(h.We.QD);this.config().Ghb || this.config().MSb || this.Yq.push(h.We.Il);!this.config().sTb && this.Yq.push(h.We.mN);};d.prototype.IZb=function(g,k){var m;m=n.lf.hardwareConcurrency && n.lf.hardwareConcurrency;return g.filter(function(p){return void 0 !== p.minimumCores && m < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === k || void 0 === k?void 0:k.me) || !p.restrictToUILabels.includes(k.me))?!1:!0;}).map(function(p){return p.name;});};d.prototype.vY=function(g){var k,m;k=this;m=g.map(function(p){for(var q=oa(k.Pw),v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!0});}q=oa(k.Yq);for(v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return k.uY(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(m).then(function(p){return new c.H5(g,p);});};d.prototype.uY=function(g){var k;k=this;return this.qya(g).then(function(m){return m.supported?k.config().hTb?k.qC.uY(g):k.iua(g):m;});};d.prototype.iua=function(g){var k;g=this.V0[g];k="";return g?(Array.isArray(g) && (k=1 < g.length?" " + g[1]:"",g=g[0]),g=f("{0}/mp4;codecs={1};{2}",this.nAa[this.mediaType],g,k),this.cJ(g)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};d.prototype.xRb=function(g){this.s2b();return this.vY(g);};d.prototype.qya=function(){return Promise.resolve({supported:!0});};Va.Object.defineProperties(d.prototype,{V0:{configurable:!0,enumerable:!0,get:function(){this.PZa || (this.PZa=this.Jt());return this.PZa;}}});b.nH=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kQa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oQa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nQa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lUa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.i5="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lPa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LQa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rJa="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pJa="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oJa="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JJa="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aQa="ManifestProviderConfigSymbol";},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.jma=void 0;l=a(14);d.I$a=function(){var h;h=l.xx && l.xx.height;return h?1080 <= h?1080:720:720;};b.jma=d;},function(r,b,a){var l;function d(h){this.log=h;}Object.defineProperty(b,"__esModule",{value:!0});b.yU=void 0;l=a(507);d.prototype.kpb=function(h,n){var c,f;c=this;if(!h)return (this.log.warn("There are no media streams for " + n.type + " track - " + n.trackId),[]);f=h.map(function(g){var k,m,p,q,v,t,w,u;u=new l.MediaStream(n,n.type,g.hp,g.bitrate,g.gb,g.size,c.PXb(g.urls),g.OE,g.v8a / g.u8a,g.Mj,g.ak);u.hhc(g.Xkb,g.QDa,g.sib,g.rib);u.ygc(null !== (k=g.XPb) && void 0 !== k?k:void 0,null !== (m=g.YPb) && void 0 !== m?m:void 0,null !== (p=g.WPb) && void 0 !== p?p:void 0,null !== (q=g.VPb) && void 0 !== q?q:void 0,null !== (v=g.sib) && void 0 !== v?v:void 0,null !== (t=g.rib) && void 0 !== t?t:void 0);n.Om && (u.Om=n.Om);g.AJ && (u.AJ=null !== (w=g.AJ) && void 0 !== w?w:void 0);g.OE && (u.qf=g.OE);return u;});f.sort(function(g,k){return g.bitrate - k.bitrate;});f.forEach(function(g,k){g.lower=f[k - 1];g.Zvc=f[k + 1];});return f;};d.prototype.PXb=function(h){return h.reduce(function(n,c){n[c.Qh]=c.url;return n;},{});};b.yU=d;},function(r,b,a){var l,h,n;function d(c,f,g,k,m,p,q,v,t,w,u){this.track=c;this.type=f;this.Wb=g;this.bitrate=k;this.gb=m;this.size=p;this.hta=q;this.qf=v;this.framerate=t;this.Mj=w;this.ak=u;this.Ih={Type:f,Bitrate:k,DownloadableId:g};}Object.defineProperty(b,"__esModule",{value:!0});b.Atb=b.MediaStream=void 0;l=a(17);h=a(15);n=a(95);d.prototype.toJSON=function(){return this.Ih;};d.prototype.hhc=function(c,f,g,k){(0,h.Ad)(c) && (0,h.Ad)(f) && (this.width=c,this.height=f,(0,h.Pa)(g) && (0,h.Pa)(k) && (this.width=Math.round(g / k * c)),this.Ih.Resolution=(this.width || "") + ":" + (this.height || ""));};d.prototype.ygc=function(c,f,g,k,m,p){(0,h.Ad)(c) && (0,h.Ad)(f) && (0,h.Ad)(g) && (0,h.Ad)(k) && (this.ssa=c,this.N4a=f,this.M4a=g,this.L4a=k);(0,h.Ad)(m) && (0,h.Ad)(p) && (this.tib=m,this.uib=p);};b.MediaStream=d;b.Atb=function(c,f,g,k,m){if(c == l.l5 || c === n.Aj.audio)return f;if(c == l.tU || c === n.Aj.video)return g;if(c == n.Aj.bha)return k;if(c == n.Aj.FGa)return m;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HTa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AWa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eQa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vSa="PboLinksManagerSymbol";b.tSa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XPa="ManifestEnricherSymbol";},function(r,b,a){var u,y,x,z,B,A,C,D,E;function d(G,F){var K,O;K=this;O=G.styles || ({});return {startTime:F.startTime,id:F.id,endTime:F.endTime,displayTime:F.displayTime,duration:F.duration,blocks:F.blocks.map(function(L){var I;I=z.CPb(G,L);return {textNodes:L.textNodes.map(w.bind(K,O)),region:I,id:L.id};})};}function l(G){if(!Array.isArray(G))throw Error("last called on non-array: " + G);return G[G.length - 1];}function h(G,F){var K,O,L,I,M,H;K=y.Dg(!0);O={};L=[];I=null;M=[];H={};K.onerror=function(J){F(J,null);};K.onend=function(){F(null,O);};K.onclosetag=function(){L.pop();};K.onopentag=function(J){var N,P,X,V;N=J.attributes;P=J.name;X=O.regions;V=O.styles;L.push(J);if("tt" === P)O=q(N);else if("body" === P)"undefined" !== typeof N.style && (O.defaultStyle=N.style,M.push(N.style));else if("initial" === P && t(L,"styling"))H=v(N,A);else if("style" === P && t(L,"styling")){X=N["xml:id"];J=H;N=v(N,A);if(Object.keys(J).length)for(var S in J){"undefined" === typeof N[S] && (N[S]=J[S]);}V[X]=N;}else "style" === P && t(L,"region")?(V=Object.keys(N)[0],"string" === typeof V && (X[I][V.slice(4)]=N[V])):"region" === P && t(L,"layout") && (I=N["xml:id"],X[I]=v(N,D));};setTimeout(function(){var J;for(K.write(G);0 < L.length && !K.error;){J=l(L).name;K.write("</" + J + ">");}K.close();},10);}function n(G,F){var K;K=G.filter(function(O){return O.startTime <= F && F <= O.endTime;});G=G.filter(function(O){return O.startTime > F;});return 0 < G.length?K.concat([G[0]]):K;}function c(){}function f(G){var F,K,O,L;F=G.preferences;K=G.Qg;O=G.Ce;L=G.ta;if(!G.xml && !G.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.Je=this.Dna=null;this.fO="object" === typeof F?G.preferences:{};this.LN="object" === typeof K?G.Qg:{};this.Gm="number" === typeof O?G.Ce:0;this.HI=G.xml || "";this.Ea="object" === typeof L?G.ta:E;this.kq=G.request;this.Hm=G.url;this.Dm=[];this.Er=this.Gm;this.Ze=null;this.MA=this.fE=!1;this.Hma=G.efa || 0;}function g(G,F){return G && "object" === typeof G[F] && null !== G[F]?G[F]:{};}function k(G,F){return G !== F && !(G && 0 === Object.keys(G).length && F && 0 === Object.keys(F).length);}function m(){var G,F,K;G=this;F=G.HI.indexOf("<p");if(-1 < F){K=G.HI.slice(0,F);h(K,function(O,L){null !== O?(O.T0b=K,G.emit("error",O)):(G.Dna=L,G.Je=new x(G.HI,L.tickRate),p.call(G,G.Gm));});}else G.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(G){var F,K,O,L,I,M,H,J;F=this;K=F.Dna;O=0;L=[];I=K.defaultStyle?[K.defaultStyle]:[];M=K.lang?[K.lang]:[];F.Ea.info("parsing the next 5 entries...");H=F.Je.dZb(G);F.Ea.debug(H);J=y.Dg(!0);J.onerror=function(N){N.xml=H;F.emit("error",N);};J.onend=function(){var N;N=F.Dm.reduce(function(P,X){X=X.blocks.reduce(function(V,S){return V.concat([S.id]);},[]);return P.concat(X);},[]);L.forEach(function(P){var X;if(-1 === N.indexOf(P.id)){X=P && P.blocks && P.blocks.filter(function(V){return 0 < V.textNodes.length;});X && 0 < X.length && (P.blocks=X,F.Dm.push(P));}});F.MA=!1;F.fE || (F.fE=!0,F.emit("ready"));};J.ontext=function(N){("" !== N.trim() || N.match(/ +/)) && l(l(L).blocks).textNodes.push({text:N.match(/ +/)?N:N.trim(),style:l(I),lang:l(M),lineBreaks:O});O=0;};J.onclosetag=function(){var N;N=J.tag;"undefined" !== typeof N.attributes.style && I.pop();"undefined" !== typeof N.attributes["xml:lang"] && M.pop();};J.onopentag=function(N){var P,X,V,S,U;P=N.attributes;X=N.name;N=K.tickRate;if("p" === X){O=0;X=P["xml:id"];P.style && I.push(P.style);P["xml:lang"] && M.push(P["xml:lang"]);V=Math.floor(parseInt(P.begin) / N * 1E3);if(0 === L.length || l(L).displayTime !== V){V=L.push;S={};U=parseInt(P.begin) / N;N=parseInt(P.end) / N;S.id=X;S.startTime=Math.floor(1E3 * U);S.endTime=Math.floor(1E3 * N);S.style=P.style;S.region=P.region;S.displayTime=S.startTime;S.duration=S.endTime - S.startTime;S.extent=P["tts:extent"] || null;S.origin=P["tts:origin"] || null;S.latestEndSoFar=0 > S.endTime?0:S.endTime;S.blocks=[{textNodes:[],region:S.region,id:X,extent:S.extent,origin:S.origin}];V.call(L,S);}else l(L).blocks.push({textNodes:[],region:P.region,id:X,extent:P["tts:extent"] || null,origin:P["tts:origin"] || null});}else "span" === X?(I.push(P.style),P["xml:lang"] && M.push(P["xml:lang"]),N=K.styles[P.style],P.style && N && N.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(N.ruby) && l(l(L).blocks).textNodes.push({text:"",style:l(I),lang:l(M),lineBreaks:0})):"br" === X && O++;};J.write("<entries>").write(H).write("</entries>").close();}function q(G){var F;G=v(G,C);if("string" === typeof G.extent){F=G.extent.split(" ").map(function(K){return parseInt(K,10);});G.width=F[0];G.height=F[1];}else (G.width=1280,G.height=720);G.aspectRatio=G.width / G.height;"string" === typeof G.cellResolution?(F=G.cellResolution.split(" ").map(function(K){return parseInt(K,10);}),G.cellResolution={},G.cellResolution.x=F[0],G.cellResolution.y=F[1]):G.cellResolution={x:52,y:19};return G;}function v(G,F){var K;K={};F.forEach(function(O){"undefined" !== typeof G["tts:" + O]?K[O]=G["tts:" + O]:"undefined" !== typeof G["ttp:" + O]?K[O]=G["ttp:" + O]:"undefined" !== typeof G["ebutts:" + O]?K[O]=G["ebutts:" + O]:"undefined" !== typeof G["xml:" + O] && (K[O]=G["xml:" + O]);});K.styles={};K.regions={};return K;}function t(G,F){var K;for(K=G.length - 1;0 <= K;K--){if(G[K].name === F)return !0;}return !1;}function w(G,F){return {lineBreaks:F.lineBreaks,text:F.text,lang:F.lang,style:B.GPb(G[F.style] || ({}),this.LN,this.fO),id:F.id};}u=a(106).EventEmitter;y=a(514);x=a(1252);z=a(1253);B=a(1254);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");C=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");D=("backgroundColor displayAlign extent origin position writingMode multiRowAlign").split(" ");E={info:c,debug:c};b=Object.create(u.prototype);f.prototype=b;b.start=function(){var G;G=this;G.Ea.info("incremental text stream created, starting at pts " + G.Gm);G.HI?m.call(G):G.kq({url:G.Hm},function(F,K){G.HI=K;m.call(G);});};b.WJ=function(G){var F,K,O;F=this;G < F.Er - F.Hma && (F.Dm=[]);K=F.Dm;O=0 < K.length?K[K.length - 1].startTime:G;F.Er=G;for(!F.Ze && 5 > F.Dm.length && !F.MA && (F.Ea.info("buffer size: " + F.Dm.length + "; minimum: 5"),F.MA=!0,F.Ze=setTimeout(function(){F.Ze=null;p.call(F,O + 1);},10));0 < K.length && K[0].endTime < G;){K.shift();}K=n(K,G).map(d.bind(F,F.Dna));G < F.Je.A7a() && 0 === K.length && (K=null);return K;};b.Jq=function(G,F){return this.Je?this.Je.Jq(G,F):0;};b.close=function(){};b.uha=function(G){var F;F=g(G,"preferences");G=g(G,"defaults");return k(F,this.fO) || k(G,this.LN)?(this.fO=F,this.LN=G,!0):!1;};r.exports={Yja:f,O$b:h,mh:l,XXb:n,gRb:d,uha:b.uha};},function(r){var w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M;function b(){}function a(H,J){if(!(this instanceof a))return new a(H,J);for(var N=0,P=u.length;N < P;N++){this[u[N]]="";}this.q=this.c=this.kp=this.textNode="";this.V1a=w.wka;this.Cp=J || ({});this.Cp.reb=this.Cp.reb || this.Cp.Bwc;this.Aza=this.Cp.reb?"toLowerCase":"toUpperCase";this.ak=[];this.closed=this.mX=this.hS=!1;this.tag=this.error=null;this.xo=!!H;this.Jgb=!(!H && !this.Cp.Jgb);this.state=M.Dia;this.Wz=(this.Unb=this.Cp.Unb)?Object.create(w.jAb):Object.create(w.Wz);this.zE=[];this.Cp.k3 && (this.ql=Object.create(O));if(this.gha=!1 !== this.Cp.position)this.position=this.line=this.nX=0;this.onready && this.onready(void 0);}function d(H,J){var N;if(!(this instanceof d))return new d(H,J);b.apply(this);this.LA=new a(H,J);this.readable=this.writable=!0;N=this;this.LA.onend=function(){N.emit("end");};this.LA.onerror=function(P){N.emit("error",P);N.LA.error=null;};y.forEach(function(P){Object.defineProperty(N,"on" + P,{get:function(){return N.LA["on" + P];},set:function(X){if(!X)return (N.removeAllListeners(P),N.LA["on" + P]=X);N.on(P,X);},enumerable:!0,configurable:!1});});}function l(H){return H.split("").reduce(function(J,N){J[N]=!0;return J;},{});}function h(H,J){return "[object RegExp]" === Object.prototype.toString.call(H)?!!J.match(H):H[J];}function n(H,J,N){H.textNode && c(H);H[J] && H[J](N);}function c(H){H.textNode=f(H.Cp,H.textNode);H.textNode && H.ontext && H.ontext(H.textNode);H.textNode="";}function f(H,J){H.trim && (J=J.trim());H.normalize && (J=J.replace(/\s+/g," "));return J;}function g(H,J){c(H);H.gha && (J+="\nLine: " + H.line + "\nColumn: " + H.nX + "\nChar: " + H.c);J=Error(J);H.error=J;H.onerror && H.onerror(J);return H;}function k(H){H.hS && !H.mX && m(H,"Unclosed root tag");H.state !== M.Dia && H.state !== M.Eia && H.state !== M.nb && g(H,"Unexpected end");c(H);H.c="";H.closed=!0;H.onend && H.onend(void 0);a.call(H,H.xo,H.Cp);return H;}function m(H,J){if("object" !== typeof H || !(H instanceof a))throw Error("bad call to strictFail");H.xo && g(H,J);}function p(H,J){var N,P;N=0 > H.indexOf(":")?["",H]:H.split(":");P=N[0];N=N[1];J && "xmlns" === H && (P="xmlns",N="");return {prefix:P,local:N};}function q(H){var J,N,P;H.xo || (H.jk=H.jk[H.Aza]());if(-1 !== H.zE.indexOf(H.jk) || H.tag.attributes.hasOwnProperty(H.jk))return H.jk=H.kk="";if(H.Cp.k3){J=p(H.jk,!0);N=J.local;if("xmlns" === J.prefix)if("xml" === N && H.kk !== F)m(H,"xml: prefix must be bound to " + F + "\nActual: " + H.kk);else if("xmlns" === N && H.kk !== K)m(H,"xmlns: prefix must be bound to " + K + "\nActual: " + H.kk);else {J=H.tag;P=H.ak[H.ak.length - 1] || H;J.ql === P.ql && (J.ql=Object.create(P.ql));J.ql[N]=H.kk;}H.zE.push([H.jk,H.kk]);}else (H.tag.attributes[H.jk]=H.kk,n(H,"onattribute",{name:H.jk,value:H.kk}));H.jk=H.kk="";}function v(H,J){var N,P,V,S,U,ha,qa;if(H.Cp.k3){N=H.tag;P=p(H.tagName);N.prefix=P.prefix;N.local=P.local;N.uri=N.ql[P.prefix] || "";N.prefix && !N.uri && (m(H,"Unbound namespace prefix: " + JSON.stringify(H.tagName)),N.uri=P.prefix);P=H.ak[H.ak.length - 1] || H;N.ql && P.ql !== N.ql && Object.keys(N.ql).forEach(function(xa){n(H,"onopennamespace",{prefix:xa,uri:N.ql[xa]});});P=0;for(var X=H.zE.length;P < X;P++){V=H.zE[P];S=V[0];U=V[1];ha=p(S,!0);V=ha.prefix;qa="" == V?"":N.ql[V] || "";U={name:S,value:U,prefix:V,local:ha.local,uri:qa};V && "xmlns" != V && !qa && (m(H,"Unbound namespace prefix: " + JSON.stringify(V)),U.uri=V);H.tag.attributes[S]=U;n(H,"onattribute",U);}H.zE.length=0;}H.tag.rwc=!!J;H.hS=!0;H.ak.push(H.tag);n(H,"onopentag",H.tag);J || (H.state=H.Jgb || "script" !== H.tagName.toLowerCase()?M.nb:M.fN,H.tag=null,H.tagName="");H.jk=H.kk="";H.zE.length=0;}function t(H){var J,N,X;if(H.tagName){if(H.Al){if("script" !== H.tagName){H.Al+="</" + H.tagName + ">";H.tagName="";H.state=M.fN;return;}n(H,"onscript",H.Al);H.Al="";}J=H.ak.length;N=H.tagName;H.xo || (N=N[H.Aza]());for(var P=N;J--;){if(H.ak[J].name !== P)m(H,"Unexpected close tag");else break;}if(0 > J)(m(H,"Unmatched closing tag: " + H.tagName),H.textNode+="</" + H.tagName + ">");else {H.tagName=N;for(N=H.ak.length;N-- > J;){X=H.tag=H.ak.pop();H.tagName=H.tag.name;n(H,"onclosetag",H.tagName);for(var V in X.ql){;}P=H.ak[H.ak.length - 1] || H;H.Cp.k3 && X.ql !== P.ql && Object.keys(X.ql).forEach(function(S){n(H,"onclosenamespace",{prefix:S,uri:X.ql[S]});});}0 === J && (H.mX=!0);H.tagName=H.kk=H.jk="";H.zE.length=0;}}else (m(H,"Weird empty close tag."),H.textNode+="</>");H.state=M.nb;}w={Dg:function(H,J){return new a(H,J);}};w.gsc=a;w.hsc=d;w.E4a=function(H){return new d(H,void 0);};w.wka=65536;u=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");w.jf=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(H){function J(){this.__proto__=H;}J.prototype=H;return new J();});Object.getPrototypeOf || (Object.getPrototypeOf=function(H){return H.__proto__;});Object.keys || (Object.keys=function(H){var J,N;J=[];for(N in H){H.hasOwnProperty(N) && J.push(N);}return J;});a.prototype={end:function(){k(this);},write:function(H){var X,V,S,U,ha,qa;if(this.closed)return g(this,"Cannot write after close. Assign an onready handler.");if(null === H)return k(this);if(this.error)throw this.error;for(var J=0,N;this.c=N=H.charAt(J++);){switch((this.gha && (this.position++,"\n" === N?(this.line++,this.nX=0):this.nX++),this.state)){case M.Dia:if((this.state=M.Eia,"\ufeff" === N))continue;case M.Eia:"<" === N?(this.state=M.Ska,this.LFa=this.position):h(x,N) || (m(this,"Non-whitespace before first tag."),this.textNode=N,this.state=M.nb);continue;case M.nb:if(this.hS && !this.mX){for(var P=J - 1;N && "<" !== N && "&" !== N;){(N=H.charAt(J++)) && this.gha && (this.position++,"\n" === N?(this.line++,this.nX=0):this.nX++);}this.textNode+=H.substring(P,J - 1);}"<" !== N || this.hS && this.mX && !this.xo?(h(x,N) || this.hS && !this.mX || m(this,"Text data outside of root node."),"&" === N?this.state=M.lma:this.textNode+=N):(this.state=M.Ska,this.LFa=this.position);continue;case M.fN:"<" === N?this.state=M.SUa:this.Al+=N;continue;case M.SUa:"/" === N?this.state=M.Uia:(this.Al+="<" + N,this.state=M.fN);continue;case M.Ska:"!" === N?(this.state=M.Vla,this.Hu=""):h(x,N) || (h(L,N)?(this.state=M.tRa,this.tagName=N):"/" === N?(this.state=M.Uia,this.tagName=""):"?" === N?(this.state=M.URa,this.bfa=this.rL=""):(m(this,"Unencoded <"),this.LFa + 1 < this.position && (N=Array(this.position - this.LFa).join(" ") + N),this.textNode+="<" + N,this.state=M.nb));continue;case M.Vla:(this.Hu + N).toUpperCase() === E?(n(this,"onopencdata"),this.state=M.B3,this.Pn=this.Hu=""):"--" === this.Hu + N?(this.state=M.E3,this.Hu=this.Tn=""):(this.Hu + N).toUpperCase() === G?(this.state=M.J3,(this.doctype || this.hS) && m(this,"Inappropriately located doctype declaration"),this.Hu=this.doctype=""):">" === N?(n(this,"onsgmldeclaration",this.Hu),this.Hu="",this.state=M.nb):(h(A,N) && (this.state=M.VUa),this.Hu+=N);continue;case M.VUa:N === this.q && (this.state=M.Vla,this.q="");this.Hu+=N;continue;case M.J3:">" === N?(this.state=M.nb,n(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=N,"[" === N?this.state=M.cja:h(A,N) && (this.state=M.OKa,this.q=N));continue;case M.OKa:this.doctype+=N;N === this.q && (this.q="",this.state=M.J3);continue;case M.cja:this.doctype+=N;"]" === N?this.state=M.J3:h(A,N) && (this.state=M.NKa,this.q=N);continue;case M.NKa:this.doctype+=N;N === this.q && (this.state=M.cja,this.q="");continue;case M.E3:"-" === N?this.state=M.QJa:this.Tn+=N;continue;case M.QJa:"-" === N?(this.state=M.PJa,(this.Tn=f(this.Cp,this.Tn)) && n(this,"oncomment",this.Tn),this.Tn=""):(this.Tn+="-" + N,this.state=M.E3);continue;case M.PJa:">" !== N?(m(this,"Malformed comment"),this.Tn+="--" + N,this.state=M.E3):this.state=M.nb;continue;case M.B3:"]" === N?this.state=M.GJa:this.Pn+=N;continue;case M.GJa:"]" === N?this.state=M.HJa:(this.Pn+="]" + N,this.state=M.B3);continue;case M.HJa:">" === N?(this.Pn && n(this,"oncdata",this.Pn),n(this,"onclosecdata"),this.Pn="",this.state=M.nb):"]" === N?this.Pn+="]":(this.Pn+="]]" + N,this.state=M.B3);continue;case M.URa:"?" === N?this.state=M.dla:h(x,N)?this.state=M.cla:this.bfa+=N;continue;case M.cla:if(!this.rL && h(x,N))continue;else "?" === N?this.state=M.dla:this.rL+=N;continue;case M.dla:">" === N?(n(this,"onprocessinginstruction",{name:this.bfa,body:this.rL}),this.bfa=this.rL="",this.state=M.nb):(this.rL+="?" + N,this.state=M.cla);continue;case M.tRa:if(h(I,N))this.tagName+=N;else {this.xo || (this.tagName=this.tagName[this.Aza]());P=this.ak[this.ak.length - 1] || this;X=this.tag={name:this.tagName,attributes:{}};this.Cp.k3 && (X.ql=P.ql);this.zE.length=0;">" === N?v(this):"/" === N?this.state=M.w5:(!h(x,N) && m(this,"Invalid character in tag name"),this.state=M.vM);}continue;case M.w5:">" === N?(v(this,!0),t(this)):(m(this,"Forward-slash in opening tag not followed by >"),this.state=M.vM);continue;case M.vM:if(h(x,N))continue;else ">" === N?v(this):"/" === N?this.state=M.w5:h(L,N)?(this.jk=N,this.kk="",this.state=M.q3):m(this,"Invalid attribute name");continue;case M.q3:"=" === N?this.state=M.bia:">" === N?(m(this,"Attribute without value"),this.kk=this.jk,q(this),v(this)):h(x,N)?this.state=M.JHa:h(I,N)?this.jk+=N:m(this,"Invalid attribute name");continue;case M.JHa:if("=" === N)this.state=M.bia;else if(h(x,N))continue;else (m(this,"Attribute without value"),this.kk=this.tag.attributes[this.jk]="",n(this,"onattribute",{name:this.jk,value:""}),this.jk="",">" === N?v(this):h(L,N)?(this.jk=N,this.state=M.q3):(m(this,"Invalid attribute name"),this.state=M.vM));continue;case M.bia:if(h(x,N))continue;else h(A,N)?(this.q=N,this.state=M.eia):(m(this,"Unquoted attribute value"),this.state=M.fia,this.kk=N);continue;case M.eia:if(N !== this.q){"&" === N?this.state=M.cia:this.kk+=N;continue;}q(this);this.q="";this.state=M.KHa;continue;case M.KHa:h(x,N)?this.state=M.vM:">" === N?v(this):"/" === N?this.state=M.w5:h(L,N)?(m(this,"No whitespace between attributes"),this.jk=N,this.kk="",this.state=M.q3):m(this,"Invalid attribute name");continue;case M.fia:if(!h(D,N)){"&" === N?this.state=M.dia:this.kk+=N;continue;}q(this);">" === N?v(this):this.state=M.vM;continue;case M.Uia:if(this.tagName)">" === N?t(this):h(I,N)?this.tagName+=N:this.Al?(this.Al+="</" + this.tagName,this.tagName="",this.state=M.fN):(!h(x,N) && m(this,"Invalid tagname in closing tag"),this.state=M.NJa);else if(h(x,N))continue;else h(L,N)?this.tagName=N:this.Al?(this.Al+="</" + N,this.state=M.fN):m(this,"Invalid tagname in closing tag.");continue;case M.NJa:if(h(x,N))continue;">" === N?t(this):m(this,"Invalid characters in closing tag");continue;case M.lma:case M.cia:case M.dia:switch(this.state){case M.lma:(V=M.nb,S="textNode");break;case M.cia:V=M.eia;S="attribValue";break;case M.dia:(V=M.fia,S="attribValue");}if(";" === N){N=S;P=this[N];X=this.kp;U=X.toLowerCase();ha="";if(this.Wz[X])X=this.Wz[X];else if(this.Wz[U])X=this.Wz[U];else {X=U;if("#" === X.charAt(0))if("x" === X.charAt(1)){X=X.slice(2);qa=parseInt(X,16);ha=qa.toString(16);}else (X=X.slice(1),qa=parseInt(X,10),ha=qa.toString(10));X=X.replace(/^0+/,"");X=ha.toLowerCase() !== X?(m(this,"Invalid character entity"),"&" + this.kp + ";"):String.fromCodePoint(qa);}this[N]=P + X;this.kp="";this.state=V;}else h(C,N)?this.kp+=N:(m(this,"Invalid character entity"),this[S]+="&" + this.kp + N,this.kp="",this.state=V);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.V1a){H=Math.max(w.wka,10);N=J=0;for(V=u.length;N < V;N++){S=this[u[N]].length;if(S > H)switch(u[N]){case "textNode":c(this);break;case "cdata":n(this,"oncdata",this.Pn);this.Pn="";break;case "script":n(this,"onscript",this.Al);this.Al="";break;default:g(this,"Max buffer length exceeded: " + u[N]);}J=Math.max(J,S);}this.V1a=w.wka - J + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){c(this);"" !== this.Pn && (n(this,"oncdata",this.Pn),this.Pn="");"" !== this.Al && (n(this,"onscript",this.Al),this.Al="");}};y=w.jf.filter(function(H){return "error" !== H && "end" !== H;});d.prototype=Object.create(b.prototype,{constructor:{value:d}});d.prototype.write=function(H){this.LA.write(H.toString());this.emit("data",H);return !0;};d.prototype.end=function(H){H && H.length && this.write(H);this.LA.end();return !0;};d.prototype.on=function(H,J){var N;N=this;N.LA["on" + H] || -1 === y.indexOf(H) || (N.LA["on" + H]=function(){var P;P=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);P.splice(0,0,H);N.emit.apply(N,P);});return b.prototype.on.call(N,H,J);};x="\r\n\t ";z="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";A="'\"";C=z + B + "#";D=x + ">";E="[CDATA[";G="DOCTYPE";F="http://www.w3.org/XML/1998/namespace";K="http://www.w3.org/2000/xmlns/";O={xml:F,k3:K};x=l(x);z=l(z);B=l(B);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;A=l(A);C=l(C);D=l(D);M=0;w.ND={Dia:M++,Eia:M++,nb:M++,lma:M++,Ska:M++,Vla:M++,VUa:M++,J3:M++,OKa:M++,cja:M++,NKa:M++,Yoc:M++,E3:M++,QJa:M++,PJa:M++,B3:M++,GJa:M++,HJa:M++,URa:M++,cla:M++,dla:M++,tRa:M++,w5:M++,vM:M++,q3:M++,JHa:M++,bia:M++,eia:M++,KHa:M++,fia:M++,cia:M++,dia:M++,Uia:M++,NJa:M++,fN:M++,SUa:M++};w.jAb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};w.Wz={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(w.Wz).forEach(function(H){var J;J=w.Wz[H];J="number" === typeof J?String.fromCharCode(J):J;w.Wz[H]=J;});for(M in w.ND){w.ND[w.ND[M]]=M;}M=w.ND;String.fromCodePoint || (function(){var J,N;function H(){var P,X,V,U,ha;P=[];X=-1;V=arguments.length;if(!V)return "";for(var S="";++X < V;){U=Number(arguments[X]);if(!isFinite(U) || 0 > U || 1114111 < U || N(U) != U)throw RangeError("Invalid code point: " + U);if(65535 >= U)P.push(U);else {U-=65536;ha=(U >> 10) + 55296;U=U % 1024 + 56320;P.push(ha,U);}if(X + 1 == V || 16384 < P.length)(S+=J.apply(null,P),P.length=0);}return S;}J=String.fromCharCode;N=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:H,configurable:!0,writable:!0}):String.fromCodePoint=H;})();r.exports=w;},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b){var d;function a(l,h){for(var n=0;n < l.length;n++){if(h(l[n],n,l))return l[n];}}Object.defineProperty(b,"__esModule",{value:!0});b.Nc=b.Jwb=b.hPa=void 0;r=(function(){function l(h){this.Fn=[];this.SA=this.kZa=0;this.Ea=h;}l.prototype.kwa=function(h){var n;n=a(this.Fn,function(c){return h >= c.ca && h < c.Sa;});"undefined" === typeof n && this.Ea.warn("Get Segment at pts " + h + " is undefined");return n;};l.prototype.YGb=function(h,n){var f;for(var c=this.Fn;0 < c.length && 300 <= h.S - c[0].S;){this.Olb();}for(;0 < c.length && 300 <= c[c.length - 1].S - h.S;){this.Nfc();}for(;1445698 < this.SA + h.size && 0 < c.length && 4 < h.S - c[0].S;){this.Ea.trace("Size exceeds, removing live segment with segmentId " + c[0].S);this.Olb();}f=new d(h,n);h=c.length;if(0 === h || c[h - 1].S < f.S)this.Ofc(f);else {h=a(c,function(g){return g.S >= f.S;});if((null === h || void 0 === h?void 0:h.S) === f.S)return;this.Pfc(c.indexOf(h),f);}this.kZa=c[c.length - 1].S;};l.prototype.Rpb=function(h){"undefined" === typeof h?this.Ea.warn("Current segment is undefined."):(this.No=h,this.Ea.trace("Current segment id is " + h.S));};l.prototype.hZb=function(){if(this.s7){if(this.kZa !== this.s7.S)return this.Fn[this.Fn.indexOf(this.s7) + 1];}else return this.Fn[0];};l.prototype.K2=function(h){this.s7=this.caa(h);};l.prototype.caa=function(h){var n;n=a(this.Fn,function(c){return c.S === h;});"undefined" === typeof n && this.Ea.error("Segment with segmentId " + h + " is not in segmentArray");return n;};l.prototype.j$a=function(){var h;return (null === (h=this.s7) || void 0 === h?void 0:h.S) || -1;};l.prototype.Ulc=function(h,n){h=this.caa(h);"undefined" !== typeof h && (this.Fn[this.Fn.indexOf(h)].header=n);};l.prototype.lYb=function(h){h=this.caa(h);return (null === h || void 0 === h?void 0:h.header) || ({});};l.prototype.Olb=function(){this.SA-=this.Fn[0].size;this.Fn.shift();};l.prototype.Ofc=function(h){this.SA+=h.size;this.Fn.push(h);};l.prototype.Pfc=function(h,n){this.SA+=n.size;this.Fn.splice(h,0,n);};l.prototype.Nfc=function(){this.SA-=this.Fn[this.Fn.length - 1].size;this.Fn.pop();};return l;})();b.hPa=r;d=(function(){return function(l,h){this.S=l.S;this.xml=l.xml;this.ca=l.ca;this.Sa=l.Sa;this.Wwa=h;this.size=l.size;this.oL=l.oL;};})();b.Jwb=d;b.Nc=a;},function(r,b,a){var l;function d(h){var n;h=h.split(".");n=h[0].split(":").map(function(c){return parseInt(c,0);});return 1E3 * (3600 * n[0] + 60 * n[1] + n[2]) + parseInt(h[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.N9=b.jPa=void 0;l=a(516);r=(function(){function h(n){this.sv=[];this.Ea=n;}h.prototype.aHb=function(n,c,f){var g,k,m,p,q,v;void 0 === f && (f=0);g=this.sv;k=n.indexOf("<p");m=-1;do {p={};p.S=c;p.lnb=k;q=n.indexOf("begin=",k) + 7;v=n.indexOf("end=",k) + 5;q=d(n.substring(q,q + 12)) - f;v=d(n.substring(v,v + 12)) - f;m=v > m?v:m;p.startTime=q;p.endTime=v;p.latestEndSoFar=m;p.STb=n.indexOf("/p>",k) + 3;k=p.STb;if(0 === g.length || p.startTime > g[g.length - 1].startTime)(g.push(p),this.Ea.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,ITb:p.endTime}));else if((v=l.Nc(g,function(t){return t.startTime >= p.startTime;}),v.startTime !== p.startTime || v.lnb !== p.lnb))(v=g.indexOf(v),g.splice(v,0,p),this.Ea.trace("LiveTtmlIndex:  entry is pushed at index number " + v,{startTime:p.startTime,ITb:p.endTime}));k=n.indexOf("<p",k);}while(-1 !== k);};h.prototype.Jq=function(n,c){return this.sv.filter(function(f){return f.startTime <= c && f.endTime >= n;}).length;};h.prototype.XYb=function(n){var c;c=l.Nc(this.sv,function(f){return f.startTime <= n && n < f.endTime || f.startTime >= n;});return (null === c || void 0 === c?void 0:c.S) || -1;};h.prototype.A7a=function(){return 0 < this.sv.length?this.sv[this.sv.length - 1].endTime:0;};return h;})();b.jPa=r;b.N9=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mka="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fLa="DeviceIdGeneratorSymbol";},function(r,b){function a(d,l,h){if(null != h){if(0 < h(d,l))throw a.z4a(d,l);}else if(d.Mm && 0 < d.Mm(l))throw a.z4a(d,l);this.start=d;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Qla=void 0;a.z4a=function(d,l){return new RangeError("end [" + l + "] must be >= start [" + d + "]");};b.Qla=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iLa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fSa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EPa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NQa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xSa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UWa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vIa="AppLogSinkSymbol";},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O;function d(L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T,W,Q,ka,ra){var R;R=this;this.j=L;this.Ha=I;this.Fob=M;this.Vg=H;this.jAa=J;this.dua=N;this.Ve=P;this.w$=X;this.Ef=V;this.config=S;this.Jd=U;this.za=ha;this.Ia=qa;this.ys=xa;this.hC=Aa;this.Xj=Oa;this.aw=T;this.OK=W;this.Ic=Q;this.WQ=ka;this.PF=ra;this.w2=[];this.uAa=this.IF=this.n1=0;this.nP=[];this.xpa=!1;this.Ju=function(fa){var wa,ua,Ea,Xa,vb,nb;ua={};try{ua={playdelaysdk:(0,p.vg)(R.j.iX()),applicationPlaydelay:(0,p.vg)(R.j.Sqa()),playdelay:(0,p.vg)(R.j.Wqa()),trackid:R.j.Gl,bookmark:(0,p.vg)(R.j.Nn || 0),pbnum:R.j.index,endianness:(0,f.x9a)()};R.config().vTb && (ua.transitiontime=R.j.Ao,ua.uiplaystarttime=R.j.jb.kM,ua.playbackrequestedat=R.j.rj.ia(q.va),ua.clockgettime=R.getTime(),ua.clockgetpreciseepoch=R.za.rf.ia(q.va),ua.clockgetpreciseappepoch=R.Ia.fC.ia(q.va),ua.absolutestarttime=R.j.SJ(),ua.relativetime=R.j.L$a());R.xaa(ua,"startplay");}catch(zb){R.log.error("error in startplay log fields",zb);}R.j.jj && (ua.blocked=R.j.jj);R.Ic.tbb(ua);(0,z.Pa)(R.j.S1a) && (ua.bookmarkact=(0,p.vg)(R.j.S1a));Ea=R.j.Bd.at && R.j.Bd.ats?R.j.Bd.at - R.j.Bd.ats:void 0;Ea && (ua.nccpat=Ea);(Ea=R.j.Bd.lr && R.j.Bd.lc?R.j.Bd.lr - R.j.Bd.lc:void 0) && (ua.nccplt=Ea);(Ea=R.j.Bd.lc && R.j.Bd.lg?R.j.Bd.lc - R.j.Bd.lg:void 0) && (ua.lct=Ea);(Ea=R.zJ()) && (ua.downloadables=Ea);mb._cad_global.device && (0,z.Ad)(mb._cad_global.device.K$) && (ua.esnSource=mb._cad_global.device.K$);(0,p.Qe)(ua,R.ys,{prefix:"pi_"});R.j.tq && R.j.tq.initBitrate && (ua.initvbitrate=R.j.tq.initBitrate);R.j.tq && R.j.tq.selector && (ua.selector=R.j.tq.selector);ua.fullDlreports=R.sqb;if(R.j.state.value >= x.kc.Xe)try{Xa=R.j.Mv();if(Xa){R.maxBitrate=(0,f.xT)(Xa.map(function(zb){return zb.bitrate;}));R.hfb=(0,f.xT)(Xa.map(function(zb){return zb.height;}));vb=0 < Xa.length?(0,E.tab)(function(zb,Ma){return zb.height === Ma.height;},Xa).map(function(zb){return (0,B.Wza)(zb,function(Ma){return Ma.bitrate;});}):void 0;ua.maxbitrate=R.maxBitrate;ua.maxresheight=R.hfb;}}catch(zb){R.log.error("Exception computing max bitrate",zb);}try{nb=(0,f.cK)();nb && (ua.pdltime=nb);}catch(zb){}try{(0,p.Qe)(ua,R.j.Bd,{prefix:"sm_"});(0,p.Qe)(ua,R.j.mba(),{prefix:"vd_"});}catch(zb){}fa && R.j.Qw && (ua.pssh=R.j.Qw);R.xbb(R.j,ua);ua.avtp=R.$L.up().pGa;(null === (wa=R.j.rb) || void 0 === wa?0:wa.EA) && R.Nba(ua);if(R.j.Mb.value)try{ua.ttTrackFields=R.j.Mb.value.Ih;}catch(zb){}R.Ic.pbb(ua,R.j.Hc.value,R.Ha);R.Ic.sQ(ua,!0,R.j.Xh.value,R.Ha);R.j.ba && (ua.packageId=R.j.ba.Ra.Ep);R.j.ba && R.j.ba.Ra.Yo && (ua.hasChoiceMap=!0);R.h4b(vb);R.g4b();fa && (R.zxa(ua),R.Bxa(ua));R.rbb(R.j,ua);R.lK(R.j,ua);R.mK(R.j,ua);R.Yt(R.j,ua);R.EF(R.j,ua,R.xpa);R.HZ(R.j,ua);R.L1b(R.j,ua);R.Axa(ua);R.Dxa(ua);R.Ic.rQ(ua);R.qbb(ua);R.Ic.Oba(ua,R.Ha);R.Cxa(ua);R.Ec(A.Wc.Ju,fa,O.Ie | O.nv | O.yj | O.ov | O.mH | O.C3 | O.pH | O.pr,ua);};this.Ww=function(fa,wa,ua){wa={playdelay:(0,p.vg)(fa),reason:ua,intrplayseq:R.IF - 1,skipped:wa};"repos" === ua && (wa.prstate=!0 === R.j.paused.value?"paused":"playing");R.qQ(wa,h.zj.Ww);R.mK(R.j,wa);R.Yt(R.j,wa);R.Ec(A.Wc.Ww,!1,O.Ie | O.nv | O.yj,wa);"rebuffer" !== ua && "force_rebuffer" !== ua || R.j.bn.UGb(Number((0,p.vg)(fa)));};this.mB=function(fa,wa,ua,Ea){fa={moff:(0,p.Yn)(ua),moffms:(0,p.vg)(ua),vbitrate:wa.bitrate,vbitrateold:fa.bitrate,vdlid:wa.Wb,vdlidold:fa.Wb,vheight:wa.height,vheightold:fa.height,vwidth:wa.width,vwidthold:fa.width,bw:Ea};R.mK(R.j,fa);R.Yt(R.j,fa);R.EF(R.j,fa);R.qQ(fa,h.zj.mB);R.Ec(A.Wc.mB,!1,O.yj,fa);};this.BDa=function(fa,wa,ua){fa={moff:(0,p.Yn)(ua),moffms:(0,p.vg)(ua),vdlidold:fa.Wb,vbitrateold:fa.bitrate};R.mK(R.j,fa);R.Yt(R.j,fa);R.EF(R.j,fa);R.Ic.ps(fa,wa,R.j.hg.value && R.j.hg.value.stream);R.qQ(fa,h.zj.k1);R.Ec(A.Wc.k1,!1,O.yj,fa);};this.jCa=function(){var fa,wa;fa={waittime:(0,p.vg)(R.j.L$a()),abortedevent:"startplay",trackid:R.j.Gl,prstate:R.QB(),paustate:R.j.paused.value};R.xaa(fa,"endplay");R.qQ(fa,h.zj.DR);R.aw.iY && (fa.eventlist_version=1,fa.eventlist=R.OK.B$a(R.j));R.j.tq && R.j.tq.initBitrate && (fa.initvbitrate=R.j.tq.initBitrate);try{wa=(0,f.cK)();wa && (fa.pdltime=wa);(0,p.Qe)(fa,R.j.Bd,{prefix:"sm_"});}catch(ua){}R.wxa(fa,!0);R.Ic.Oba(fa,R.Ha);R.Ic.sQ(fa,!1,R.j.Xh.value,R.Ha);R.zxa(fa);R.Ic.ps(fa,R.j.Kf.value,R.j.ei.value);R.xbb(R.j,fa);R.lK(R.j,fa);R.HZ(R.j,fa);R.Cxa(fa);R.Bxa(fa);R.Yt(R.j,fa);R.Ec(A.Wc.DR,!1,O.Ie | O.yj | O.mH | O.ov | O.pr,fa);};this.iCa=function(fa,wa){fa={waittime:(0,p.vg)(fa),abortedevent:"resumeplay",resumeplayreason:wa};R.j.tq && R.j.tq.initBitrate && (fa.initvbitrate=R.j.tq.initBitrate);R.Ic.ps(fa,R.j.Kf.value,R.j.ei.value);R.HZ(R.j,fa);R.Yt(R.j,fa);R.Ec(A.Wc.DR,!1,O.Ie | O.yj | O.pr,fa);};this.MFa=function(fa,wa,ua){fa={newstate:wa?"Paused":"Playing",oldstate:fa?"Paused":"Playing",reason:ua};R.mK(R.j,fa);R.Yt(R.j,fa);R.EF(R.j,fa);R.Ic.ps(fa,R.j.Re.value && R.j.Re.value.stream,R.j.hg.value && R.j.hg.value.stream);R.qQ(fa,h.zj.c2);R.Ec(A.Wc.c2,!1,O.Ie | O.yj,fa);};this.PZ=function(fa,wa,ua){var Ea,Xa;fa=(0,p.Qe)({vdlid:R.j.Kf.value.Wb,playingms:fa,pausedms:wa,intrplayseq:R.IF++,prstate:R.QB(),paustate:R.j.paused.value},ua);R.xaa(fa,"intrplay");wa=R.j.Dc[G.u.J].value;ua=R.j.Dc[G.u.U].value;fa.cdnid=fa.vcdnid=wa && wa.id;fa.acdnid=ua && ua.id;fa.locid=R.e_ && R.e_.oza;fa.loclv=R.e_ && R.e_.ieb;fa.avtp=R.$L.up().pGa;fa.mediabuffered=null === (Ea=R.j.df) || void 0 === Ea?void 0:Ea.Aaa();if(null === (Xa=R.j.rb) || void 0 === Xa?0:Xa.EA)(R.wxa(fa,!0),R.Nba(fa),R.vbb(fa));try{(0,p.Qe)(fa,R.j.mba(),{prefix:"vd_"});}catch(vb){}R.mK(R.j,fa);R.Yt(R.j,fa);R.EF(R.j,fa);R.Ic.ps(fa,R.j.Re.value && R.j.Re.value.stream,R.j.hg.value && R.j.hg.value.stream);R.Ec(A.Wc.PZ,!1,O.Ie | O.yj,fa);};this.AG=function(fa,wa,ua){fa={moffold:(0,p.Yn)(fa),reposseq:R.n1++,prstate:R.QB(),paustate:R.j.paused.value};R.EF(R.j,fa);R.Ic.ps(fa,ua && ua.stream,wa && wa.stream);R.qQ(fa,h.zj.AG);R.Ec(A.Wc.AG,!1,O.Ie | O.yj,fa);};this.dqa=function(){var fa,wa,ua,Ea;wa=R.j.Hc.value;ua=R.j.ei.value.Wb;wa=wa?{trackId:wa.trackId,bcp47:wa.Sf,downloadableId:ua,rank:wa.wc,chan:wa.channels}:{};ua=R.dC;Ea=null === (fa=R.Iya) || void 0 === fa?void 0:fa.Wb;fa=ua?{trackId:ua.trackId,bcp47:ua.Sf,downloadableId:Ea,rank:ua.wc,chan:ua.channels}:{};R.Ec(A.Wc.t1a,!1,O.Ie | O.yj,{switchdelay:(0,p.vg)(R.getTime() - R.Jya),track:wa,oldtrack:fa});};this.W1=function(fa){R.Ec(A.Wc.rnb,!1,O.Ie | O.yj,{speedold:Math.floor(1E3 * fa.oldValue),speed:Math.floor(1E3 * fa.newValue)});};this.QS=function(){R.Ec(A.Wc.nkc,!1,O.Ie | O.yj,{track:R.j.Mb.value.Ih});};this.dD=function(fa){var wa,ua;wa=R.j.Mb.value;if(fa.newValue || wa && wa.Oq() && !wa.yp()){ua=(fa=null !== (ua=fa.newValue) && void 0 !== ua?ua:wa)?{trackId:fa.trackId,bcp47:fa.Sf,downloadableId:fa.Wb,rank:fa.wc,isImageBased:fa.am}:{};fa=(fa=R.Vya)?{trackId:fa.trackId,bcp47:fa.Sf,downloadableId:fa.Wb,rank:fa.wc,isImageBased:fa.am}:{};ua={switchdelay:(0,p.vg)(R.getTime() - R.Uya),track:ua,oldtrack:fa};R.Ic.ps(ua,R.j.Re.value && R.j.Re.value.stream,R.j.hg.value && R.j.hg.value.stream);R.Ec(A.Wc.Rob,!1,O.Ie | O.yj,ua);}};this.Ur=function(fa){R.Ec(A.Wc.CJb,!1,O.Ie | O.yj,fa.newValue);};this.aLb=function(fa,wa){var ua,Ea;ua=wa.serverid;Ea={locid:wa.location,loclv:wa.locationlv,selocaid:ua,selcdnid:ua,selocaname:wa.servername};Ea.mediatype=wa.mediatype;Ea.selreason=wa.selreason || "unknown";Ea.seldetail=wa.seldetail;Ea.cdnbwdata=JSON.stringify([{id:ua}]);fa && (Ea.oldlocid=fa.oza,Ea.oldloclv=fa.ieb,Ea.oldocaid=fa.ngc,Ea.oldocaname=fa.IL);R.Ec(A.Wc.F2a,!1,O.C3,Ea);};this.Q5a=function(){var fa,wa,ua;if(R.j.zh)try{fa=!1;R.sqb || (fa=!0,R.nP=R.nP.filter(function(Ea){return !Ea.ja;}));if(0 < R.nP.length){wa=R.w$.construct(R.nP,R.j.rj.ia(q.va));R.nP=[];wa.erroronly=fa;ua={};(0,p.jh)(wa,function(Ea,Xa){ua[Ea]=JSON.stringify(Xa);});R.Ec(A.Wc.SRb,!1,O.yj,ua);}}catch(Ea){R.log.error("Exception in dlreport.",Ea);}};this.QB=function(){var fa;fa=R.j.Db.value;return fa === x.qb.Xc?"playing":fa === x.qb.ej?"paused":fa === x.qb.Us?"ended":"waiting";};this.sC=function(){var fa,wa,ua;if(R.j.state.value == x.kc.Xe){ua=R.H0();R.config().IDa && (ua.avtp=R.$L.up().pGa,(null === (fa=R.j.rb) || void 0 === fa?0:fa.EA) && R.Nba(ua));ua.mediabuffered=null === (wa=R.j.df) || void 0 === wa?void 0:wa.Aaa();ua.midplayseq=R.uAa++;ua.prstate=R.QB();ua.paustate=R.j.paused.value;R.config().jgc && R.bob("midplay");R.config().wu && R.Exa(ua);R.Axa(ua);R.Dxa(ua);R.Yt(R.j,ua);R.Ic.rQ(ua);R.Ec(A.Wc.sC,!1,O.Ie | O.yj | O.mH | O.ov,ua);}};this.bob=function(fa){var wa,ua;wa={};wa.trigger=fa;try{ua=R.j.awa();wa.subtitleqoescore=R.j.Kp.v_b(ua);wa.metrics=JSON.stringify(R.j.Kp.wwa(ua));}catch(Ea){R.log.error("error getting subtitle qoe data",Ea);}R.Ec(A.Wc.njc,!1,O.Ie | O.mH | O.nv,wa);};this.transition=function(fa){R.EF(R.j,fa);R.HZ(R.j,fa);R.Ec(A.Wc.transition,!1,0,fa);};this.AEa=function(fa,wa){R.Ec(A.Wc.AEa,wa,0,fa);};this.HB=function(fa){var wa,ua,Ea,Xa,vb,nb,zb;ua=R.H0();R.xaa(ua,"endplay");ua.prstate=R.QB();ua.paustate=R.j.paused.value;ua.muted=R.j.muted.value;R.j.fD && "downloaded" === R.j.fD.eQ() && (ua.trickplay_ms=R.j.F2.offset,ua.trickplay_res=R.j.F2.Wkb);R.config().Aqb && (ua.rtinfo=R.j.WZb());R.config().IDa && (null === (wa=R.j.rb) || void 0 === wa?0:wa.EA) && R.Nba(ua);ua.endreason=fa?"error":R.j.Db.value === x.qb.Us?"ended":"stopped";(wa=R.ys) && (0,p.Qe)(ua,wa,{prefix:"pi_"});try{(0,p.Qe)(ua,R.j.Bd,{prefix:"sm_"});}catch(bb){}R.j.vxa && (ua.inactivityTime=R.j.vxa);R.wxa(ua,fa);R.vbb(ua);if(R.j.p9){wa=R.j.p9;Ea=R.config().cX;Xa=R.j.loadTime;vb={iv:Ea,seg:[]};nb=function(bb,hb,kb){return 0 === hb || void 0 === kb[hb - 1]?bb:bb - kb[hb - 1];};zb=wa.PW.map(nb);nb=wa.V2.map(nb);for(var Ma,Ya=0;Ya < zb.length;Ya++){if(zb[Ya] || nb[Ya])Ma?(Ma.ams.push(zb[Ya]),Ma.vms.push(nb[Ya])):Ma={ams:[wa.PW[Ya]],vms:[wa.V2[Ya]],soffms:wa.startTime + Ya * Ea - Xa};Ya !== zb.length - 1 && zb[Ya] && nb[Ya] || !Ma || (vb.seg.push(Ma),Ma=void 0);}ua.bt=JSON.stringify(vb);}fa && (R.zxa(ua),R.Bxa(ua));R.bob("endplay");R.config().wu && R.Exa(ua);R.Ic.sQ(ua,!1,R.j.Xh.value,R.Ha);R.rbb(R.j,ua);R.lK(R.j,ua);R.mK(R.j,ua);R.EF(R.j,ua,R.xpa);R.Yt(R.j,ua);R.HZ(R.j,ua);R.Axa(ua);R.Dxa(ua);R.Ic.rQ(ua);R.N1b(ua);R.qbb(ua);R.P1b(ua);R.O1b(ua);R.R1b(ua);R.Cxa(ua);R.S1b(ua);R.Ec(A.Wc.HB,fa,O.Ie | O.nv | O.yj | O.mH | O.ov | O.pH | O.pr,ua);};this.ZRb=function(fa){R.nP.push(R.w$.YMb(fa.response));};this.fta=function(fa){var wa,ua,Ea,Xa,vb,nb;fa=fa.response;wa=fa.request;ua=fa.request.rC;Ea=wa.track;if(Ea){Xa=!fa.ja && fa.Da != v.Y.AD;vb=Ea.type;nb=fa.Ym;if(Xa || R.Ha.tza){ua={dltype:vb,url1:wa.url,url2:fa.url || "",cdnid:wa.Dc && wa.Dc.id,tresp:(0,p.vg)(nb.tj - nb.Is),brecv:(0,p.h8a)(nb.vX),trecv:(0,p.vg)(nb.$q - nb.tj),sbr:ua && ua.bitrate};fa.Au && (ua.range=fa.Au);switch(vb){case g.Aj.audio:ua.adlid=wa.stream.Wb;break;case g.Aj.video:ua.vdlid=wa.stream.Wb;break;case g.Aj.bha:ua.ttdlid=Ea.Wb;}(wa=(0,C.Xva)(fa.Da)) && (ua.nwerr=wa);fa.Xl && (ua.httperr=fa.Xl);R.Ec(A.Wc.fta,Xa,O.yj,ua);}}};this.jj=function(){R.Ec(A.Wc.P1a,!1,O.Ie | O.mH | O.pr,{});};this.pMb=function(fa){var wa,ua;wa=fa.response.Ym;fa=(0,q.Vb)(wa.tj);ua=(0,q.Vb)(wa.$q);wa=(0,t.ha)(wa.vX || 0);wa.Zcb() || wa.jya() || (fa=new w.Qla(fa,ua),R.$L.MGb(new u.nLa(fa,wa)));};this.Bea=function(fa){var wa,ua,Ea;Ea=fa.newValue;fa.lj && fa.lj.nR && Ea && (null === (wa=fa.lj) || void 0 === wa || !wa.reason) || Ea == R.BK || (R.MFa(R.BK,Ea,null === (ua=fa.lj) || void 0 === ua?void 0:ua.reason),R.BK=Ea);};this.eB=function(fa){function wa(ua){var Ea;if(R.j.$b && R.j.$b.sourceBuffers){Ea=R.j.$b.sourceBuffers.filter(function(Xa){return Xa.type === ua;}).pop();if(Ea)return {busy:Ea.Ri(),updating:Ea.updating(),ranges:Ea.Baa()};}}fa={cause:fa.cause};fa.cause && fa.cause === c.sla && (fa.mediaTime=R.j.mediaTime.value,fa.buf_audio=wa(n.l5),fa.buf_video=wa(n.tU));R.PZ(R.w2[x.qb.Xc] || 0,R.w2[x.qb.ej] || 0,fa);};this.gpb=function(fa){var wa;fa=fa.oldValue;wa=R.getTime();fa === x.qb.Hg?R.w2=[]:R.w2[fa]=(R.w2[fa] || 0) + (wa - R.s4b);R.s4b=wa;};this.Mn=function(fa){R.Jya=R.getTime();R.dC=fa.oldValue;};this.nn=function(fa){R.Uya=R.getTime();R.Vya=fa.oldValue;};this.SW=function(fa){R.Iya=fa.oldValue;};this.u_=function(fa){function wa(ua,Ea){var Xa;if(!ua || ua.oza !== Ea.location){Xa={oza:Ea.location,ieb:Ea.locationlv,ngc:Ea.serverid,IL:Ea.servername};R.aLb(ua,Ea);return Xa;}}if("audio" === fa.mediatype){if(fa=wa(R.m4b,fa))R.m4b=fa;}else if(fa=wa(R.e_,fa))R.e_=fa;};this.G1=function(fa){var wa,ua;wa=fa.mediatype;ua=fa.reason;"video" === wa?"serverswitchaway" === ua?(R.Kk.summary.erb++,R.Kk.Ica=R.za.rf.ia(q.va)):"serverswitchback" === ua && (R.Kk.summary.frb++,R.Kk.Ica && (R.Kk.summary.grb.push(R.za.rf.ia(q.va) - R.Kk.Ica),R.Kk.Ica=void 0)):"audio" === wa && ("serverswitchaway" === ua?(R.Kk.summary.f1a++,R.Kk.Dca=R.za.rf.ia(q.va)):"serverswitchback" === ua && (R.Kk.summary.g1a++,R.Kk.Dca && (R.Kk.summary.h1a.push(R.za.rf.ia(q.va) - R.Kk.Dca),R.Kk.Dca=void 0)));R.Ec(A.Wc.pgc,!1,O.Ie | O.yj,{mediatype:fa.mediatype,server:fa.server,selreason:fa.reason,location:fa.location,bitrate:fa.bitrate,confidence:fa.confidence,throughput:fa.throughput,oldserver:fa.oldserver});};this.SI=function(fa){R.Ec(A.Wc.oIb,!1,O.yj,{strmsel:fa.strmsel});};this.Pca=function(fa){fa=l.__rest(fa,["type"]);R.Yt(R.j,fa);R.Ec(A.Wc.l5b,!1,O.Ie,fa);};this.Oca=function(fa){var wa,ua,Ea;wa=fa.mediaType;ua=fa.current;fa=fa.mo;if(wa === G.u.J){Ea={};wa={mediatype:(Ea[G.u.U]="audio",Ea[G.u.J]="video",Ea[G.u.nb]="subtitle",Ea)[wa],curr:{enc:ua.GJ,origin:ua.FJ},prev:{enc:fa.GJ,origin:fa.FJ}};R.Yt(R.j,wa);R.Ec(A.Wc.k5b,!1,O.Ie,wa);}};this.JS=function(fa){fa=Object.assign({},fa);fa.details && (fa.details=JSON.stringify(fa.details));R.Ec(A.Wc.mjc,!0,O.Ie | O.nv | O.C3,fa);};this.xpa=Oa.nHa || Oa.zha || Oa.f8a;this.$L=M();this.log=(0,k.nj)(L,"LogblobBuilder");this.BK=L.paused.value;this.sa=this.Ha.sa;this.Kk={summary:{erb:0,frb:0,grb:[],f1a:0,g1a:0,h1a:[]},Ica:void 0,Dca:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.pU=void 0;l=a(0);h=a(66);n=a(17);c=a(64);f=a(44);g=a(95);k=a(10);m=a(22);p=a(23);q=a(5);v=a(4);t=a(52);w=a(520);u=a(1282);y=a(14);x=a(16);z=a(15);B=a(1283);A=a(282);C=a(203);D=a(119);E=a(82);G=a(49);F=a(204);K=a(254);d.prototype.xbb=function(L,I){var M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T,W,Q;if(this.config().wu)try{M={};H=this.Jd.getStats(void 0,void 0,L.L);J=L.SJ();N=H.ZL.BMb || [];M.attempts=H.Uea || 0;M.num_completed_tasks=N.length;P=this.Ve.RUb;X={};V=D.Qk.KS;S=D.Qk.Wv;U=D.Qk.ara;H.Qm && (X.scheduled=H.Qm - J);ha=L.ba;ha && (0,z.Pa)(ha.vL) && (X.preauthsent=ha.vL - L.loadTime,X.preauthreceived=ha.$R - L.loadTime);qa=N.filter(function(ka){return "manifest" === ka.type;});M.mf_succ=qa.filter(P("status",V)).length;M.mf_fail=qa.filter(P("status",S)).length;xa=L.Bd;(0,z.Ad)(xa.lg) && 0 > xa.lg && L.loadTime && (X.ldlsent=xa.lc,X.ldlreceived=xa.lr);Aa=N.filter(function(ka){return "ldl" === ka.type;});M.ldl_succ=Aa.filter(P("status",V)).length;M.ldl_fail=Aa.filter(P("status",S)).length;H=!0;J=[];"notcached" === L.aJ && (H=!1,J.push("Missing cached manifest"));this.config().hY || (H=!1,J.push("LDL prefetch disabled"));Oa=Aa.filter(P("status",U)).length;this.config().hY && 0 === Oa && (!X.ldlreceived || 0 <= X.ldlreceived) && (H=!1,J.push("LDL received after start"));if(this.config().M6a)if(I.isPrefetchItem){T=I.prefetchedAudioMs / I.bcABufferLevelMs;if(1 > I.prefetchedVideoMs / I.bcVBufferLevelMs || 1 > T)(H=!1,J.push("Insufficient media fetched"));}else (H=!1,J.push("aseStats not initialized"));W=N.filter(function(ka){return "getHeaders" === ka.type;});M.header_succ=W.filter(P("status",V)).length;M.header_fail=W.filter(P("status",S)).length;Q=N.filter(function(ka){return "getMedia" === ka.type;});M.media_succ=Q.filter(P("status",V)).length;M.media_fail=Q.filter(P("status",S)).length;M.hm_succ=M.header_succ + M.media_succ;M.hm_fail=M.header_fail + M.media_fail;(0,p.Qe)(I,M,{prefix:"pr_"});this.aw.iY && (I.eventlist_version=1,I.eventlist=this.OK.B$a(L));(I.prefetchCompleted=H) || (I.prefetchFailed=J,(0,p.Qe)(I,X,{prefix:"pe_"}));this.Exa(I);}catch(ka){this.log.warn("error in collecting video prepare data",ka);}};d.prototype.b_b=function(L,I){if(L=L.NY())if(I=L[I])return I.Ba;};d.prototype.rbb=function(L,I){L.jb.Gh && (I.isBranching=!0);};d.prototype.lK=function(L,I){var M,H;H=(null === (M=L.ba) || void 0 === M?void 0:M.gya) || "videopreparer" === L.$I;I.cachedManifest=L.aJ;I.cachedLicense=L.$I;I.usedldl=this.config().hY?H.toString():"not_capable";};d.prototype.mK=function(L,I){var M,H;if(this.config().Q1b){M=L.bwa();H=L.ga.ba;M && H && (I.segment=M,H=L.tF(),I.segmenttime=H,L=this.b_b(L,M),null !== H && void 0 !== L && (I.segmentoffset=H - L));}};d.prototype.EF=function(L,I,M){I.pxid=L.Qea;(void 0 === M?0:M) && (I.playgraph_trace=L.Nib);};d.prototype.HZ=function(L,I){I.hasContentPlaygraph=L.uba();};d.prototype.L1b=function(L,I){var M,H;if(L.uba()){M=L.RE;H=L.ba.Ra.cp.na;I.auxViewables=Object.keys(H.T).map(function(J){return H.T[J].N;}).filter(function(J,N,P){return J !== M && P.indexOf(J) === N;});}};d.prototype.vbb=function(L){var I,M;I=this.j.$vc;M=I && I.Wxc;I && I.q1b && (L.htwbr=I.q1b,L.pbtwbr=I.XBa,L.hptwbr=I.cwc);I && I.nfc && (L.rr=I.nfc,L.ra=I.Sxc);I && M && 0 < (M.length || 0) && (L.qe=JSON.stringify(M));};d.prototype.zxa=function(L){var I,M,H;try{I=this.Ve.createElement("canvas");M=I.getContext("webgl") || I.getContext("experimental-webgl");if(M){H=M.getExtension("WEBGL_debug_renderer_info");H && (L.WebGLRenderer=M.getParameter(H.UNMASKED_RENDERER_WEBGL),L.WebGLVendor=M.getParameter(H.UNMASKED_VENDOR_WEBGL));}}catch(J){}};d.prototype.R1b=function(L){L.switchAwaySummary={vsa:this.Kk.summary.erb,vsb:this.Kk.summary.frb,vsbt:this.Kk.summary.grb,asa:this.Kk.summary.f1a,asb:this.Kk.summary.g1a,asbt:this.Kk.summary.h1a};};d.prototype.LBb=function(L){var I;I=[];return L?Object.keys(L).map(function(M){return +M;}):I;};d.prototype.zJ=function(){var L,I;L=this;if(this.j.Hz && this.j.Hj){I=[];this.j.Hz.concat(this.j.Hj).forEach(function(M){M.streams.forEach(function(H){I.push({dlid:H.Wb,type:H.type,bitrate:H.bitrate,vmaf:H.gb,cdn_ids:L.LBb(H.hta)});});});return JSON.stringify(I);}};d.prototype.$Kb=function(){var I,M,H;function L(J,N){var P,X,V;P=J.cdnId + "$" + J.correlationId;X=H[P];X || (X={cdnid:J.cdnId,pbcid:J.correlationId,dls:[]},H[P]=X,M.push(X));(0,m.hP)(J.bitrate);(0,m.hP)(J.duration);P={bitrate:J.bitrate,tm:(0,y.Sp)(J.duration)};V=J.vmaf;V && ((0,m.hP)(J.vmaf),P.vf=V);P[N]=(0,p.Fk)(J.downloadableId);X.dls.push(P);}I=this.j.bn.ZWb();M=[];H={};I.audio.forEach(function(J){L(J,"adlid");});I.video.forEach(function(J){L(J,"dlid");});return JSON.stringify(M);};d.prototype.H0=function(){var L,I,M,H,J,N,P,X,V,S,U,ha,qa;L=this.j.bn;I={totaltime:(0,p.Yn)(L.hs("content")),totalcontenttime:(0,p.Yn)(L.kZ("content")),totaladtime:(0,p.Yn)(L.hs("ads")),totalothertime:(0,p.Yn)(L.hs("other")),cdndldist:this.$Kb(),reposcount:this.n1,intrplaycount:this.IF};try{M={numskip:0,numlowqual:0};H=this.j.df;J=H.Dy();(0,z.Pa)(J) && (I.totfr=J,M.numren=J);J=H.YJ();(0,z.Pa)(J) && (I.totdfr=J,M.numrendrop=J);J=H.RY();(0,z.Pa)(J) && (I.totcfr=J,M.numrenerr=J);I.playqualvideo=JSON.stringify(M);N=this.j.Kf.value;N && (I.videofr=N.framerate.toFixed(3));P=L.fva();P && (I.abrdel=P);X=L.Bba() && L.O8a();X && (I.tw_vmaf=X);V=L.M8a();V && (0,p.Qe)(I,V);I.rbfrs=this.IF;I.maxbitrate=this.maxBitrate;I.maxresheight=this.hfb;S=this.j.vF();for(L=0;L < S.length;L++){U=S[L];ha=this.Ha.ZQ.ZC(U);if(ha){(0,m.wa)(qa);I.maxbitrate=qa?qa.bitrate:0;I.maxresheight=qa?qa.height:0;I.bitratefilters=ha.join("|");break;}qa=U;}this.j.fD && (I.trickplay=this.j.fD.eQ());null !== this.j.Kp.C1a && (I.avg_subt_delay=this.j.Kp.C1a);}catch(xa){this.log.error("Exception reading some of the endplay fields",xa);}(0,p.Qe)(I,this.j.mba(),{prefix:"vd_"});return I;};d.prototype.getTime=function(){return this.Ia.Qb().ia(q.va);};d.prototype.owa=function(){return this.getTime() - this.Ha.rj.ia(q.va);};d.prototype.Exa=function(L){var I;try{I=this.Jd.getStats();L.pr_cache_size=JSON.stringify(I.cache);L.pr_stats=JSON.stringify(I.zWb);}catch(M){}};d.prototype.Axa=function(L){this.log.debug("httpstats",this.Ef.ic);(0,p.Qe)(L,this.Ef.ic,{prefix:"http_"});};d.prototype.Yt=function(L,I){L=L.Md;L.qa && (I.intenttoplayatedge=L.Ybb(),L=L.pF(),I.livestage=this.GYb(L));};d.prototype.GYb=function(L){switch(L){case F.gv.SU:case F.gv.hka:case F.gv.wja:return L.toLowerCase();default:return (0,K.qY)(L);}};d.prototype.wxa=function(L,I){var M,H,J;M=this.config().d5a && !(this.sa % this.config().d5a);H=this.j.rb;J=null === H || void 0 === H?void 0:H.hj;M && J && (L.ASEstats=JSON.stringify(H.Sxa(I)));};d.prototype.Nba=function(L){Object.assign(L,this.j.rb.Bc.D_b());};d.prototype.Dxa=function(L){var I;try{I=y.wx.memory;(0,z.Wcb)(I) && (L.totalJSHeapSize=I.totalJSHeapSize,L.usedJSHeapSize=I.usedJSHeapSize,L.jsHeapSizeLimit=I.jsHeapSizeLimit);}catch(M){}};d.prototype.qbb=function(L){var I;try{if(this.config().kX){I=this.j.eXb();L.battery=I;this.log.trace("batterystatuses",I);}}catch(M){}};d.prototype.N1b=function(L){this.j.e$ && (L.dqec=this.j.e$);};d.prototype.Cxa=function(L){var I,M,H;(null === (I=this.j.af) || void 0 === I?0:I.WP)?L.keysys=this.j.af.WP():(null === (H=null === (M=this.j.af) || void 0 === M?void 0:M.mediaKeys) || void 0 === H?0:H.keySystem)?L.keysys=this.j.af.mediaKeys.keySystem:this.WQ.pdb && (L.keysys=this.WQ.pdb);this.PF.rdb && (L.keySystemRestrictions=this.PF.rdb);this.PF.sdb && (L.keySystemRestrictionsDebug=this.PF.sdb);};d.prototype.Bxa=function(L){var I;if(null === (I=this.j.af) || void 0 === I?0:I.T9a)L.keystatus=this.j.af.Gya;};d.prototype.O1b=function(L){this.cua && (L.externaldisplay=this.cua.IP);};d.prototype.P1b=function(L){var I,M;if(this.rHa){I=this.rHa.map(function(H){return H.Yc;}).filter(function(H){return void 0 !== H;});M=(0,B.Wza)(I,function(H){return H.height;});M && (L.media_capabilities_smooth=M.smooth,L.media_capabilities_efficient=M.powerEfficient,L.media_capabilities_bitrate=M.bitrate,L.media_capabilities_height=M.height,L.media_capabilities_width=M.width);L.media_capabilities=I.map(function(H){return {smooth:H.smooth,efficient:H.powerEfficient,bitrate:H.bitrate,height:H.height,width:H.width};});}};d.prototype.S1b=function(L){L.didHydrateTracks=this.j.r$;};d.prototype.g4b=function(){void 0 === this.cua && (this.cua=this.dua.JUb());};d.prototype.h4b=function(L){var I;I=this;void 0 === this.rHa && void 0 !== L && (this.rHa=L.map(function(M){return I.jAa.hua(M);}));};d.prototype.xaa=function(L,I){(I=this.j.PB(I)) && Object.entries(I).forEach(function(M){var H;H=oa(M);M=H.next().value;H=H.next().value;L[M]=H;});};d.prototype.qQ=function(L,I){var M;(I=null === (M=this.j.rb) || void 0 === M?void 0:M.Saa(void 0,I)) && Object.entries(I).forEach(function(H){var J;J=oa(H);H=J.next().value;J=J.next().value;L[H]=J;});};d.prototype.Ec=function(L,I,M,H){var J,N;N=I?"error":"info";I && this.j.Qi && (0,v.e4)(this.j.Qi.errorCode,this.j.Qi.Da,this.owa(),null === (J=this.j.df) || void 0 === J?void 0:J.Dy()) && (N="info");this.lpa(H,this.j,I,M);L=this.hC.Nv(L,N,H,this.Ha);this.Vg.Ec(L);};d.prototype.M1b=function(L,I){var M,H;H=null === (M=I.rb) || void 0 === M?void 0:M.$Pb;H && (null === H || void 0 === H?void 0:H.N) !== I.RE && (L.auxMid || (L.auxMid=H.N),L.auxPlaybackcontextid || (L.auxPlaybackcontextid=I.Sm(H.N).Wg));};d.prototype.lpa=function(L,I,M,H){var J,N,P,X,V;this.Ic.sbb(L,I);this.M1b(L,I);H & O.Ie && ((0,m.wa)(!L || void 0 === L.moff),this.Ic.wbb(L,I,I.uba()));H & O.nv && this.Ic.ybb(L,I);H & O.yj && (null === (J=I.rb) || void 0 === J?0:J.hj) && (L.abuflbytes=null !== (N=L.abuflbytes) && void 0 !== N?N:I.Zpa(),L.abuflmsec=null !== (P=L.abuflmsec) && void 0 !== P?P:I.NW(),L.vbuflbytes=null !== (X=L.vbuflbytes) && void 0 !== X?X:I.qHa(),L.vbuflmsec=null !== (V=L.vbuflmsec) && void 0 !== V?V:I.S2());H & O.ov && this.Ic.zbb(L,I.pm);H & O.mH && (J=y.lf.hardwareConcurrency,0 <= J && (L.numcores=J),J=this.Ha.pta) && (N=J.gva(),L.droppedFrames=JSON.stringify(N),J=J.aK(this.config().tSb),(0,p.jh)(J,function(S,U){L["droppedFramesP" + S]=JSON.stringify(U);}));if(H & O.C3)try{I.zh && (L.cdninfo=JSON.stringify(I.zh.map(function(S){return {id:S.id,nm:S.name,rk:S.wc,wt:S.location.weight,lv:S.location.level};})));}catch(S){}M && H & O.pH && ((0,m.wa)(I.Qi),this.Ic.ubb(L,I,I.Qi));H & O.pr && this.Ic.yxa(L);};Va.Object.defineProperties(d.prototype,{sqb:{configurable:!0,enumerable:!0,get:function(){return this.j.uy || this.j.tP;}}});b.pU=d;(function(L){L[L.Ie=1]="MOFF";L[L.nv=2]="PRESENTEDSTREAMS";L[L.yj=4]="BUFFER";L[L.ov=8]="SCREEN";L[L.mH=16]="CPU";L[L.C3=32]="CDN";L[L.pH=64]="FATALERROR";L[L.pr=128]="BROWSERINFO";})(O || (O={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pLa="DownloadReportBuilderSymbol";},function(r,b,a){var l,h,n,c,f,g,k,m,p;function d(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.oLa=void 0;r=a(0);l=a(203);h=a(95);n=a(23);c=a(4);f=a(22);g=a(14);k=a(15);m=a(1);a=a(12);d.prototype.construct=function(q,v){var t,w,u;t=this;w={};q.forEach(function(y){var x;x=y.url;w[x] || (w[x]=[]);w[x].push(y);});u=[];(0,n.jh)(w,function(y,x){u.push(t.N_b(x,v));});return {urls:u};};d.prototype.N_b=function(q,v){var t,w,u,y;t=this;w=q[0];u={url:w.url,bitrate:w.bitrate,cdnid:(0,k.vk)(w.Dc)?w.Dc.id:w.Dc,dltype:w.URb,id:w.Wb};y={};q.forEach(function(x){var z;z=t.a3b(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,n.jh)(y,function(x,z){"fail" === x?u.failures=t.aYb(z,v):"success" === x && (u.downloads=t.RXb(z,v));});return u;};d.prototype.RXb=function(q,v){var t,w,u;t=this;w={};q.forEach(function(y){var x;x=y.cMb;w[x] || (w[x]=[]);w[x].push(y);});u=[];(0,n.jh)(w,function(y,x){var z;z=[];x.forEach(function(B){z.push(B);t.K2b(B) && (u.push(t.q9a(z,v,y)),z=[]);});0 < z.length && u.push(t.q9a(z,v,y));});return u;};d.prototype.q9a=function(q,v,t){var w,u,y,x,B;w=q.sort(function(A,C){return A.Ym.tj < C.Ym.tj?-1:A.Ym.tj > C.Ym.tj?1:0;});u=w[0].Ym;y=u.Is;x=u.tj;u=u.$q;for(var z=1;z < q.length;z++){B=q[z].Ym;B.Is < y && (y=B.Is);B.tj < x && (x=B.tj);B.$q > u && (u=B.$q);}z=this.MZb(w);B=w[w.length - 1];return {time:y - v,tcpid:t?parseInt(t):-1,tresp:x - y,first:z,ranges:this.NZb(w,z),dur:u - x,trace:this.uF(q),status:this.eQ(B)};};d.prototype.MZb=function(q){var v;v=0;q.forEach(function(t){t.Au && (v=(0,g.dA)(v,t.Au[0]));});return v;};d.prototype.NZb=function(q,v){var t;t=[];q.forEach(function(w){w.Au?t.push([w.Au[0] - v,w.Au[1] - v]):t.push([0,-1]);});return t;};d.prototype.uF=function(q){var v,t;v=[];q.forEach(function(w){var u;w=w.Ym;if(t){u=w.Is - t.$q;0 < u && v.push([u,-2]);u=(0,g.jv)(t.$q,w.Is);u=w.tj - u;0 < u && v.push([u,-3]);}v.push([w.$q - w.tj,w.vX || 0]);t=w;});return v;};d.prototype.K2b=function(q){if(q.Da === c.Y.AD || q.Da === c.Y.uH)return !0;};d.prototype.eQ=function(q){if(q.ja)return "complete";if(q.Da === c.Y.AD)return "abort";if(q.Da === c.Y.uH)return "stall";(0,f.wa)(!1,"download status should never be: other");return "other";};d.prototype.aYb=function(q,v){var t,w;t=this;w=[];q.forEach(function(u){var y;y=u.Ym;u={time:y.tj - v,tresp:y.tj - y.Is,dur:y.$q - y.tj,range:u.Au,reason:t.PZb(u),httpcode:u.Xl,nwerr:(0,l.Xva)(u.Da)};w.push(u);});return w;};d.prototype.PZb=function(q){return q.Xl || q.Da === c.Y.dU?"http":q.Da === c.Y.fU?"timeout":"network";};d.prototype.a3b=function(q){return q.ja || void 0 === q.ja || q.Da === c.Y.AD || q.Da === c.Y.uH?!1:!0;};d.prototype.YMb=function(q){var v,t,w,u,y,x;v=q.request;t=v.stream;w=v.track;u=v.url;y=this.OXb(w,u);switch(y){case h.Aj.audio:case h.Aj.video:x=v.stream.Wb;break;case h.Aj.bha:case h.Aj.FGa:x=w.Wb;}q={bitrate:t && t.bitrate,URb:y,Wb:x,Ym:q.Ym,Dc:v.Dc,url:u,Wf:q.Wf,Xl:q.Xl,Da:q.Da,ja:q.ja,cMb:this.tUb(q)};void 0 !== v.offset && void 0 != v.length && (q.Au=[v.offset,v.offset + v.length - 1]);return q;};d.prototype.OXb=function(q,v){if(q)return q.type;if(0 <= v.indexOf("netflix.com")){if(0 <= v.indexOf("nccp"))return "nccp";if(0 <= v.indexOf("api"))return "api";}return "other";};d.prototype.tUb=function(q){if(q.headers && (q=q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(v){return 0 == v.indexOf("port=");}).map(function(v){return v.split("=")[1];})[0])?(0,n.Fk)(q):q;};p=d;p=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(a.uc))],p);b.oLa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rU="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rXa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iRa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hRa="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CMa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HNa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bSa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var c,f,g,k,m,p;function d(q){var v;q=new g.TT(q);if(1481462272 != q.Fs())throw Error("Invalid header");v={XMR:{Version:q.Fs(),RightsID:q.lz(16)}};l(q,v.XMR,q.buffer.length);return v;}function l(q,v,t){var w,u,y,x,z;for(;q.position < t;){w=q.zi();u=q.Fs();u-=8;switch(w){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:h(w)};z=v[y];z?(0,p.isArray)(z)?z.push(x):(v[y]=[],v[y].push(z),v[y].push(x)):v[y]=x;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:l(q,x,q.position + u);break;case 5:x.Reserved1=q.zi();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.zi();x.MinimumAnalogVideoOutputProtectionLevel=q.zi();x.Reserved2=q.zi();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.zi();break;case 10:x.Reserved=q.lz(16);x.SymmetricCipherType=q.zi();x.AsymmetricCipherType=q.zi();u=q.zi();x.EncryptedKeyLength=u;w=q.lz(u);x.EncryptedKeyData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:x.SignatureType=q.lz(2);u=q.zi();w=q.lz(u);x.SignatureData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:x.Reserved=q.zi();break;case 18:x.BeginDate=q.Fs();x.EndDate=q.Fs();break;case 42:x.CurveType=q.lz(2);u=q.zi();w=q.lz(u);x.Key=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:x.ExpireAfterFirstPlay=q.Fs();break;case 50:x.Sequence=q.Fs();break;case 51:x.LicenseProcessingIndicator=q.zi();break;case 52:x.MinimumSecurityLevel=q.zi();break;case 57:x.PlayEnablerType=n(q.lz(16));break;case 85:break;default:x.OtherData=q.lz(u);}}}function h(q){return "0x" + q.toString(16);}function n(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.sQb=b.tQb=b.rQb=b.qQb=b.pQb=void 0;c=a(17);f=a(10);g=a(172);k=a(206);m=a(539);p=a(15);b.pQb=function(q,v,t){switch(v){case c.b4:q && (q=(0,f.G1a)(q),(0,m.wrb)(q,function(w){w.ja && (w=w.object) && (w=(0,k.n9a)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,k.aib)(w)) && (w=(0,f.At)(w)) && (w=d(w)) && t(w);}));}};b.qQb=d;b.rQb=l;b.tQb=h;b.sQb=n;},function(r,b,a){var d,l,h,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.wrb=void 0;d=a(10);l=a(4);h=a(540);n=a(541);c=a(59);b.wrb=function(f,g){var k,m;try{m=(0,h.xrb)(f);}catch(p){d.log.error("xml2xmlDoc exception",p);}(0,c.Rg)(function(){if(m && m.documentElement)try{k=(0,n.yrb)(m);}catch(p){d.log.error("xmlDoc2js exception",p);}(0,c.Rg)(function(){k?g({ja:!0,object:k}):g({ja:!1,Da:l.Y.qvb});});});};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.xrb=void 0;d=a(10);l=a(15);b.xrb=function(h){var n,c;if((0,l.DQ)(h)){n=new DOMParser().parseFromString(h,"text/xml");c=n.getElementsByTagName("parsererror");if(c && c[0]){try{d.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(c[0]),xmlData:h.slice(0,300),fileSize:h.length});}catch(f){}throw Error("xml parser error");}return n;}throw Error("bad xml text");};},function(r,b,a){var l;function d(h){var n,c,f,g,k,m,p;c={};c[l.HHa]=h.localName;f={};c[l.j3]=f;g=[];c[l.trb]=g;k=h.attributes;m=k.length;for(n=0;n < m;n++){p=k[n];f[p.localName]=p.value;}h=h.childNodes;m=h.length;f={};for(n=0;n < m;n++){switch((k=h[n],k.nodeType)){case b.Brb:k=d(k);p=k[l.HHa];k[l.urb]=c;g.push(k);c[p]?f[p][l.vrb]=k:c[p]=k;f[p]=k;break;case b.Crb:case b.zrb:(k=k.text || k.nodeValue,g.push(k),c[l.Lz] || (c[l.Lz]=k));}}return c;}Object.defineProperty(b,"__esModule",{value:!0});b.Arb=b.zrb=b.Crb=b.Jnc=b.Brb=b.Knc=b.yrb=void 0;l=a(206);b.yrb=function(h){return d(h.nodeType == b.Arb?h.documentElement:h);};b.Knc=d;b.Brb=1;b.Jnc=2;b.Crb=3;b.zrb=4;b.Arb=9;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PSa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rSa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hSa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wTa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gla={c_:"keepAlive",splice:"splice"};b.nSa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ISa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DLa="DxDisplaySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GLa="DxManagerSymbol";b.FLa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sPa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oXa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aTa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iUa="PreparerManifestFetcherSymbol";b.hUa="PreparerLicenseFetcherSymbol";b.gUa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var l,h,n,c;function d(f){this.ko=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Gla=b.WTa=void 0;r=a(0);l=a(19);h=a(1);n=a(121);c=a(38);d.prototype.Ieb=function(f){var g,k;g=this;if(f.we.key.na)return Promise.resolve(f.we.key.na);k=f.we.key.N;return f.we.Mh.fs(k).Xu.then(function(m){m=m.ba;return m.Yo?(0,c.y9)(m.Yo,{config:l.config}):(0,c.Aga)(k,g.ko.St(k));});};a=d;a=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(n.bN))],a);b.WTa=a;b.Gla="PlaygraphResolverSymbol";},function(r,b,a){var l,h;function d(n,c){this.ry=void 0 === n?function(){}:n;this.Bfa=c;this.Iz=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.vma=void 0;l=a(0);h=a(22);d.prototype.store=function(n,c){var f,m;f=this.generateKey(n);this.Iz.has(f) && this.YAa(this.Iz.get(f),!0);if(!n.Cg)for(var g=oa(this.Iz),k=g.next();!k.done;k=g.next()){m=oa(k.value);k=m.next().value;m=m.next().value;k.includes(":" + n.N + ":") && (this.YAa(m,!0),this.Iz.delete(k));}this.Iz.set(f,c);};d.prototype.fs=function(n,c){var f,g,k;k=null === (f=null === c || void 0 === c?void 0:c.gi) || void 0 === f?void 0:f.Td;f=null === (g=null === c || void 0 === c?void 0:c.gi) || void 0 === g?void 0:g.Cg;g={N:n,Cg:f,Td:k};this.has(g) || this.ry(n,c);return this.get(g);};d.prototype.CG=function(n,c){return l.__awaiter(this,void 0,void 0,function g(){var k;k=this;return Ka(g,function(m){(0,h.wa)(k.Bfa,"AseViewableConfigProvider.requestAdBreakHydrationDelegate should exists if an adBreak hydration was requested");(0,h.wa)(c.gi,"auxiliaryOptions must exist if an adBreak hydration was requested");(0,h.wa)(!!c.gi.Td,"auxiliaryManifestToken must exist if an adBreak hydration was requested");return m.return(k.Bfa(n,c));});});};d.prototype.has=function(n){n=this.generateKey(n);return this.Iz.has(n) && !this.Iz.get(n).Uv;};d.prototype.clear=function(){var n;n=this;this.Iz.forEach(function(c){n.YAa(c,!1);});this.Iz.clear();};d.prototype.get=function(n){return this.Iz.get(this.generateKey(n));};d.prototype.generateKey=function(n){var c,f;c=n.Td;f=n.Cg;return n.N.toString() + (f?":" + f:"") + (c?":" + c:"");};d.prototype.YAa=function(n,c){var f;null === (f=n.events) || void 0 === f?void 0:f.emit("viewableEvicted",{type:"viewableEvicted"});n.cGa=c;};b.vma=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uQa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BRa="OpenConnectSideChannelSymbol";b.EQa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CQa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lSa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zWa="TransportFactorySymbol";b.WQa="MslTransportSymbol";b.HVa="SslTransportSymbol";},function(r,b,a){var g,k;function d(m){return !(!m || !m.kG && !m.pboc || !m.code && !m.code);}function l(m){return !(!m || !m.xc);}function h(m){return !!(m instanceof Error);}function n(m){switch(m){case "ACCOUNT_ON_HOLD":return k.Y.Mxb;case "STREAM_QUOTA_EXCEEDED":return k.Y.Vxb;case "INSUFFICICENT_MATURITY":return k.Y.$xb;case "TITLE_OUT_OF_WINDOW":return k.Y.iyb;case "CHOICE_MAP_ERROR":return k.Y.Uxb;case "BadRequest":return k.Y.dyb;case "Invalid_SemVer_Format":return k.Y.ayb;case "RESTRICTED_TO_TESTERS":return k.Y.gyb;case "AGE_VERIFICATION_REQUIRED":return k.Y.Sxb;case "BLACKLISTED_IP":return k.Y.Txb;case "DEVICE_EOL_WARNING":return k.Y.Wka;case "DEVICE_EOL_FINAL":return k.Y.DRa;case "INCORRECT_PIN":return k.Y.HRa;case "MOBILE_ONLY":return k.Y.fyb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.Y.eyb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.Y.jyb;case "RESET_DEVICE":return k.Y.GRa;case "RELOAD_DEVICE":return k.Y.FRa;case "EXIT_DEVICE":return k.Y.ERa;case "FREE_PREVIEW_ENDED":return k.Y.Zxb;case "STREAMING_LOCATION_DISALLOWED":return k.Y.hyb;case "EXTRA_MEMBER_STREAM_HOLD":return k.Y.Yxb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return k.Y.Xxb;case "ADS_UNAVAILABLE_VIEWABLE":return k.Y.Nxb;case "ADS_UNSUPPORTED_DEVICE":return k.Y.Qxb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return k.Y.Oxb;case "ADS_UNSUPPORTED_COUNTRY":return k.Y.Pxb;case "ADS_VPN_USE_DETECTED":return k.Y.Rxb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return k.Y.cyb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return k.Y.byb;default:return k.Y.IMa;}}function c(m,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new g.rd(m,n(p.code),"BadRequest" === p.code?k.e5.Isb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(m,p){return new g.rd(m,p.xc,p.yd,void 0,p.uC,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.i2a=b.j2a=b.nWb=b.sWb=b.Zn=b.rWb=b.UZ=b.T2b=b.Ccb=void 0;g=a(36);k=a(4);b.Ccb=d;b.T2b=l;b.UZ=h;b.rWb=n;b.Zn=function(m,p){return l(p)?f(m,p):d(p)?c(m,p):h(p)?g.rd.Sua(m,p):new g.rd(m,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.sWb=c;b.nWb=f;b.j2a=function(m,p,q,v,t){var w,u,y,x;w=p.cmb[q];if(void 0 === w)throw {kG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};u=w.version;if(void 0 === u)throw {kG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=w.service;if(void 0 === y)throw {kG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=w.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {kG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?m.wZb(v) + "/" + x + "/" + y + "/" + u:m.jZb(v) + "/" + x + "/" + y + "/" + u + "/" + (void 0 === t?"router":t);};b.i2a=function(m,p){var q;q={"Content-Type":"text/plain"};p=p();m.t0a && p && (q["X-Esn"]=p.Yl);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RSa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EWa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xr=void 0;r=b.xr || (b.xr={});r[r.t5=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.yH=2]="LOADED";r[r.lU=3]="LOAD_FAILED";r[r.CRa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iJa="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oTa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KUa="RepositionTraceSymbol";b.IUa="RepositionTraceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FIa="AseIntegrationFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cIa="AdManagerFactorySymbol";},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa;function d(T,W,Q,ka,ra,R,fa,wa,ua,Ea,Xa,vb,nb,zb,Ma,Ya,bb,hb,kb,ob,Bb,Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc,Td,Ud,Hf,If,Vd){var xb,Jf;function cf(sb){sb.newValue && sb.newValue.stream && (xb.Re.removeListener(cf),xb.Xba=sb.newValue.stream.bitrate);}function df(sb){sb.newValue !== P.qb.Hg && sb.newValue !== P.qb.ej && (xb.Db.removeListener(df),xb.bC=xb.za.HL,xb.Ob.Zc(P.ka.Iw));}function ef(sb){sb.newValue !== P.qb.Hg && (xb.Db.removeListener(ef),xb.cn=!0,xb.I0=xb.za.rf.ia(D.va),xb.Ob.Zc(P.ka.cn));}xb=this;this.zb=ra;this.Hl=R;this.WB=fa;this.Ia=ua;this.yE=Ea;this.za=Xa;this.E_=vb;this.Nza=Ma;this.OQ=Ya;this.Jd=bb;this.Vi=hb;this.Xj=kb;this.JO=ob;this.J0=Bb;this.Rj=Hb;this.EGa=Kb;this.Vg=Qb;this.Ve=Tb;this.lCa=Fb;this.jo=Sb;this.Lkb=Zb;this.Vpa=vc;this.OK=Kc;this.VBa=Td;this.jpa=Ud;this.Qqa=Hf;this.EO=If;this.Nib=[];this.As=new Map();this.Hc=new q.ac(null);this.Xh=new q.ac(null);this.Mb=new q.ac(null);this.Fj=new q.ac(null);this.$w=new q.ac(void 0);this.Kf=new q.ac(null);this.ei=new q.ac(null);this.mediaTime=new q.ac(void 0);this.playbackRate=new qa.sTa(1,v.config.aAa);this.background=new q.ac(!0);this.Npb=function(sb){return xb.Hc.set(sb.newValue);};this.emc=function(sb){return xb.Xh.set(sb.newValue);};this.cmc=function(sb){return xb.Mb.set(sb.newValue);};this.ulc=function(sb){return xb.Fj.set(sb.newValue);};this.bmc=function(sb){return xb.$w.set(sb.newValue);};this.dmc=function(sb){return xb.Kf.set(sb.newValue);};this.vlc=function(sb){return xb.ei.set(sb.newValue);};this.Slc=function(sb){return xb.Re.set(sb.newValue);};this.Rlc=function(sb){return xb.hg.set(sb.newValue);};this.Olc=function(sb){return xb.mediaTime.set(sb.newValue);};this.wlc=function(sb){return xb.background.set(sb.newValue);};this.aT=function(sb){return xb.playbackRate.set(sb.newValue);};this.Bk={};this.ZDa=this.xGa=0;this.Ob=new t.Nk();this.Hha={};this.a2=this.Eib=this.cn=!1;this.dH=new q.ac(void 0);this.state=new q.ac(P.kc.WM);this.Wi=new q.ac(!1);this.paused=new q.ac(!1);this.muted=new q.ac(!1);this.volume=new q.ac(v.config.NQb / 100);this.Db=new q.ac(P.qb.Hg);this.Pg=new q.ac(P.kg.ce);this.zt=new q.ac(P.kg.ce);this.yo=new q.ac(P.kg.ce);this.hg=new q.ac(null);this.Re=new q.ac(null);this.Jqa=new q.ac(null);this.Iba=(0,m.FNa)(this);this.Dc=[new q.ac(null),new q.ac(null)];this.qqa={};this.tP=!1;this.Za=this.vl=-1;this.lwa=function(sb,Vb){var Lc;sb=void 0 === sb?null:sb;return (0,L.Pa)(sb)?Vb && !xb.Lj(Vb).ba?sb:(null === (Lc=xb.rb) || void 0 === Lc?0:Lc.hj)?xb.rb.wB(sb):sb:null;};this.i0=function(){xb.FFa();};this.RE=T;this.addEventListener=this.Ob.addListener;this.removeEventListener=this.Ob.removeListener;this.fireEvent=this.Ob.Zc;this.upa({N:T,S:ka,jb:Q || ({})},v.config.wu?this.Jd.hw(T):void 0,W);this.log=(0,C.nj)(this);this.K5a=wa(this);this.nJb=nb(this);this.pm=(0,J.createElement)("DIV",p.Pla,void 0,{id:this.L});this.e2b();this.Vc=this.log.T9("Playback");(0,n.YSa)(this);y.KD.cgb=this;y.KD.Dua || (y.KD.Dua=this);this.Vc.info("Playback created",this.Ih);this.tza?this.Vc.info("Playback selected for trace playback info logging"):this.Vc.trace("Playback not selected for trace playback info logging");v.config.wu && (this.Jd.k0b(this.L),this.addEventListener(P.ka.Iw,function(){xb.Jd.m0b(xb.L);xb.Mb.addListener(function(){xb.Jd.yab();});xb.Hc.addListener(function(){xb.Jd.yab();});}),this.addEventListener(P.ka.Ah,function(){xb.Jd.j0b(xb.L);}));this.state.addListener(function(sb){xb.Vc.info("Playback state changed",{From:sb.oldValue,To:sb.newValue});(0,G.wa)(sb.newValue > sb.oldValue);});u.bf.addListener(u.Tm,this.i0,p.y5);Jf=zb((0,D.$i)(1));this.mediaTime.addListener(function(){xb.zVb();Jf.Gk(function(){return xb.Q7a();});});this.Db.addListener(function(sb){xb.Vc.info("PresentingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,F.Hi)(xb.mediaTime.value)},xb.yw());});this.Db.addListener(function(){xb.Wi.set(xb.Db.value === P.qb.Xc);});this.Pg.addListener(function(sb){xb.Vc.info("BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,F.Hi)(xb.mediaTime.value)},xb.yw());});this.zt.addListener(function(sb){xb.Vc.info("AV BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,F.Hi)(xb.mediaTime.value)},xb.yw());});this.yo.addListener(function(sb){xb.Vc.info("Text BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,F.Hi)(xb.mediaTime.value)},xb.yw());});this.Hc.addListener(function(sb){(0,G.wa)(sb.newValue && sb.newValue.Sh);xb.Vc.info("AudioTrack changed",sb.newValue && ({ToBcp47:sb.newValue.Sf,To:sb.newValue.trackId}),sb.oldValue && ({FromBcp47:sb.oldValue.Sf,From:sb.oldValue.trackId}),{MediaTime:(0,F.Hi)(xb.mediaTime.value)});});this.Mb.addListener(function(sb){(0,G.wa)(!sb.newValue || sb.newValue.Sh);xb.Vc.info("TimedTextTrack changed",sb.newValue?{ToBcp47:sb.newValue.Sf,To:sb.newValue.trackId}:{To:"none"},sb.oldValue?{FromBcp47:sb.oldValue.Sf,From:sb.oldValue.trackId}:{From:"none"},{MediaTime:(0,F.Hi)(xb.mediaTime.value)});});this.Db.addListener(ef,p.YM);this.Db.addListener(df);this.addEventListener(P.ka.Iw,function(){xb.a2=!0;xb.xnb=xb.iX();xb.ef("start");});this.Re.addListener(cf);(0,A.iTa)(this);y.Wp.push(this);v.config.j1 && (this.Hea=this.lCa(this),this.Kea=new z.uTa(this));y.wla.forEach(function(sb){sb(xb);});this.eHb=function(){xb.addEventListener(P.ka.BG,function(sb){var Vb;sb=sb.cause;sb !== P.Fd.fv && sb !== P.Fd.gN && (null === (Vb=xb.rb) || void 0 === Vb?void 0:Vb.stop());});xb.addEventListener(P.ka.tl,function(sb){var Vb,Lc,ff,Kf,Cc,Wd,Lf,Xd,gf,Mf;xb.Lkb.tl(sb);ff=sb.cause;Kf=sb.skip;Cc=sb.Qda;Wd=sb.hBa;Lf=sb.L;Xd=sb.il;xb.ga.bn.aBa(Wd,Cc);if(ff !== P.Fd.gN && ff !== P.Fd.fv)if(Kf){if(null !== (Vb=xb.rb) && void 0 !== Vb && Vb.hi(Cc)){xb.Vc.trace("Repositioned. Skipping from " + Wd + " to " + Cc);sb=function(Wb){xb.log.error("streamingSession.skipped threw an exception",Wb);Wb=X.rd.Sua(E.aa.Orb,Wb);xb.yu(Wb.code,Wb);};try{xb.rb.uo(Cc).then(function(Wb){var Mc;Wb.wQ || (null === (Mc=xb.rb) || void 0 === Mc?void 0:Mc.play());}).catch(sb);}catch(Wb){sb(Wb);}}else xb.log.error("can skip returned false");}else {xb.Vc.trace("Repositioned. Seeking from " + Wd + " to " + Cc);try{gf=xb.zb.$aa(xb.ga);Mf=Object.keys(gf.T).find(function(Wb){var Mc;Wb=gf.T[Wb];return Wb.N === Lf && Wb.Ba <= Xd && (null !== (Mc=Wb.Aa) && void 0 !== Mc?Mc:Infinity) > Xd;});null === (Lc=xb.rb) || void 0 === Lc?void 0:Lc.DL(Xd,Mf);}catch(Wb){xb.log.error("streamingSession.seekByContentPts threw an exception",Wb);Cc=X.rd.Sua(E.aa.Mrb,Wb);xb.yu(Cc.code,Cc);}}});};this.playbackRate.addListener(function(){var sb,Vb;if(null === (sb=xb.rb) || void 0 === sb?0:sb.hj)null === (Vb=xb.rb) || void 0 === Vb?void 0:Vb.Bib();});this.addEventListener(P.ka.eB,function(sb){var Vb;sb.cause == y.tla && (xb.Pg.set(P.kg.ce),null === (Vb=xb.rb) || void 0 === Vb?void 0:Vb.sn(xb.df.v9a()));});Vd && (this.ga.ba=Vd,this.Rj.e2(T,Vd));}Object.defineProperty(b,"__esModule",{value:!0});b.nTa=void 0;l=a(0);h=a(303);n=a(305);c=a(168);f=a(575);g=a(1357);k=a(1358);m=a(578);p=a(17);q=a(74);v=a(19);t=a(70);w=a(579);u=a(58);y=a(64);x=a(140);z=a(581);B=a(1361);A=a(585);C=a(10);D=a(5);E=a(4);G=a(22);F=a(79);K=a(23);O=a(59);L=a(15);I=a(586);M=a(82);H=a(309);J=a(44);N=a(102);P=a(16);X=a(36);V=a(306);S=a(588);U=a(130);ha=a(1366);qa=a(1367);xa=a(38);Aa=a(61);Oa=a(49);d.prototype.ef=function(T,W){var Q;W=void 0 === W?this.RE:W;null === (Q=this.As.get(W)) || void 0 === Q?void 0:Q.ef(T);};d.prototype.XB=function(T){this.ga.XB(T);};d.prototype.uba=function(){var T;return !(null === (T=this.ba) || void 0 === T || !T.Ra.cp);};d.prototype.uZ=function(){var T,W,Q;return !(null === (Q=null === (W=null === (T=this.ba) || void 0 === T?void 0:T.Ra.Pr) || void 0 === W?void 0:W.yf.length) || void 0 === Q || !Q);};d.prototype.e2b=function(){var T;T=this;this.Hc.addListener(function(W){return T.ga.Hc.set(W.newValue);});this.Xh.addListener(function(W){return T.ga.Xh.set(W.newValue);});this.Mb.addListener(function(W){return T.ga.Mb.set(W.newValue);});this.Fj.addListener(function(W){return T.ga.Fj.set(W.newValue);});this.$w.addListener(function(W){return T.ga.$w.set(W.newValue);});this.Kf.addListener(function(W){return T.ga.Kf.set(W.newValue);});this.ei.addListener(function(W){return T.ga.ei.set(W.newValue);});this.Re.addListener(function(W){return T.ga.Re.set(W.newValue);});this.hg.addListener(function(W){return T.ga.hg.set(W.newValue);});this.Dc[Oa.u.U].addListener(function(W){return T.ga.Dc[Oa.u.U].set(W.newValue);});this.Dc[Oa.u.J].addListener(function(W){return T.ga.Dc[Oa.u.J].set(W.newValue);});this.mediaTime.addListener(function(W){return T.ga.mediaTime.set(W.newValue);});this.background.addListener(function(W){return T.ga.background.set(W.newValue);});this.playbackRate.addListener(function(W){return T.ga.playbackRate.set(W.newValue);});this.plb();};d.prototype.plb=function(){var T;T=this;this.ga !== this.EEa && (this.ga.mediaTime.set(this.mediaTime.value),this.ga.background.set(this.background.value),this.ga.playbackRate.set(this.playbackRate.value),this.mr(function(W){return W.Hc;},this.Npb),this.mr(function(W){return W.Xh;},this.emc),this.mr(function(W){return W.$w;},this.bmc),this.mr(function(W){return W.Mb;},this.cmc),this.mr(function(W){return W.Fj;},this.ulc),this.mr(function(W){return W.Kf;},this.dmc),this.mr(function(W){return W.ei;},this.vlc),this.mr(function(W){return W.hg;},this.Rlc),this.mr(function(W){return W.Re;},this.Slc),this.mr(function(W){return W.Dc[Oa.u.U];},function(W){return T.Dc[Oa.u.U].set(W.newValue);}),this.mr(function(W){return W.Dc[Oa.u.J];},function(W){return T.Dc[Oa.u.J].set(W.newValue);}),this.mr(function(W){return W.mediaTime;},this.Olc),this.mr(function(W){return W.background;},this.wlc),this.mr(function(W){return W.playbackRate;},this.aT),this.Mb.set(this.ga.Mb.value),this.Hc.set(this.ga.Hc.value,{B8:!0}),this.Xh.set(this.ga.Xh.value),this.Fj.set(this.ga.Fj.value),this.$w.set(this.ga.$w.value),this.Kf.set(this.ga.Kf.value),this.ei.set(this.ga.ei.value),this.EEa=this.ga);};d.prototype.mr=function(T,W){this.EEa && T(this.EEa).removeListener(W);T(this.ga).addListener(W);};d.prototype.SKb=function(){var T;return !(null === (T=this.Le) || void 0 === T?0:T.Kn.value);};d.prototype.load=function(T){var W,Q;W=this;this.load=function(){};this.Rib=T;if(this.state.value == P.kc.WM){this.Vc.info("Playback loading",this);this.z8b();this.ef("asl_load_start");Q=this.yE;T=Q.startTime;Q=Q.endTime;(0,L.Ad)(T)?(0,L.Ad)(Q)?this.ef("asl_ended"):this.ef("asl_in_progress"):this.ef("asl_not_started");this.yE.s_(function(ka){W.ef("asl_load_complete");ka.ja?W.QOb():W.yu(ka.errorCode || E.aa.Tja,ka);});}};d.prototype.jbc=function(){!1;try{this.state.value === P.kc.LOADING && (this.hqb(),this.Nn=this.JO.DHb({jD:(0,D.Vb)(this.ca),L:this.L,nG:this.vB,jb:this.jb,iG:this.jb.Gh?v.config.FBa:v.config.iG,Md:this.Md}).ia(D.va),this.Spa(),this.TPb());}catch(T){this.yu(E.aa.gwb,{Da:E.Y.un,Tb:(0,K.sf)(T)});}};d.prototype.hqb=function(){var T,W,Q;Q={width:1,height:1};this.vF({qqb:!0}).forEach(function(ka){Q.width * Q.height < ka.width * ka.height && (Q={width:ka.width,height:ka.height});});Q.height === (null === (T=this.dH.value) || void 0 === T?void 0:T.height) && Q.width === (null === (W=this.dH.value) || void 0 === W?void 0:W.width) || this.dH.set(Q);};d.prototype.bz=function(){var T,W;!1;W=this.zb.$aa(this);this.v4a(W);null === (T=this.rb) || void 0 === T?void 0:T.fx(W);};d.prototype.XK=function(T){var W,Q;!1;(0,G.wa)(this.rb,"ASE should be initialized");Q=this.zb.aZ(T);Q?T === this.zb.ji?this.rb.oy(Q,!0,!0) || this.pZ(Q,{}):null === (W=this.rb) || void 0 === W?void 0:W.Bl(T,Q,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};d.prototype.pZ=function(T,W,Q){var ka,ra,R,fa,wa;ka=this;Q=void 0 === Q?!0:Q;!1;fa=this.zb.Be(T);if(this.Xj.zha && this.zb.ga.N === fa.N)return Promise.resolve(this.df.seek(fa.Ba,P.Fd.pA,void 0));fa=this.Hl.jQ(fa.N);W=(0,M.rda)(fa.Gb,W);if(null === (ra=this.rb) || void 0 === ra || !ra.hj)throw (!1,Error("No streaming session"));!1;this.MI("Transition " + this.zb.ji + "->" + T);wa=this.Lj(T);wa.Ao=this.Ia.Qb().ia(D.va);wa.jb=W;return "seamless" !== (null !== (R=this.zb.Be(T).Ge) && void 0 !== R?R:"seamless") || Q?(this.rb.bZ(T).dX?this.X_b(T,wa.L):this.z1(T,wa.L)).then(function(){ka.XVb(wa.L);}):Promise.resolve();};d.prototype.z1=function(T,W){var Q;Q=this.zb.km.T[T].Ba;!1;this.MI("NO DATA " + T + ", SEEKING " + Q + ", viewableId: " + W);return Promise.resolve(this.df.seek(Q,P.Fd.pA,T,!0));};d.prototype.X_b=function(T,W){var Q,ka,ra,R,fa;Q=this;!1;ka=this.rb;if(null === ka || void 0 === ka || !ka.hj)throw Error("No streaming session");ra=new Promise(function(wa){function ua(){!1;ka.removeEventListener("stop",ua);wa();}ka.addEventListener("stop",ua);});R=!1;fa=new Promise(function(wa){function ua(Xa){!1;Q.removeEventListener(P.ka.tl,ua);R=Xa.skip;wa();}function Ea(){!1;Q.removeEventListener(P.ka.BG,Ea);ka.stop();}Q.addEventListener(P.ka.BG,Ea);Q.addEventListener(P.ka.tl,ua);});ra=Promise.all([ra,fa]).then(function(){var wa;wa=!1;R && (wa=ka.oy(T,!1,!0));if(!wa)return (Q.MI("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Q.z1(T,W));});fa=ka.yX(T,this.zb.km.T[T].Ba);!1;this.df.seek(fa,P.Fd.gN,T,!0);return ra;};d.prototype.upa=function(T,W,Q){var ka,ra,R,fa,wa,ua,Ea,Xa;W=void 0 === W?this.WB.yB():W;Q=void 0 === Q?this.Ia.Qb():Q;R=!!v.config.Nqb && !(W % v.config.Nqb);fa=T.N;wa=T.S;ua=T.jb;Ea=T.ih;if(this.As.has(fa))W=this.As.get(fa);else {W=this.J0(y.KD.index++,fa,wa,ua,W,Q,R,this.ga,this.lwa,Ea,this);this.As.set(fa,W);1 < this.As.size && (W.NQ=this.OQ.create(this,W,!1));W.ZQ=new x.HQa(this,W);Xa=null === Ea || void 0 === Ea?void 0:Ea.Td;(T=T.fJb) || (T=null === (ra=null === (ka=this.ga.ba) || void 0 === ka?void 0:ka.yt) || void 0 === ra?void 0:ra.find(function(vb){return vb.Ra.L === fa && (void 0 === Xa || vb.Ra.Td === Xa);}));T && this.cfa(T,W);1 < this.As.size && this.Rj.sba(W.L) && this.hfa(W);}};d.prototype.msa=function(T,W,Q,ka){var ra,R,fa,wa,ua,Ea,Xa,vb;ra=this;!1;Ea={XZ:!0,Gh:!1,kM:Date.now()};(0,G.wa)(W.gi,"Auxiliary viewable config request options must have auxiliary options");Xa=W.gi;W=Xa.Td;Xa=Xa.Cg;vb=null === (R=this.Sm(Xa).ba) || void 0 === R?void 0:R.Ra;R={Td:W,sea:this.Wg,Cg:Xa,B0:vb};(0,G.wa)(null === (fa=this.rb) || void 0 === fa?void 0:fa.mk,"If we have auxiliary viewables combined playgraph must exist");fa=Object.keys(null === (ua=null === (wa=this.rb) || void 0 === wa?void 0:wa.mk) || void 0 === ua?void 0:ua.T).find(function(nb){var zb,Ma;return (null === (Ma=null === (zb=ra.rb) || void 0 === zb?void 0:zb.mk) || void 0 === Ma?void 0:Ma.T[nb].N) === T;});(0,G.wa)(!!fa,"Segment for the auxiliary viewable should exist in the combined playgraph");this.upa({fJb:ka,ih:R,jb:Ea,S:fa,N:T},Q);};d.prototype.Twa=function(T){return !!this.As.has(T);};d.prototype.Iab=function(T){try{return (this.Lj(T),!0);}catch(W){return !1;}};d.prototype.Sm=function(T){if(T === xa.Up)return this.ga;if(!this.As.has(T))throw Error("Playback segment not found: " + T);return this.As.get(T);};d.prototype.Lj=function(T){var Q,ka,ra,R,fa,wa;function W(ua){for(var Ea=oa(Q.hL),Xa=Ea.next();!Xa.done;Xa=Ea.next()){if((Xa=Xa.value,Xa.S === ua))return Xa;}}Q=this;wa=W(T);return wa?wa:(null === (ra=null === (ka=this.rb) || void 0 === ka?void 0:ka.mk) || void 0 === ra?0:ra.T[T]) && (ka=null === (R=this.rb) || void 0 === R?void 0:R.mk.T[T].tc) && this.zb.vz(ka)?(R=this.zb.Be(ka).N,T=null === (fa=this.rb) || void 0 === fa?void 0:fa.mk.T[T].N,R === T && (wa=W(ka)),null !== wa && void 0 !== wa?wa:this.Sm(T)):this.ga;};d.prototype.zZb=function(T){for(var W,Q,ka=oa(this.hL),ra=ka.next();!ra.done;ra=ka.next()){if((ra=ra.value,(null === (Q=null === (W=ra.af) || void 0 === W?void 0:W.Nb) || void 0 === Q?void 0:Q.sessionId) === T))return ra;}return this.ga;};d.prototype.hfa=function(T){var W,Q;W=this;!1;Q=T.L;this.Hl.Hgc(Q);return this.F1(T).then(function(ka){W.cfa(ka,T);ka=T.xK?W.$b.Wm.Mkb(T):Promise.resolve();W.xbc(T);return ka.then(function(){return W.Hl.lmb(Q);});}).catch(function(ka){W.log.error("queueManifest failed",ka);W.Hl.Ggc(Q,ka);throw W.Vi(ka.code,ka);});};d.prototype.CG=function(T,W){var Q,ka,ra,R,fa,wa;Q=this;(0,G.wa)(W.gi,"auxiliaryOptions must exist if an adBreak hydration was requested");ka=W.gi;ra=ka.Td;ka=ka.Cg;(0,G.wa)(!!ra,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;R=this.Sm(W.gi.Cg);fa=N.Io.Xp;wa={XZ:!0,Gh:!1,kM:Date.now()};return this.Rj.qF({sa:R.sa,jb:wa,N:R.L,Zv:fa,yg:void 0,D2:void 0,ih:{Jm:T,Td:ra,Cg:ka,sea:R.Wg}},!1).then(function(ua){var Ea,Xa;ua.yt.forEach(function(vb){Q.msa(vb.Ra.L,W,R.sa,vb);});(0,G.wa)(null === (Ea=ua.Ra.Pr) || void 0 === Ea?void 0:Ea.yf[0],"manifest result should come with hydratyed adBreak");return null === (Xa=ua.Ra.Pr) || void 0 === Xa?void 0:Xa.yf[0];});};d.prototype.$Wb=function(){if((0,L.Pa)(this.Bd.ats) && (0,L.Pa)(this.Bd.at))return this.Bd.at - this.Bd.ats;};d.prototype.T8a=function(){var T,W;T=this.S2();W=this.NW();return Math.min(T,W);};d.prototype.CS=function(){this.background.value || (this.Vc.info("Starting inactivity monitor for movie " + this.L),new w.lOa(this));};d.prototype.close=function(T){T && (this.state.value == P.kc.CLOSED?T():this.addEventListener(P.ka.closed,function(){T();}));this.FFa();};d.prototype.Vd=function(T,W,Q){T=this.Vi(T,W,Q);this.gJ(T,void 0);};d.prototype.gJ=function(T,W){var Q,ka,ra,R;Q=this;!1;(0,E.e4)(T.errorCode,T.Da,this.Ia.Qb().Fa(this.rj).ia(D.va),null === (ka=this.df) || void 0 === ka?void 0:ka.Dy()) || this.Qqa.add(this.za.rf,null === (ra=this.af) || void 0 === ra?void 0:ra.WP(),T.errorCode,T.Da,T.Wf);T.Amb(this.cn);if(this.state.value == P.kc.WM)this.Qi || (this.Qi=T,this.load());else {W && (this.state.value == P.kc.CLOSED?W():this.addEventListener(P.ka.closed,function(){W();}));ka=function(){Q.FFa(T);};ra=v.config.x5a && T && v.config.x5a[T.errorCode];R=-1;(0,L.DQ)(ra) && (R=(0,K.Fk)(ra));this.Vc.error("Fatal playback error",{Error:"" + T,HandleDelay:"" + ra});0 <= R?setTimeout(ka,R):ka();}};d.prototype.MI=function(T){var W;W=void 0 === W?this.S:W;T=this.Ia.Qb().ia(D.va) + "-" + W + "-" + T;!1;this.Nib.push(T);};d.prototype.MVb=function(){this.Q7a();};d.prototype.bwa=function(){var T;if(null === (T=this.rb) || void 0 === T?0:T.hj)if((T=this.rb.rp().id,void 0 !== T))return T;return null;};d.prototype.tF=function(){var T,W;W=null === (T=this.rb) || void 0 === T?void 0:T.hj;return void 0 === this.ga.wX || W?this.lwa(this.mediaTime.value):this.ga.wX;};d.prototype.awa=function(){var T;T=this.lwa(this.df.v9a());return null === T?null:Math.min(this.vB.ia(D.va),Math.max(0,T));};d.prototype.NY=function(){var T,W;return null === (W=null === (T=this.ba) || void 0 === T?void 0:T.Ra.Yo) || void 0 === W?void 0:W.T;};d.prototype.sha=function(T){!1;this.jb=(0,M.rda)(this.jb,T);this.Spa();};d.prototype.Gwa=function(T){return (null === T || void 0 === T?0:T.N)?T.N:(null === T || void 0 === T?0:T.qqb) && this.hJ?this.hJ.N === xa.Up?(T=this.hJ.dc) && this.rb && this.rb.mk?this.rb.mk.T[T].N:this.L:this.hJ.N:this.L;};d.prototype.WWb=function(){var T;T=this.Sm(this.Gwa(void 0)).Hc;return T.value?T.value.streams:[];};d.prototype.vF=function(T){return (T=this.Sm(this.Gwa(T)).Xh) && T.value?T.value.streams:[];};d.prototype.Cab=function(T){for(var W=oa(this.hL),Q=W.next();!Q.done;Q=W.next()){if(Q=(Q=Q.value.zh) && Q.find(function(ka){return ka.id === T;}))return Q;}!1;};d.prototype.xbc=function(T){T=void 0 === T?this.ga:T;!1;T.Mb.value?this.Kp.ubc(T.Mb.value):Promise.resolve();};d.prototype.zab=function(T){for(var W=oa(this.hL),Q=W.next();!Q.done;Q=W.next()){Q=oa(Q.value.Hj);for(var ka=Q.next();!ka.done;ka=Q.next()){if(ka=ka.value.streams.find(function(ra){return ra.Wb === T;}))return ka;}}!1;};d.prototype.Oab=function(T){for(var W=oa(this.hL),Q=W.next();!Q.done;Q=W.next()){Q=oa(Q.value.Hz);for(var ka=Q.next();!ka.done;ka=Q.next()){if(ka=(ka=ka.value) && ka.streams.find(function(ra){return ra.Wb === T;}))return ka;}}!1;};d.prototype.I0b=function(T){for(var W=oa(this.hL),Q=W.next();!Q.done;Q=W.next()){if(Q.value.Wg === T)return !0;}return !1;};d.prototype.Mv=function(){var T,W,Q;return null !== (Q=null === (W=null === (T=this.Kea) || void 0 === T?void 0:T.AX) || void 0 === W?void 0:W.call(T)) && void 0 !== Q?Q:this.bPb().iF;};d.prototype.Kmb=function(T){var W,Q;null !== (W=this.rb) && void 0 !== W && W.hj && this.As.has(T) && ((null === (Q=this.Kea) || void 0 === Q?0:Q.AX)?this.Kea.Lpb():(W=this.rsa(T),this.rb.Zw(W,T)));};d.prototype.I3b=function(){return "trailer" === this.me;};d.prototype.P2b=function(){return !!this.me && 0 <= this.me.indexOf("billboard");};d.prototype.P3b=function(){return !!this.me && 0 <= this.me.indexOf("video-merch");};d.prototype.p3b=function(){return !!this.me && 0 <= this.me.indexOf("mini-modal");};d.prototype.BQ=function(){return this.I3b() || this.P2b() || this.P3b() || this.p3b();};d.prototype.Gaa=function(){var T,W,Q;W={qqb:!0};if((null === (T=this.Sm(this.Gwa(W)).ba) || void 0 === T || !T.Ra.Uxa) && this.Hz){this.vF(W).forEach(function(ka){var ra,R;if((0,L.Pa)(ka.ssa) && (0,L.Pa)(ka.N4a) && (0,L.Pa)(ka.M4a) && (0,L.Pa)(ka.L4a) && (0 < ka.ssa || 0 < ka.N4a)){ra=1;R=1;(0,L.Pa)(ka.tib) && (0,L.Pa)(ka.uib) && (ra=ka.tib,R=ka.uib);ra=ka.L4a * R / (ka.M4a * ra);Q=(0,L.Pa)(Q)?0 < ka.ssa?Math.max(Q,ra):Math.min(Q,ra):ra;}});return Q;}};d.prototype.WZb=function(){return {tr:this.xGa,rt:this.ZDa};};d.prototype.PB=function(T){return this.Bk[T];};d.prototype.Sqa=function(){return this.Ao?this.Ia.Qb().ia(D.va) - this.Ao:this.za.rf.ia(D.va) - this.SJ();};d.prototype.iX=function(){var T;if(this.Ao)return this.Ia.Qb().ia(D.va) - this.Ao;T=this.Ia.fC;return this.I0 - (this.rj.ia(D.va) + T.ia(D.va));};d.prototype.Wqa=function(){return this.Ao?this.Ia.Qb().ia(D.va) - this.Ao:this.I0 - this.SJ();};d.prototype.eXb=function(){var T,W;T=this.loadTime;W={};(0,K.jh)(this.qqa,function(Q,ka){W[Q]=ka.map(function(ra){return ra - T;});});return f.ly?{level:f.ly.Y9a(),charging:f.ly.kva(),statuses:W}:null;};d.prototype.mba=function(){this.P7a();return this.Hha;};d.prototype.SJ=function(){var T;T=this.jb.kM;T=(0,L.Pa)(T)?T:this.rj.ia(D.va) + this.Ia.fC.ia(D.va);(0,G.wa)((0,L.NF)(T));return T;};d.prototype.L$a=function(){return this.Ia.Qb().ia(D.va) - this.rj.ia(D.va);};d.prototype.jnc=function(){this.Lhc=!0;};d.prototype.Xda=function(){this.pkb();};d.prototype.S2=function(){var T;T=this.P8();return T && T.vbuflmsec || 0;};d.prototype.NW=function(){var T;T=this.P8();return T && T.abuflmsec || 0;};d.prototype.qHa=function(){var T;T=this.P8();return T && T.vbuflbytes || 0;};d.prototype.Zpa=function(){var T;T=this.P8();return T && T.abuflbytes || 0;};d.prototype.F1=function(T,W,Q){var ka,ra,R,fa;ka=this;T=void 0 === T?this.ga:T;Q=void 0 === Q?!0:Q;!1;ra=!!W;R=!ra && T !== this.ga;fa=v.config.ffa.enabled?N.Io.Wyb:R?N.Io.$M:this.BQ()?N.Io.X5:N.Io.Xp;ra=this.BQ() || ra || R?void 0:this.$b.Wm.Raa(R);return this.Rj.qF({sa:T.sa,jb:T.jb,N:T.L,Zv:fa,yg:ra,D2:W,ih:T.ih},T.ih?!1:Q).then(function(wa){wa.fya && ka.fireEvent(P.ka.o_,{L:T.L});return wa;});};d.prototype.cfa=function(T,W,Q){var ka,ra,R;W=void 0 === W?this.ga:W;Q=void 0 === Q?!1:Q;!1;if(W.jb.Gh && !T.Ra.Yo)this.Vd(E.aa.Bsb);else {ka=this.E_.create(this);ra=!!(W.ih && W.ih.Td && W.ih.B0);if(Q){R=ka.w1b(W.ba,W.Sc,T);T=R.ba;R=R.Sc;}else (T=ra?ka.yfc(T,null === (R=W.ih) || void 0 === R?void 0:R.B0):T,R=ka.$hb(T));W.ba=T;W.Sc=R;Q || (W.Xh.set(R.l$),W.Hc.set(R.KX),W.Mb.set(R.MX));W.Md.qa && W.Md.lcc();}};d.prototype.XVb=function(T){var W;W=void 0 === W?!1:W;!1;this.FL({N:T,sK:W});};d.prototype.Dab=function(T,W){if(!this.Xj.nHa)return !0;T=this.Bs.ia(D.va) - T;return 0 > T || T > W;};d.prototype.cfc=function(){!1;this.df.seek(this.tF() || 0,P.Fd.g4);};d.prototype.hbb=function(T,W){var Q,ka;Q=this;!1;ka=this.ga;ka.r$=!0;return this.F1(ka,{sea:ka.Wg,Kec:T,Nec:W},!1).then(function(ra){var R;Q.cfa(ra,ka,!0);Q.Rj.e2(ka.L,ka.ba);return null === (R=Q.rb) || void 0 === R?void 0:R.nM(Q.Mib);}).then(function(){var ra,R;ra=ka.Hj.find(function(fa){return fa.trackId === T;});R=ka.Bi.find(function(fa){return fa.trackId === W;});if(!(ra && ra.Sh && R && R.Sh))throw Error("Track hydration failed: requiredAudioTrackId=" + T + " requiredTextTrackId=" + W);Q.fireEvent(P.ka.ipb);return {Hc:ra,s2:R};});};d.prototype.Fq=function(){return this.Le;};d.prototype.FL=function(T){var W,Q,ka;W=T.N;Q=T.sK;T=T.hJ;!1;T !== this.hJ && (this.hJ=T,this.hqb());if(this.KR){if(W === this.RE){this.KR=W;return;}T=this.Sm(W);ka=T.ba;ka && (0,L.Ad)(ka.vL) && (0,L.Ad)(ka.$R) && T.XB({pr_ats:ka.vL,pr_at:ka.$R});this.fireEvent(P.ka.Mza,{L:this.RE});this.RE=W;this.Spa();Q || this.plb();this.bC=this.za.HL;this.ga.Ao || (this.ga.Ao=this.Ia.Qb().ia(D.va));}("boolean" === typeof this.jb.yP?this.jb.yP:v.config.yP) && !Q && this.EGa.yP(this);Q={L:W,sK:Q,KR:this.KR};this.KR=W;this.fireEvent(P.ka.GK,Q);};d.prototype.QOb=function(){!1;try{this.$b=new g.rQa(this);this.M9=new V.BKa(this);this.NQ=this.OQ.create(this,this.ga,!0);v.config.VKb && new S.qMa(this,this.Vg,this.log);v.config.kX && this.kX(this);this.Jmc();}catch(T){this.yu(E.aa.fwb,{Da:E.Y.un,Tb:(0,K.sf)(T)});}};d.prototype.Jmc=function(){!1;this.Qi?this.gJ(this.Qi):(0,L.oya)(this.L)?this.zLb():this.yu(E.aa.cwb,{Tb:"" + this.L});};d.prototype.zLb=function(){var T;!1;T=h.TL.emb;T?T.ja?this.Ira():this.yu(E.aa.fOa,T):((0,G.wa)(!v.config.G$),this.cpa());};d.prototype.Ira=function(){var T;T=this;!this.background.value && v.config.Ira?(0,y.vla)(function(){T.cpa();},this):this.cpa();};d.prototype.cpa=function(){var T;T=this;!1;this.state.value == P.kc.LOADING && (v.config.Gta && !this.BQ()?h.TL.cy(y.hTa,function(W){W.ja?(T.Rca=W.Rca,T.w1a()):T.yu(E.aa.eOa);},!0):this.w1a());};d.prototype.w1a=function(){var T,W,Q;T=this;if(this.state.value == P.kc.LOADING){this.log.info("Authorizing",this);W=this.Ia.Qb().ia(D.va);this.ef("ats");(0,G.hP)(this.L);(0,G.hP)(this.Gl);Q=this.rcc.bind(this,W);Promise.all([this.ba,v.config.wu && this.Rj.sba(this.L)?this.Rj.Caa(this.L).catch(function(){}):void 0]).then(function(ka){var ra,R;ra=oa(ka);ka=ra.next().value;ra=ra.next().value;ka && ra?R=ra.Ra.expiration > ka.Ra.expiration?ra:ka:ka?R=ka:ra && (R=ra);R && 18E5 > R.Ra.expiration - (0,Aa.D9)() && (R=void 0);return R?(T.aJ=R === ka?"ui":"videopreparer",R):T.F1();}).then(function(ka){try{T.cfa(ka);Q(p.th);T.Eib || (T.Eib=!0,T.VBa.Cl(T));}catch(ra){T.log.error("Exception processing authorization response",ra);Q({ja:!1,Da:E.Y.Hyb});}}).catch(Q);}};d.prototype.rcc=function(T,W){var Q,ka;Q=this;!1;if(this.state.value == P.kc.LOADING){this.ef("at");ka=this.ba;this.XB({pr_ats:ka && (0,L.Ad)(ka.vL)?ka.vL:T,pr_at:ka && (0,L.Ad)(ka.$R)?ka.$R:this.Ia.Qb().ia(D.va)});W.ja?0 < this.Sc.zh.length && this.Sc.KX && this.Sc.l$ && this.Sc.MX?this.Rib?(this.log.info("Processing post-authorize",this),this.Rib(this,function(ra){ra.ja?Q.Qpb():Q.yu(E.aa.jwb,ra);})):this.Qpb():this.yu(E.aa.JPa,this.Nza(this.Sc)):this.yu(E.aa.QM,W);}};d.prototype.Qpb=function(){var T,W;l.__awaiter(this,void 0,void 0,function ka(){var ra;ra=this;return Ka(ka,function(R){!1;if(ra.state.value != P.kc.LOADING)return R.return();(null === (T=ra.ga.ba) || void 0 === T?0:T.Ra.Yo) && ra.zb.reset((0,xa.y9)(null === (W=ra.ga.ba) || void 0 === W?void 0:W.Ra.Yo,{config:v.config}));ra.rb=ra.Vpa(ra.zb,ra);ra.rb.khc({Rr:c.Rr,config:v.config,Ve:ra.Ve,Vc:ra.Vc,yw:ra.yw.bind(ra),sk:C.sk,K1:ra.K1.bind(ra),FL:ra.FL.bind(ra)});ra.jbc();R.gG=0;});});};d.prototype.TPb=function(){var T,W,Q,ka,ra,R,fa;T=this;!1;try{if(this.state.value === P.kc.LOADING){this.$b.open();W=new Promise(function(wa){T.$b.addEventListener(H.Pk.qnb,wa);});this.df=new I.AQa(this);Q=this.Sc.KX.aj === U.wr.NONE;ka={W2:this.Sc.KX.Oq || Q};ra={sa:this.sa,Fp:this.sg,uy:this.uy};try{if(this.state.value !== P.kc.LOADING)return;R=this.rb;R.Yba({flags:ka,P4a:ra,S:this.Mib,rsa:this.rsa.bind(this)});fa=this.zb.$aa(this);this.v4a(fa);R.fx(fa);this.eHb();R.AJb({Bk:this.Bk,loadTime:this.loadTime});this.Le=this.jpa(R,this);this.Le.Kn.addListener(function(wa){wa.newValue?(T.Kp.X0b(),v.config.wu && T.Jd.vab()):T.Kp.Nhc();});this.Le.addEventListener(P.t3.tE,function(){T.Jd.vab();});}catch(wa){throw (this.log.error("Failed to initialize ASE streaming",{error:wa,startPts:this.ca,flags:ka}),wa);}W.then(function(){var wa;T.state.value !== P.kc.CLOSING && T.state.value !== P.kc.CLOSED && (null === (wa=T.rb) || void 0 === wa?void 0:wa.open());});this.mediaTime.set(this.ca);this.Kp=new k.rWa(this);if("boolean" === typeof this.jb.xfa?this.jb.xfa:v.config.xfa)this.x2=new B.sWa(this);this.CS();y.xla.forEach(function(wa){wa(T);});this.y8b();}}catch(wa){this.yu(E.aa.hwb,{Da:E.Y.un,Tb:(0,K.sf)(wa)});}};d.prototype.z8b=function(){(0,G.wa)(this.state.value == P.kc.WM);this.loadTime=this.Ia.Qb().ia(D.va);this.state.set(P.kc.LOADING);};d.prototype.yu=function(T,W){this.done || (this.done=!0,W instanceof X.rd?this.Vd(W.code,W):this.Vd(T,W));};d.prototype.kX=function(T){var Q,ka;function W(){var ra,R;ra=f.ly.kva() + "";R=T.qqa[ra];R || (R=T.qqa[ra]=[]);R.push(Q.Ia.Qb().ia(D.va));Q.log.trace("charging change event",{level:f.ly.Y9a(),charging:f.ly.kva()});}Q=this;ka=f.ly.itb;f.ly.addEventListener(ka,W);T.addEventListener(P.ka.Ah,function(){f.ly.removeEventListener(ka,W);});};d.prototype.FFa=function(T){var W,Q;W=this;if(this.state.value == P.kc.WM || this.state.value == P.kc.LOADING || this.state.value == P.kc.Xe){this.Vc.info("Playback closing",this,T?{ErrorCode:T.t$}:void 0);this.MI("Closing");u.bf.removeListener(u.Tm,this.i0);this.Qi=T;this.ga.wX=this.tF();this.P7a();(null === (Q=this.rb) || void 0 === Q?0:Q.hj) && this.rb.flush();try{this.Ob.Zc(P.ka.Ah,{movieId:this.RE});}catch(ka){this.Vc.error("Unable to fire playback closing event",ka);}this.state.set(P.kc.CLOSING);this.Lrb();this.Lhc || (0,O.Rg)(function(){return W.pkb();});}};d.prototype.zVb=function(){this.Ob.Zc(P.ka.Jpb);};d.prototype.Q7a=function(){var T;T=this.mediaTime.value;this.x4b != T && (!1,this.x4b=T,this.Ob.Zc(P.ka.nGa));};d.prototype.pkb=function(){var T,W;T=this;(0,G.wa)(this.state.value == P.kc.CLOSING);W=this.Rca;this.Rca=void 0;W?h.TL.release(W,function(Q){(0,G.wa)(Q.ja);T.Qra();}):this.Qra();};d.prototype.Lrb=function(){var T;null === (T=this.rb) || void 0 === T?void 0:T.wd();delete this.rb;};d.prototype.Qra=function(){var T;this.Qra=p.iA;(0,G.wa)(this.state.value == P.kc.CLOSING);T=y.Wp.indexOf(this);(0,G.wa)(0 <= T);y.Wp.splice(T,1);this.state.set(P.kc.CLOSED);this.Ob.Zc(P.ka.closed,void 0,!0);this.Ob.Oi();delete this.af;this.ga.Xda();};d.prototype.Spa=function(){this.jb.playbackState && ("number" === typeof this.jb.playbackState.volume && this.volume.set((0,F.jA)(this.jb.playbackState.volume,0,1)),"boolean" === typeof this.jb.playbackState.muted && this.muted.set(this.jb.playbackState.muted),"number" === typeof this.jb.playbackState.playbackRate && this.playbackRate.set(this.jb.playbackState.playbackRate));};d.prototype.P7a=function(){this.Ob.Zc(P.ka.Ymb,{Hha:this.Hha});};d.prototype.K1=function(T,W,Q){W=this.Cab(W);T=this.Lj(T);W && T.Dc[Q].set(W);};d.prototype.yw=function(){return {AudioBufferLength:this.NW(),VideoBufferLength:this.S2()};};d.prototype.P8=function(){var T;if(null === (T=this.rb) || void 0 === T?0:T.hj)return this.rb.Sxa(!1);};d.prototype.y8b=function(){this.state.value == P.kc.LOADING && this.state.set(P.kc.Xe);};d.prototype.bPb=function(){var T,W,Q;T=void 0 === T?this.L:T;W=this.vF({N:T});Q=this.Sm(T);return (0,ha.Mv)(W,function(ka){return Q.ZQ.ZC(ka);});};d.prototype.rsa=function(T){var W,Q;T=void 0 === T?this.L:T;W=this.vF({N:T});Q=this.Sm(T);return (0,ha.mab)(W,function(ka){return Q.ZQ.ZC(ka);});};d.prototype.v4a=function(T){var W;W=this;Object.keys(T.T).filter(function(Q){return !W.As.has(T.T[Q].N);}).forEach(function(Q){var ka,ra,R;ra=T.T[Q];R=ra.N;ra=Object.assign(null !== (ka=W.Hl.jQ(R).Gb) && void 0 !== ka?ka:{},{ca:ra.Ba,Sa:ra.Aa,Gh:!1,kM:Date.now(),XZ:!0});W.upa({N:R,S:Q,jb:ra});});};Va.Object.defineProperties(d.prototype,{hL:{configurable:!0,enumerable:!0,get:function(){return this.As.values();}},ga:{configurable:!0,enumerable:!0,get:function(){return this.As.get(this.RE);}},ca:{configurable:!0,enumerable:!0,get:function(){var T,W;return void 0 !== this.Nn?this.Nn:null !== (W=null === (T=this.hL.next()) || void 0 === T?void 0:T.value.jb.ca) && void 0 !== W?W:0;}},Sc:{configurable:!0,enumerable:!0,get:function(){return this.ga.Sc;},set:function(T){this.ga.Sc=T;}},laa:{configurable:!0,enumerable:!0,get:function(){return this.ga.jb.laa;}},maa:{configurable:!0,enumerable:!0,get:function(){return this.ga.jb.maa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ga.index;}},S:{configurable:!0,enumerable:!0,get:function(){return this.ga.S;}},Mib:{configurable:!0,enumerable:!0,get:function(){return this.zb.oHa?this.zb.ji:this.ga.S;}},af:{configurable:!0,enumerable:!0,get:function(){return this.ga.af;},set:function(T){this.ga.af=T;}},Ao:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ao;},set:function(T){this.ga.Ao=T;}},aJ:{configurable:!0,enumerable:!0,get:function(){return this.ga.aJ;},set:function(T){this.ga.aJ=T;}},$I:{configurable:!0,enumerable:!0,get:function(){return this.ga.$I;},set:function(T){this.ga.$I=T;}},Xba:{configurable:!0,enumerable:!0,get:function(){return this.ga.Xba;},set:function(T){this.ga.Xba=T;}},ba:{configurable:!0,enumerable:!0,get:function(){return this.ga.ba;},set:function(T){this.ga.ba=T;}},Nn:{configurable:!0,enumerable:!0,get:function(){return this.ga.Nn;},set:function(T){this.ga.Nn=T;}},n2:{configurable:!0,enumerable:!0,get:function(){return this.ga.n2;},set:function(T){this.ga.n2=T;}},jb:{configurable:!0,enumerable:!0,get:function(){return this.ga.jb;},set:function(T){this.ga.jb=T;}},NQ:{configurable:!0,enumerable:!0,get:function(){return this.ga.NQ;},set:function(T){this.ga.NQ=T;}},bn:{configurable:!0,enumerable:!0,get:function(){return this.ga.bn;}},L:{configurable:!0,enumerable:!0,get:function(){return this.ga.L;}},me:{configurable:!0,enumerable:!0,get:function(){return this.ga.me;}},Hj:{configurable:!0,enumerable:!0,get:function(){return this.ga.Hj;}},Hz:{configurable:!0,enumerable:!0,get:function(){return this.ga.Hz;}},gD:{configurable:!0,enumerable:!0,get:function(){return this.ga.gD;}},Bi:{configurable:!0,enumerable:!0,get:function(){return this.ga.Bi;}},Wg:{configurable:!0,enumerable:!0,get:function(){return this.ga.Wg;}},xK:{configurable:!0,enumerable:!0,get:function(){return this.ga.xK;}},Qw:{configurable:!0,enumerable:!0,get:function(){return this.ga.Qw;}},Om:{configurable:!0,enumerable:!0,get:function(){return this.ga.Om;}},zh:{configurable:!0,enumerable:!0,get:function(){return this.ga.zh;}},vB:{configurable:!0,enumerable:!0,get:function(){return this.ga.vB;},set:function(T){this.ga.vB=T;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.ga.sa;}},Gl:{configurable:!0,enumerable:!0,get:function(){return this.ga.Gl;}},rj:{configurable:!0,enumerable:!0,get:function(){return this.ga.rj;}},bC:{configurable:!0,enumerable:!0,get:function(){return this.ga.bC;},set:function(T){this.ga.bC=T;}},sg:{configurable:!0,enumerable:!0,get:function(){return this.ga.sg;}},JL:{configurable:!0,enumerable:!0,get:function(){return this.ga.JL;}},DX:{configurable:!0,enumerable:!0,get:function(){return this.ga.DX;}},Bd:{configurable:!0,enumerable:!0,get:function(){return this.ga.Bd;}},Ur:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ur;}},pta:{configurable:!0,enumerable:!0,get:function(){return this.ga.pta;}},ZQ:{configurable:!0,enumerable:!0,get:function(){return this.ga.ZQ;}},uy:{configurable:!0,enumerable:!0,get:function(){return 0 !== v.config.x$ && 0 === this.ga.sa % v.config.x$;}},r$:{configurable:!0,enumerable:!0,get:function(){return this.ga.r$;}},Md:{configurable:!0,enumerable:!0,get:function(){return this.ga.Md;}},Asa:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},Ih:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.L,TrackingId:this.Gl,Xid:this.sa};}},Qea:{configurable:!0,enumerable:!0,get:function(){return this.zb.Qea;}}});b.nTa=d;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Knb=void 0;d=a(17);l=a(10);h=a(4);a(23);b.Knb=function(n){var c;(0,l.sk)("Storage");c={};n({ja:!0,storage:{load:function(f,g){var k;if(c.hasOwnProperty(f)){k=c[f];!1;g({ja:!0,data:k,Kga:f});}else (!1,g({Da:h.Y.rA}));},save:function(f,g,k,m){k && c.hasOwnProperty(f)?m({ja:!1}):(c[f]=g,!1,m && m({ja:!0,Kga:f}));},remove:function(f,g){delete c[f];!1;g && g(d.th);}}});};},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.Inb=void 0;d=a(10);l=a(84);h=a(32);n=a(573);b.Inb=function(c){d.Ga.get(l.Nz).create().then(function(f){c({ja:!0,storage:new n.lka(f,d.Ga.get(h.Ii))});}).catch(function(f){c(f);});};},function(r,b){function a(d,l){this.hy=d;this.Ve=l;}Object.defineProperty(b,"__esModule",{value:!0});b.lka=void 0;a.prototype.load=function(d,l){var h;h=this;this.hy.load(d).then(function(n){l && l(a.dob(n));}).catch(function(n){l && l(h.Mta(d,n));});};a.prototype.save=function(d,l,h,n){var c;c=this;this.hy.save(d,l,h).then(function(){n && n(a.dob({key:d,value:l}));}).catch(function(f){n && n(c.Mta(d,f));});};a.prototype.remove=function(d,l){var h;h=this;this.hy.remove(d).then(function(){l && l({ja:!0,Kga:d});}).catch(function(n){l && l(h.Mta(d,n));});};a.dob=function(d){return {ja:!0,data:d.value,Kga:d.key};};a.prototype.Mta=function(d,l){return {ja:!1,Kga:d,Da:l.Da,Tb:l.cause?this.Ve.sf(l.cause):void 0};};b.lka=a;},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.Jnb=void 0;d=a(573);l=a(10);h=a(498);n=a(32);b.Jnb=function(c){c({ja:!0,storage:new d.lka(l.Ga.get(h.lPa),l.Ga.get(n.Ii))});};},function(r,b,a){var d,l,h,n,c,f,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.ly=void 0;d=a(17);l=a(19);r=a(4);h=a(10);n=a(14);c=a(34);f=a(15);g=a(63);k=a(5);a=h.Ga.get(c.xj);m=h.Ga.get(g.LD);a.register(r.aa.RNa,function(p){var w,u;function q(){p(d.th);q=d.iA;}function v(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,f.qd)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=n.lf.getBattery();if(!(0,f.qd)(y.then))throw "getBattery did not return a promise";return y;});}w=(0,h.sk)("BatteryManager");b.ly={itb:"chargingchange",Y9a:function(){return u?u.level:null;},kva:function(){return u?u.charging:null;},addEventListener:function(y,x){u && u.addEventListener(y,x);},removeEventListener:function(y,x){u && u.removeEventListener(y,x);}};l.config.kX && (0,f.qd)(n.lf.getBattery)?m.Ks((0,k.Vb)(l.config.dXb),t()).then(function(y){v(y);u=y;}).catch(function(y){w.error("getBattery failed",y);}).then(q):q();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WOa="LicenseBrokerFactorySymbol";},function(r,b){function a(d,l){var h;h=this;this.n$a=d;this.fhb=l;this.vGa=!1;this.uR=function(){h.zo=void 0;h.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.tWa=void 0;a.prototype.update=function(d){var l,h,n,c,f;n=this.n$a();if(this.kqb !== n){c=null === (h=null === (l=this.B_) || void 0 === l?void 0:l.WJ(n)) || void 0 === h?void 0:h[0];if(c && ("startTime" in c))if(c.startTime <= n && n <= c.endTime){f=c;this.Xpb(c.endTime - n);}else this.Xpb(c.startTime - n);this.kqb=n;this.fpa !== f && (this.fpa=f,!d && this.fhb && this.fhb());}};a.prototype.start=function(){this.vGa=!0;this.update();};a.prototype.vmb=function(d){this.B_=d;this.fpa=this.kqb=void 0;d || this.stop();};a.prototype.stop=function(){this.vGa=!1;this.Qs();};a.prototype.KWb=function(){this.update(!0);return this.fpa;};a.prototype.Xpb=function(d){this.Qs();this.vGa && 0 < d && (this.zo=setTimeout(this.uR,d + a.rxb));};a.prototype.Qs=function(){this.zo && (clearTimeout(this.zo),this.zo=void 0);};b.tWa=a;a.rxb=10;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.FNa=void 0;d=a(16);l=a(107);b.FNa=function(h){function n(c){h.fireEvent(d.ka.FB,{response:c,L:h.ga.L});}return {download:function(c,f){c.j=h;c=l.Ef.download(c,f);c.q8(n);return c;}};};},function(r,b,a){var d,l,h,n,c,f,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.lOa=void 0;d=a(19);l=a(61);h=a(4);n=a(580);c=a(14);f=a(15);g=a(16);k=a(10);m=a(236);b.lOa=function(p){var v,t,w,u;function q(){p.state.value !== g.kc.Xe || p.Db.value !== g.qb.ej && p.Db.value !== g.qb.Us?t.Qs():t.cF();}v=d.config.dac;if(!p.BQ() && v){t=k.Ga.get(m.XU)(v,function(){p.fireEvent(g.ka.pQ,h.aa.A5);});p.Db.addListener(q);p.state.addListener(q);if(d.config.uxa){w=(0,l.Zo)();u=new n.BUa(d.config.uxa,function(){var y,x;y=(0,l.Zo)();x=y - w;x > v && (p.fireEvent(g.ka.pQ,h.aa.g5),u.k3a());x > 2 * d.config.uxa && (p.vxa=(0,c.jv)(x,p.vxa || 0));w=y;});u.dhc();}p.addEventListener(g.ka.Ah,function(){t.Qs();(0,f.Ad)(u) && u.k3a();});}};},function(r,b){function a(d,l){this.tGa=d;this.Hy=l;}Object.defineProperty(b,"__esModule",{value:!0});b.BUa=void 0;a.prototype.dhc=function(){this.b8 || (this.b8=setInterval(this.Hy,this.tGa));};a.prototype.k3a=function(){this.b8 && (clearInterval(this.b8),this.b8=void 0);};b.BUa=a;},function(r,b,a){var l,h,n,c,f,g,k;function d(m){var p,q,v,t;p=this;this.j=m;this.AX=void 0;this.kna=(0,h.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Wma=(0,h.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Nma=(0,h.createElement)("DIV","width:100%;text-align:center");this.GAb=this.Yma("Audio Bitrate");this.Xoa=this.Yma("Video Bitrate / VMAF");this.Qma=this.Yma("CDN");this.VV={};this.nZ=n.Ga.get(c.Qp);this.kna.appendChild(this.Wma);this.Wma.appendChild(this.Nma);q=(0,h.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.AAb.bind(this),!1);this.Nma.appendChild(q);q=(0,h.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Boa.bind(this),!1);this.Nma.appendChild(q);v=this.gEb.bind(this);l.bf.addListener(l.yF,v);m.addEventListener(g.ka.GK,function(){p.VV={};});m.addEventListener(g.ka.Ah,function(){l.bf.removeListener(l.yF,v);});t=this.MEb.bind(this);m.Dc.forEach(function(w){w.addListener(t);});m.Hc.addListener(t);m.Xh.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.uTa=void 0;l=a(58);h=a(44);n=a(10);c=a(39);f=a(207);g=a(16);k=a(49);d.prototype.show=function(){this.rW || (this.$Za(),document.body.appendChild(this.kna),this.rW=!0);};d.prototype.Jy=function(){this.rW && (document.body.removeChild(this.kna),this.rW=!1);};d.prototype.toggle=function(){this.rW?this.Jy():this.show();};d.prototype.Lpb=function(){var q,v,t,w;function m(u,y,x){var z,B,A;B=[];y.filter(function(C){return C.qf === u;}).forEach(function(C){0 <= x.indexOf(C)?(void 0 === A?A=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== A && void 0 !== z && (B.push({min:A,max:z}),A=z=void 0);});if(void 0 !== A && void 0 !== z){B.push({min:A,max:z});A=z=void 0;}return B;}function p(u,y,x){var z;z=[];y.filter(function(B){return B.qf === u;}).forEach(function(B){-1 === x.indexOf(B) && z.push({stream:{bitrate:B.bitrate},disallowedBy:["manual"]});});return z;}v=this.j.Mv();t=this.j.vF().sort(function(u,y){return u.bitrate - y.bitrate;});w=t.reduce(function(u,y){0 > u.indexOf(y.qf) && u.push(y.qf);return u;},[]).map(function(u){return {profile:u,ranges:m(u,t,v),disallowed:p(u,t,v)};});!1;null === (q=this.j.rb) || void 0 === q?void 0:q.Zw(w,this.j.L);};d.prototype.AAb=function(){var q,v;this.VV={};for(var m=this.Xoa.options,p=m.length;p--;){q=m[p];q.selected && (this.VV[q.value]=1);}this.AX=this.cBb.bind(this);this.Lpb();if(m=this.j.zh){v=this.Qma.value;m=m.filter(function(t){return t.id == v;})[0];p=this.j.Dc[k.u.J].value;m && m != p && (m.F2a={testreason:"streammanager",selreason:"userselection"},this.j.Dc[k.u.J].set(m));}this.Jy();};d.prototype.Boa=function(){this.AX=void 0;this.j.Kmb(this.j.L);this.Jy();};d.prototype.cBb=function(){var m;m=this;return this.j.vF().filter(function(p){return m.VV[p.bitrate];});};d.prototype.$Za=function(){var m,p,q,v;m=this;p=this.j.Hc.value;q=this.j.Xh.value;v=this.j.zh;p && (v=v.slice(),v.sort(function(t,w){return t.wc - w.wc;}),this.Goa(this.GAb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == m.j.ei.value};})));q && (this.Goa(this.Xoa,q.streams.map(function(t){var w,u,y;w=m.j.ZQ.ZC(t);u=t.bitrate;t=t.gb;y="" + u;t && (y+=" / " + t);w && (y+=" (" + w.join("|") + ")");return {value:u,caption:y,selected:m.AX?m.VV[u]:!w};})),this.Xoa.removeAttribute("disabled"));v && (this.Goa(this.Qma,v.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == m.j.Dc[k.u.J].value};})),this.Qma.removeAttribute("disabled"));};d.prototype.MEb=function(){this.rW && this.$Za();};d.prototype.Yma=function(m){var p,q;p=(0,h.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");m=(0,h.createElement)("DIV",void 0,m);q=(0,h.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(m);p.appendChild(q);this.Wma.appendChild(p);return q;};d.prototype.Goa=function(m,p){m.innerHTML="";p.forEach(function(q){var v;v={title:q.caption};q.selected && (v.selected="selected");v=(0,h.createElement)("option",void 0,q.caption,v);v.value=q.value;m.appendChild(v);});};d.prototype.gEb=function(m){m.ctrlKey && m.altKey && m.shiftKey && m.keyCode == f.DD.ezb && this.nZ.wya && this.toggle();};b.uTa=d;},function(r,b,a){var l,h,n,c,f;function d(g,k){this.iaa=g;this.DJ={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.nmb(k);this.Gua=this.F9a(this.iaa);}Object.defineProperty(b,"__esModule",{value:!0});b.qWa=void 0;l=a(44);h=a(583);n=a(584);c=a(14);f=a(23);d.prototype.pp=function(){return this.element;};d.prototype.sgc=function(g){this.iy=g;};d.prototype.Egc=function(g){this.entry=g;this.YR();};d.prototype.Kgc=function(g){this.nmb(g);this.YR();};d.prototype.YR=function(){var g,k,m,p,q,v,t,w,u,y,x,B,A,C;g=this;k=this.pp();m=k.parentElement;p=m && m.clientWidth || 0;q=m && m.clientHeight || 0;v=m=0;t={width:p,height:q};if(0 < p && 0 < q && this.entry){this.iy && (t=(0,l.haa)(p,q,this.iy),m=Math.round((p - t.width) / 2),v=Math.round((q - t.height) / 2));u=this.GKb(t);y=(0,l.haa)(u.width,u.height,this.iy);u=(w=this.entry.blocks) && w.map(function(D){var E;E=(0,n.Ita)(D,y,g.iaa,g.Gua);D=(0,n.Z6a)(D) + ";position:absolute";return (0,l.createElement)("div",D,E,d.aja);});}Object.assign(this.DJ,{left:m + "px",right:m + "px",top:v + "px",bottom:v + "px"});k.style.display="none";k.style.direction=this.DJ.direction;k.innerHTML="";if(u && u.length){p=t.width;m=t.height;x=t;this.aX && (x=this.nGb(t,this.aX,q,v));this.DJ.margin=this.ju?this.u9(t,"top") + "px " + this.u9(t,"right") + "px " + this.u9(t,"bottom") + "px " + this.u9(t,"left") + "px ":void 0;u.forEach(function(D){return k.appendChild(D);});q=(0,l.zX)(this.DJ);k.style.cssText=q + ";visibility:hidden;z-index:-1";v=[];for(var z=u.length - 1;0 <= z;z--){B=u[z];A=w[z];C=this.Egb(B,A,p,m);C.width > p && (B.innerHTML=(0,n.Ita)(A,t,this.iaa,this.Gua,p / C.width),C=this.Egb(B,A,p,m));v[z]=C;}v=(0,h.Cpb)(v,x);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(x=z.windowColor,z=z.windowOpacity,x && 0 < z && (B=Math.round(m / 50),t=(0,n.a7a)(w,v,B,x,t),t=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,t,d.aja),k.insertBefore(t,k.firstChild)));k.style.display="none";for(t=v.length - 1;0 <= t;t--){z=v[t];x=u[t].style;B=w[t].region;z=(0,n.$6a)(B,z,p,m,0);Object.assign(x,z);}k.style.cssText=q;}};d.prototype.fFa=function(g){this.aX=g;this.YR();};d.prototype.Awa=function(){return this.aX;};d.prototype.gFa=function(g){this.ju=g;this.YR();};d.prototype.Bwa=function(){return this.ju;};d.prototype.Cwa=function(){return "block" === this.DJ.display;};d.prototype.hFa=function(g){var k;k=g?"block":"none";this.element.style.display=k;this.DJ.display=k;g && this.YR();};d.prototype.Clc=function(g){this.iaa=g;this.Gua=this.F9a(g);};d.prototype.F9a=function(g){var k,m;k=this;m={};(0,f.jh)(g,function(p,q){m[p]=k.X6b(q);});return m;};d.prototype.nmb=function(g){this.DJ.direction="boolean" === typeof g?g?"ltr":"rtl":"inherit";};d.prototype.u9=function(g,k){if(this.ju){if("left" === k || "right" === k)return g.width * (this.ju[k] || 0);if("top" === k || "bottom" === k)return g.height * (this.ju[k] || 0);}return 0;};d.prototype.GKb=function(g){return this.ju?{height:g.height * (1 - (this.ju.top || 0) - (this.ju.bottom || 0)),width:g.width * (1 - (this.ju.left || 0) - (this.ju.right || 0))}:g;};d.prototype.X6b=function(g){var k;g="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + g + ";";g=(0,l.createElement)("DIV",g,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",d.aja);c.$h.body.appendChild(g);k={fontSize:1E3,height:g.clientHeight,width:g.clientWidth / 52,lineHeight:g.clientHeight / 1E3};c.$h.body.removeChild(g);return k;};d.prototype.Egb=function(g,k,m,p){var q,v,t,w,u;q=k.region;v=(q.marginTop || 0) * p;t=(q.marginBottom || 0) * p;w=(q.marginLeft || 0) * m;u=(q.marginRight || 0) * m;k=g.clientWidth || 1;g=g.clientHeight || 1;switch(q.verticalAlignment){case "top":p=v;break;case "center":p=(v + p - t - g) / 2;break;default:p=p - t - g;}switch(q.horizontalAlignment){case "left":m=w;break;case "right":m=m - u - k;break;default:m=(w + m - u - k) / 2;}return {top:p,left:m,width:k,height:g};};d.prototype.nGb=function(g,k,m,p){return {height:m - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:g.width};};b.qWa=d;d.aja={"class":"player-timedtext-text-container"};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Cpb=void 0;d=a(14);b.Cpb=function(l,h){function n(g,k,m){var t,u,y,x,z;if(g && 1 < g.length){for(var p=[],q=[],v=0;v < g.length;v++){p[v]=0;q[v]=0;}t=!1;for(v=0;v < g.length;v++){for(var w=v + 1;w < g.length;w++){u=g[v];y=g[w];if(0 > u.width || 0 > y.width || y.left > u.left + u.width || y.left + y.width < u.left || y.top > u.top + u.height?0:y.top + y.height >= u.top){x=(0,d.jv)(u.left,y.left);z=(0,d.jv)(u.top,y.top);x={width:(0,d.jv)((0,d.dA)(u.left + u.width,y.left + y.width) - x,0),height:(0,d.jv)((0,d.dA)(u.top + u.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,u=c(g[v]),y=c(g[w]),z && k || !z && !k))(x=(0,d.jv)(x.width / 2,.25),u.x <= y.x?(q[v]-=x,q[w]+=x):(q[w]-=x,q[v]+=x));else if(z && !k || !z && k)(u=(0,d.jv)(x.height / 2,.25),p[v]-=u,p[w]+=u);}}for(v=0;v < g.length;v++){if(-.25 > q[v] && 0 <= g[v].left + q[v] || .25 < q[v] && g[v].left + g[v].width + q[v] <= m.width)(g[v].left+=q[v],t=!0);if(-.25 > p[v] && 0 <= g[v].top + p[v] || .25 < p[v] && g[v].top + g[v].height + p[v] <= m.height)(g[v].top+=p[v],t=!0);}return t;}}function c(g){return {x:g.left + g.width / 2,y:g.top + g.height / 2};}l=l.map(function(g){return {top:g.top,left:g.left,width:g.width,height:g.height};});(function(g,k){g.forEach(function(m){0 > m.left && m.left + m.width < k.width?m.left+=(0,d.dA)(-m.left,k.width - (m.left + m.width)):m.left + m.width > k.width && 0 < m.left && (m.left-=(0,d.dA)(m.left + m.width - k.width,m.left));0 > m.top && m.top + m.height < k.height?m.top+=(0,d.dA)(-m.top,k.height - (m.top + m.height)):m.top + m.height > k.height && 0 < m.top && (m.top-=(0,d.dA)(m.top + m.height - k.height,m.top));});})(l,h);for(var f=0;50 > f && n(l,!0,h);f++){;}for(f=0;50 > f && n(l,!1,h);f++){;}return l;};},function(r,b,a){var f,g,k;function d(m,p,q,v,t){var w;w={};"right" == m.horizontalAlignment?w.right=100 * (q - p.left - p.width - t) / q + "%":w.left=100 * (p.left - t) / q + "%";"bottom" == m.verticalAlignment?w.bottom=100 * (v - p.top - p.height - t) / v + "%":w.top=100 * (p.top - t) / v + "%";return w;}function l(m,p){var q;if(m && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return m.width / m.fontSize / q;}}function h(m,p,q,v,t){var w,u;w=m.style;u=(0,g.ixa)(m.text);for(m=m.lineBreaks;m--;){u="<br />" + u;}return n(u,w,p,q,v,t);}function n(m,p,q,v,t,w){var u;u=p.characterStyle;t=t[u];u=0 <= u.indexOf("MONOSPACE")?l(t,p.cellResolution) || t.lineHeight:t.lineHeight;v=p.characterSize * v.height / (u || 1);v=0 < w?(0,k.TM)(v * w):(0,k.Sp)(v);w={"font-size":v + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=c(p.backgroundColor,p.backgroundOpacity));v=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=v + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + v + ",0px 1px " + v + ",1px 0px " + v + ",0px -1px " + v;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,f.zX)(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (m='<span style="opacity:' + p + '">' + m + "</span>");return '<span style="' + w + '">' + m + "</span>";}function c(m,p){m=m.substring(1);m=parseInt(m,16);return "rgba(" + (m >> 16 & 255) + "," + (m >> 8 & 255) + "," + (m & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.Z6a=b.OTb=b.MTb=b.PTb=b.NTb=b.$6a=b.a7a=b.Ita=void 0;f=a(44);g=a(23);k=a(14);b.Ita=function(m,p,q,v,t){var w;w="";m.textNodes.forEach(function(u){w+=h(u,q,p,v,t);});m.region && m.region.multiRowAlignment && (w='<span style="display:inline-block;text-align:' + m.region.multiRowAlignment + '">' + w + "</span>");return w;};b.a7a=function(m,p,q,v,t){var w,u,x,z,B;w="";u=t.width;t=t.height;for(var y=p.length;y--;){x=p[y];z=m[y];z=z && z.region;B="position:absolute;background:" + v + ";width:" + (0,k.Sp)(x.width + 2 * q) + "px;height:" + (0,k.Sp)(x.height + 2 * q) + "px;";x=d(z,x,u,t,q);(0,g.jh)(x,function(A,C){B+=A + ":" + C + ";";});w+='<div style="' + B + '"></div>';}return w;};b.$6a=d;b.NTb=l;b.PTb=h;b.MTb=n;b.OTb=c;b.Z6a=function(m){var p;p={display:"block","white-space":"nowrap"};switch(m.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,f.zX)(p);};},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.iTa=void 0;d=a(17);l=a(19);h=a(61);n=a(79);c=a(14);f=a(59);g=a(15);k=a(16);b.iTa=function(m){var t,w,u,y,x,z;function p(){return m.state.value === k.kc.LOADING || m.state.value === k.kc.Xe && m.Db.value === k.qb.Hg;}function q(){p()?z || (z=setInterval(v,100)):z && (clearInterval(z),z=void 0,(0,f.Rg)(v));}function v(){var B,A,C,D,E,G,F,K;B=(0,h.Zo)();A=t.value;C=A?A.progress:0;D=m.state.value == k.kc.LOADING || p() && B - w > l.config.aKb;if(D && m.state.value == k.kc.Xe){if(m.Pg.value === k.kg.XUa)(E=C,G=!0);else {F=B;u=u || B;y=y || u + l.config.x7b + 1;(0,g.Pa)(F) && (F=(0,c.jv)(F,y),E=(0,c.Sp)(1E3 * (0,n.jA)((B - u) / (F - u),0,.99)) / 1E3);}if(E < C)if(C - E < l.config.Bcc / 100)(E=C,x=void 0);else if(x){if(B - x > l.config.Acc){K=!0;x=void 0;}else E=C;}else (x=B,E=C);}else x=y=u=void 0;B=D?{Iu:G,progress:E,Ccc:K}:null;(!B || !t || !A || (0,g.Pa)(B.progress) && !(0,g.Pa)(A.progress) || (0,g.Pa)(B.progress) && (0,g.Pa)(A.progress) && .01 < (0,c.m5)(B.progress - A.progress) || B.Iu !== A.Iu) && t.set(B);}t=m.Jqa;w=0;m.state.addListener(function(){q();v();},d.y5);m.Db.addListener(function(B){if(B.oldValue !== k.qb.Hg || B.newValue !== k.qb.Hg)w=(0,h.Zo)();q();});m.Pg.addListener(function(){q();});m.zt.addListener(function(){q();});m.yo.addListener(function(){q();});z || (z=setInterval(v,100));};},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M;function d(H){var J;J=this;this.j=H;this.$b=this.j.$b;this.log=(0,k.nj)(this.j,"MediaPresenterASE");this.Nda=this.d$=0;this.ea=this.$b.ea;this.EC=new I.YWa(this.ea,this.j);this.pnb=this.wib=this.mib=this.qca=this.mCa=!1;this.Mca=new Set();this.Ejc=k.Ga.get(A.SH)((0,B.Vb)(x.V5));this.EO=void 0;this.Ik=k.Ga.get(D.hVa)(this.j);this.Gz={};this.vfb={};this.oZ={};this.Jh=new G.iQa(this.j,this.Ik);this.Cjc=function(){var N,P,X;J.j.n2=(0,g.Zo)();if(!J.pl() && J.ow){N=J.$b.R$a();N || (J.oac(),J.Jh.spb(J.mediaTime));J.j.paused.value || !J.Jh.Lsa(J.mediaTime) || !J.Fqa() || N || J.Ik.pca?J.eEa():J.mCa || J.fEa();J.nac();if(!J.$b.R$a() && !J.qca){N=J.$b.lF(!0);P=J.j.Db.value;X=J.CMb();P !== X && !1;X === u.qb.Us?(J.mediaTime=J.j.Bs.ia(B.va),J.eEa()):X !== u.qb.Hg && J.Plc(N);J.bqb();J.Jh.mra(J.mediaTime);J.j.Db.set(X);X !== u.qb.Hg || P !== u.qb.Xc && P !== u.qb.ej || J.S9b();}}};this.ln=(0,E.xjb)(this.Cjc);this.mediaTime=H.ca;this.j.jj=!1;this.$b.addEventListener(z.Pk.onb,function(){J.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");J.pnb=!0;try{J.oa();}catch(N){J.log.error("Exception while initializing",N);J.Vd(m.aa.oyb);}});this.$b.addEventListener(z.Pk.Pdb,function(N){N=N.N;J.pnb?J.jhb(N):J.Mca.add(N);});}Object.defineProperty(b,"__esModule",{value:!0});b.AQa=void 0;l=a(17);h=a(19);n=a(64);c=a(58);f=a(44);g=a(61);k=a(10);a(101);m=a(4);p=a(362);q=a(22);v=a(79);t=a(23);w=a(59);u=a(16);y=a(15);x=a(179);z=a(309);B=a(5);A=a(113);C=a(236);D=a(587);E=a(1362);G=a(1363);F=a(75);K=a(233);O=a(14);L=a(49);I=a(1365);M=a(56);d.prototype.Hcc=function(H){var J,N,P;J=this;if(this.EC.paused){N=Math.ceil(H.n2b);P=function(X){J.Ik.FC?J.Ik.FC.time=X:J.yfb=X;};N > (this.Ik.FC?this.Ik.FC.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",N),P(N));H.Pua && (this.log.trace("ptsChanged forcedTimestamp",H.Pua),P(H.Pua));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};d.prototype.v9a=function(){return this.$b.lF(!1);};d.prototype.Iaa=function(){return this.$b.Iaa();};d.prototype.Dy=function(){return this.$b.Dy();};d.prototype.YJ=function(){return this.$b.YJ();};d.prototype.RY=function(){return this.$b.RY();};d.prototype.oa=function(){var H;H=this;this.log.trace("Video element initializing");this.$b.sourceBuffers.forEach(function(J){return H.Jh.Zgc(J);});this.g2b(this.j.xK);};d.prototype.g2b=function(H){var J,N;J=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.L}),null === (N=this.j.rb) || void 0 === N?void 0:N.BJ(this.j.L));0 < this.Mca.size && setTimeout(function(){J.log.trace("Notifying about licenses that were added before source buffers created");Array.from(J.Mca).forEach(function(P){J.Mca.delete(P);J.jhb(P);});},0);this.log.trace("Waiting for loadedmetadata");(0,f.p0a)(this.ea,"loadedmetadata",function(){J.log.trace("Video element event: loadedmetadata");J.j.ef("md");});c.bf.addListener(c.Tm,this.oZ[c.Tm]=function(){return J.close();},l.YM);this.j.addEventListener(u.ka.Ah,function(){return J.close();},l.YM);this.j.addEventListener(u.ka.xlb,function(){return J.fEa();});this.j.addEventListener(u.ka.GK,function(){return J.D9b();});this.j.paused.addListener(function(){return J.ln();});this.j.muted.addListener(function(){return J.dHa();});this.j.volume.addListener(function(){return J.dHa();});this.j.playbackRate.addListener(function(){return J.aT();});this.j.zt.addListener(function(){return J.ln();});this.j.yo.addListener(function(){return J.ln();});this.dHa();this.aT();this.Jh.lga(function(){return J.lda();});this.lda();this.Ykc();};d.prototype.jhb=function(H){var J;this.j.ef("ld",H);null === (J=this.j.rb) || void 0 === J?void 0:J.BJ(H);this.j.fireEvent(u.ka.Mdb);};d.prototype.H8=function(H){var J;J=this;!1;this.Jh.YHb(H);this.fLb(H).then(function(){J.lda();J.j.fireEvent(u.ka.kda);}).catch(function(N){J.Vd(m.aa.syb,{Tb:(0,t.sf)(N)});});};d.prototype.Npa=function(H,J,N){N=void 0 === N?{}:N;J=this.zSb(H,J);this.Jh.XHb(H,J,N);this.lda();this.mib || H.type !== L.u.J || (this.Ik.pca || this.seek(this.j.ca,u.Fd.fv),this.mib=!0);};d.prototype.Ykc=function(){var H;H=this;this.$b.addEventListener(z.Pk.A1,this.Gz[z.Pk.A1]=function(){return H.V9b();});this.$b.addEventListener(z.Pk.xq,this.Gz[z.Pk.xq]=function(){return H.gea();});this.ea.addEventListener("ended",this.Gz.ended=function(){return H.x9b();});this.ea.addEventListener("play",this.Gz.play=function(){return H.sBa();});this.ea.addEventListener("pause",this.Gz.pause=function(){return H.rBa();});this.ea.addEventListener("playing",this.Gz.playing=function(){return H.uBa();});this.ow=!0;this.Jh.spb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.ef("vi");h.config.y5a?setTimeout(function(){H.gBa=!0;H.ln();},h.config.y5a):this.gBa=!0;this.tic();this.j.Md.qa && this.uic();(0,w.Rg)(function(){return H.ln();});};d.prototype.tic=function(){var N;function H(){var P;N.j.Db.value !== u.qb.Xc || 0 !== (null === (P=N.j.df) || void 0 === P?void 0:P.Iaa()) || O.$h.hidden?(N.Dgb.Qs(),P="stopTimer"):(N.Dgb.cF(),P="ensureTimer");N.log.trace("No render timer update: " + P,{presentingState:u.qb[N.j.Db.value],hidden:O.$h.hidden});}function J(P){var X,V;P=void 0 === P?!0:P;X=N.j.rb;V=(null === X || void 0 === X?void 0:X.hj) && X.Rwa();N.j.Db.value == u.qb.Hg && N.j.state.value == u.kc.Xe && N.j.zt.value == u.kg.Xe && N.j.yo.value == u.kg.Xe && !N.j.jj && V?(P && N.f$.Qs(),N.f$.cF(),X="ensureTimer"):(N.f$.Qs(),X="stopTimer");N.log.trace("Timer update: " + X,{presentingState:u.qb[N.j.Db.value],playbackState:u.kc[N.j.state.value],avBufferingState:u.kg[N.j.zt.value],textBufferingState:u.kg[N.j.yo.value],autoplayWasBlocked:N.j.jj,hasLicense:V,restartTimer:P});}N=this;h.config.j5a && ((0,q.wa)(!this.f$),this.f$=k.Ga.get(C.XU)(h.config.j5a,function(){var P;P=k.Ga.get(p.mja).J5a(N.j);N.Vd(P.code,P);}),this.j.Db.addListener(function(){return J();}),this.j.zt.addListener(function(){return J();}),this.j.yo.addListener(function(){return J();}),this.j.state.addListener(function(){return J();}),this.j.addEventListener(u.ka.Mdb,function(){return J();}),this.j.addEventListener(u.ka.jj,function(){return J();}),this.j.addEventListener(u.ka.fqa,function(){return J();}),this.j.addEventListener(u.ka.BG,function(){return J(!0);}),J());h.config.Cgb && (this.Dgb=k.Ga.get(C.XU)(h.config.Cgb,function(){var P;0 === (null === (P=N.j.df) || void 0 === P?void 0:P.Dy()) && (P=k.Ga.get(p.mja).J5a(N.j),N.Vd(P.code,P));N.j.Db.removeListener(H);c.bf.removeListener(c.Vt,N.oZ[c.Vt]);}),this.j.Db.addListener(H),c.bf.addListener(c.Vt,this.oZ[c.Vt]=H),H());};d.prototype.uic=function(){var N;function H(){var P,X,V,S;N.sHa.Qs();V=N.$b.sourceBuffers.find(function(U){return U.mediaType === L.u.J;});V=null !== (P=null === V || void 0 === V?void 0:V.jva()) && void 0 !== P?P:[];if(1 < V.length){S=N.j.Db.value == u.qb.Xc;P=(null === (X=N.ea) || void 0 === X?void 0:X.readyState) === M.Go.bU.HAVE_CURRENT_DATA;X=J(V,N.mediaTime);S && P && X?(N.sHa.cF(),S="ensureTimer"):S="stopTimer";N.log.trace("Video Gaps Monitor Timer update: " + S,{presentingState:u.qb[N.j.Db.value],mediaTime:N.mediaTime,bufferedRanges:JSON.stringify(V),nextRange:JSON.stringify(X),readyStateIsStalled:P});}}function J(P,X){P=oa(P);for(var V=P.next();!V.done;V=P.next()){if((V=V.value,V.start >= X))return V;}}N=this;h.config.Qqb && ((0,q.wa)(!this.sHa),this.sHa=k.Ga.get(C.XU)(h.config.Qqb,function(){var P,X;X=N.$b.sourceBuffers.find(function(V){return V.mediaType === L.u.J;});X=null !== (P=null === X || void 0 === X?void 0:X.jva()) && void 0 !== P?P:[];if(P=J(X,N.mediaTime))(N.log.error("Detected media gaps: seeking over gap",{seekPoint:P.start,ranges:JSON.stringify(X)}),N.seek(P.start,u.Fd.pA));}),this.j.Db.addListener(function(){return H();}),this.j.mediaTime.addListener(function(){return H();}),H());};d.prototype.zSb=function(H,J){var N;N=this.j.af;(N=(0,K.Xxa)(N)?N.UP():void 0) && H.type === L.u.J && ((H=new F.dka(this.log,{mediaType:L.u.J,url:"http://some-url"},J).La(N))?J=H:!1);return J;};d.prototype.lda=function(){this.ow && this.ln();this.Jh.P2a();};d.prototype.Dic=function(){!1;this.j.Db.set(u.qb.Hg);this.qca=!0;this.ln();};d.prototype.zMb=function(){var H;H=this;this.qca && (!1,this.qca=!1,(0,w.Rg)(function(){return H.seek(H.j.tF() || 0,u.Fd.g6);}));};d.prototype.Aaa=function(){return this.Jh.Aaa();};d.prototype.d0=function(H){var J;J=this;this.Jh.ahc(H);(0,w.Rg)(function(){return J.ln();});};d.prototype.uYb=function(){return {d$:this.d$,Nda:this.Nda};};d.prototype.fLb=function(H){var J;J=this.$b && this.$b.m$a();(0,q.wa)(this.j.Bs,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Bs && J && (H=Infinity !== H.Plb?H.Plb + H.Sw:H.Rw,H > this.j.Bs.Wib(B.va) && (this.j.Bs=(0,B.Vb)(H)));return Promise.resolve();};d.prototype.nac=function(){var H,J;H=this;this.Ik.Cea && (!1,this.Fqa() && this.Jh.Lsa(this.mediaTime) && (this.$b.seek(null !== (J=this.yfb) && void 0 !== J?J:this.mediaTime),this.yfb=void 0,this.Ik.Cea=!1,(0,w.Rg)(function(){return H.ln();})));};d.prototype.Plc=function(H){var J;if(H < this.mediaTime){J=this.mediaTime - H;h.config.pac && H && J > x.V5 && (H={ElementTime:(0,v.Hi)(H),MediaTime:(0,v.Hi)(this.mediaTime)},J > x.xUa?this.Vd(m.aa.Cyb,{Tb:Object.assign({Trace:this.$b.uF()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=(0,v.jA)(H,0,this.j.Bs.ia(B.va));};d.prototype.Fqa=function(){return this.j.zt.value === u.kg.Xe && this.j.yo.value === u.kg.Xe;};d.prototype.CMb=function(){var H,J,N;H=this;J=this.j.Db.value;N=J;this.Ik.pca?N=u.qb.Hg:this.ea && this.ea.ended?J === u.qb.Xc && (N=u.qb.Us):this.Fqa() && this.Jh.Lsa(this.mediaTime)?this.$b.zRb()?N=this.EC.paused?u.qb.ej:u.qb.Xc:this.Ejc.Gk(function(){return H.Djc();}):N=this.j.Bs?this.j.Dab(this.mediaTime,this.Jh.c$())?u.qb.Hg:u.qb.Us:u.qb.Hg;return N;};d.prototype.S9b=function(){var H;if(this.j.Db.value === u.qb.Hg){H=this.Jh.qkc() > this.Jh.c$();this.j.yo.value !== u.kg.Xe?this.j.Fj.value?(this.j.fireEvent(u.ka.eB,{cause:n.fTa}),this.log.warn("rebuffer due to timed text",this.j.Fj.value.Ih)):this.j.fireEvent(u.ka.QS):H?(this.d$++,this.j.fireEvent(u.ka.eB,{cause:n.sla})):(this.Nda++,this.j.fireEvent(u.ka.eB,{cause:n.tla}));}};d.prototype.Djc=function(){this.pl() || (h.config.N8b && this.Jh.M8b(),this.ln());};d.prototype.V9b=function(){this.ln();};d.prototype.gea=function(){this.ln();this.j.fireEvent(u.ka.xq);};d.prototype.x9b=function(){this.log.trace("Video element event: ended");this.ln();};d.prototype.sBa=function(){this.log.trace("Video element event: play");this.ln();};d.prototype.rBa=function(){this.log.trace("Video element event: pause");this.EC.rBa();this.ln();};d.prototype.uBa=function(){this.log.trace("Video element event: playing");this.EC.sBa();this.ln();};d.prototype.dHa=function(){this.pl() || (this.ea && this.ea.volume !== this.j.volume.value && (this.ea.volume=this.j.volume.value),this.ea && this.ea.muted !== this.j.muted.value && (this.ea.muted=this.j.muted.value));};d.prototype.aT=function(){!this.pl() && this.ea && (this.ea.playbackRate=this.j.playbackRate.value);};d.prototype.fEa=function(){var H;H=this;!this.pl() && (0,y.Ad)(this.ea) && !this.ea.ended && this.gBa && this.EC.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.EC.play()).then(function(){H.closed || (H.mCa=!1,H.ea.style.display=null,H.j.jj=!1,H.j.fireEvent(u.ka.fqa));}).catch(function(J){"NotAllowedError" === J.name?(H.log.warn("Playback is blocked by the browser settings",J),H.j.jj=!0,H.closed || (H.mCa=!0,H.ea.style.display="none",H.j.fireEvent(u.ka.jj,{player:{play:function(){return H.fEa();}}}))):H.closed || H.wib || (H.wib=!0,H.log.error("Play promise rejected",J));}));};d.prototype.D9b=function(){this.Ik.Cdb=this.j.tF() || 0;};d.prototype.eEa=function(){this.pl() || !(0,y.Ad)(this.ea) || this.ea.ended || !this.gBa || this.EC.paused || (this.log.trace("Calling pause on element"),this.EC.pause());};d.prototype.bqb=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.MVb();};d.prototype.seek=function(H,J,N,P){var X,V;N=void 0 === N?this.j.S:N;P=void 0 === P?!1:P;V=null === (X=this.j.rb) || void 0 === X?void 0:X.hj;!this.pl() && V && (this.j.fireEvent(u.ka.BG,{cause:J}),this.Ik.FC={time:H,cause:J,S:N,VVb:P},this.j.Db.set(u.qb.Hg),this.ln());};d.prototype.oac=function(){var H,J,N,P,X,V,S,U;if(this.Ik.FC){H=this.Ik.FC;J=H.time;N=H.cause;P=H.S;X=H.VVb;if(!this.Jh.Ri() || N === u.Fd.fv){H=this.j.Lj(P).L;V=this.Jh.Ri()?void 0:this.Jh.iXb();V=this.Ik.aZb(J,N,P,X,V);P=V.Qda;X=V.il;S=V.Rac;V=V.hi;this.Jh.mra(this.mediaTime);U=this.mediaTime;J=(0,v.Hi)(J);this.j.MI("SEEKING: Requested: (" + H + ":" + N + ":" + J + ") - Actual: (contentPts: " + X + ",playerPts: " + (S + ", newMediaTime: " + P + ")"));this.log.info("Seeking",{Requested:J,Actual:(0,v.Hi)(P),Cause:N,Skip:V});N === u.Fd.fv || V || (this.Jh.Zkb(),this.Jh.Vgc());this.mediaTime=P;this.Ik.Cdb=X;J=this.j.hg.value;S=this.j.Re.value;this.j.hg.set(null);this.j.Re.set(null);this.bqb(!0);this.Ik.FC=void 0;this.Ik.Cea=!0;this.j.fireEvent(u.ka.tl,{hBa:U,Qda:P,il:X,cause:N,skip:V,hg:J,Re:S,L:H});V && this.Jh.skip(P);}}};d.prototype.Vd=function(H,J,N){this.closed || this.j.Vd(H,J,N);};d.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Jh.close();this.$b.removeEventListener(z.Pk.A1,this.vfb[z.Pk.A1]);this.$b.removeEventListener(z.Pk.xq,this.vfb[z.Pk.xq]);this.ea.removeEventListener("ended",this.Gz.ended);this.ea.removeEventListener("play",this.Gz.play);this.ea.removeEventListener("pause",this.Gz.pause);this.ea.removeEventListener("playing",this.Gz.playing);this.EC.close();c.bf.removeListener(c.Tm,this.oZ[c.Tm]);c.bf.removeListener(c.Vt,this.oZ[c.Vt]);this.closed=!0;try{this.ea.volume=0;this.ea.muted=!0;this.eEa();this.$b.close();}catch(H){}this.ea=void 0;this.Jh.Zkb();}};d.prototype.pl=function(){return this.closed?!0:(0,y.Ad)(this.ea)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.AQa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hVa="SeekManagerFactorySymbol";},function(r,b,a){var d,l,h,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.qMa=void 0;d=a(19);l=a(58);h=a(23);n=a(4);c=a(16);b.qMa=function(f,g,k){function m(q){var v,t;v=q.error || q;t=(0,h.sf)(v);k.error("uncaught exception",v,t);(v=(v=v && v.stack) && d.config.Epb && d.config.mlc?0 <= v.indexOf(d.config.Epb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.Vd(n.aa.LWa));}function p(){l.bf.removeListener(l.oba,m);f.removeEventListener(c.ka.Ah,p);f.removeEventListener(c.ka.Iw,p);}try{l.bf.addListener(l.oba,m);f.addEventListener(c.ka.Ah,p);d.config.H1b && f.addEventListener(c.ka.Iw,p);}catch(q){k.error("exception in exception handler ",q);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bla="PlayedSegmentsTrackerFactorySymbol";},function(r,b,a){var d,l,h,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.web=void 0;d=a(19);l=a(17);h=a(61);r=a(4);n=a(14);c=a(15);f=a(10);a=a(34);f.Ga.get(a.xj).register(r.aa.VNa,function(g){var p,q,v,t,w;function k(){return (0,n.TM)((0,h.Zo)() / v);}function m(){var u;u=k();if(u != w){for(var y=(0,n.dA)(u - w,30);y--;){t.push(0);}(y=(0,n.jv)(t.length - 31,0)) && t.splice(0,y);w=u;}t[t.length - 1]++;}p=d.config.T5b;q=-6 / (p - 2 - 2);v=l.hv;t=[];w=k();(0,c.oya)(p) && (setInterval(m,1E3 / p),b.web={oYb:function(){var x;for(var u=[],y=t.length - 1;y--;){x=t[y];u.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,n.Sp)((x - 2) * q + 7));}return u;}});g(l.th);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yla="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zSa="PboManifestRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dSa="PboBindCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jca=void 0;b.Jca=function(a,d,l){var h;if(l.set)throw Error("Property " + d + " has a setter and cannot be made into a lazy property.");h=l.get;l.get=function(){var n,c;n=h.apply(this,arguments);c={enumerable:l.enumerable,value:n};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,d,c):Object.defineProperty(this,d,c);return n;};};},function(r,b,a){var l,h,n,c,f;function d(g,k){this.$b=g;this.j=k;this.k_=[];}Object.defineProperty(b,"__esModule",{value:!0});b.ET=void 0;r=a(0);l=a(4);h=a(1);n=a(15);c=a(23);f=a(10);d.prototype.eaa=function(g){this.k_.forEach(function(k){return k(g);});};d.prototype.Vd=function(g,k,m){this.j.Vd(g,k,m);};d.prototype.WGb=function(g){-1 === this.k_.indexOf(g) && this.k_.push(g);};d.prototype.bec=function(g){g=this.k_.indexOf(g);0 <= g && this.k_.splice(g,1);};d.prototype.kab=function(g){var k,m;k={};(0,n.Ad)(g.code)?k.Da=(0,l.nMa)(g.code):k.Da=l.Y.un;try{m=g.message.match(/\((\d*)\)/)[1];k.Wf=(0,f.pqa)(m,4);}catch(p){}k.Tb=(0,c.sf)(g);return k;};a=d;a=r.__decorate([(0,h.$)()],a);b.ET=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UTa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YTa="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TOa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var l;function d(h,n,c,f,g){var k;k=this;this.zb=h;this.Hl=n;this.Xw=c;this.Ob=f;this.ko=g;this.Vea=new Map();this.mhc();this.Ob.addListener(l.Qa.loaded,function(){return k.bjb();});}Object.defineProperty(b,"__esModule",{value:!0});b.GH=void 0;l=a(16);d.prototype.s0a=function(h){var n,c;n=this;c=Object.keys(this.zb.km.T).find(function(f){return n.zb.km.T[f].N === h.L;});h.id || (h.id=null !== c && void 0 !== c?c:this.ko.St(h.L));c || (this.zb.km=this.ko.$Hb(this.zb.km,h));c=this.nL(h.id);h.Ck && this.zb.Wlc(h.id,h.Ck);return c;};d.prototype.wpb=function(){return Promise.reject(Error("Error isn't recoverable"));};d.prototype.Jwa=function(h,n){var c;c=this;n=void 0 === n?{}:n;return this.Xw.transition(h,n).then(function(){c.zb.ji=h;});};d.prototype.close=function(h){return this.Xw.close(h);};d.prototype.isReady=function(){return this.Xw.OZb();};d.prototype.pp=function(){return this.Xw.pp();};d.prototype.bK=function(){return this.Xw.bK();};d.prototype.nL=function(h){this.Vea.has(h) || this.Vea.set(h,this.Xw.pg(this.$Jb(h)));return this.Vea.get(h);};d.prototype.mhc=function(){var h;h=this;this.Xw.addListener(l.NH.C1,function(){return h.Ob.Zc(l.NH.C1);});Object.values(l.Qa).forEach(function(n){h.Xw.addListener(n,function(c){return h.Ob.Zc(n,c);});});};d.prototype.bz=function(){this.bjb();};d.prototype.yBa=function(h){this.Xw.Tlc({id:h,L:this.zb.Be(h).N,Ck:this.zb.h_b(h)});};d.prototype.XK=function(){};d.prototype.bjb=function(){var h,n;if(this.isReady()){h=this.zb.ji;n=this.zb.aZ(h);n && !this.Vea.has(n) && (this.yBa(h),this.nL(n));}};d.prototype.$Jb=function(h){var n,c,f,g;c=this.zb.Be(h);f=this.Hl.jQ(c.N);g=null === f || void 0 === f?void 0:f.Gb;f=null === f || void 0 === f?void 0:f.ba;return {id:h,L:c.N,ca:c.Ba,Ck:null !== (n=null === g || void 0 === g?void 0:g.Ck) && void 0 !== n?n:c.Aa,Gb:g,ba:f};};b.GH=d;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.zla=void 0;a.prototype.Oza=function(d){d=void 0 === d?{}:d;return {Gl:d.trackingId,d9:d.authParams,ro:d.sessionParams,me:d.uiLabel,Bha:d.uxLabels,bta:d.disableTrackStickiness,kM:d.uiPlayStartTime,laa:d.forceAudioTrackId,maa:d.forceTimedTextTrackId,Gh:d.isBranching,playbackState:d.playbackState?{currentTime:d.playbackState.currentTime,volume:d.playbackState.volume,muted:d.playbackState.muted,playbackRate:d.playbackState.playbackRate}:void 0,yP:d.enableTrickPlay,Zwa:d.heartbeatCooldown,XZ:d.isPlaygraph,Qca:d.loadImmediately || !1,pib:d.pin,N0:d.preciseSeeking,ca:d.startPts,Sa:d.endPts,Ck:d.logicalEnd,xfa:d.renderTimedText,l7a:d.extraManifestParams,Ypa:d.assetId,MIb:d.audioLanguages,Sjc:d.textLanguages,Rqb:d.videoLanguage,Ep:d.packageId,E5a:d.desiredDownloadables,MDa:d.requestReference,wHb:d.additionalAudioAssets,AHb:d.additionalTextAssets};};b.zla=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HMa=void 0;b.HMa=function(a){var h,n,c,f;function d(){if(c)for(var g;g=h.pop();){g(f);}}function l(g){c=!0;f=g;d();}h=[];return function(g){h.push(g);n || (n=!0,a(l));d();};};},function(r,b,a){var l,h,n,c,f,g;function d(k){var m;(0,l.sk)("MediaSourceASE").trace("Inside MediaSourceASE");m=k.Qva();this.readyState=g.dd.CLOSED;this.sourceBuffers=m.sourceBuffers;this.addSourceBuffer=function(p){return m.addSourceBuffer(p);};this.u8=function(p){return m.u8(p);};this.removeSourceBuffer=function(p){return m.removeSourceBuffer(p);};this.Mt=function(p){return m.Mt(p);};this.duration=void 0;this.readyState=g.dd.OPEN;this.Yc=h.Ga.get(n.Ii).bG(g.Yc,{});k=new c.EventEmitter();k.on("subtitleData",function(p){(0,f.wa)(m.j.Mb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");m.j.Mb.value.$Ca(p);});this.events=k;}Object.defineProperty(b,"__esModule",{value:!0});b.FQa=void 0;l=a(10);h=a(10);n=a(32);c=a(11);f=a(22);Object.defineProperty(d.prototype,"duration",{get:function(){return this.Uk;},set:function(k){var m;this.Uk=k || Infinity;m=Math.floor(1E3 * k) || Infinity;this.sourceBuffers.forEach(function(p){p.Uk=m;});}});g={dd:{CLOSED:0,OPEN:1,Us:2,name:["CLOSED","OPEN","ENDED"]},Yc:{q3a:!0,igb:!0}};b.FQa=Object.assign(d,g);},function(r,b,a){var g,k,m,p,q,v,t,w;function d(u){return u.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function l(u){return u && "object" === typeof u?JSON.stringify(u):"string" === typeof u?'"' + u + '"':"" + u;}function h(u,y,x){var z;if("string" === typeof u)return h.call(this,d(u),y,x);z=0;Object.keys(u).forEach(function(B){var A,C,D;A=q[B];C=u[B];if(A){if(D=v[B] || w[typeof g[A]])try{C=D(C);}catch(E){x && x.error("Failed to convert value '" + C + "' for config '" + B + "' : " + E.toString());return;}D=p[A];this[A]=C;p[A] !== D && (x && x.debug("Config changed for '" + B + "' from " + l(D) + " (" + typeof D + ") to " + l(C) + " (" + typeof C + ")"),++z);}else y?(A=(A=t[B])?A.filter(function(E){return E[0] !== this;},this):[],A.push([this,C]),t[B]=A):x && x.error("Attempt to change undeclared config option '" + B + "'");},this);z && p.emit("changed");return z;}function n(){return Object.keys(q).reduce(function(u,y){var x,z;x=q[y];z=u[x];z?(z.push(y),u[x]=z.sort(function(B,A){return A.length - B.length;})):u[x]=[y];return u;},{});}function c(u,y){return u.hasOwnProperty(y)?l(u[y]):void 0;}function f(u,y){return "undefined" === typeof u?y:u;}b=a(94);a=a(1464).EventEmitter;g={};k=Object.create(g);m=Object.create(k);p=Object.create(m);q={};v={};t={};p.declare=function(u){Object.keys(u).forEach(function(y){var x,z,B,A;x=u[y];z=x[0];B=x[1];A=x[2];if(g.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");g.hasOwnProperty(y) || ("function" === typeof B && (B=B()),g[y]=B);q[C]=y;"function" === typeof A && (v[C]=A);if(D=t[C])(D.forEach(function(E){var G,F;G=E[0];F={};F[C]=E[1];h.call(G,F,!1);}),delete t[C]);});});return p;};w={object:function(u){return "object" == typeof u?u:JSON.parse("" + u);},"boolean":function(u){return "boolean" == typeof u?u:!("0" === "" + u || "false" === ("" + u).toLowerCase());},number:function(u){if("number" == typeof u)return u;u=parseFloat("" + u);if(isNaN(u))throw Error("parseFloat returned NaN");return u;}};p.set=h.bind(k);p.x0=h.bind(m);p.dump=function(u,y){var z,B,A,C;function x(){C && u && u.log("===========================================");}z=Object.keys(t).sort();B={};A=n();y=f(y,!0);Object.keys(q).sort().forEach(function(D){var E,G,F;D=q[D];if(!B[D]){B[D]=!0;E=c(k,D);G=c(m,D);if(y || "undefined" !== typeof E || "undefined" !== typeof G){F=A[D].join(",");F+=" = " + l(p[D]) + " (" + typeof p[D] + ") [";F+=f(G,"<unset>") + ",";F+=f(E,"<unset>") + ",";F+=c(g,D) + "]";C || (C=!0,u && u.log("Current config values"),x());u && u.log(F);}}});(y || z.length) && u && u.log("<undeclared> :",z);x();};p.Mi=function(u){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});u && h.call(y,u);return y;};p.nib=function(){var u;u=n();return Object.getOwnPropertyNames(k).reduce(function(y,x){y[u[x][0]]=k[x];return y;},{});};p.reset=function(){Object.keys(k).forEach(function(u){delete k[u];});};p.Sd={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var l;function d(h){for(var n="",c=0;c < h.length;c++){n+=h[c].N + "|";}return n;}l=a(316);r.exports={assert:function(h,n){if(!h)throw Error("PlayPredictionModel assertion failed" + (n?" : " + n:""));},kwc:function(h,n,c){Array.prototype.splice.apply(h,[n,0].concat(c));},yXb:function(h){for(var n=[],c=0;c < h.length;c++){if(h[c].context === l.jU.ztb){n=h[c].list;break;}}return n;},fXb:function(h){for(var n=[],c=0;c < h.length;c++){if(h[c].context === l.jU.rsb){n=h[c].list;break;}}return n;},vRb:function(h,n){for(var c=0,f,g,k,m=0,p=h.length - 1;m < p;m++){f=d(h[m].list || []);k=!1;for(var q=0,v=n.length;q < v;q++){if((g=d(n[q].list || []),g == f)){k=!0;break;}}if(!1 === k){c=m;break;}}return c;},b9b:function(h,n,c){for(var f=[],g,k=0;k < Math.min(n,h.length);k++){g=h[k].list || [];f=f.concat(g.slice(0,c));}return f;},a9b:function(h,n){for(var c=[],f,g=0;g < h.length && (f=h[g].list || [],f=f.slice(0,Math.min(f.length,n)),n-=f.length,c=c.concat(f),0 !== n);g++){;}return c;},$8b:function(h,n,c){var f;n < h.length && 0 <= n && (h=h[n].list || [],c < h.length && (f=h[c]));return f;},K7a:function(h){for(var n={},c=h.length,f,g=0;g < c;g++){f=h[g].list || [];for(var k=0;k < f.length;k++){if(f[k].property === l.MM.HU || f[k].property === l.MM.JKa){n.wl=g;n.Sn=k;break;}}}void 0 === n.wl && void 0 === n.Sn && (n.wl=0,n.Sn=0);return n;}};},function(r,b,a){var n;function d(c,f,g,k,m,p,q){this.R2=k;this.Drb=c;this.Agb=f;this.EAa=g;this.R3b=p;this.GG=q;this.split=m;}function l(){this.W={};this.W["0"]=new d("1","2","1","14","-0.0000100136",0,0);this.W["1"]=new d("3","4","3","20","-0.0000100136",0,0);this.W["3"]=new d("7","8","7","10","1.5",0,0);this.W["7"]=new d("15","16","15","9","4.5",0,0);this.W["15"]=new d("31","32","31","2","5.5",0,0);this.W["31"]=new d("63","64","63","29","-0.0000100136",0,0);this.W["63"]=new d("123","124","123","24","-0.0000100136",0,0);this.W["123"]=new d("123","124","123","0","0",1,.207298);this.W["124"]=new d("123","124","123","0","0",1,.49076);this.W["64"]=new d("125","126","125","4","40.5",0,0);this.W["125"]=new d("125","126","125","0","0",1,-.00157835);this.W["126"]=new d("125","126","125","0","0",1,.934205);this.W["32"]=new d("65","66","65","135","5.5",0,0);this.W["65"]=new d("127","128","128","4","1272.5",0,0);this.W["127"]=new d("127","128","128","0","0",1,-.510333);this.W["128"]=new d("127","128","128","0","0",1,.18363);this.W["66"]=new d("129","130","129","24","-0.0000100136",0,0);this.W["129"]=new d("129","130","129","0","0",1,-.0464542);this.W["130"]=new d("129","130","129","0","0",1,.458833);this.W["16"]=new d("33","34","34","10","2.00001",0,0);this.W["33"]=new d("67","68","67","0","29.5",0,0);this.W["67"]=new d("131","132","131","2","39.5",0,0);this.W["131"]=new d("131","132","131","0","0",1,-.37577);this.W["132"]=new d("131","132","131","0","0",1,.512087);this.W["68"]=new d("133","134","134","140","1.5",0,0);this.W["133"]=new d("133","134","134","0","0",1,.321272);this.W["134"]=new d("133","134","134","0","0",1,-.675396);this.W["34"]=new d("69","70","70","2","24.5",0,0);this.W["69"]=new d("135","136","136","9","28.5",0,0);this.W["135"]=new d("135","136","136","0","0",1,-.0573845);this.W["136"]=new d("135","136","136","0","0",1,-.507455);this.W["70"]=new d("137","138","137","45","-0.0000100136",0,0);this.W["137"]=new d("137","138","137","0","0",1,-.503909);this.W["138"]=new d("137","138","137","0","0",1,.450886);this.W["8"]=new d("17","18","17","4","44189.5",0,0);this.W["17"]=new d("35","36","35","2","21.5",0,0);this.W["35"]=new d("71","72","72","0","19.5",0,0);this.W["71"]=new d("139","140","140","9","2.5",0,0);this.W["139"]=new d("139","140","140","0","0",1,.00403497);this.W["140"]=new d("139","140","140","0","0",1,-.312656);this.W["72"]=new d("141","142","141","135","96",0,0);this.W["141"]=new d("141","142","141","0","0",1,-.465786);this.W["142"]=new d("141","142","141","0","0",1,.159633);this.W["36"]=new d("73","74","73","130","89.5",0,0);this.W["73"]=new d("143","144","144","10","4.5",0,0);this.W["143"]=new d("143","144","144","0","0",1,-.76265);this.W["144"]=new d("143","144","144","0","0",1,-.580804);this.W["74"]=new d("145","146","146","10","16.5",0,0);this.W["145"]=new d("145","146","146","0","0",1,.296357);this.W["146"]=new d("145","146","146","0","0",1,-.691659);this.W["18"]=new d("37","38","38","9","1.5",0,0);this.W["37"]=new d("37","38","38","0","0",1,.993951);this.W["38"]=new d("75","76","75","0","19",0,0);this.W["75"]=new d("147","148","147","39","-0.0000100136",0,0);this.W["147"]=new d("147","148","147","0","0",1,-.346535);this.W["148"]=new d("147","148","147","0","0",1,-.995745);this.W["76"]=new d("147","148","147","0","0",1,-.99978);this.W["4"]=new d("9","10","9","5","4.5",0,0);this.W["9"]=new d("19","20","19","2","4.5",0,0);this.W["19"]=new d("39","40","39","140","7.5",0,0);this.W["39"]=new d("77","78","78","134","6.5",0,0);this.W["77"]=new d("149","150","150","7","11.5",0,0);this.W["149"]=new d("149","150","150","0","0",1,.729843);this.W["150"]=new d("149","150","150","0","0",1,.383857);this.W["78"]=new d("151","152","151","133","4.5",0,0);this.W["151"]=new d("151","152","151","0","0",1,.39017);this.W["152"]=new d("151","152","151","0","0",1,.0434342);this.W["40"]=new d("79","80","79","133","3.5",0,0);this.W["79"]=new d("153","154","154","8","4.5",0,0);this.W["153"]=new d("153","154","154","0","0",1,-.99536);this.W["154"]=new d("153","154","154","0","0",1,-.00943396);this.W["80"]=new d("155","156","155","125","-0.0000100136",0,0);this.W["155"]=new d("155","156","155","0","0",1,.266272);this.W["156"]=new d("155","156","155","0","0",1,.959904);this.W["20"]=new d("41","42","42","10","65.5",0,0);this.W["41"]=new d("81","82","82","7","10.5",0,0);this.W["81"]=new d("157","158","158","2","37.5",0,0);this.W["157"]=new d("157","158","158","0","0",1,-.701873);this.W["158"]=new d("157","158","158","0","0",1,.224649);this.W["82"]=new d("159","160","159","133","9.5",0,0);this.W["159"]=new d("159","160","159","0","0",1,.0955181);this.W["160"]=new d("159","160","159","0","0",1,-.58962);this.W["42"]=new d("83","84","83","39","-0.0000100136",0,0);this.W["83"]=new d("161","162","161","135","31",0,0);this.W["161"]=new d("161","162","161","0","0",1,-.229692);this.W["162"]=new d("161","162","161","0","0",1,.88595);this.W["84"]=new d("163","164","164","1","13.5",0,0);this.W["163"]=new d("163","164","164","0","0",1,-.992157);this.W["164"]=new d("163","164","164","0","0",1,.922159);this.W["10"]=new d("21","22","22","4","486",0,0);this.W["21"]=new d("43","44","44","133","4.5",0,0);this.W["43"]=new d("85","86","86","10","4.5",0,0);this.W["85"]=new d("165","166","166","4","158.5",0,0);this.W["165"]=new d("165","166","166","0","0",1,-.127778);this.W["166"]=new d("165","166","166","0","0",1,.955189);this.W["86"]=new d("165","166","166","0","0",1,-.994012);this.W["44"]=new d("87","88","88","1","3.5",0,0);this.W["87"]=new d("167","168","168","135","7",0,0);this.W["167"]=new d("167","168","168","0","0",1,-.997015);this.W["168"]=new d("167","168","168","0","0",1,.400821);this.W["88"]=new d("169","170","169","130","36",0,0);this.W["169"]=new d("169","170","169","0","0",1,-.898638);this.W["170"]=new d("169","170","169","0","0",1,.56129);this.W["22"]=new d("45","46","45","9","2.5",0,0);this.W["45"]=new d("89","90","90","9","1.5",0,0);this.W["89"]=new d("171","172","171","10","10.5",0,0);this.W["171"]=new d("171","172","171","0","0",1,.573986);this.W["172"]=new d("171","172","171","0","0",1,-.627266);this.W["90"]=new d("173","174","173","31","-0.0000100136",0,0);this.W["173"]=new d("173","174","173","0","0",1,.925273);this.W["174"]=new d("173","174","173","0","0",1,-.994805);this.W["46"]=new d("91","92","91","136","5.5",0,0);this.W["91"]=new d("175","176","175","10","10.5",0,0);this.W["175"]=new d("175","176","175","0","0",1,.548352);this.W["176"]=new d("175","176","175","0","0",1,-.879195);this.W["92"]=new d("177","178","178","8","14.5",0,0);this.W["177"]=new d("177","178","178","0","0",1,.457305);this.W["178"]=new d("177","178","178","0","0",1,-.998992);this.W["2"]=new d("5","6","5","10","2.5",0,0);this.W["5"]=new d("11","12","11","9","4.5",0,0);this.W["11"]=new d("23","24","24","10","4.00001",0,0);this.W["23"]=new d("47","48","48","133","5.5",0,0);this.W["47"]=new d("93","94","93","3","13.5",0,0);this.W["93"]=new d("179","180","179","138","15.5",0,0);this.W["179"]=new d("179","180","179","0","0",1,.658398);this.W["180"]=new d("179","180","179","0","0",1,-.927007);this.W["94"]=new d("181","182","182","3","15.5",0,0);this.W["181"]=new d("181","182","182","0","0",1,-.111351);this.W["182"]=new d("181","182","182","0","0",1,-.99827);this.W["48"]=new d("95","96","95","7","167",0,0);this.W["95"]=new d("183","184","183","132","36.5",0,0);this.W["183"]=new d("183","184","183","0","0",1,.895161);this.W["184"]=new d("183","184","183","0","0",1,-.765217);this.W["96"]=new d("185","186","186","137","6.00001",0,0);this.W["185"]=new d("185","186","186","0","0",1,-.851095);this.W["186"]=new d("185","186","186","0","0",1,.674286);this.W["24"]=new d("49","50","49","137","5.5",0,0);this.W["49"]=new d("97","98","97","5","23.5",0,0);this.W["97"]=new d("187","188","187","3","28.5",0,0);this.W["187"]=new d("187","188","187","0","0",1,.951654);this.W["188"]=new d("187","188","187","0","0",1,-.993808);this.W["98"]=new d("187","188","187","0","0",1,-.99705);this.W["50"]=new d("187","188","187","0","0",1,-.997525);this.W["12"]=new d("25","26","25","8","8.5",0,0);this.W["25"]=new d("51","52","52","10","4.00001",0,0);this.W["51"]=new d("99","100","100","133","5.5",0,0);this.W["99"]=new d("189","190","190","7","40.5",0,0);this.W["189"]=new d("189","190","190","0","0",1,.151839);this.W["190"]=new d("189","190","190","0","0",1,-.855517);this.W["100"]=new d("191","192","192","133","14.5",0,0);this.W["191"]=new d("191","192","192","0","0",1,.86223);this.W["192"]=new d("191","192","192","0","0",1,.544394);this.W["52"]=new d("101","102","101","135","47.5",0,0);this.W["101"]=new d("193","194","194","4","24.5",0,0);this.W["193"]=new d("193","194","194","0","0",1,.946185);this.W["194"]=new d("193","194","194","0","0",1,.811859);this.W["102"]=new d("193","194","194","0","0",1,-.991561);this.W["26"]=new d("53","54","54","132","6.5",0,0);this.W["53"]=new d("103","104","103","131","85",0,0);this.W["103"]=new d("195","196","196","134","16.5",0,0);this.W["195"]=new d("195","196","196","0","0",1,.0473538);this.W["196"]=new d("195","196","196","0","0",1,-.999401);this.W["104"]=new d("197","198","198","8","15.5",0,0);this.W["197"]=new d("197","198","198","0","0",1,.816129);this.W["198"]=new d("197","198","198","0","0",1,-.99322);this.W["54"]=new d("105","106","105","133","3.5",0,0);this.W["105"]=new d("105","106","105","0","0",1,-.998783);this.W["106"]=new d("199","200","199","39","-0.0000100136",0,0);this.W["199"]=new d("199","200","199","0","0",1,.528588);this.W["200"]=new d("199","200","199","0","0",1,-.998599);this.W["6"]=new d("13","14","14","10","7.5",0,0);this.W["13"]=new d("27","28","28","133","7.5",0,0);this.W["27"]=new d("55","56","56","10","4.5",0,0);this.W["55"]=new d("107","108","107","3","3.5",0,0);this.W["107"]=new d("201","202","201","4","17.5",0,0);this.W["201"]=new d("201","202","201","0","0",1,-.379512);this.W["202"]=new d("201","202","201","0","0",1,.15165);this.W["108"]=new d("203","204","203","57","-0.0000100136",0,0);this.W["203"]=new d("203","204","203","0","0",1,-.884606);this.W["204"]=new d("203","204","203","0","0",1,.265406);this.W["56"]=new d("109","110","109","136","6.5",0,0);this.W["109"]=new d("205","206","205","4","157.5",0,0);this.W["205"]=new d("205","206","205","0","0",1,-.0142737);this.W["206"]=new d("205","206","205","0","0",1,.691279);this.W["110"]=new d("205","206","205","0","0",1,-.998086);this.W["28"]=new d("57","58","58","138","11.5",0,0);this.W["57"]=new d("111","112","112","2","6.5",0,0);this.W["111"]=new d("207","208","208","7","67.5",0,0);this.W["207"]=new d("207","208","208","0","0",1,.763925);this.W["208"]=new d("207","208","208","0","0",1,-.309645);this.W["112"]=new d("209","210","209","40","-0.0000100136",0,0);this.W["209"]=new d("209","210","209","0","0",1,-.306635);this.W["210"]=new d("209","210","209","0","0",1,.556696);this.W["58"]=new d("113","114","113","138","50.5",0,0);this.W["113"]=new d("211","212","212","8","25.5",0,0);this.W["211"]=new d("211","212","212","0","0",1,.508234);this.W["212"]=new d("211","212","212","0","0",1,.793551);this.W["114"]=new d("211","212","212","0","0",1,-.998438);this.W["14"]=new d("29","30","29","134","27.5",0,0);this.W["29"]=new d("59","60","60","7","17.5",0,0);this.W["59"]=new d("115","116","115","135","5.5",0,0);this.W["115"]=new d("213","214","214","137","5.5",0,0);this.W["213"]=new d("213","214","214","0","0",1,.401747);this.W["214"]=new d("213","214","214","0","0",1,.0367503);this.W["116"]=new d("215","216","216","8","5.5",0,0);this.W["215"]=new d("215","216","216","0","0",1,-.0241984);this.W["216"]=new d("215","216","216","0","0",1,-.999046);this.W["60"]=new d("117","118","117","0","12.5",0,0);this.W["117"]=new d("217","218","218","132","5.5",0,0);this.W["217"]=new d("217","218","218","0","0",1,-.997294);this.W["218"]=new d("217","218","218","0","0",1,.210398);this.W["118"]=new d("219","220","219","137","1.5",0,0);this.W["219"]=new d("219","220","219","0","0",1,-.55763);this.W["220"]=new d("219","220","219","0","0",1,.074493);this.W["30"]=new d("61","62","62","133","42.5",0,0);this.W["61"]=new d("119","120","119","135","5.5",0,0);this.W["119"]=new d("221","222","222","4","473.5",0,0);this.W["221"]=new d("221","222","222","0","0",1,-.920213);this.W["222"]=new d("221","222","222","0","0",1,-.17615);this.W["120"]=new d("223","224","224","5","144",0,0);this.W["223"]=new d("223","224","224","0","0",1,-.954295);this.W["224"]=new d("223","224","224","0","0",1,-.382538);this.W["62"]=new d("121","122","121","133","50",0,0);this.W["121"]=new d("225","226","226","10","18.5",0,0);this.W["225"]=new d("225","226","226","0","0",1,-.0731343);this.W["226"]=new d("225","226","226","0","0",1,.755454);this.W["122"]=new d("227","228","228","0","30",0,0);this.W["227"]=new d("227","228","228","0","0",1,.25);this.W["228"]=new d("227","228","228","0","0",1,-.997101);}function h(c,f,g,k,m,p){this.Mfa=m;this.G9=p;}b=a(603);n=a(315);a={};a.HIb=new (function(){this.RBb=n();this.Va=0;this.update=function(){this.Va=n() - this.RBb;};this.type="num";})();a.I4b=new (function(){this.type="cat";})();a.J4b=new (function(){this.type="cat";})();a.L4b=new (function(){this.type="cat";})();a.M4b=new (function(){this.type="cat";})();a.K4b=new (function(){this.type="cat";})();a.N4b=new (function(){this.type="cat";})();a.O4b=new (function(){this.type="cat";})();a.P4b=new (function(){this.type="cat";})();a.Q4b=new (function(){this.type="cat";})();a.R4b=new (function(){this.type="cat";})();a.S4b=new (function(){this.type="cat";})();a.T4b=new (function(){this.type="cat";})();a.V4b=new (function(){this.type="cat";})();a.W4b=new (function(){this.type="cat";})();a.X4b=new (function(){this.type="cat";})();a.U4b=new (function(){this.type="cat";})();a.uJb=new (function(){this.update=function(c){for(var f in c.Rb){if("becauseYouAdded" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.vJb=new (function(){this.update=function(c){for(var f in c.Rb){if("becauseYouLiked" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.yJb=new (function(){this.update=function(c){for(var f in c.Rb){if("billboard" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.VMb=new (function(){this.update=function(c){for(var f in c.Rb){if("continueWatching" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.xJb=new (function(){this.update=function(c){for(var f in c.Rb){if("bigRow" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.HWb=new (function(){this.update=function(c){for(var f in c.Rb){if("genre" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.g8b=new (function(){this.update=function(c){for(var f in c.Rb){if("netflixOriginals" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.j8b=new (function(){this.update=function(c){for(var f in c.Rb){if("newRelease" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.hbc=new (function(){this.update=function(c){for(var f in c.Rb){if("popularTitles" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.zu=new (function(){this.update=function(c){for(var f in c.Rb){if("queue" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.jdc=new (function(){this.update=function(c){for(var f in c.Rb){if("recentlyAdded" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Shc=new (function(){this.update=function(c){for(var f in c.Rb){if("similars" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Pkc=new (function(){this.update=function(c){for(var f in c.Rb){if("trendingNow" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.klc=new (function(){this.update=function(c){for(var f in c.Rb){if("ultraHD" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.pnc=new (function(){this.update=function(c){for(var f in c.Rb){if("watchAgain" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Bkc=new (function(){this.update=function(c){for(var f in c.Rb){if("topTen" === c.Rb[f].context){this.Va=Math.max(c.Rb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.eNb=new (function(){this.type="cat";})();a.fNb=new (function(){this.type="cat";})();a.gNb=new (function(){this.type="cat";})();a.hNb=new (function(){this.type="cat";})();a.iNb=new (function(){this.type="cat";})();a.jNb=new (function(){this.type="cat";})();a.kNb=new (function(){this.type="cat";})();a.lNb=new (function(){this.type="cat";})();a.mNb=new (function(){this.type="cat";})();a.nNb=new (function(){this.type="cat";})();a.oNb=new (function(){this.type="cat";})();a.pNb=new (function(){this.type="cat";})();a.qNb=new (function(){this.type="cat";})();a.rNb=new (function(){this.type="cat";})();a.sNb=new (function(){this.type="cat";})();a.tNb=new (function(){this.type="cat";})();a.uNb=new (function(){this.type="cat";})();a.vNb=new (function(){this.type="cat";})();a.wNb=new (function(){this.type="cat";})();a.xNb=new (function(){this.type="cat";})();a.yNb=new (function(){this.type="cat";})();a.zNb=new (function(){this.type="cat";})();a.ANb=new (function(){this.type="cat";})();a.BNb=new (function(){this.type="cat";})();a.CNb=new (function(){this.type="cat";})();a.DNb=new (function(){this.type="cat";})();a.ENb=new (function(){this.type="cat";})();a.FNb=new (function(){this.type="cat";})();a.GNb=new (function(){this.type="cat";})();a.HNb=new (function(){this.type="cat";})();a.INb=new (function(){this.type="cat";})();a.JNb=new (function(){this.type="cat";})();a.KNb=new (function(){this.type="cat";})();a.LNb=new (function(){this.type="cat";})();a.MNb=new (function(){this.type="cat";})();a.NNb=new (function(){this.type="cat";})();a.ONb=new (function(){this.type="cat";})();a.PNb=new (function(){this.type="cat";})();a.QNb=new (function(){this.type="cat";})();a.RNb=new (function(){this.type="cat";})();a.SNb=new (function(){this.type="cat";})();a.TNb=new (function(){this.type="cat";})();a.UNb=new (function(){this.type="cat";})();a.VNb=new (function(){this.type="cat";})();a.WNb=new (function(){this.type="cat";})();a.XNb=new (function(){this.type="cat";})();a.YNb=new (function(){this.type="cat";})();a.ZNb=new (function(){this.type="cat";})();a.$Nb=new (function(){this.type="cat";})();a.aOb=new (function(){this.type="cat";})();a.bOb=new (function(){this.type="cat";})();a.cOb=new (function(){this.type="cat";})();a.dOb=new (function(){this.type="cat";})();a.eOb=new (function(){this.type="cat";})();a.fOb=new (function(){this.type="cat";})();a.gOb=new (function(){this.type="cat";})();a.hOb=new (function(){this.type="cat";})();a.iOb=new (function(){this.type="cat";})();a.jOb=new (function(){this.type="cat";})();a.kOb=new (function(){this.type="cat";})();a.lOb=new (function(){this.type="cat";})();a.mOb=new (function(){this.type="cat";})();a.nOb=new (function(){this.type="cat";})();a.oOb=new (function(){this.type="cat";})();a.pOb=new (function(){this.type="cat";})();a.qOb=new (function(){this.type="cat";})();a.rOb=new (function(){this.type="cat";})();a.sOb=new (function(){this.type="cat";})();a.tOb=new (function(){this.type="cat";})();a.uOb=new (function(){this.type="cat";})();a.vOb=new (function(){this.type="cat";})();a.wOb=new (function(){this.type="cat";})();a.xOb=new (function(){this.type="cat";})();a.yOb=new (function(){this.type="cat";})();a.zOb=new (function(){this.type="cat";})();a.AOb=new (function(){this.type="cat";})();a.BOb=new (function(){this.type="cat";})();a.COb=new (function(){this.type="cat";})();a.DOb=new (function(){this.type="cat";})();a.mdc=new (function(){this.type="cat";})();a.ndc=new (function(){this.type="cat";})();a.odc=new (function(){this.type="cat";})();a.pdc=new (function(){this.type="cat";})();a.qdc=new (function(){this.type="cat";})();a.rdc=new (function(){this.type="cat";})();a.sdc=new (function(){this.type="cat";})();a.tdc=new (function(){this.type="cat";})();a.udc=new (function(){this.type="cat";})();a.vdc=new (function(){this.type="cat";})();a.wdc=new (function(){this.type="cat";})();a.xdc=new (function(){this.type="cat";})();a.ydc=new (function(){this.type="cat";})();a.zdc=new (function(){this.type="cat";})();a.Adc=new (function(){this.type="cat";})();a.Bdc=new (function(){this.type="cat";})();a.Cdc=new (function(){this.type="cat";})();a.Ddc=new (function(){this.type="cat";})();a.Edc=new (function(){this.type="cat";})();a.Fdc=new (function(){this.type="cat";})();a.Gdc=new (function(){this.type="cat";})();a.Hdc=new (function(){this.type="cat";})();a.Idc=new (function(){this.type="cat";})();a.ojc=new (function(){this.update=function(c){"down" === c.direction && this.Va++;};this.type="num";this.Va=0;})();a.qjc=new (function(){this.update=function(c){"right" === c.direction && this.Va++;};this.type="num";this.Va=0;})();a.pjc=new (function(){this.update=function(c){"left" === c.direction && this.Va++;};this.type="num";this.Va=0;})();a.rjc=new (function(){this.update=function(c){"up" === c.direction && this.Va++;};this.type="num";this.Va=0;})();a.Q6b=new (function(){this.Va=0;this.update=function(c){this.Va=Math.max(this.Va,c.rowIndex);};this.type="num";})();a.R6b=new (function(){this.Va=0;this.update=function(c){this.Va=Math.max(this.Va,c.t3a);};this.type="num";})();a.V6b=new (function(){this.bI=this.Va=0;this.update=function(c){this.bI++;this.Va=1 * (this.Va + c.rowIndex) / this.bI;};this.type="num";})();a.W6b=new (function(){this.bI=this.Va=0;this.update=function(c){this.bI++;return this.Va=1 * (this.Va + c.t3a) / this.bI;};this.type="num";})();a.Rbc=new (function(){this.type="num";})();a.Sbc=new (function(){this.type="num";})();l.prototype.GG=function(c){return this.j_a(this.W["0"].Glb(c),c);};l.prototype.j_a=function(c,f){return "string" == typeof c?this.j_a(this.W[c].Glb(f),f):c;};d.prototype.Glb=function(c){switch(this.R3b){case 0:switch(c.features[this.R2].type){case "cat":return null === c.features[this.R2].value?this.Agb:"missing" == c.features[this.R2].value?this.EAa:this.Drb;case "num":return null === c.features[this.R2].value?this.EAa:c.features[this.R2].value < this.split?this.Drb:this.Agb;default:return this.EAa;}case 1:return this.GG;default:return this.GG;}};b.declare({X_:["modelSelector","modelone"],nMb:["colEpisodeList",5],e1b:["holdDuration",15E3],qlb:["rowFirst",2],s3a:["colFirst",5],rlb:["rowScroll",2],u3a:["colScroll",6],mfc:["rowScrollHorizontal",6],Lfc:["searchTop",3],Y4a:["cwFirst",2],zZ:["horizontalItemsFocusedMode",3],T3b:["itemsPerRank",1],E6b:["maxNumberPayloadsStored",10],cfb:["maxNumberTitlesScheduled",5],ivc:["enableDetailedLogging",!0],dyc:["rowStep",20],tuc:["colStep",15],Cxc:["pageRows",100],Bxc:["pageColumns",75],Sza:["maskParamsList",new (function(){var c,f;this.Sza=[];this.en={};this.Mfa=20;this.G9=15;for(c=0;100 > c;c++){for(f=0;75 > f;f++){(Math.floor(c / this.Mfa) + "_" + Math.floor(f / this.G9) in this.en) || (this.en[Math.floor(c / this.Mfa) + "_" + Math.floor(f / this.G9)]=1,this.Sza.push(new h("grid",10,5,5,Math.floor(c / this.Mfa),Math.floor(f / this.G9))));}}})().Sza],W:["nodes",new l().W],mapping:["mapping",{R6b:"0",W6b:"1",Q6b:"2",V6b:"3",HIb:"4",rjc:"5",pjc:"6",qjc:"7",ojc:"8",Sbc:"9",Rbc:"10",I4b:"11",J4b:"12",L4b:"13",M4b:"14",K4b:"15",N4b:"16",O4b:"17",P4b:"18",Q4b:"19",R4b:"20",S4b:"21",T4b:"22",U4b:"23",V4b:"24",W4b:"25",X4b:"26",mdc:"27",ndc:"28",odc:"29",pdc:"30",qdc:"31",rdc:"32",sdc:"33",tdc:"34",udc:"35",vdc:"36",wdc:"37",xdc:"38",ydc:"39",zdc:"40",Adc:"41",Bdc:"42",Cdc:"43",Ddc:"44",Edc:"45",Fdc:"46",Gdc:"47",Hdc:"48",Idc:"49",eNb:"50",fNb:"51",gNb:"52",hNb:"53",iNb:"54",jNb:"55",kNb:"56",lNb:"57",mNb:"58",nNb:"59",oNb:"60",pNb:"61",qNb:"62",rNb:"63",sNb:"64",tNb:"65",uNb:"66",vNb:"67",wNb:"68",xNb:"69",yNb:"70",zNb:"71",ANb:"72",BNb:"73",CNb:"74",DNb:"75",ENb:"76",FNb:"77",GNb:"78",HNb:"79",INb:"80",JNb:"81",KNb:"82",LNb:"83",MNb:"84",NNb:"85",ONb:"86",PNb:"87",QNb:"88",RNb:"89",SNb:"90",TNb:"91",UNb:"92",VNb:"93",WNb:"94",XNb:"95",YNb:"96",ZNb:"97",$Nb:"98",aOb:"99",bOb:"100",cOb:"101",dOb:"102",eOb:"103",fOb:"104",gOb:"105",hOb:"106",iOb:"107",jOb:"108",kOb:"109",lOb:"110",mOb:"111",nOb:"112",oOb:"113",pOb:"114",qOb:"115",rOb:"116",sOb:"117",tOb:"118",uOb:"119",vOb:"120",wOb:"121",xOb:"122",yOb:"123",zOb:"124",AOb:"125",BOb:"126",COb:"127",DOb:"128",pnc:"129",jdc:"130",Shc:"131",zu:"132",VMb:"133",HWb:"134",Pkc:"135",Bkc:"136",yJb:"137",j8b:"138",klc:"139",hbc:"140",uJb:"141",xJb:"142",vJb:"143",g8b:"144"}],features:["features",a],qtc:["_modelName","tree"],ltc:["_format","xgboost"],ptc:["_itemsToKeep",5],otc:["_itemsThreshold",null],auc:["cacheLimit",20]});r.exports={config:b,Kwc:h,Cuc:d};},function(r,b,a){r.exports=a(607);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(608);a(609)();a(636)();mb._cad_global={};mb.DEBUG=!1;a(17);a(14);a(15);a(23);a(44);a(79);a(1450);a(601);a(59);a(61);a(22);a(70);a(58);a(1451);a(308);a(366);a(1452);a(580);a(1453);a(577);a(584);a(582);a(583);a(571);a(572);a(574);a(304);a(303);a(1454);a(19);a(590);a(1455);a(212);a(107);a(578);a(206);a(540);a(541);a(539);a(1456);a(1457);a(538);a(1458);a(530);a(306);a(528);a(305);a(570);a(1459);a(307);a(586);a(209);a(602);a(168);a(1460);a(140);a(1467);a(1468);a(1470);a(1472);a(585);a(64);a(581);a(507);a(579);a(588);a(1473);a(314);a(141);a(1474);a(1475);a(1476);a(1478);a(1479);a(575);},function(r,b,a){(function(d){var l;(function(h){var G,F,K,O,L,I,M,H,J;function n(N,P,X){var V;V=J.get(N);if(!V){if(!X)return;V=new M();J.set(N,V);}N=V.get(P);if(!N){if(!X)return;N=new M();V.set(P,N);}return N;}function c(N,P,X){if(f(N,P,X))return !0;P=u(P);return null !== P?c(N,P,X):!1;}function f(N,P,X){P=n(P,X,!1);return void 0 !== P && !!P.has(N);}function g(N,P,X){if(f(N,P,X))return k(N,P,X);P=u(P);return null !== P?g(N,P,X):void 0;}function k(N,P,X){P=n(P,X,!1);return void 0 === P?void 0:P.get(N);}function m(N,P){var X,S;X=p(N,P);N=u(N);if(null === N)return X;P=m(N,P);if(0 >= P.length)return X;if(0 >= X.length)return P;N=new H();for(var V=0;V < X.length;V++){S=X[V];N.add(S);}for(X=0;X < P.length;X++){S=P[X];N.add(S);}return z(N);}function p(N,P){var X;N=n(N,P,!1);X=[];N && x(N,function(V,S){return X.push(S);});return X;}function q(N){return void 0 === N;}function v(N){return Array.isArray?Array.isArray(N):N instanceof Array || "[object Array]" === Object.prototype.toString.call(N);}function t(N){return "object" === typeof N?null !== N:"function" === typeof N;}function w(N){return "symbol" === typeof N?N:String(N);}function u(N){var P,X;P=Object.getPrototypeOf(N);if("function" !== typeof N || N === I || P !== I)return P;X=N.prototype;X=X && Object.getPrototypeOf(X);if(null == X || X === Object.prototype)return P;X=X.constructor;return "function" !== typeof X || X === N?P:X;}function y(N){N=N.next();return N.done?void 0:N;}function x(N,P,X){var V,S,U;V=N.entries;if("function" === typeof V){V=V.call(N);try{for(;S=y(V);){U=S.value;P.call(X,U[1],U[0],N);}}finally{S && (N=V["return"]) && N.call(V);}}else (V=N.forEach,"function" === typeof V && V.call(N,P,X));}function z(N){var P;P=[];x(N,function(X,V){P.push(V);});return P;}function B(N,P,X){var V;V=0;return {next:function(){var S;if((N || P) && V < (N || P).length){S=V++;switch(X){case "key":return {value:N[S],done:!1};case "value":return {value:P[S],done:!1};case "key+value":return {value:[N[S],P[S]],done:!1};}}P=N=void 0;return {value:void 0,done:!0};},"throw":function(S){if(N || P)P=N=void 0;throw S;},"return":function(S){if(N || P)P=N=void 0;return {value:S,done:!0};}};}function A(){var N;N={};return (function(){function P(){this.Nf=[];this.og=[];this.Jx=N;this.qv=-2;}Object.defineProperty(P.prototype,"size",{get:function(){return this.Nf.length;},enumerable:!0,configurable:!0});P.prototype.has=function(X){return 0 <= this.CA(X,!1);};P.prototype.get=function(X){X=this.CA(X,!1);return 0 <= X?this.og[X]:void 0;};P.prototype.set=function(X,V){X=this.CA(X,!0);this.og[X]=V;return this;};P.prototype.delete=function(X){var V;V=this.CA(X,!1);if(0 <= V){X=this.Nf.length;for(V+=1;V < X;V++){this.Nf[V - 1]=this.Nf[V];this.og[V - 1]=this.og[V];}this.Nf.length--;this.og.length--;this.Jx=N;this.qv=-2;return !0;}return !1;};P.prototype.clear=function(){this.Nf.length=0;this.og.length=0;this.Jx=N;this.qv=-2;};P.prototype.keys=function(){return B(this.Nf,void 0,"key");};P.prototype.values=function(){return B(void 0,this.og,"value");};P.prototype.entries=function(){return B(this.Nf,this.og,"key+value");};P.prototype.CA=function(X,V){var S;if(this.Jx === X)return this.qv;S=this.Nf.indexOf(X);0 > S && V && (S=this.Nf.length,this.Nf.push(X),this.og.push(void 0));return (this.Jx=X,this.qv=S);};return P;})();}function C(){return (function(){function N(){this.Kg=new M();}Object.defineProperty(N.prototype,"size",{get:function(){return this.Kg.size;},enumerable:!0,configurable:!0});N.prototype.has=function(P){return this.Kg.has(P);};N.prototype.add=function(P){return (this.Kg.set(P,P),this);};N.prototype.delete=function(P){return this.Kg.delete(P);};N.prototype.clear=function(){this.Kg.clear();};N.prototype.keys=function(){return this.Kg.keys();};N.prototype.values=function(){return this.Kg.values();};N.prototype.entries=function(){return this.Kg.entries();};return N;})();}function D(){var V,S;function N(U,ha){for(var qa=0;qa < ha;++qa){U[qa]=255 * Math.random() | 0;}return U;}function P(){var U,xa;do {U="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):N(new Uint8Array(16),16):N(Array(16),16);U[6]=U[6] & 79 | 64;U[8]=U[8] & 191 | 128;for(var ha="",qa=0;16 > qa;++qa){xa=U[qa];if(4 === qa || 6 === qa || 8 === qa)ha+="-";16 > xa && (ha+="0");ha+=xa.toString(16).toLowerCase();}U="@@WeakMap@@" + ha;}while(L.has(V,U));V[U]=!0;return U;}function X(U,ha){if(!G.call(U,S)){if(!ha)return;Object.defineProperty(U,S,{value:O()});}return U[S];}V=O();S=P();return (function(){function U(){this.zv=P();}U.prototype.has=function(ha){ha=X(ha,!1);return void 0 !== ha?L.has(ha,this.zv):!1;};U.prototype.get=function(ha){ha=X(ha,!1);return void 0 !== ha?L.get(ha,this.zv):void 0;};U.prototype.set=function(ha,qa){X(ha,!0)[this.zv]=qa;return this;};U.prototype.delete=function(ha){ha=X(ha,!1);return void 0 !== ha?delete ha[this.zv]:!1;};U.prototype.clear=function(){this.zv=P();};return U;})();}function E(N){N.htc=1;delete N.itc;return N;}G=Object.prototype.hasOwnProperty;F="function" === typeof Object.create;K=(function(){var P;function N(){}P={};N.prototype=P;return new N().__proto__ === P;})();O=F?function(){return E(Object.create(null));}:K?function(){return E({__proto__:null});}:function(){return E({});};(function(N){var P;P=!F && !K;N.has=P?function(X,V){return G.call(X,V);}:function(X,V){return (V in X);};N.get=P?function(X,V){return G.call(X,V)?X[V]:void 0;}:function(X,V){return X[V];};})(L || (L={}));I=Object.getPrototypeOf(Function);M="function" === typeof Map?Map:A();H="function" === typeof Set?Set:C();J=new ("function" === typeof WeakMap?WeakMap:D())();h.SE=function(N,P,X,V){var U;if(q(V)){if(q(X)){if(!v(N))throw new TypeError();if("function" !== typeof P)throw new TypeError();for(X=N.length - 1;0 <= X;--X){if((V=(0,N[X])(P),!q(V))){if("function" !== typeof V)throw new TypeError();P=V;}}return P;}if(!v(N))throw new TypeError();if(!t(P))throw new TypeError();X=w(X);for(V=N.length - 1;0 <= V;--V){(0,N[V])(P,X);}}else {if(!v(N))throw new TypeError();if(!t(P))throw new TypeError();if(q(X))throw new TypeError();if(!t(V))throw new TypeError();X=w(X);for(var S=N.length - 1;0 <= S;--S){U=(0,N[S])(P,X,V);if(!q(U)){if(!t(U))throw new TypeError();V=U;}}return V;}};h.jd=function(N,P){return function(X,V){if(q(V)){if("function" !== typeof X)throw new TypeError();n(X,void 0,!0).set(N,P);}else {if(!t(X))throw new TypeError();V=w(V);n(X,V,!0).set(N,P);}};};h.m$=function(N,P,X,V){if(!t(X))throw new TypeError();q(V) || (V=w(V));n(X,V,!0).set(N,P);};h.C0b=function(N,P){var X;if(!t(P))throw new TypeError();q(X) || (X=w(X));return c(N,P,X);};h.Swa=function(N,P){var X;if(!t(P))throw new TypeError();q(X) || (X=w(X));return f(N,P,X);};h.getMetadata=function(N,P,X){if(!t(P))throw new TypeError();q(X) || (X=w(X));return g(N,P,X);};h.x$a=function(N,P,X){if(!t(P))throw new TypeError();q(X) || (X=w(X));return k(N,P,X);};h.Lvc=function(N,P){if(!t(N))throw new TypeError();q(P) || (P=w(P));return m(N,P);};h.Nvc=function(N,P){if(!t(N))throw new TypeError();q(P) || (P=w(P));return p(N,P);};h.Puc=function(N,P,X){var V;if(!t(P))throw new TypeError();q(X) || (X=w(X));V=n(P,X,!1);if(q(V) || !V.delete(N))return !1;if(0 < V.size)return !0;N=J.get(P);N.delete(X);if(0 < N.size)return !0;J.delete(P);return !0;};(function(N){if("undefined" !== typeof N.Reflect){if(N.Reflect !== h)for(var P in h){G.call(h,P) && (N.Reflect[P]=h[P]);}}else N.Reflect=h;})("undefined" !== typeof mb?mb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof d?d:Function("return this;")());})(l || (l={}));}).call(this,a(213));},function(r,b,a){var d,l;d=a(317);l=a(613);r.exports=function(){var h;h=l();d(Array.prototype,{includes:h},{includes:function(){return Array.prototype.includes !== h;}});return h;};},function(r,b,a){var d,l,h,n,c;d=Array.prototype.slice;l=a(318);h=Object.keys;n=h?function(f){return h(f);}:a(611);c=Object.keys;n.Byc=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return l(f)?c(d.call(f)):c(f);}):Object.keys=n;return Object.keys || n;};r.exports=n;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;if(!Object.keys){d=Object.prototype.hasOwnProperty;l=Object.prototype.toString;h=a(318);b=Object.prototype.propertyIsEnumerable;n=!b.call({toString:null},"toString");c=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");g=function(q){var v;v=q.constructor;return v && v.prototype === q;};k={Lnc:!0,Mnc:!0,Nnc:!0,Onc:!0,Pnc:!0,Qnc:!0,Rnc:!0,Snc:!0,Tnc:!0,Unc:!0,Vnc:!0,Wnc:!0,Xnc:!0,Ync:!0,Znc:!0,$nc:!0,aoc:!0,boc:!0,coc:!0,doc:!0,eoc:!0,foc:!0,goc:!0};m=(function(){if("undefined" === typeof mb)return !1;for(var q in mb){try{if(!k["$" + q] && d.call(mb,q) && null !== mb[q] && "object" === typeof mb[q])try{g(mb[q]);}catch(v){return !0;}}catch(v){return !0;}}return !1;})();p=function(q){var v,t,w,u,y,z;v=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);w=h(q);u=v && "[object String]" === l.call(q);y=[];if(!v && !t && !w)throw new TypeError("Object.keys called on a non-object");v=c && t;if(u && 0 < q.length && !d.call(q,0))for(u=0;u < q.length;++u){y.push(String(u));}if(w && 0 < q.length)for(w=0;w < q.length;++w){y.push(String(w));}else for(var x in q){v && "prototype" === x || !d.call(q,x) || y.push(String(x));}if(n){if("undefined" !== typeof mb && m)try{z=g(q);}catch(B){z=!1;}else z=g(q);for(w=0;w < f.length;++w){z && "constructor" === f[w] || !d.call(q,f[w]) || y.push(f[w]);}}return y;};}r.exports=p;},function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(d){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var h=b.call(arguments,1),n,c=Math.max(0,l.length - h.length),f=[],g=0;g < c;g++){f.push("$" + g);}n=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var k;if(this instanceof n){k=l.apply(this,h.concat(b.call(arguments)));return Object(k) === k?k:this;}return l.apply(d,h.concat(b.call(arguments)));});l.prototype && (c=function(){},c.prototype=l.prototype,n.prototype=new c(),c.prototype=null);return n;};},function(r,b,a){var d;d=a(614);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:d;};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;d=a(322);l=a(629);h=a(631);n=a(634);c=a(142);f=a(324);b=a(40);g=a(122);k=a(635);m=g("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(v){var t,w,u;t=1 < arguments.length?d(arguments[1]):0;if(p && !c(v) && f(t) && "undefined" !== typeof v)return -1 < p.apply(this,arguments);w=h(this);u=l(w.length);if(0 === u)return !1;for(t=0 <= t?t:q(0,u + t);t < u;){if(n(v,k(w)?m(w,t):w[t]))return !0;t+=1;}return !1;};},function(r,b,a){var d;d=a(40)("%Math.abs%");r.exports=function(l){return d(l);};},function(r,b,a){var d,l;d=a(97);l=Math.floor;r.exports=function(h){return "BigInt" === d(h)?h:l(h);};},function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w;d=a(40);l=d("%TypeError%");h=d("%Number%");b=d("%RegExp%");n=d("%parseInt%");d=a(122);c=a(620);f=a(622);g=d("String.prototype.slice");k=c(/^0b[01]+$/i);m=c(/^0o[0-7]+$/i);p=c(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=c(b);v=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=d("String.prototype.replace");w=a(623);r.exports=function x(y){var z;y=f(y)?y:w(y,h);if("symbol" === typeof y)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(k(y))return x(n(g(y,2),2));if(m(y))return x(n(g(y,2),8));if(q(y) || p(y))return NaN;z=t(y,v,"");if(z !== y)return x(z);}return h(y);};},function(r,b,a){var l,h,n,c,f,g,k;function d(){return c(l,h,arguments);}l=a(214);b=a(40);h=b("%Function.prototype.apply%");n=b("%Function.prototype.call%");c=b("%Reflect.apply%",!0) || l.call(n,h);f=b("%Object.getOwnPropertyDescriptor%",!0);g=b("%Object.defineProperty%",!0);k=b("%Math.max%");if(g)try{g({},"a",{value:1});}catch(m){g=null;}r.exports=function(m){var p;p=c(l,n,arguments);f && g && f(p,"length").configurable && g(p,"length",{value:1 + k(0,m.length - (arguments.length - 1))});return p;};g?g(r.exports,"apply",{value:d}):r.exports.apply=d;},function(r,b,a){var d,l,h,n;b=a(122);d=a(40);l=a(621);h=b("RegExp.prototype.exec");n=d("%TypeError%");r.exports=function(c){if(!l(c))throw new n("`regex` must be a RegExp");return function(f){return null !== h(c,f);};};},function(r,b,a){var d,l,h,n,c,f,g;b=a(122);if(a=a(215)()){d=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");h={};n=function(){throw h;};c={toString:n,valueOf:n};"symbol" === typeof Symbol.toPrimitive && (c[Symbol.toPrimitive]=n);}f=b("Object.prototype.toString");g=Object.getOwnPropertyDescriptor;r.exports=a?function(k){var m;if(!k || "object" !== typeof k)return !1;m=g(k,"lastIndex");if(!m || !d(m,"value"))return !1;try{l(k,c);}catch(p){return p === h;}}:function(k){return !k || "object" !== typeof k && "function" !== typeof k?!1:"[object RegExp]" === f(k);};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var d;d=a(624);r.exports=function(l){return 1 < arguments.length?d(l,arguments[1]):d(l);};},function(r,b,a){var d,l,h,n,c;d="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(625);h=a(323);n=a(626);c=a(627);r.exports=function(f){var g,k,m;if(l(f))return f;g="default";1 < arguments.length && (arguments[1] === String?g="string":arguments[1] === Number && (g="number"));if(d)if(Symbol.toPrimitive){k=Symbol.toPrimitive;m=f[k];if(null !== m && "undefined" !== typeof m){if(!h(m))throw new TypeError(m + " returned for property " + k + " of object " + f + " is not a function");k=m;}else k=void 0;}else c(f) && (k=Symbol.prototype.valueOf);if("undefined" !== typeof k){g=k.call(f,g);if(l(g))return g;throw new TypeError("unable to convert exotic object to primitive");}"default" === g && (n(f) || c(f)) && (g="string");a:{g="default" === g?"number":g;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof g || "number" !== g && "string" !== g)throw new TypeError('hint must be "string" or "number"');g="string" === g?["toString","valueOf"]:["valueOf","toString"];for(k=0;k < g.length;++k){if((m=f[g[k]],h(m) && (m=m.call(f),l(m))))break a;}throw new TypeError("No default value");}return m;};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var d,l,h;d=Date.prototype.getDay;l=Object.prototype.toString;h=a(215)();r.exports=function(n){if("object" !== typeof n || null === n)n=!1;else if(h)try{d.call(n);n=!0;}catch(c){n=!1;}else n="[object Date]" === l.call(n);return n;};},function(r,b,a){var d,l,h;d=Object.prototype.toString;if(a(320)()){l=Symbol.prototype.toString;h=/^Symbol\(.*\)$/;r.exports=function(n){if("symbol" === typeof n)return !0;if("[object Symbol]" !== d.call(n))return !1;try{return "symbol" !== typeof n.valueOf()?!1:h.test(l.call(n));}catch(c){return !1;}};}else r.exports=function(){return !1;};},function(r){r.exports=function(b){return 0 <= b?1:-1;};},function(r,b,a){var d,l;d=a(630);l=a(322);r.exports=function(h){h=l(h);return 0 >= h?0:h > d?d:h;};},function(r,b,a){a=a(40);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},function(r,b,a){var d,l;d=a(40)("%Object%");l=a(632);r.exports=function(h){l(h);return d(h);};},function(r,b,a){r.exports=a(633);},function(r,b,a){var d;d=a(40)("%TypeError%");r.exports=function(l,h){if(null == l)throw new d(h || "Cannot call method on " + l);return l;};},function(r,b,a){var d;d=a(142);r.exports=function(l,h){return l === h || d(l) && d(h);};},function(r,b,a){var d,l,h;d=String.prototype.valueOf;l=Object.prototype.toString;h=a(215)();r.exports=function(n){if("string" === typeof n)n=!0;else if("object" !== typeof n)n=!1;else if(h)try{d.call(n);n=!0;}catch(c){n=!1;}else n="[object String]" === l.call(n);return n;};},function(r,b,a){var d,l,h;d=a(216);l=a(637);h=a(317);r.exports=function(){var n;d();n=l();h(Promise.prototype,{"finally":n},{"finally":function(){return Promise.prototype["finally"] !== n;}});return n;};},function(r,b,a){var d,l;d=a(216);l=a(638);r.exports=function(){d();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},function(r,b,a){var c,f,g,k;function d(m){var p,q,v;if("Object" !== g(this))throw new TypeError("receiver is not an Object");p=f(this,k);q=m;v=m;c(m) && (q=h(p,m),v=l(p,m));return this.then(q,v);}function l(m,p){return function(q){var v;v=p();return n(m,v).then(function(){throw q;});};}function h(m,p){return function(q){var v;v=p();return n(m,v).then(function(){return q;});};}function n(m,p){return new m(function(q){q(p);});}a(216)();c=a(325);f=a(639);g=a(97);k=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(d,"name")) && b.configurable && Object.defineProperty(d,"name",{configurable:!0,value:"finally"});r.exports=d;},function(r,b,a){var d,l,h,n;b=a(40);d=b("%Symbol.species%",!0);l=b("%TypeError%");h=a(640);n=a(97);r.exports=function(c,f){if("Object" !== n(c))throw new l("Assertion failed: Type(O) is not Object");c=c.constructor;if("undefined" === typeof c)return f;if("Object" !== n(c))throw new l("O.constructor is not an Object");c=d?c[d]:void 0;if(null == c)return f;if(h(c))return c;throw new l("no constructor found");};},function(r,b,a){var d,l,h;d=a(641)("%Reflect.construct%",!0);b=a(642);try{b({},"",{"[[Get]]":function(){}});}catch(n){b=null;}if(b && d){l={};h={};b(h,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(n){try{d(n,h);}catch(c){return c === l;}};}else r.exports=function(n){return "function" === typeof n && !!n.prototype;};},function(r,b,a){r.exports=a(40);},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;d=a(40)("%TypeError%");l=a(643);h=a(644);n=a(646);c=a(649);f=a(650);g=a(651);k=a(652);m=a(653);p=a(97);r.exports=function(q,v,t){if("Object" !== p(q))throw new d("Assertion failed: Type(O) is not Object");if(!g(v))throw new d("Assertion failed: IsPropertyKey(P) is not true");t=l({IWa:p,zOa:f,yOa:c},t)?t:m(t);if(!l({IWa:p,zOa:f,yOa:c},t))throw new d("Assertion failed: Desc is not a valid Property Descriptor");return h(f,k,n,q,v,t);};},function(r,b,a){var d,l;b=a(40);d=a(108);l=b("%TypeError%");r.exports=function(h,n){var c,f;if("Object" !== h.IWa(n))return !1;c={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in n){if(d(n,f) && !c[f])return !1;}if(h.zOa(n) && h.yOa(n))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},function(r,b,a){var d,l,h,n,c;b=a(319);d=a(40);l=b() && d("%Object.defineProperty%",!0);h=b.s0b();n=h && a(645);c=a(122)("Object.prototype.propertyIsEnumerable");r.exports=function(f,g,k,m,p,q){if(!l){if(!f(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in m) && c(m,p) !== !!q["[[Enumerable]]"])return !1;f=q["[[Value]]"];m[p]=f;return g(m[p],f);}if(h && "length" === p && ("[[Value]]" in q) && n(m) && m.length !== q["[[Value]]"])return (m.length=q["[[Value]]"],m.length === q["[[Value]]"]);l(m,p,k(q));return !0;};},function(r,b,a){var d;b=a(40)("%Array%");d=!b.isArray && a(122)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === d(l);});},function(r,b,a){var d,l,h;d=a(217);l=a(648);h=a(97);r.exports=function(n){"undefined" !== typeof n && d(h,"Property Descriptor","Desc",n);return l(n);};},function(r,b,a){var d;d=a(108);r.exports=function(l){return d(l,"[[StartIndex]]") && d(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},function(r,b,a){var d,l,h;d=a(108);l=a(217);h=a(97);r.exports=function(n){if("undefined" === typeof n)return !1;l(h,"Property Descriptor","Desc",n);return d(n,"[[Get]]") || d(n,"[[Set]]")?!0:!1;};},function(r,b,a){var d,l,h;d=a(108);l=a(217);h=a(97);r.exports=function(n){if("undefined" === typeof n)return !1;l(h,"Property Descriptor","Desc",n);return d(n,"[[Value]]") || d(n,"[[Writable]]")?!0:!1;};},function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},function(r,b,a){var d;d=a(142);r.exports=function(l,h){return l === h?0 === l?1 / l === 1 / h:!0:d(l) && d(h);};},function(r,b,a){var d,l,h,n,c;d=a(108);l=a(40)("%TypeError%");h=a(97);n=a(654);c=a(325);r.exports=function(f){var g,k;if("Object" !== h(f))throw new l("ToPropertyDescriptor requires an object");g={};d(f,"enumerable") && (g["[[Enumerable]]"]=n(f.enumerable));d(f,"configurable") && (g["[[Configurable]]"]=n(f.configurable));d(f,"value") && (g["[[Value]]"]=f.value);d(f,"writable") && (g["[[Writable]]"]=n(f.writable));if(d(f,"get")){k=f.get;if("undefined" !== typeof k && !c(k))throw new l("getter must be a function");g["[[Get]]"]=k;}if(d(f,"set")){f=f.set;if("undefined" !== typeof f && !c(f))throw new l("setter must be a function");g["[[Set]]"]=f;}if((d(g,"[[Get]]") || d(g,"[[Set]]")) && (d(g,"[[Value]]") || d(g,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return g;};},function(r){r.exports=function(b){return !!b;};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v;d=this && this.__awaiter || (function(t,w,u,y){return new (u || (u=Promise))(function(x,z){function B(D){try{C(y.next(D));}catch(E){z(E);}}function A(D){try{C(y["throw"](D));}catch(E){z(E);}}function C(D){D.done?x(D.value):new u(function(E){E(D.value);}).then(B,A);}C((y=y.apply(t,w || [])).next());});});l=this && this.__generator || (function(t,w){var x,z,B,A,C;function u(D){return function(E){return y([D,E]);};}function y(D){if(z)throw new TypeError("Generator is already executing.");for(;x;){try{if((z=1,B && (A=B[D[0] & 2?"return":D[0]?"throw":"next"]) && !(A=A.call(B,D[1])).done))return A;if((B=0,A))D=[0,A.value];switch(D[0]){case 0:case 1:A=D;break;case 4:return (x.label++,{value:D[1],done:!1});case 5:x.label++;B=D[1];D=[0];continue;case 7:D=x.aL.pop();x.Mp.pop();continue;default:if(!(A=x.Mp,A=0 < A.length && A[A.length - 1]) && (6 === D[0] || 2 === D[0])){x=0;continue;}if(3 === D[0] && (!A || D[1] > A[0] && D[1] < A[3]))x.label=D[1];else if(6 === D[0] && x.label < A[1])(x.label=A[1],A=D);else if(A && x.label < A[2])(x.label=A[2],x.aL.push(D));else {A[2] && x.aL.pop();x.Mp.pop();continue;}}D=w.call(t,x);}catch(E){D=[6,E];B=0;}finally{z=A=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}x={label:0,ub:function(){if(A[0] & 1)throw A[1];return A[1];},Mp:[],aL:[]};return (C={next:u(0),"throw":u(1),"return":u(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});h=a(656);n=a(55);c=a(80);a(41);f=a(326);g=a(657);k=a(664);m=a(666);p=a(109);q=a(143);a(669);v=a(670);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + n.ytb);if(void 0 === w.rJ)w.rJ=c.cv.j6;else if(w.rJ !== c.cv.bma && w.rJ !== c.cv.j6 && w.rJ !== c.cv.Request)throw Error("" + n.wtb);if(void 0 === w.XW)w.XW=!1;else if("boolean" !== typeof w.XW)throw Error("" + n.vtb);if(void 0 === w.PL)w.PL=!1;else if("boolean" !== typeof w.PL)throw Error("" + n.xtb);this.options={XW:w.XW,rJ:w.rJ,PL:w.PL};this.id=p.id();this.$H=new v.Kwb();this.sFb=[];this.parent=this.eoa=null;this.bDb=new f.Ika();}t.prototype.load=function(){var x,z;for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}u=this.sYa();for(var y=0;y < w.length;y++){x=w[y];z=u(x.id);x.uDa(z.K1a,z.Bpb,z.$cb,z.$jb);}};t.prototype.s_=function(){for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}d(this,void 0,void 0,function(){var y,x,z,B,A;return l(this,function(C){switch(C.label){case 0:(y=this.sYa(),x=0,z=w,C.label=1);case 1:if(!(x < z.length))return [3,4];B=z[x];A=y(B.id);return [4,B.uDa(A.K1a,A.Bpb,A.$cb,A.$jb)];case 2:(C.ub(),C.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.Gpb=function(){function w(z){return function(B){return B.Xfb === z;};}for(var u=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(z){z=w(z.id);u.$H.Ydc(z);});};t.prototype.bind=function(w){var u;u=new h.Ksb(w,this.options.rJ || c.cv.j6);this.$H.add(w,u);return new m.Msb(u);};t.prototype.fdc=function(w){this.Apb(w);return this.bind(w);};t.prototype.Apb=function(w){try{this.$H.remove(w);}catch(u){throw Error(n.gtb + " " + q.dQ(w));}};t.prototype.icb=function(w){var u;u=this.$H.Eab(w);!u && this.parent && (u=this.parent.icb(w));return u;};t.prototype.restore=function(){var w;w=this.sFb.pop();if(void 0 === w)throw Error(n.xxb);this.$H=w.$W;this.eoa=w.s7b;};t.prototype.MOb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.rYa(!1,!1,c.sA.tma,w);};t.prototype.getAll=function(w){return this.rYa(!0,!0,c.sA.tma,w);};t.prototype.resolve=function(w){var u;u=this.MOb();u.bind(w).Xob();return u.get(w);};t.prototype.sYa=function(){var z;function w(B){return function(A){A=z.fdc.bind(z)(A);A.Lc.Xfb=B;return A;};}function u(){return function(B){return z.icb.bind(z)(B);};}function y(){return function(B){z.Apb.bind(z)(B);};}function x(B){return function(A){A=z.bind.bind(z)(A);A.Lc.Xfb=B;return A;};}z=this;return function(B){return {K1a:x(B),$cb:u(B),$jb:w(B),Bpb:y(B)};};};t.prototype.rYa=function(w,u,y,x){var z;z=null;w={jJb:w,UMb:function(B){return B;},q3b:u,key:void 0,Lh:x,Ljc:y,value:void 0};if(this.eoa){if((z=this.eoa(w),void 0 === z || null === z))throw Error(n.pwb);}else z=this.qEb()(w);return z;};t.prototype.qEb=function(){var w;w=this;return function(u){var y;y=g.CR(w.bDb,w,u.q3b,u.Ljc,u.Lh,u.key,u.value,u.jJb);y=u.UMb(y);return k.resolve(y);};};return t;})();b.H3=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(80);l=a(109);r=(function(){function h(n,c){this.id=l.id();this.epa=!1;this.Lh=n;this.scope=c;this.type=d.Mk.Bwb;this.lJ=function(){return !0;};this.qP=this.az=this.KC=this.JP=this.cache=this.ao=null;}h.prototype.clone=function(){var n;n=new h(this.Lh,this.scope);n.epa=!1;n.ao=this.ao;n.qP=this.qP;n.scope=this.scope;n.type=this.type;n.JP=this.JP;n.KC=this.KC;n.lJ=this.lJ;n.az=this.az;n.cache=this.cache;return n;};return h;})();b.Ksb=r;},function(r,b,a){var c,f,g,k,m,p,q,v,t,w,u,y;function d(x,z,B,A,C){var D,E;D=n(B.xb,C.Lh);E=[];D.length === c.Iia.jRa && B.xb.options.XW && "function" === typeof C.Lh && x.h9a(C.Lh).D3a && (B.xb.bind(C.Lh).Xob(),D=n(B.xb,C.Lh));E=z?D:D.filter(function(G){var F;F=new u.Request(G.Lh,B,A,G,C);return G.lJ(F);});l(C.Lh,E,C,B.xb);return E;}function l(x,z,B,A){switch(z.length){case c.Iia.jRa:if(B.Bcb())return z;x=p.dQ(x);z=f.vxb;z+=p.H4b(x,B);z+=p.Udb(A,x,n);throw Error(z);case c.Iia.Lxb:if(!B.isArray())return z;default:if(B.isArray())return z;x=p.dQ(x);z=f.Hrb + " " + x;z+=p.Udb(A,x,n);throw Error(z);}}function h(x,z,B,A,C,D){var E;if(null === C){z=d(x,z,A,null,D);E=new u.Request(B,A,null,z,D);B=new t.Myb(A,E);A.dHb(B);}else (z=d(x,z,A,C,D),E=C.Y_a(D.Lh,z,D));z.forEach(function(G){var F,K,O;F=null;if(D.isArray())F=E.Y_a(G.Lh,G,D);else {if(G.cache)return;F=E;}if(G.type === g.Mk.Instance && null !== G.ao){K=w.GXb(x,G.ao);if(!A.xb.options.PL){O=w.bXb(x,G.ao);if(K.length < O)throw (G=f.Jrb(w.getFunctionName(G.ao)),Error(G));}K.forEach(function(L){h(x,!1,L.Lh,A,F,L);});}});}function n(x,z){var B,A;B=[];A=x.$H;A.Eab(z)?B=A.get(z):null !== x.parent && (B=n(x.parent,z));return B;}Object.defineProperty(b,"__esModule",{value:!0});c=a(658);f=a(55);g=a(80);k=a(41);m=a(327);p=a(143);q=a(659);v=a(68);t=a(660);w=a(661);u=a(663);y=a(329);b.Gvc=function(x){return x.$H;};b.CR=function(x,z,B,A,C,D,E,G){void 0 === G && (G=!1);z=new q.zKa(z);B=new v.Metadata(B?k.CH:k.hU,C);A=new y.h6(A,"",C,B);void 0 !== D && (D=new v.Metadata(D,E),A.jd.push(D));try{return (h(x,G,C,z,null,A),z);}catch(F){throw (m.Ocb(F) && z.CR && p.LLb(z.CR.cEa),F);}};b.xuc=function(x,z,B,A){B=new y.h6(g.sA.tma,"",z,new v.Metadata(B,A));x=new q.zKa(x);return new u.Request(z,x,null,[],B);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iia={Uqc:2,jRa:0,Lxb:1};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(109);r=(function(){function l(h){this.id=d.id();this.xb=h;}l.prototype.dHb=function(h){this.CR=h;};return l;})();b.zKa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Myb=(function(){return function(a,d){this.wR=a;this.cEa=d;};})();},function(r,b,a){var c,f,g,k,m,p;function d(q,v,t,w){var u,y,x,z,A,C,D,E,G,F,K,O;u=q.h9a(t);y=u.D3a;if(void 0 === y)throw Error(f.Vwb + " " + v + ".");u=u.Amc;x=Object.keys(u);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var B=0;B < z;B++){A=B;C=w;D=v;E=y;G=u[A.toString()] || [];F=n(G);K=!0 !== F.Np;E=E[A];O=F.l || F.TK;E=O?O:E;E instanceof c.ika && (E=E.tlc());if(K){K=E === Function;K=E === Object || K || void 0 === E;if(!C && K)throw Error(f.Wwb + " argument " + A + " in class " + D + ".");A=new p.h6(g.sA.wKa,F.r2,E);A.jd=G;G=A;}else G=null;null !== G && x.push(G);}q=l(q,t);return x.concat(q);}function l(q,v){var x,z,B;for(var t=q.JZb(v),w=[],u=0,y=Object.keys(t);u < y.length;u++){x=y[u];z=t[x];B=n(t[x]);x=new p.h6(g.sA.kKa,B.r2 || x,B.l || B.TK);x.jd=z;w.push(x);}v=Object.getPrototypeOf(v.prototype).constructor;v !== Object && (q=l(q,v),w=w.concat(q));return w;}function h(q,v){var t,w;v=Object.getPrototypeOf(v.prototype).constructor;if(v !== Object){t=m.getFunctionName(v);t=d(q,t,v,!0);w=t.map(function(u){return u.jd.filter(function(y){return y.key === k.YU;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:h(q,v);}return 0;}function n(q){var v;v={};q.forEach(function(t){v[t.key.toString()]=t.value;});return {l:v[k.hU],TK:v[k.CH],r2:v[k.o5],Np:v[k.YU]};}Object.defineProperty(b,"__esModule",{value:!0});c=a(328);f=a(55);g=a(80);k=a(41);m=a(143);b.getFunctionName=m.getFunctionName;p=a(329);b.GXb=function(q,v){var t;t=m.getFunctionName(v);return d(q,t,v,!1);};b.bXb=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(d){this.HS=d;}a.prototype.startsWith=function(d){return 0 === this.HS.indexOf(d);};a.prototype.endsWith=function(d){var l;l=d.split("").reverse().join("");d=this.HS.split("").reverse().join("");return this.startsWith.call({HS:d},l);};a.prototype.contains=function(d){return -1 !== this.HS.indexOf(d);};a.prototype.equals=function(d){return this.HS === d;};a.prototype.value=function(){return this.HS;};return a;})();b.Xyb=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(109);r=(function(){function l(h,n,c,f,g){this.id=d.id();this.Lh=h;this.wR=n;this.CC=c;this.target=g;this.tra=[];this.$W=Array.isArray(f)?f:[f];this.Fec=null === c?new Map():null;}l.prototype.Y_a=function(h,n,c){h=new l(h,this.wR,this,n,c);this.tra.push(h);return h;};return l;})();b.Request=r;},function(r,b,a){var h,n,c,f,g;function d(k){return function(m){var p,q,v,t,w;p=m.$W;q=m.tra;v=m.target && m.target.isArray();t=!m.CC || !m.CC.target || !m.target || !m.CC.target.s6b(m.target.Lh);if(v && t)return q.map(function(u){return d(k)(u);});v=null;if(!m.target.Bcb() || 0 !== p.length){w=p[0];p=w.scope === n.cv.bma;t=w.scope === n.cv.Request;if(p && w.epa)return w.cache;if(t && null !== k && k.has(w.id))return k.get(w.id);if(w.type === n.Mk.uKa)v=w.cache;else if(w.type === n.Mk.Function)v=w.cache;else if(w.type === n.Mk.vKa)v=w.ao;else if(w.type === n.Mk.HLa && null !== w.qP)v=l("toDynamicValue",w.Lh,function(){return w.qP(m.wR);});else if(w.type === n.Mk.Dja && null !== w.JP)v=l("toFactory",w.Lh,function(){return w.JP(m.wR);});else if(w.type === n.Mk.rUa && null !== w.KC)v=l("toProvider",w.Lh,function(){return w.KC(m.wR);});else if(w.type === n.Mk.Instance && null !== w.ao)v=g.Uec(w.ao,q,d(k));else throw (q=f.dQ(m.Lh),Error(h.lwb + " " + q));"function" === typeof w.az && (v=w.az(m.wR,v));p && (w.cache=v,w.epa=!0);t && null !== k && !k.has(w.id) && k.set(w.id,v);return v;}};}function l(k,m,p){try{return p();}catch(q){if(c.Ocb(q))throw Error(h.ktb(k,m.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});h=a(55);n=a(80);c=a(327);f=a(143);g=a(665);b.resolve=function(k){return d(k.CR.cEa.Fec)(k.CR.cEa);};},function(r,b,a){var h,n,c;function d(f,g,k){var m;g=g.filter(function(p){return null !== p.target && p.target.type === n.sA.kKa;});m=g.map(k);g.forEach(function(p,q){p=p.target.name.value();f[p]=m[q];});return f;}function l(f,g){var k;if(Reflect.C0b(c.JU,f)){k=Reflect.getMetadata(c.JU,f);try{g[k.value]();}catch(m){throw Error(h.Fyb(f.name,m.message));}}}Object.defineProperty(b,"__esModule",{value:!0});h=a(55);n=a(80);c=a(41);b.Uec=function(f,g,k){var m;m=null;0 < g.length?(m=g.filter(function(p){return null !== p.target && p.target.type === n.sA.wKa;}).map(k),m=new (f.bind.apply(f,[void 0].concat(m)))(),m=d(m,g,k)):m=new f();l(f,m);return m;};},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(55);l=a(80);h=a(667);n=a(330);r=(function(){function c(f){this.Lc=f;}c.prototype.to=function(f){this.Lc.type=l.Mk.Instance;this.Lc.ao=f;return new h.lJa(this.Lc);};c.prototype.Xob=function(){if("function" !== typeof this.Lc.Lh)throw Error("" + d.rwb);this.to(this.Lc.Lh);};c.prototype.pn=function(f){this.Lc.type=l.Mk.uKa;this.Lc.cache=f;this.Lc.qP=null;this.Lc.ao=null;new n.jH(this.Lc);};c.prototype.XG=function(f){this.Lc.type=l.Mk.HLa;this.Lc.cache=null;this.Lc.qP=f;this.Lc.ao=null;return new h.lJa(this.Lc);};c.prototype.vkc=function(f){this.Lc.type=l.Mk.vKa;this.Lc.ao=f;new n.jH(this.Lc);};c.prototype.Te=function(f){this.Lc.type=l.Mk.Dja;this.Lc.JP=f;new n.jH(this.Lc);};c.prototype.wkc=function(f){if("function" !== typeof f)throw Error(d.owb);this.pn(f);this.Lc.type=l.Mk.Function;};c.prototype.Vob=function(f){this.Lc.type=l.Mk.Dja;this.Lc.JP=function(g){return function(){return g.xb.get(f);};};new n.jH(this.Lc);};c.prototype.A2=function(f){this.Lc.type=l.Mk.rUa;this.Lc.KC=f;new n.jH(this.Lc);};c.prototype.ykc=function(f){this.XG(function(g){return g.xb.get(f);});};return c;})();b.Msb=r;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(668);l=a(220);h=a(221);r=(function(){function n(c){this.Lc=c;this.fV=new h.Jia(this.Lc);this.Jma=new l.z3(this.Lc);this.HXa=new d.Lsb(c);}n.prototype.la=function(){return this.HXa.la();};n.prototype.txa=function(){return this.HXa.txa();};n.prototype.when=function(c){return this.fV.when(c);};n.prototype.d3=function(){return this.fV.d3();};n.prototype.az=function(c){return this.Jma.az(c);};return n;})();b.lJa=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(80);l=a(330);r=(function(){function h(n){this.Lc=n;}h.prototype.la=function(){this.Lc.scope=d.cv.bma;return new l.jH(this.Lc);};h.prototype.txa=function(){this.Lc.scope=d.cv.j6;return new l.jH(this.Lc);};return h;})();b.Lsb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gpc=(function(){function a(){}a.of=function(d,l){var h;h=new a();h.$W=d;h.s7b=l;return h;};return a;})();},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(55);r=(function(){function l(){this.Kg=new Map();}l.prototype.add=function(h,n){var c;if(null === h || void 0 === h)throw Error(d.EU);if(null === n || void 0 === n)throw Error(d.EU);c=this.Kg.get(h);void 0 !== c?(c.push(n),this.Kg.set(h,c)):this.Kg.set(h,[n]);};l.prototype.get=function(h){if(null === h || void 0 === h)throw Error(d.EU);h=this.Kg.get(h);if(void 0 !== h)return h;throw Error(d.DOa);};l.prototype.remove=function(h){if(null === h || void 0 === h)throw Error(d.EU);if(!this.Kg.delete(h))throw Error(d.DOa);};l.prototype.Ydc=function(h){var n;n=this;this.Kg.forEach(function(c,f){c=c.filter(function(g){return !h(g);});0 < c.length?n.Kg.set(f,c):n.Kg.delete(f);});};l.prototype.Eab=function(h){if(null === h || void 0 === h)throw Error(d.EU);return this.Kg.has(h);};l.prototype.clone=function(){var h;h=new l();this.Kg.forEach(function(n,c){n.forEach(function(f){return h.add(c,f.clone());});});return h;};return l;})();b.Kwb=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(109);b.Kd=(function(){return function(l){this.id=d.id();this.uDa=l;};})();b.XIa=(function(){return function(l){this.id=d.id();this.uDa=l;};})();},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(55);l=a(41);b.$=function(){return function(h){var n;if(Reflect.Swa(l.Vka,h))throw Error(d.Eub);n=Reflect.getMetadata(l.aub,h) || [];Reflect.m$(l.Vka,n,h);return h;};};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(68);l=a(98);b.qob=function(h,n){return function(c,f,g){var k;k=new d.Metadata(h,n);"number" === typeof g?l.XL(c,f,g,k):l.q2(c,f,k);};};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(41);l=a(68);h=a(98);b.lgb=function(n){return function(c,f,g){var k;k=new l.Metadata(d.FD,n);"number" === typeof g?h.XL(c,f,g,k):h.q2(c,f,k);};};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(41);l=a(68);h=a(98);b.optional=function(){return function(n,c,f){var g;g=new l.Metadata(d.uRa,!0);"number" === typeof f?h.XL(n,c,f,g):h.q2(n,c,g);};};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(41);l=a(68);h=a(98);b.Np=function(){return function(n,c,f){var g;g=new l.Metadata(d.YU,!0);h.XL(n,c,f,g);};};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(41);l=a(68);h=a(98);b.TK=function(n){return function(c,f,g){var k;k=new l.Metadata(d.CH,n);"number" === typeof g?h.XL(c,f,g,k):h.q2(c,f,k);};};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(41);l=a(68);h=a(98);b.r2=function(n){return function(c,f,g){var k;k=new l.Metadata(d.o5,n);h.XL(c,f,g,k);};};},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(55);l=a(41);h=a(68);b.Tib=function(){return function(n,c){c=new h.Metadata(l.JU,c);if(Reflect.Swa(l.JU,n.constructor))throw Error(d.ixb);Reflect.m$(l.JU,c,n.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hgb=function(a){return function(d){return function(){for(var l=[],h=0;h < arguments.length;h++){l[h]=arguments[h];}return l.forEach(function(n){return a.bind(n).ykc(d);});};};};},function(r,b,a){var c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C;function d(){}function l(D){this.Hd=D;}function h(D){var E;E=k.pla.call(this) || this;D.yQ?Object.assign(E,(0,y.P9a)(D)):D.ica?Object.assign(E,(0,u.B9a)(D)):D.lya?Object.assign(E,(0,w.u$a)()):D.cC || D.TZ?Object.assign(E,(0,t.s9a)()):D.ZZ?Object.assign(E,(0,y.N$a)(D)):Object.assign(E,(0,v.c9a)(D));return E;}function n(D){this.data=D.ica?(0,u.D9a)(D):D.lya?(0,w.w$a)(D):D.cC || D.TZ?(0,t.u9a)(D):D.ZZ?(0,y.P$a)(D):(0,v.e9a)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.ctb=b.btb=b.atb=b.$sb=void 0;r=a(0);c=a(1);f=a(45);g=a(110);k=a(682);m=a(170);p=a(333);q=a(222);v=a(683);t=a(713);w=a(714);u=a(715);y=a(716);x=a(717);z=a(718);Va.Object.defineProperties(n.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Ida:{configurable:!0,enumerable:!0,get:function(){return this.data.Ida;}},Qt:{configurable:!0,enumerable:!0,get:function(){return this.data.Qt;}},Aq:{configurable:!0,enumerable:!0,get:function(){return this.data.Aq;}},PP:{configurable:!0,enumerable:!0,get:function(){return this.data.PP;}},UE:{configurable:!0,enumerable:!0,get:function(){return this.data.UE;}},Xsa:{configurable:!0,enumerable:!0,get:function(){return this.data.Xsa;}},r5a:{configurable:!0,enumerable:!0,get:function(){return this.data.r5a;}},uza:{configurable:!0,enumerable:!0,get:function(){return this.data.uza;}},PX:{configurable:!0,enumerable:!0,get:function(){return this.data.PX;}},Hqb:{configurable:!0,enumerable:!0,get:function(){return this.data.Hqb;}},z8:{configurable:!0,enumerable:!0,get:function(){return this.data.z8;}}});B=n;B=r.__decorate([(0,c.$)(),r.__param(0,(0,c.l)(m.lH))],B);b.$sb=B;la(h,k.pla);A=h;A=r.__decorate([(0,c.$)(),r.__param(0,(0,c.l)(m.lH))],A);b.atb=A;l.prototype.apply=function(){this.Hd.ica?Object.assign(this,(0,u.C9a)(this.Hd)):this.Hd.lya?Object.assign(this,(0,w.v$a)(this.Hd)):this.Hd.cC || this.Hd.TZ?Object.assign(this,(0,t.t9a)(this.Hd)):this.Hd.ZZ?Object.assign(this,(0,y.O$a)(this.Hd)):Object.assign(this,(0,v.d9a)(this.Hd));return this;};C=l;C=r.__decorate([(0,c.$)(),r.__param(0,(0,c.l)(m.lH))],C);b.btb=C;d=r.__decorate([(0,c.$)()],d);b.ctb=d;b.platform=new c.Kd(function(D){D(f.Vp).to(B).la();D(g.KH).to(A).la();D(p.WSa).to(C).la();D(f.F5).to(d).la();D(q.qla).Te(function(E){return function(){var G;G=E.xb.get(m.lH);return G.cC || G.TZ?{oc:function(F,K,O){return new z.yma(F,K,O);},request:x.pXa}:G.ZZ?{oc:function(F,K,O){return new (a(719))(F,K,O);},request:a(720)}:{};};});});},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.pla=void 0;d=a(5);l=a(52);h=a(42);n={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.pla=function(){this.MEa=!0;this.TI=[];this.Do=[];this.hu=[];this.uP=!1;this.xta=!0;this.ax=[h.xn.bja,h.xn.pzb,h.xn.VM,h.xn.NNa];this.co=void 0;this.Gta=!0;this.G$=!1;this.M8=(0,l.ha)(288E4);this.Q8=(0,l.ha)(335544320);this.mC=(0,d.Vb)(15E3);this.A6b=(0,l.ha)(6291456);this.MQ=1E3;this.Zqa=!0;this.aha=n;this.RS=(0,l.ha)(0);this.oQ=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.Lca=["th"];this.eha=(0,d.Vb)(0);this.DZ=!0;this.xha=!1;this.xP=this.mAa=this.vaa=!0;this.oM=this.$E=this.py=!1;this.mJ=["start"];this.Tga=!1;};},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.d9a=b.c9a=b.e9a=void 0;d=a(26);l=a(42);h=a(123);n=a(144);b.e9a=function(c){return Object.assign(Object.assign({},(0,n.SP)()),{Qt:c.Scb?"T":c.SZ?"C":"M",Aq:c.Scb?"NFCDTS-01-":c.Ny?"NFCDCH-02-":c.tK?"NFCDCH-MC-":c.SZ?"NFCDCH-01-":c.aca?"NFCDCH-AP-":c.QZ?"NFCDCH-AT-":c.yQ?"NFCDCH-PH-":"NFCDCH-LX-",UE:c.SZ?"chromeos-cadmium":"chrome-cadmium"});};b.c9a=function(c){var f,g,k,m,p;f=(0,n.RP)();g=Object.assign(Object.assign({},f),{uP:!0,py:!0,$E:!0,oM:!0});k=[l.I.q4,l.I.o4,l.I.aV];m=[l.I.p4];if(c.Ny){p={minimumCores:5};g.Do=[].concat(ia((0,h.h0).apply(null,[f.Do].concat(ia(k)))),ia((0,h.Yi)([l.I.pD,l.I.qD].concat(ia(k),[l.I.uT,l.I.vT]),p)));g.hu=[].concat(ia((0,h.h0).apply(null,[f.hu].concat(ia(m)))),ia((0,h.Yi)([].concat(ia(m)),p)));}c.tK && (p={minimumCores:3},g.Do=[].concat(ia((0,h.h0).apply(null,[f.Do].concat(ia(k)))),ia((0,h.Yi)([l.I.pD,l.I.qD],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]})),ia((0,h.Yi)(k,p))),g.hu=[].concat(ia((0,h.h0).apply(null,[f.hu].concat(ia(m)))),ia((0,h.Yi)([].concat(ia(m)),p))));c.SZ && (g.Do=(0,h.Yi)([].concat(ia(l.Rd.D3),ia(l.Rd.n3),ia(l.Rd.Yha),ia(l.Rd.Sia),ia(l.Rd.Tia),ia(l.Rd.Pia),ia(l.Rd.Qia))),g.hu=(0,h.Yi)([].concat(ia(l.Rd.m3),ia(l.Rd.Ria),ia(l.Rd.Oia))));return g;};b.d9a=function(c){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:d.zn.AM,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= c.sq && (f=Object.assign(Object.assign({},f),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));c.QZ && (f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL1:!0}));c.SZ && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= c.sq && (f=Object.assign(Object.assign({},f),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= c.sq && c.Ny && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0}));if(c.Ny || c.tK)f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL3:!0});c.Ny && 99 <= c.sq && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var d;b=a(124);d=a(685);a=b(function(l,h,n){return d(function(c,f,g){return l(f,g);},h,n);});r.exports=a;},function(r,b,a){var d,l;b=a(124);d=a(334);l=a(686);a=b(function g(n,c,f){return l(function(k,m,p){return d(m) && d(p)?g(n,m,p):n(k,m,p);},c,f);});r.exports=a;},function(r,b,a){var d;b=a(124);d=a(223);a=b(function(l,h,n){var c,f;c={};for(f in h){d(f,h) && (c[f]=d(f,n)?l(f,h[f],n[f]):h[f]);}for(f in n){d(f,n) && !d(f,c) && (c[f]=n[f]);}return c;});r.exports=a;},function(r,b,a){var d;b=a(335);d=a(696);a=a(706);a=d([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var d=0,l=a.length,h=[];d < l;){b(a[d]) && (h[h.length]=a[d]);d+=1;}return h;};},function(r,b,a){var d,l;b=a(125);d=a(337);l=a(691);a=b(function(h){return d(h)?!0:!h || "object" !== typeof h || l(h)?!1:1 === h.nodeType?!!h.length:0 === h.length?!0:0 < h.length?h.hasOwnProperty(0) && h.hasOwnProperty(h.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(d){this.f=d;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(d){return d;};a.prototype["@@transducer/step"]=function(d,l){return this.f(d,l);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var d;d=a(225);b=a(53)(function(l,h){return d(l.length,function(){return l.apply(h,arguments);});});r.exports=b;},function(r,b,a){var d,l;b=a(53);d=a(338);l=(function(){function h(n,c){this.i3=c;this.f=n;}h.prototype["@@transducer/init"]=d.oa;h.prototype["@@transducer/result"]=d.result;h.prototype["@@transducer/step"]=function(n,c){return this.f(c)?this.i3["@@transducer/step"](n,c):n;};return h;})();a=b(function(h,n){return new l(h,n);});r.exports=a;},function(r,b,a){var d,l;d=a(223);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(h){return "[object Arguments]" === l.call(h);}:function(h){return d("callee",h);};};},function(r,b,a){var d;b=a(125);d=a(697);a=b(function(l){return d(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},function(r,b,a){var d,l,h,n,c;b=a(53);d=a(340);l=a(341);h=a(699);n=a(700);c=a(705);a=b(function(f,g){return l(c(h,0,n("length",g)),function(){var k,m;k=arguments;m=this;return f.apply(m,d(function(p){return p.apply(m,k);},g));});});r.exports=a;},function(r,b,a){var l,h;function d(n,c,f){return function(){var q;for(var g=[],k=0,m=n,p=0;p < c.length || k < arguments.length;){if(p < c.length && (!h(c[p]) || k >= arguments.length))q=c[p];else (q=arguments[k],k+=1);g[p]=q;h(q) || --m;p+=1;}return 0 >= m?f.apply(this,g):l(m,d(n,g,f));};}l=a(225);h=a(171);r.exports=d;},function(r,b,a){b=a(53)(function(d,l){return l > d?l:d;});r.exports=b;},function(r,b,a){var d,l;b=a(53);d=a(701);l=a(703);a=b(function(h,n){return d(l(h),n);});r.exports=a;},function(r,b,a){var d,l,h,n,c,f;b=a(53);d=a(336);l=a(340);h=a(224);n=a(702);c=a(341);f=a(339);a=b(d(["fantasy-land/map","map"],n,function(g,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return c(k.length,function(){return g.call(this,k.apply(this,arguments));});case "[object Object]":return h(function(m,p){m[p]=g(k[p]);return m;},{},f(k));default:return l(g,k);}}));r.exports=a;},function(r,b,a){var d,l;b=a(53);d=a(338);l=(function(){function h(n,c){this.i3=c;this.f=n;}h.prototype["@@transducer/init"]=d.oa;h.prototype["@@transducer/result"]=d.result;h.prototype["@@transducer/step"]=function(n,c){return this.i3["@@transducer/step"](n,this.f(c));};return h;})();a=b(function(h,n){return new l(h,n);});r.exports=a;},function(r,b,a){var d;b=a(53);d=a(704);a=b(function(l,h){return d([l],h);});r.exports=a;},function(r,b,a){b=a(53)(function(d,l){for(var h=0;h < d.length;){if(null == l)return;l=l[d[h]];h+=1;}return l;});r.exports=b;},function(r,b,a){b=a(124);a=a(224);a=b(a);r.exports=a;},function(r,b,a){var d,l;d=a(707);b=a(53);l=a(335);a=b(function(h,n){return l(d(h),n);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var d,l;d=a(709);b=a(124);l=a(710);a=b(function(h,n,c){return l(h,d(n,c));});r.exports=a;},function(r){r.exports=function(b,a){var d,l,h,n;b=b || [];a=a || [];l=b.length;h=a.length;n=[];for(d=0;d < l;){n[n.length]=b[d];d+=1;}for(d=0;d < h;){n[n.length]=a[d];d+=1;}return n;};},function(r,b,a){var d;d=a(342);b=a(53)(function(l,h){for(var n=0,c=h.length,f=[],g;n < c;){g=h[n];d(l,g,f) || (f[f.length]=g);n+=1;}return f;});r.exports=b;},function(r,b,a){b=a(53)(function(d,l){for(var h=[],n=0,c=l.length;n < c;){for(var f=n + 1;f < c && d(l[f - 1],l[f]);){f+=1;}h.push(l.slice(n,f));n=f;}return h;});r.exports=b;},function(r,b,a){var d;d=a(342);b=a(124)(function(l,h,n){for(var c=[],f=0,g=h.length;f < g;){d(l,h[f],n) || d(l,h[f],c) || c.push(h[f]);f+=1;}return c;});r.exports=b;},function(r,b,a){var l,h,n,c,f,g;function d(){var k,m,p;p=null === (k=mb.MSMediaKeys) || void 0 === k?void 0:k.isTypeSupported(h.Ab.xe,f.de.wAa);k=p || (null === (m=mb.MSMediaKeys) || void 0 === m?void 0:m.isTypeSupported(h.Ab.LH,f.de.wAa));return {Fcb:p,Ecb:k};}Object.defineProperty(b,"__esModule",{value:!0});b.t9a=b.SXb=b.s9a=b.u9a=void 0;l=a(26);h=a(73);n=a(42);c=a(144);f=a(127);g=a(123);b.u9a=function(k){return Object.assign(Object.assign({},(0,c.SP)()),{Qt:k.cC?"D":"H",Aq:k.cC?k.tK?"NFCDIE-04-":k.l3b?"NFCDIE-LX-":k.aca?"NFCDIE-AP-":k.QZ?"NFCDIE-AT-":k.yQ?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",UE:"edge-cadmium",z8:!1});};b.s9a=function(){var k,m,p;k=Object.assign(Object.assign({},(0,c.RP)()),{TI:(0,g.Yi)([n.oe.sH,n.oe.tH,n.oe.QT,n.oe.RT]),Do:(0,g.Yi)([].concat(ia(n.Rd.D3),ia(n.Rd.n3),ia(n.Rd.Yha),ia(n.Rd.Sia),ia(n.Rd.Tia),ia(n.Rd.Pia),ia(n.Rd.Qia),ia(n.Rd.KJa),ia(n.Rd.LJa),ia(n.Rd.MJa))),hu:(0,g.Yi)([].concat(ia(n.Rd.m3),ia(n.Rd.Ria),ia(n.Rd.Oia))),co:void 0,DZ:!1});m=d();p=m.Fcb;m.Ecb || (k.py=!0,k.$E=!0,k.oM=!0);k.mJ=p?[]:["start"];return k;};b.SXb=d;b.t9a=function(k){var m,p,q,v,t,w,u;m=k.TZ;p=k.cC;q=k.Ny;v=d();t=v.Ecb;w=v.Fcb;v={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.lx.fA,videoCapabilityDetectorType:l.zn.fA,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!t || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:l.lx.Tz,videoCapabilityDetectorType:l.zn.AM,microsoftScreenSizeFilterEnabled:!1,keySystemList:[h.Ab.t6],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,g.Yi)([n.oe.sH,n.oe.tH]),videoProfiles:(0,g.Yi)([n.I.qH,n.I.rH,n.I.k4,n.I.m4]),liveVideoProfiles:(0,g.Yi)([n.I.l4,n.I.n4]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};m && (14 <= k.sq && (v=Object.assign(Object.assign(Object.assign({},v),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= k.sq && (v=Object.assign(Object.assign({},v),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= k.sq && (v=Object.assign(Object.assign({},v),{microsoftHwdrmRequiresHevc:!1})),17 <= k.sq && (v=Object.assign(Object.assign({},v),{enableDDPlusAtmos:!0})));p && (v=Object.assign(Object.assign(Object.assign({},v),w),{useEncryptedEvent:!1}),q && (v=Object.assign(Object.assign({},v),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(v=Object.assign(Object.assign({},v),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[h.Ab.rla,h.Ab.cTa]}),94 === k.sq && (v=Object.assign(Object.assign({},v),{enableHWDRM:!1})),102 <= k.sq && (v=Object.assign(Object.assign({},v),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):v=Object.assign(Object.assign({},v),u));return v;};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.v$a=b.u$a=b.w$a=void 0;d=a(26);l=a(144);b.w$a=function(h){return Object.assign(Object.assign({},(0,l.SP)()),{Qt:"O",Aq:h.aca?"NFCDOP-AP-":h.QZ?"NFCDOP-AT-":h.yQ?"NFCDOP-PH-":"NFCDOP-01-",UE:"opera-cadmium"});};b.u$a=function(){return Object.assign(Object.assign({},(0,l.RP)()),{uP:!0,py:!0,$E:!0,oM:!0});};b.v$a=function(h){var n;n={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:d.zn.AM,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= h.sq && (n=Object.assign(Object.assign({},n),{enableVP9:!0}));return n;};},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.C9a=b.B9a=b.D9a=void 0;d=a(26);l=a(42);h=a(123);n=a(144);b.D9a=function(c){return Object.assign(Object.assign({},(0,n.SP)()),{Qt:"F",Aq:c.tK?"NFCDFF-MC-":c.Ny?"NFCDFF-02-":c.aca?"NFCDFF-AP-":c.QZ?"NFCDFF-AT-":c.yQ?"NFCDFF-PH-":"NFCDFF-LX-",UE:"firefox-cadmium"});};b.B9a=function(c){var f,g;f=(0,n.RP)();g=Object.assign(Object.assign({},f),{uP:!0,py:!0,$E:!0,oM:!0});c.Ny && (g.Do=[].concat(ia(f.Do),ia((0,h.Yi)([l.I.pD,l.I.qD],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));c.tK && (g.Do=[].concat(ia(f.Do),ia((0,h.Yi)([l.I.pD,l.I.qD],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return g;};b.C9a=function(c){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:d.zn.AM,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(c.Ny || c.tK) && 95 <= c.sq && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var l,h,n,c,f,g;function d(k){var m;m=Object.assign(Object.assign({},(0,g.RP)()),{TI:(0,f.Yi)([c.oe.sH,c.oe.tH,c.oe.vA]),Do:(0,f.Yi)([].concat(ia(c.Rd.D3),ia(c.Rd.n3),ia(c.Rd.Sia),ia(c.Rd.Tia),ia(c.Rd.Pia),ia(c.Rd.Qia),ia(c.Rd.KJa),ia(c.Rd.LJa),ia(c.Rd.MJa))),hu:(0,f.Yi)([].concat(ia(c.Rd.m3),ia(c.Rd.Ria),ia(c.Rd.Oia))),co:n.Ab.tvb,mC:(0,l.Vb)(7E3),mJ:[]});(0,g.RZ)(k,14) && (m.mJ=["start"]);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.O$a=b.N$a=b.P9a=b.P$a=void 0;l=a(5);h=a(26);n=a(73);c=a(42);f=a(123);g=a(144);b.P$a=function(k){return Object.assign(Object.assign({},(0,g.SP)()),{Qt:"S",Aq:k.yQ?"NFCDSF-PH-":"NFCDSF-01-",UE:"safari-cadmium"});};b.P9a=function(k){return Object.assign(Object.assign({},d(k)),{xha:!0,xP:!1,ax:[c.xn.q6]});};b.N$a=d;b.O$a=function(k){var m;m={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:h.zn.Tz,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,g.RZ)(k,14) && (m=Object.assign(Object.assign({},m),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,g.WZ)(k,10,12,2) && (m=Object.assign(Object.assign({},m),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,g.WZ)(k,10,13,6) && (m=Object.assign(Object.assign({},m),{enableLdlPrefetch:!0}));(0,g.WZ)(k,10,15,5) && (m=Object.assign(Object.assign({},m),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,g.WZ)(k,10,15,6) && (m=Object.assign(Object.assign({},m),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,g.RZ)(k,9) && (m=Object.assign(Object.assign({},m),{maxDecoderBufferMilliseconds:31E3}));(0,g.RZ)(k,16) && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));return m;};},function(r,b,a){var l;function d(h,n,c,f){this.log=h;this.$J=n;this.PC=c;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.pXa=void 0;l=a(4);d.prototype.oi=function(h){var n;n=this;(this.context.gg || this.context.$l) && this.log.trace("Requesting license",{drmType:h.ip});return this.$J(h).catch(function(c){n.log.error("Unable to get the Playready license",c);if(n.context.qzc)throw c;throw {ja:!1,code:l.aa.NM,xc:c.xc,yd:c.yd,jp:c.jp,ml:c.message || c.ml,eF:c.data,message:"Unable to send the Playready license request. " + (c.message || c.ml)};});};d.prototype.release=function(h){var n;n=this;this.log.trace("Requesting stop data");return this.PC(h).catch(function(c){n.log.error("Unable to release the PlayReady license ",{code:c.code,subCode:c.xc,extCode:c.yd,edgeCode:c.jp,message:c.message || c.ml});throw {ja:!1,code:l.aa.Ola,xc:c.xc,yd:c.yd,jp:c.jp,ml:c.message || c.ml,message:"Unable to release the PlayReady license. " + (c.message || c.ml)};});};b.pXa=d;mb._cad_global.WindowsDrmRequests=d;},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.yma=void 0;d=a(4);l=a(219);h=a(226);n=a(32);c=a(83);f=a(30);g=a(26);k=a(56);(function(){var z;function m(B,A,C){var D;D=this;this.log=B;this.Bp=A || x.bind(this);this.context=C;this.D0=this.challenge=this.keySystem=this.keySessionId=this.Nb=this.mediaKeys=void 0;this.Bd={};this.dza=this.QFa=!1;this.m0=t.bind(this);this.D0=void 0;this.yHa=new Promise(function(E,G){D.WDa=E;D.vDa=G;});this.yHa.catch(function(E){D.log.error("wait for license rejected",E);});l.vc.get(g.Uz).Jaa().then(function(E){(D.context.gg || D.context.$l) && D.log.debug("DRIVERINFO: ",E);}).catch(function(E){D.log.error("DRIVERINFO",E);});this.xs=function(E,G){D.vDa(E,G);D.context.onerror(E,G);};this.pBa=function(){D.WDa();};if(!(this instanceof m))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.vc.get(f.Fi);}function q(){return l.vc.get(n.Ii);}function v(B){var A,C;A=l.vc.get(h.ima);C="";B.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});B='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";A=new Uint8Array(A.Vnb(B));(this.context.gg || this.context.$l) && this.log.trace("LICENSE: proactive license cdm data",{xml:B,b64:p().encode(A)});return A;}function t(B){var A;A=B.target.error?B.target.error.msExtendedCode:void 0;this.log.error("Received " + B.type + " event",{sessionId:this.Nb.sessionId,systemCode:A});if(this.context.onerror)this.context.onerror(z.$g.Zs,z.PD.ev,A);this.Nb=void 0;}function w(B,A,C){var E,G,F;for(var D=2;D < arguments.length;++D){;}D="";G=B.length;for(E=0;E < G;E++){F=B[E];0 < F && (D+=String.fromCharCode(F));}G="\\s*(.*)\\s*";for(E=arguments.length - 1;0 < E;E--){F=arguments[E];if(0 > D.search(F))return;F="(?:[^:].*:|)" + F;G="[\\s\\S]*<" + F + "[^>]*>" + G + "</" + F + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function u(B,A,C,D){var E,G;E=B.target && B.target.sessionId;G=p().decode(w(B.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + B.type + " event",{keySystem:B.target && B.target.keySystem,sessionId:E});(C.context.gg || C.context.$l || C.context.lD) && C.log.debug("LICENSE: License challenge",p().encode(G));C.keySessionId=E;B={yg:A,messageType:"license-request",ip:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",fl:[{data:G,sessionId:E}]};12 === C.state && (C.Bp("lc"),G={data:G,ip:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.gL || (C.D0=G));C.context.jn.oi(B).then(function(F){if(12 === C.state && (C.Bp("lr"),C.pBa(),!C.context.gL))(C.E0=F.yk[0].data,C.state=13,D({ja:!0,state:C.state}));else if(C.Nb)return y(C,F.yk[0].data,C.Nb).then(function(){C.state=30;D({ja:!0,state:C.state});});}).catch(function(F){D(q().bG(F,{state:C.state}));});}function y(B,A,C){B.fca() && B.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(A)});return new Promise(function(D,E){try{B.Nb.update(A);D(void 0);B.fca() && B.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){E({ja:!1,code:z.$g.B5,message:"Unable to update the EME.",Tb:q().sf(G)});}});}function x(B){this.context.za && (this.Bd[B]=this.context.za.getTime(),this.log.trace("Milestone: " + B + ", " + this.Bd[B]));}z={$g:d.aa,PD:d.Y};m.prototype.WP=function(){return this.keySystem;};m.prototype.cqb=function(B,A){B.log && (this.log=B.log);B.Bp && (this.Bp=B.Bp);A.jn && (this.context.jn=A.jn);A.onerror && (this.context.onerror=A.onerror);};m.prototype.create=function(B){var A;A=this;return (B?Promise.resolve(B):l.vc.get(g.Uz).ZJ()).then(function(C){A.Bp("lg");A.log.trace("Creating the media keys",{keySystem:C});A.keySystem=C;if(A.context.W0)C=Promise.reject({ja:!1,code:z.$g.VT,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{A.mediaKeys=new mb.MSMediaKeys(C);}catch(D){C=Promise.reject({ja:!1,code:z.$g.LRa,message:"create MSMediaKeys(" + C + ") failed",Tb:q().sf(D)});break a;}try{A.context.ea && A.context.ea.msSetMediaKeys(A.mediaKeys);}catch(D){C=Promise.reject({ja:!1,code:z.$g.ZM,message:"set MSMediaKeys failed",Tb:q().sf(D)});break a;}C=Promise.resolve({ja:!0,mediaKeys:A.mediaKeys});}return C;});};m.prototype.close=function(){this.mediaKeys=void 0;this.context.ea=void 0;if(this.Nb){this.log.info("Closing the session",{sessionId:this.Nb.sessionId});this.Nb.removeEventListener("mskeyerror",this.m0);try{this.Nb.close();}catch(B){this.log.error("Failed to close the key sessions",B);}this.Nb=void 0;}};m.prototype.oi=function(B,A,C){var D;if(1 < A.length)return Promise.reject({code:z.$g.PRa});if(0 === A.length)return Promise.reject({code:z.$g.ORa});A=A[0];D=this;D.context.gg && D.log.trace("LICENSE: Setting license");return D.context.W0?Promise.reject({ja:!1,code:z.$g.OLa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(E,G){var F,K,O,L,I,M,H;try{K=function(J){D.Nb && (D.Nb.removeEventListener("mskeymessage",L),D.Nb.removeEventListener("mskeyadded",I),D.Nb.removeEventListener("mskeyerror",M),D.Nb.addEventListener("mskeyerror",D.m0));J.state=11;J.ja?E(J):(D.close(),G(J));};O=function(J){var N,P;N=[];P=Array.prototype.map.call(J,function(V){return V?String.fromCharCode(V):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(P)N.push(P[1]);else {J=w(J,"KIDS");P=/VALUE="(.+?)">/g;for(var X=P.exec(J);null != X;){N.push(X[1]);X=P.exec(J);}}return N;};L=function(J){F && clearTimeout(F);u(J,B,D,K);};I=function(J){(D.context.gg || D.context.$l) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});K({ja:!0});};M=function(J){var N,P;F && clearTimeout(F);if(J.target && J.target.error)(N=J.target.error.systemCode,P=J.target.error.code);N={code:z.$g.Zs,xc:z.PD.ev,yd:N?l.vc.get(c.Pz).QJ(N,4):P,details:q().sf(J),cause:J.target && J.target.error,Vga:N,Q$:P};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Nb && D.Nb.sessionId,keySystem:J.target.keySystem,systemCode:N.Vga,code:N.Q$});D.Bp("le");D.xs && D.xs(z.$g.Zs,N);K({ja:!1,code:z.$g.Zs,xc:z.PD.ev,yd:N.yd,message:"Received a key error.",Tb:N.details,cause:N.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.gg || D.context.$l) && D.log.debug("LICENSE: PSSH",p().encode(A));D.Oy || (D.Oy=O(A));if(C){H=v.call(D,D.Oy);D.Nb=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),H);}else D.Nb=D.mediaKeys.createSession("video/mp4",A,null);(D.context.gg || D.context.$l) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Nb.keySystem,sessionId:D.Nb.sessionId});D.Nb.addEventListener("mskeymessage",L);D.Nb.addEventListener("mskeyadded",I);D.Nb.addEventListener("mskeyerror",M);D.context.aza && (F=setTimeout(function(){K({ja:!1,code:z.$g.IU,xc:z.PD.hvb});},D.context.aza));}catch(J){G({code:z.$g.IU,xc:z.PD.un});}});})();};m.prototype.sL=function(){var B;(this.context.gg || this.context.$l) && this.log.trace("LICENSE: Renewing license");B=[new Uint8Array(0)];return this.oi(k.Go.gka.Xp,B,!0);};m.prototype.J8=function(B){this.E0 || this.log.error("pending license must exist at this point");this.context.gL=!0;try{B && (this.context.ea=B,this.context.ea.msSetMediaKeys(this.mediaKeys));}catch(A){return Promise.reject({ja:!1,code:z.$g.ZM,message:"setMediaKeys failed",Tb:q().sf(A)});}return y(this,this.E0,this.Nb);};m.prototype.k7a=function(B){var A,C;A=this;A.log.trace("Releasing the license of current session",JSON.stringify(B));C={sa:B.sa,cf:B.cf};return new Promise(function(D,E){(function(){A.context.jn.release.call(A.context.jn,C).then(function(){var G;A.log.trace("successfully released the license",JSON.stringify(B));G={ja:!0};A.close();G.ja?D(G):E(G);}).catch(function(G){A.log.error("Unable to release the license",{sessionId:A.keySessionId,code:G.code,subCode:G.xc,extCode:G.yd,edgeCode:G.jp,message:G.ml});A.close();G.ja?D(G):E(G);});})();});};m.prototype.fca=function(){return this.context.gg || this.context.$l;};b.yma=m;mb._cad_global.WindowsEmeSession=b.yma;})();},function(r,b,a){var u,y,x,z,B,A,C,D,E,G,F,K;function d(O,L,I){var M;M=this;this.log=O;this.Bp=L || w.bind(this);this.context=I;this.D0=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.Bd={};this.Tq=void 0;this.url="";this.dza=this.QFa=!1;this.m0=k.bind(this);this.pm=this.D0=void 0;this.yHa=new Promise(function(H,J){M.WDa=H;M.vDa=J;});this.xs=function(H,J){M.vDa(H,J);M.context.onerror(H,J);};this.pBa=function(){M.WDa();};if(!(this instanceof d))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return u.Ga.get(B.dt);}function h(){return u.Ga.get(z.Fi);}function n(){return u.Ga.get(y.Ii);}function c(O){return (/com.apple.fps/).test(O) && !(/com.apple.fps.2_0/).test(O);}function f(O){var L;O=(function(I){var H,J;function M(N,P,X,V){var S,U;S=new Uint8Array("piff" == P?88:72);U=new G.TT(S);U.oD(12);U.nD("frma");U.nD(N);U.oD(20);U.nD("schm");U.h3(0);U.h3(0);U.nD(P);U.oD(X);"piff" == P?(U.oD(56),U.nD("schi"),U.oD(48),U.nD("uuid"),U.g3([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(U.oD(40),U.nD("schi"),U.oD(32),U.nD("tenc"));U.h3(0);U.h3(0);U.oD(264);U.g3(V);return S;}H=M("avc1","piff",65537,I);H=l().decode(h().encode(H));I=M("avc1",F.ox,65536,I);I=l().decode(h().encode(I));J=new Uint8Array(7 + H.length + 8 + I.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(H,7);J.set([34,44,10,32,32,32,32,34],7 + H.length);J.set(I,7 + H.length + 8);J.set([34,10,32,32,93],7 + H.length + 8 + I.length);return J;})(O);L=new Uint8Array(13 + O.length + 2);L.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);L.set(O,13);L.set([10,125],13 + O.length);return L;}function g(O){var L;O=O.subarray(14,30);O=String.fromCharCode.apply(null,O);O=h().decode(O);O=O.subarray(4);L=new Uint8Array(16);L.set(O);return L;}function k(O){var L;L=m(O);this.log.error("LICENSE Error: Received event: " + O.type,{sessionId:this.Nb?this.Nb.sessionId:void 0,keySystem:O.target.keySystem,systemCode:L.Vga,code:L.Q$});this.xs && this.xs(K.$g.Zs,L);this.Nb=void 0;}function m(O){var L,I;if(O.target.error)(L=O.target.error.systemCode,I=O.target.error.code);return {code:K.$g.Zs,xc:K.PD.ev,yd:L?u.Ga.get(x.Pz).QJ(L,4):I,details:n().sf(O),cause:O.target.error,Vga:L,Q$:I};}function p(O,L,I,M){var H,J,N;H=O.target.sessionId;J=O.message;N=n().LE(J,l().decode("certificate"));I.dza=L === E.Go.gka.Rp;I.state=N?2:12;I.log.trace("LICENSE: Received event: " + O.type,{keySystem:O.target.keySystem,sessionId:H});(I.context.gg || I.context.$l || I.context.lD) && I.log.debug("LICENSE: License challenge",h().encode(J));I.keySessionId=H;O={Pq:I.Pq,yg:L,messageType:"license-request",ip:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",fl:[{data:J,sessionId:H}]};12 === I.state && (I.Bp("lc"),J={data:J,ip:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.gL || (I.D0=J));I.context.jn.oi(O).then(function(P){if(12 === I.state && (I.Bp("lr"),I.pBa(),!I.context.gL))(I.E0=P.yk[0].data,I.state=13,M({ja:!0,state:I.state}));else if(I.Nb)return (P=t(I,N,P.yk[0].data,I.Nb),2 === I.state?P:P.then(function(){I.state=30;M({ja:!0,state:I.state});}));}).catch(function(P){M(n().bG(P,{state:I.state}));});}function q(O,L,I){L.log.trace("LICENSE: Received event: " + O.type,{keySystem:O.target.keySystem,sessionId:O.target.sessionId});I({ja:!0});}function v(O,L,I){var M;M=m(O);L.xs && L.xs(K.$g.Zs,M);L.log.error("LICENSE Error: Received event: " + O.type,{sessionId:L.Nb?L.Nb.sessionId:void 0,keySystem:O.target.keySystem,systemCode:M.Vga,code:M.Q$});I({ja:!1,code:K.$g.Zs,xc:K.PD.ev,yd:M.yd,message:"Received a key error.",Tb:M.details,cause:M.cause});}function t(O,L,I,M){M={sessionId:M.sessionId};O.fca() && (M.license=h().encode(I));O.log.trace("calling keysession update",M);return new Promise(function(H,J){function N(){O.Nb.removeEventListener("webkitkeyadded",N);H(void 0);}try{L || O.Nb.addEventListener("webkitkeyadded",N);O.Nb.update(I);L && H(void 0);}catch(P){J({ja:!1,code:K.$g.B5,message:"Unable to update the EME.",e:P});}});}function w(O){this.Bd[O]=u.Ga.get(A.kd).Qb().ia(C.va);this.log.trace("Milestone: " + O + ", " + this.Bd[O]);}Object.defineProperty(b,"__esModule",{value:!0});u=a(10);b=a(4);y=a(32);x=a(83);z=a(30);B=a(69);A=a(18);C=a(5);D=a(14);E=a(56);G=a(172);F=a(43);K={$g:b.aa,PD:b.Y};d.prototype.WP=function(){return this.keySystem;};d.prototype.cqb=function(O,L){O.log && (this.log=O.log);O.Bp && (this.Bp=O.Bp);L.jn && (this.context.jn=L.jn);L.onerror && (this.context.onerror=L.onerror);};d.prototype.create=function(O){var L;L=this;L.Bp("lg");L.log.trace("CREATE: Creating the media keys",{keySystem:O});L.keySystem=O;return L.context.W0?Promise.reject({ja:!1,code:K.$g.VT,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var M,H;M=n().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");H=M.lastChild;L.pm=M;L.context.ea=D.$h.createElement("VIDEO");H?L.pm.insertBefore(L.context.ea,H):L.pm.appendChild(L.context.ea);}return new Promise(function(M,H){function J(N){(L.context.gg || L.context.$l || L.context.lD) && L.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{L.mediaKeys=new mb.WebKitMediaKeys(O);L.context.ea.webkitSetMediaKeys(L.mediaKeys);M({ja:!0,mediaKeys:L.mediaKeys});}catch(P){L.log.error("CREATE: Exception on webkitSetMediaKeys",P);H({ja:!1,code:K.$g.IU,Tb:n().sf(P)});}}if(c(L.keySystem))try{L.mediaKeys=new mb.WebKitMediaKeys(O);L.context.ea && (L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.ea.webkitSetMediaKeys(L.mediaKeys));M({ja:!0,mediaKeys:L.mediaKeys});}catch(N){H({ja:!1,code:K.$g.IU,Tb:n().sf(N)});}else (L.mediaKeys=new mb.WebKitMediaKeys(O),L.context.ea?(L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.ea.webkitSetMediaKeys(L.mediaKeys)):(I(),L.Tq=new D.GD(),L.Tq.addEventListener("sourceopen",J),L.url=URL.createObjectURL(L.Tq),L.context.ea.src=L.url),M({ja:!0,mediaKeys:L.mediaKeys}));});})();};d.prototype.close=function(){this.Nb && (this.log.info("Closing the session",{sessionId:this.Nb.sessionId}),this.Nb.removeEventListener("webkitkeyerror",this.m0),this.Nb.close(),this.Nb=void 0);};d.prototype.oi=function(O,L){var I;if(1 < L.length)return Promise.reject({code:K.$g.PRa});if(0 === L.length)return Promise.reject({code:K.$g.ORa});L=L[0];I=this;I.context.gg && I.log.trace("LICENSE: Setting license",{initData:h().encode(L)});return I.context.W0?Promise.reject({ja:!1,code:K.$g.OLa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(M,H){var N,P,X;function J(V){I.Nb && (I.Nb.removeEventListener("webkitkeymessage",N),I.Nb.removeEventListener("webkitkeyadded",P),I.Nb.removeEventListener("webkitkeyerror",X),I.Nb.addEventListener("webkitkeyerror",I.m0));V.ja?M(V):(I.close(),H(V));}N=function(V){p(V,O,I,J);};P=function(V){q(V,I,J);};X=function(V){v(V,I,J);};c(I.keySystem) && (I.Pq=g(L),L=f(I.Pq));I.log.trace("LICENSE: Executing prefix based EME");I.context.gg | I.context.$l && I.log.debug("LICENSE: PSSH",h().encode(L));I.Nb=I.mediaKeys.createSession("video/mp4",L,null);(I.context.gg || I.context.$l) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Nb.keySystem,sessionId:I.Nb.sessionId});I.Nb.addEventListener("webkitkeymessage",N);I.Nb.addEventListener("webkitkeyadded",P);I.Nb.addEventListener("webkitkeyerror",X);});})();};d.prototype.sL=function(){var O;O=this;return O.QFa?Promise.resolve({ja:!0}):new Promise(function(L,I){var H,J,N;function M(P){O.Nb && (O.Nb.removeEventListener("webkitkeymessage",H),O.Nb.removeEventListener("webkitkeyadded",J),O.Nb.removeEventListener("webkitkeyerror",N));P.ja?L(P):(I(P),O.close());}H=function(P){p(P,E.Go.gka.Xp,O,M);};J=function(P){q(P,O,M);L({ja:!0});};N=function(P){v(P,O,M);};O.dza=!1;O.Nb.addEventListener("webkitkeymessage",H);O.Nb.addEventListener("webkitkeyadded",J);O.Nb.addEventListener("webkitkeyerror",N);O.Nb.update(l().decode("renew"));});};d.prototype.J8=function(O){this.E0 || this.log.error("pending license must exist at this point");this.context.gL=!0;try{O && (this.context.ea=O,this.log.trace("calling setmediakeys on video element"),this.context.ea.webkitSetMediaKeys(this.mediaKeys));}catch(L){return new Promise(function(I,M){M({ja:!1,code:K.$g.ZM,message:"setMediaKeys failed",Tb:n().sf(L)});});}return t(this,!1,this.E0,this.Nb);};d.prototype.k7a=function(O){var L,I;L=this;L.log.trace("Releasing the license of the current session",JSON.stringify(O));L.QFa=!0;I={sa:O.sa,cf:O.cf};return new Promise(function(M,H){(function(){L.context.jn.release.call(L.context.jn,I).then(function(){var J;L.log.trace("successfully released the license",JSON.stringify(O));J={ja:!0};J.ja?M(J):(L.close(),H(J));}).catch(function(J){L.log.error("RELEASE: Unable to get the release the license",{sessionId:L.Nb?L.Nb.sessionId:void 0,code:J.code,subCode:J.xc,extCode:J.yd,edgeCode:J.jp,message:J.ml});J.ja?M(J):(L.close(),H(J));});})();});};d.prototype.fca=function(){return this.context.gg || this.context.$l;};r.exports=d;},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p,q){this.log=k;this.$J=m;this.PC=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(4);h=a(10);n=a(32);c=a(69);f=a(30);g=a(43);d.prototype.oi=function(k){var m,p;m=this;(this.context.gg || this.context.$l) && this.log.debug("Requesting a license",k);if(h.Ga.get(n.Ii).LE(h.Ga.get(c.dt).decode("certificate"),k.fl[0].data)){m.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({yk:[{sessionId:k.fl[0].sessionId,data:h.Ga.get(f.Fi).decode(g.f4)}]});}else p=h.Ga.get(n.Ii).LE(h.Ga.get(c.dt).decode("content"),k.fl[0].data)?Promise.resolve({yk:[{sessionId:k.fl[0].sessionId,data:k.Pq}]}):(function(){m.log.trace("Requesting license",{drmType:k.ip});return m.$J(k).catch(function(q){m.log.error("Unable to get the Fairplay license",q);throw {code:l.aa.NM,xc:q.xc,yd:q.yd,jp:q.jp,ml:q.message || q.ml,eF:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.ml),cause:q};});})();return p;};d.prototype.release=function(k){var m;m=this;this.log.trace("Requesting stop data");return this.PC(k).catch(function(p){m.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.xc,extCode:p.yd,edgeCode:p.jp,message:p.message || p.ml});throw {ja:!1,code:l.aa.Ola,xc:p.xc,yd:p.yd,jp:p.jp,ml:p.message || p.ml,message:"Unable to release the FairPlay license. " + (p.message || p.ml),cause:p};});};r.exports=d;},function(r,b,a){var n,c,f,g,k,m,p,q;function d(v,t,w){var u;u=this;this.is=v;this.kn=t;this.config=w;this.cx=function(){return {version:u.version,drmData:u.A$.map(function(y){return y.cx();})};};this.Uua=function(y){var x;u.is.Vo(y) && (y=l(y));1 === y.version && (y=h(u.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.Z3(z);});}catch(z){throw new k.rd(f.aa.LM,f.Y.vD,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !u.is.Rl(y.version))throw new k.rd(f.aa.LM,f.Y.vD,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new k.rd(f.aa.LM,f.Y.FJa,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.qm=new m.Xja(2,this.config.YX,this.is.Vo(this.config.YX),this.kn,this.cx);}function l(v){v=JSON.parse(v);v={xid:v.xid,movieId:v.movieId,keySessionIds:v.keySessionIds,licenseContextId:v.licenseContextId};if(!v.licenseContextId || !v.xid || !v.movieId)throw new k.rd(f.aa.LM,f.Y.vD);return {version:1,drmData:[v]};}function h(v,t){if(v.wE(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var u;u=w.keySessionIds;return new q.Z3({keySessionData:(u && 0 < u.length?u:[void 0]).map(function(y){return {id:y,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).cx();})};throw new k.rd(f.aa.LM,f.Y.vD);}Object.defineProperty(b,"__esModule",{value:!0});b.ZJa=void 0;r=a(0);n=a(1);c=a(62);f=a(4);g=a(25);k=a(36);m=a(344);p=a(84);q=a(228);d.prototype.Sjb=function(){return this.Aic();};d.prototype.a0a=function(v){return this.qm.add(v);};d.prototype.i1=function(v){return this.qm.remove(v,function(t,w){return t.sa === w.sa;});};d.prototype.toString=function(){return JSON.stringify(this.cx(),null,"  ");};d.prototype.Aic=function(){var v;v=this;this.Wjb || (this.Wjb=new Promise(function(t,w){v.qm.load(v.Uua).then(function(){t();}).catch(function(u){u.Da && u.cause?w(new k.rd(f.aa.LM,u.Da,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u)):w(u);});}));return this.Wjb;};Va.Object.defineProperties(d.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.qm.version;}},A$:{configurable:!0,enumerable:!0,get:function(){return this.qm.On;}}});a=d;a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(g.ah)),r.__param(1,(0,n.l)(p.Nz)),r.__param(2,(0,n.l)(c.Ws))],a);b.ZJa=a;},function(r,b,a){var l,h;function d(n,c,f,g,k){this.version=n;this.fL=c;this.RFa=f;this.kn=g;this.cx=k;}Object.defineProperty(b,"__esModule",{value:!0});b.kOa=void 0;l=a(4);h=a(36);d.prototype.load=function(n){return this.m5b(n);};d.prototype.set=function(n){this.On=n;return this.sac();};d.prototype.m5b=function(n){var c;c=this;this.$db || (this.$db=new Promise(function(f,g){function k(m){c.aRb().then(function(){g(m);}).catch(function(){g(m);});}c.rwa().then(function(m){c.storage=m;return c.storage.load(c.fL);}).then(function(m){var p;m=m.value;try{p=n(m);c.version=p.version;c.On=p.data;f();}catch(q){k(q);}}).catch(function(m){m.Da !== l.Y.rA?g(m):f();});}));return this.$db;};d.prototype.sac=function(){var n,c,f,g,k;n=this;if(!this.RFa)return Promise.resolve();if(this.Lga){g=new Promise(function(m,p){c=m;f=p;});k=function(){n.Lga=g;n.Mnb().then(function(){c();}).catch(function(m){f(m);});};this.Lga.then(k).catch(k);return g;}return this.Lga=this.Mnb();};d.prototype.Mnb=function(){var n,c;n=this;c=this.cx();return new Promise(function(f,g){n.rwa().then(function(k){return k.save(n.fL,c,!1);}).then(function(){f();}).catch(function(k){g(d.ukc(l.aa.lyb,k));});});};d.prototype.aRb=function(){var n;n=this;return this.RFa?new Promise(function(c,f){n.rwa().then(function(g){return g.remove(n.fL);}).then(function(){c();}).catch(function(g){f(g);});}):Promise.resolve();};d.prototype.rwa=function(){return this.storage?Promise.resolve(this.storage):this.kn.create();};d.ukc=function(n,c){var f;if(c.Da && c.cause)return new h.rd(n,c.Da,void 0,void 0,void 0,void 0,void 0,c.cause);if(void 0 !== c.xc){f=c.message?c.message + " ":"";c.code=n;c.message="" === f?void 0:f;return c;}return c instanceof Error?new h.rd(n,l.Y.un,void 0,void 0,void 0,void 0,c.stack,c):new h.rd(n,l.Y.Ko,void 0,void 0,void 0,void 0,void 0,c);};b.kOa=d;},function(r,b,a){var d,l,h,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.yjb=void 0;d=a(4);l=a(99);h=a(128);n=a(227);b.yjb=function(f){n.rP.parent=f.xb;return function(){c || (c=new Promise(function(g,k){try{g(n.rP.get(h.zLa));}catch(m){k(new l.Yh(d.aa.dwb,d.Y.nwb,void 0,"Unable to extract the DRM services from the dependency injector",m));}}));return c;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.zQa=void 0;a.prototype.Gab=function(){return void 0 !== this.mediaKeys;};a.prototype.h0a=function(d){this.mediaKeys=d;};a.prototype.cec=function(){this.Gab() && (this.mediaKeys=void 0);};b.zQa=a;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v,t,w){this.CJ=p;this.yc=q;this.XQ=t;this.Sq=w;this.log=v.eb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;r=a(0);l=a(1);h=a(128);n=a(30);c=a(7);f=a(145);g=a(100);k=a(126);m=a(345);d.prototype.nwa=function(p){var q;q=this;return Promise.all([this.CJ(),this.Dva()]).then(function(v){var t;t=oa(v);v=t.next().value;t=t.next().value;return v.BWb({type:p,initData:t,dca:!1},q.XQ());}).then(function(v){var t;t=oa(v);v=t.next().value;t=t.next().value;t=q.yc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {oc:v,hra:t};});};d.prototype.Dva=function(){var p;p=this;return this.Sq.nF().then(function(q){return q.ew();}).then(function(q){switch(q){case k.ym.hF:return m.yMa;case k.ym.GC:return m.bTa;default:return m.lXa;}}).then(function(q){return q.map(p.yc.decode);});};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.a4)),r.__param(1,(0,l.l)(n.Fi)),r.__param(2,(0,l.l)(c.hb)),r.__param(3,(0,l.l)(f.wU)),r.__param(4,(0,l.l)(g.eA))],a);b.aKa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x,z){this.Ve=t;this.Ei=w;this.yc=u;this.is=y;this.Z_=x;this.Kj=z;}Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=void 0;r=a(0);l=a(1);h=a(30);n=a(25);c=a(37);f=a(69);g=a(32);k=a(126);m=a(62);p=a(727);q=a(729);v=a(231);d.prototype.create=function(t){switch(t){case k.ym.GC:return new q.bUa(this.Z_,this.is,this.yc,this.Ve,this.Kj,this.Ei);case k.ym.hF:return new p.xMa(this.Z_,this.is,this.yc,this.Ve,this.Kj,this.Ei);default:return new v.Ax(this.Z_,this.is,this.yc,this.Ve,this.Kj,this.Ei);}};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Ii)),r.__param(1,(0,l.l)(f.dt)),r.__param(2,(0,l.l)(h.Fi)),r.__param(3,(0,l.l)(n.ah)),r.__param(4,(0,l.l)(c.XM)),r.__param(5,(0,l.l)(m.Ws))],a);b.ZLa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x,z){t=h.Ax.call(this,t,w,u,y,x,z) || this;t.yc=u;t.bj=y;t.Kj=x;t.Ei=z;t.Zab=new n.wMa(t.yc,t.bj,t.Ei);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.xMa=void 0;r=a(0);l=a(1);h=a(231);n=a(728);c=a(37);f=a(25);g=a(30);k=a(32);m=a(62);p=a(69);q=a(346);v=a(347);la(d,h.Ax);d.prototype.generateRequest=function(t,w,u){var y,x,z;y=this;try{x=w.map(function(B){return y.Zab.zYb(B);});this.Dbb=x.map(function(B){return y.yc.encode(B);});z=this.Zab.OMb(x,u);return h.Ax.prototype.generateRequest.call(this,t,[z],!1);}catch(B){return Promise.reject(B);}};d.prototype.update=function(t,w,u){var y,x,z,B,A;y=this;if(u)try{x=this.Ei.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(C){var D;D=v.a6.Wnb(C.ID);return {keyID:w === q.UH.CUa?y.Dbb[y.Dbb.length - 1]:u[D],payload:C.PAYLOAD};});if(w === q.UH.Request){B=z.map(function(C){return C.keyID;});u.forEach(function(C){-1 === B.indexOf(C) && z.push({keyID:C,error:1});});}A=JSON.stringify(z);t=[this.Ei.decode(A)];}catch(C){return Promise.reject(C);}return h.Ax.prototype.update.call(this,t,w);};d.prototype.sL=function(){return h.Ax.prototype.update.call(this,[this.Ei.decode("renew")],q.UH.Request);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(c.XM)),r.__param(1,(0,l.l)(f.ah)),r.__param(2,(0,l.l)(g.Fi)),r.__param(3,(0,l.l)(k.Ii)),r.__param(4,(0,l.l)(m.Ws)),r.__param(5,(0,l.l)(p.dt))],a);b.xMa=a;},function(r,b){function a(d,l,h){var n;n=this;this.yc=d;this.bj=l;this.Ei=h;this.zYb=function(c){var f;c=c.subarray(14,30);c=String.fromCharCode.apply(null,c);c=n.yc.decode(c);c=c.subarray(4);f=new Uint8Array(16);f.set(c);return f;};this.AMa={ox:1667591779,htb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.wMa=void 0;a.prototype.OMb=function(d,l){l=l?this.AMa.htb:this.AMa.ox;d=d.map(function(h){return {uwc:"",f4b:h,Ypa:h,oic:h,Pmc:[1]};});return this.X5b(l,d);};a.prototype.W5b=function(d){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,d);return this.Jza("fpsi",[l]);};a.prototype.V5b=function(d,l,h,n){d=[this.Jza("fkri",[d])];l.byteLength && d.push(this.z_("fkai",[l]));h.byteLength && d.push(this.z_("fkcx",[h]));n.length && d.push(this.z_("fkvl",[new Uint8Array(new Uint32Array(n).buffer)]));return this.z_("fpsk",d);};a.prototype.X5b=function(d,l){var h,c;h=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);d=[this.W5b(d)];for(var n in l){c=l[n];d.push(this.V5b(c.f4b,c.Ypa,c.oic,c.Pmc));}l=this.z_("fpsd",d);n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,l.byteLength);return this.Jza("pssh",[h,n,l]);};a.prototype.Jza=function(d,l){var h,n,c;h=0;for(c in l){h+=l[c].byteLength;}h=new Uint8Array(12 + h);n=new DataView(h.buffer);c=0;n.setUint32(c,h.byteLength);c+=4;h.set(this.Ei.decode(d),c);c+=4;n.setUint32(c,0);c+=4;for(var f in l){d=l[f];h.set(d,c);c+=d.byteLength;}return h;};a.prototype.z_=function(d,l){var h,n;h=0;for(n in l){h+=l[n].byteLength;}h=new Uint8Array(8 + h);n=0;new DataView(h.buffer).setUint32(n,h.byteLength);n+=4;h.set(this.Ei.decode(d),n);n+=4;for(var c in l){d=l[c];h.set(d,n);n+=d.byteLength;}return h;};b.wMa=a;},function(r,b,a){var l,h,n,c;function d(){return h.Ax.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bUa=void 0;r=a(0);l=a(1);h=a(231);n=a(99);c=a(4);la(d,h.Ax);d.prototype.V9=function(f,g,k,m,p){this.ykb(k);this.vkb(m);this.tkb(p);this.YYa=this.Eb;this.Eb=f.createSession(g);this.i0a(k);this.e0a(m);this.b0a(p);return this.generateRequest(this.initDataType,this.initData,!1);};d.prototype.close=function(){var g;function f(k){return k && k.sessionId?k.close():Promise.resolve();}g=this;this.Jra=void 0;return this.Eb?Promise.all([f(this.Eb),f(this.YYa)]).then(function(){}).finally(function(){g.Eb=void 0;g.YYa=void 0;}):Promise.reject(new n.Yh(c.aa.ILa,c.Y.GM,void 0,"Unable to close a key session, key session is not valid"));};d.prototype.generateRequest=function(f,g,k){this.initDataType=f;this.initData=g;return h.Ax.prototype.generateRequest.call(this,f,g,k);};a=d;a=r.__decorate([(0,l.$)()],a);b.bUa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x,z){this.Ei=t;this.lk=w;this.yc=u;this.config=y;this.Kj=x;this.ti=z;}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;r=a(0);l=a(1);h=a(83);n=a(30);c=a(69);f=a(12);g=a(85);k=a(126);m=a(62);p=a(731);q=a(732);v=a(733);d.prototype.create=function(t){switch(t){case k.ym.GC:return new q.YLa(this.lk,this.yc);case k.ym.hF:return new v.cVa(this.lk,this.yc,this.Ei,this.ti);default:return new p.iKa(this.lk,this.yc,this.Kj,this.config);}};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(c.dt)),r.__param(1,(0,l.l)(h.Pz)),r.__param(2,(0,l.l)(n.Fi)),r.__param(3,(0,l.l)(f.uc)),r.__param(4,(0,l.l)(m.Ws)),r.__param(5,(0,l.l)(g.mA))],a);b.ALa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q;function d(v,t,w,u){this.lk=v;this.yc=t;this.Kj=w;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;r=a(0);l=a(1);h=a(4);n=a(83);c=a(30);f=a(99);g=a(63);k=a(62);m=a(12);p=a(36);q=a(43);d.prototype.H9=function(){return !1;};d.prototype.eqa=function(){return !0;};d.prototype.$qa=function(){return !0;};d.prototype.Eva=function(){return q.ox;};d.prototype.Eaa=function(){return this.Kj.NEa?this.yc.decode(this.Kj.NEa):this.yc.decode(q.jXa);};d.prototype.hwa=function(){return [q.rx,q.Z5,q.Y5];};d.prototype.Pxa=function(){Promise.reject(new p.rd(h.aa.uja));};d.prototype.gsa=function(v){var t;return {type:v.type,sessionId:null === (t=v.target) || void 0 === t?void 0:t.sessionId,NK:[new Uint8Array(v.message)],messageType:v.messageType};};d.prototype.xB=function(v){var t,w,u;t=new f.Yh(h.aa.Zs);w=null === v || void 0 === v?void 0:v.code;null != w && void 0 !== w?(w=parseInt(w,10),t.xc=1 <= w && 9 >= w?h.Y.ev + w:h.Y.ev):t.xc=v instanceof g.$s?h.Y.WT:h.Y.un;try{u=v.message.match(/\((\d*)\)/)[1];t.yd=this.lk.QJ(u,4);}catch(y){}t.OX(v);return t;};d.prototype.UP=function(){};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.Pz)),r.__param(1,(0,l.l)(c.Fi)),r.__param(2,(0,l.l)(k.Ws)),r.__param(3,(0,l.l)(m.uc))],a);b.iKa=a;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q){this.lk=p;this.yc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.YLa=void 0;r=a(0);l=a(1);h=a(4);n=a(83);c=a(30);f=a(99);g=a(63);k=a(36);m=a(43);d.prototype.H9=function(){return !0;};d.prototype.eqa=function(){return !1;};d.prototype.$qa=function(){return !1;};d.prototype.Eva=function(){return m.ox;};d.prototype.Eaa=function(){};d.prototype.hwa=function(){return [];};d.prototype.Pxa=function(){Promise.reject(new k.rd(h.aa.uja));};d.prototype.gsa=function(p){var q;q=new Uint8Array(p.message);q=this.eua(q,"PlayReadyKeyMessage","Challenge");q=this.yc.decode(q);return {type:p.type,sessionId:p.target.sessionId,NK:[q],messageType:p.messageType};};d.prototype.xB=function(p){var q,v,t;q=new f.Yh(h.aa.Zs);v=p.code;null != v && void 0 !== v?(v=parseInt(v,10),q.xc=1 <= v && 9 >= v?h.Y.ev + v:h.Y.ev):q.xc=p instanceof g.$s?h.Y.WT:h.Y.un;try{t=(/\((\d+)\)/).exec(p.message);q.yd=this.lk.QJ(Number(t && t[1]),4);}catch(w){}q.OX(p);return q;};d.prototype.eua=function(p,q){var t,w,u;for(var v=1;v < arguments.length;++v){;}for(v=1;v < arguments.length;v++){;}v="";w=p.length;for(t=0;t < w;t++){u=p[t];0 < u && (v+=String.fromCharCode(u));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){u=arguments[t];if(0 > v.search(u))return "";u="(?:[^:].*:|)" + u;w="[\\s\\S]*<" + u + "[^>]*>" + w + "</" + u + ">[\\s\\S]*";}return (v=v.match(new RegExp(w)))?v[1]:"";};d.prototype.UP=function(){};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.Pz)),r.__param(1,(0,l.l)(c.Fi))],a);b.YLa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t;function d(w,u,y,x){this.lk=w;this.yc=u;this.Ei=y;this.ti=x;}Object.defineProperty(b,"__esModule",{value:!0});b.cVa=void 0;r=a(0);l=a(1);h=a(4);n=a(83);c=a(69);f=a(99);g=a(63);k=a(30);m=a(43);p=a(348);q=a(36);v=a(85);t=a(347);d.prototype.H9=function(){return !1;};d.prototype.eqa=function(){return !1;};d.prototype.$qa=function(){return !0;};d.prototype.Eva=function(){return m.ox;};d.prototype.Eaa=function(){return this.yc.decode(m.f4);};d.prototype.hwa=function(){return [];};d.prototype.Pxa=function(w){w.sL();};d.prototype.gsa=function(w){var u,y;u=[];if(w.messageType === p.yka || w.messageType === p.xka){if(w.messageType === p.yka){y=this.Ei.encode(new Uint8Array(w.message));u=JSON.parse(y);y=u.map(function(x){return x.keyID;});u=u.map(function(x){return x.payload;});}else u=[this.yc.encode(new Uint8Array(w.message))];if(0 === u.length || !u.every(function(x){return x && x.length;}))throw new q.rd(h.aa.NLa);u=this.skc(u);u=this.Ei.decode(JSON.stringify(u));}else u=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,NK:[u],messageType:w.messageType,Oy:y};};d.prototype.xB=function(w){var u,y,x,z;y=null === (u=w.target) || void 0 === u?void 0:u.error;if(y)(x=y.systemCode,z=y.code);u=new f.Yh(h.aa.Zs,w instanceof g.$s?h.Y.WT:h.Y.ev,x?this.lk.QJ(x,4):z,"",y);u.OX(w);return u;};d.prototype.skc=function(w){w=w.map(function(u,y){return {ID:t.a6.X1b(y),PAYLOAD:u};});return {VERSION:this.ti.py?3:1,CHALLENGES:w};};d.prototype.UP=function(w,u){var y,x;y=this;if(u && this.ti.py)try{x=this.Ei.encode(u[0]);return JSON.parse(x).RESPONSES.sort(function(z,B){return z.ID > B.ID?1:-1;}).map(function(z){var B;B=t.a6.Wnb(z.ID);z=y.yc.decode(z.DHB).subarray(4,12);B=y.yc.decode(w[B]).subarray(0,8);return {from:z,to:B};});}catch(z){throw new f.Yh(h.aa.tyb,void 0,void 0,void 0,z);}};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.Pz)),r.__param(1,(0,l.l)(k.Fi)),r.__param(2,(0,l.l)(c.dt)),r.__param(3,(0,l.l)(v.mA))],a);b.cVa=a;},function(r,b,a){var l,h,n,c;function d(f,g){this.$X=f;this.bY=g;}Object.defineProperty(b,"__esModule",{value:!0});b.vQa=void 0;r=a(0);l=a(1);h=a(232);n=a(230);c=a(735);d.prototype.create=function(f,g,k){return new c.xQa(f,this.$X,this.bY,g,k);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.rja)),r.__param(1,(0,l.l)(n.xja))],a);b.vQa=a;},function(r,b,a){var l,h;function d(n,c,f,g,k){this.keySystem=n;this.$X=c;this.bY=f;this.cG=g;this.ip=k;}Object.defineProperty(b,"__esModule",{value:!0});b.xQa=void 0;l=a(73);h=a(43);d.prototype.createMediaKeys=function(){return this.cG.createMediaKeys();};d.prototype.getConfiguration=function(){return this.cG.getConfiguration();};d.prototype.ew=function(){return l.Ab.UY(this.cG.keySystem);};d.prototype.o4a=function(){return this.bY.create(this.ip);};d.prototype.n4a=function(){return this.$X.create(this.ip);};Va.Object.defineProperties(d.prototype,{Cca:{configurable:!0,enumerable:!0,get:function(){var n,c;n=this.keySystem;c=(0,h.Taa)(this.cG);c && (n+="." + c);return n;}}});b.xQa=d;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v,t){this.fo=p;this.config=q;this.$X=v;this.PF=t;this.log=this.fo.eb("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.HOa=void 0;r=a(0);l=a(1);h=a(54);n=a(7);c=a(12);f=a(73);g=a(43);k=a(232);a=a(234);d.prototype.get=function(){var p,q,v;p=this;try{q=(this.config().qdb || [this.config().co]).map(function(t){var w;w=f.Ab.UY(t);w=p.$X.create(w).hwa();return (0 < w.length?w:[void 0]).map(function(u){return {keySystem:t,robustness:u};});});v=(0,h.flatten)(q).filter(function(t){return p.YUb(t);});return this.PF.get().then(function(t){return p.aVb(v,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};d.prototype.YUb=function(p){var q;p=f.Ab.Lvb.includes(p.keySystem) || g.JNa.includes(null !== (q=p.robustness) && void 0 !== q?q:"");return this.config().F6a || !p;};d.prototype.aVb=function(p,q){var v;v=this;return p.reduce(function(t,w,u){var y;y=v.q0b(w);u=p.length - 1 === u;y=(0,g.M3a)(y);q.includes(y) && !u || t.push(w);return t;},[]);};d.prototype.q0b=function(p){var q;q={keySystem:p.keySystem === f.Ab.fAb?f.Ab.t6:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};m=d;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.hb)),r.__param(1,(0,l.l)(c.uc)),r.__param(2,(0,l.l)(k.rja)),r.__param(3,(0,l.l)(a.eka))],m);b.HOa=m;},function(r,b,a){var l,h,n,c;function d(f,g,k){this.config=f;this.fo=g;this.Qqa=k;this.log=this.fo.eb("KeySystemRestrictor");this.q5b=this.config().I6a?this.Qqa.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.JOa=void 0;r=a(0);l=a(1);h=a(7);n=a(12);a=a(235);d.prototype.get=function(){var f;f=this;try{return this.config().I6a?this.q5b.then(function(g){return f.kVb(g);}):Promise.resolve([]);}catch(g){return (this.log.error("KeySystemRestrictor failed.",g),Promise.resolve([]));}};d.prototype.kVb=function(f){var g,m;this.jlb={};g=f.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(g));f=[];g=oa(Object.entries(g));for(var k=g.next();!k.done;k=g.next()){m=oa(k.value);k=m.next().value;m=m.next().value;this.L0b(m) && f.push(k);}f.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + f);return this.dfc=f;};d.prototype.L0b=function(f){var g,k;g=this;k=f.reduce(function(m,p){g.config().XTb.includes(p.code) && (p=g.$Ob(p),m[p] || (m[p]=0),m[p]++);return m;},{});this.jlb[f[0].keySystem]=k;return Object.values(k).some(function(m){return m >= g.config().YTb;});};d.prototype.$Ob=function(f){return [f.code,f.xc,f.yd].filter(Boolean).join(".");};Va.Object.defineProperties(d.prototype,{rdb:{configurable:!0,enumerable:!0,get:function(){return this.dfc;}},sdb:{configurable:!0,enumerable:!0,get:function(){return this.jlb;}}});c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.uc)),r.__param(1,(0,l.l)(h.hb)),r.__param(2,(0,l.l)(a.Yia))],c);b.JOa=c;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(1);d=a(12);l=a(739);h=a(33);n=a(39);c=a(740);f=a(354);g=a(742);k=a(175);m=a(743);p=a(62);q=a(744);b.config=new r.Kd(function(v){v(d.uc).Te(function(){return function(){return mb._cad_global.config;};});v(h.$ia).to(l.tKa).la();v(h.yn).to(l.VWa).la();v(h.iU).to(l.sOa).la();v(n.Qp).to(c.KMa).la();v(f.fRa).to(g.eRa).la();v(k.EMa).to(m.DMa).la();v(p.Ws).to(q.$La).la();});},function(r,b,a){var n,c,f,g,k;function d(){this.BB={};this.olb=0;}function l(m,p,q,v,t){this.debug=m;this.YB=p;this.f0=q;this.zg=v;this.gfa=t;}function h(m,p,q){this.YB=m;this.f0=p;this.gfa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.sOa=b.VWa=b.tKa=void 0;r=a(0);n=a(1);c=a(111);f=a(7);g=a(146);k=a(353);a=a(33);h=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(a.iU)),r.__param(1,(0,n.l)(g.f6)),r.__param(2,(0,n.l)(k.Mla))],h);b.tKa=h;l=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(c.Sz)),r.__param(1,(0,n.l)(a.iU)),r.__param(2,(0,n.l)(g.f6)),r.__param(3,(0,n.l)(f.hb)),r.__param(4,(0,n.l)(k.Mla))],l);b.VWa=l;d.prototype.h7b=function(m){this.BB=Object.assign({},this.BB,m);this.olb++;};Va.Object.defineProperties(d.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.BB;}},Lfa:{configurable:!0,enumerable:!0,get:function(){return this.olb;}}});a=d;a=r.__decorate([(0,n.$)()],a);b.sOa=a;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v){p=c.Lf.call(this,p,void 0 === v?"GeneralConfigImpl":v) || this;p.Qg=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.KMa=b.DP=void 0;r=a(0);l=a(5);h=a(1);n=a(46);c=a(47);f=a(39);g=a(33);a=a(110);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.DP=function(p,q){return p.Tjb(k[q] || q,f.Yz);};la(d,c.Lf);Va.Object.defineProperties(d.prototype,{DP:{configurable:!0,enumerable:!0,get:function(){return f.Yz.Vyb;}},Lnb:{configurable:!0,enumerable:!0,get:function(){return (0,l.$i)(8);}},fK:{configurable:!0,enumerable:!0,get:function(){return "";}},SO:{configurable:!0,enumerable:!0,get:function(){return "";}},H2:{configurable:!0,enumerable:!0,get:function(){return "";}},K8:{configurable:!0,enumerable:!0,get:function(){return !0;}},DZ:{configurable:!0,enumerable:!0,get:function(){return this.Qg.DZ;}},fUb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Hd:{configurable:!0,enumerable:!0,get:function(){return {};}},wya:{configurable:!0,enumerable:!0,get:function(){return !1;}},Uu:{configurable:!0,enumerable:!0,get:function(){return !1;}},iY:{configurable:!0,enumerable:!0,get:function(){return !0;}},PG:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},JB:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.Yz.hWa,f.Yz.wOa].indexOf(this.DP);}}});m=d;r.__decorate([n.config(b.DP,"environment")],m.prototype,"DP",null);r.__decorate([n.config(n.dm,"storageTimeout")],m.prototype,"Lnb",null);r.__decorate([n.config(n.string,"groupName")],m.prototype,"fK",null);r.__decorate([n.config(n.string,"canaryGroupName",!0)],m.prototype,"SO",null);r.__decorate([n.config(n.string,"uiGroupName")],m.prototype,"H2",null);r.__decorate([n.config(n.vd,"applyIndexedDbOpenWorkaround")],m.prototype,"K8",null);r.__decorate([n.config(n.vd,"ignoreIdbOpenError")],m.prototype,"DZ",null);r.__decorate([n.config(n.vd,"executeStorageMigration")],m.prototype,"fUb",null);r.__decorate([n.config(n.object(),"browserInfo")],m.prototype,"Hd",null);r.__decorate([n.config(n.vd,"isTestAccount")],m.prototype,"wya",null);r.__decorate([n.config(n.vd,"useRangeHeader")],m.prototype,"Uu",null);r.__decorate([n.config(n.vd,"enableMilestoneEventList")],m.prototype,"iY",null);r.__decorate([n.config(n.object,"storageRules")],m.prototype,"PG",null);m=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(g.yn)),r.__param(1,(0,h.l)(a.KH)),r.__param(2,(0,h.l)(g.G3)),r.__param(2,(0,h.optional)())],m);b.KMa=m;},function(r,b){function a(d){this.value=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Uka=void 0;a.empty=function(){return a.of(void 0);};a.of=function(d){return new a(d);};a.prototype.or=function(d){return void 0 === this.value?d instanceof Function?d():d:this.value;};a.prototype.map=function(d){return void 0 === this.value?a.empty():a.of(d(this.value));};b.Uka=a;},function(r,b,a){var l,h,n,c;function d(f,g){return n.Lf.call(this,f,void 0 === g?"NetworkMonitorConfigImpl":g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eRa=void 0;r=a(0);l=a(1);h=a(46);n=a(47);a=a(33);la(d,n.Lf);Va.Object.defineProperties(d.prototype,{wqb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});c=d;r.__decorate([h.config(h.vd,"useNetworkMonitor")],c.prototype,"wqb",null);c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.yn)),r.__param(1,(0,l.l)(a.G3)),r.__param(1,(0,l.optional)())],c);b.eRa=c;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v,t){p=c.Lf.call(this,p,"FtlProbeConfigImpl") || this;p.Li=q;p.za=v;p.Qg=t;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.DMa=void 0;r=a(0);l=a(27);h=a(1);n=a(5);c=a(47);f=a(176);g=a(46);k=a(33);a=a(110);la(d,c.Lf);Va.Object.defineProperties(d.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.Qg.vaa;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Vua + (-1 === this.Vua.indexOf("?")?"?":"&") + "monotonic=" + this.za.bgb + "&device=web";}},unb:{configurable:!0,enumerable:!0,get:function(){return n.Oa;}},Nua:{configurable:!0,enumerable:!0,get:function(){return "";}},Vua:{configurable:!0,enumerable:!0,get:function(){return this.Li.endpoint + "/ftl/probe" + (this.Nua?"?force=" + this.Nua:"");}}});m=d;r.__decorate([g.config(g.vd,"ftlEnabled")],m.prototype,"enabled",null);r.__decorate([g.config(g.dm,"ftlStartDelay")],m.prototype,"unb",null);r.__decorate([g.config(g.string,"ftlEndpointForceParam")],m.prototype,"Nua",null);r.__decorate([g.config(g.url,"ftlEndpoint")],m.prototype,"Vua",null);m=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(k.yn)),r.__param(1,(0,h.l)(f.u3)),r.__param(2,(0,h.l)(l.Nh)),r.__param(3,(0,h.l)(a.KH))],m);b.DMa=m;},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p){k=h.Lf.call(this,k,void 0 === p?"EmeConfigImpl":p) || this;k.Hd=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.$La=void 0;r=a(0);l=a(1);h=a(47);n=a(33);c=a(5);f=a(46);a=a(170);la(d,h.Lf);Va.Object.defineProperties(d.prototype,{oib:{configurable:!0,enumerable:!0,get:function(){return this.Hd.Ny && 113 > this.Hd.sq?!1:!0;}},Mbb:{configurable:!0,enumerable:!0,get:function(){return this.Hd.mcb || this.Hd.ica || this.Hd.ZZ?!0:!1;}},SF:{configurable:!0,enumerable:!0,get:function(){return (0,c.$i)(5);}},dCa:{configurable:!0,enumerable:!0,get:function(){return (0,c.$i)(10);}},YX:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},DY:{configurable:!0,enumerable:!0,get:function(){return !1;}},ata:{configurable:!0,enumerable:!0,get:function(){return !1;}},wu:{configurable:!0,enumerable:!0,get:function(){return !0;}},L0a:{configurable:!0,enumerable:!0,get:function(){return (0,c.$i)(30);}},M0a:{configurable:!0,enumerable:!0,get:function(){return (0,c.$i)(30);}},O0a:{configurable:!0,enumerable:!0,get:function(){return (0,c.$i)(30);}},F8:{configurable:!0,enumerable:!0,get:function(){return (0,c.$i)(30);}},P0a:{configurable:!0,enumerable:!0,get:function(){return (0,c.$i)(30);}},NEa:{configurable:!0,enumerable:!0,get:function(){return "";}},Dhb:{configurable:!0,enumerable:!0,get:function(){return this.Hd.cC?!1:!0;}},Ehb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});g=d;r.__decorate([f.config(f.vd,"persistentStateRequired")],g.prototype,"oib",null);r.__decorate([f.config(f.vd,"initializeKeySystemAtStartup")],g.prototype,"Mbb",null);r.__decorate([f.config(f.dm,"licenseRenewalRequestDelay")],g.prototype,"SF",null);r.__decorate([f.config(f.dm,"persistedReleaseDelay")],g.prototype,"dCa",null);r.__decorate([f.config(f.string,"drmPersistKey")],g.prototype,"YX",null);r.__decorate([f.config(f.vd,"forceLimitedDurationLicense")],g.prototype,"DY",null);r.__decorate([f.config(f.vd,"disableLicenseRenewal")],g.prototype,"ata",null);r.__decorate([f.config(f.vd,"prepareCadmium")],g.prototype,"wu",null);r.__decorate([f.config(f.dm,"apiCloseTimeout")],g.prototype,"L0a",null);r.__decorate([f.config(f.dm,"apiCreateMediaKeysTimeout")],g.prototype,"M0a",null);r.__decorate([f.config(f.dm,"apiSetServerCertificateTimeout")],g.prototype,"O0a",null);r.__decorate([f.config(f.dm,"apiGenerateRequestTimeout")],g.prototype,"F8",null);r.__decorate([f.config(f.dm,"apiUpdateTimeout")],g.prototype,"P0a",null);r.__decorate([f.config(f.string,"serverCertificate")],g.prototype,"NEa",null);r.__decorate([f.config(f.vd,"outputRestrictedIsFatal")],g.prototype,"Dhb",null);r.__decorate([f.config(f.vd,"outputRestrictedIsFatalForUhd")],g.prototype,"Ehb",null);g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.yn)),r.__param(1,(0,l.l)(a.lH)),r.__param(2,(0,l.l)(n.G3)),r.__param(2,(0,l.optional)())],g);b.$La=g;},function(r,b,a){var d,l,h,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.u6a=void 0;r=a(1);d=a(128);l=a(746);h=a(100);n=a(747);c=a(356);f=a(748);b.u6a=new r.Kd(function(g){g(d.zLa).to(l.yLa).la();g(h.eA).to(n.yQa).la();g(c.bMa).to(f.aMa);});},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w;function d(u,y,x,z,B,A,C,D,E){var G;G=this;this.Jc=y;this.KC=x;this.config=z;this.aw=B;this.ESb=A;this.RO=C;this.XQ=D;this.jo=E;this.ejc=function(F,K){var O;G.jo.mark(w.Ua.i4,F.Wj.sa,"generate-challenge");O=!1;K.Lgc(function(L){O || (O=!0,G.jo.mark(w.Ua.h4,F.Wj.sa,"generate-challenge"));G.$J(F,K,L).then(function(I){K.f0a(I);G.gKb(K);}).catch(function(I){return K.XGb(I);});});};this.log=u.eb("DrmServices");this.aw().Vu && this.RO.Sjb().then(function(){G.Qdc();}).catch(function(F){G.log.error("Unable to load the persisted DRM data",F);});this.config.Mbb && this.PE(D(),g.dj.Xp).then(function(F){return F.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;r=a(0);l=a(1);h=a(7);n=a(48);c=a(355);f=a(86);g=a(57);k=a(62);m=a(229);p=a(228);q=a(356);v=a(12);t=a(145);w=a(56);d.prototype.BWb=function(u,y){return this.PE(y,u.type,u.context).then(function(x){return x.EWb(u.initData,u.dca).then(function(z){return [x,{ip:x.ew(),data:z.fl}];});});};d.prototype.oi=function(u,y){var x;x=this;this.log.info("Requesting challenges",this.Z9a(u,u.type));return this.PE(y,u.type,u.context).then(function(z){x.Zfb(u,z);return z.FWb(u.initData,u.dca).then(function(){return z;});});};d.prototype.Zfb=function(u,y){y.Rgc(u.Wj);this.ejc(u,y);};d.prototype.release=function(u,y){var x;x=this;this.log.info("Releasing server license",this.W$a(u));return this.QZb(u).then(function(){var z;z=Object.assign({active:!1,cf:[]},u.Wj);x.RO.i1(z);y.cec();return u;});};d.prototype.Z9a=function(u,y){return {movieId:u.Wj.L,xid:u.Wj.sa,type:(0,g.bza)(y)};};d.prototype.W$a=function(u){return {movieId:u.Wj?u.Wj.L:void 0,xid:u.Wj?u.Wj.sa:void 0,keySessionId:u.OB()};};d.prototype.$J=function(u,y,x){this.log.info("Sending license request",this.Z9a(u,x.yg));return this.KC.oi({sa:u.Wj.sa,Wg:u.Wj.Wg,z$:[u.Wj.Om],fl:[{sessionId:y.OB() || "session",data:x.fl}],yg:x.yg,ip:y.ew(),H2a:x.H2a,Oj:u.Wj.Oj,qh:u.Wj.qh});};d.prototype.QZb=function(u){this.log.info("Sending release request",this.W$a(u));return this.KC.release({sa:u.Wj.sa,cf:u.cf});};d.prototype.PE=function(u,y,x){return this.ESb.create().then(function(z){return z.createSession(u,y,x).then(function(){return z;});});};d.prototype.Pdc=function(u){var y;y=this;return this.KC.release({sa:u.sa,cf:u.cf}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};d.prototype.Qdc=function(){var u;u=this;this.Jc.zl(this.config.dCa,function(){u.log.trace("Removing cached sessions",{"count:":u.RO.A$.length});u.RO.A$.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return u.Pdc(x);}).then(function(){return u.RO.i1(x);});},Promise.resolve(void 0));});};d.prototype.gKb=function(u){var y;if(u.OB() && u.Wj){y=new p.Z3();y.cf=u.cf;y.sa=u.Wj.sa;y.L=u.Wj.L;this.RO.a0a(y);}};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(n.ck)),r.__param(2,(0,l.l)(c.xLa)),r.__param(3,(0,l.l)(k.Ws)),r.__param(4,(0,l.l)(v.uc)),r.__param(5,(0,l.l)(q.bMa)),r.__param(6,(0,l.l)(m.Wia)),r.__param(7,(0,l.l)(t.wU)),r.__param(8,(0,l.l)(f.AU))],a);b.yLa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u;function d(y,x,z,B,A,C,D){this.fo=y;this.yc=x;this.config=z;this.Kj=B;this.O7b=A;this.bY=C;this.e4b=D;this.log=this.fo.eb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.yQa=void 0;r=a(0);l=a(1);h=a(4);n=a(7);c=a(99);f=a(126);g=a(30);k=a(12);m=a(73);p=a(43);q=a(345);v=a(351);t=a(230);w=a(352);a=a(62);d.prototype.nF=function(){this.promise || (this.promise=this.pfc());return this.promise;};d.prototype.qPb=function(y,x){var z;z={initDataTypes:[p.ox],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],sessionTypes:[p.TEMPORARY]};y === f.ym.e3 && this.Kj.oib && (z.persistentState="required");y=z.videoCapabilities[0];x && (y.robustness=x);return [z];};d.prototype.jPb=function(y,x){var z;z=this;return new Promise(function(B,A){var C;C=m.Ab.UY(y);z.bY.create(C).yec(y,z.qPb(C,x)).then(function(D){z.log.trace("Created the media keys system access",{keySystem:y,supportedconfig:D.getConfiguration?JSON.stringify(D.getConfiguration()):void 0});D=z.O7b.create(y,D,C);z.Cca=D.Cca;B(D);}).catch(function(D){z.log.warn("Unable to create the media key system access object",{keySystem:y,error:D.message});A(new c.Yh(h.aa.JLa,h.Y.un,void 0,"Unable to create media keys system access. " + D.message,D));});});};d.prototype.TXb=function(){var y;y=this.config().qdb || [this.config().co];if(1 < y.length)return (y=y.map(function(x){return m.Ab.uva(m.Ab.UY(x));}),1 === new Set(y).size?Promise.resolve(y[0]):this.nF().then(function(x){return x.ew();}).then(function(x){return m.Ab.uva(x);}));y=m.Ab.UY(y[0]);return Promise.resolve(m.Ab.uva(y));};d.prototype.pHa=function(y){var x,z,B,A;x=this;z=y.ew();B=y.o4a();A=y.n4a();return y.createMediaKeys().then(function(C){B.createSession(C,p.TEMPORARY);return B.setServerCertificate(C,A.Eaa());}).then(function(){return B.generateRequest(p.ox,x.Dva(z),!1);}).then(function(){return B.close();}).then(function(){return y;}).catch(function(C){x.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};d.prototype.Dva=function(y){switch(y){case f.ym.hF:y=q.yMa;break;case f.ym.GC:y=q.bTa;break;default:y=q.lXa;}return y.map(this.yc.decode);};d.prototype.pfc=function(){var y;y=this;try{return this.e4b.get().then(function(x){return x.map(function(z,B){return function(){var A,C;A=B === x.length - 1;C=y.config().pHa && !A;return y.jPb(z.keySystem,z.robustness).then(function(D){return C?y.pHa(D):Promise.resolve(D);});};});}).then(function(x){return y.qfc(x);});}catch(x){return Promise.reject(x);}};d.prototype.qfc=function(y){return y.reduce(function(x,z){return x.then(function(B){return Promise.resolve(B);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};Va.Object.defineProperties(d.prototype,{pdb:{configurable:!0,enumerable:!0,get:function(){return this.Cca;}}});u=d;u=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.hb)),r.__param(1,(0,l.l)(g.Fi)),r.__param(2,(0,l.l)(k.uc)),r.__param(3,(0,l.l)(a.Ws)),r.__param(4,(0,l.l)(v.wQa)),r.__param(5,(0,l.l)(t.xja)),r.__param(6,(0,l.l)(w.IOa))],u);b.yQa=u;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v,t,w,u){this.fo=p;this.Ia=q;this.yc=v;this.config=t;this.Zq=w;this.Sq=u;}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;r=a(0);l=a(1);h=a(7);n=a(18);c=a(30);f=a(62);g=a(63);k=a(348);a=a(100);d.prototype.create=function(){var p;p=this;return this.Sq.nF().then(function(q){return new k.cMa(p.fo,p.Ia,p.yc,p.config,p.Zq,q);});};m=d;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(n.kd)),r.__param(2,(0,l.l)(c.Fi)),r.__param(3,(0,l.l)(f.Ws)),r.__param(4,(0,l.l)(g.LD)),r.__param(5,(0,l.l)(a.eA))],m);b.aMa=m;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J,N;Object.defineProperty(b,"__esModule",{value:!0});b.Ydb=void 0;d=a(750);l=a(777);h=a(786);n=a(789);c=a(795);f=a(799);g=a(1207);k=a(1210);m=a(1222);p=a(1231);q=a(1235);v=a(1237);t=a(1266);w=a(1268);u=a(1272);y=a(1287);x=a(1295);z=a(1301);B=a(1304);A=a(1311);C=a(227);D=a(1317);E=a(1324);G=a(1338);F=a(1344);K=a(1346);O=a(1353);L=a(1399);I=a(1421);M=a(1425);H=a(1429);J=a(1443);N=a(1446);b.Ydb=function(P){P.load(d.rB,g.$L,l.meb,k.gp,h.Yfb,n.T,c.Tqb,f.dbb,m.storage,p.JO,q.n2a,v.Geb,t.eG,w.jl,u.leb,y.qgb,x.x8a,z.zjb,B.jL,A.n6a,C.t6a,D.Ve,E.Jd,G.rb,F.ggb,K.iib,O.j,L.z3a,I.transports,M.Wm,H.Uh,J.n1a,N.ba);};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T,W,Q,ka,ra,R,fa,wa,ua,Ea,Xa,vb,nb,zb,Ma,Ya,bb,hb,kb,ob,Bb,Hb,Kb,Qb,Tb;Object.defineProperty(b,"__esModule",{value:!0});b.rB=void 0;r=a(1);d=a(37);l=a(27);h=a(48);n=a(87);c=a(147);f=a(751);g=a(752);k=a(753);m=a(754);p=a(69);q=a(83);v=a(30);t=a(32);w=a(25);u=a(112);y=a(63);x=a(358);z=a(755);B=a(359);A=a(756);C=a(757);D=a(758);E=a(218);G=a(360);F=a(759);K=a(226);O=a(129);L=a(760);I=a(18);M=a(361);H=a(761);J=a(762);N=a(111);P=a(763);X=a(7);V=a(357);S=a(764);U=a(86);ha=a(765);qa=a(362);xa=a(766);Aa=a(767);Oa=a(113);T=a(14);W=a(768);Q=a(364);ka=a(365);ra=a(769);R=a(366);fa=a(12);wa=a(45);ua=a(148);Ea=a(367);Xa=a(170);vb=a(770);nb=a(368);zb=a(369);Ma=a(236);Ya=a(771);bb=a(178);hb=a(772);kb=a(237);ob=a(773);Bb=a(774);Hb=a(177);Kb=a(775);Qb=a(235);Tb=a(776);b.rB=new r.Kd(function(Fb){Fb(d.E5).XG(function(){return {};}).la();Fb(d.xH).pn(JSON);Fb(d.mXa).pn(mb);Fb(c.aWa).pn(Math);Fb(d.nPa).pn(T.r5);Fb(d.lla).pn(T.wx);Fb(d.QWa).pn(T.HH);Fb(d.SKa).pn(Date);Fb(d.XM).pn(T.lf);Fb(d.lxb).pn(T.GD);Fb(V.oKa).to(S.nKa).la();Fb(I.kd).to(L.xIa).la();Fb(l.Nh).to(m.pKa).la();Fb(h.ck).to(f.dVa).la();Fb(n.aA).to(g.jOa).la();Fb(y.LD).to(D.qUa).la();Fb(c.P5).to(k.zUa).la();Fb(Ea.Fka).to(Bb.qQa).la();Fb(N.Sz).to(J.XKa).la();Fb(N.VKa).to(P.UKa).la();Fb(p.dt).to(z.RWa).la();Fb(q.Pz).to(B.Hia).la();Fb(v.Fi).to(A.kJa).la();Fb(t.Ii).to(C.SWa).la();Fb(w.ah).pn(E.wH);Fb(nb.XT).to(zb.pMa).la();Fb(u.Bja).to(G.Nk).txa();Fb(u.W3).to(G.Nk).la();Fb(u.jLa).to(G.Nk).la();Fb(u.Eja).to(G.Nk).la();Fb(K.ima).to(O.RH).la();Fb(M.FKa).to(H.EKa).la();Fb(U.kN).to(ha.oma).la();Fb(U.AU).to(ha.oma).la();Fb("Factory<LoggerFactory>").Vob(X.hb);Fb(qa.mja).to(xa.ZKa).la();Fb(Oa.SH).Te(function(Sb){return function(Zb){return new Aa.jWa(Sb.xb.get(I.kd),Sb.xb.get(h.ck),Zb);};});Fb(bb.V3).Te(function(Sb){return function(Zb){return new hb.TKa(Sb.xb.get(h.ck),Zb);};});Fb(W.Kla).vkc(Q.Jla);Fb(W.Tyb).Te(function(Sb){var Zb;Zb=Sb.xb.get(W.Kla);return function(){return new Zb(!1);};});Fb(W.Uyb).Te(function(Sb){var Zb;Zb=Sb.xb.get(W.Kla);return function(){return new Zb(!0);};});Fb(ka.NWa).Te(function(){return function(Sb){return new ra.OWa(Sb);};});Fb(ua.MU).Te(function(Sb){return function(Zb,vc,Kc){return new R.CTa(Sb.xb.get(N.Sz),Sb.xb.get(fa.uc),Sb.xb.get(wa.Vp),Sb.xb.get(Ea.Fka),Zb,vc,Kc);};});Fb(x.yRa).Te(function(){return function(Sb){return new F.zRa(Sb);};});Fb(Xa.lH).to(vb.zJa);Fb(Hb.m6).to(Kb.PWa).la();Fb(Ma.XU).Te(function(Sb){return function(Zb,vc){return new Ya.uWa(Sb.xb.get(h.ck),Zb,vc);};});Fb(kb.iMa).to(ob.hMa).la();Fb(Qb.Yia).to(Tb.$Ja).la();});},function(r,b,a){var h,n,c,f;function d(g){this.er=g;(0,n.Qq)(this,"timers");}function l(g,k){this.er=g;this.UKb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.dVa=void 0;r=a(0);h=a(1);n=a(54);c=a(37);f=a(5);l.prototype.cancel=function(){this.UKb(this.er);};d.prototype.Gk=function(g){return this.zl(f.Oa,g);};d.prototype.zl=function(g,k){var m;m=this.er.setTimeout(k,g.ia(f.va));return new l(this.er,function(p){p.clearTimeout(m);});};d.prototype.iS=function(g,k){var m;m=this.er.setInterval(k,g.ia(f.va));return new l(this.er,function(p){p.clearInterval(m);});};a=d;a=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(c.mXa))],a);b.dVa=a;},function(r,b,a){var l,h,n,c,f;function d(g,k){this.za=g;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.jOa=void 0;r=a(0);h=a(1);n=a(5);c=a(27);a=a(147);d.prototype.yB=function(){return this.za.rf.ia(n.Jo) * l.UJa + Math.floor(this.random.random() * l.UJa);};f=l=d;f.UJa=1E8;f=l=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(c.Nh)),r.__param(1,(0,h.l)(a.P5))],f);b.jOa=f;},function(r,b,a){var l,h;function d(n){this.Gjc=n;}Object.defineProperty(b,"__esModule",{value:!0});b.zUa=void 0;r=a(0);l=a(1);a=a(147);d.prototype.random=function(){return this.Gjc.random();};d.prototype.Ljb=function(n,c){if("number" !== typeof n)(c=n.end,n=n.start);else if("undefined" === typeof c)throw Error("max must be provided for randomInteger API");return Math.round(n + this.random() * (c - n));};h=d;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.aWa))],h);b.zUa=h;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v){var t;t=this;this.config=m;this.eQb=p;this.Ob=q;this.performance=v;this.X9b=function(w){t.OEa=w.Fa(t.rf);};(0,l.Qq)(this,"date");(0,l.Qq)(this,"performance");this.UHb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.OEa=h.Oa;this.Ob.addListener(k.Zja.bmb,this.X9b);}Object.defineProperty(b,"__esModule",{value:!0});b.pKa=void 0;r=a(0);l=a(54);h=a(5);n=a(1);c=a(37);f=a(357);g=a(112);k=a(16);d.prototype.CHb=function(m){return m.add(this.OEa);};Va.Object.defineProperties(d.prototype,{rf:{configurable:!0,enumerable:!0,get:function(){return this.bgb?(0,h.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,h.Vb)(this.eQb.now());}},HL:{configurable:!0,enumerable:!0,get:function(){return this.rf.add(this.OEa);}},bgb:{configurable:!0,enumerable:!0,get:function(){return this.config.yqb && this.UHb;}}});a=d;a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(f.oKa)),r.__param(1,(0,n.l)(c.SKa)),r.__param(2,(0,n.l)(g.Eja)),r.__param(3,(0,n.l)(c.lla)),r.__param(3,(0,n.optional)())],a);b.pKa=a;},function(r,b,a){var l,h;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.RWa=void 0;r=a(0);a=a(1);d.prototype.encode=function(n){return l.Bta(n);};d.prototype.decode=function(n){return l.Jsa(n);};d.Bta=function(n){if(!n)throw new TypeError("Invalid byte array");for(var c=0,f,g=n.length,k="";c < g;){f=n[c++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (n[c++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((n[c++] & 63) << 6) + (n[c++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(f);}return k;};d.Jsa=function(n){var c,f,g,k,m;c=n.length;f=0;k=0;if(!(0 <= c))throw Error("bad string");for(g=c;g--;){m=n.charCodeAt(g);128 > m?f++:f=2048 > m?f + 2:f + 3;}f=new Uint8Array(f);for(g=0;g < c;g++){m=n.charCodeAt(g);128 > m?f[k++]=m:(2048 > m?f[k++]=192 | m >>> 6:(f[k++]=224 | m >>> 12,f[k++]=128 | m >>> 6 & 63),f[k++]=128 | m & 63);}return f;};h=l=d;h=l=r.__decorate([(0,a.$)()],h);b.RWa=h;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.kJa=void 0;r=a(0);a=a(1);h=Array.prototype.slice;n=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");c={};f={};g={};k={};m=/\s+/g;[n,h].forEach(function(p){var v;for(var q=p.length;q--;){v=p[q];c[v]=q << 18;f[v]=q << 12;g[v]=q << 6;k[v]=q;}});d.prototype.encode=function(p){return l.Bta(p,n,"=");};d.prototype.decode=function(p){return l.Jsa(p);};d.Jsa=function(p){var q,v,t;p=p.replace(m,"");q=p.length;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(v + t);for(var w=0,u=0,y;u < v;){y=c[p[w++]] + f[p[w++]] + g[p[w++]] + k[p[w++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[u++]=y >>> 16;q[u++]=y >>> 8 & 255;q[u++]=y & 255;}if(0 < t && (y=c[p[w++]] + f[p[w++]],q[u++]=y >>> 16,1 < t && (y+=g[p[w++]],q[u++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};d.Bta=function(p,q,v){for(var t="",w=0,u=p.length,y=u - 2,x;w < y;){x=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(w == y){x=(p[w++] << 8) + p[w++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + v;}else if(w == u - 1){x=p[w++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + v + v;}return t;};h=l=d;h=l=r.__decorate([(0,a.$)()],h);b.kJa=h;},function(r,b,a){var l,h,n,c;function d(f,g){this.is=f;this.lk=g;}Object.defineProperty(b,"__esModule",{value:!0});b.SWa=void 0;r=a(0);l=a(1);a(4);h=a(25);n=a(83);c=a(14);d.prototype.bG=function(f,g,k){var m,p,q,v;m=this;if(g)if(k){p=k.A_;q=k.prefix;v=k.pea;this.dF(g,function(t,w){if(!v || m.is.Ch(w))f[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.dF(g,function(t,w){f[t]=w;});return f;};d.prototype.dF=function(f,g){for(var k in f){f.hasOwnProperty(k) && g(k,f[k]);}};d.prototype.LE=function(f,g){if(f.length == g.length){for(var k=f.length;k--;){if(f[k] != g[k])return !1;}return !0;}return !1;};d.prototype.U3a=function(f,g){if(f.length != g.length)return !1;f.sort();g.sort();for(var k=f.length;k--;){if(f[k] !== g[k])return !1;}return !0;};d.prototype.sf=function(f){var g,k,m;if(f){g=f.stack;k=f.number;m=f.message;m || (m="" + f);g?(f="" + g,0 !== f.indexOf(m) && (f=m + "\n" + f)):f=m;k && (f+="\nnumber:" + k);return f;}};d.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};d.prototype.mva=function(f){return this.getFunctionName(f.constructor);};d.prototype.fBa=function(f){var g,k;g=this;k="";this.is.wE(f) || this.is.I0a(f)?k=Array.prototype.reduce.call(f,function(m,p){return m + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Mr(f)?k=f:this.dF(f,function(m,p){k+=(k?", ":"") + "{" + m + ": " + (g.is.l8(p)?g.getFunctionName(p) || "function":p) + "}";});return "[" + this.mva(f) + " " + k + "]";};d.prototype.createElement=function(f,g,k,m){var p;p=c.$h.createElement(f);g && (p.style.cssText=g);k && (p.innerHTML=k);m && this.dF(m,function(q,v){p.setAttribute(q,v);});return p;};d.prototype.RUb=function(f,g){return function(k){return k[f] === g;};};d.prototype.C0=function(f){var g;g={};(f || "").split("&").forEach(function(k){var m,p;k=k.trim();m=k.indexOf("=");if(0 <= m){p=decodeURIComponent(k.substr(0,m)).toLowerCase();g[p]=decodeURIComponent(k.substr(m + 1));}else g[k.toLowerCase()]=void 0;});return g;};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.ah)),r.__param(1,(0,l.l)(n.Pz))],a);b.SWa=a;},function(r,b,a){var l,h,n;function d(c){this.Jc=c;}Object.defineProperty(b,"__esModule",{value:!0});b.qUa=void 0;r=a(0);l=a(1);h=a(48);n=a(63);d.prototype.Ks=function(c,f){var g;g=this;return new Promise(function(k,m){var p;p=g.Jc.zl(c,function(){m(new n.$s(c));});f.then(function(q){k(q);p.cancel();}).catch(function(q){m(q);p.cancel();});});};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.ck))],a);b.qUa=a;},function(r,b,a){var l;function d(h){this.LWb=h;this.vba=!1;this.Kba=this.Zg=this.OS=0;this.EZ=!1;this.Lba=0;}Object.defineProperty(b,"__esModule",{value:!0});b.zRa=void 0;l=a(15);d.prototype.vpa=function(h){h < this.OS && (this.Zg+=this.OS);this.OS=h;this.vba=!0;};d.prototype.AXb=function(){if(this.vba)return this.EZ?this.Lba - this.Kba:this.Zg + this.OS - this.Kba;};d.prototype.refresh=function(){var h;h=this.LWb();(0,l.Pa)(h) && this.vpa(h);};d.prototype.ric=function(){this.EZ || (this.vba && (this.Lba=this.Zg + this.OS),this.EZ=!0);};d.prototype.Jic=function(){this.EZ && (this.vba && (this.Kba+=this.Zg + this.OS - this.Lba),this.Lba=0,this.EZ=!1);};b.zRa=d;},function(r,b,a){var l,h,n,c;function d(f,g){this.za=f;this.waa=this.za.rf.ia(n.va) - 1;this.H5b=this.Fca=0;this.id="" + g.yB();}Object.defineProperty(b,"__esModule",{value:!0});b.xIa=void 0;r=a(0);l=a(1);h=a(27);n=a(5);a=a(87);d.prototype.Qb=function(){var f,g;f=this.za.rf.ia(n.va) - this.waa;if(f < this.Fca){g=this.Fca + 1;this.waa-=g - f;f=g;}this.Fca=f;return (0,n.Vb)(this.Fca);};d.prototype.LYb=function(){return this.H5b++;};Va.Object.defineProperties(d.prototype,{fC:{configurable:!0,enumerable:!0,get:function(){return (0,n.Vb)(this.waa);}}});c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.Nh)),r.__param(1,(0,l.l)(a.aA))],c);b.xIa=c;},function(r,b,a){var l,h,n,c;function d(f,g){this.is=f;this.Ve=g;}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;r=a(0);h=a(1);n=a(25);a=a(32);d.prototype.encode=function(f){var g,k;g=this;k="";this.Ve.dF(f,function(m,p){m=g.S6a(m) + "=" + g.S6a(p);k=k?k + ("," + m):m;});return k;};d.prototype.S6a=function(f){return this.is.tJ(f)?this.is.Rl(f)?"" + f:this.is.Mr(f)?(f=f.replace(l.rDa,this.Pza.bind(this)),!l.Tcc.test(f) && l.c8b.test(f) && (f='"' + f + '"'),f):this.is.j8(f)?"" + f:this.is.$oa(f)?"NaN":"":"";};d.prototype.Pza=function(f){return l.map[f];};c=l=d;c.map={'"':'""',"\r":"","\n":" "};c.rDa=/(?!^.+)["\r\n](?=.+$)/g;c.Tcc=/["].*["]/g;c.c8b=/[", ]/;c=l=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(n.ah)),r.__param(1,(0,h.l)(a.Ii))],c);b.EKa=c;},function(r,b,a){var l,h,n,c;function d(f,g,k){this.config=f;this.Hb=g;this.ta=k.eb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;r=a(0);l=a(1);h=a(25);n=a(111);a=a(7);d.prototype.assert=function(){};d.prototype.rIb=function(f,g){this.assert(this.Hb.tJ(f),g);};d.prototype.sIb=function(f,g){this.assert(this.Hb.Ch(f),g);};d.prototype.T8=function(f,g){this.assert(this.Hb.Mr(f),g);};d.prototype.yIb=function(f,g){this.assert(this.Hb.Vo(f),g);};d.prototype.wIb=function(f,g){this.assert(this.Hb.Mr(f) || null === f || void 0 === f,g);};d.prototype.S8=function(f,g){this.assert(this.Hb.Rl(f),g);};d.prototype.uIb=function(f,g){this.assert(this.Hb.Jpa(f),g);};d.prototype.xIb=function(f,g){this.assert(this.Hb.JW(f),g);};d.prototype.vIb=function(f,g){this.assert(this.Hb.sW(f),g);};d.prototype.qIb=function(f,g){this.assert(this.Hb.j8(f),g);};d.prototype.tIb=function(f,g){this.assert(this.Hb.l8(f),g);};d.prototype.H2b=function(){this.assert(!1,"invalid operation, this method should not be called");};c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.VKa)),r.__param(1,(0,l.l)(h.ah)),r.__param(2,(0,l.l)(a.hb))],c);b.XKa=c;},function(r,b,a){var l,h,n,c;function d(f){f=h.DT.call(this,f,"DebugConfigImpl") || this;f.Euc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;r=a(0);l=a(46);h=a(47);n=a(1);a=a(33);la(d,h.DT);Va.Object.defineProperties(d.prototype,{NJb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});c=d;r.__decorate([l.config(l.vd,"breakOnError")],c.prototype,"NJb",null);c=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(a.$ia))],c);b.UKa=c;},function(r,b,a){var l,h,n,c;function d(f){return h.DT.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=void 0;r=a(0);l=a(46);h=a(47);n=a(1);a=a(33);la(d,h.DT);Va.Object.defineProperties(d.prototype,{yqb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});c=d;r.__decorate([l.config(l.vd,"usePerformanceApi")],c.prototype,"yqb",null);c=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(a.$ia))],c);b.nKa=c;},function(r,b,a){var l,h,n,c;function d(f,g){this.Ia=f;this.entries=new Set();this.ta=g.eb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.oma=void 0;r=a(0);l=a(1);h=a(18);n=a(5);a=a(7);d.prototype.mark=function(f,g,k){f={name:f,Ou:this.Ia.Qb()};g && (f.sa=g);k && (f.sg=k);this.entries.add(f);return f;};d.prototype.Nva=function(){var f;f=[];this.entries.forEach(function(g){return f.push(g);});return f;};d.prototype.g$a=function(f){return this.Nva().filter(function(g){return g.sa === f;});};d.prototype.OYb=function(){var f;f={};try{f=this.Nva().filter(function(g){return !g.sa;}).reduce(function(g,k){g[k.name]=k.Ou.ia(n.va);return g;},{});}catch(g){this.ta.error(" getMapOfCommonMarks exception",g);}return f;};d.prototype.xkb=function(f){var g;g=this;this.Nva().forEach(function(k){k.sa === f && g.entries.delete(k);});};c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.kd)),r.__param(1,(0,l.l)(a.hb))],c);b.oma=c;},function(r,b,a){var l,h,n,c,f,g,k,m,p;function d(q,v){this.Ia=q;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.ZKa=void 0;r=a(0);h=a(1);n=a(18);c=a(36);f=a(4);g=a(16);k=a(5);m=a(14);a=a(363);d.prototype.J5a=function(q){var v,t,w,u,y,x,z,B,A,C;v=this;u=q.mediaTime.value;y=q.zt.value;x=q.Db.value;z=q.state.value;B={segmentId:q.bwa(),mediaTime:u,segmentTime:q.tF(),bufferingState:l.WJb[y],presentingState:l.Tbc[x],playbackState:l.Kac[z],mseBuffersBusy:this.i_b(q),intBuffersBusy:this.tYb(q),tabVisible:this.Hjc(),decodedFrameCount:this.zQb(q),videoElementInDom:this.Ymc(q),lastVideoSync:this.Ia.Qb().Fa((0,k.Vb)(q.n2)).ia(k.va)};A=x === g.qb.Hg?q.jb.Gh?this.config.xhb:this.config.whb:this.config.Ufb;if(y !== g.kg.Xe){if((y=f.Y.Ktb,this.U1a(B.mseBuffersBusy,B.intBuffersBusy)))C=l.hJa;}else (x !== g.qb.Xc?y=f.Y.Mtb:(y=f.Y.Ltb,(x=q.df) && 0 === x.Iaa() && (C=l.kAb)),(x=q.df) && x.$b.sourceBuffers.forEach(function(D){var E,G;E=l.ag[D.mediaType];B[E + "Ranges"]=D.Baa();try{G=D.buffered();}catch(F){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - u,B[E + "Undecoded"]=D,1 < G.length && (C=l.Dsb),u < 1E3 * G.start(0) || u > 1E3 * G.end(0)?C=l.Esb:D < A.ia(k.va)?C=l.Fsb:v.U1a(B.mseBuffersBusy,B.intBuffersBusy) && (C=l.hJa)):(B[E + "Undecoded"]=0,C=l.Csb);}));x=q.Lkb.aab();z=u === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);B.lastRepositionCausedTimeout=z;B.trackChangeInProgress=null === (w=q.rb) || void 0 === w?void 0:w.zGa;Object.assign(B,x);q="";try{q=JSON.stringify(B);}catch(D){q="Cannot stringify details: " + D;}return new c.rd(f.aa.MRa,y,C,void 0,void 0,void 0,q,void 0);};d.prototype.i_b=function(q){var v;if(q.$b){v={};q.$b.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.updating()};});return v;}};d.prototype.tYb=function(q){var v;if(q.$b){v={};q.$b.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.Ri()};});return v;}};d.prototype.Hjc=function(){return !m.$h.hidden;};d.prototype.zQb=function(q){return (q=q.df) && (q=q.$b.ea) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};d.prototype.Ymc=function(q){if(q=q.df)if(q=q.$b.ea)return m.$h.body.contains(q);return !1;};d.prototype.U1a=function(q,v){var t,w,u,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=v.audio) || void 0 === w?void 0:w.updating) && (null === (u=q.video) || void 0 === u?void 0:u.updating) === (null === (y=v.video) || void 0 === y?void 0:y.updating));};p=l=d;p.Csb="1";p.Dsb="2";p.Esb="3";p.hJa="4";p.Fsb="5";p.kAb="6";p.ag=["Audio","Video"];p.WJb=["","NORMAL","BUFFERING","STALLED"];p.Tbc=["","WAITING","PLAYING ","PAUSED","ENDED"];p.Kac=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(n.kd)),r.__param(1,(0,h.l)(a.Lka))],p);b.ZKa=p;},function(r,b,a){var l,h,n,c;function d(f,g,k){var m;m=this;this.hh=f;this.Jc=g;this.O9=k;this.uR=function(p){m.Hk=void 0;m.$kc(p || m.O9);};this.vdb=(0,n.Vb)(-this.O9.ia(n.va));}Object.defineProperty(b,"__esModule",{value:!0});b.jWa=void 0;r=a(0);l=a(1);h=a(18);n=a(5);a=a(48);d.prototype.Gk=function(f){this.tEa=f;this.Hk=this.Hk || this.Rg(this.uR);};d.prototype.Oi=function(){this.Hk && this.Hk.cancel();this.Hk=void 0;};d.prototype.$kc=function(f){var g,k;g=this.hh.Qb();if(this.tEa){k=f.Fa(g.Fa(this.vdb));0 >= k.Mm(n.Oa)?(f=this.tEa,this.tEa=void 0,this.vdb=g,f()):this.Hk=this.Hk || this.Jc.zl(k,this.uR.bind(this,f));}};d.prototype.Rg=function(f){return this.Jc.zl(n.Oa,f);};c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.kd)),r.__param(1,(0,l.l)(a.ck))],c);b.jWa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kla="PrioritizedSetOfListsSymbol";b.Tyb="PrioritizedSetOfListsFactorySymbol";b.Uyb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function d(l){this.Tr=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.OWa=void 0;d.prototype.toString=function(){return this.href;};Va.Object.defineProperties(d.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Tr + this.searchParams.toString();}}});b.OWa=d;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,h){this.searchParams[l]=h;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,h,n){var c;c=oa(h);h=c.next().value;c=c.next().value;return "" + l + (0 == n?"?":"&") + h + "=" + c;},"");};},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p){this.userAgentData=p;this.Hd=this.sUb(k,m.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.WWa=b.zJa=void 0;r=a(0);l=a(1);h=a(12);n=a(33);c=a(37);a=a(177);d.prototype.lba=function(k,m){var p;if(m=this.O_b(m))switch(k){case g.lC:p=0 < m.length?Number(m[0]):0;break;case g.dR:p=1 < m.length?Number(m[1]):0;break;case g.xR:p=2 < m.length?Number(m[2]):0;break;case g.Lfa:p=3 < m.length?Number(m[3]):0;}return void 0 === p || isNaN(p)?0:p;};d.prototype.O_b=function(k){return null === k || void 0 === k?void 0:k.split(".");};d.prototype.rK=function(k){return this.Hd.name === k;};d.prototype.uK=function(k){return this.Hd.tea.name === k;};d.prototype.f3b=function(k){return this.Hd.r0b === k;};d.prototype.sUb=function(k,m){return Object.assign(Object.assign({r0b:this.uUb(k,m)},this.rUb(k,m)),{tea:this.vUb(k,m)});};d.prototype.uUb=function(k,m){return m && m.hardware?m.hardware:(/Mobile|iPhone/).test(k)?h.d5.phone:(/Android/).test(k)?h.d5.Ijc:h.d5.EMb;};d.prototype.rUb=function(k,m){return m && m.name && m.version?{name:m.name,version:m.version}:(/OPR/).test(k)?{name:h.Eo.opera,version:""}:(/Tesla/).test(k)?{name:h.Eo.vob,version:""}:(m=k.match(/Edge\/(\d*)\./))?{name:h.Eo.Xr,version:m[1]}:(m=k.match(/Edg\/(\d*)\./))?{name:h.Eo.p6a,version:m[1]}:(m=k.match(/Chrome\/(\d*)\./))?{name:h.Eo.vra,version:m[1]}:(m=k.match(/Firefox\/(\d*)\./))?{name:h.Eo.T7a,version:m[1]}:(k=k.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:h.Eo.vlb,version:k[1]}:{name:h.Eo.vra,version:""};};d.prototype.vUb=function(k,m){return m && m.os && m.os.name && m.os.version?{name:m.os.name,version:m.os.version}:(/CrOS/).test(k)?{name:h.Tp.$2a,version:""}:(m=k.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:h.Tp.veb,version:m[1] + "." + m[2] + "." + m[3]}:(/Windows NT/).test(k)?{name:h.Tp.DHa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(k) || (/Android.*Chrome\/[.0-9]* /).test(k)?{name:h.Tp.D8,version:""}:(/Linux/).test(k)?{name:h.Tp.Tdb,version:""}:(/iPhone/).test(k)?{name:h.Tp.bcb,version:""}:{name:h.Tp.DHa,version:""};};Va.Object.defineProperties(d.prototype,{mcb:{configurable:!0,enumerable:!0,get:function(){return this.rK(h.Eo.vra);}},TZ:{configurable:!0,enumerable:!0,get:function(){return this.rK(h.Eo.Xr);}},cC:{configurable:!0,enumerable:!0,get:function(){return this.rK(h.Eo.p6a);}},ica:{configurable:!0,enumerable:!0,get:function(){return this.rK(h.Eo.T7a);}},lya:{configurable:!0,enumerable:!0,get:function(){return this.rK(h.Eo.opera);}},ZZ:{configurable:!0,enumerable:!0,get:function(){return this.rK(h.Eo.vlb);}},Scb:{configurable:!0,enumerable:!0,get:function(){return this.rK(h.Eo.vob);}},QZ:{configurable:!0,enumerable:!0,get:function(){return this.uK(h.Tp.D8);}},yQ:{configurable:!0,enumerable:!0,get:function(){return this.uK(h.Tp.bcb);}},aca:{configurable:!0,enumerable:!0,get:function(){return this.uK(h.Tp.D8) && this.f3b(h.d5.phone);}},SZ:{configurable:!0,enumerable:!0,get:function(){return this.uK(h.Tp.$2a);}},l3b:{configurable:!0,enumerable:!0,get:function(){return this.uK(h.Tp.Tdb);}},tK:{configurable:!0,enumerable:!0,get:function(){return this.uK(h.Tp.veb);}},Ny:{configurable:!0,enumerable:!0,get:function(){return this.uK(h.Tp.DHa);}},sq:{configurable:!0,enumerable:!0,get:function(){return this.lba(g.lC,this.Hd.version);}},s$b:{configurable:!0,enumerable:!0,get:function(){return this.lba(g.lC,this.Hd.tea.version);}},t$b:{configurable:!0,enumerable:!0,get:function(){return this.lba(g.dR,this.Hd.tea.version);}},u$b:{configurable:!0,enumerable:!0,get:function(){return this.lba(g.xR,this.Hd.tea.version);}}});f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(c.QWa)),r.__param(1,(0,l.l)(n.iU)),r.__param(2,(0,l.l)(a.m6))],f);b.zJa=f;(function(k){k[k.lC=0]="major";k[k.dR=1]="minor";k[k.xR=2]="patch";k[k.Lfa=3]="revision";})(g=b.WWa || (b.WWa={}));},function(r,b,a){var l,h,n;function d(c,f,g){this.Jc=c;this.tGa=f;this.Hy=g;}Object.defineProperty(b,"__esModule",{value:!0});b.uWa=void 0;r=a(0);l=a(48);h=a(1);n=a(5);d.prototype.cF=function(){this.Hk || (this.Hk=this.Jc.zl((0,n.Vb)(this.tGa),this.Hy));};d.prototype.Qs=function(){this.Hk && this.Hk.cancel();this.Hk=void 0;};a=d;a=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(l.ck))],a);b.uWa=a;},function(r,b,a){var l,h;function d(n,c){this.Jc=n;this.O9=c;}Object.defineProperty(b,"__esModule",{value:!0});b.TKa=void 0;r=a(0);l=a(1);a=a(48);d.prototype.Gk=function(n){this.Oi();this.Hk=this.Jc.zl(this.O9,n);};d.prototype.Oi=function(){this.Hk && this.Hk.cancel();this.Hk=void 0;};h=d;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.ck))],h);b.TKa=h;},function(r,b,a){var l,h;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=void 0;r=a(0);l=a(1);h=a(237);d.prototype.BP=function(n,c){var f;f=this;n && Object.entries(c).forEach(function(g){var k,m,p;k=oa(g);g=k.next().value;k=k.next().value;if(f.V2b(k)){m=oa(k);k=m.next().value;p=m.next().value;m=n[k];Array.isArray(m)?(f.Rsa(n,g,k),m.forEach(function(q){f.BP(q,p);})):k === h.Sk?Object.values(n).forEach(function(q){f.BP(q,p);}):(f.Rsa(n,g,k),"object" === typeof m && f.BP(m,p));}else f.Rsa(n,g,k);});};d.prototype.V2b=function(n){return Array.isArray(n);};d.prototype.Rsa=function(n,c,f){n.hasOwnProperty(c) || c === f || Object.defineProperty(n,c,{get:function(){return n[f];},set:function(g){return n[f]=g;},enumerable:!0});};a=d;a=r.__decorate([(0,l.$)()],a);b.hMa=a;},function(r,b,a){var l,h,n;function d(c){this.config=c;}Object.defineProperty(b,"__esModule",{value:!0});b.qQa=void 0;r=a(0);l=a(12);h=a(17);a=a(1);d.prototype.ew=function(){return this.U2b()?h.BLa:(/widevine/i).test(this.config().co)?h.sja:(/fps/i).test(this.config().co)?"fairplay":h.b4;};d.prototype.U2b=function(){return (/clearkey/i).test(this.config().co);};n=d;n=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(l.uc))],n);b.qQa=n;},function(r,b,a){var l,h,n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.PWa=void 0;r=a(0);n=a(1);a=a(14);c={d_:!1,reason:"uninitialized"};null === (h=null === (l=null === a.lf || void 0 === a.lf?void 0:a.lf.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === h?void 0:h.call(l,["platformVersion"]).then(function(f){c=(f=f.platformVersion)?{d_:!0,version:f}:{d_:!1,reason:"undefined"};}).catch(function(){c={d_:!1,reason:"exception"};});Va.Object.defineProperties(d.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return c;}}});l=d;l=r.__decorate([(0,n.$)()],l);b.PWa=l;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t;function d(w,u,y,x,z,B){this.kn=w;this.config=y;this.Zq=x;this.za=z;this.is=B;this.log=u.eb("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ja=b.Xia=void 0;r=a(0);h=a(1);n=a(4);c=a(7);f=a(5);g=a(84);k=a(12);m=a(63);p=a(27);q=a(25);v=a(73);t=a(43);b.Xia="errors";d.prototype.load=function(){var w,u;w=this;if(!this.config().z6a)return Promise.resolve([]);u=(0,f.Vb)(this.config().nKb);return this.Zq.Ks(u,this.Wdb([])).catch(function(y){w.log.error("Load failed.",y);return [];});};d.prototype.add=function(w,u,y,x,z){var B;B=this;return this.config().z6a && u && y && (u === v.Ab.rla || u === v.Ab.t6 + "." + t.rx)?this.Wdb([{time:w,keySystem:u,code:y,xc:x,yd:z}]).then(function(){}).catch(function(A){B.log.error("Add failed.",A);}):Promise.resolve();};d.prototype.n5b=function(){var w;w=this;return this.kn.create().then(function(u){return u.load(b.Xia).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.Da === n.Y.rA)return (w.log.warn("No CachedErrors."),[]);throw y;});});};d.prototype.mWb=function(w){return {time:(0,f.$i)(w[0]),keySystem:w[1],code:w[2],xc:w[3],yd:w[4]};};d.tkc=function(w){return [w.time.ia(f.Jo),w.keySystem,w.code,w.xc,w.yd];};d.prototype.Afc=function(w){var u;u={version:1,errors:w.map(l.tkc)};return this.kn.create().then(function(y){return y.save(b.Xia,u,!1);}).then(function(){return w;});};d.prototype.XUb=function(w){var u,y;u=(0,f.$i)(this.config().mKb);y=this.za.rf.Fa(u);return w.filter(function(x){return x.time.Fa(y).Icb();});};d.prototype.Imc=function(w){return w.filter(this.S2b.bind(this)).map(this.mWb);};d.prototype.S2b=function(w){return this.is.Rl(w[0]) && this.is.Mr(w[1]) && this.is.Rl(w[2]) && (this.is.Rl(w[3]) || void 0 === w[3]) && (this.is.Mr(w[4]) || void 0 === w[4])?!0:!1;};d.prototype.SUb=function(w){var u;u=this;return w.filter(function(y){return u.config().WTb.includes(y.code);});};d.prototype.TUb=function(w){return w.slice(-this.config().kKb);};d.prototype.Wdb=function(w){var u;u=this;return this.n5b().then(function(y){return u.Imc(y);}).then(function(y){return u.XUb(y);}).then(function(y){return y.concat(w);}).then(function(y){return u.SUb(y);}).then(function(y){return u.TUb(y);}).then(function(y){return u.Afc(y);});};a=l=d;a=l=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(g.Nz)),r.__param(1,(0,h.l)(c.hb)),r.__param(2,(0,h.l)(k.uc)),r.__param(3,(0,h.l)(m.LD)),r.__param(4,(0,h.l)(p.Nh)),r.__param(5,(0,h.l)(q.ah))],a);b.$Ja=a;},function(r,b,a){var d,l,h,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.meb=void 0;d=a(778);l=a(779);r=a(1);h=a(114);n=a(7);c=a(784);b.meb=new r.Kd(function(f){f(n.hb).to(l.FPa).la();f(h.PM).to(d.GPa).la();f(n.oka).to(c.uPa).la();});},function(r,b,a){var l;function d(){this.dnb={};this.Jp=[];}Object.defineProperty(b,"__esModule",{value:!0});b.GPa=void 0;r=a(0);a=a(1);d.prototype.sfa=function(h,n){n && (this.dnb[h]=n,this.Jp=Object.values(this.dnb));};l=d;l=r.__decorate([(0,a.$)()],l);b.GPa=l;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q){this.Ia=m;this.Jp=p;this.qza=q;}Object.defineProperty(b,"__esModule",{value:!0});b.FPa=void 0;r=a(0);l=a(238);h=a(1);n=a(781);c=a(18);f=a(114);g=a(7);k=a(782);d.prototype.eb=function(m,p,q,v,t){q=void 0 === q?this.Jp:q;return p?new n.qTa(this.Ia,this.qza,q,p,m):t?new k.JIa(this.Ia,this.qza,q,m,v || "",t):new l.OM(this.Ia,this.qza,q,m);};a=d;a=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(c.kd)),r.__param(1,(0,h.l)(f.PM)),r.__param(2,(0,h.l)(g.oka))],a);b.FPa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.g2a=void 0;b.g2a=function(a,d){var h;a=a.IYb();for(var l=0;l < d.length;++l){h=d[l];void 0 != h && null != h && (h.Ih && (h=h.Ih),h.constructor === Uint8Array?a.rHb(h):"MediaRequest" === h.constructor.name?a.$Gb(h):"string" === typeof h?a.oHb(h):"function" === typeof h?a.TGb(h):h instanceof Error?a.QGb(h):h instanceof Object && "function" === typeof h.toJSON?a.k0a(h.toJSON()):h instanceof Object?a.k0a(h):a.tHb(h));}return a.kj();};},function(r,b,a){var l,h,n;function d(c,f,g,k,m){c=n.OM.call(this,c,f,g,m) || this;c.j=k;(0,l.Qq)(c,"playback");return c;}Object.defineProperty(b,"__esModule",{value:!0});b.qTa=void 0;l=a(54);h=a(370);n=a(238);la(d,n.OM);d.prototype.T9=function(c){return new d(this.Ia,this.r9,this.Jp,this.j,c);};d.prototype.qE=function(c,f,g){c=new h.nka(c,this.uq,this.Ia.Qb(),f,g,this.j.index);f=oa(this.Jp.Jp);for(g=f.next();!g.done;g=f.next()){g=g.value;g(c,this.j);}};b.qTa=d;},function(r,b,a){var l,h;function d(n,c,f,g,k,m){n=l.OM.call(this,n,c,f,g) || this;n.groups=k;Array.isArray(m)?n.prefix=m:m && "string" === typeof m && (n.prefix=[],n.prefix.push(m));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.JIa=void 0;l=a(238);h=a(783);la(d,l.OM);d.prototype.qE=function(n,c,f){n=new h.IIa(n,this.uq,this.Ia.Qb(),c,f,this.prefix);c=oa(this.Jp.Jp);for(f=c.next();!f.done;f=c.next()){f=f.value;f(n);}};d.prototype.T9=function(n){return new d(this.Ia,this.r9,this.Jp,n,this.groups,this.prefix);};b.JIa=d;},function(r,b,a){var l,h;function d(n,c,f,g,k,m,p){this.level=n;this.uq=c;this.timestamp=f;this.message=g;this.gd=k;this.prefix=m;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;l=a(5);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};d.prototype.cha=function(n,c){n=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (c?"":" " + this.ajc(!!n));return (this.timestamp.ia(l.va) / 1E3).toFixed(3) + "|" + this.index + "|" + (h[this.level] || this.level) + "|" + this.uq + "| " + n;};d.prototype.ajc=function(n){var k;for(var c=this.gd.length,f="",g=0;g < c;++g){k=this.gd[g].Tw;g && f.length && (f+=" ");if("object" === typeof k){if(null === k)f+="null";else if(k instanceof Error)f+=this.$ic(k,n);else try{f+=JSON.stringify(k);}catch(m){f+=this.Zic(k);}}else f+=k;}return f;};d.prototype.$ic=function(n,c){return n.toString() + (n.stack && !c?"\n" + n.stack:"") + "\n";};d.prototype.Zic=function(n){var c;c=[];return JSON.stringify(n,function(f,g){if("object" === typeof g && null !== g){if(-1 !== c.indexOf(g))return "<cycle>";c.push(g);}return g;});};b.IIa=d;},function(r,b,a){var l,h,n,c;function d(f,g){this.yc=f;this.Ve=g;}Object.defineProperty(b,"__esModule",{value:!0});b.uPa=void 0;r=a(0);l=a(1);h=a(785);n=a(30);a=a(32);d.prototype.IYb=function(){return new h.vPa(this.yc,this.Ve);};c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.Fi)),r.__param(1,(0,l.l)(a.Ii))],c);b.uPa=c;},function(r,b,a){var p,q,v;function d(t,w){this.yc=t;this.Ve=w;this.gd=[];}function l(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function h(t){return m.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function n(t,w){w=m.call(this,w,function(u){return {Base64:t.encode(u)};}) || this;w.yc=t;return w;}function c(t,w){w=m.call(this,w,function(u){return u();}) || this;w.Ve=t;return w;}function f(t){return m.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function g(t,w,u){w=m.call(this,w,u) || this;w.Ve=t;return w;}function k(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function m(t,w){this.Tw=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.vPa=void 0;r=a(0);p=a(1);q=a(32);a=a(30);m.prototype.oY=function(t){return this.Tw === t;};la(k,m);k.prototype.dM=function(t,w){return w?"":"\r\n" + this.Tw;};la(g,m);g.prototype.dM=function(){var t;t="";this.Ve.dF(this.value,function(w,u){try{t+=", " + w + ": " + u;}catch(y){try{t+=", " + w + ": " + JSON.stringify(u);}catch(x){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};la(f,m);f.prototype.dM=function(t){var w;w="\r\n" + this.Tw.message;t || (w+="\r\n" + this.Tw.stack);return w;};la(c,m);c.prototype.dM=function(){var t;t="";this.Ve.dF(this.value,function(w,u){t+=", " + w + ": " + u;});return t.replace(/[\r\n]+ */g," ");};la(n,m);n.prototype.dM=function(t,w){return this.Tw && !w?"\r\n" + this.yc.encode(this.Tw):"";};la(h,m);h.prototype.dM=function(){return this.Tw?this.Tw.toJSON():"";};la(l,m);l.prototype.dM=function(){return ", " + (this.Tw.toString?"" + this.Tw.toString():"");};d.prototype.oHb=function(t){this.gd.push(new k(t));};d.prototype.k0a=function(t){this.gd.push(new g(this.Ve,t));};d.prototype.QGb=function(t){this.gd.push(new f(t));};d.prototype.TGb=function(t){this.gd.push(new c(this.Ve,t));};d.prototype.rHb=function(t){this.gd.push(new n(this.yc,t));};d.prototype.$Gb=function(t){this.gd.push(new h(t));};d.prototype.tHb=function(t){this.gd.push(new l(t));};d.prototype.kj=function(){return this.gd;};v=d;v=r.__decorate([(0,p.$)(),r.__param(0,(0,p.l)(a.Fi)),r.__param(1,(0,p.l)(q.Ii))],v);b.vPa=v;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.Yfb=void 0;r=a(1);d=a(371);l=a(787);b.Yfb=new r.Kd(function(h){h(d.RQa).to(l.QQa).la();});},function(r,b,a){var l,h,n;function d(c){this.Jc=c;}Object.defineProperty(b,"__esModule",{value:!0});b.QQa=void 0;r=a(0);l=a(1);h=a(788);a=a(48);d.prototype.s4a=function(c,f){return new h.SQa(this.Jc,c,f);};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.ck))],n);b.QQa=n;},function(r,b){function a(d,l,h){this.Jc=d;this.config=l;this.getTime=h;}Object.defineProperty(b,"__esModule",{value:!0});b.SQa=void 0;a.prototype.observe=function(d,l){var h;h=this;this.cancel();this.Hk=this.Jc.iS(this.config.H$a(),function(){h.getTime() >= d && (h.cancel(),l());});};a.prototype.cancel=function(){this.Hk && (this.Hk.cancel(),this.Hk=void 0);};b.SQa=a;},function(r,b,a){var d,l,h,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.T=void 0;r=a(1);d=a(239);l=a(372);h=a(790);n=a(793);c=a(375);f=a(794);b.T=new r.Kd(function(g){g(d.Zla).to(h.qVa).la();g(l.mVa).to(n.lVa).la();g(c.xWa).to(f.wWa).la();});},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w;function d(u,y,x,z,B,A,C,D,E,G){this.Ia=u;this.zg=y;this.eR=x;this.uHa=z;this.G0=B;this.Jc=A;this.EO=C;this.Vi=D;this.Vta=E;this.bj=G;}Object.defineProperty(b,"__esModule",{value:!0});b.qVa=void 0;r=a(0);l=a(1);h=a(18);n=a(7);c=a(371);f=a(148);g=a(373);k=a(374);m=a(791);p=a(792);q=a(101);v=a(48);t=a(369);a=a(32);d.prototype.nPb=function(u,y,x){return new m.rVa(this.Ia,this.zg,this.eR,this.uHa,y,u,this.Vi,this.G0,this.bj,this.Vta,x);};d.prototype.IOb=function(u,y){return new p.yJa(this.zg,u,y,this.eR,this.Jc,this.EO);};w=d;w=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.kd)),r.__param(1,(0,l.l)(n.hb)),r.__param(2,(0,l.l)(c.RQa)),r.__param(3,(0,l.l)(k.aXa)),r.__param(4,(0,l.l)(g.mTa)),r.__param(5,(0,l.l)(v.ck)),r.__param(6,(0,l.l)(q.yT)),r.__param(7,(0,l.l)(f.MU)),r.__param(8,(0,l.l)(t.XT)),r.__param(9,(0,l.l)(a.Ii))],w);b.qVa=w;},function(r,b,a){var c,f,g;function d(k,m,p,q,v,t,w,u,y,x,z){var B;B=this;this.Ia=k;this.eR=p;this.pCa=q;this.config=v;this.zb=t;this.Vi=w;this.G0=u;this.bj=y;this.Hl=z;this.bUb=Object.values(c.Qa).map(function(A){return {event:A,Hy:function(C){return B.Ob.Zc(A,C);}};});this.Ob=x.create();this.xG=[];this.log=m.eb("SegmentManager");this.LJ=!0;this.pm=this.bj.createElement("div",g.Pla);}function l(k,m,p,q,v,t,w,u,y,x,z){var B;B=this;this.log=k;this.config=m;this.Z8b=p;this.pCa=q;this.Vi=v;this.G0=t;this.Xw=w;this.G=u;this.pm=y;this.zb=x;this.Hl=z;this.TO=function(){B.hG && (B.hG.cancel(),B.hG=void 0);};this.Lwa=function(A){B.log.trace("Received the transition event",{movieId:A.L});B.ddc();};this.jza=function(){};this.log.debug("Constructing session data",h(u));this.pkc=new Promise(function(A){B.ddc=A;});}function h(k){return {movieId:k.L};}function n(k){return JSON.stringify({movieId:k.L,startPts:k.ca,logicalEnd:k.Ck,params:k.Gb?{trackingId:k.Gb.Gl,authParams:k.Gb.d9,sessionParams:k.Gb.ro,disableTrackStickiness:k.Gb.bta,uiPlayStartTime:k.Gb.kM,loadImmediately:k.Gb.Qca,playbackState:k.Gb.playbackState?{currentTime:k.Gb.playbackState.currentTime,volume:k.Gb.playbackState.volume,muted:k.Gb.playbackState.muted,playbackRate:k.Gb.playbackState.playbackRate}:void 0,pin:k.Gb.pib,heartbeatCooldown:k.Gb.Zwa,uiLabel:k.Gb.me,uxLabels:k.Gb.Bha}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.rVa=void 0;c=a(16);f=a(5);g=a(17);l.prototype.load=function(k){var m,p;m=this;this.log.trace("Loading new segment",h(this.G));this.X=this.pCa.aP(this.config,this.G0,this.Vi,this.G,this.zb,this.Hl);this.X.addEventListener(c.Qa.pQ,function(q){m.log.trace("Segment is inactive",h(m.G));m.Xw.close(m.Vi(q.errorCode));});this.X.addEventListener(c.Qa.closed,this.TO);if(k)(this.log.debug("Pausing background segment",h(this.G)),this.X.addEventListener(c.Qa.sya,this.Lwa),this.X.dib());else {this.pm.appendChild(this.X.pp());p=function(q){m.Lwa(q);m.X.removeEventListener(c.Qa.loaded,p);};this.X.addEventListener(c.Qa.loaded,p);}};l.prototype.observe=function(){var k,m,p;k=this;this.log.trace("Observing segment",n(this.G));if(this.hG)this.log.trace("Segment is currently observing",h(this.G));else if(this.G.Gb && this.G.Gb.Qca)this.jza(this);else {m=this.Z8b.s4a(this.config,function(){var q;if(k.X){q=k.X.Ut();if(q)return q;}return 0;});p=this.wKb(this.G);this.log.trace("Adding a moment to watch",{time:p});m.observe(p,function(){k.log.trace("Segment has reached its loading point",h(k.G));k.jza(k);k.TO();});}};l.prototype.close=function(k){this.log.info("Closing segment",{segment:n(this.G),error:k});return this.X?(this.X.removeEventListener(c.Qa.sya,this.Lwa),this.X.close(k)):Promise.resolve();};l.prototype.$9b=function(k){this.jza=k;};l.prototype.wKb=function(k){var m,p;m=k.Ck;k=k.Gb?k.Gb.Qca:!1;p=0;m && !k && (p=m - this.config.c$a(),p < this.config.f$a() && (k=m - this.config.f$a(),p=m - k / 2));return p;};d.prototype.OZb=function(){return this.ii && this.ii.X?this.ii.X.isReady():!1;};d.prototype.pp=function(){return this.pm;};d.prototype.bK=function(){if(!this.ii || !this.ii.X)throw Error("Player not ready");return this.ii.X;};d.prototype.Tlc=function(k){var m,p;p=this.rua(k);p?this.dqb(p,k):this.zb.Be(k.id) || this.log.error("Tried to update a non-existent segment",{segment:n(k),currentMovieId:this.ii.G.L,queuedMovieIds:this.xG.map(function(q){return q.G.L;}),xid:null === (m=this.ii.X) || void 0 === m?void 0:m.hw()});};d.prototype.pg=function(k){var m;this.log.info("Adding segment",n(k));if(this.LJ){this.log.trace("First segment, loading",h(k));m=this.aeb(k);this.LJ=!1;}else (this.log.trace("Subsequent segment, caching",h(k)),(m=this.rua(k))?this.dqb(m,k):(m=this.createSession(k),this.xG.push(m),this.ii.observe()));return m?m.pkc:null;};d.prototype.transition=function(k,m){var p,q,v;q=this.VK;v=null === q || void 0 === q?void 0:q.X;if(q && v)return (this.VK=void 0,this.log.info("Transitioning segment",n(q.G)),v.iFa(this.Ia.Qb().ia(f.va)),this.mpb(q,m));m=null === q || void 0 === q?void 0:q.G;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.ii.G.L,xid:null === (p=this.ii.X) || void 0 === p?void 0:p.hw(),nextSegmentId:k,currentSegment:n(this.ii.G),nextSegment:m?n(m):void 0,queuedMovieIds:this.xG.map(function(t){return t.G.L;})});return Promise.reject();};d.prototype.close=function(k){var m;m=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.ii.G)),nextSession:this.VK?JSON.stringify(h(this.VK.G)):void 0});k=[this.ii.close(k)];this.VK && k.push(this.VK.close());return Promise.all(k).then(function(){m.VK=void 0;m.xG=[];m.LJ=!0;});};d.prototype.addListener=function(k,m,p){this.Ob.addListener(k,m,p);};d.prototype.removeListener=function(k,m){this.Ob.removeListener(k,m);};d.prototype.dqb=function(k,m){this.C$b(k.G,m);this.log.trace("Overwrote existing segment data",n(k.G));};d.prototype.aeb=function(k){var m,p;m=this;this.log.info("Loading the next episode",h(k));if(this.ii){this.config.hva()[k.L]=k.ca;p=this.rua(k);}else p=this.createSession(k);if(p)return (this.log.trace("Found the next session",h(k)),p.$9b(function(q){m.Job(q);}),this.ii?(this.log.trace("Subsequent playback, caching player and pausing",h(k)),this.VK=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",h(k)),p.load(!1),this.mpb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",h(k));};d.prototype.mpb=function(k,m){var p,q,v,t,w;m=void 0 === m?{}:m;t=k.X?null === (p=k.X) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=k.X) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.ii.G.L,mid:k.G.L,error:t,xid:null === (v=k.X) || void 0 === v?void 0:v.hw()}),Promise.reject());this.log.trace("Playing episode",h(k.G));p=this.ii;this.ii=k;k=this.ii.X;k.SEa(!1);this.sM(k,p?p.X:void 0);if(p && p.X){w=p.X.pp();q=k.pp();w.style.display="none";p=p.close();this.pm.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";k.sha(m);k.CS();k.play();}return Promise.resolve();};d.prototype.Job=function(k){var m,p,q,v,t;if(this.xG.length && k.X){m=k.X.Ut();p=this.xG[0];q=this.ii.G.Ck;v=this.ii.G.Gb?this.ii.G.Gb.Qca:!1;if(q || v){v?t=0:q && (t=q - this.config.c$a());null !== m && m >= t && (this.log.info("Got a time change, loading the next player",h(p.G)),this.aeb(p.G),this.xG.splice(0,1),this.Job(k));}}};d.prototype.rua=function(k){return this.ii.G.L === k.L?this.ii:this.xG.find(function(m){return m.G.L === k.L;});};d.prototype.C$b=function(k,m){k.ca=m.ca || k.ca;k.Ck=m.Ck || k.Ck;k.Gb=m.Gb || k.Gb;k.ba=m.ba || k.ba;};d.prototype.createSession=function(k){return new l(this.log,this.config,this.eR,this.pCa,this.Vi,this.G0,this,k,this.pm,this.zb,this.Hl);};d.prototype.sM=function(k,m){this.bUb.forEach(function(p){m && m.removeEventListener(p.event,p.Hy);k.addEventListener(p.event,p.Hy);});this.Ob.Zc(c.NH.C1);};b.rVa=d;},function(r,b,a){var n,c,f,g,k;function d(m,p,q,v,t,w){var u;u=this;this.X=p;this.j=q;this.eR=v;this.Jc=t;this.EO=w;this.TO=function(){u.hG && (u.hG.cancel(),u.hG=void 0);};this.log=m.eb("SegmentManager",this.j);this.T=new Map();this.j.jb.Gh && (this.j.addEventListener(f.ka.EL,function(y){return u.cz(y);}),this.j.addEventListener(f.ka.closed,this.TO));}function l(m,p){this.id=m;this.ura=p;}function h(m,p,q,v){return c.rd.call(this,m,q,void 0,void 0,void 0,p,void 0,v) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yJa=void 0;n=a(4);c=a(36);f=a(16);g=a(5);k=a(19);la(h,c.rd);h.prototype.toString=function(){return this.code + "-" + this.xc + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Ba,contentEndPts:this.Aa};};Va.Object.defineProperties(l.prototype,{Ba:{configurable:!0,enumerable:!0,get:function(){return this.ura.startTimeMs;}},Aa:{configurable:!0,enumerable:!0,get:function(){return this.ura.endTimeMs;}},wC:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.ura.next);}}});d.prototype.cz=function(m){var p;p=this;!1;m=m.position.segmentId;0 === this.T.size && Object.entries(this.j.NY()).forEach(function(q){var v;v=oa(q);q=v.next().value;v=v.next().value;p.T.set(q,new l(q,v));});this.ga=this.T.get(m);};d.prototype.play=function(m){this.QR && (this.QR=void 0);this.TO();this.log.trace("Playing segment",m);return this.zcb(m)?this.Gac(m):this.F0(m);};d.prototype.zu=function(m){this.log.trace("Queueing segment",m);return this.zcb(m)?this.Qcc(m):this.Rcc(m);};d.prototype.Lk=function(m,p){var q,v;q=this;v=this.j.rb;if(null === v || void 0 === v || !v.hj)return Promise.reject(this.getError(n.aa.gJa,"ASE session manager is not yet initialized",n.Y.Gia,{segmentId:m,updates:p}));this.log.trace("Updating next segment weights",m,p);return new Promise(function(t,w){try{v.pha(m,p);q.j.fireEvent(f.ka.ZGa,{S:m,gmc:p});t();}catch(u){w(q.getError(n.aa.gJa,"updateNextSegmentWeights threw an exception",n.Y.Asb,{segmentId:m,updates:p,error:u}));}});};d.prototype.zcb=function(m){return this.ga?void 0 !== this.j.NY()[this.ga.id].next[m]:!1;};d.prototype.dwa=function(){var m;m=this.j.rb;if(null === m || void 0 === m?0:m.hj)return m.rp().bg;};d.prototype.GZb=function(){var m;m=this.j.rb;if(null === m || void 0 === m?0:m.hj)return m.rp().id;};d.prototype.sXb=function(m){var p;p=this.j.rb;if(null === p || void 0 === p?0:p.hj)return (m=p.lva(m)) && m.qg;};d.prototype.Gac=function(m){var p,q;p=this;q=this.j.rb;return null !== q && void 0 !== q && q.hj?this.ga && 1 === this.ga.wC.length?this.F0(m):this.j.df?void 0 === this.sXb(m)?(this.log.error("playNextSegment: branchOffset missing",{segment:m}),this.F0(m)):new Promise(function(v,t){var z,B,A,C,D,E;function w(){!A && B && z && (E.cancel(),A=!0,p.log.trace("Telling ASE to choose the next segment",{id:m,stopped:B,repositioned:z,completed:A}),q.oy(m,!1,!0)?(v(),A=!0):(A=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:m}),p.F0(m).then(v).catch(t)));}function u(){z=!0;p.log.trace("Player is repositioned",{id:m,stopped:B,repositioned:z,completed:A});p.j.removeEventListener(f.ka.tl,u);w();}function y(){p.j.removeEventListener(f.ka.BG,y);q.stop();}function x(){B=!0;p.log.trace("ASE is stopped",{id:m,stopped:B,repositioned:z,completed:A});q.removeEventListener("stop",x);w();}z=!1;B=!1;A=!1;C=p.T.get(m);D=p.dwa();if(void 0 === D)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:m}),p.F0(m));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:m,seekTo:D,currentSegment:p.ga,nextSegment:C},null,"  "));p.j.fireEvent(f.ka.Rda,{ji:p.ga && p.ga.id,kR:m});q.addEventListener("stop",x);p.j.addEventListener(f.ka.BG,y);p.j.addEventListener(f.ka.tl,u);E=p.Jc.zl((0,g.$i)(10),function(){A=!0;E.cancel();t(p.getError(n.aa.BT,"Timed out waiting for the player to be repositioned and ASE to be stopped",n.Y.wsb,{id:m,stopped:B,repositioned:z,completed:A}));});p.X.seek(D,f.Fd.gN);}):(this.log.warn("MediaPresenter is not initialized",m),Promise.reject(this.getError(n.aa.BT,"MediaPresenter is not initialized",n.Y.xsb,{id:m}))):Promise.reject(this.getError(n.aa.BT,"ASE session manager is not yet initialized",n.Y.Gia,{id:m}));};d.prototype.F0=function(m){var p;p=this.T.get(m);return p?this.z1(p,n.aa.BT):Promise.reject(this.getError(n.aa.BT,"Unable to find the separated segment",n.Y.fJa,{id:m}));};d.prototype.Qcc=function(m){var p;p=this.j.rb;if(null === p || void 0 === p || !p.hj)return Promise.reject(this.getError(n.aa.CT,"ASE session manager is not yet initialized",n.Y.Gia,{id:m}));this.j.fireEvent(f.ka.Rda,{ji:this.ga && this.ga.id,kR:m});if(p.oy(m,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:m});return this.z5a(m);};d.prototype.Rcc=function(m){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:m,mid:this.j.L,srcsegment:this.GZb()});return this.z5a(m);};d.prototype.z5a=function(m){var p,q;p=this;if(this.QR)return Promise.reject(this.getError(n.aa.CT,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",n.Y.zsb,{currentSegment:this.ga?this.ga.id:void 0,queuedSegment:this.QR.id,failedSegment:m}));if(!this.ga)return Promise.reject(this.getError(n.aa.CT,"Unable to queue segment for delayed seek because there is no currently playing segment",n.Y.usb,{nextSegmentid:m}));q=this.T.get(m);if(!q)return Promise.reject(this.getError(n.aa.CT,"Unable to find the separated segment",n.Y.fJa,{nextSegmentid:m,currentSegmentId:this.ga.id}));this.QR={id:m,promise:new Promise(function(v,t){var w;p.hG=p.eR.s4a({H$a:function(){return (0,g.Vb)(100);}},function(){return p.X.Ut() || 0;});w=p.dwa() - k.config.Vfb;p.log.trace("Adding moment for queued segment for delayed seek",{segment:m,pts:w});p.hG.observe(w,function(){p.log.trace("Moment has arrived, seek to segment",{segment:m,currentSegment:p.ga.id,playerEndPts:p.dwa(),pts:w});p.QR=void 0;p.TO();p.z1(q,n.aa.CT).then(v).catch(t);});})};this.QR.promise.catch(function(v){p.j.Vd(v.code,v);});return Promise.resolve();};d.prototype.z1=function(m,p){var q;q=this;return new Promise(function(v,t){var w;try{w=m.Ba;!1;q.X.seek(w,f.Fd.pA);v();}catch(u){t(q.getError(p,"Seek threw an exception",n.Y.ysb,{id:m.id,error:u}));}});};d.prototype.getError=function(m,p,q,v){this.log.warn(p,v);return new h(m,p,q,v);};b.yJa=d;},function(r,b,a){var h,n;function d(){}function l(c,f,g,k,m){this.debug=c;this.version=f;this.$3b=g;this.Dac=k;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.lVa=void 0;r=a(0);h=a(1);n=a(5);l.prototype.iYb=function(){return this.config().fK;};l.prototype.hva=function(){return this.config().Q1a;};l.prototype.H$a=function(){return (0,n.Vb)(this.config().fbc);};l.prototype.c$a=function(){return this.config().u5b;};l.prototype.f$a=function(){return this.config().l6b;};d.prototype.VJ=function(c,f,g,k,m){return new l(c,f,g,k,m);};a=d;a=r.__decorate([(0,h.$)()],a);b.lVa=a;},function(r,b,a){var l,h,n;function d(c){this.config=c;}Object.defineProperty(b,"__esModule",{value:!0});b.wWa=void 0;r=a(0);l=a(1);h=a(12);n=a(23);d.prototype.wcc=function(c,f,g,k){this.config().kgc && (c=c.metrics,void 0 !== c && c.segment !== c.srcsegment && (g={isBranching:k || void 0,isPlaygraph:!k || void 0,mid:f.L,xid:f.sa,srcxid:g.sa,srcmid:g.L,segment:c.segment,srcsegment:c.srcsegment,srcsegmentduration:c.srcsegmentduration,srcoffset:c.srcoffset,srcvbitrate:c.srcvbitrate,srcvmaf:c.srcvmaf,destvbitrate:c.destvbitrate,destvmaf:c.destvmaf,auxMid:c.auxMid,auxMidType:c.auxMidType,auxSrcmid:c.auxSrcmid,auxSrcmidType:c.auxSrcmidType,seamlessRequested:c.seamlessRequested,transitionType:c.transitionType,transitionTypeAtRequest:c.transitionTypeAtRequest,nextExitPositionAtRequest:c.nextExitPositionAtRequest,delayToTransition:c.delayToTransition,durationOfTransition:c.durationOfTransition,atRequest:c.atRequest,atTransition:c.atTransition,discard:c.discard,adBreakLocationMs:c.adBreakLocationMs,srcadBreakLocationMs:c.srcadBreakLocationMs},!k && c.auxMid && c.auxMid !== f.L && (g.moffms=(0,n.vg)(f.DX)),f.NQ.ob.transition(g)));};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.uc))],a);b.wWa=a;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.Tqb=void 0;r=a(1);d=a(374);l=a(796);b.Tqb=new r.Kd(function(h){h(d.aXa).to(l.$Wa).la();});},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O;function d(L){this.vc=L;}Object.defineProperty(b,"__esModule",{value:!0});b.$Wa=void 0;r=a(0);l=a(1);h=a(81);n=a(32);c=a(25);f=a(7);g=a(112);k=a(239);m=a(376);p=a(797);q=a(240);v=a(89);t=a(377);w=a(798);u=a(241);y=a(87);x=a(18);z=a(115);B=a(242);A=a(378);C=a(12);D=a(379);E=a(380);G=a(27);F=a(243);K=a(381);O=a(34);d.prototype.aP=function(L,I,M,H,J,N){return this.vc.get(C.uc)().xha?new w.bXa(this.vc.get(f.hb),this.vc.get(u.Ala),this.vc.get(y.aA),this.vc.get(x.kd),this.vc.get(z.DH),this.vc.get(g.Bja),this.vc.get(B.Dka),this.vc.get(A.hNa),this.vc.get(D.FTa),this.vc.get(E.gma),this.vc.get(E.gma),this.vc.get(G.Nh),this.vc.get(K.rU),this.vc.get(F.Mja),this.vc.get(O.xj),H,M):new p.xOa(this.vc.get(n.Ii),this.vc.get(c.ah),this.vc.get(f.hb),this.vc.get(g.Bja),this.vc.get(k.Zla),this.vc.get(q.jla),this.vc.get(v.Aja),this.vc.get(t.pSa),this.vc.get(m.kLa),L,I,M,H,J,N);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.uOa))],a);b.$Wa=a;},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p,q,v,t,w,u,y,x,z,B,A,C,D){var E;E=this;this.Ve=k;this.Hb=m;this.Ob=q;this.Kw=t;this.pX=w;this.C8a=u;this.config=x;this.Vi=B;this.G=A;this.j=z.create(A.L,A.rj,y,C,D,A.Gb,A.id,A.ba);this.j.background.set(!0);this.log=p.eb("VideoPlayer",this.j);this.lib=[];this.ended=!1;this.sM();this.j.state.addListener(function(G){G.newValue === h.kc.Xe && E.Cb(h.Qa.sya,{movieId:A.L});});this.j.jb.Gh && (this.KO=v.IOb(this,this.j),this.j.addEventListener(h.ka.EL,function(G){G=G.position.segmentId;E.v4b !== G && (E.v4b=G,E.Cb(h.Qa.Wfc,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.xOa=void 0;l=a(4);h=a(16);n=a(5);c=a(14);f=a(89);g=a(23);d.prototype.isReady=function(){return this.j.state.value === h.kc.Xe;};d.prototype.q$a=function(){return this.j.L;};d.prototype.hw=function(){return this.j.sa;};d.prototype.pp=function(){return this.j.pm;};d.prototype.ss=function(){return this.j.Wi.value;};d.prototype.tw=function(){return this.j.paused.value;};d.prototype.Yxa=function(){return this.ended;};d.prototype.Ri=function(){var k;k=this.j.Jqa.value;return k?{networkStalled:!!k.Iu,stalled:!!k.Iu,progress:k.progress,progressRollback:!!k.Ccc}:null;};d.prototype.getError=function(){var k;k=this.j.Qi;return k?k.B2():null;};d.prototype.Fq=function(){var k;return null === (k=this.j.Fq()) || void 0 === k?void 0:k.DTb;};d.prototype.$n=function(){return this.j.Md;};d.prototype.lF=function(){return this.$n().qa?this.$n().jba():this.Ut();};d.prototype.Ut=function(){return this.j.mediaTime.value;};d.prototype.U8a=function(){var k;k=(this.Faa() || 0) + this.j.T8a();return Math.min(k,this.nva());};d.prototype.Faa=function(){return this.$n().qa?this.$n().jba():this.j.tF();};d.prototype.nva=function(){return this.$n().qa?this.$n().a$a():this.j.vB.ia(n.va);};d.prototype.nab=function(){var k;k=this.j.dH.value;return k?{width:k.width,height:k.height}:null;};d.prototype.Gaa=function(){return this.j.Gaa();};d.prototype.B8a=function(k){var m,p;return (null === (m=this.j.ba) || void 0 === m?0:m.Oj.XP("generateScreenshots"))?this.C8a.Cq(this.log,this.j.ba.Oj,k):(m=null === (p=this.j.jb) || void 0 === p?void 0:p.Ep)?this.C8a.Xf(this.log,Object.assign({packageId:m},k)):Promise.reject("Unknown packageId");};d.prototype.o9a=function(){return this.JXb(this.j.K5a);};d.prototype.K8a=function(){var k;k=this;return this.j.Hj.map(function(m){return k.js(m);});};d.prototype.k$a=function(){var k;return this.ZY(this.j.Hj,null === (k=this.j.ba) || void 0 === k?void 0:k.Ra.efb);};d.prototype.zwa=function(k){var m;m=this;return this.fZ(k).map(function(p){return m.js(p);});};d.prototype.Ova=function(k){var m;return this.ZY(this.fZ(k),null === (m=this.j.ba) || void 0 === m?void 0:m.Ra.ffb);};d.prototype.hya=function(){return this.j.muted.value;};d.prototype.oab=function(){return this.j.volume.value;};d.prototype.J8a=function(){var k,m;m=(null === (k=this.dz) || void 0 === k?void 0:k.Hc) || this.j.Hc.value;return m && this.js(m);};d.prototype.ywa=function(){var k,m;m=(null === (k=this.dz) || void 0 === k?void 0:k.s2) || this.j.Mb.value;return m && this.js(m);};d.prototype.gcb=function(){return this.j.background.value;};d.prototype.xmb=function(k){this.j.muted.set(!!k);};d.prototype.Mmb=function(k){this.j.volume.set(this.S8b(k));};d.prototype.pga=function(k){this.j.playbackRate.set(k);};d.prototype.Tt=function(){return this.j.playbackRate.value;};d.prototype.hmb=function(k){var m,p,q,v,t;m=this;q=this.xY(k);if(q){if(q.Sh)return (this.j.Hc.set(q),Promise.resolve());v=(k=(null === (p=this.dz) || void 0 === p?void 0:p.s2) || this.j.Mb.value) && this.Tcb(q,k)?k:q.Bi[0];p=q.trackId;t=v.trackId;this.dz={Hc:q,s2:v};this.Cb(h.Qa.Mn);this.Cb(h.Qa.bx);v !== k && this.Cb(h.Qa.nn);return this.j.hbb(p,t).then(function(w){w=w.Hc;m.dz=void 0;m.j.Hc.set(w);}).catch(function(w){m.dz=void 0;w=m.Ve.sf(w);m.log.error(w);m.close(m.Vi(l.aa.QM,{Da:l.Y.vka,Tb:w,jK:{x1b:q.trackId,ibb:q.Sf,y1b:v.trackId,jbb:v.Sf}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};d.prototype.eFa=function(k){var m,p,q,v;m=this;q=(null === (p=this.dz) || void 0 === p?void 0:p.Hc) || this.j.Hc.value;if(null !== q){v=q.Bi;p={};for(var t=0;t < v.length;(p={$u:p.$u},t++)){p.$u=v[t];if(!k && null === p.$u)return (this.j.Mb.set(null),Promise.resolve());if(this.js(p.$u) === k){if(p.$u.Sh)return (this.log.info("Setting Timed Text, profile: " + p.$u.profile),this.j.Mb.set(p.$u),Promise.resolve());k=q.trackId;v=p.$u.trackId;this.dz={Hc:q,s2:p.$u};this.Cb(h.Qa.nn);return this.j.hbb(k,v).then(function(w){w=w.s2;m.dz=void 0;m.j.Mb.set(w);}).catch((function(w){return function(u){m.dz=void 0;u=m.Ve.sf(u);m.log.error(u);m.close(m.Vi(l.aa.QM,{Da:l.Y.vka,Tb:u,jK:{x1b:q.trackId,ibb:q.Sf,y1b:w.$u.trackId,jbb:w.$u.Sf}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};d.prototype.SEa=function(k){this.j.background.set(k);};d.prototype.CS=function(){this.j.CS();};d.prototype.sha=function(k){this.j.sha(k);};d.prototype.Lj=function(k){return this.j.Lj(k);};d.prototype.C$a=function(){return this.j.jb;};d.prototype.bz=function(){this.j.bz();};d.prototype.XK=function(k){this.j.XK(k);};d.prototype.pZ=function(k,m,p){return this.j.pZ(k,m,p);};d.prototype.wpa=function(k,m){this.j.addEventListener(k,m,void 0);};d.prototype.addEventListener=function(k,m,p){this.Ob.addListener(k,m,p);};d.prototype.removeEventListener=function(k,m){this.Ob.removeListener(k,m);};d.prototype.mL=function(){};d.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(m,p){try{k.Cb(h.Qa.ceb,void 0,!0);m.ba && (m.ba.Ra.krb && k.Cb(h.Qa.snc,m.ba.Ra.krb,!0),m.ba.Ra.Yo && k.Cb(h.Qa.Vfc,{segmentMap:m.ba.Ra.Yo},!0));p({ja:!0});}catch(q){p({Da:l.Y.un,Tb:k.Ve.sf(q)});}}));};d.prototype.close=function(k){var m;m=this;this.o3a || (this.o3a=new Promise(function(p){k?m.j.gJ(k,p):m.j.close(p);}));return this.o3a;};d.prototype.play=function(){this.j.jj?this.j.fireEvent(h.ka.xlb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(h.ka.Gqb)));};d.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(h.ka.Fqb));};d.prototype.dib=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{nR:!0});};d.prototype.seek=function(k,m,p,q){m=void 0 === m?h.Fd.pA:m;this.j.SKb() && (this.$n().qa && this.$n().Ycb(this.$n().nlb(k))?this.$n().Yfa():this.j.df?(this.$n().qa && (k=this.$n().nlb(k)),this.j.df.seek(k,m,p,q)):(this.$n().qa && (k=this.$n().Mva(k).Nn),this.j.Nn=k));};d.prototype.xib=function(k){return this.KO?(this.log.trace("Playing a segment",k),this.KO.play(k)):Promise.resolve();};d.prototype.Ijb=function(k){return this.KO?(this.log.trace("Queueing a segment",k),this.KO.zu(k)):Promise.resolve();};d.prototype.Lk=function(k,m){return this.KO?(this.log.trace("Updating next segment weights",k,m),this.KO.Lk(k,m)):Promise.resolve();};d.prototype.jZ=function(){var k;k=this.j.Kp.jZ();return {bounds:k.aX,margins:k.ju,size:k.size,visibility:k.visibility};};d.prototype.tS=function(k){var m,p,q;m=k.bounds;p=k.margins;q=k.size;k=k.visibility;this.j.x2 && (m && this.j.x2.fFa(m),p && this.j.x2.gFa(p),"boolean" === typeof k && this.j.x2.hFa(k));this.j.Kp && q && this.j.Kp.chc(q);};d.prototype.iFa=function(k){this.j.Ao=k;};d.prototype.jab=function(k){return this.j.fD && this.j.fD.fYb(k) || null;};d.prototype.H8a=function(){return this.Ve.bG({playerver:this.config.version,jssid:this.config.$3b,groupName:this.config.iYb(),xid:this.j.sa,pbi:this.j.index},this.config.Dac,{prefix:"pi_"});};d.prototype.Cbb=function(k){this.j.Vd(l.aa.XLa,l.Y.Ko,k);};d.prototype.Zdb=function(k,m,p,q){if(!this.Hb.J0a(k))throw Error("invalid url");this.lib.push({url:k,name:m,eJb:p,options:q});this.sjb();};d.prototype.pwa=function(){var k,m,p,q,v,t,w,u;k={};m=this.j.a2;try{if((this.j.Qi && (k.errorCode=this.j.Qi.t$,k.errorType=m?"endplay":"startplay"),k.playdelay=(0,g.vg)(this.j.iX()),k.xid=this.j.sa,this.j.ba && this.Hb.Mr(this.j.ba.Ra.Ep) && (k.packageId=Number(this.j.ba.Ra.Ep)),k.auth=this.j.$Wb(),m)){k.totaltime=this.j.bn?this.Yn(this.j.bn.hs("content")):0;k.abrdel=this.j.bn?this.j.bn.fva():0;p=this.j.df;q=p?p.YJ():null;this.Hb.Rl(q) && (k.totdfr=q);q=p?p.RY():null;this.Hb.Rl(q) && (k.totcfr=q);v=p?p.uYb():null;v && (k.rbfrs_decoder=v.d$,k.rbfrs_network=v.Nda);k.rbfrs_delay=this.j.bn?this.j.bn.Txa:0;k.init_vbr=this.j.Xba;t=this.cK();this.Hb.tJ(t) && (k.pdltime=t);w=this.j.Re.value;u=w && w.stream;u && (k.vbr=u.bitrate,k.vdlid=u.Wb);k.bufferedTime=this.j.T8a();}}catch(y){this.log.error("error capturing session summary",y);}return k;};d.prototype.zP=function(k){this.j.jb.ro && (this.j.jb.ro.userEngageAction=1);return this.Hb.Rl(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.Kw.create(this.j)),{action:k}),this.pX(f.qr.zP).Cq(this.log,this.j.ba.Oj,k).then(function(){return {success:!0};}).catch(function(m){return {success:!1,errorCode:m.code,errorSubCode:m.xc,errorExternalCode:m.yd,errorData:m.data,errorDetails:m.details};})):Promise.resolve({success:!1});};d.prototype.JXb=function(k){return {register:k.register.bind(k),notifyUpdated:k.Ugb.bind(k),getModel:k.VYb.bind(k),getGroups:k.XY.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};d.prototype.js=function(k){var m;m=k.YCa=k.YCa || ({trackId:k.trackId,bcp47:k.Sf,displayName:k.displayName,trackType:k.aj,rawTrackType:k.zG,channels:k.channels});this.mya(k) && (m.isNative=k.isNative,m.surroundFormatLabel=k.l2);this.nya(k) && (m.isNoneTrack=k.Oq(),m.isForcedNarrative=k.yp(),m.isImageBased=k.am);m.subType=k.VL;m.variant=k.variant;return m;};d.prototype.mya=function(k){return "undefined" !== typeof k.isNative;};d.prototype.nya=function(k){return "undefined" !== typeof k.Oq && "undefined" !== typeof k.yp;};d.prototype.xY=function(k){var m;m=this;return k && this.j.Hj.find(function(p){return m.js(p) === k;});};d.prototype.fZ=function(k){var m,p;k=this.xY(k) || (null === (m=this.dz) || void 0 === m?void 0:m.Hc) || this.j.Hc.value;return null !== (p=null === k || void 0 === k?void 0:k.Bi) && void 0 !== p?p:[];};d.prototype.ZY=function(k,m){var p;p=k.length - 1;if("number" !== typeof m)return p;k=k.findIndex(function(q){return q.wc > m;});return -1 === k?p:k - 1;};d.prototype.Tcb=function(k,m){return 0 <= k.Bi.indexOf(m);};d.prototype.S8b=function(k){return 0 <= k?1 >= k?k:1:0;};d.prototype.Yn=function(k){return this.Hb.Rl(k)?(k / 1E3).toFixed(0):"";};d.prototype.Cb=function(k,m,p){m=m || ({});m.target=this;this.Ob.Zc(k,m,!p);};d.prototype.sM=function(){var k;k=this;this.j.addEventListener(h.ka.nGa,function(){k.Cb(h.Qa.xq);});this.j.dH.addListener(function(){k.Cb(h.Qa.vHa);});this.j.addEventListener(h.ka.Jpb,function(){k.Cb(h.Qa.Ipb);});this.j.addEventListener(h.ka.kda,function(){k.Cb(h.Qa.q9);});this.j.addEventListener(h.ka.tl,function(){k.Cb(h.Qa.q9);});this.j.addEventListener(h.ka.pQ,function(m){k.Cb(h.Qa.pQ,{errorCode:m});});this.j.addEventListener(h.ka.fqa,function(){k.Cb(h.Qa.y1a);});this.j.addEventListener(h.ka.jj,function(m){k.Cb(h.Qa.e9,m);});this.j.addEventListener(h.ka.ipb,function(){k.Cb(h.Qa.b9);k.Cb(h.Qa.bx);});this.j.Wi.addListener(function(){k.Cb(h.Qa.vCa);});this.j.paused.addListener(function(){k.Cb(h.Qa.fib);});this.j.muted.addListener(function(){k.Cb(h.Qa.jgb);});this.j.volume.addListener(function(){k.Cb(h.Qa.crb);});this.j.Db.addListener(function(){k.Tpb();});this.j.state.addListener(function(){k.Tpb();});this.j.Jqa.addListener(function(m){k.v5b || k.j.state.value != h.kc.Xe || m.newValue || (k.v5b=!0,k.Cb(h.Qa.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.pwa());}));k.Cb(h.Qa.MO);});this.j.Hc.addListener(function(){k.Cb(h.Qa.Mn);k.Cb(h.Qa.bx);setTimeout(function(){var m,p;m=k.j.Hc.value;p=k.j.Mb.value;null === m || null === p || k.Tcb(m,p) || (k.log.info("Changing timed text track to match audio track"),k.j.Mb.set(m.Bi[0]));},0);});this.j.Mb.addListener(function(m){m.oldValue && m.newValue && m.oldValue.trackId == m.newValue.trackId || k.Cb(h.Qa.nn);});this.j.addEventListener(h.ka.bx,function(){k.Cb(h.Qa.bx);});this.j.addEventListener(h.ka.E2,function(){k.Cb(h.Qa.E2);});this.j.state.addListener(function(m){switch(m.newValue){case h.kc.Xe:k.Cb(h.Qa.qta);k.Cb(h.Qa.vHa);k.Cb(h.Qa.b9);k.Cb(h.Qa.bx);k.Cb(h.Qa.beb);k.sjb();k.xnc();break;case h.kc.CLOSING:k.j.Qi && k.Cb(h.Qa.Zbb,k.j.Qi);break;case h.kc.CLOSED:(k.Cb(h.Qa.closed),k.Ob.Oi());}});this.j.addEventListener(h.ka.TF,function(){k.Cb(h.Qa.TF);k.Cb(h.Qa.xq);k.Cb(h.Qa.q9);k.Cb(h.Qa.qta);});};d.prototype.xnc=function(){var k;k=this;this.j.Kp.addEventListener("showsubtitle",function(m){k.Cb(h.Qa.pFa,m,!0);});this.j.Kp.addEventListener("removesubtitle",function(m){k.Cb(h.Qa.yDa,m,!0);});this.j.Fq().Kn.addListener(function(){k.Cb(h.Qa.IHb);});};d.prototype.sjb=function(){if(this.j.state.value == h.kc.Xe){for(var k,m,p;m=this.lib.shift();){k=this.j.Kp.mpa(m.url,m.name,m.options);m.eJb && (p=k);}p && this.j.Mb.set(p);}};d.prototype.Tpb=function(){var k;k=this.j.state.value == h.kc.Xe && this.j.Db.value == h.qb.Us;this.ended !== k && (this.ended=k,this.j.MI("Ended changed: " + k),(k || this.j.state.value === h.kc.CLOSING) && this.Cb(h.Qa.W6a));};d.prototype.cK=function(){var k,m;try{k=/playercore.*js/;m=c.wx.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(m && 0 < m.length)return JSON.stringify(Math.round(m[0].duration));}catch(p){}};b.xOa=d;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w;function d(u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H){var J,N,P;J=this;this.J0=y;this.WB=x;this.Ia=z;this.Rj=B;this.Ob=A;this.E_=C;this.bbc=D;this.Dib=E;this.Iha=G;this.a9=F;this.za=K;this.OQ=O;this.config=L;this.yE=I;this.G=M;this.Vi=H;this.t_=new m.ac(!0);this.Wi=new m.ac(!1);this.Iu=new m.ac(!1);this.ended=new m.ac(!1);this.s9=new m.ac(0);this.Db=new m.ac(l.qb.Hg);this.ZR=new m.ac(void 0);this.loaded=this.a2=this.closed=!1;this.djb=function(X,V){return function(S){var U,ha,qa,xa,Aa;U=S.newValue;ha=U.Xo;S=U.Qn;qa=U.stream;U=X.value;xa=U.streams.find(function(Oa){return Oa.bitrate === qa.stream.bitrate;});Aa=J.Ha.zh.find(function(Oa){return Oa.id === ha;});J.log.info("Presenting " + xa.type + " request with bitrate " + xa.bitrate + ", track " + (U.trackId + " [" + S.startTime + "..." + S.endTime + "]"));V.set({stream:xa,Qn:S,Dc:Aa});};};this.Tnb=function(X,V,S){return function(U){var ha,qa;ha=X.value;qa=ha.streams.find(function(xa){return xa.bitrate === U.newValue.stream.bitrate;});J.log.info("Streaming " + qa.type + " stream with bitrate " + qa.bitrate + ", track " + ha.trackId);V.set(qa,{eJ:U.lj.eJ,ZW:void 0});ha=J.Ha.zh.filter(function(xa){return xa.id === U.lj.Xo;})[0];S.set(ha);};};this.S7a=new Set();this.log=u.eb("HLSVideoPlayer");this.ea=(0,h.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.ea.playsInline=this.config.Pib;this.Ha=this.J0(n.KD.index++,M.L,M.id,null !== (N=M.Gb) && void 0 !== N?N:{},this.WB.yB(),this.Ia.Qb(),!1,void 0,function(){return J.Ut();});this.Ha.mediaTime.set(null !== (P=this.Ha.Nn) && void 0 !== P?P:0);this.sM();this.QCb=this.OQ.create(this);this.QCb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.bXa=void 0;l=a(16);h=a(44);n=a(64);c=a(102);f=a(57);g=a(4);k=a(56);m=a(74);p=a(5);q=a(15);v=a(82);t=a(23);w=a(49);d.prototype.xjc=function(){return !!this.ea.canPlayType && ("" !== this.ea.canPlayType("application/vnd.apple.mpegURL") || "" !== this.ea.canPlayType("audio/mpegurl"));};d.prototype.sM=function(){var u;u=this;this.ea.addEventListener("loadedmetadata",function(){u.Cb(l.Qa.ceb);u.Cb(l.Qa.beb);u.Cb(l.Qa.Mn);u.Cb(l.Qa.b9);u.Cb(l.Qa.nn);u.Cb(l.Qa.bx);});this.ea.addEventListener("error",function(y){y=u.Vi(g.aa.QRa,y);u.close(y);});this.ea.addEventListener("timeupdate",function(){u.ended.set(!1);u.Ha.mediaTime.set(u.Ut());u.Wsa();u.Cb(l.Qa.xq);u.Cb(l.Qa.Ipb);});this.ea.addEventListener("durationchange",function(){u.Cb(l.Qa.qta);});this.ea.addEventListener("resize",function(){u.Cb(l.Qa.vHa);});this.ea.addEventListener("playing",function(){u.Wsa();u.Iu.set(!1);u.Wi.set(!0);u.ended.set(!1);u.Db.set(l.qb.Xc);});this.ea.addEventListener("pause",function(){u.Wi.set(!1);u.Iu.set(!1);u.Db.set(l.qb.ej);});this.ea.addEventListener("waiting",function(){u.Db.set(l.qb.Hg);});this.ea.addEventListener("stalled",function(){u.Iu.set(!0);});this.ea.addEventListener("seeking",function(){u.Iu.set(!1);u.ZR.set(u.Ha.mediaTime.value);u.Db.set(l.qb.Hg);});this.ea.addEventListener("seeked",function(){void 0 !== u.ZR.value && (u.Ha.bn.aBa(u.ZR.value,u.Ut()),u.ZR.set(void 0));u.Db.set(u.ss()?l.qb.Xc:l.qb.ej);});this.ea.addEventListener("progress",function(){u.Cb(l.Qa.q9);u.ylc();});this.ea.addEventListener("ended",function(){u.Db.set(l.qb.Us);u.Iu.set(!1);u.Wi.set(!1);u.ended.set(!0);});this.ea.addEventListener("volumechange",function(){u.Cb(l.Qa.crb);u.Cb(l.Qa.jgb);});this.Wi.addListener(function(){u.Cb(l.Qa.vCa);u.Cb(l.Qa.fib);u.UO();});this.s9.addListener(function(){u.Cb(l.Qa.MO);});this.Iu.addListener(function(){u.Cb(l.Qa.MO);});this.t_.addListener(function(){u.UO();});this.ended.addListener(function(){u.Cb(l.Qa.W6a);});this.Ha.playbackRate.addListener(function(y){u.ea.playbackRate=y.newValue;});};d.prototype.UO=function(){!this.ss() || this.t_.value || this.a2 || this.x1a || (this.a2=!0,this.Ha.bC=this.za.HL,this.Dib.Cl(this,this.Ha));};d.prototype.iX=function(){return this.I0 - (this.Ha.rj.ia(p.va) + this.Ia.fC.ia(p.va));};d.prototype.SJ=function(){var u;u=this.Ha.jb.kM;return (0,q.Pa)(u)?u:this.Ha.rj.ia(p.va) + this.Ia.fC.ia(p.va);};d.prototype.Sqa=function(){return this.za.rf.ia(p.va) - this.SJ();};d.prototype.Wqa=function(){return this.I0 - this.SJ();};d.prototype.ylc=function(){var u;u=this.ea.readyState <= k.Go.bU.HAVE_METADATA?0:this.ea.readyState <= k.Go.bU.HAVE_CURRENT_DATA?.5:1;1 === u && (this.I0=this.za.rf.ia(p.va),this.t_.set(!1),this.vua(l.Qa.loaded));this.s9.set(u);};d.prototype.Wsa=function(){var u;u=this.Ut();this.Iha.kmb(u);this.a9.kmb(u);};d.prototype.F1=function(){var u;u=this;this.Ha.ef("ats");return this.Rj.qF({sa:this.Ha.sa,jb:this.Ha.jb,N:this.Ha.L,Zv:c.Io.X5,yg:f.dj.Xp}).then(function(y){var z;function x(B){var A;A=B;B && B.Oq() && !B.yp() && (A=null);u.Ha.Fj.set(A);}u.Ha.ef("at");z=u.E_.create({}).$hb(y);u.Ha.ba=y;u.Ha.Sc=z;u.ea.audioTracks.addEventListener("addtrack",function(){u.fqb(u.Ha.Hc.value);});u.ea.audioTracks.addEventListener("change",function(){for(var B,A,C={},D=oa(u.ea.audioTracks),E=D.next();!E.done;(C={qT:C.qT},E=D.next())){C.qT=E.value;C.qT.enabled && C.qT.label !== (null === (B=u.Ha.Hc.value) || void 0 === B?void 0:B.displayName) && (!1,E=null !== (A=u.Ha.Hj.find((function(G){return function(F){return F.displayName === G.qT.label;};})(C))) && void 0 !== A?A:null,u.Ha.Hc.set(E));}});u.Ha.Hc.addListener(function(B){u.fqb(B.newValue);u.Cb(l.Qa.Mn);u.Cb(l.Qa.bx);});u.ea.textTracks.addEventListener("addtrack",function(){u.gqb(u.Ha.Mb.value);});u.ea.textTracks.addEventListener("change",function(){var G;for(var B,A,C=u.ea.textTracks,D={},E=0;E < C.length;(D={rT:D.rT},E++)){if((D.rT=C[E],"showing" === D.rT.mode && D.rT.label !== (null === (B=u.Ha.Mb.value) || void 0 === B?void 0:B.displayName))){!1;G=null !== (A=u.Ha.Bi.find((function(F){return function(K){return K.displayName === F.rT.label;};})(D))) && void 0 !== A?A:null;u.Ha.Mb.set(G);x(G);}}});u.Ha.Mb.set(z.MX);x(z.MX);u.Ha.Mb.addListener(function(B){u.gqb(B.newValue);u.Cb(l.Qa.nn);});return u.bbc.kj(y,function(B){return u.Ha.ef(B);});}).then(function(y){var x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J;x=y.f6b;z=y.bLb;y=y.Qic;B=y.audio;A=y.n5a;C=y.video;D=u.Ha;E=D.ei;G=D.Hc;F=D.Hj;K=D.Kf;O=D.Xh;y=D.Nn;L=D.Re;I=D.hg;M=D.bn;D=D.Sc;D.Hj=F.filter(function(N){return B.find(function(P){return P.track.Bg === N.trackId;});});O.set(D.l$);G.set(F.find(function(N){return N.trackId === A;}));D=C[0];H=D.stream;F=B.find(function(N){return N.track.Bg === A;});J=F.stream;u.KZ=H.bitrate;u.Iha.DCa.addListener(u.djb(O,L));u.Iha.ZFa.addListener(u.Tnb(O,K,u.Ha.Dc[w.u.J]));K=z.get(H.hp).MR.Qh;u.Iha.oa(C,D,K);u.a9.DCa.addListener(u.djb(G,I));u.a9.ZFa.addListener(u.Tnb(G,E,u.Ha.Dc[w.u.U]));z=z.get(J.hp).MR.Qh;u.a9.oa(B,F,z);u.ea.src=x;u.ea.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;u.ea.load();M.aBa(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.sf)(y);u.log.error("uncaught exception",y,z);}u.close(u.Vi(null !== (x=y.code) && void 0 !== x?x:g.aa.LWa,y));});};d.prototype.gqb=function(u){var z;for(var y=this.ea.textTracks,x=0;x < y.length;x++){z=y[x];z.label === u.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== u.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};d.prototype.fqb=function(u){for(var y=oa(this.ea.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== u.displayName || x.enabled || (!1,x.enabled=!0);x.label !== u.displayName && x.enabled && (!1,x.enabled=!1);}};d.prototype.Fq=function(){};d.prototype.$n=function(){};d.prototype.Ut=function(){return Math.floor(1E3 * this.ea.currentTime);};d.prototype.Faa=function(){return this.Ut();};d.prototype.lF=function(){return this.Ut();};d.prototype.nva=function(){return Math.floor(1E3 * this.ea.duration);};d.prototype.q$a=function(){return this.G.L;};d.prototype.hw=function(){return this.Ha.sa;};d.prototype.pp=function(){return this.ea;};d.prototype.isReady=function(){return null === this.Ri();};d.prototype.ss=function(){return this.Wi.value;};d.prototype.tw=function(){return !this.Wi.value;};d.prototype.Yxa=function(){return this.ea.ended;};d.prototype.Ri=function(){return 1 !== this.s9.value?{stalled:this.Iu.value,progress:this.s9.value,progressRollback:!1}:null;};d.prototype.getError=function(){var u,y;return null !== (y=null === (u=this.Qi) || void 0 === u?void 0:u.B2()) && void 0 !== y?y:null;};d.prototype.U8a=function(){return 1 === this.ea.buffered.length?1E3 * this.ea.buffered.end(0):null;};d.prototype.nab=function(){return {width:this.ea.videoWidth,height:this.ea.videoHeight};};d.prototype.hya=function(){return this.ea.muted;};d.prototype.oab=function(){return this.ea.volume;};d.prototype.xmb=function(u){this.ea.muted=u;};d.prototype.Mmb=function(u){this.ea.volume=u;};d.prototype.addEventListener=function(u,y,x){this.Ob.addListener(u,y,x);};d.prototype.removeEventListener=function(u,y){this.Ob.removeListener(u,y);};d.prototype.load=function(){var u;u=this;this.loaded || (this.loaded=!0,this.yE.s_(function(y){u.xjc()?y.ja?u.F1():u.close(u.Vi(y.errorCode || g.aa.Tja,y)):u.close(u.Vi(g.aa.Dvb));}));};d.prototype.close=function(u){if(this.closed)return Promise.resolve();this.Ha.mediaTime.set(this.Ut());this.Wsa();this.Ha.wX=this.Faa();this.closed=!0;this.ea.removeAttribute("src");this.ea.load();null === u || void 0 === u?void 0:u.Amb(!this.t_.value);(this.Qi=u) && this.Cb(l.Qa.error,u.B2());this.Cb(l.Qa.closed);return this.Dib.d2(this.Ha);};d.prototype.play=function(){var u,y;u=this;y=this.ea.play();this.x1a=!1;y && y.then(function(){u.vua(l.Qa.y1a);}).catch(function(x){u.Cb(l.Qa.MO);"NotAllowedError" === x.name && (u.log.warn("Playback is blocked by the browser settings",x),u.x1a=!0,u.jj=!0,u.vua(l.Qa.e9,{player:{play:function(){return u.play();}}}));});};d.prototype.Cb=function(u,y,x){y=y || ({});y.target=this;this.Ob.Zc(u,y,!x);};d.prototype.vua=function(u,y){this.S7a.has(u) || (this.S7a.add(u),this.Cb(u,y,void 0));};d.prototype.pause=function(){this.ea.pause();};d.prototype.dib=function(){this.pause();};d.prototype.seek=function(u){this.ea.currentTime=u / 1E3;};d.prototype.Cbb=function(u){this.close(this.Vi(g.aa.XLa,g.Y.Ko,u));};d.prototype.Tt=function(){return this.Ha.playbackRate.value;};d.prototype.pga=function(u){this.Ha.playbackRate.set(u);};d.prototype.K8a=function(){var u;u=this;return this.Ha.Hj.map(function(y){return u.js(y);});};d.prototype.zwa=function(u){var y;y=this;return this.fZ(u).map(function(x){return y.js(x);});};d.prototype.J8a=function(){var u;u=this.Ha.Hc.value;return u && this.js(u);};d.prototype.ywa=function(){var u;u=this.Ha.Mb.value;return u && this.js(u);};d.prototype.hmb=function(u){if((u=this.xY(u)) && u.Sh)return (this.Ha.Hc.set(u),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};d.prototype.eFa=function(u){var y,x;y=this;x=this.Ha.Bi.find(function(z){return y.js(z) === u;});if(x && x.Sh)return (this.Ha.Mb.set(x),this.Ha.Fj.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};d.prototype.k$a=function(){var u;return this.ZY(this.Ha.Hj,null === (u=this.Ha.ba) || void 0 === u?void 0:u.Ra.efb);};d.prototype.Ova=function(u){var y;return this.ZY(this.fZ(u),null === (y=this.Ha.ba) || void 0 === y?void 0:y.Ra.ffb);};d.prototype.js=function(u){var y;y=u.YCa=u.YCa || ({trackId:u.trackId,bcp47:u.Sf,displayName:u.displayName,trackType:u.aj,rawTrackType:u.zG,channels:u.channels});this.mya(u) && (y.isNative=u.isNative,y.surroundFormatLabel=u.l2);this.nya(u) && (y.isNoneTrack=u.Oq(),y.isForcedNarrative=u.yp(),y.isImageBased=u.am);y.subType=u.VL;y.variant=u.variant;return y;};d.prototype.mya=function(u){return "undefined" !== typeof u.isNative;};d.prototype.nya=function(u){return "undefined" !== typeof u.Oq && "undefined" !== typeof u.yp;};d.prototype.xY=function(u){var y;y=this;return u && this.Ha.Hj.find(function(x){return y.js(x) === u;});};d.prototype.fZ=function(u){var y;u=this.xY(u) || this.Ha.Hc.value;return null !== (y=null === u || void 0 === u?void 0:u.Bi) && void 0 !== y?y:[];};d.prototype.ZY=function(u,y){var x;x=u.length - 1;if("number" !== typeof y)return x;u=u.findIndex(function(z){return z.wc > y;});return -1 === u?x:u - 1;};d.prototype.sha=function(u){this.Ha.jb=(0,v.rda)(this.Ha.jb,u);};d.prototype.Lj=function(u){if(u !== this.Ha.S)throw (!1,Error("Unknown segmentId " + u));return this.Ha;};d.prototype.C$a=function(){return this.Ha.jb;};d.prototype.wpa=function(){!1;};d.prototype.bz=function(){!1;};d.prototype.XK=function(){!1;};d.prototype.pZ=function(){!1;return Promise.reject();};d.prototype.pwa=function(){return {};};d.prototype.Gaa=function(){};d.prototype.H8a=function(){return {};};d.prototype.SEa=function(){};d.prototype.CS=function(){};d.prototype.gcb=function(){return !1;};d.prototype.o9a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};d.prototype.zP=function(){!1;return Promise.resolve({success:!0});};d.prototype.jab=function(){!1;};d.prototype.jZ=function(){!1;};d.prototype.tS=function(){!1;};d.prototype.iFa=function(){!1;};d.prototype.Zdb=function(){!1;};d.prototype.B8a=function(){!1;return Promise.reject();};d.prototype.xib=function(){!1;return Promise.reject();};d.prototype.Ijb=function(){!1;return Promise.reject();};d.prototype.Lk=function(){!1;return Promise.reject();};d.prototype.mL=function(){!1;};b.bXa=d;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A;Object.defineProperty(b,"__esModule",{value:!0});b.dbb=void 0;r=a(1);d=a(382);l=a(800);h=a(384);n=a(801);c=a(378);f=a(845);g=a(392);k=a(846);m=a(379);p=a(847);q=a(380);v=a(848);t=a(485);w=a(243);u=a(1201);y=a(393);x=a(1202);z=a(1203);B=a(381);A=a(1205);b.dbb=new r.Kd(function(C){C(d.uNa).to(l.tNa).la();C(h.yNa).to(n.xNa).la();C(c.hNa).to(f.gNa).la();C(g.jNa).to(k.iNa).la();C(y.hKa).to(x.gKa).la();C(m.FTa).to(p.ETa).la();C(q.gma).to(v.TVa);C(t.oU).to(z.nU);C(B.rU).to(A.qU);C(w.Mja).to(u.BNa);});},function(r,b,a){var l,h,n,c;function d(f,g){this.o1b=f;this.log=g.eb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tNa=void 0;r=a(0);l=a(1);h=a(7);n=a(383);c=a(65);d.prototype.download=function(f){var k,m,p,q,v;function g(t){if(v < m.length - 1)return (!1,v++,k.d6a(m[v].url,p,q).catch(g));throw t;}k=this;m=f.urls;p=f.offset;q=f.length;v=0;return this.d6a(m[v].url,p,q).catch(g);};d.prototype.d6a=function(f,g,k){return this.o1b.download({url:f,withCredentials:!1,responseType:c.ResponseType.Jsb,VE:"hls_headers",Uu:!0,offset:g,length:k,Gu:c.FU},{ifb:1});};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.ENa)),r.__param(1,(0,l.l)(h.hb))],a);b.tNa=a;},function(r,b,a){var l,h,n;function d(c){this.ta=c.eb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.xNa=void 0;r=a(0);l=a(1);h=a(75);a=a(7);d.prototype.parse=function(c,f,g){c=new h.mv(this.ta,{mediaType:c},f,["sidx"]).parse();if(c.Gw && c.ma)return this.y8(c.ma,g);};d.prototype.y8=function(c,f){var g,k,m,p,q;g=0;k=0;m=0;p=c.offset;q=[];c.Ne.forEach(function(v,t){k+=v;m+=c.sizes[t];if(1E3 * k / c.V >= f || t === c.Ne.length - 1)(q.push({duration:k / c.V,ca:g / c.V,byteOffset:p,cKb:m}),g+=k,k=0,p+=m,m=0);});return q;};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.hb))],n);b.xNa=n;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(){this.Vh();this.gd=1 === this.version?this.mz([{creationTime:"int64"},{modificationTime:"int64"},{V:"int32"},{duration:"int64"}]):this.mz([{creationTime:"int32"},{modificationTime:"int32"},{V:"int32"},{duration:"int32"}]);return !0;};h.Af="mvhd";h.zd=!1;return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(181);r=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.JJ=function(c){var f;if(c && c.da && !c.o$b){f=this.gr("mdia");f && (f=f.gr("mdhd")) && f.V !== c.da.V && (c.da=new l.O(c.da).Ue(f.V));}return !0;};n.Af="trak";n.zd=!0;return n;})(a(24).Gg);b.default=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(n){var c;this.Vh();c=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];c=c.concat({offset:64,type:"offset"},{xwc:"int16"},{Ftc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.gd=this.mz(c);this.gd.fzc=!!(this.flags & 1);this.gd.gzc=!!(this.flags & 2);this.gd.hzc=!!(this.flags & 4);this.gd.izc=!!(this.flags & 8);this.R.console.trace("Finished parsing track box");if(null === n || void 0 === n?0:n.If)(n.If.width=this.gd.width,n.If.height=this.gd.height);n && n.Fl && (n.Fl[this.gd.trackId]={});return !0;};h.Af="tkhd";h.zd=!1;return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(){this.Vh();this.gd=this.mz(1 === this.version?[{o8a:"int64"}]:[{o8a:"int32"}]);return !0;};h.Af="mehd";h.zd=!1;return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(n){this.gd=this.mz([{f1b:"int32"},{Rmc:"int32"}]);if(null === n || void 0 === n?0:n.If)(n.If.Rvc=this.gd.f1b,n.If.uzc=this.gd.Rmc);return !0;};h.Af="pasp";h.zd=!1;return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(){this.gd=this.mz([{$tc:"int32"},{maxBitrate:"int32"},{h9:"int32"}]);return !0;};h.Af="btrt";h.zd=!1;return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(){this.R.MC();this.R.MC();for(this.Pra=[];this.R.offset <= this.byteOffset + this.byteLength - 4;){this.Pra.push(this.R.MC());}return !0;};h.Af="ftyp";h.zd=!1;return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(90);r=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.parse=function(c){var f,g,k,m,p;this.Vh();this.gd=this.mz([{Kxc:"int32"},{Nwa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.gd.Nwa=l.GN(this.gd.Nwa);if(c && c.Fl){p=null === (m=null === (k=null === (g=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === g?void 0:g.Eq("tkhd")) || void 0 === k?void 0:k.gd) || void 0 === m?void 0:m.trackId;"number" === typeof p && c.Fl[p] && (c.Fl[p].Hy=this.gd.Nwa);}return !0;};n.Af="hdlr";n.zd=!1;return n;})(a(24).Gg);b.default=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(104);h=a(181);n=a(182);r=a(24);c=a(91);a=(function(f){function g(){return null !== f && f.apply(this,arguments) || this;}d.__extends(g,f);g.prototype.parse=function(){this.Vh();this.CP=this.R.mc();return !0;};g.prototype.JJ=function(k){var m;m=Object.keys(this.ze);m.length && (m=m[0],this.ze[m].length && (m=this.ze[m][0],m instanceof n.default?this.da=new h.O(m.PJ,m.samplerate):m instanceof c.default && (m=m.ze[l.Nka]) && m.length && (m=m[0].gd,1E3 !== m.Rv && 1001 !== m.Rv || 0 !== m.Dw % 1E3?this.R.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + m.Dw + "/" + m.Rv):this.da=new h.O(m.Rv,m.Dw)),k && this.da && (k.da=this.da)));return !0;};g.prototype.Bkb=function(k){void 0 !== this.ze[k] && 0 !== this.ze[k].length && (this.Xb.hx(this.CP - 1,this.byteOffset + 12),k=this.ze[k][0],this.no(k.byteLength,k.byteOffset));};g.Af="stsd";g.zd=!0;return g;})(r.Gg);b.default=a;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(){this.wWb=this.R.Pd(2);this.OJb=this.R.Pd(5);this.PJb=this.R.Pd(3);this.oGb=this.R.Pd(3);this.R.Pd(1);this.R.Pd(5);this.R.Pd(5);return !0;};h.Af="dac3";return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(n){var c,f;c=this.R.Kh();this.$4a=c >> 3;this.R8b=c & 7;this.ijc=[];for(c=0;c < this.R8b;c++){f={wWb:this.R.Pd(2),OJb:this.R.Pd(5),PJb:this.R.Pd(5),oGb:this.R.Pd(3),zwc:this.R.Pd(1),Q8b:this.R.Pd(4)};0 < f.Q8b?f.juc=this.R.Pd(9):this.R.Pd(1);this.ijc.push(f);}n && n.vSb && (n.vSb.$4a=this.$4a);return !0;};h.Af="dec3";return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(24);r=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.parse=function(c){this.Vh();this.wEa=this.R.MC();l.M && this.R.console.trace("SchemeTypeBoxTranslator: " + this.wEa);if("cenc" === this.wEa){if((this.R.offset-=4,l.M && this.R.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.R.offset),this.Xb.qrb("piff"),null === c || void 0 === c?0:c.If))c.If.GTb="piff";}else if(null === c || void 0 === c?0:c.If)c.If.GTb=this.wEa;this.R.mc();return !0;};n.Af="schm";n.zd=!1;return n;})(l.Gg);b.default=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(n){var c;this.R.Od();this.fsb=this.R.Od();this.R.Od();this.R.Od();this.R.Od();this.Dga=this.woa(this.R.Od() & 31);this.Uib=this.woa(this.R.Od());this.OR=this.Dga.length?this.Dga[0][1]:this.fsb;this.QZa=this.R.offset;this.startOffset + this.length < this.R.offset && (100 === this.OR || 110 === this.OR || 122 === this.OR || 144 === this.OR) && (this.R.Od(),this.R.Od(),this.woa(this.R.Od()));c=this.startOffset + this.length - this.QZa;0 < c && this.no(c,this.QZa);n && n.jqa && (n.jqa.Dga=this.Dga,n.jqa.Uib=this.Uib,n.jqa.OR=this.OR);return !0;};h.prototype.woa=function(n){var g;for(var c=[],f=0;f < n;++f){g=this.R.Kh();c.push(this.R.jfa(g));}return c;};h.Af="avcC";h.zd=!1;return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(n){this.R.Pd(1);this.R.Pd(7);this.Zlb=this.R.Pd(3);this.Ylb=this.R.Pd(5);this.$lb=this.R.Pd(1);this.abb=this.R.Pd(1);this.xpb=this.R.Pd(1);this.agb=this.R.Pd(1);this.Y2a=this.R.Pd(1);this.Z2a=this.R.Pd(1);this.X2a=this.R.Pd(2);this.R.Pd(3);(this.Nxa=this.R.Pd(1))?this.Kbb=this.R.Pd(4):this.R.Pd(4);n && (n.Ntc={Zlb:this.Zlb,Ylb:this.Ylb,$lb:this.$lb,abb:this.abb,xpb:this.xpb,agb:this.agb,Y2a:this.Y2a,Z2a:this.Z2a,X2a:this.X2a,Nxa:this.Nxa,Kbb:this.Kbb});return !0;};h.Af="av1C";return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(103);r=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.JJ=function(){var c;c=this.Eq("esds");if(c=c && c.jvb.Eq(5))(l.assert(this.samplerate),this.PJ=c.PJ * this.samplerate / c.Tfa);return !0;};n.Af="mp4a";n.zd=!0;return n;})(a(182).default);b.default=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(246);r=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.parse=function(c){this.Vh();this.jvb=l.RLa.Rjb(this.R,c);return !0;};n.Af="esds";n.zd=!1;return n;})(a(24).Gg);b.default=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=a(104);a=a(24);l=r.Nka;a=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.parse=function(){this.Vh();this.gd=this.mz([{Dw:"int32"},{Rv:"int16"}]);return !0;};n.Af=l;n.zd=!1;return n;})(a.Gg);b.default=a;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(n){var c,f,g,k,m;this.Vh();c=this.mz([{YS:"int32"},{Psa:"int32"},{ty:"int32"},{DB:"int32"},{CB:"int32"}]);f=c.YS;g=c.Psa;k=c.ty;m=c.CB;c=c.DB;this.gd={trackId:f,Iuc:g,j$:k,Juc:m,Kuc:c};(null === n || void 0 === n?0:n.Fl) && n.Fl[f] && (n.Fl[f].Psa=g,n.Fl[f].ty=k,n.Fl[f].CB=m,n.Fl[f].DB=c);this.YS=f;this.Psa=g;this.ty=k;this.DB=c;this.CB=m;return !0;};h.Af="trex";h.zd=!1;return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(821);h=a(103);n=a(389);r=(function(c){function f(g,k,m,p,q){g=c.call(this,g,k,m,p,q) || this;g.aY=!1;return g;}d.__extends(f,c);Object.defineProperties(f.prototype,{Z4a:{get:function(){return !!(this.flags & 1);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{faa:{get:function(){return !!(this.flags & 4);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Qfa:{get:function(){return !!(this.flags & 256);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Sfa:{get:function(){return !!(this.flags & 512);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{kEa:{get:function(){return !!(this.flags & 1024);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{jEa:{get:function(){return !!(this.flags & 2048);},enumerable:!0,configurable:!0}});f.prototype.parse=function(g){var k,m,p;this.Vh();this.tqa=this.R.offset;this.$d=this.R.mc();this.ep=this.Z4a?this.R.mfa():0;this.LVb=this.faa?this.R.mc():void 0;this.iEa=(this.Qfa?4:0) + (this.Sfa?4:0) + (this.kEa?4:0) + (this.jEa?4:0);this.MP=this.R.offset;h.assert(this.Z4a,"Expected data offset to be present in Track Run");h.assert(this.length - (this.R.offset - this.startOffset) === this.$d * this.iEa,"Expected remaining data in box to be sample information");if(g && g.pa){g.pa.ep=this.ep;g.pa.$d=this.$d;this.yl=[];p=null === (m=null === (k=this.parent) || void 0 === k?void 0:k.Eq("tfhd")) || void 0 === m?void 0:m.YS;for(k=0;k < this.$d;k++){m={};this.Qfa?m.Pfa=this.R.mc():g.pa.ty?m.Pfa=g.pa.ty:p && g.Fl && g.Fl[p] && (m.Pfa=g.Fl[p].ty);this.Sfa?m.CL=this.R.mc():g.pa?m.CL=g.pa.DB:p && g.Fl && g.Fl[p] && (m.CL=g.Fl[p].DB);this.kEa?m.Rfa=this.R.mc():g.pa?m.Rfa=g.pa.CB:p && g.Fl && g.Fl[p] && (m.Rfa=g.Fl[p].CB);this.jEa && (m.jyc=0 === this.version?this.R.mc():this.R.mfa());0 === k && this.faa && (m.Rfa=this.LVb);this.yl.push(m);}g.pa.yl=this.yl;if(g.pa.BL)for((h.assert(g.pa.BL.length === g.pa.yl.length,"num fragment samples: " + g.pa.yl.length + ", num samples in auxiliary info: " + g.pa.BL.length),p=0);p < g.pa.yl.length;p++){g.pa.yl[p].Wja=g.pa.BL[p].Wja;g.pa.yl[p].$Fa=g.pa.BL[p].$Fa;}}return !0;};f.prototype.A7=function(g,k,m){var p,q,v;p=this.Qfa?this.R.mc():g.ty;q=this.Sfa?this.R.mc():g.DB;g=this.kEa?this.R.mc():g.CB;v=this.jEa?0 === this.version?this.R.mc():this.R.mfa():0;return {ufc:v,Rfa:g,CL:q,Pfa:p,Mxc:(m || 0) + v - (void 0 !== k?k:v)};};f.prototype.La=function(g,k,m,p,q,v,t){var w,u,y,x;h.assert(void 0 !== this.ep);h.assert(void 0 !== this.MP);h.assert(void 0 !== this.tqa);h.assert(void 0 !== this.$d);h.assert(void 0 !== g.Bt);w=0;u=0;this.Xb.offset=this.MP;for(p=0;p < q;++p){y=this.A7(k,x,u);if(0 === p)x=y.ufc;w+=y.CL;u+=y.Pfa;}p=q;q=this.R.offset;y=this.A7(k,x,u);this.zDa=t;this.wS=p;this.inb=u;if(t){if((this.XR=this.ep + w,this.Hs=0,p === this.$d))return !0;}else if((this.XR=this.ep,this.Hs=w,0 === p))return !0;if(0 === p || p === this.$d)return !1;this.aY=!0;if(t){this.Hs+=y.CL;for(t=p + 1;t < this.$d;++t){y=this.A7(k,x,u);this.Hs+=y.CL;}this.Xb.offset=this.tqa;this.$d=p;this.Xb.hx(this.$d);this.Xb.FHa(v);this.faa && (this.R.offset+=4);this.no(this.length - (q - this.startOffset),q);}else (k=q - this.MP,this.MP=q,this.Xb.offset=this.tqa,this.$d-=p,this.Xb.hx(this.$d),this.ep+=w,this.Xb.FHa(v,this.ep),this.faa && (this.R.offset+=4),this.no(k,this.Xb.offset));m.no(this.Hs,g.Bt + this.XR);return !0;};f.prototype.R7b=function(g,k,m,p,q,v,t,w){var u,x,z,B,A;void 0 === t && (t=!1);h.assert(void 0 !== this.ep);h.assert(void 0 !== this.MP);h.assert(void 0 !== this.$d);h.assert(void 0 !== this.iEa);h.assert(void 0 !== g.Bt);for(var y=p.length;y < this.$d;++y){p[y]=p[y - 1];}p.some(function(C){return 0 >= C;}) && (x=null === (u=this.bCb(q,v)) || void 0 === u?void 0:u.yga);this.R.offset=this.MP;g=g.Bt + this.ep;q=-1 !== q.indexOf("heaac")?"aac":"ddp";v=new Uint8Array(this.R.view.buffer,this.R.view.byteOffset,this.R.view.byteLength);for(y=0;y < this.$d;++y){u=this.A7(k).CL;if(-Infinity === p[y]){if(x && this.Sfa){m.zfa(u,x,g);z=this.iEa - (this.Qfa?4:0);this.Xb.offset-=z;this.Xb.hx(x.byteLength);this.Xb.offset+=z - 4;}}else if(0 > p[y])try{B=v.subarray(g,g + u);A=l.gF({ie:q,frame:B,bB:p[y],zL:t,IK:w}).hWb;A !== u && this.R.console.error("TrackRunBoxEditor: parse frame size error " + A + " should be " + u);}catch(C){this.R.console.error("TrackRunBoxEditor: fadeFrame error: " + C.message + " " + C.stack);}g+=u;}};f.prototype.bCb=function(g,k){if("string" === typeof k)return (h.assert("reset" !== k && "standard" !== k),n.RW[k]);if(void 0 !== g)return k?n.RW.reset[g] || n.RW.standard[g]:n.RW.standard[g];};f.Af="trun";f.zd=!1;return f;})(a(24).Gg);b.Uzb=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(822),b);},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.gF=void 0;d=a(250);l=a(823);b.gF=function(){var g,k,m,p;for(var c=[],f=0;f < arguments.length;f++){c[f]=arguments[f];}g="string" === typeof c[0]?{ie:c[0],frame:c[1],bB:c[2],mMb:c[3],IK:c[4]}:c[0];k=g.ie;c=g.frame;f=g.bB;m=g.mMb;p=g.IK;g=g.zL;g=void 0 === g?!1:g;switch(k){case "aac":void 0 === h && (h=a(824).gF);k=6;m && (m=new d.A3(m),k=l.Whb(m).Ufa);c=h(c,f,g,{Ufa:k}).GBa;break;case "ddp":void 0 === n && (n=a(833).gF);c=n(c,f,{IK:p}).GBa;break;default:throw Error("Unrecognized codec in fadeFrame: " + k);}return {hWb:c};};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Whb=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.Whb=function(d){var l,h,n,c;l=d.read(5);h=d.read(4);if(15 === h){n=d.read(24);h=a.indexOf(n);}else n=a[h];c=d.read(4);switch(l){case 1:case 2:case 4:if(d.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {Sr:l,sampleRate:n,Ufa:h,kuc:c,gWb:1024};};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.gF=void 0;d=a(250);l=a(825);b.gF=function(h,n,c,f){var g;g=new d.A3(h);n=l.njb(g,{bB:n,zL:c},f && f.Ufa);g=g.offset;return {frame:h.subarray(0,g),GBa:g,tzc:n};};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.njb=void 0;d=a(251);l=a(826);b.njb=function(h,n,c){var f,g,k;if(4095 === h.read(12)){h.advance(3);f=!!h.read(1);g=h.read(2) + 1;c=h.read(4);h.advance(8);k=h.read(13);h.advance(13 + (f?0:16));f={Sr:g,Ufa:c,gWb:k};}else h.reverse(12);d.assert(void 0 !== c);l.tjb(h,c,n);return f;};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.tjb=void 0;d=a(827);l=a(832);b.tjb=function(h,n,c){var g;for(var f;7 !== (f=h.read(3));){g=h.read(4);switch(f){case 1:d.jjb(h,n,c);break;case 6:l.mjb(h,g,c);break;default:throw Error("Unsupported AAC element " + f);}}h.bKb();};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.jjb=void 0;d=a(828);b.jjb=function(l,h,n){var c,f;c=l.read(1);if(c){f=new d.iOa(l,c,h);1 === l.read(2) && l.advance(f.qR * f.J_);}d.PCa(l,h,f,n);d.PCa(l,h,f,n);};},function(r,b,a){var d,l,h,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.iOa=b.PCa=void 0;d=a(251);l=a(829);h=a(831);b.PCa=function(g,k,m,p){var q,v,t;q=g.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.bB / 20)) / Math.log(2)));g.reverse(8);g.write(8,p);m || (m=new f(g,0,k));q=m;v=2 === q.CHa?3:5;t=(1 << v) - 1;k=[];p=[];for(var w=[],u=0;u < q.qR;++u){for(var y=0,x=0;y < q.J_;){for(var z=g.read(4),B=0,A;(A=g.read(v)) === t;){B+=A;}B+=A;y+=B;k.push(z);p.push(B);++x;}w.push(x);}q=!0;for(v=0;v < k.length;++v){0 !== k[v] && (13 === k[v] && q?(g.advance(9),q=!1,l.f5.gnb(g,p[v] - 1)):l.f5.gnb(g,p[v]));}g.read(1) && g.advance(6 + 9 * (g.read(2) + 1));if(g.read(1))for((q=m,v=2 === q.CHa?n:c,t=0);t < q.ahb;++t){if(w=g.read(v[0]))for((u=g.read(1),y=0);y < w;++y){if((g.advance(v[1]),x=g.read(v[2])))(g.advance(1),z=g.read(1),g.advance(x * (u + 3 - z)));}}d.assert(!g.read(1));q=m.qR;v=m.J_;t=m.nob;m=m.Pha;for(u=w=0;u < q;++u){for((y=m[u],x=0);x < v;++w){if((z=k[w],B=p[w],0 === z || 13 === z || 15 === z || 14 === z))x+=B;else {A=5 <= z?2:4;for(var C=0;C < B;(++C,++x)){for(var D=y * (t[x + 1] - t[x]) / A,E=0;E < D;++E){l.f5.aic(g,z);}}}}}};n=[1,4,3];c=[2,6,5];f=(function(){return function(g,k,m){var p;this.Pha=[];this.qR=1;this.Pha[0]=1;g.advance(1);this.CHa=g.read(2);g.read(1);if(2 === this.CHa){this.ahb=8;this.J_=g.read(4);for(k=0;7 > k;++k){g.read(1)?this.Pha[this.qR - 1]++:(this.qR++,this.Pha[this.qR - 1]=1);}this.nob=h.bVa[m];}else {this.ahb=1;this.J_=g.read(6);if(g.read(1)){p=14 + Math.min(this.J_,40);g.read(1) && g.advance(p);k && g.read(1) && g.advance(p);}this.nob=h.aVa[m];}};})();b.iOa=f;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.f5=void 0;d=a(830);l=[d.TMa,d.WMa,d.XMa,d.YMa,d.ZMa,d.$Ma,d.aNa,d.bNa,d.cNa,d.UMa,d.VMa];h=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.f5=(function(){function n(){}n.J7a=function(c,f){var g,q,v;g=f.table;f=f.width;for(var k=0,m=g[0],p=c.read(m);p !== g[k + 1];){k+=f;q=g[k];v=q - m;m=q;p<<=v;p|=c.read(v);}return k;};n.fnb=function(c){for(var f=4;c.read(1);){++f;}c.advance(f);};n.gnb=function(c,f){for(;f--;){n.J7a(c,d.dNa);}};n.aic=function(c,f){var g,k;g=l[f - 1];k=g.table;g=this.J7a(c,g);if(11 > f)h[f - 1] && (f=k[g + 2]) && c.advance(f);else if(11 === f || 15 < f)(g+=2,(f=k[g]) && c.advance(f),(k=k[g + 1]) && this.fnb(c),1 < k && this.fnb(c));else throw Error("Huffman: unknown spectral codebook: " + f);};return n;})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dNa=b.VMa=b.UMa=b.cNa=b.bNa=b.aNa=b.$Ma=b.ZMa=b.YMa=b.XMa=b.WMa=b.TMa=void 0;b.TMa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.WMa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.XMa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.YMa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.ZMa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.$Ma={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.aNa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.bNa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.cNa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.UMa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.VMa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.dNa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},function(r,b){var a,d,l,h,n,c,f,g,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.fzb=b.Awb=b.hzb=b.Czb=b.Dzb=b.bVa=b.aVa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);h=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);n=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);g=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);k=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.aVa=[r,r,d,h,h,c,f,f,k,k,k,p];b.bVa=[a,a,l,n,n,n,g,g,m,m,m,q];b.Dzb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.Czb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.hzb=(function(){for(var v=new Float32Array(428),t=0;428 > t;t++){v[t]=Math.pow(2,(t - 200) / 4);}return v;})();b.Awb=(function(){for(var v=new Float32Array(8191),t=4 / 3,w=0;8191 > w;w++){v[w]=Math.pow(w,t);}return v;})();b.fzb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mjb=void 0;b.mjb=function(a,d,l){15 === d && (d+=a.read(8) - 1);0 < d && 1 !== l.bB && !l.zL?(a.write(4,0),a.advance(8 * d - 4)):a.advance(8 * d);};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.gF=void 0;d=a(250);l=a(834);b.gF=function(h,n,c){var f;f=new d.A3(h);n=l.V0a(f,n,null === c || void 0 === c?void 0:c.IK).iWb;h=h.subarray(0,n);l.Imb(h);return {frame:h,GBa:n};};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.Imb=b.V0a=void 0;d=a(251);l=a(835);b.V0a=function(h,n,c){var f,g;f=h.read(16);d.assert(2935 === f);f=2 * ((h.read(16) & 2047) + 1);h.advance(13);g=h.read(5);h.reverse(5);c && (n*=-g / c);h.write(5,Math.min(31,Math.max(1,Math.floor(g + n))));return {iWb:f};};b.Imb=function(h){var n;n=l.g4a(h.subarray(2,h.length - 2));h[h.length - 2]=n >> 8;h[h.length - 1]=n & 255;};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.g4a=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.g4a=function(d,l){void 0 === l && (l=0);l=~~l;for(var h=0;h < d.length;h++){l=(a[(l >> 8 ^ d[h]) & 255] ^ l << 8) & 65535;}return l;};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}d.__extends(h,l);h.prototype.parse=function(n){this.dQb=this.R.MC();n && n.If && (n.If.sfc=this.dQb);return !0;};h.Af="frma";return h;})(a(24).Gg);b.default=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(838);h=a(252);n=a(103);c=a(181);f=a(24);r=a(387);g=a(388);k=a(390);m=a(149);p=a(244);q=a(104);v=a(391);t=a(841);a=(function(){function w(u,y,x,z,B,A){this.console=u;this.stream=y;this.Vw=z;this.xHb=B;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.D0b=m.KXb();}w.path=function(u,y){return y.reduce(function(x,z){return x && x.ze[z] && x.ze[z][0];},u);};w.SYb=function(u){return u && u.Pra && -1 !== u.Pra.indexOf("mcl0")?"mcl0":void 0;};w.pVb=function(u,y){var x,z;n.assert("mcl0" === u,"Unsupported McClearen brand");x=y.ma;u=x.Ne;y=new c.O(120,1).Ue(x.V).Ca;z=0;for(x=x.vo;z < u.length && x < y;){x+=u[z++];}return z;};w.prototype.parse=function(u){var y;y=this.Ffc();if(!y.done){if(y.ngb)return {Gw:!1,yHb:y.ngb};this.console.error("Scan error: " + y.error);return {Gw:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === u || void 0 === u?0:u.da)u.o$b=u.da;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);u=this.M$b(u);return u.done?this.PMb():(this.console.error("Parse error: " + u.error),{Gw:!1,parseError:u.error || "unknown mp4 parse error"});};w.prototype.KB=function(u){return f.Gg.KB(this,u);};w.prototype.Eq=function(u){return f.Gg.Eq(this,u);};w.prototype.Ffc=function(){var u,y;u=new v.Kvb(this.Vw,this.xHb?[q.q5,q.p5]:[],this.config && this.config.Uyc || ["moof",q.YQa],this.config && this.config.QBa);y=d.__assign(d.__assign({},this.config),{PBa:!1});return new k.Kia(w.pEa,u,this.view,this.console,y).parse();};w.prototype.M$b=function(u){var y,x,z;y=new v.bLa(this.view.byteLength);x=Object.create(p.hR.ze);this.config && ((this.config.OBa || this.config.npb || this.config.Cga) && l(p.hR.hEa,x),this.config.CGa && l(p.hR.Okc,x),this.config.npb && l(p.hR.opb,x));z=d.__assign(d.__assign({},this.config),{PBa:!0});this.Dg=new k.Kia(x,y,this.view,this.console,z);u=this.Dg.parse(u);u.done && (this.ze=this.Dg.ze);return u;};w.prototype.PMb=function(){var u,y,x,z,B,A,C,D;u={Gw:!0};y=w.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.KB("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].gr("tkhd");z && (u.trackId=z.gd.trackId);}z=w.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.OBa)if(z)(u.da=z.da,u.iyc=z.ze);else return {Gw:!1,parseError:"Missing sample descriptions"};B=w.path(z,["encv","sinf","schi"]);B && (B=w.path(B,["tenc"]) || w.path(B,[q.JRa])) && (u.FTb={wuc:B.Pq,Fya:B.Fya,twc:!1});if(B=w.path(y,["trak","mdia","mdhd"]))u.V=B.V;if(B=w.path(y,["mvex","trex"]))u.j$=B && B.gd.j$;u.j$ && u.V && (u.da=new c.O(u.j$,u.V));if(B=w.path(this,["sidx"])){A=w.path(this,[q.q5]);A=A && A.U6b;C=w.path(this,[q.p5]);C=C && C.el;u.ma=B.ma;u.gR=A;u.el=C;}if(A=this.ze.vmaf && this.ze.vmaf[0])u.Jz=A.Jz;if(this.config.DDa && (A=w.path(y,["mvex"])) && x && x.length){D=x.reduce(function(E,G){return G.byteOffset > E.byteOffset?G:E;});D.byteOffset > A.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=t.zpb(x,A.byteOffset,A.byteOffset + A.byteLength),D=t.zpb(x,A.byteOffset + A.byteLength,D.byteOffset + D.byteLength),x.set(D,A.byteOffset),x.set(C,A.byteOffset + D.byteLength));}if(this.config.mlb)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.Cga && z && 1 < z.CP && B && (u.kh=this.Cga(z,B)),void 0 === u.kh && (y=this.Dg.aY?h.concat(this.Dg.La()):this.view.buffer,u.kh=[{Wd:0,data:y}]));else return {Gw:!1,parseError:"Missing movie box"};u.Gw=!0;u.yea=this.Dg.offset;return u;};w.prototype.trim=function(u){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.Dg.trim(u);this.view=new DataView(y);};w.prototype.Cga=function(u,y){var x,z,B;x=Object.keys(u.ze);z=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=w.path(this,["ftyp"]);B=w.SYb(x);if(B)return (x=[],this.Dg.Lcc(),u.Bkb("encv"),x.push({Wd:0,Pm:!1,data:h.concat(this.Dg.La())}),this.Dg.gbc(),u.Bkb(z[0]),u=w.pVb(B,y),x.push({Wd:u,Pm:!0,data:h.concat(this.Dg.La())}),x);}};w.pEa={};return w;})();b.mv=a;a.pEa[q.Oka]=r.default;a.pEa[q.Pka]=g.default;},function(r){r.exports=function l(a,d){var h;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,d);Object.getOwnPropertyNames(a).forEach(function(n){h=Object.getOwnPropertyDescriptor(a,n);void 0 !== h && Object.defineProperty(d,n,h);});};},function(r,b,a){var d,l,h,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(103);h=a(252);n=a(90);r=a(840);c=(function(){function f(g){g?(this.cr=g.cr.slice(),this.Zu=g.Zu.slice(),this.Ui=g.Ui.slice(),this.trim=g.trim):(this.cr=[],this.Zu=[],this.Ui=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.cr.length && 0 === this.Zu.length && 0 === this.Ui.length;},enumerable:!0,configurable:!0}});return f;})();r=(function(f){function g(k,m,p){k=f.call(this,k,m,p) || this;k.r6a=[];k.Oe=new c();return k;}d.__extends(g,f);g.eIb=function(k,m){if(m.offset + m.size <= k.byteLength)switch(m.size){case 1:k.setUint8(m.offset,m.value);break;case 2:m.S1?k.setInt16(m.offset,m.value):k.setUint16(m.offset,m.value);break;case 4:m.S1?k.setInt32(m.offset,m.value):k.setUint32(m.offset,m.value);break;case 8:l.assert(!m.S1);k.setUint32(m.offset,Math.floor(m.value / 4294967296));k.setUint32(m.offset + 4,m.value & 4294967295);break;default:l.assert(!1);}};Object.defineProperties(g.prototype,{aY:{get:function(){return !this.Oe.empty;},enumerable:!0,configurable:!0}});g.prototype.Rha=function(k,m){this.Oe.Zu.push({offset:void 0 !== m?m:this.offset,value:k,size:1});void 0 === m && (this.offset+=1);};g.prototype.Fnc=function(k){this.Oe.Zu.push({offset:!1,value:k,size:2,S1:!1});};g.prototype.hx=function(k,m){this.Oe.Zu.push({offset:void 0 !== m?m:this.offset,value:k,size:4,S1:!1});void 0 === m && (this.offset+=4);};g.prototype.Gnc=function(k,m){this.Oe.Zu.push({offset:void 0 !== m?m:this.offset,value:k,size:8,S1:!1});void 0 === m && (this.offset+=8);};g.prototype.qrb=function(k){this.hx(n.PXa(k));};g.prototype.FHa=function(k,m){this.Oe.Ui.push({offset:this.offset,Tr:k,value:m});this.offset+=4;};g.prototype.no=function(k,m,p){this.Oe.cr.push({offset:m,remove:k,xb:p});};g.prototype.zfa=function(k,m,p,q){this.Oe.cr.push({offset:p,remove:k,replace:m,xb:q});};g.prototype.trim=function(k){this.Oe.trim=k;};g.prototype.Lcc=function(){this.r6a.push(new c(this.Oe));};g.prototype.gbc=function(){this.Oe=this.r6a.pop() || new c();};g.prototype.La=function(){var k,m,p,q,v,t,w,u,y;k=this;if(0 === this.Oe.cr.length && 0 === this.Oe.Zu.length && 0 === this.Oe.Ui.length)return [void 0 === this.Oe.trim?this.view.buffer:this.view.buffer.slice(0,this.Oe.trim)];this.Oe.cr.sort(function(x,z){return x.offset - z.offset;});this.Oe.Zu.sort(function(x,z){return x.offset - z.offset;});this.Wec();m=this.gVb();p=new Uint8Array(this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + m));q=new DataView(p.buffer,p.byteOffset,p.byteLength);this.Oe.Zu.forEach(g.eIb.bind(void 0,q));this.Blc(q);this.Alc(q);v=[];t=void 0 !== this.Oe.trim?Math.min(this.Oe.trim,this.view.byteLength):this.view.byteLength;w=0;u=!0;this.Oe.cr.filter(function(x){return x.offset <= t;}).forEach(function(x){x.offset > w && (v.push(p.subarray(w,x.offset)),u && x.offset > m && (u=!1,p=new Uint8Array(k.view.buffer,k.view.byteOffset,k.view.byteLength),v.push(p.subarray(m,x.offset))));x.replace && v.push(new Uint8Array(x.replace));w=x.offset + x.remove;});w < m && v.push(p.subarray(w));w < t && (q=Math.max(m,w),v.push(new Uint8Array(this.view.buffer,this.view.byteOffset + q,t - q)));q=v.reduce(function(x,z){return x + z.byteLength;},0);y=new Uint8Array(q);v.reduce(function(x,z){y.set(z,x);return x + z.byteLength;},0);return [y.buffer];};g.prototype.gVb=function(){var k,m,p;k=[];m=this.Oe.Zu[this.Oe.Zu.length - 1];p=this.Oe.Ui[this.Oe.Ui.length - 1];m && k.push(m.offset + m.size);p && k.push(p.offset + 4);this.Oe.cr.filter(function(q){return q.xb;}).forEach(function(q){return k.push(q.xb.byteOffset + 4);});m=Math.max.apply(void 0,k);return void 0 !== this.Oe.trim?Math.min(m,this.Oe.trim):m;};g.prototype.Wec=function(){this.Oe.cr=this.Oe.cr.reduce(function(k,m){var p,q;if(0 === k.length)return (k.push(m),k);p=k[k.length - 1];q=p.offset + p.remove;m.offset >= q?k.push(m):m.offset + m.remove > q && (l.assert(p.xb === m.xb),p.remove+=m.offset + m.remove - q,m.replace && (p.replace=p.replace?h.concat(p.replace,m.replace):m.replace));return k;},[]);};g.prototype.Blc=function(k){var m;m=this;this.Oe.Ui.forEach(function(p){var q,v,t,w;q=k;v=p.offset;m.Oe.cr.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(q=new DataView(u.replace),v=p.offset - u.offset,!0):!1;});t=p.Tr + (void 0 !== p.value?p.value:q.getInt32(v));w=m.Oe.cr.reduce(function(u,y){return y.offset > p.Tr && y.offset < t?u + (y.remove - (y.replace?y.replace.byteLength:0)):u;},0);q.setInt32(v,t - p.Tr - w);});};g.prototype.Alc=function(k){this.Oe.cr.forEach(function(m){var p;p=(m.remove || 0) - (m.replace?m.replace.byteLength:0);if(0 !== p)for(m=m.xb;m;){k.setUint32(m.byteOffset,k.getUint32(m.byteOffset) - p);m=m.parent;}});};return g;})(r.cAb);b.bAb=r;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(149);a(149);l=a(90);r=(function(){function h(n,c,f){this.view=n;this.console=c;this.config=f;this.view=n;this.console=c;this.Yd=this.Ct=this.offset=0;}h.prototype.m9a=function(n){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,n);};h.prototype.Pd=function(n){for(;this.Yd < n;){this.Ct=(this.Ct << 8) + this.Od();this.Yd+=8;}this.Yd-=n;return this.Ct >>> this.Yd & (1 << n) - 1;};h.prototype.Od=function(){var n;n=this.view.getUint8(this.offset);this.offset+=1;return n;};h.prototype.Kh=function(n){n=this.view.getUint16(this.offset,n);this.offset+=2;return n;};h.prototype.mc=function(n){n=this.view.getUint32(this.offset,n);this.offset+=4;return n;};h.prototype.mfa=function(){var n;n=this.view.getInt32(this.offset,void 0);this.offset+=4;return n;};h.prototype.jac=function(n,c){var f;f=this.view.getUint32(this.offset + (n?4:0),n);n=this.view.getUint32(this.offset + (n?0:4),n);c || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + n;};h.prototype.lm=function(n,c){n=this.jac(n,c);this.offset+=8;return n;};h.prototype.lac=function(){var n,c;n=this.view.getInt32(this.offset + 0,void 0);c=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < n?n:-n) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * n + c;};h.prototype.bdc=function(){var n;n=this.lac();this.offset+=8;return n;};h.prototype.MC=function(){return l.GN(this.mc());};h.prototype.nfa=function(){var c,f,g,k,m,p;function n(q,v){return ("000000" + q.toString(16)).slice(2 * -v);}c=this.mc(!0);f=this.Kh(!0);g=this.Kh(!0);k=this.Kh();m=this.Kh();p=this.mc();return [n(c,4),n(f,2),n(g,2),n(k,2),n(m,2) + n(p,4)].join("-");};h.prototype.kfa=function(n){var c;c=this.view.byteOffset + this.offset;c=this.view.buffer.slice(c,c + n);this.offset+=n;return c;};h.prototype.Wcc=function(n){var c;c=[];if(0 === n)return "";n=n || Number.MAX_SAFE_INTEGER;for(var f=this.Od();0 !== f && 0 <= --n;){c.push(f);f=this.Od();}return String.fromCharCode.apply(null,c);};h.prototype.jfa=function(n){var c,f;void 0 === c && (c=1);void 0 === f && (f=!0);return this.sl(this.config.cT && d.K_b || d.iQ,1,n,c,f);};h.prototype.Vcc=function(n){var c,f,g;c=10;f=!1;void 0 === c && (c=2);void 0 === f && (f=!0);void 0 === g && (g=!1);return this.sl(this.config.cT && d.I_b || d.kba,2,n,c,f,g);};h.prototype.ifa=function(n,c,f){var g;void 0 === c && (c=4);void 0 === f && (f=!0);void 0 === g && (g=!1);return this.sl(this.config.cT && d.J_b || d.lZ,4,n,c,f,g);};h.prototype.Ycc=function(){for(var n=this.Od(),c=n & 127;n & 128;){n=this.Od();c=c << 7 | n & 127;}return c;};h.prototype.sl=function(n,c,f,g,k,m){void 0 === k && (k=!0);void 0 === m && (m=!1);n=n(this.view,this.offset,f,g,m);this.offset=k || !g || g === c?this.offset + f * (g || c):this.offset + c;return n;};return h;})();b.cAb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zpb=function(a,d,l){var h,n,c;h=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(d,l);n=Math.min(a.length,l);c=Math.min(a.length,d);for(l=new h(Math.max(l - d,0));c < n;c++){l[c - d]=a[c];}return l;};},function(r,b,a){var l,h,n,c,f;function d(g){return "number" === typeof g[0] || void 0 === g[0]?{uj:g[0],V:g[1],bB:g[2],UDa:g[3],zL:g[4]}:g[0];}Object.defineProperty(b,"__esModule",{value:!0});l=a(0);h=a(104);r=a(253);n=a(90);c=a(103);f=a(24);a=(function(g){function k(m,p,q){return g.call(this,m,p,q) || this;}l.__extends(k,g);k.prototype.wkb=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.La(l.__assign(l.__assign({},d(m)),{zDa:!1}));};k.prototype.Dkb=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.La(l.__assign(l.__assign({},d(m)),{zDa:!0}));};k.prototype.La=function(m){var q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H;function p(P){z=x[P];B=z.gr("traf");if(void 0 === B || void 0 === B.Bt)return !1;E=B.gr("tfdt");if(void 0 === E)return !1;A=B.gr("trun");return void 0 === A?!1:!0;}q=m.uj;v=m.V;t=m.zDa;w=m.bB;u=m.UDa;u=void 0 === u?!1:u;y=m.zL;y=void 0 === y?!1:y;m=m.IK;if(!this.parse().done)return !1;x=this.ze.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){C=q;for(q=0;q < x.length;++q){if(!p(q,this.Dg.console.trace))return !1;c.assert(z && B && E && A && void 0 !== A.$d);if(A.$d > C || t && A.$d === C)break;C-=A.$d;}c.assert(z && B && E && A);}else if((q=t?x.length - 1:0,!p(q,this.Dg.console.trace)))return !1;c.assert(z && B && E && A);if(t && q < x.length - 1){D=x[q + 1];this.Dg.no(this.view.byteOffset - D.startOffset,D.startOffset);}else !t && 0 < q && this.Dg.no(z.startOffset,0);D=B.gr("tfhd");if(void 0 === D)return !1;E=B.gr("tfdt");G=A.$d;F=B.gr("saiz");K=B.gr("saio");O=B.gr(h.IRa);L=B.gr("sbgp");if(!(!F && !K || F && K))return !1;I=B.gr("sdtp");M=f.Gg.KB(this,"mdat");if(M && q < M.length)H=M[q];else if(q !== x.length - 1)return !1;void 0 === C && (C=t?A.$d:0);if("number" === typeof w && 0 < w){M=t?C:A.$d - C;for(var J=Array(M),N=0;N < M;++N){J[N]=t?N >= M - w?-Infinity:0:N < w?-Infinity:0;}w=J;}if(A.La(B,D,H || this.Dg,v,C,B.Bt,t))A.aY && (c.assert(void 0 !== A.inb),c.assert(void 0 !== A.wS),!t && E && E.La(A.inb),F && K && (F.La(A.wS,t),K.La(O?0:F.gEa,B.Bt)),O && O.La(A.wS,t),I && I.La(A.wS,G,t),L && L.La(A.wS,t));else if(!t){if(q === x.length - 1)return !1;this.Dg.no(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === A.wS)return !1;Array.isArray(w) && H && this.stream.profile && void 0 !== u && A.R7b(B,D,H,w,this.stream.profile,u,y,m);v=this.Dg.La();t=v.reduce(function(P,X){return P + X.byteLength;},0);v={pa:v,length:t,bL:this.Dg.view.byteLength};A.aY && !H && (v.XR=B.Bt + A.XR,v.Hs=A.Hs);return v;};return k;})((function(g){function k(m,p,q){return g.call(this,m,p,q) || this;}l.__extends(k,g);return k;})(r.FH));b.gA=a;b.PQ=function(g){var k,m;k=new ArrayBuffer(8);m=new DataView(k);m.setUint32(0,g + 8);m.setUint32(4,n.PXa("mdat"));return k;};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);r=a(253);l=a(252);a=(function(h){function n(){return null !== h && h.apply(this,arguments) || this;}d.__extends(n,h);n.prototype.La=function(c){var f,g,k,m;f=this;if(!this.parse().done)return !1;g=this.ze.moov;if(!g || 0 === g.length)return !1;k=g[0].Eq("tenc");if(!k)return !1;m=new Uint8Array(k.Pq);c.forEach(function(p){for(var q=p.from,v=!0,t=0;t < q.length;t++){if(m[t] !== q[t]){v=!1;break;}}v && f.Dg.zfa(p.from.length,p.to,k.Fya);});return l.concat(this.Dg.La());};return n;})(r.FH);b.dka=a;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(49);b.u=r.u;},function(r,b,a){var c,f,g,k,m,p,q,v,t,w,u,y;function d(x,z,B){this.NX=z;this.jd=x.filter(function(A){return A.KGa[p.xn.q6];}).map(function(A){return {track:A,stream:A.KGa[p.xn.q6],id:A.h6a[p.xn.q6]};});B || (this.jd=this.jd.filter(function(A){return A.track.Bg === z;}));}function l(x,z,B){var A;this.YL=z;this.Bw=B;A=x[0];this.iM=A.streams.map(function(C){return {track:A,xZ:C.tnb,stream:C};});}function h(x,z,B,A,C){function D(E,G){return E.bitrate > G.bitrate?E:G;}this.log=x;this.YL=B;this.NX=A;this.iM=z.map(function(E){var G;G=E.streams.reduce(D);return {track:E,xZ:G.sm?G.sm.offset + G.sm.size:void 0,stream:G};});C || (this.iM=this.iM.filter(function(E){return E.track.Bg === A;}));}function n(x,z,B,A,C,D){this.Q0b=x;this.R0b=z;this.cbc=B;this.ZKb=A;this.hK=C;this.zg=D;this.ta=D.eb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Qzb=b.aAb=b.psb=b.gNa=void 0;r=a(0);c=a(1);f=a(382);g=a(384);k=a(4);m=a(36);p=a(42);q=a(392);v=a(393);t=a(243);w=a(7);u=a(254);y=a(49);n.prototype.kj=function(x,z){var B,A,C,D,E,G;B=this;D=x.Ra;x=this.XWb(D,z);E=this.Q_b(D,z);G=null !== (C=null === (A=D.d1) || void 0 === A?void 0:A.SS) && void 0 !== C?C:D.TS.find(function(F){var K;return F.id === (null === (K=D.k$) || void 0 === K?void 0:K[0].cob);}).Bg;A=new d(D.TS,G,this.hK.Hpa);return Promise.all([x,E,A]).then(function(F){var K,O;K=oa(F);F=K.next().value;O=K.next().value;K=K.next().value;F={audio:F.getMetadata(),video:O.getMetadata(),text:K.getMetadata(),n5a:F.qva(),KQb:K.qva(),duration:D.duration,rm:D.rm};O=B.ZKb.qXb(F);z("h_s");return {f6b:B.cbc.transform(F,O),bLb:O,Qic:F};});};n.prototype.Q_b=function(x,z){var B;B=new l(x.gx,this.hK.ebb,this.hK.Bw);return this.b6a(B.iM,y.u.J,z).then(function(A){B.UEa(A);return B;});};n.prototype.XWb=function(x,z){var B,A,C,D;C=null !== (A=null === (B=x.d1) || void 0 === B?void 0:B.rq) && void 0 !== A?A:x.Gv.find(function(E){var G;return E.id === (null === (G=x.k$) || void 0 === G?void 0:G[0].rq);}).Bg;D=new h(this.ta,x.Gv,this.hK.Zy,C,this.hK.Hpa);return this.b6a(D.iM,y.u.U,z).then(function(E){D.UEa(E);return D;});};n.prototype.MBa=function(x,z,B,A){if(x=this.R0b.parse(z,x,B))return x;this.ta.error("Failed to parse headers",{type:z === y.u.U?"audio":"video",downloadableId:A.stream.hp});};n.prototype.b6a=function(x,z,B){var A;A=this;return Promise.all(x.map(function(C,D){if(C.xZ)return A.Q0b.download({urls:C.stream.urls,offset:0,length:C.xZ}).then(function(E){B("h_" + (0 === z?"A":"V") + "_" + D + "_s");return A.MBa(E,z,z == y.u.U?A.hK.Zy:A.hK.tC,C);}).catch(function(){B("h_" + C.track.aj[0] + "_" + D + "_f");A.ta.warn("Failed to download and parse headers for " + C.stream.hp);});A.ta.warn("Stream data offset is missing",{downloadableId:C.stream.hp});}));};a=n;a=r.__decorate([(0,c.$)(),r.__param(0,(0,c.l)(f.uNa)),r.__param(1,(0,c.l)(g.yNa)),r.__param(2,(0,c.l)(q.jNa)),r.__param(3,(0,c.l)(v.hKa)),r.__param(4,(0,c.l)(t.Mja)),r.__param(5,(0,c.l)(w.hb))],a);b.gNa=a;h.prototype.UEa=function(x){var z;z=this;if(!x.find(function(B){return void 0 !== B;}))throw m.rd.nrb(k.aa.dOa,k.Y.Aka);this.jd=this.iM.map(function(B,A){if(A=x[A])return {track:B.track,stream:B.stream,ma:A,YL:z.YL};}).filter(u.pya);};h.prototype.getMetadata=function(){return this.jd;};h.prototype.qva=function(){var x,z;x=this;if(!this.jd.find(function(B){return B.track.Bg === x.NX;}) && 0 < this.jd.length){z=this.jd[0].track.Bg;this.log.warn("Did not find metadata for audio track " + this.NX + ", falling back to " + z);return z;}return this.NX;};b.psb=h;l.prototype.UEa=function(x){var z,B;z=this;if(!x.find(function(A){return void 0 !== A;}))throw m.rd.nrb(k.aa.dOa,k.Y.Bka);B=this.iM.map(function(A,C){if(C=x[C])return {track:A.track,stream:A.stream,ma:C,YL:z.YL};}).filter(u.pya);this.jd=this.pZb(B);};l.prototype.getMetadata=function(){return this.jd;};l.prototype.pZb=function(x){var z,B,A;z=this;x.sort(function(C){return C.stream.bitrate;});B=x.findIndex(function(C){var D;return (null !== (D=C.stream.gb) && void 0 !== D?D:0) >= z.Bw;});if(-1 !== B && B !== x.length - 1){A=x[B];x.splice(B,1);x.push(A);}x.reverse();return x;};b.aAb=l;d.prototype.qva=function(){return this.NX;};d.prototype.getMetadata=function(){return this.jd;};b.Qzb=d;},function(r,b,a){var l,h,n,c,f,g;function d(k){this.ta=k.eb("HLSPlaylistTransformerImpl");this.cnc=c.Y3.Jt();this.UIb=f.nja.Jt();}Object.defineProperty(b,"__esModule",{value:!0});b.iNa=void 0;r=a(0);l=a(1);h=a(7);n=a(130);c=a(255);f=a(394);g=[0,1];d.prototype.transform=function(k,m){var p,q,v,t,w,u,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];v=k.text;t=k.audio;w=k.video;u=k.duration;y=k.n5a;x=k.KQb;v.forEach(function(B){g.forEach(function(A){var C,D,E,G;C=0 === A;D=B.stream;E=B.track;G=m.get(B.id);C=C?G.MR:G.Wfa;D=p.z_b({url:C.url,duration:u / 1E3,size:D.size,Tn:"Manifest for subtitles " + E.language + ' stream "' + E.QF + '", ' + E.Bg + ", cdn " + C.Qh});p.ta.trace("Text variant manifest",D.join("\n"));A=p.A_b({groupId:A,name:E.QF,Wxa:E.Bg === x,yp:E.jca,O2b:E.aj === n.wr.aia,language:E.language,uri:p.Wca(D)});q.push(A);});});t.forEach(function(B){g.forEach(function(A){var C,D,E,G,F,K;C=0 === A;D=B.stream;E=B.track;G=B.ma;F=B.YL;K=m.get(D.hp);C=C?K.MR:K.Wfa;D=p.o$a({url:C.url,xZ:D.sm.offset + D.sm.size,ma:G,sob:Math.floor(F / 1E3),Tn:"Manifest for audio " + E.language + ' stream "' + E.QF + '", ' + E.Bg + ", cdn " + C.Qh});p.ta.trace("Audio variant manifest",D.join("\n"));A=p.YWb({groupId:A,language:E.language,name:E.QF,Wxa:E.Bg === y,uri:p.Wca(D)});q.push(A);});});z=this.UIb[t[0].track.profile];w.forEach(function(B){g.forEach(function(A){var C,D,E,G,F,K;C=0 === A;D=B.stream;E=B.track;G=B.ma;F=B.YL;K=m.get(D.hp);K=C?K.MR:K.Wfa;C=0 < v.length;E=p.o$a({url:K.url,xZ:D.sm?D.sm.offset + D.sm.size:D.tnb,ma:G,sob:Math.floor(F / 1E3),Tn:"Manifest for video bitrate " + D.bitrate + ", stream " + E.Bg + ", cdn " + K.Qh});p.ta.trace("Video variant manifest",E.join("\n"));A=p.R_b({groupId:A,ZW:1E3 * D.bitrate,hJb:1E3 * D.bitrate,u3b:0 <= D.OE.indexOf("-hdr-") || 0 <= D.OE.indexOf("-dv5-"),framerate:(D.v8a / D.u8a).toFixed(3),om:D.QDa + "x" + D.Xkb,Wmc:p.cnc[D.OE],KIb:z,Tjc:C});q.push(A);A=p.Wca(E);q.push("" + A);});});this.ta.trace("Primary manifest",q.join("\n"));return this.Wca(q);};d.prototype.YWb=function(k){var m;m=k.Wxa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};d.prototype.o$a=function(k){var m,p;m=k.ma;p=["#EXTM3U","# " + k.Tn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.sob,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + m[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];m.forEach(function(q,v){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.ca.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.cKb + "@" + q.byteOffset);p.push("{$U}&fi=" + v);});p.push("#EXT-X-ENDLIST");return p;};d.prototype.R_b=function(k){var m,p;m=k.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.ZW,"AVERAGE-BANDWIDTH=" + k.hJb,"VIDEO-RANGE=" + (k.u3b?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + m + '"',"RESOLUTION=" + k.om,'CODECS="' + k.Wmc + "," + k.KIb + '"'];k.Tjc && p.push('SUBTITLES="subs_' + m + '"');return p.join(", ");};d.prototype.z_b=function(k){var m;m=k.duration;return ["#EXTM3U","# " + k.Tn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(m),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + m.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};d.prototype.A_b=function(k){var m,p,q;m=k.Wxa;p=k.language;q=k.uri;m=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),"FORCED=" + (k.yp?"YES":"NO")];k.O2b && m.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');m.push('LANGUAGE="' + p + '"');m.push('URI="' + q + '"');return m.join(", ");};d.prototype.Wca=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb))],a);b.iNa=a;},function(r,b,a){var l,h,n,c,f;function d(g,k){var p;function m(){p.WBa.then(function(q){p.ta.trace("Unloading PBO Playdata Services");q.close();});c.bf.removeListener(c.Tm,m);}p=this;this.jib=k;this.WBa=k();this.ta=g.eb("PlayerPlaydataMonitorImpl");c.bf.addListener(c.Tm,m);}Object.defineProperty(b,"__esModule",{value:!0});b.ETa=void 0;r=a(0);l=a(1);h=a(7);n=a(151);c=a(58);f=a(16);d.prototype.Cl=function(g,k){this.WBa.then(function(m){m.Cl(k,!0,function(p){return g.close(p);});m.KFa(k);g.addEventListener(f.Qa.vCa,function(){g.ss() && m.Vlb(k).catch(function(p){(p=p.ER) && g.close(p);});});g.addEventListener(f.Qa.nn,function(){m.fga(k).catch(function(p){(p=p.ER) && g.close(p);});});g.addEventListener(f.Qa.Mn,function(){m.fga(k).catch(function(p){(p=p.ER) && g.close(p);});});});};d.prototype.d2=function(g){return this.WBa.then(function(k){k.Hnb();return k.d2(g).catch();});};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(n.KU))],a);b.ETa=a;},function(r,b,a){var l,h,n,c;function d(f){this.sAa={};this.Pba={};this.Eca=-1;this.ZFa=new n.ac(null);this.DCa=new n.ac(null);this.ta=f.eb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.TVa=void 0;r=a(0);l=a(1);h=a(66);n=a(74);a=a(7);d.prototype.oa=function(f,g,k){var m;m=this;f.forEach(function(p){p.stream.urls.forEach(function(q){m.sAa[q.url]=[p,q.Qh];});});this.Osa=g;this.FQb=k;new PerformanceObserver(function(p){m.Flc(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};d.prototype.kmb=function(f){var g,k,m;if(this.Osa){k=this.Naa(f);if(k !== this.Eca){for(this.Eca=k;0 <= k && !this.Pba[k];){k--;}m=oa(null !== (g=this.Pba[k]) && void 0 !== g?g:[this.Osa,this.FQb]);g=m.next().value;m=m.next().value;this.ta.debug("Setting time to " + f + ", using metadata from fragment " + k + " for " + ((0,h.zfb)(g.track.type) + " track with bitrate ") + (g.stream.bitrate + " from cdn " + m));f=g.ma[this.Eca];k=f.ca;this.DCa.set({stream:g,Qn:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + f.duration))},Xo:m});}}};d.prototype.Naa=function(f){var g,k,m,p,q;g=this.Osa.ma;f/=1E3;k=0;m=g.length - 1;if(f >= g[m].ca)return m;for(;m >= k;){p=k + Math.floor((m - k) / 2);q=g[p];if(f < q.ca)m=p - 1;else if(f >= q.ca + q.duration)k=p + 1;else return p;}return g.length - 1;};d.prototype.Flc=function(f){var g;g=this;f.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var m,p,q;m=k.name.indexOf("&fi=");if(0 < m){p=k.name.substring(0,m);m=Number(k.name.substring(m + 4));if(g.sAa[p]){q=oa(g.sAa[p]);k=q.next().value;q=q.next().value;p && !Number.isNaN(m) && k && (g.Pba[m] && (g.Eca=-1),g.Pba[m]=[k,q],p=k.ma[m].ca,!1,g.ZFa.set(k,{eJ:Math.floor(1E3 * p),Xo:q}));}}});};c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.hb))],c);b.TVa=c;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(850),b);r.__exportStar(a(851),b);r.__exportStar(a(852),b);r.__exportStar(a(853),b);r.__exportStar(a(854),b);r.__exportStar(a(395),b);r.__exportStar(a(855),b);r.__exportStar(a(856),b);r.__exportStar(a(857),b);r.__exportStar(a(858),b);r.__exportStar(a(859),b);r.__exportStar(a(860),b);r.__exportStar(a(864),b);r.__exportStar(a(256),b);r.__exportStar(a(865),b);r.__exportStar(a(76),b);r.__exportStar(a(866),b);r.__exportStar(a(867),b);r.__exportStar(a(868),b);r.__exportStar(a(869),b);r.__exportStar(a(870),b);r.__exportStar(a(871),b);r.__exportStar(a(872),b);r.__exportStar(a(873),b);r.__exportStar(a(874),b);r.__exportStar(a(875),b);r.__exportStar(a(876),b);r.__exportStar(a(877),b);r.__exportStar(a(878),b);r.__exportStar(a(879),b);r.__exportStar(a(880),b);r.__exportStar(a(881),b);r.__exportStar(a(882),b);r.__exportStar(a(883),b);r.__exportStar(a(884),b);r.__exportStar(a(893),b);r.__exportStar(a(896),b);r.__exportStar(a(897),b);r.__exportStar(a(898),b);r.__exportStar(a(899),b);r.__exportStar(a(900),b);r.__exportStar(a(901),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(861),b);r.__exportStar(a(862),b);r.__exportStar(a(863),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(76);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(76);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JD=void 0;r=b.JD || (b.JD={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.zD=1]="HAVE_SOMETHING";r[r.yD=2]="HAVE_MINIMUM";r[r.YT=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Ma=b.Nea=void 0;d=a(395);(function(h){h[h.ai=0]="STARTING";h[h.ce=1]="BUFFERING";h[h.bh=2]="REBUFFERING";h[h.Xc=3]="PLAYING";h[h.OD=4]="STOPPING";h[h.Am=5]="STOPPED";h[h.ej=6]="PAUSED";})(l || (l={}));b.Ma=l;b.Nea=function(h){return h === d.cd.ce?l.ce:h === d.cd.bh?l.bh:h === d.cd.VU?l.ce:h === d.cd.Bm?l.Xc:l.ai;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PT=void 0;r=b.PT || (b.PT={});r[r.uo=0]="skipped";r[r.FHb=1]="adjustment";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(885),b);r.__exportStar(a(886),b);r.__exportStar(a(887),b);r.__exportStar(a(888),b);r.__exportStar(a(889),b);r.__exportStar(a(890),b);r.__exportStar(a(891),b);r.__exportStar(a(892),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(894),b);r.__exportStar(a(895),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pv=void 0;r=b.pv || (b.pv={});r[r.myb=0]="PLAYGRAPH_CHANGED";r[r.nyb=1]="PLAYGRAPH_UNCHANGED";r[r.wxb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.kzb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.mvb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.lvb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.lzb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.Irb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.Iwb=8]="LOSS_OF_POSITION";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.SIa=void 0;d=a(6);r=(function(){function l(h){this.config=h;}l.prototype.nl=function(h,n){return this.config.f2 || n !== d.cd.Bm?h.filter(function(c){return c.Yv;}):h;};return l;})();b.SIa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nN=void 0;r=a(0);d=a(9);l=r.__importDefault(a(3));h=a(396);a=(function(){function n(c){this.console=c;this.o5a=[];this.N1a={};this.L5a=!1;}n.prototype.Zw=function(c,f){this.o5a=c;void 0 !== f?this.N1a[f]=c:this.L5a || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.L5a=!0);};n.prototype.nl=function(c){var f,g,k,m,p;f=this;if(0 === c.length)return c;m=c[0].N;if(void 0 === m)return (this.console.error("StreamFilters: Stream has undefined viewable id"),c);try{null === (g=l.default.Mv) || void 0 === g?void 0:g.call(l.default,m);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),c);}p=null !== (k=this.N1a[m]) && void 0 !== k?k:this.o5a;d.M && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(c.length," streams with ").concat(JSON.stringify(p)));c=c.filter(function(q){return (0,h.Qpa)(q.profile,q.bitrate,p,f.console).inRange;});d.M && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(c.length," streams in range"));return c;};return n;})();b.nN=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UIa=void 0;r=(function(){function a(d){var l;l=this;d.IS && d.IS.enabled && d.IS.profiles && d.IS.profiles.length && "keepLowest" === d.IS.action && (this.odb={},d.IS.profiles.forEach(function(h){return l.odb[h]=!0;}));}a.prototype.nl=function(d){var l,h;l={};h=this.odb;return void 0 === h?d:d.filter(function(n){return !h[n.profile] || (l[n.profile]?!1:l[n.profile]=!0);});};return a;})();b.UIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RIa=void 0;r=(function(){function a(d){this.config=d;}a.prototype.nl=function(d){var l;l=this.config;return d.filter(function(h){return !(void 0 !== h.gb && (h.gb < l.PK || h.gb > l.Peb) || (void 0 === h.gb || 0 >= l.PK) && h.bitrate < l.xAa || (void 0 === h.gb || Infinity === l.Peb) && h.bitrate > l.t6b);});};return a;})();b.RIa=r;},function(r,b,a){var l;function d(h,n){n=Math.max(h,n);return isNaN(n)?h || -Infinity:n;}Object.defineProperties(b,{__esModule:{value:!0}});b.DIa=void 0;l=a(6);r=(function(){function h(n){this.config=n;this.pfa=0;this.state=l.cd.Am;this.Wfb=d(n.xAa,n.tda);this.DAa=d(n.PK,n.R_);}h.prototype.nl=function(n,c){var f;f=this;if(c !== this.state){this.state=c;if(c === l.cd.ce || c === l.cd.VU)return n;c === l.cd.bh && this.akb();}return n.filter(function(g){return !(void 0 !== g.gb && g.gb < f.DAa || (void 0 === g.gb || 0 > f.DAa) && g.bitrate < f.Wfb);});};h.prototype.akb=function(){++this.pfa;this.DAa=d(this.config.PK,this.config.R_ - this.config.t7b * this.pfa);this.Wfb=this.config.xAa || -Infinity;};return h;})();b.DIa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.QIa=void 0;d=a(21);r=(function(){function l(h){this.config=h;}l.prototype.whc=function(h){return h % 100 + 1 <= this.config.aCa;};l.prototype.nl=function(h){var n,c,f,g,k,m,p,q,v,t,w;p=Number(null === (n=h[0]) || void 0 === n?void 0:n.L);if(!(this.config.F$ && this.whc(p) && 0 < this.config.Ifa.length))return h;n=h.length;q=null !== (c=h[n - 1].Hfa) && void 0 !== c?c:0;if(c=(0,d.Nc)(this.config.Ifa,function(u){return u.Xxc >= q && u.elb <= q;})){for(p=0;p < n;p++){v=h[Math.max(p - 1,0)];t=h[p];if(!((null !== (f=t.Hfa) && void 0 !== f?f:0) < c.elb || (null !== (g=v.Hfa) && void 0 !== g?g:0) < c.elb)){w=null !== (k=t.gb) && void 0 !== k?k:Infinity;v=null !== (m=v.gb) && void 0 !== m?m:Infinity;if(!(v < c.jxc || v < c.ixc && t.bitrate < c.maxBitrate || !w && t.bitrate < c.Lwc))break;}}return h.slice(0,p);}return h;};return l;})();b.QIa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.rka=b.Cia=void 0;d=a(21);b.Cia={nl:function(l){return l.filter(function(h){return h.qs && !h.UB;});}};b.rka={nl:function(l){return (l=(0,d.Nc)(l,function(h){return !!h.qs && !h.UB;}))?[l]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ska=void 0;b.ska={nl:function(a){return a.length?[a[0]]:[];}};},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oJ=b.nJ=void 0;d=a(398);l=a(116);b.nJ=function(h,n){n && (null === h || void 0 === h?0:h.mbb) && (n=new l.Dx(n).or(l.IH));return new l.Dx(l.Cia).and(null !== n && void 0 !== n?n:l.IH).or(l.rka,d.iN.IJ).or(l.ska,d.iN.IJ);};b.oJ=function(h,n){n && h.mbb && (n=new l.Dx(n).or(l.IH));return new l.Dx(l.Cia).and(new l.SIa(h)).and(new l.RIa(h)).and(new l.DIa(h)).and(new l.UIa(h)).and(h.F$?new l.QIa(h):l.IH).and(null !== n && void 0 !== n?n:l.IH).or(l.rka,d.iN.IJ).or(l.ska,d.iN.IJ);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y;function d(x){var z,B,A,C,D,E;z=x.za;B=x.Lv;A=x.jrb;C=x.zo;x=x.priority;D=void 0 === x?0:x;(0,f.assert)(z.wk,("Current time: ").concat(m.default.time.fa()," cr: ").concat(z.currentTime));(0,f.assert)(z.currentTime.isFinite());x=A.Fa(z.currentTime);x=Math.max(Math.ceil(x.IC / z.speed),0);E=null !== C && void 0 !== C?C:{id:void 0,B5a:x,Wgb:0,m$b:x};E.id=(0,p.qga)(function(){A.Fa(z.currentTime).RF(n.O.Oa)?B():(E.Wgb++,d({za:z,Lv:B,jrb:A,zo:E,priority:D}));},x,D);E.B5a=x;return E;}Object.defineProperties(b,{__esModule:{value:!0}});b.Oha=b.WU=void 0;l=a(0);h=a(11);n=a(20);c=a(185);f=a(2);g=a(9);k=a(919);m=l.__importDefault(a(3));p=a(920);q=a(184);v=a(402);t=a(403);w=a(152);u=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{cM:{get:function(){return this.Roa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xgb:{get:function(){return this.oDb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{UPb:{get:function(){return this.lBb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{rEa:{get:function(){return this.dFb;},enumerable:!1,configurable:!0}});x.prototype.set=function(z,B,A){this.lBb=B === y.mR?0:m.default.time.fa();this.oDb=z;this.dFb=B;g.M && (0,f.assert)(!this.Roa,"Invalid replacement of timeout value");this.Roa=A;};x.prototype.complete=function(){this.Roa=void 0;this.set(n.O.Zt,y.mR);};return x;})();(function(x){x[x.mR=0]="none";x[x.Dfb=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y || (y={}));r=(function(x){function z(B,A,C,D){var E;void 0 === C && (C="unknown");void 0 === D && (D=0);E=x.call(this) || this;E.za=B;E.console=A;E.name=C;E.priority=D;E.mDb=0;E.j7=!1;E.dna=!1;E.Ql=new u();E.P$=new h.kf();E.gk=new c.BU([],(0,k.J3a)(function(G,F){return G.xL.Mm(F.xL);},function(G,F){return F.um.priority - G.um.priority;},function(G,F){return G.um.id > F.um.id?1:G.um.id < F.um.id?-1:0;}));E.j1a(B);return E;}l.__extends(z,x);Object.defineProperties(z.prototype,{yhc:{get:function(){return this.za.wk;},enumerable:!1,configurable:!0}});z.prototype.I4a=function(B,A){B=new (B.bind.apply(B,l.__spreadArray([void 0],l.__read(A),!1)))();B.id=this.mDb++;B.zIb(this);this.zpa(B);return B;};z.prototype.zB=function(){for(var B=[],A=0;A < arguments.length;A++){B[A]=arguments[A];}return this.I4a(v.COa,B);};z.prototype.By=function(){var B;B={hasSchedule:!!this.Ql.cM,schedule:this.Ql.cM && ({sleepTime:this.Ql.cM.B5a,originalSleepTime:this.Ql.cM.m$b,clockSkewAdjustments:this.Ql.cM.Wgb}),nextWakeup:this.Ql.xgb.Z,timeScheduled:this.Ql.UPb,scheduleType:y[this.Ql.rEa],numTasks:this.gk.length,clock:{ir:this.za.wk,ct:this.za.currentTime.Z,sp:this.za.speed}};g.M && this.trace("audit",B);return B;};z.prototype.bP=function(){for(var B=[],A=0;A < arguments.length;A++){B[A]=arguments[A];}return this.I4a(t.zVa,B);};z.prototype.q4a=function(B,A,C){return this.zB(function(){return l.__generator(this,function(D){switch(D.label){case 0:return [4,w.fj.fH(A)];case 1:return (D.ub(),B(),[3,0]);case 2:return [2];}});},C);};z.prototype.j1a=function(B){var A;A=this;this.nB();this.P$.clear();this.za=B;this.P$.on(B,"stopStart",function(){return A.TR();});this.P$.on(B,"clockAdjusted",function(){return A.j0();});this.P$.on(B,"speedChanged",function(){return A.Y9b();});this.j0();this.emit("clockChanged");};z.prototype.Y9b=function(){this.nB();this.TR();};z.prototype.Wa=function(){this.reset();this.j7 && (this.dna=!0);};z.prototype.reset=function(){var B;this.nB();B=this.gk.El();this.gk.clear();B.forEach(function(A){return A.um.Wa();});};z.prototype.Eg=function(){var B;this.nB();B=this.gk.El();this.gk.clear();B.forEach(function(A){return A.um.Eg();});};z.prototype.j0=function(){var B,A;B=this;A=this.gk.map(function(C){return C.um;});this.nB();this.gk.clear();A.forEach(function(C){return B.zpa(C,!1);});this.TR();};z.prototype.zpa=function(B,A){var C,D;void 0 === A && (A=!0);C=B.Sda();D=this.Uob(C);C={um:B,xL:D,Cfa:C};g.M && this.trace(("Adding task ").concat(B.name," for ").concat(D.Z));(0,f.assert)(!this.gk.contains(C));this.gk.push(C);A && this.TR();};z.prototype.TR=function(){var B,A,C,D,E;B=this;g.M && this.trace("recheck schedule task count:" + this.gk.length);if(this.yhc){if(this.j7)g.M && this.trace("already executing, bailing");else {C=this.Ql.xgb;D=this.gk.Vq();E=null !== (A=null === D || void 0 === D?void 0:D.xL) && void 0 !== A?A:n.O.Zt;E.isFinite() && E.WAa(C)?(this.nB(!1),this.za.currentTime.tk(E)?(this.Ql.set(E,y.Dfb),Promise.resolve().then(function(){B.Ql.rEa === y.Dfb && (B.Ql.complete(),B.ulb());})):(g.M && this.trace("scheduling next wake up for",{Azc:E.Z,um:null === D || void 0 === D?void 0:D.um.name}),A=d({za:this.za,Lv:function(){B.Ql.complete();B.ulb();},jrb:E,priority:this.priority}),this.Ql.set(E,y.setTimeout,A))):E.isFinite() || this.Ql.rEa !== y.setTimeout || this.nB(!1);}}else (g.M && this.trace("should check schedule is false, stopping"),this.nB());};z.prototype.ulb=function(){var B,A,C;A=0;C=null === (B=this.gk.Vq()) || void 0 === B?void 0:B.Cfa;try{for(this.j7=!0;1E4 > A++ && this.alc();){;}}finally{this.j7=!1;this.nB();1E4 < A && !this.K0b(C)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(g.M && this.trace("Next tasks",this.gk.map(function(D){return {name:D.um.name,Bzc:D.xL.Z};})),this.TR());}};z.prototype.K0b=function(B){var A,C;C=null === (A=this.gk.Vq()) || void 0 === A?void 0:A.Cfa;return B && C && B.timestamp.equal(C.timestamp) && B.type === C.type?!1:!0;};z.prototype.alc=function(){var B,A,C;C=null !== (A=null === (B=this.gk.Vq()) || void 0 === B?void 0:B.xL) && void 0 !== A?A:n.O.Zt;g.M && this.trace(("tryExecuteNextTask @").concat(this.za.currentTime.Z,", next wakeup at ").concat(C));if(this.za.currentTime.tk(C) && (B=this.gk.pop())){A=B.um;g.M && this.trace("Running a task @" + this.za.currentTime.Z + ", scheduled for time:" + C.Z + ("Name:").concat(A.name));try{A.rz();B.Cfa=A.Sda();B.xL=this.Uob(B.Cfa);}catch(D){throw (this.error(("Unhandled error from a task ").concat(A.name," occurred.") + " Removing the task from future executions:" + D,{stack:D.stack}),A.Wa(),D);}finally{this.dna?(A.Wa(),this.dna=!1):B.xL !== n.O.Zt && A.state === q.Cm.Ofa && ((0,f.assert)(!this.gk.contains(B)),this.gk.push(B));}return !0;}};z.prototype.$Da=function(B){(0,f.assert)(B.Ee === this);this.wfa(B,!1);this.zpa(B);};z.prototype.wfa=function(B,A){var C;void 0 === A && (A=!0);C=this.gk.find(function(D){return D.um === B;});C && this.hec(C,A);};z.prototype.hec=function(B,A){this.gk.remove(B);A && this.TR();};z.prototype.nB=function(B){void 0 === B && (B=!0);this.Ql.cM && (B && this.emit("stopping"),B=this.Ql.cM,(0,p.B9)(B.id),this.Ql.complete());};z.prototype.Uob=function(B){return B.type === w.b6.absolute?B.timestamp:B.timestamp.add(this.za.currentTime);};z.prototype.trace=function(){for(var B,A=[],C=0;C < arguments.length;C++){A[C]=arguments[C];}null === (B=this.console) || void 0 === B?void 0:B.trace.apply(B,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(A),!1));};z.prototype.error=function(){for(var B,A=[],C=0;C < arguments.length;C++){A[C]=arguments[C];}null === (B=this.console) || void 0 === B?void 0:B.error.apply(B,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(A),!1));};return z;})(h.EventEmitter);b.WU=r;b.Oha=function(x,z,B){var A;A=void 0;return (B || x.za.wk) && x.za.currentTime.tk(z)?{promise:Promise.resolve()}:{promise:new Promise(function(C){A=x.bP(w.fj.mD(z),C);}),um:A};};},function(r){function b(d,l,h,n){d.trace(":",h,":",n);l(n);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addListener=function(d,l,h,n){h=n?h.bind(n):h;if(d){this.console && (h=b.bind(null,this.console,h,l));if("function" === typeof d.addListener)d.addListener(l,h);else if("function" === typeof d.addEventListener)d.addEventListener(l,h);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([d,l,h]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(l){var h,n;h=l[0];n=l[1];l=l[2];"function" === typeof h.removeEventListener?h.removeEventListener(n,l):"function" === typeof h.removeListener && h.removeListener(n,l);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};r.exports=a;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.J3a=void 0;d=a(0);l=a(9);h=a(2);b.J3a=function(){for(var n=[],c=0;c < arguments.length;c++){n[c]=arguments[c];}l.M && (0,h.assert)(n.length);return function(f,g){var k,q,v;try{for(var m=d.__values(n),p=m.next();!p.done;p=m.next()){q=p.value;v=q(f,g);if(0 !== v)return v;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (k=m.return) && k.call(m);}finally{if(t)throw t.error;}}return 0;};};},function(r,b,a){var l,h,n,c,f;function d(g,k){return g.time - k.time || g.priority - k.priority || g.id - k.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.YEb=b.B9=b.qga=void 0;r=a(0);l=a(9);h=r.__importDefault(a(3));n=a(2);c=a(185);f=(function(){function g(){var k;k=this;this.er=new c.BU([],d);this.uGa=0;this.console=new h.default.Console("SETTIMEOUT");this.gUb=function(){var m,p;m=h.default.time.fa();k.o2=void 0;l.M && k.console.trace(("[").concat(m,"] Wake"));try{for(;!k.er.empty && k.er.Vq().time <= m;){p=k.er.pop();l.M && k.console.trace(("[").concat(h.default.time.fa(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.Lv();}}finally{k.qEa();}};}Object.defineProperties(g,{instance:{get:function(){return g.yv || (g.yv=new g());},enumerable:!1,configurable:!0}});g.Boa=function(){(0,n.assert)(void 0 === g.yv || g.yv.er.empty,"Singleton SetTimeoutWithPriority reset with pending timers");g.yv=void 0;};g.prototype.qga=function(k,m,p){var q,v,t;(0,n.assert)(isFinite(m) && 0 <= m);q=this.er;v=h.default.time.fa();t=v + m;q.push({id:++this.uGa,time:t,priority:p,Lv:k});l.M && this.console.trace(("[").concat(v,"] New p").concat(p," timer ").concat(this.uGa," scheduled for ").concat(t," in ").concat(m,"ms"));this.qEa();return this.uGa;};g.prototype.B9=function(k){var m,p,q;m=this.er;p=m.find(function(v){return v.id === k;});if(p){q=m.Vq().time;m.remove(p);l.M && this.console.trace(("[").concat(h.default.time.fa(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(m.empty || m.Vq().time > q) && this.qEa();}};g.prototype.j3a=function(){this.o2 && (clearTimeout(this.o2.id),l.M && this.console.trace(("[").concat(h.default.time.fa(),"] Clearing wake timer")),this.o2=void 0);};g.prototype.qEa=function(){var k,m;m=this.er;m.empty?this.j3a():(m=m.Vq().time,m !== (null === (k=this.o2) || void 0 === k?void 0:k.time) && (this.j3a(),k=Math.max(0,m - h.default.time.fa()),l.M && this.console.trace(("[").concat(h.default.time.fa(),"] Setting wake timer for ").concat(m," in ").concat(k,"ms")),this.o2={id:setTimeout(this.gUb,k),time:m}));};return g;})();b.qga=function(g,k,m){return f.instance.qga(g,k,m);};b.B9=function(g){f.instance.B9(g);};b.YEb=function(){f.Boa();};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(925),b);r.__exportStar(a(408),b);r.__exportStar(a(409),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xM=void 0;r=b.xM || (b.xM={});r[r.start=0]="start";r[r.end=1]="end";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var l;function d(h,n){var c;void 0 === n && (n=d);c="";h.GP && (c=null === h || void 0 === h?void 0:h.GP.map(n).reduce(function(f,g){return ("").concat(f,",").concat(g);}));return ("").concat(null === h || void 0 === h?void 0:h.name,"::").concat(null === h || void 0 === h?void 0:h.message,"::{").concat(null === h || void 0 === h?void 0:h.stack,"}[").concat(c,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.kia=void 0;l=a(0);r=(function(h){function n(c,f){c=h.call(this,n.CWb(c,f)) || this;c.FBb=f;c.name="AggregateError";return c;}l.__extends(n,h);n.CWb=function(c,f){return f.reduce(function(g,k){return ("").concat(g,"\n").concat(k);},c);};n.stringify=function(c){return d(c);};Object.defineProperties(n.prototype,{GP:{get:function(){return this.FBb;},enumerable:!1,configurable:!0}});return n;})(Error);b.kia=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.VPa=void 0;d=a(0);l=a(11);h=a(259);n=a(990);c=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(f){function g(k,m){var p;p=f.call(this) || this;p.K=k;p.xk=new n.ROa(k,m);p.Th=new l.kf();c.forEach(function(q){p.Th.on(p.xk,q,function(v){return p.emit(q,v);});});return p;}d.__extends(g,f);Object.defineProperties(g.prototype,{Bc:{get:function(){return this.xk.Bc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{su:{get:function(){return this.xk.su;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Yw:{get:function(){return this.xk.Yw;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{T1:{get:function(){return this.xk.T1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{yya:{get:function(){return this.xk.yya;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Bga:{get:function(){return this.xk.Bga;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wg:{get:function(){return this.xk.wg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zk:{get:function(){return this.xk.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{oxa:{get:function(){return this.xk.oxa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{w_:{get:function(){return this.xk.w_.bind(this.xk);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cva:{get:function(){return this.xk.cva.bind(this.xk);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nqa:{get:function(){var k;k=this;return function(){k.xk.Nqa();};},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{t9:{get:function(){var k;k=this;return function(){k.xk.t9();};},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{QI:{get:function(){var k;k=this;return function(m,p,q){var v;null === (v=k.wg) || void 0 === v?void 0:v.QI(m,p,q);};},enumerable:!1,configurable:!0}});g.prototype.oa=function(k,m,p,q,v,t){this.xk.oa(k,m,p,q,v,t);};g.prototype.createSession=function(k,m,p,q,v,t,w,u,y,x){u || (u=this.xk.config);return this.xk.createSession(k,m,p,q,v,t,w,u,y,x);};g.prototype.nM=function(){throw Error("Update viewable not supported in legacy.");};g.prototype.addEventListener=function(k,m){this.addListener(k,m);return !0;};g.prototype.removeEventListener=function(k,m){this.removeListener(k,m);return !0;};g.prototype.Wa=function(){this.Th.clear();this.xk.Wa();h.BM.reset();};return g;})(l.EventEmitter);b.VPa=r;},function(r,b,a){r.exports={Zyb:a(934),Ooc:a(935)};},function(r,b,a){function d(f){this.data=f;this.right=this.left=null;this.red=!0;}function l(f){this.Pf=null;this.Mo=f;this.size=0;}function h(f){return null !== f && f.red;}function n(f,g){var k;k=f.li(!g);f.Os(!g,k.li(g));k.Os(g,f);f.red=!0;k.red=!1;return k;}function c(f,g){f.Os(!g,n(f.li(!g),!g));return n(f,g);}b=a(414);d.prototype.li=function(f){return f?this.right:this.left;};d.prototype.Os=function(f,g){f?this.right=g:this.left=g;};l.prototype=new b();l.prototype.xp=function(f){var g,k,m,p,q,v,t,w,u;g=!1;if(null === this.Pf)(this.Pf=new d(f),g=!0,this.size++);else {k=new d(void 0);m=0;p=0;q=null;v=k;t=null;w=this.Pf;for(v.right=this.Pf;;){null === w?(w=new d(f),t.Os(m,w),g=!0,this.size++):h(w.left) && h(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(h(w) && h(t)){u=v.right === q;w === t.li(p)?v.Os(u,n(q,!p)):v.Os(u,c(q,!p));}u=this.Mo(w.data,f);if(0 === u)break;p=m;m=0 > u;null !== q && (v=q);q=t;t=w;w=w.li(m);}this.Pf=k.right;}this.Pf.red=!1;return g;};l.prototype.remove=function(f){var g,k,t,w,u;if(null === this.Pf)return !1;g=new d(void 0);k=g;k.right=this.Pf;for(var m=null,p,q=null,v=1;null !== k.li(v);){t=v;p=m;m=k;k=k.li(v);w=this.Mo(f,k.data);v=0 < w;0 === w && (q=k);if(!h(k) && !h(k.li(v)))if(h(k.li(!v)))(p=n(k,v),m.Os(t,p),m=p);else if(!h(k.li(!v)) && (w=m.li(!t),null !== w))if(h(w.li(!t)) || h(w.li(t))){u=p.right === m;h(w.li(t))?p.Os(u,c(m,t)):h(w.li(!t)) && p.Os(u,n(m,t));t=p.li(u);t.red=!0;k.red=!0;t.left.red=!1;t.right.red=!1;}else (m.red=!1,w.red=!0,k.red=!0);}null !== q && (q.data=k.data,m.Os(m.right === k,k.li(null === k.left)),this.size--);this.Pf=g.right;null !== this.Pf && (this.Pf.red=!1);return null !== q;};r.exports=l;},function(r,b,a){function d(h){this.data=h;this.right=this.left=null;}function l(h){this.Pf=null;this.Mo=h;this.size=0;}b=a(414);d.prototype.li=function(h){return h?this.right:this.left;};d.prototype.Os=function(h,n){h?this.right=n:this.left=n;};l.prototype=new b();l.prototype.xp=function(h){if(null === this.Pf)return (this.Pf=new d(h),this.size++,!0);for(var n=0,c=null,f=this.Pf;;){if(null === f)return (f=new d(h),c.Os(n,f),ret=!0,this.size++,!0);if(0 === this.Mo(f.data,h))return !1;n=0 > this.Mo(f.data,h);c=f;f=f.li(n);}};l.prototype.remove=function(h){var n,c,m;if(null === this.Pf)return !1;n=new d(void 0);c=n;c.right=this.Pf;for(var f=null,g=null,k=1;null !== c.li(k);){f=c;c=c.li(k);m=this.Mo(h,c.data);k=0 < m;0 === m && (g=c);}return null !== g?(g.data=c.data,f.Os(f.right === c,c.li(null === c.left)),this.Pf=n.right,this.size--,!0):!1;};r.exports=l;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XQa=void 0;d=a(21);l=a(2);r=(function(){function h(){this.data={};}Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{size:{get:function(){var n;n=this;return Object.keys(this.data).reduce(function(c,f){return c + n.data[f].length;},0);},enumerable:!1,configurable:!0}});h.prototype.get=function(n){var c;return null !== (c=this.data[n]) && void 0 !== c?c:[];};h.prototype.has=function(n,c){return (n=this.data[n])?void 0 === c?!0:-1 !== n.indexOf(c):!1;};h.prototype.count=function(n){return (n=this.data[n])?n.length:0;};h.prototype.keys=function(){return Object.keys(this.data);};h.prototype.values=function(){var n;n=this;return (0,d.flatten)(this.keys().map(function(c){return n.data[c];}));};h.prototype.set=function(n,c){(this.data[n] || (this.data[n]=[])).push(c);return this;};h.prototype.clear=function(){this.data={};};h.prototype.delete=function(n,c){var f,g;f=this.data[n];if(void 0 === f)return !1;if(void 0 === c)return ((0,l.assert)(1 === arguments.length),delete this.data[n],!0);g=f.indexOf(c);if(-1 === g)return !1;1 === f.length?delete this.data[n]:f.splice(g,1);return !0;};h.prototype.forEach=function(n,c){var f;f=this;n=void 0 !== c?n.bind(c):n;this.keys().forEach(function(g){return f.data[g].forEach(function(k){return n(k,g,f);});});};h.prototype.reduce=function(n,c,f){var g,k;g=this;n=void 0 !== f?n.bind(f):n;k=c;this.forEach(function(m,p){k=n(k,m,p,g);});return k;};h.prototype.map=function(n,c){var f;f=this;n=void 0 !== c?n.bind(c):n;return (0,d.flatten)(this.keys().map(function(g){return f.data[g].map(function(k){return n(k,g,f);});}));};h.prototype.filter=function(n,c){var f;f=this;n=void 0 !== c?n.bind(c):n;return (0,d.flatten)(this.keys().map(function(g){return f.data[g].filter(function(k){return n(k,g,f);});}));};return h;})();b.XQa=r;},function(r,b,a){var l,h;function d(n,c,f){var g;void 0 === f && (f={});g=l.__assign(l.__assign({},h),f);return n.filter(function(k){var m;m=k.Qc;k=k.Ed;return !!k && k.RF(c) && (!g.C3a || m.tk(c));});}Object.defineProperties(b,{__esModule:{value:!0}});b.kua=b.dVb=b.uua=void 0;l=a(0);h={C3a:!1};b.uua=function(n,c,f){void 0 === f && (f={});return d(n,c,f).pop();};b.dVb=d;b.kua=function(n,c,f){return n.filter(function(g){var k;k=g.Qc;g=g.Ed;return !!g && !!k && (g.tk(c) && g.RF(f) || k.tk(c) && k.RF(f) || g.RF(c) && k.tk(f));});};},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.xVa=b.wVa=void 0;d=a(21);r=(function(){function l(h){this.Va=h;this.listeners=[];this.t0=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});l.prototype.set=function(h){var n;this.Va=h;n=this.t0;this.t0=[];this.listeners.forEach(function(c){return c(h);});n.forEach(function(c){return c(h);});};l.prototype.dlb=function(){this.Va=void 0;};l.prototype.on=function(h){this.listeners=this.listeners.concat([h]);void 0 !== this.Va && h(this.Va);};l.prototype.once=function(h){void 0 !== this.Va?h(this.Va):this.t0.push(h);};l.prototype.Ew=function(h){this.listeners=this.listeners.filter(function(n){return n !== h;});this.t0=this.t0.filter(function(n){return n !== h;});};return l;})();b.wVa=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(h,n){this.listeners.push({signal:h,listener:n});h.on(n);};l.prototype.once=function(h,n){var c,f;c=this;if(void 0 === h.value){f=function(g){c.remove(h,n);n(g);};this.listeners.push({signal:h,listener:n,prb:f});h.once(f);}else h.once(n);};l.prototype.Ew=function(h,n){var c,f;f=(0,d.Nc)(this.listeners,function(g){return g.signal === h && g.listener === n;});void 0 !== f && h.Ew(null !== (c=f.prb) && void 0 !== c?c:f.listener);this.remove(h,n);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(h){var n,c;n=h.listener;c=h.prb;return h.signal.Ew(null !== c && void 0 !== c?c:n);});this.listeners=[];};l.prototype.remove=function(h,n){this.listeners=this.listeners.filter(function(c){return c.signal !== h || c.listener !== n;});};return l;})();b.xVa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xD=b.rya=void 0;b.rya=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var d;d=this;this.g_a=!1;this.promise=new Promise(function(l){d.e_a=l;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{XDa:{get:function(){return this.g_a;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(d){var l;this.g_a=!0;null === (l=this.e_a) || void 0 === l?void 0:l.call(this,d);this.e_a=void 0;};return a;})();b.xD=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.m5a=void 0;b.m5a=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var l;function d(h,n,c){var f,k,m;if(h === n || !c.xo && h == n)return !0;if(typeof h !== typeof n)return !1;if(h && "object" === typeof h){for(var g in h){if(!d(h[g],n[g],c))return !1;}if(!c.rLb){k=Object.keys(h);m=Object.keys(n).filter(function(t){return 0 > k.indexOf(t);});try{for(var p=l.__values(m),q=p.next();!q.done;q=p.next()){if((g=q.value,!d(h[g],n[g],c)))return !1;}}catch(t){var v;v={error:t};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(v)throw v.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.g$=void 0;l=a(0);b.g$=function(h,n,c){void 0 === c && (c={});c=l.__assign({xo:!1,rLb:!1},c);return d(h,n,c);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QH=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.ya=NaN;}Object.defineProperties(a.prototype,{Au:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(d){this.count++;1 === this.count?this.ya=this.min=this.max=d:(this.min=Math.min(d,this.min),this.max=Math.max(d,this.max),this.ya+=(d - this.ya) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.ya,count:this.count};};return a;})();b.QH=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(416);r=(function(){function l(h,n){this.ya=h;this.He=n;}l.prototype.E2a=function(h){return .5 * (0,d.EP)(-(h - this.ya) / Math.sqrt(2 * this.He));};l.prototype.gz=function(h){return this.ya - Math.sqrt(2 * this.He) * (0,d.lbb)(2 * h);};return l;})();b.default=r;},function(r,b,a){r.exports={qvc:a(418),Hyc:a(261),Roc:a(945),oja:a(262),Qoc:a(419),Soc:a(420),uvb:a(421)};},function(r,b,a){var h,n,c,f;function d(g,k,m){h.call(this,g,k,m);}function l(g,k){n.call(this,new d(g,k,!1));}h=a(946);n=a(947);c=a(105).L8a;f=a(105).lab;d.prototype=Object.create(h.prototype);d.prototype.ya=function(){return Math.floor(8 * c(this.se) / this.fe);};d.prototype.He=function(){return Math.floor(64 * f(this.se) / (this.fe * this.fe));};d.prototype.get=function(){return {ya:this.ya(),He:this.He(),Ztc:this.se.length};};d.prototype.toString=function(){return "bsw(" + this.tO + "," + this.fe + "," + this.cl + ")";};l.prototype=Object.create(n.prototype);l.prototype.setInterval=function(g){this.FN.setInterval(g);};r.exports=l;},function(r){function b(a,d,l){this.tO=a;this.cl=Math.floor((a + d - 1) / d);this.fe=d;this.IEb=l;this.reset();}b.prototype.shift=function(){this.se.shift();this.ij.shift();};b.prototype.update=function(a,d){this.se[a]+=d;};b.prototype.push=function(a){this.se.push(0);this.ij.push(a?a:0);this.Bb+=this.fe;};b.prototype.add=function(a,d,l,h){var n,c;if(null === this.Bb){n=Math.max(Math.floor((l - d + this.fe - 1) / this.fe),1);for(this.Bb=d;this.se.length < n;){this.push(h);}}for(;this.Bb < l;){if((this.push(h),this.IEb))for(;1 < this.se.length && l + h - (this.Bb - this.fe * this.se.length + this.ij[0]) > this.tO;){this.shift();}else this.se.length > this.cl && this.shift();}if(d > this.Bb - this.fe)this.update(this.se.length - 1,a);else if(d == l)(h=this.se.length - Math.max(Math.ceil((this.Bb - l) / this.fe),1),0 <= h && this.update(h,a));else for(h=1;h <= this.se.length;++h){n=this.Bb - h * this.fe;c=n + this.fe;if(!(n > l)){if(c < d)break;this.update(this.se.length - h,Math.round(a * (Math.min(c,l) - Math.max(n,d)) / (l - d)));}}for(;this.se.length > this.cl;){this.shift();}};b.prototype.reset=function(){this.se=[];this.ij=[];this.Bb=null;};b.prototype.setInterval=function(a){this.cl=Math.floor((a + this.fe - 1) / this.fe);};r.exports=b;},function(r){function b(a){this.FN=a;this.Sb=0;this.mO=null;}b.prototype.add=function(a,d,l){null !== this.mO && d > this.mO && (this.Sb+=d - this.mO,this.mO=null);this.FN.add(a,d - this.Sb,l - this.Sb,this.Sb);};b.prototype.stop=function(a){null === this.mO && (this.mO=a);};b.prototype.zCa=function(a,d){return this.FN.zCa(a,d);};b.prototype.get=function(){return this.FN.get();};b.prototype.reset=function(){this.FN.reset();};b.prototype.toString=function(){return this.FN.toString();};r.exports=b;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.j5=void 0;d=a(416);r=(function(){function l(h,n){this.IAa=h;this.He=n;0 < n?(this.tdb=n=Math.pow(h,3) / n,h=2 * n / h,500 >= h && (this.$ta=Math.exp(h))):this.$ta=0;}l.prototype.E2a=function(h){var n,c,f;n=this.IAa;c=this.$ta;if(c && 0 < h){f=Math.sqrt(this.tdb / (2 * h));n=h / n;h=(0,d.EP)(f * (n - 1));f=(0,d.EP)(f * (n + 1));return Math.max((2 - h + c * f) / 2,0);}return h < n?0:h > n?1:.5;};l.prototype.gz=function(h,n,c){for(var f=0,g=this.IAa + 5 * Math.sqrt(this.He),k=1,m=0;Math.abs(k) > n && c--;){m=(f + g) / 2;k=this.E2a(m);k=h - k;0 > k?g=m:f=m;}return m;};l.prototype.XKb=function(h){var n,c,f,g;n=this.IAa;c=this.$ta;if(c && 0 < h){f=Math.sqrt(this.tdb / (2 * h));g=h / n;h=2 - (0,d.EP)(f * (g - 1));c*=(0,d.EP)(f * (g + 1));return [Math.max((h + c) / 2,0),Math.max(n * (h - c) / 2,0)];}return h < n?[0,0]:h > n?[1,n]:[.5,n / 2];};return l;})();b.j5=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rKa=void 0;d=a(0);l=a(187);new (d.__importDefault(a(3)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function h(n){this.config=n;this.Ura=n.c;this.Zza=n.Vwc;this.x_=n.x_;this.yZ=n.yZ;this.Wba=n.Wba;this.Bhc=n.Fuc;this.gK=n.gK;this.Seb=n.Seb;this.reset();}h.prototype.reset=function(){this.rh=new l.kma(this.Ura,this.Zza);this.Bb=null;};h.prototype.add=function(n,c,f){var g,k,m,v;f=Math.max(f - c,1);n=8 * n / f;if(this.Bhc){null === this.Bb && (this.Bb=c);k=Math.pow(2,(c - this.Bb) / this.gK);m=f * k;if(k >= this.Seb){m=new l.kma(this.Ura,this.Zza);try{for(var p=d.__values(this.rh.El()),q=p.next();!q.done;q=p.next()){v=q.value;m.push(v.Ag,v.n / k);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(t)throw t.error;}}this.rh=m;m=f;this.Bb=c;}this.rh.push(n,m);}else this.rh.push(n,f);};h.prototype.get=function(){var n;n=this.rh.Vj([this.x_,this.yZ,this.Wba]);return {low:n[0] || 0,high:n[1] || 0,initial:n[2] || 0};};h.prototype.Mi=function(){var n,c,f,m;c=new h(this.config);f=new l.kma(this.Ura,this.Zza);try{for(var g=d.__values(this.rh.El()),k=g.next();!k.done;k=g.next()){m=k.value;f.push(m.Ag,m.n);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (n=g.return) && n.call(g);}finally{if(p)throw p.error;}}c.rh=f;return c;};h.prototype.flush=function(){};h.prototype.start=function(){};h.prototype.stop=function(){};return h;})();b.rKa=r;},function(r,b,a){var l;function d(){this.Zk=void 0;this.jE=0;}l=a(13);d.prototype.start=function(){};d.prototype.stop=function(){};d.prototype.add=function(){};d.prototype.getState=function(){return 0 !== this.jE && this.Zk?{p25:this.Zk.gm,p50:this.Zk.Ek,p75:this.Zk.hm,c:this.jE}:null;};d.prototype.Qd=function(h){if(!(!l.yb(h) && l.has(h,"p25") && l.has(h,"p50") && l.has(h,"p75") && l.has(h,"c") && l.isFinite(h.p25) && l.isFinite(h.p50) && l.isFinite(h.p75) && l.isFinite(h.c)))return (this.Zk=void 0,this.jE=0,!1);this.Zk={gm:h.p25,Ek:h.p50,hm:h.p75};this.jE=h.c;};d.prototype.get=function(){return {Dea:this.Zk,yl:this.jE};};d.prototype.set=function(h,n){this.Zk=h;this.jE=n;};d.prototype.reset=function(){this.Zk=void 0;this.jE=0;};d.prototype.toString=function(){return "IQRHist(" + this.Zk + "," + this.jE + ")";};r.exports=d;},function(r,b,a){var l;function d(h){var n,c;n=h.sw;c=h.mw;this.sO=n;this.Kma={uhd:h.uhdl,hd:h.hdl};this.cl=Math.max(Math.ceil(1 * n / c),1);this.gDb=h.mins || 1;l.call(this,n,c);this.reset();}l=a(153);new (a(3).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");d.prototype=Object.create(l.prototype);d.prototype.flush=function(){this.se.map(function(h,n){this.r0a(h,this.Xua(n));},this);};d.prototype.oKb=function(){var h,n,c,f,g,k,m,t;h=this.Kma;for(n in h){if(h.hasOwnProperty(n)){c=h[n];f=this.Toa[n];g=this.Soa[n];if(f.first){k=f.first;m=f.qL;void 0 !== m && (g[k][m]+=1);f.first=void 0;}f=[];k=0;c=m=c.length + 1;for(var p=0;p < m;p++){for(var q=0,v=0;v < c;v++){q+=g[v][p];}k+=q;f.push(q);}q=-1;if(k > this.gDb){for(p=q=0;p < m;p++){if(0 < f[p])for(v=0;v < c;v++){t=g[v][p];0 < t && (q-=t * Math.log(1 * t / f[p]));}}q/=k * Math.log(2);}this.lna[n]=q;}}return this.lna;};d.prototype.r0a=function(h,n){var k,m;for(var c=this.cl,f=this.Kma;this.W6.length >= c;){this.W6.shift();}for(;this.X6.length >= c;){this.X6.shift();}this.W6.push(h);this.X6.push(n);h=this.W6.reduce(function(p,q){return p + q;},0);n=this.X6.reduce(function(p,q){return p + q;},0);if(0 < n){h=8 * h / n;for(var g in f){if(f.hasOwnProperty(g)){n=this.Toa[g];c=this.Soa[g];k=this.Mcc(h,f[g]);m=n.qL;void 0 !== m?c[k][m]+=1:n.first=k;n.qL=k;}}}};d.prototype.Mcc=function(h,n){for(var c=0;c < n.length && h > n[c];){c+=1;}return c;};d.prototype.shift=function(){this.r0a(this.se[0],this.Xua(0));l.prototype.shift.call(this);};d.prototype.reset=function(){var h,n,c,f,g,k,m;this.Toa={};this.W6=[];this.X6=[];this.Soa={};this.lna={};h=this.Kma;for(n in h){if(h.hasOwnProperty(n)){c=this.Soa;f=n;k=void 0;m=Array(k);k=g=h[n].length + 1;for(var p=0;p < k;p++){m[p]=Array(g);for(var q=0;q < g;q++){m[p][q]=0;}}c[f]=m;this.Toa[n]={first:void 0,qL:void 0};this.lna[n]=0;}}l.prototype.reset.call(this);};r.exports=d;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GTa=void 0;r=(function(){function a(d,l){this.Ej=0;this.filter=d;this.Pea=l;this.Ej=0;}a.prototype.F_=function(d){return 0 < this.Pea.filter(function(l){var h;return l === (null === (h=d.WC) || void 0 === h?void 0:h.uf);}).length;};a.prototype.add=function(d,l,h,n){this.F_(n) && this.filter.add(d,l,h,n);};a.prototype.start=function(d,l){this.filter.start && this.F_(l) && this.filter.start(d);};a.prototype.stop=function(d,l){this.filter.stop && this.F_(l) && this.filter.stop(d);};a.prototype.get=function(d){if(this.filter.get)return this.filter.get(d);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Ej=0;this.filter.reset && this.filter.reset();};a.prototype.Uw=function(d,l){this.F_(l) && (this.Ej+=1,this.filter.Uw && this.filter.Uw(d,l));};a.prototype.oz=function(d,l,h){this.F_(h) && (this.Ej=Math.max(this.Ej - 1,0),0 === this.Ej && this.stop(d,h),this.filter.oz && this.filter.oz(d,h));};return a;})();b.GTa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rIa=void 0;d=a(0);l=a(954);r=(function(){function h(n,c){this.im=n;this.filter=c;this.Veb=Math.max(n.max_n || 10,0);this.reset();}h.prototype.reset=function(){this.c1=[];this.offset=0;this.Cz=this.VG=null;this.filter.reset();this.y2=null;};h.prototype.add=function(n,c,f){var g;g=this.Cz;null !== g && f > g && (this.offset+=Math.max(c - g,0),this.Cz=null);for((0,l.Sbb)(this.c1,[c - this.offset,f - this.offset,n]);this.c1 && this.c1.length > this.Veb;){n=d.__read(this.c1.shift(),3);this.filter.add(n[2],n[0],n[1]);}this.y2=null;};h.prototype.get=function(n,c){var f,m;if(!this.y2){this.y2=this.filter.Mi();try{for(var g=d.__values(this.c1),k=g.next();!k.done;k=g.next()){m=d.__read(k.value,3);this.y2.add(m[2],m[0],m[1]);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (f=g.return) && f.call(g);}finally{if(p)throw p.error;}}}p=this.Cz;return this.y2.get((null === p?n:p) - this.offset,c);};h.prototype.Mi=function(){var n;n=new h(this.im,this.filter.Mi());n.Cz=this.Cz;n.offset=this.offset;return n;};h.prototype.start=function(n){var c;c=this.Cz;null !== c && n > c && (this.offset+=n - c,this.Cz=null);this.filter.start(n - this.offset);};h.prototype.stop=function(n){this.Cz=null === this.Cz?n:Math.min(this.Cz,n);this.filter.stop(n - this.offset);};h.prototype.flush=function(){this.filter.flush();};h.prototype.toString=function(){return "AggregatingFilter(" + this.Veb + ", " + this.filter.toString() + ")";};return h;})();b.rIa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Sbb=void 0;d=a(0);b.Sbb=function(l,h){var g,k,m,p,q,v,t,y,x,z,B,A,C,D;for(var n,c,f=0;f < l.length;f++){g=d.__read(h,3);k=g[0];m=g[1];p=g[2];q=d.__read(l[f],3);v=q[0];g=q[1];t=q[2];if(!(k >= g)){k=[k,Math.min(g,m),v,g].filter(function(E,G,F){return F.indexOf(E) === G;}).sort(function(E,G){return E - G;});v=k.length - 1;q=Array(v);p+=t;try{for(var w=(n=void 0,d.__values([h,l[f]])),u=w.next();!u.done;u=w.next()){y=d.__read(u.value,3);x=y[0];z=y[1];B=y[2];t=z - x;for(h=0;h < v;h++){A=k[h + 1];C=Math.min(A,z) - Math.max(k[h],x);if(0 < C){D=C * B / t;p-=D;q[h]=q[h]?q[h] + D:D;}if(z <= A)break;}}}catch(E){n={error:E};}finally{try{u && !u.done && (c=w.return) && c.call(w);}finally{if(n)throw n.error;}}t=[];for(h=0;h < v;h++){B=q[h];0 < B && t.push([k[h],k[h + 1],B]);}l.splice.apply(l,d.__spreadArray([f,1],d.__read(t),!1));if(g < m)h=[g,m,p];else return;}}h && 0 < h[2] && l.splice(l.length,0,h);};},function(r,b,a){var l,h;function d(n){this.K=n;this.NV();}l=a(13);h=a(3).default;new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");d.prototype.save=function(){var n;n=this.getState();h.storage.set("nh",n);};d.prototype.Cic=function(){this.FI || (this.FI=!0,this.OA=h.time.fa());};d.prototype.Kic=function(){var n;if(this.FI){n=h.time.fa();this.RA+=n - this.OA;this.OA=n;this.FI=!1;this.LV=null;}};d.prototype.$bb=function(n,c){this.FI && (c > this.OA && (this.RA+=c - this.OA,this.OA=c),null === this.LV || n > this.LV) && (n=c - n,this.TN.push([this.RA - n,n]),this.MFb(),this.LV=c);};d.prototype.MFb=function(){var n;n=this.RA - this.K.h8b;this.TN=this.TN.filter(function(c){return c[0] > n;});};d.prototype.NV=function(){var n;n=h.storage.get("nh");this.Hoa(n) || (this.OA=h.time.fa(),this.RA=0,this.FI=!1,this.LV=null,this.TN=[]);};d.prototype.Hoa=function(n){if(!(n && l.has(n,"t") && l.has(n,"s") && l.has(n,"i") && l.Pa(n.t) && l.Pa(n.s) && l.isArray(n.i)))return !1;this.OA=h.time.bBa(1E3 * n.t);this.RA=1E3 * n.s;this.FI=!1;this.TN=n.i.map(function(c){return [1E3 * c[0],c[1]];});this.LV=null;return !0;};d.prototype.getState=function(){return this.FI?{t:h.time.now() / 1E3 | 0,s:(this.RA + (h.time.fa() - this.OA)) / 1E3 | 0,i:this.TN.map(function(n){return [n[0] / 1E3 | 0,n[1]];})}:{t:h.time.FAa(this.OA) / 1E3 | 0,s:this.RA / 1E3 | 0,i:this.TN.map(function(n){return [n[0] / 1E3 | 0,n[1]];})};};r.exports=d;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.dRa=void 0;r=a(0).__importDefault(a(3));d=a(6);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(h,n){this.config=h;this.hea=n;this.reset();}l.prototype.reset=function(){this.confidence=d.JD.HAVE_NOTHING;this.startTime=this.ha=0;};l.prototype.Mi=function(){var h;h=new l(this.config,this.hea);h.confidence=this.confidence;h.ha=this.ha;h.startTime=this.startTime;return h;};l.prototype.add=function(h,n,c){0 === this.startTime && (this.startTime=n,this.ha=0);this.ha+=h;h=c - this.startTime;this.confidence=Math.max(this.confidence,d.JD.zD);this.confidence < d.JD.yD && (h > this.config.fDb || this.ha > this.config.eDb) && (this.confidence=d.JD.yD);this.confidence < d.JD.YT && (h > this.config.zEb || this.ha > this.config.yEb) && (this.confidence=d.JD.YT,this.hea());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.dRa=a;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yja=void 0;r=a(0);d=a(958);l=a(6);new (r.__importDefault(a(3)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){function h(n){var u0X;u0X=2;for(;u0X !== 4;){switch(u0X){case 2:var i8H="1SI";i8H+="Yb";i8H+="Z";i8H+="rNJCp9";this.xxa=n;this.IB={};i8H;u0X=4;break;}}}var i2e;i2e=2;for(;i2e !== 7;){switch(i2e){case 3:h.prototype.up=function(){var q6r;q6r=2;for(;q6r !== 1;){switch(q6r){case 2:return this.WG.get();break;case 4:return this.WG.get();break;}}};h.prototype.Mpb=function(n){var t2s,c,f;t2s=2;for(;t2s !== 5;){switch(t2s){case 2:(c=Object.keys(this.IB).map(function(g){var Q2Y;Q2Y=2;for(;Q2Y !== 1;){switch(Q2Y){case 2:return parseInt(g);break;}}}),f=this.IB[c[0]]);1 === c.length && !1 === f.$$?(this.WG.start(n,f.ll),this.xW=f.ll):1 < c.length && this.xW && (c=this.IB[this.xW],this.WG.stop(n,this.xW),c.$$=!1,this.xW=void 0);t2s=5;break;}}};return h;break;case 2:h.prototype.reset=function(){var y9B;y9B=2;for(;y9B !== 1;){switch(y9B){case 4:this.WG=new d.dKa();y9B=4;break;case 2:this.WG=new d.dKa();y9B=1;break;}}};h.prototype.Uw=function(n,c){var U3B;U3B=2;for(;U3B !== 1;){switch(U3B){case 2:c.ll && (this.xxa?this.WG.start(n,c.ll):c.type === l.u.J && (this.IB[c.ll]?this.IB[c.ll].Y2+=1:this.IB[c.ll]={ll:c.ll,Y2:1,$$:!1},this.Mpb(n)));U3B=1;break;}}};i2e=5;break;case 5:h.prototype.oz=function(n,c){var A49,f;A49=2;for(;A49 !== 9;){switch(A49){case 2:A49=c.ll?1:9;break;case 5:this.WG.stop(n,c.ll);A49=9;break;case 7:A49=c.ll?2:10;break;case 4:f=this.IB[c.ll];c.type === l.u.J && f && (--f.Y2,0 === f.Y2 && (f.$$ && this.WG.stop(n,c.ll),f.$$=!1,delete this.IB[c.ll]),this.Mpb(n));A49=9;break;case 1:A49=this.xxa?5:4;break;}}};h.prototype.vE=function(n,c,f,g){var x$V;x$V=2;for(;x$V !== 1;){switch(x$V){case 2:g.ll && (this.xxa?this.WG.add(n,c,f,g.ll):this.xW === g.ll && this.WG.add(n,c,f,g.ll));x$V=1;break;}}};i2e=3;break;}}})();b.yja=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.dKa=void 0;d=a(0).__importDefault(a(263));r=(function(){function l(){var D9n;D9n=2;for(;D9n !== 5;){switch(D9n){case 2:var e$o="1S";e$o+="IYb";e$o+="Z";e$o+="rNJCp9";this.B7={};e$o;D9n=5;break;case 3:this.B7={};"";D9n=1;break;}}}var p0D;p0D=2;for(;p0D !== 9;){switch(p0D){case 3:return l;break;case 2:l.prototype.add=function(h,n,c,f){var J5f,g;J5f=2;for(;J5f !== 4;){switch(J5f){case 2:g=this.B7;void 0 === g[f] && (g[f]=new d.default());g[f].add(h,n,c);J5f=4;break;}}};l.prototype.start=function(h,n){var W2B,c;W2B=2;for(;W2B !== 4;){switch(W2B){case 2:c=this.B7;void 0 === c[n] && (c[n]=new d.default());W2B=5;break;case 5:c[n].start(h);W2B=4;break;}}};l.prototype.stop=function(h,n){var O1T,c;O1T=2;for(;O1T !== 5;){switch(O1T){case 2:c=this.B7;void 0 !== c[n] && c[n].stop(h);O1T=5;break;}}};l.prototype.get=function(){var y35,g,k,h,n,c,f;y35=2;for(;y35 !== 8;){switch(y35){case 9:return c;break;case 3:f++;y35=1;break;case 5:(g=n[f],k=h[g].get());k && c.push({cdnid:g,avtp:k.ya,tm:k.v$});y35=3;break;case 1:y35=f < n.length?5:9;break;case 2:(h=this.B7,n=Object.keys(h).map(function(m){var r6J;r6J=2;for(;r6J !== 1;){switch(r6J){case 2:return parseInt(m);break;}}}),c=[],f=0);y35=1;break;}}};p0D=3;break;}}})();b.dKa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.VRa=void 0;r=a(0);d=a(6);l=r.__importDefault(a(263));a=(function(){var M9O;function h(n){var y7A;y7A=2;for(;y7A !== 7;){switch(y7A){case 2:var W7u="1SIYbZ";W7u+="rNJC";W7u+="p9";this.s1=[0,0];this.Yg=[0,0];this.y0=[0,0];W7u;this.z0=n.z0;this.HBa=[new l.default(),new l.default()];this.Qhb=new l.default();y7A=7;break;}}}M9O=2;for(;M9O !== 3;){switch(M9O){case 14:return h;break;case 4:return h;break;case 2:h.prototype.reset=function(){var n_O;n_O=2;for(;n_O !== 4;){switch(n_O){case 2:this.s1=[0,0];this.Yg=[0,0];this.y0=[0,0];n_O=4;break;}}};h.prototype.vE=function(n,c,f,g){var b41,k,m;b41=2;for(;b41 !== 8;){switch(b41){case 4:(this.s1[g.type]+=n,this.Qhb.add(n,c,f),this.HBa[g.type].add(n,c,f));b41=3;break;case 9:this.y0[g.type]+=n;b41=8;break;case 5:b41=(null === (k=g.t1) || void 0 === k?0:k.oca())?4:3;break;case 3:b41=(null === (m=g.t1) || void 0 === m?0:m.Uza(n,c,f,this.z0))?9:8;break;case 2:this.Yg[g.type]+=n;b41=5;break;}}};h.prototype.Yaa=function(){var Y0k;Y0k=2;for(;Y0k !== 1;){switch(Y0k){case 2:return {bytesRequestedPacingVideo:this.s1[d.u.J],bytesRequestedPacingAudio:this.s1[d.u.U],estimatedBytesPacedVideo:this.y0[d.u.J],estimatedBytesPacedAudio:this.y0[d.u.U],bytestotalVideo:this.Yg[d.u.J],bytestotalAudio:this.Yg[d.u.U],pacedAvtpVideo:this.HBa[d.u.J].get().ya,pacedAvtpAudio:this.HBa[d.u.U].get().ya,pacedAvtp:this.Qhb.get().ya};break;}}};M9O=4;break;}}})();b.VRa=a;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(961),b);r.__exportStar(a(264),b);},function(r,b,a){var l,h,n,c,f,g,k;function d(m){if(-1 !== n.U2.indexOf(m))return m;for(var p,q=0;q < n.U2.length;++q){if(-1 !== m.indexOf(n.U2[q])){p=n.U2[q];break;}}f.assert(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.OVa=void 0;l=a(0);h=a(962);n=a(987);c=a(264);f=a(425);g=a(988);k=a(989);r=(function(){function m(p,q){this.atob=p;this.console=q;this.QO=1;this.T2=[];this.OW=[];}m.prototype.n_b=function(p,q,v,t,w){var u,z;void 0 === t && (t={w:16,ks:9});void 0 === w && (w=1);q=d(q);u=g.Nc(c.tHa,function(B){return c.t8a(v,c.s8a[B]);});f.assert(u);f.assert(16 === t.w && 9 === t.ks || 4 === t.w && 3 === t.ks);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.T2;y < x.length;y++){z=x[y];if(z.type === p && z.iy === t && z.ie === q && z.frameRate === u && z.trackId === w)return z;}p=this.yQb(p,t,q,u,w);this.T2.unshift(p);this.T2.length > this.QO && this.T2.splice(this.QO,this.T2.length - this.QO);return p;};m.prototype.m_b=function(p,q,v){var y;void 0 === v && (v=1);for(var t,w=0,u=this.OW;w < u.length;w++){y=u[w];"silence" === y.type && y.ie === p && y.bitrate === q && y.trackId === v && (t=y);}void 0 === t && (t=this.oQb(p,q,v),this.OW.unshift(t),this.OW.length > this.QO && this.OW.splice(this.QO,this.OW.length - this.QO));return t;};m.prototype.yQb=function(p,q,v,t,w){var u;u=h.Sqb[p][q][v][t]();return l.__assign(l.__assign({},this.decode(u,w)),{type:p,iy:q,ie:v,frameRate:t,width:u.width,height:u.height,Cd:u.Cd,Dd:u.Dd});};m.prototype.oQb=function(p,q,v){var t;t=h.q1a.silence[p][q];f.assert(t);t=t();return l.__assign(l.__assign({},this.decode(t,v)),{type:"silence",ie:p,bitrate:q,channels:t.channels});};m.prototype.decode=function(p,q){var v,t,w,u;v=p.Zb?this.k5a(p.oa,p.Ff,p.Hf,p.Gf):this.atob(p.oa);t=p.Yb?this.k5a(p.pa,p.Bf,p.Df,p.Cf):this.atob(p.pa);if(1 !== q){w=new DataView(v);u=new DataView(t);p.qc.forEach(function(y){return w.setUint32(y,q);});p.pc.forEach(function(y){return u.setUint32(y,q);});}return l.__assign(l.__assign({},p),{oa:v,pa:t,trackId:q});};m.prototype.k5a=function(p,q,v,t){p=void 0 === q?k.Vca(p):t?k.Vca(q + p):k.Vca(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (v || 0),p.byteOffset + p.byteLength);};return m;})();b.OVa=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.q1a=b.Sqb=void 0;b.Sqb={padding:{"16:9":{h264hpl:{23976:function(){return a(155);},24:function(){return a(963);},25:function(){return a(964);},2997:function(){return a(965);},30:function(){return a(966);}},h264:{23976:function(){return a(156);},24:function(){return a(967);},25:function(){return a(968);},2997:function(){return a(969);},30:function(){return a(970);}}},"4:3":{h264hpl:{23976:function(){return a(157);},24:function(){return a(971);},25:function(){return a(972);},2997:function(){return a(973);},30:function(){return a(974);}},h264:{23976:function(){return a(158);},24:function(){return a(975);},25:function(){return a(976);},2997:function(){return a(977);},30:function(){return a(978);}}}}};b.q1a={silence:{heaac:{64:function(){return a(979);},96:function(){return a(980);},128:function(){return a(981);}},ddp:{192:function(){return a(982);},256:function(){return a(983);},384:function(){return a(984);},448:function(){return a(985);},640:function(){return a(986);}}}};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(155);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Zb=!0;b.Hf=751;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:24E3};b.duration={Ca:6E3,V:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(155);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Zb=!0;b.Hf=751;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:25E3};b.duration={Ca:7E3,V:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(155);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Zb=!0;b.Hf=751;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Df=1022;b.da={Ca:1001,V:3E4};b.duration={Ca:8008,V:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(155);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG";b.Zb=!0;b.Hf=751;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:3E4};b.duration={Ca:8E3,V:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(156);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Zb=!0;b.Hf=749;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:24E3};b.duration={Ca:6E3,V:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(156);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Zb=!0;b.Hf=749;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:25E3};b.duration={Ca:7E3,V:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(156);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Zb=!0;b.Hf=749;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Df=1022;b.da={Ca:1001,V:3E4};b.duration={Ca:8008,V:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,729];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(156);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG";b.Zb=!0;b.Hf=749;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:3E4};b.duration={Ca:8E3,V:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=4;b.Dd=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(157);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Zb=!0;b.Hf=751;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:24E3};b.duration={Ca:6E3,V:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(157);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Zb=!0;b.Hf=751;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:25E3};b.duration={Ca:7E3,V:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(157);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Zb=!0;b.Hf=751;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Df=1022;b.da={Ca:1001,V:3E4};b.duration={Ca:8008,V:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(157);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG";b.Zb=!0;b.Hf=751;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:3E4};b.duration={Ca:8E3,V:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(158);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Zb=!0;b.Hf=749;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:24E3};b.duration={Ca:6E3,V:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(158);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Zb=!0;b.Hf=749;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:25E3};b.duration={Ca:7E3,V:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(158);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Zb=!0;b.Hf=749;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Df=1022;b.da={Ca:1001,V:3E4};b.duration={Ca:8008,V:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,729];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Dd=b.Cd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Df=b.Yb=b.pa=b.Hf=b.Zb=b.oa=b.Cf=b.Bf=b.Gf=b.Ff=void 0;r=a(158);b.Ff=r.oa;b.Gf=r.Zb;b.Bf=r.pa;b.Cf=r.Yb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG";b.Zb=!0;b.Hf=749;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Df=1022;b.da={Ca:1E3,V:3E4};b.duration={Ca:8E3,V:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Cd=1;b.Dd=1;b.qc=[176,731];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Zb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Yb=!0;b.da={Ca:1024,V:24E3};b.duration={Ca:7168,V:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";b.qc=[176,599];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Zb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Yb=!0;b.da={Ca:1024,V:24E3};b.duration={Ca:7168,V:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2.0";b.qc=[176,599];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Zb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Yb=!0;b.da={Ca:1024,V:24E3};b.duration={Ca:7168,V:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";b.qc=[176,599];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70";b.Yb=!0;b.da={Ca:1536,V:48E3};b.duration={Ca:12288,V:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x";b.Yb=!0;b.da={Ca:1536,V:48E3};b.duration={Ca:12288,V:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q";b.Yb=!0;b.da={Ca:1536,V:48E3};b.duration={Ca:12288,V:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m";b.Yb=!0;b.da={Ca:1536,V:48E3};b.duration={Ca:12288,V:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c";b.Yb=!0;b.da={Ca:1536,V:48E3};b.duration={Ca:12288,V:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.QIb=b.OIb=b.RIb=b.NIb=b.PIb=b.SIb=b.$mc=b.Tmc=b.U2=b.bnc=void 0;d=a(264);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return d.tHa;}});b.bnc=["padding"];b.U2=["h264hpl","h264"];b.Tmc=["16:9","4:3"];b.$mc={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash"};b.SIb=["silence"];b.PIb=["heaac","ddp"];b.NIb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.RIb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.OIb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.QIb={heaac:{Ca:1024,V:24E3},ddp:{Ca:1536,V:48E3}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nc=void 0;b.Nc=function(a,d){for(var l=0;l < a.length;l++){if(d(a[l],l,a))return a[l];}};},function(r,b,a){var c;function d(f){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f & 63];}function l(f,g){c.assert(0 < g && 8 > g);return d((g - 1 << 8) + f);}function h(f){return d(1792 + f[0]) + d((f[1] << 4) + (f[2] >>> 4)) + d((f[2] << 8 & 3840) + f[3]);}function n(f){return 43 === f?62:47 === f?63:58 > f?f - 48 + 52:91 > f?f - 65:f - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.Vca=b.R5b=void 0;c=a(425);b.R5b=function(f,g){var p,q,v,t,w,u;function k(y,x){var z;z=p;y=q - x - y;c.assert(1 <= y);c.assert(16384 > y - 1);c.assert(2 <= x && 512 > x - 2);x=d(2048 + (y - 1 >>> 3)) + d(((y - 1 & 7) << 9) + (x - 2));p=z + x;v=q;t=0;}function m(y,x,z){return f.subarray(y,y + z).every(function(B,A){return B === f[x + A];});}p="";q=g || 0;v=q;t=0;for(g=0;q < f.byteLength;){w=v;u=t;if(0 !== t && 513 > t && f[q] === f[v + t])(++t,++q);else if(513 === t)(k(w,u),g=0);else {for(--v;0 <= v && v >= q - t - 16384 && (f[w] !== f[v] || 0 < t && !m(q - t,v,t + 1));){--v;}if(0 <= v && v >= q - t - 16384)(++t,++q);else if(w === q || 1 === u){q-=u;for(w=1;5 > w && f[q + w] === f[q];){++w;}p+=l(f[q],w);q+=w;g=1 < w?0:g + 1;4 === g && (p=p.slice(0,p.length - 8),p+=h(f.subarray(q - 4,q)));v=q;t=0;}else (k(w,u),g=0);}}1 === t?p+=l(f[v],1):1 < t && k(v,t);return p;};b.Vca=function(f,g){var t;function k(u,y){var x;if(v + y > p.byteLength){x=new Uint8Array(2 * p.byteLength);x.set(p,0);p=x;}if(u + y <= v)p.set(p.subarray(u,u + y),v);else for(x=0;x < y;++x){p[v + x]=p[u + x];}v+=y;}function m(){var u;u=f.slice(q,q+=2);return (n(u.charCodeAt(0)) << 6) + n(u.charCodeAt(1));}for(var p=g || new Uint8Array(4096),q=0,v=g?g.byteLength:0;q < f.length;){t=m();if(t & 2048)(g=m(),k(v - (((t & 2047) << 3) + (g >>> 9) + 1),(g & 511) + 2));else if(1792 === (t & 3840))(p[v++]=t & 255,g=m(),t=m(),p[v++]=g >>> 4,p[v++]=(g << 4 & 240) + (t >>> 8),p[v++]=t & 255);else {g=t & 255;t=(t >>> 8) + 1;for(var w=0;w < t;++w){p[v++]=g;}}}return p.subarray(0,v);};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.ROa=void 0;d=a(0);l=d.__importStar(a(13));r=a(11);h=d.__importDefault(a(29));n=d.__importDefault(a(991));c=d.__importDefault(a(3));f=a(183);g=a(259);d.__importDefault(a(260));k=d.__importDefault(a(992));a(426);m=a(2);p=a(995);q=a(1080);v=new c.default.Console("ASEJS","media|asejs");t=v.trace.bind(v);w=v.warn.bind(v);r=(function(u){var S4f;function y(x,z){var m6r,B;m6r=2;for(;m6r !== 13;){switch(m6r){case 7:var h8G="1SIYbZr";h8G+="N";h8G+="JC";h8G+="p9";B.yI=[];h8G;return B;break;case 2:var B7o="D";B7o+="E";B7o+="B";B7o+="UG:";var E54="n";E54+="f-ase ";E54+="version";E54+=":";B=u.call(this) || this;B.config=x;B.u2=z;x=a(1095);t(E54,x,B7o,!1);B.Lna=!1;B.pEb=!1;m6r=7;break;}}}S4f=2;for(;S4f !== 15;){switch(S4f){case 2:d.__extends(y,u);Object.defineProperties(y.prototype,{Bc:{get:function(){var h4e;h4e=2;for(;h4e !== 1;){switch(h4e){case 2:return this.G6.Bc;break;case 4:return this.G6.Bc;break;}}},enumerable:!1,configurable:!0}});S4f=5;break;case 18:y.prototype.t9=function(){var Y2A,x;Y2A=2;for(;Y2A !== 5;){switch(Y2A){case 2:null === (x=this.FA) || void 0 === x?void 0:x.uRb();Y2A=5;break;}}};y.prototype.Wa=function(){var z8E;z8E=2;for(;z8E !== 6;){switch(z8E){case 5:delete this.G6;delete this.Eoa;delete this.u2;this.t9();delete this.FA;g.BM.reset();z8E=6;break;case 2:var N7V="Attempted to destruct Manager before all Se";N7V+="ssions r";N7V+="e";N7V+="moved";(0,m.assert)(0 === this.yI.length,N7V);this.Lna=!1;z8E=5;break;}}};return y;break;case 12:y.prototype.createSession=function(x,z,B,A,C,D,E,G,F,K){var Y8A;Y8A=2;for(;Y8A !== 4;){switch(Y8A){case 5:var r5n="open: streaming";r5n+="Manager not ini";r5n+="tted";w(r5n);Y8A=4;break;case 2:Y8A=this.Lna?1:5;break;case 7:w("");Y8A=1;break;case 1:return (G=G || this.config,this.Bc.reset(),this.su.Cic(),this.Eoa.reset(),void 0 === D && (D=this.cva(x,z)),l.xa(this.Loa) && (this.Loa=c.default.Iq()[h.default.ee.J] <= G.D7b?0:G.u1),x=new p.uVa(this,x,K,z,B,A,C,D,E,G,F),this.yI.push(x),x);break;}}};y.prototype.w_=function(x,z){var s7J;s7J=2;for(;s7J !== 1;){switch(s7J){case 2:return this.FA && (x=this.FA.w_(x,z))?x:!1;break;}}};y.prototype.NEb=function(x){var T11,z;T11=2;for(;T11 !== 4;){switch(T11){case 5:var o0q="can't find";o0q+=" sessi";o0q+="on";o0q+=" ";o0q+="in array, movieId:";l.xa(z)?w(o0q,x.Vf.P.L):(this.yI.splice(z,1),0 === this.yI.length && this.su.Kic(),this.su.save(),this.zk.save());T11=4;break;case 2:this.Bc.M1(null);z=this.yI.indexOf(x);T11=5;break;}}};y.prototype.cva=function(x,z,B){var S9v;S9v=2;for(;S9v !== 1;){switch(S9v){case 2:return (0,f.Pva)(x,z,B);break;case 4:return (2,f.Pva)(x,z,B);break;}}};y.prototype.Nqa=function(){var E3u,x;E3u=2;for(;E3u !== 5;){switch(E3u){case 2:null === (x=this.FA) || void 0 === x?void 0:x.$7a();E3u=5;break;}}};S4f=18;break;case 5:Object.defineProperties(y.prototype,{su:{get:function(){var X1q;X1q=2;for(;X1q !== 1;){switch(X1q){case 2:return this.G6.su;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Yw:{get:function(){var F_I;F_I=2;for(;F_I !== 1;){switch(F_I){case 2:return this.Eoa;break;case 4:return this.Eoa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{T1:{get:function(){var j1V;j1V=2;for(;j1V !== 1;){switch(j1V){case 4:return this.Loa;break;case 2:return this.Loa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yya:{get:function(){var B$Z;B$Z=2;for(;B$Z !== 1;){switch(B$Z){case 4:return +l.xa(this.BFb);break;case 2:return !l.xa(this.BFb);break;}}},enumerable:!1,configurable:!0}});S4f=8;break;case 8:Object.defineProperties(y.prototype,{Bga:{get:function(){var p8j;p8j=2;for(;p8j !== 1;){switch(p8j){case 2:return this.rFb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wg:{get:function(){var i8S;i8S=2;for(;i8S !== 1;){switch(i8S){case 2:return this.FA;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{zk:{get:function(){var M4L;M4L=2;for(;M4L !== 1;){switch(M4L){case 4:return this.G6.zk;break;case 2:return this.G6.zk;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oxa:{get:function(){var b69;b69=2;for(;b69 !== 1;){switch(b69){case 2:return this.pEb;break;case 4:return this.pEb;break;}}},enumerable:!1,configurable:!0}});y.prototype.oa=function(x,z,B,A,C,D){var c9H,E,G;c9H=2;for(;c9H !== 11;){switch(c9H){case 2:(E=this,G=this.config);g.BM.reset();c9H=5;break;case 5:0 < G.ou && (!l.xa(x) && x > G.ou && (x=G.ou),z > G.ou && (z=G.ou));l.xa(x) && (this.BFb=z);this.Loa=A;this.rFb=C;(0,n.default)(G);this.G6=g.BM.Xaa(G,v,this.u2);this.Eoa=new k.default(G);c9H=14;break;case 14:c9H=G.tqb || G.iHa?13:12;break;case 13:var e$P="media";e$P+="cach";e$P+="e";var l3Z="ca";l3Z+="c";l3Z+="heEvic";l3Z+="t";var a9E="f";a9E+="lus";a9E+="h";a9E+="edBytes";var c2s="d";c2s+="i";c2s+="scardedB";c2s+="ytes";var T8m="prebuf";T8m+="fsta";T8m+="ts";(z=new q.sNa(this,G,B,D),x=function(F){var j$8;j$8=2;for(;j$8 !== 1;){switch(j$8){case 4:E.emit(F.type,F);j$8=5;break;case 2:E.emit(F.type,F);j$8=1;break;}}},z.addListener(T8m,x),z.addListener(c2s,x),z.addListener(a9E,x),z.addListener(l3Z,x),(G.mHa || G.lHa) && z.addListener(e$P,function(F){var y1J;y1J=2;for(;y1J !== 1;){switch(y1J){case 2:var l0G="m";l0G+="e";l0G+="dia";l0G+="ca";l0G+="che";E.emit(l0G,F);y1J=1;break;}}}),this.FA=z);c9H=12;break;case 12:this.Lna=!0;c9H=11;break;}}};S4f=12;break;}}})(r.EventEmitter);b.ROa=r;},function(r,b,a){var l,h,n,c;function d(f){var g;g=nrdp.jl.Kyc.match(/android-(\d*)/);g?23 < g[1]?f.dGa=!1:(g=nrdp.jl.isc.vq.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),f.dGa=g?6 < g[1] || 6 == g[1] && 1 < g[2] || 6 == g[1] && 1 == g[2] && 1 <= g[3]?!0:!1:!1):f.dGa=!1;f.sjc=!1;}l=a(2).assert;a(188);h=a(3).default;n=h.ur;c=h.kxb;r.exports=function(){var f,g,k,m;f=new h.Console("ASEJSMONKEY","media|asejs");if(!h.ur.Yc){g=function(p){this.$Cb=p;};k=c.prototype.appendBuffer;h.MediaSource.Yc || (h.MediaSource.Yc={});"undefined" !== typeof nrdp && nrdp.D8 && (d(h.MediaSource.Yc,f),h.MediaSource.Yc.q3a=!1,h.MediaSource.Yc.igb=!1);h.ur.Yc={eS:{Krb:!0,hN:!0,uxb:!0}};Object.defineProperty(n.prototype,"_response",{get:function(){return this.zFb || this.pBb;},set:function(p){this.pBb=p;}});m=n.prototype.open;n.prototype.open=function(p,q,v,t,w,u,y){1 === v && (this.zFb=new g(this));return m.call(this,p,q,v,t,w,u,y);};n.prototype.VR=function(){this.iO=void 0;};c.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return k.call(this,p);if(p instanceof g)return this.H8(p.$Cb);l(!1);};}};},function(r,b,a){var h,n;function d(){this.JA=this.qV=this.a7=this.q7=this.Y6=null;}function l(c){this.K=c;this.lE=[];this.ht=new d();this.NV();}h=a(13);a(29);a(8);n=a(3).default;new n.Console("ASEJS_SESSION_HISTORY","media|asejs");d.prototype.Qd=function(c){var f;f=!1;c && h.has(c,"ens") && h.has(c,"lns") && h.has(c,"fns") && h.has(c,"d") && h.has(c,"t") && (this.Y6=c.ens,this.q7=c.lns,this.a7=c.fns,this.qV=c.d,this.JA=c.t,f=!0);return f;};d.prototype.getState=function(){var c;if(h.yb(this.Y6) || h.yb(this.q7) || h.yb(this.a7) || h.yb(this.qV) || h.yb(this.JA))return null;c={d:this.qV,t:this.JA};c.ens=this.Y6;c.lns=this.q7;c.fns=this.a7;return c;};d.prototype.get=function(){var c,f;c=this.getState();if(c){f=new Date(this.JA);c.dateint=1E4 * f.getFullYear() + 100 * (f.getMonth() + 1) + f.getDate();c.hour=f.getHours();}return c;};l.prototype.NV=function(){var c;c=n.storage.get("sth");c && this.Qd(c);};l.prototype.Qd=function(c){var f,g;f=null;g=this.K;c.forEach(function(k){var m;m=new d();m.Qd(k)?(f=!0,this.lE.push(m)):h.yb(f) && (f=!1);},this);this.lE=this.lE.filter(function(k){return k.qV >= g.Cda;});this.lE.sort(function(k,m){return k.JA - m.JA;});return h.yb(f)?!0:f;};l.prototype.Ana=function(){var c;c=[];this.lE.forEach(function(f){c.push(f.getState());},this);return c;};l.prototype.save=function(){var c,f,g;c=this.Ana();f=this.K;g=this.ht.getState();g && g.d >= f.Cda && (c.push(g),this.lE.push(this.ht));c.length > f.dda && (c=c.slice(c.length - f.dda,c.length));this.ht=new d();c && n.storage.set("sth",c);};l.prototype.reset=function(){this.ht=new d();};l.prototype.CXb=function(){return this.ht.get();};l.prototype.d_b=function(){return this.lE.length + 1;};l.prototype.NGb=function(c){this.ht.Y6=c;this.ht.JA=n.time.fa();};l.prototype.ZGb=function(c){this.ht.q7=c;this.ht.JA=n.time.fa();};l.prototype.SGb=function(c,f){this.ht.a7=c;this.ht.JA=n.time.fa();this.ht.qV=f;};r.exports=l;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HPa=void 0;r=(function(){function a(d,l,h){this.GFb=l;this.KAb=h;this.H=d;}a.prototype.zCa=function(d){d=this.u2b(d,this.GFb) + this.KAb;return this.toa=isNaN(d)?NaN:this.xga(d);};a.prototype.QLb=function(d){return isNaN(this.toa)?0:this.toa > d?1:0;};a.prototype.u2b=function(d,l){var h;h=0;if(d.length !== l.length)h=NaN;else for(var n=0;n < d.length;n++){h+=d[n] * l[n];}return h;};a.prototype.xga=function(d){return 1 / (1 + Math.exp(-d));};return a;})();b.HPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LU=void 0;r=(function(){function a(d){this.Zk={};this.boa=d;this.fh=[];this.qt=!1;this.BI=void 0;}a.prototype.t8=function(d){this.fh.length === this.boa && this.fh.shift();Array.isArray(d)?this.fh=this.fh.concat(d):this.fh.push(d);this.qt=!0;};a.prototype.cQ=function(){return this.fh.length;};a.prototype.Vqa=function(){var d;d=this.fh;return 0 < d.length?d.reduce(function(l,h){return l + h;},0) / this.fh.length:void 0;};a.prototype.w9=function(){var d,l;d=this.fh;l=this.Vqa();if(0 < d.length && "undefined" !== typeof l)return (d=d.reduce(function(h,n){return h + n * n;},0) / d.length,Math.sqrt(d - l * l));};a.prototype.Kv=function(d){var l,h,n;if(this.qt || void 0 === this.BI)(this.BI=this.fh.slice(0).sort(function(c,f){return c - f;}),this.qt=!1);if(void 0 === this.Zk[d]){l=this.BI;h=Math.floor(d / 100 * (l.length - 1) + 1) - 1;n=(d / 100 * (l.length - 1) + 1) % 1;this.Zk[d]=h === l.length - 1?l[h]:l[h] + n * (l[h + 1] - l[h]);}return this.Zk[d];};return a;})();b.LU=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I;Object.defineProperties(b,{__esModule:{value:!0}});b.uVa=void 0;r=a(0);d=a(11);l=r.__importStar(a(13));a(117);h=a(996);n=a(183);c=a(6);f=a(76);g=a(269);k=a(1018);m=a(1019);p=r.__importDefault(a(3));q=p.default.MediaSource;v=a(8);t=a(2);w=a(186);u=a(440);y=a(1021);x=a(1022);z=a(159);r=a(35);B=a(1023);A=a(1024);C=a(441);D=a(1060);E=a(452);G=a(1070);F=a(456);K=a(1076);O=a(1077);L=a(1078);I=a(1079);a=(function(){var t_B;function M(H,J,N,P,X,V,S,U,ha,qa,xa){var O4L,T,W,Oa,Aa,ka;O4L=2;for(;O4L !== 76;){switch(O4L){case 21:this.G7=void 0;this.X=new x.HIa(ha);this.Gm=X || 0;this.QV=0;this.DXa=U;this.T7=!1;this.CV=void 0;O4L=29;break;case 63:qa=qa.Z0b;for(var Q in qa){N=qa[Q];qa.hasOwnProperty(Q) && N && (this.K[Q]=N);}O4L=61;break;case 13:var Q9Y="b";Q9Y+="ra";Q9Y+="nching";this.Kb=Oa;this.Z3a=new u.AKa(this.H);(T=!(!J || !J.choiceMap || Q9Y !== J.choiceMap.type),W=T?{fY:!1,Pt:!1}:(0,m.O9a)(qa));O4L=10;break;case 14:Oa=new I.nRa(this,this.H);O4L=13;break;case 3:var C6N="med";C6N+="ia";C6N+="|";C6N+="asejs";var x7W="A";x7W+="S";x7W+="EJS";var k32="1";k32+="SIY";k32+="bZrNJ";k32+="Cp9";k32;this.H=new p.default.Console(x7W,C6N,"(" + S.sessionId + ")");this.Ll=this.H.error.bind(this.H);this.bc=this.H.warn.bind(this.H);this.ik=this.H.trace.bind(this.H);O4L=14;break;case 64:O4L=qa.zta && this.bi.kca?63:60;break;case 77:xa && this.Pb.Zw(xa,J.N);O4L=76;break;case 36:T && qa.vP && !qa.LSb && (qa.set?qa.set({enableAdaptiveParallelStreaming:!1}):qa.vP=!1);0 === Math.floor(1E6 * Math.random()) % qa.FO && (this.UEb=new k.HUa(qa));this.Ux=[];this.ci=[];O4L=51;break;case 2:Aa=this;this.RD=new z.Q5();this.IXa=[];this.AF={Rx:[Object.create(null),Object.create(null)]};O4L=3;break;case 56:ka=this;O4L=55;break;case 39:var F_y="man";F_y+="ager";F_y+="de";F_y+="bugev";F_y+="ent";this.fk.on(this.Mc.wg,F_y,function(ra){var d7$;d7$=2;for(;d7$ !== 1;){switch(d7$){case 2:(0,v.kb)(Aa,ra.type,ra);d7$=1;break;}}});O4L=38;break;case 37:var W7l="mediac";W7l+="ach";W7l+="e";this.fk.on(this.Mc.wg,W7l,function(ra){var m0L;m0L=2;for(;m0L !== 1;){switch(m0L){case 2:var I7$="medi";I7$+="a";I7$+="c";I7$+="a";I7$+="che";(0,v.kb)(Aa,I7$,ra);m0L=1;break;case 4:(3,v.kb)(Aa,"",ra);m0L=7;break;}}});O4L=36;break;case 51:H=null;qa.jY && (H=this.Mc.Yw.lE);w.Qz.instance().reset();J=h.Cka.create({Ub:0,ba:J,Xq:N,Tlb:P,ug:!!V.ug,xcb:!1,Tl:!!V.Tl,ag:(0,f.oAa)(!!V.bqa,!!V.W2),ca:0,Sa:V.Sa,Kb:this.Kb,Wt:this.BYa.bind(this),oc:this,config:this.K,H:this.H,Dh:this.Dh,Hp:this.Hp,wg:this.J_a?this.Mc.wg:void 0,AF:this.AF});J.LW=!0;O4L=46;break;case 46:this.ye=[J];J=J.P;this.bi=new G.sIa(this,this.H,J.Ak.o_b(),this.Mc.Bc,qa,this.RQ(),H,this.Ac.bind(this),W);O4L=64;break;case 40:O4L=qa.mj && this.Mc.wg?39:38;break;case 17:this.CFb=[!V.W2,!V.bqa,!1];this.Ac(f.u.U) && this.Ac(f.u.J);this.Mc=H;this.Bn=S;O4L=26;break;case 26:this.K=qa=this.Z3a.BAb(J,qa);this.z7=V.L0;this.J_a=!!V.tqb;this.YFb=!!V.iHa;O4L=22;break;case 22:this.YN=V.zza;O4L=21;break;case 60:this.bb=new E.Mia(this,this.Kb,this.H,this.Ioa.bind(this),J,this.Gm,this.K,this.Dh,this.X,this.MY.bind(this));Q={zza:this.zza,hn:this.hn,Co:this.Co,L0:this.L0};this.Pb=new F.NVa(this.H,this.bi,this.K,this.Ac.bind(this),this.X,Q,this.Mc.Bc,this.Kb,this.Dh,this.bb,W);O4L=57;break;case 55:this.X.addListener(function(ra){var H0S,p97;H0S=2;for(;H0S !== 1;){switch(H0S){case 2:try{p97=2;for(;p97 !== 1;){switch(p97){case 2:ka.Pb.Qlc.bind(ka.Pb)(ra);p97=1;break;}}}catch(R){var q9O="Hindsig";q9O+="ht: Error when ";q9O+="adding upda";q9O+="tePlaySegm";q9O+="ent Listener: ";R7xOY.e_n(6);ka.Kb.Ap(R7xOY.f4w(R,q9O));}H0S=1;break;}}});O4L=77;break;case 10:this.fY=W.fY;this.Pt=W.Pt;this.pz=qa.pz;this.Ug=new L.$Oa(this,this.H,this.Ac.bind(this),W);O4L=17;break;case 29:this.n7=-1;this.xoa=0;this.fk=new d.kf();this.Hp=new K.jVa(this,this.H,this.Ac.bind(this),Oa);this.Dh=new O.tLa(this,this.H,this.Ac.bind(this));O4L=41;break;case 38:O4L=(qa.mHa || qa.lHa) && this.Mc.wg?37:36;break;case 41:this.y$=new y.sLa(this,this.H,Oa);O4L=40;break;case 57:O4L=this.Pt?56:77;break;case 61:this.bi.WGa(this.K);O4L=60;break;}}}t_B=2;for(;t_B !== 94;){switch(t_B){case 2:Object.defineProperties(M.prototype,{addEventListener:{get:function(){var H2t;H2t=2;for(;H2t !== 1;){switch(H2t){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{removeEventListener:{get:function(){var E3m;E3m=2;for(;E3m !== 1;){switch(E3m){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{a7b:{get:function(){var Y8I;Y8I=2;for(;Y8I !== 1;){switch(Y8I){case 2:return this.Lg.Yc;break;case 4:return this.Lg.Yc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{mediaSourceId:{get:function(){var u3V;u3V=2;for(;u3V !== 1;){switch(u3V){case 2:return this.Lg?this.Lg.Lyc:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{xt:{get:function(){var I27;I27=2;for(;I27 !== 1;){switch(I27){case 2:return this.Ac(f.u.U);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Co:{get:function(){var X5I;X5I=2;for(;X5I !== 1;){switch(X5I){case 2:return this.Ac(f.u.J);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{attributes:{get:function(){var N1I;N1I=2;for(;N1I !== 1;){switch(N1I){case 2:return this.DXa;break;case 4:return this.DXa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Th:{get:function(){var r9F;r9F=2;for(;r9F !== 1;){switch(r9F){case 2:return this.fk;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{S0:{get:function(){var c3x;c3x=2;for(;c3x !== 1;){switch(c3x){case 2:return 0 <= this.n7?this.n7:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Vf:{get:function(){var m$r;m$r=2;for(;m$r !== 1;){switch(m$r){case 2:return this.ye[this.QV];break;}}},enumerable:!1,configurable:!0}});t_B=13;break;case 87:M.prototype.wab=function(H){var J59;J59=2;for(;J59 !== 1;){switch(J59){case 2:this.Tk && (this.Tk.p6b(H),this.L2a());J59=1;break;}}};M.prototype.rba=function(H){var d$M;d$M=2;for(;d$M !== 1;){switch(d$M){case 2:this.Tk && (this.Tk.o6b(H),this.L2a());d$M=1;break;}}};M.prototype.L2a=function(){var g5X,H;g5X=2;for(;g5X !== 4;){switch(g5X){case 1:var L_I="al";L_I+="l";L_I+="C";L_I+="omplet";L_I+="ed";H=this.K;this.Tk.lQ() || (this.Tk=void 0,H.BO || this.RD.ZA || this.f8(L_I));g5X=4;break;case 9:g5X=this.Tk?2:1;break;case 2:g5X=this.Tk?1:4;break;}}};M.prototype.qW=function(){var l2s,H,J,N,P,X,V,S,U;l2s=2;for(;l2s !== 7;){switch(l2s){case 4:this.Dh.Pl();U=Math.max(U,1);this.oE && clearTimeout(this.oE);l2s=8;break;case 2:(H=this,J=this.K,N=this.S0,P=this.ye[N],X=this.bb.od,V=this.X.fg() || 0,S=this.wB(N,V),U=J.tha);this.Mc.wg && void 0 !== P.WK && P.WK - V <= J.Kfb && this.Mc.wg.QI(!0,this.Bn.sessionId);this.X.getState() === c.Ma.Xc && ([f.u.J,f.u.U].forEach(function(ha){var U4i,xa,Aa,qa,Q,Oa,T,W;U4i=2;for(;U4i !== 35;){switch(U4i){case 23:H.FEb(xa,V);H.bb.Fcc();U4i=35;break;case 24:l.xa(Aa) || Aa == qa.zib || (qa.zib=Aa);U4i=23;break;case 4:xa=qa.Xa;qa.VO(V);U4i=8;break;case 8:(Aa=H.bb.xy(V,X,ha)) && !Aa.ud && (Aa=H.ci[ha].k4b);U4i=7;break;case 1:qa=X.fb(ha);U4i=5;break;case 2:U4i=H.Ac(ha)?1:35;break;case 16:H.YN && Aa.Sw != Oa.u4b && H.Kb.TDb(Aa.Sw);U4i=15;break;case 7:U4i=Aa?6:21;break;case 20:H.n7=W;Q=0 < W?W - 1:null;H.Kb.EDb(T,V,Aa.Sw,null !== Q?H.ye[Q].P.L:null,Q);U4i=17;break;case 15:Oa.u4b=Aa.Sw;T=Aa.Ta;T != Oa.Sya && (Oa.Sya=T,ha=H.ye[W].P.Gy(ha,T),W=H.wB(W,Aa.Nd),H.Kb.ODb(ha,Aa.Nd,W,ha.P.Ub));Aa=Aa.bitrate;U4i=24;break;case 5:U4i=qa?4:35;break;case 10:U4i=(H.bb.H8b(Aa,Aa.Sw),W > H.n7)?20:16;break;case 12:xa=Aa.Xa;U4i=11;break;case 21:var H_o="Unable to find request presenting at playe";H_o+="rPts";H_o+=":";qa.bc(H_o,V);U4i=23;break;case 17:S=H.wB(W,V);U4i=15;break;case 11:U4i=!H.Co || ha === f.u.J?10:15;break;case 6:xa=Aa.bg - V;xa < U && (U=xa);(Oa=H.Pb.Yy[ha],T=Aa.P,W=T.Ub);U4i=12;break;}}}),this.bb.Tu(V,S));l2s=4;break;case 8:this.oE=setTimeout(this.qW.bind(this),U);l2s=7;break;}}};M.prototype.I6=function(H){var J7S;J7S=2;for(;J7S !== 1;){switch(J7S){case 4:return this.Dh.I6(H);break;case 2:return this.Dh.I6(H);break;}}};M.prototype.Pl=function(){var I5Z;I5Z=2;for(;I5Z !== 1;){switch(I5Z){case 2:return this.Dh.Pl();break;case 4:return this.Dh.Pl();break;}}};M.prototype.wO=function(H,J){var P2B,P,N;P2B=2;for(;P2B !== 13;){switch(P2B){case 5:P=H.mediaType;H.abort();H.wd();H.fk && H.fk.clear();P2B=8;break;case 14:var D7e="abo";D7e+="rtRequest ";D7e+="w";D7e+="ith no requestMan";D7e+="agaer:";this.bc(D7e,H);P2B=13;break;case 8:N.o1(H);this.ci[P].o1(H);P2B=6;break;case 1:P2B=N?5:14;break;case 2:N=H.Xa;P2B=1;break;case 6:!0 === J && this.Dh.Pl();P2B=13;break;}}};M.prototype.uFb=function(H){var X_O,J,N;X_O=2;for(;X_O !== 5;){switch(X_O){case 2:var D_q="no ";D_q+="new";D_q+="AudioTrack set";(J=H.mediaType,N=this.Pb.ph[J]);l.xa(N.rgb)?H.bc(D_q):(this.ci[J].pause(),N.c3=!0,H=this.Vf.dw(f.u.U),N=this.Vf.P.getTrackById(N.rgb.trackId),this.Kb.tDb(H,N));X_O=5;break;}}};M.prototype.FEb=function(H,J){var U02,N;U02=2;for(;U02 !== 4;){switch(U02){case 2:N=this.ci[H.mediaType];H=this.bb.Y0(H.Ya,H.mediaType,J,this.Mc.T1 || 0,function(P){var A01;A01=2;for(;A01 !== 1;){switch(A01){case 2:N.o1(P);A01=1;break;}}});l.xa(H) || this.Dh.Pl();U02=4;break;}}};M.prototype.gCb=function(H){var X9Z,J,N,P;X9Z=2;for(;X9Z !== 8;){switch(X9Z){case 9:this.ye.forEach(function(X,V){var w9t,S;w9t=2;for(;w9t !== 5;){switch(w9t){case 2:S=X.P;S.Dba || 0 === V || S.aS([X.dw(f.u.U),X.dw(f.u.J)]);w9t=5;break;}}});X9Z=8;break;case 2:(J=H.mediaType,N=H.manifestIndex,P=H.streamId);H=this.bb.od.fb(J);J=this.ye[N].P.Gy(J,P);this.nFb(H,J);this.K=this.Z3a.CAb(J.qf,this.K);X9Z=9;break;}}};t_B=104;break;case 104:M.prototype.jCb=function(H){var W$J,J,N;W$J=2;for(;W$J !== 8;){switch(W$J){case 2:J=H.request;H=H.mediaType;N=J.Xa.Ya;N.m6b(H);W$J=3;break;case 3:J.cs && this.Kb.yDb(J);J.Um && this.Kb.MDb(H,J.P.Ub,N.G);W$J=8;break;}}};M.prototype.nFb=function(H,J){var D$p;D$p=2;for(;D$p !== 1;){switch(D$p){case 2:this.Pb.Yy[H.mediaType].DK={id:J.Ta,index:J.Fg,bitrate:J.bitrate,Za:J.Ib && J.Ib.confidence && J.Ib.Za?J.Ib.Za.ya:0,location:J.location};D$p=1;break;}}};M.prototype.Sxa=function(H){var g7O,J,N,P,X,V,S,U,ha,qa,xa;g7O=2;for(;g7O !== 11;){switch(g7O){case 2:(V={},S=this.ci,U=this.bb);g7O=1;break;case 7:V.vbuflmsec=U.my(ha,f.u.J);V.abuflmsec=U.my(ha,f.u.U);H && (V.a=null === qa || void 0 === qa?void 0:qa.Xa.ma.toJSON(),V.v=null === xa || void 0 === xa?void 0:xa.Xa.ma.toJSON());g7O=13;break;case 12:return V;break;case 5:(ha=U.od,qa=ha.Ae(f.u.U),xa=ha.Ae(f.u.J));V.vspts=null !== (J=null === xa || void 0 === xa?void 0:xa.Fc) && void 0 !== J?J:0;V.aspts=null !== (N=null === qa || void 0 === qa?void 0:qa.Fc) && void 0 !== N?N:0;V.vbuflbytes=null !== (P=null === xa || void 0 === xa?void 0:xa.ap.ha) && void 0 !== P?P:0;V.abuflbytes=null !== (X=null === qa || void 0 === qa?void 0:qa.ap.ha) && void 0 !== X?X:0;g7O=7;break;case 13:H && S && (H=S[f.u.J],S=S[f.u.U],V.atoappend=null === H || void 0 === H?void 0:H.hga(),V.vtoappend=null === S || void 0 === S?void 0:S.hga());g7O=12;break;case 1:g7O=!U.od.Uf?5:12;break;}}};M.prototype.u_b=function(H){var R4s,P,X,V,S,J,N;R4s=2;for(;R4s !== 8;){switch(R4s){case 5:(P=this.Pb.Yy[H],X=this.bb.bJ(J,H));P=P.DK?P.DK.bitrate:0;(V=N.Xa.RBa,S=this.bb.qg);return {type:H,availableMediaBuffer:p.default.Iq()[H] - X,completeBuffer:J.Rh(H),incompleteBuffer:V,playbackBitrate:N.zib,streamingBitrate:P,streamingTime:N.Fc + S,usedMediaBuffer:X,toappend:N.nnc};break;case 1:R4s=N?5:8;break;case 2:(J=this.bb.od,N=J.fb(H));R4s=1;break;}}};M.prototype.Bec=function(){var e20,H;e20=2;for(;e20 !== 5;){switch(e20){case 2:var M3x="reques";M3x+="tGarbageC";M3x+="ollect";M3x+="ion";H={type:M3x,time:p.default.time.fa()};(0,v.kb)(this,H.type,H);e20=5;break;}}};M.prototype.Ir=function(H,J,N,P,X,V,S){var x_3;x_3=2;for(;x_3 !== 5;){switch(x_3){case 2:var P2N="NFErr_MC_S";P2N+="tr";P2N+="eaming";P2N+="Fail";P2N+="ure";void 0 === S && (S=!1);this.T7 || (l.xa(N) && (N=P2N),this.T7=!0,this.Kb.QDb(N,H,P,X,V,void 0 !== J?J:this.S0,S));x_3=5;break;}}};M.prototype.BYa=function(){var I7X;I7X=2;for(;I7X !== 5;){switch(I7X){case 2:var Z5E="Network f";Z5E+="ailure";Z5E+="s reset!";this.bc(Z5E);this.Dh.Pl();I7X=5;break;}}};M.prototype.kCb=function(H,J){var j5E;j5E=2;for(;j5E !== 5;){switch(j5E){case 2:J=(0,n.l$a)(J);this.DXa[H.mediaType]=J;j5E=5;break;}}};Object.defineProperties(M.prototype,{UI:{set:function(H){var l4G;l4G=2;for(;l4G !== 1;){switch(l4G){case 2:this.Pb.UI=H;l4G=1;break;case 4:this.Pb.UI=H;l4G=6;break;}}},enumerable:!1,configurable:!0}});return M;break;case 13:Object.defineProperties(M.prototype,{Yw:{get:function(){var k12;k12=2;for(;k12 !== 1;){switch(k12){case 2:return this.Mc.Yw;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{hn:{get:function(){var e3q;e3q=2;for(;e3q !== 1;){switch(e3q){case 4:return this.UEb;break;case 2:return this.UEb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{zza:{get:function(){var o16;o16=2;for(;o16 !== 1;){switch(o16){case 2:return this.YN;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{L0:{get:function(){var i0$;i0$=2;for(;i0$ !== 1;){switch(i0$){case 2:return this.z7;break;}}},enumerable:!1,configurable:!0}});M.prototype.Ac=function(H){var M$9;M$9=2;for(;M$9 !== 1;){switch(M$9){case 2:return this.CFb[H];break;}}};M.prototype.MY=function(){var I5h;I5h=2;for(;I5h !== 1;){switch(I5h){case 2:return p.default.time.fa() - this.Mma;break;case 4:return p.default.time.fa() / this.Mma;break;}}};M.prototype.h$a=function(){var D3h;D3h=2;for(;D3h !== 1;){switch(D3h){case 2:return (this.ye || []).reduce(function(H,J){var y9p,N;y9p=2;for(;y9p !== 4;){switch(y9p){case 2:N=J.P;f.ng.forEach(function(P){var F98;F98=2;for(;F98 !== 1;){switch(F98){case 2:N.ku[P] > H[P] && (H[P]=N.ku[P]);F98=1;break;}}});return H;break;}}},[0,0]);break;}}};M.prototype.RQ=function(){var e50,H;e50=2;for(;e50 !== 4;){switch(e50){case 2:H=0;l.forEach(this.Vf.P.ba.audio_tracks,function(J){var Y5k;Y5k=2;for(;Y5k !== 1;){switch(Y5k){case 2:l.forEach(J.streams,function(N){var Q2_;Q2_=2;for(;Q2_ !== 1;){switch(Q2_){case 2:H=Math.max(H,N.bitrate);Q2_=1;break;}}});Y5k=1;break;}}});return H;break;}}};M.prototype.ki=function(H){var M$B;M$B=2;for(;M$B !== 1;){switch(M$B){case 2:return this.ye[H];break;}}};M.prototype.sYb=function(){var Z0O,H;Z0O=2;for(;Z0O !== 5;){switch(Z0O){case 2:H=this.ye[0];return H.P.$f.ug?this.ye[1]:H;break;}}};t_B=27;break;case 27:M.prototype.YP=function(){var v3H;v3H=2;for(;v3H !== 1;){switch(v3H){case 2:return this.ye.length;break;}}};M.prototype.Zxa=function(H,J){var c5R;c5R=2;for(;c5R !== 9;){switch(c5R){case 2:c5R=H === J?1:5;break;case 6:return +8;break;case 5:H=this.ye[H];J=this.ye[J];return H.P.$f.ug && J.P.$f.L_ || J.P.$f.ug && H.P.$f.L_;break;case 1:return !0;break;}}};M.prototype.lva=function(H){var j1c;j1c=2;for(;j1c !== 5;){switch(j1c){case 1:return {id:H.G.id,qg:H.qg,Nd:H.rCa,bg:H.bg,ue:H.cga,Oc:H.Oc};break;case 2:j1c=(H=this.bb.wi.children[H])?1:5;break;}}};M.prototype.rp=function(){var P5J,H;P5J=2;for(;P5J !== 5;){switch(P5J){case 2:H=this.bb.wi;return {id:H.G.id,qg:H.qg,Nd:H.rCa,bg:H.bg,ue:H.cga,Oc:H.Oc};break;}}};M.prototype.pha=function(H,J){var Q$1;Q$1=2;for(;Q$1 !== 1;){switch(Q$1){case 2:return this.bb.pha(H,J);break;}}};M.prototype.open=function(){var L0p,qa,S,H,J,N,P,X,V,U,ha;L0p=2;for(;L0p !== 33;){switch(L0p){case 15:ha.sourceBuffers.forEach(function(xa){var D6S,Aa,Oa;D6S=2;for(;D6S !== 13;){switch(D6S){case 5:var O5n="er";O5n+="r";O5n+="or";var R1g="r";R1g+="eques";R1g+="t";R1g+="Appende";R1g+="d";var s4Q="h";s4Q+="eaderAp";s4Q+="pe";s4Q+="n";s4Q+="ded";Oa=new D.MOa(xa,Aa,H.bb,H.K,Oa.H);xa.addListener(s4Q,H.gCb.bind(H));xa.addListener(R1g,H.jCb.bind(H));xa.addListener(O5n,function(T){var K1u;K1u=2;for(;K1u !== 1;){switch(K1u){case 2:var e6W="NFErr_MC_Streami";e6W+="ngFailu";e6W+="re";H.Ir(T.errorstr,void 0,e6W);K1u=1;break;}}});D6S=8;break;case 2:(Aa=xa.mediaType,Oa=H.Pb.ph[Aa]);xa=new g.Nia(Aa,ha,xa,J,!1,H.X,void 0,H.ki.bind(H));D6S=5;break;case 8:var S$p="manage";S$p+="rdebu";S$p+="g";S$p+="eve";S$p+="nt";var z6M="l";z6M+="ogd";z6M+="ata";xa.addListener(z6M,function(T){var R8Q;R8Q=2;for(;R8Q !== 1;){switch(R8Q){case 2:(0,v.kb)(H,T.type,T);R8Q=1;break;}}});J.mj && xa.addListener(S$p,function(T){var o84;o84=2;for(;o84 !== 1;){switch(o84){case 2:(0,v.kb)(H,T.type,T);o84=1;break;}}});H.ci[Aa]=xa;H.Ux[Aa]=Oa;D6S=13;break;}}});this.xA=new B.zTa(this.Ux,this.kO.bind(this),this.X.fg.bind(this.X));this.hn && this.Kb.rDb();N=this.h$a();this.Kb.yZa(N);qa=function(){var s1G;s1G=2;for(;s1G !== 5;){switch(s1G){case 2:var N6c="shutdown dete";N6c+="cted before ";N6c+="sta";N6c+="rtR";N6c+="equests";H.Kb.JDb();H.Oo()?H.bc(N6c):H.wFb();s1G=5;break;}}};J.XQb?setTimeout(function(){var R_I;R_I=2;for(;R_I !== 1;){switch(R_I){case 2:H.NXa(P).then(qa);R_I=1;break;case 4:H.NXa(P).then(qa);R_I=9;break;}}},0):this.NXa(P).then(function(){var g_P;g_P=2;for(;g_P !== 1;){switch(g_P){case 2:setTimeout(qa,0);g_P=1;break;}}});L0p=21;break;case 10:L0p=1 === ha.readyState?20:34;break;case 3:this.Co && (X.push(f.u.J),V.push(f.u.J));this.xt && (X.push(f.u.U),V.push(f.u.U));this.y$.wCb();S=J.BO;L0p=6;break;case 34:var a2h="NFErr";a2h+="_MC_StreamingInitFa";a2h+="ilure";var J_S="e";J_S+="xception i";J_S+="n init";var F2T="E";F2T+="r";F2T+="r";F2T+="o";F2T+="r:";(this.ik(F2T,ha.error),this.Ir(J_S,void 0,a2h));L0p=33;break;case 5:var B1f="NFErr_MC";B1f+="_StreamingI";B1f+="nitFailu";B1f+="re";var e_G="s";e_G+="tartPts mus";e_G+="t be a positiv";e_G+="e number, no";e_G+="t ";this.Ir(e_G + this.Gm,void 0,B1f);L0p=33;break;case 16:var U4T="E";U4T+="r";U4T+="ror";U4T+=":";throw (this.ik(U4T,ha.error),ha.error);L0p=15;break;case 2:H=this;L0p=1;break;case 20:var N3N="crea";N3N+="teMediaSou";N3N+="r";N3N+="ceEn";N3N+="d";this.Kb.Dn(N3N);ha.Yc || (ha.Yc=q.Yc);this.Lg=ha;L0p=17;break;case 1:L0p=!l.Pa(this.Gm) || 0 > this.Gm?5:4;break;case 4:var c9C="h";c9C+="e";c9C+="ad";c9C+="e";c9C+="rs";(J=this.K,N=this.Vf.P,P=N.L,X=[],V=[c9C]);L0p=3;break;case 21:var w1E="st";w1E+="a";w1E+="r";w1E+="t";w1E+="play";var r37="logd";r37+="at";r37+="a";N={type:r37,target:w1E,fields:{audiogapconfig:J.bR,audiogapdpi:this.Lg.Yc && this.Lg.Yc.bR,aseApiVersion:this.G8}};this.emit(N.type,N);L0p=33;break;case 17:L0p=!ha.u8(X)?16:15;break;case 6:this.Mc.wg && this.Mc.wg.QI(S,this.Bn.sessionId);U=this.y$.gBb(V,N);V.forEach(function(xa,Aa){var f_y;f_y=2;for(;f_y !== 1;){switch(f_y){case 2:var t24="h";t24+="e";t24+="a";t24+="ders";t24 === xa?H.CV=U[Aa]:H.Pb.ph[xa].gf=U[Aa];f_y=1;break;}}});L0p=12;break;case 12:var g9V="cr";g9V+="eateMediaSourceS";g9V+="tar";g9V+="t";this.Kb.Dn(g9V);ha=new q(this.X.fJ);L0p=10;break;}}};Object.defineProperties(M.prototype,{G8:{get:function(){var n$G;n$G=2;for(;n$G !== 1;){switch(n$G){case 4:return "";break;case 2:var Z$o="1";Z$o+=".";Z$o+="0";return Z$o;break;}}},enumerable:!1,configurable:!0}});M.prototype.ewa=function(){};M.prototype.flush=function(){var I87;I87=2;for(;I87 !== 1;){switch(I87){case 2:this.Ug.flush();I87=1;break;}}};M.prototype.paused=function(){var S8n;S8n=2;for(;S8n !== 1;){switch(S8n){case 2:this.X.paused();S8n=1;break;}}};t_B=32;break;case 32:M.prototype.Bib=function(){};M.prototype.close=function(){var X5z;X5z=2;for(;X5z !== 5;){switch(X5z){case 2:this.ye.forEach(function(H){var C$S;C$S=2;for(;C$S !== 1;){switch(C$S){case 2:H.close();C$S=1;break;case 4:H.close();C$S=2;break;}}});this.Ug.close();X5z=5;break;}}};M.prototype.gec=function(){var S3w;S3w=2;for(;S3w !== 1;){switch(S3w){case 2:this.Mc.NEb(this);S3w=1;break;case 4:this.Mc.NEb(this);S3w=9;break;}}};M.prototype.wd=function(){var r3h,H;r3h=2;for(;r3h !== 20;){switch(r3h){case 9:null === (H=this.xA) || void 0 === H?void 0:H.reset();this.Ux.forEach(function(J){var e2z;e2z=2;for(;e2z !== 1;){switch(e2z){case 2:J.reset();e2z=1;break;case 4:J.reset();e2z=3;break;}}});r3h=7;break;case 2:this.bi.t9b();this.C6();this.bb.Wa();this.y$.uBb();r3h=9;break;case 12:H=this.Lg;this.Lg=void 0;r3h=10;break;case 7:this.X.Qd(c.Ma.Am);this.ye.forEach(function(J){var m4n;m4n=2;for(;m4n !== 1;){switch(m4n){case 2:J.wd();m4n=1;break;case 4:J.wd();m4n=8;break;}}});this.ye=[];this.fk.clear();r3h=12;break;case 10:var B6l="Error ";B6l+="on MediaSou";B6l+="rce destroy: ";l.xa(H) || H.Mt() || this.bc(B6l,H.error);r3h=20;break;}}};M.prototype.suspend=function(){var u2n;u2n=2;for(;u2n !== 1;){switch(u2n){case 2:this.Ug.suspend();u2n=1;break;}}};M.prototype.resume=function(){var G6u;G6u=2;for(;G6u !== 1;){switch(G6u){case 2:this.Ug.resume();G6u=1;break;}}};M.prototype.Oo=function(){var j3X;j3X=2;for(;j3X !== 1;){switch(j3X){case 2:return this.Ug.Oo();break;case 4:return this.Ug.Oo();break;}}};M.prototype.pFb=function(){var n3W,H;n3W=2;for(;n3W !== 8;){switch(n3W){case 2:H=this.K;this.oE && clearTimeout(this.oE);this.oE=setTimeout(this.qW.bind(this),H.tha);this.A6 || (this.A6=setInterval(this.Kb.wZa.bind(this.Kb),H.cX));n3W=3;break;case 3:this.U7 || (this.U7=setInterval(this.Kb.SDb.bind(this.Kb),H.YFa));this.hn && !this.x6 && (this.x6=setInterval(this.Kb.vZa.bind(this.Kb),H.O8));n3W=8;break;}}};M.prototype.C6=function(){var S7K;S7K=2;for(;S7K !== 7;){switch(S7K){case 2:this.oE && (clearTimeout(this.oE),this.oE=void 0);this.A6 && (clearInterval(this.A6),this.A6=void 0);this.U7 && (clearInterval(this.U7),this.U7=void 0);this.x6 && (clearInterval(this.x6),this.x6=void 0);S7K=3;break;case 3:this.zN && (clearTimeout(this.zN),this.zN=void 0);this.jna && (clearTimeout(this.jna),this.jna=void 0);this.Dh.C6();S7K=7;break;}}};M.prototype.play=function(){var Z15;Z15=2;for(;Z15 !== 1;){switch(Z15){case 2:this.Ug.play();Z15=1;break;}}};t_B=39;break;case 39:M.prototype.stop=function(){var O29;O29=2;for(;O29 !== 1;){switch(O29){case 2:this.Ug.stop();O29=1;break;}}};M.prototype.DL=function(H,J){var f3N;f3N=2;for(;f3N !== 1;){switch(f3N){case 2:return this.Hp.DL(H,J);break;}}};M.prototype.seek=function(H,J){var G$s;G$s=2;for(;G$s !== 1;){switch(G$s){case 2:return this.Hp.seek(H,J);break;}}};M.prototype.sn=function(H){var L1M,l8M,V,J,N,P,X;L1M=2;for(;L1M !== 18;){switch(L1M){case 11:try{l8M=2;for(;l8M !== 1;){switch(l8M){case 2:this.Pta(c.Ma.ce);l8M=1;break;}}}catch(S){var Z84="H";Z84+="indsight: Error when evalu";Z84+="ati";Z84+="ng QoE at Buffering: ";R7xOY.h1T(6);this.Kb.Ap(R7xOY.f4w(S,Z84));}L1M=10;break;case 12:L1M=this.Pt?11:10;break;case 14:this.N7(2);this.Dh.Pl();L1M=12;break;case 3:var S8D="underf";S8D+="lo";S8D+="w";this.xoa+=1;V=this.bb.od;f.ng.forEach(function(S){var F2P,qa,xa,U,ha;F2P=2;for(;F2P !== 6;){switch(F2P){case 1:F2P=ha?5:6;break;case 4:(qa=J.ci[S],xa=J.bb.bJ(V,S));F2P=3;break;case 9:N.mj && J.Kb.io(qa);ha.Ara();null === (U=ha.Wh) || void 0 === U?void 0:U.uec();F2P=6;break;case 3:var Y$j=", t";Y$j+="oA";Y$j+="ppend";Y$j+=": ";var Z6D=",";Z6D+=" fra";Z6D+="gments:";Z6D+=" ";var d83=", completeSt";d83+="r";d83+="eamingP";d83+="ts: ";var u3A=", st";u3A+="reaming";u3A+="Pts:";u3A+=" ";var C1Q=", ";C1Q+="partia";C1Q+="ls";C1Q+=": ";var F4G=", completedBytes";F4G+=":";F4G+=" ";var p_v=", comp";p_v+="l";p_v+="e";p_v+="tedMs";p_v+=": ";var r6n=", m";r6n+="ediaType:";r6n+=" ";var y57="u";y57+="nderflow";y57+=": ";qa=y57 + H + r6n + S + p_v + ha.ZO + F4G + xa + C1Q + ha.Xa.jG + u3A + ha.Fc + d83 + ha.Gt + Z6D + JSON.stringify(ha.Xa.ma) + Y$j + (qa && qa.hga());F2P=9;break;case 2:ha=V.Ae(S);F2P=1;break;case 5:F2P=N.mj?4:9;break;}}});this.Vf.P.si();this.emit(S8D);L1M=14;break;case 10:P=this.Mc.Bc.get();P=P.confidence?P.Za.ya:0;X > N.BUb && P > N.AUb && this.Ioa();L1M=18;break;case 2:var v5O="br";v5O+="anchOffset";v5O+=":";var h9c="e";h9c+="ntry.";h9c+="m";h9c+="anifestOffset:";var z1D="content";z1D+="Pts";z1D+=":";var J9$="unde";J9$+="rflow: going to B";J9$+="UFFERING at playe";J9$+="r";J9$+=" pts:";(J=this,N=this.K,P=this.wB(this.S0,H));this.bc(J9$,H,z1D,P,h9c,this.Vf.Sy,v5O,this.bb.qg);X=N.xw;this.ci.forEach(function(S){var t_p;t_p=2;for(;t_p !== 1;){switch(t_p){case 2:X=Math.max(0,Math.min(X,S.Lva - H));t_p=1;break;}}});L1M=3;break;}}};M.prototype.uo=function(H){var J6B;J6B=2;for(;J6B !== 1;){switch(J6B){case 2:return this.Hp.uo(H);break;}}};M.prototype.oy=function(H,J,N){var c_Z;c_Z=2;for(;c_Z !== 1;){switch(c_Z){case 2:return this.Hp.oy(H,J,N);break;}}};M.prototype.dZa=function(H){var J$h,J;J$h=2;for(;J$h !== 3;){switch(J$h){case 4:this.Kb.yZa(J.P.ku);J$h=3;break;case 2:this.QV=H;J=this.ye[H];this.Kb.GDb(H,J);J$h=4;break;}}};M.prototype.EW=function(H,J,N){var R85,U,ha,qa,V,S,P,X;R85=2;for(;R85 !== 34;){switch(R85){case 7:var y55="addManifest in fastplay but not";y55+=" drm manifest, ";y55+="leavi";y55+="ng space for it";J.L0 && (this.z7=!0);V=this.ye.length;J.replace && 1 !== V?V=1:this.Vf.P.$f.ug && !J.replace && 1 === V && (this.bc(y55),V=this.ye[0].clone(),this.ye.push(V),V=this.ye.length);S=J.ca || 0;U=J.Sa;H=h.Cka.create({Ub:V,ba:H,Xq:N,Tlb:J.aH || [this.Vf.Haa(f.u.U),this.Vf.Haa(f.u.J)],ug:!1,xcb:!!J.replace,Tl:!!J.Tl,ag:(0,f.oAa)(!!J.bqa,!!J.W2),ca:S,Sa:U,Kb:this.Kb,Wt:this.BYa.bind(this),oc:this,config:this.K,H:this.H,Dh:this.Dh,Hp:this.Hp,wg:this.J_a?this.Mc.wg:void 0,AF:this.AF});ha=H.P;R85=20;break;case 25:H.p2a();J.replace || this.bb.jHb(ha,S,U);J=this.Pb.Yy[f.u.U].DK;R85=22;break;case 5:var t2G="addManifest: pipelines alr";t2G+="ea";t2G+="dy shutdown";this.bc(t2G);R85=34;break;case 17:var s$0="bo";s$0+="o";s$0+="lean";J.replace && N.forEach(function(xa,Aa){var X0F,T,Oa;X0F=2;for(;X0F !== 3;){switch(X0F){case 5:T=P.ye[0].P;Object.keys(Oa).forEach(function(W){var G1z,Q;G1z=2;for(;G1z !== 5;){switch(G1z){case 2:Q=T.Gy(Aa,W);Q && Q.ve && (Oa[W].P9(Q),W=ha.ku,W[Aa] > qa[Aa] && (qa[Aa]=W[Aa]));G1z=5;break;}}});X0F=3;break;case 2:Oa=ha.RB(Aa);X0F=1;break;case 8:Oa=ha.RB(Aa);X0F=5;break;case 1:X0F=Oa?5:3;break;}}});N.forEach(function(xa,Aa){var I6S,Oa;I6S=2;for(;I6S !== 5;){switch(I6S){case 2:Oa=ha.RB(Aa);Oa && Object.keys(Oa).forEach(function(T){var F2B;F2B=2;for(;F2B !== 1;){switch(F2B){case 2:Oa[T].Ppb(p.default.Iq()[Aa],ha.Ly()?X.Yeb:0);F2B=1;break;}}});I6S=5;break;}}});H.LW=s$0 === typeof J.dJb?J.dJb:!0;this.ye[V] && this.ye[V].wd();this.ye[V]=H;R85=25;break;case 20:var m9g="video_t";m9g+="ra";m9g+="c";m9g+="ks";var G8C="a";G8C+="ud";G8C+="io_tracks";(J.BJb || this.IXa) && this.Pb.Zw(J.BJb || this.IXa,ha.N);N=[G8C,m9g];qa=this.h$a();R85=17;break;case 22:var s$X=",";s$X+=" ";var P25=") last";P25+="Str";P25+="eamAppended: (";var A0Q=",";A0Q+=" ";var g8M=" st";g8M+="reamCoun";g8M+="t";g8M+=": ";g8M+="(";var b6u=" play";b6u+="erStat";b6u+="e: ";var X5B="addMa";X5B+="nif";X5B+="es";X5B+="t, ";X5B+="currentPts: ";N=this.Pb.Yy[f.u.J].DK;X.mj && this.Kb.io(X5B + this.X.fg() + b6u + this.X.getState() + g8M + H.dw(f.u.U).Rc.length + A0Q + H.dw(f.u.J).Rc.length + P25 + J + s$X + N + ")");this.xt && l.xa(J) || this.Co && l.xa(N) || (H.P.aS([H.dw(f.u.U),H.dw(f.u.J)]),this.e8());R85=34;break;case 4:J || (J={});(V=this.bb.od.Ae(f.u.U),S=this.bb.od.Ae(f.u.J));R85=9;break;case 1:R85=this.Oo()?5:4;break;case 9:R85=!J.hwc && (this.xt && V.Vs || this.Co && S.Vs)?8:7;break;case 2:(P=this,X=this.K);R85=1;break;case 8:var q1s="add";q1s+="Manifest ignored";q1s+=", pipelines already";q1s+=" set ";q1s+="EOS:";this.bc(q1s,V.Vs,S.Vs);R85=34;break;}}};M.prototype.m8=function(H){var z4_;z4_=2;for(;z4_ !== 1;){switch(z4_){case 2:return this.Hp.m8(H);break;}}};M.prototype.BJ=function(H){var q__,J,N,P,X,V;q__=2;for(;q__ !== 7;){switch(q__){case 2:P=this.K;q__=1;break;case 1:q__=!this.Oo()?5:7;break;case 5:var f9Y=" r";f9Y+="eadySt";f9Y+="ate";f9Y+=": ";var C_S=" fo";C_S+="r m";C_S+="o";C_S+="vi";C_S+="eId: ";var Z4i=",";Z4i+=" ";var u8B="drmRead";u8B+="y at streaming pt";u8B+="s: ";l.xa(J) && (J=!0);(X=this.bb.od.Ae(f.u.U),V=this.bb.od.Ae(f.u.J));P.mj && this.Kb.io(u8B + (X?X.Fc:null) + Z4i + (V?V.Fc:null) + C_S + H + f9Y + J);q__=9;break;case 9:var E7u="drm";E7u+="Rea";E7u+="dy";R7xOY.h1T(6);this.X.nga(R7xOY.p3p("",H),J);J && (this.ci.forEach(function(S){var i1y;i1y=2;for(;i1y !== 5;){switch(i1y){case 2:P.kaa && S.d8a();S.BJ();i1y=5;break;}}}),P.Mha && this.F7(),this.Vf.P.$f.ug && this.d8(this.Hp.cE?this.Hp.cE.Ub:this.QV + 1),P.BO || (null === (N=this.Tk) || void 0 === N?0:N.lQ()) || this.RD.ZA || this.f8(E7u),this.Hp.rna());q__=7;break;}}};t_B=48;break;case 48:M.prototype.Rwa=function(){var h$o;h$o=2;for(;h$o !== 1;){switch(h$o){case 4:return this.X.rs(this.Vf.P);break;case 2:return this.X.rs(this.Vf.P);break;}}};M.prototype.OXa=function(H){var q8c,J,N,P;q8c=2;for(;q8c !== 11;){switch(q8c){case 1:return !1;break;case 8:q8c=!(H === this.QV + 1 && N.$f.replace || J && P) || !this.X.rs(N)?7:6;break;case 6:H=N.oj[f.u.U];J=N.oj[f.u.J];J=!this.Co || J && J.stream.ve;return (!this.xt || H && H.stream.ve) && J?!0:!1;break;case 2:q8c=H >= this.ye.length?1:5;break;case 5:(J=this.bb.od.Ae(f.u.U),N=this.bb.od.Ae(f.u.J));J=!J || J.cj;P=!N || N.cj;q8c=9;break;case 9:N=this.ye[H].P;q8c=8;break;case 7:return !1;break;}}};M.prototype.e8=function(){var L58;L58=2;for(;L58 !== 1;){switch(L58){case 2:this.d8(this.QV + 1);L58=1;break;}}};M.prototype.d8=function(H){var i8o,J;i8o=2;for(;i8o !== 6;){switch(i8o){case 5:J=this.ye[H];i8o=4;break;case 1:return !1;break;case 9:this.DFb(H);this.Dh.Pl();return !0;break;case 4:i8o=J.yUb || !J.P.$f.replace?3:9;break;case 3:return !1;break;case 2:i8o=!this.OXa(H)?1:5;break;}}};M.prototype.DFb=function(H){var u7o,J,N,P,X,V,S;u7o=2;for(;u7o !== 20;){switch(u7o){case 2:var t2E=",";t2E+=" ";var X0f=",";X0f+=" stre";X0f+="amingPts: ";var D5n="swit";D5n+="chManifest ";D5n+="manifestIndex: ";(J=this.ye[H],N=this.K,P=this.bb.od,X=P.fb(f.u.U));X=X?X.Fc:void 0;V=P.fb(f.u.J);V=V?V.Fc:void 0;N.mj && this.Kb.io(D5n + H + X0f + X + t2E + V);N=this.Vf;X=N.P.$f.ug;u7o=7;break;case 11:this.Hp.rna();this.Dh.Pl();u7o=20;break;case 7:S=[];[f.u.J,f.u.U].forEach(function(U){var G8q;G8q=2;for(;G8q !== 1;){switch(G8q){case 2:J.P.Ac(U) && (S[U]=J.dw(U));G8q=1;break;}}});X?this.bb.kec(N.P,J.P,S):P.Lmb(J.P,S);u7o=13;break;case 13:this.dZa(H);J.VAa();u7o=11;break;}}};M.prototype.jGa=function(H){var S8h,J,V,P,X,N;S8h=2;for(;S8h !== 35;){switch(S8h){case 19:H=H.rq;X=this.Vf.P.getTrackById(H);S8h=17;break;case 10:S8h=X < J.wda?20:19;break;case 9:S8h=this.X.Zf()?8:7;break;case 1:S8h=!this.xt?5:4;break;case 8:var d8l="swi";d8l+="tchTracks re";d8l+="jected, b";d8l+="uffering";return (this.bc(d8l),!1);break;case 21:return !0;break;case 2:J=this.K;S8h=1;break;case 4:S8h=this.Pb.UI?3:9;break;case 20:var B0N="sw";B0N+="it";B0N+="chTracks";B0N+=" rejected, bufferLevelMs";return (this.bc(B0N,X,"<",J.wda),!1);break;case 16:var r2Z="switchTr";r2Z+="acks ";r2Z+="can't f";r2Z+="ind trac";r2Z+="kId:";return (this.bc(r2Z,H),!1);break;case 15:V=this.Vf.dw(f.u.U).trackId;S8h=27;break;case 12:S8h=this.X.getState() === c.Ma.Xc?11:19;break;case 6:S8h=N.c3?14:13;break;case 27:S8h=V === X.trackId?26:25;break;case 5:var F$o="switchTra";F$o+="cks rejected, audio di";F$o+="sa";F$o+="bled";return (this.bc(F$o),!1);break;case 17:S8h=!X?16:15;break;case 26:return !1;break;case 14:var T8X="switchTracks rejected, previous switch st";T8X+="ill waiting to s";T8X+="tart";return (this.bc(T8X),!1);break;case 3:var O5M="switchTrac";O5M+="ks rejected, pre";O5M+="vious switch still in progress: ";return (this.bc(O5M + JSON.stringify(this.Pb.UI)),!1);break;case 13:P=this.bb.od;S8h=12;break;case 11:X=this.bb.my(P,f.u.J);S8h=10;break;case 25:var v2f=" ";v2f+="to";v2f+=": ";var Z83="swit";Z83+="ch";Z83+="Tracks current: ";J.mj && this.Kb.io(Z83 + V + v2f + X.trackId);N.rgb={trackId:H};J=P.fb(f.u.U);this.uFb(J);S8h=21;break;case 7:N=this.Pb.ph[f.u.U];S8h=6;break;}}};M.prototype.Zw=function(H,J){var L7z;L7z=2;for(;L7z !== 1;){switch(L7z){case 2:this.Pb.Zw(H,J);L7z=1;break;}}};M.prototype.xy=function(H,J,N){var j92;j92=2;for(;j92 !== 1;){switch(j92){case 2:return this.bb.xy(H,this.bb.wi,J,N);break;}}};M.prototype.hi=function(H){var g6O;g6O=2;for(;g6O !== 1;){switch(g6O){case 4:return this.Hp.hi(H);break;case 2:return this.Hp.hi(H);break;}}};M.prototype.Pta=function(H,J){var O54,N,f6H,P;O54=2;for(;O54 !== 6;){switch(O54){case 3:O54=J?9:8;break;case 9:N.RDa();O54=6;break;case 2:N=this.Pb;H=N.jua(H,J);O54=5;break;case 8:J=P.lXb();try{f6H=2;for(;f6H !== 1;){switch(f6H){case 2:this.Kb.BDb(J);f6H=1;break;case 4:this.Kb.BDb(J);f6H=8;break;}}}catch(X){var o9v="]";o9v+=" ";o9v+="[";var H1_="e";H1_+="x";H1_+="ce";H1_+="ption: [";this.H.error(H1_.concat(X.message,o9v).concat(X.Myc,"]"));}O54=6;break;case 5:P=this.bi.bDa;H && !H.DO && P.Ota(H);O54=3;break;}}};t_B=59;break;case 59:M.prototype.t2a=function(H,J){var J92;J92=2;for(;J92 !== 5;){switch(J92){case 2:R7xOY.e_n(8);(0,t.assert)(R7xOY.f4w(0,J));return this.ye[J].HKb(f.u.J,H);break;}}};M.prototype.wB=function(H,J){var c8D,N,P;c8D=2;for(;c8D !== 7;){switch(c8D){case 8:(N=this.bb.lua(H),0 < N.length && (N=N[0],P=N.qg));c8D=3;break;case 2:void 0 === H && (H=this.S0);N=this.bb.fVb(J,H);c8D=5;break;case 5:c8D=N?4:8;break;case 4:P=N.qg;c8D=3;break;case 3:l.Pa(P) || (P=this.ye[H].Sy);R7xOY.e_n(0);return R7xOY.p3p(J,P);break;}}};M.prototype.yX=function(H,J){var d9p,N,P;d9p=2;for(;d9p !== 7;){switch(d9p){case 2:void 0 === H && (H=this.S0);N=this.bb.eVb(J,H);d9p=5;break;case 8:(N=this.bb.lua(H),0 < N.length && (N=N[0],P=N.qg));d9p=3;break;case 5:d9p=N?4:8;break;case 3:l.Pa(P) || (P=this.ye[H].Sy);R7xOY.h1T(6);return R7xOY.p3p(P,J);break;case 4:P=N.qg;d9p=3;break;}}};M.prototype.kO=function(){var y4g,H;y4g=2;for(;y4g !== 4;){switch(y4g){case 1:y4g=H || this.Pb.UI?5:4;break;case 2:H=this.X.Zf();y4g=1;break;case 5:(H && this.Kb.foa(),this.qW(),this.X.Qd(c.Ma.Xc),this.Dh.Pl());y4g=4;break;case 9:H=this.X.Zf();y4g=8;break;}}};M.prototype.Ioa=function(){var U_E,H,J;U_E=2;for(;U_E !== 3;){switch(U_E){case 2:(H=this,J=this.X.Zf());this.bb.od.kga(J,function(N){var b3F;b3F=2;for(;b3F !== 1;){switch(b3F){case 2:return H.ci[N]?H.ci[N].hga():"";break;}}});U_E=5;break;case 5:this.zN && (clearTimeout(this.zN),this.zN=void 0);this.xA.r6b();U_E=3;break;}}};M.prototype.l_a=function(H){var w2S,r6g,J;w2S=2;for(;w2S !== 7;){switch(w2S){case 3:this.Pb.zA();w2S=9;break;case 9:w2S=this.Pt && H.mediaType === f.u.J?8:7;break;case 4:H.VO(J);w2S=3;break;case 8:try{r6g=2;for(;r6g !== 1;){switch(r6g){case 2:this.Pta(c.Ma.OD,{Sa:H.Oc});r6g=1;break;}}}catch(N){var V1W="Hind";V1W+="sight: Error eva";V1W+="luat";V1W+="ing QoE at endOfStream: ";R7xOY.h1T(6);this.Kb.Ap(R7xOY.p3p(N,V1W));}w2S=7;break;case 2:H.cj=!0;H.Vs=!1;J=this.X.fg() || 0;w2S=4;break;}}};M.prototype.QEb=function(){var f_7,H;f_7=2;for(;f_7 !== 5;){switch(f_7){case 2:H=this.Mc.Bc;H && (H=H.get()) && H.avtp && this.Yw.NGb({avtp:H.avtp.ya});f_7=5;break;}}};M.prototype.wFb=function(){var m0C,H,J,N;m0C=2;for(;m0C !== 4;){switch(m0C){case 2:var z2y="startup, playerS";z2y+="tate no lo";z2y+="ng";z2y+="er STARTI";z2y+="NG:";var A1B="failed t";A1B+="o start audio pipe";A1B+="line";var Y8D="failed to ";Y8D+="start video pip";Y8D+="eline";this.X.Qd(c.Ma.ai);(H=this.bb.od,J=H.Ae(f.u.U),N=H.Ae(f.u.J));this.Co && !this.r_a(N)?this.bc(Y8D):this.xt && !this.r_a(J)?this.bc(A1B):(this.IZa=!0,this.ye[0].P.Dba=!0,J=this.Pb.ph[f.u.J],N=this.Pb.ph[f.u.U],(J && 0 < J.Mw || N && 0 < N.Mw) && this.Kb.zDb(String(H.P.L),N?N.Mw:0,J?J.Mw:0,N?N.M0:0,J?J.M0:0),this.X.Pcb()?(this.N7(0),this.xt && (H=this.Vf.Haa(f.u.U),J=this.Vf.dw(f.u.U).trackId,this.Kb.CDb(H,J))):this.bc(z2y,this.X.getState()));m0C=4;break;}}};M.prototype.r_a=function(H){var p3Q,J,N;p3Q=2;for(;p3Q !== 14;){switch(p3Q){case 2:(J=H.mediaType,N=this.Pb.c_b(H));p3Q=1;break;case 9:return !0;break;case 3:p3Q=H.gs()?9:8;break;case 1:p3Q=l.xa(N)?5:4;break;case 5:var o6Q="NFErr_MC_St";o6Q+="reami";o6Q+="ngInitFailure";var b4l="startPi";b4l+="p";b4l+="eline failed";return (this.Oo() || this.Ir(b4l,H.Ya.P.Ub,o6Q),!1);break;case 8:N=this.Vf.P;H.P.p4a(H,{offset:0,YE:!N.$f.ug && !N.Tl && J === f.u.J,yy:!this.Pb.ph[J].FVb});return !0;break;case 4:H=H.track.Rc[N];p3Q=3;break;}}};M.prototype.N7=function(H,J){var e$t,N,P,X,V,S;e$t=2;for(;e$t !== 19;){switch(e$t){case 7:var P70="st";P70+="artBu";P70+="ffering";this.emit(P70);f.ng.forEach(function(U){var m7A;m7A=2;for(;m7A !== 5;){switch(m7A){case 2:m7A=(U=N.bb.od.Ae(U))?1:5;break;case 1:(U.Dqa=0,U.seeking=0 === H || 1 === H,U.Ara());m7A=5;break;}}});this.Mma=p.default.time.fa();X.Lm=V.Lm=this.Mma;0 === H && (!this.Co || 0 < V.Mw) && (!this.xt || 0 < X.Mw) && this.Pb.zA();e$t=11;break;case 4:this.X.Qd(2 === H?c.Ma.bh:c.Ma.ce);this.Kb.wDb(J);this.xA.reset();e$t=8;break;case 8:this.Vf.P.lBa();e$t=7;break;case 11:P.jY && (this.jna=setTimeout(function(){var I14;I14=2;for(;I14 !== 1;){switch(I14){case 2:N.QEb();I14=1;break;case 4:N.QEb();I14=0;break;}}},P.tta));this.X.Zf() && (this.zN=setTimeout(function(){var E2y;E2y=2;for(;E2y !== 1;){switch(E2y){case 2:N.Pb.zA();E2y=1;break;}}},P.HC));this.Dh.Pl();e$t=19;break;case 2:(N=this,P=this.K,X=this.Pb.ph[f.u.U] || ({}),V=this.Pb.ph[f.u.J] || ({}),S=this.Pb.bD[f.u.J] || ({}));(this.Pb.bD[f.u.U] || ({})).gX=void 0;S.gX=void 0;e$t=4;break;}}};t_B=72;break;case 72:M.prototype.f8=function(H){var J2n,J;J2n=2;for(;J2n !== 3;){switch(J2n){case 2:var q1D="Adopt";q1D+="ingD";q1D+="ata still h";q1D+="as lock:";var i0y="wip";i0y+="eHeaderCach";i0y+="e:";R7xOY.e_n(6);H=R7xOY.f4w(H,i0y);this.RD.ZA && this.Ll(q1D + H);J=this.K;J.Pda || (J.mj && this.Kb.io(H),this.Mc.t9(),this.Tk && (this.Tk=void 0));J2n=3;break;}}};M.prototype.NXa=function(H){var P1g,N,P,X,V;function J(S,U){var K6s,Aa,Oa,T,W,ha,qa,xa;K6s=2;for(;K6s !== 10;){switch(K6s){case 9:W.zy=U.zy;K6s=8;break;case 5:(Aa=qa.Ta,Oa=qa.header.stream,T=N.Pb.ph[ha],W=N.Pb.bD[ha]);l.xa(U.BF) || N.bi.smb(U.BF,U.Lq,U.Mq);W.$B=U.$B;K6s=9;break;case 14:var B6p="ad";B6p+="optPipeline no header";B6p+=" for st";B6p+="ream";B6p+="Id:";return (S.Ll(B6p,Aa),xa);break;case 13:U=N.Vf.P;K6s=12;break;case 1:K6s=qa?5:11;break;case 8:K6s=!S.Omc(Aa)?7:6;break;case 7:return xa;break;case 11:return xa;break;case 12:U.r8(qa.header,!U.$f.ug && !U.Tl && ha === f.u.J,!0) && (void 0 !== S.eL && S.rS(S.eL),xa=U.gs(ha,Aa).stream.ma.np(S.Fc,void 0,!0),U=Oa.Zl(xa),Oa=U.ca,(U=U.tua(S.Fc)) && 0 < U.Ce && (Oa=U.Ce),S.Fc !== Oa && (S.LL(Oa,xa),N.Foa(ha,Oa)),xa=N.vAb(S,qa.data).then(function(){var n8D;n8D=2;for(;n8D !== 1;){switch(n8D){case 2:return Aa;break;}}}),T.FVb=!0,S=N.bi,qa=qa.header.bitrate,ha === f.u.U?S.XC(qa):S.NL(qa));K6s=11;break;case 2:(ha=S.mediaType,qa=U[ha],xa=Promise.resolve(void 0));K6s=1;break;case 6:K6s=!qa.header?14:13;break;}}}P1g=2;for(;P1g !== 13;){switch(P1g){case 2:var P9K="Previously adopted reque";P9K+="st list still retained was unexpect";P9K+="ed";N=this;(null === (P=this.Tk) || void 0 === P?0:P.lQ()) && this.Ll(P9K);this.Tk=void 0;X=this.K;P1g=3;break;case 3:P1g=!this.YFb || !this.Mc.wg?9:8;break;case 9:return (this.Mc.Nqa(),Promise.resolve());break;case 8:var k2q="che";k2q+="ckForHc";k2q+="dStart";this.Kb.Dn(k2q);this.ye.forEach(function(S){var O2D;O2D=2;for(;O2D !== 1;){switch(O2D){case 2:S.P.L === H && (V=S);O2D=1;break;}}});return this.Mc.wg.O5b(H,V?V.P:void 0).then(function(S){var h7F,U,ha;h7F=2;for(;h7F !== 8;){switch(h7F){case 4:var a9S="adop";a9S+="t";a9S+="HcdSta";a9S+="rt";(U=N.bb.od.Ae(f.u.U),ha=N.bb.od.Ae(f.u.J));N.Kb.Dn(a9S);return N.RD.Qha(function(){var Y3S,qa,xa;Y3S=2;for(;Y3S !== 7;){switch(Y3S){case 8:return Promise.all([qa,xa]);break;case 2:var y72="ado";y72+="p";y72+="tHcdEn";y72+="d";qa=Promise.resolve();N.Co && (qa=J(ha,S));xa=Promise.resolve();!N.xt || X.Uab && !qa || (xa=X.Uab?qa.then(function(Aa){var X3q;X3q=2;for(;X3q !== 1;){switch(X3q){case 2:return Aa?J(U,S):Promise.resolve();break;}}}):J(U,S));N.GYa=S;N.Kb.Dn(y72);Y3S=8;break;}}});break;case 2:var K7g="c";K7g+="heck";K7g+="ForH";K7g+="cdEn";K7g+="d";N.Kb.Dn(K7g);h7F=1;break;case 1:h7F=l.xa(S)?5:4;break;case 5:var G4B="head";G4B+="erCacheDataNo";G4B+="tF";G4B+="ound";return (X.BO || N.RD.ZA || N.f8(G4B),Promise.resolve());break;}}}).then(function(){var L8d,S;L8d=2;for(;L8d !== 5;){switch(L8d){case 2:var m2A="a";m2A+="do";m2A+="ptedCompletedRequests";X.BO || (null === (S=N.Tk) || void 0 === S?0:S.lQ()) || N.RD.ZA || !N.X.rs(N.Vf.P) || N.f8(m2A);L8d=5;break;}}}).catch(function(S){var v5D;v5D=2;for(;v5D !== 1;){switch(v5D){case 2:var E02="header";E02+="Cache:lookupDataPromis";E02+="e caught e";E02+="rror:";N.bc(E02,S);v5D=1;break;}}});break;}}};M.prototype.vAb=function(H,J){var p7p,N,P,X,V,S,U,ha;p7p=2;for(;p7p !== 9;){switch(p7p){case 5:return Promise.resolve();break;case 1:p7p=0 === J.length?5:4;break;case 3:return this.RD.Qha(function(){var a5A,xa;a5A=2;for(;a5A !== 3;){switch(a5A){case 5:qa();a5A=1;break;case 1:a5A=0 < J.length?5:4;break;case 14:return Promise.all(xa);break;case 8:xa=[];a5A=2;break;case 2:xa=[];a5A=1;break;case 4:return Promise.all(xa);break;}}function qa(){var Y0T,Aa;Y0T=2;for(;Y0T !== 5;){switch(Y0T){case 2:var v7N="adoptData, not adoptin";v7N+="g";v7N+=" failed media";v7N+="Request:";var P3x="adopt";P3x+="Data, not adop";P3x+="ting aborted mediaRequest:";Aa=J.shift();7 === Aa.readyState?H.bc(P3x,Aa.toString()):6 === Aa.readyState?(H.bc(v7N,Aa.toString()),N.wO(Aa,!1)):H.Fc >= Aa.ue && H.Fc < Aa.Oc && (H.Fc < V || !l.Pa(V))?(xa.push(N.wAb(H,Aa).then(function(){var W4Y;W4Y=2;for(;W4Y !== 1;){switch(W4Y){case 2:Aa.complete && N.wab(Aa);W4Y=1;break;}}})),H.Ogc(Aa.Oc),l.Pa(V) && H.Fc >= V && N.Kb.goa(X,Aa.Oc),S === f.u.U && N.bi.XC(Aa.bitrate),Aa.complete?(U.Mw+=Aa.duration,Aa.w5b && (U.M0+=Aa.duration),ha=Aa):(N.Tk || (N.Tk=new A.qIa(N.H)),N.Tk.push(Aa))):N.wO(Aa,!1);Y0T=5;break;}}}}).then(function(){var e9p,qa,xa;e9p=2;for(;e9p !== 8;){switch(e9p){case 2:ha && H.xab(ha);e9p=5;break;case 5:e9p=ha || (null === (qa=N.Tk) || void 0 === qa?0:qa.lQ())?4:8;break;case 4:qa=N.ye[P.P.Ub];xa=H.mua(H.Fc);void 0 !== xa?(H.$m=xa,H.pd=qa.P.oj[S].stream.Zl(H.$m)):H.$m=H.Xd?H.Xd.index + 1:H.$m + 1;e9p=8;break;}}});break;case 7:N=this;p7p=7;break;case 2:N=this;p7p=1;break;case 4:(P=H.Kca,X=P.G,V=Math.min(this.ye[0].Sa || Infinity,P.Oc || Infinity),S=H.mediaType,U=this.Pb.ph[S]);p7p=3;break;}}};M.prototype.wAb=function(H,J){var a1f,N,P;a1f=2;for(;a1f !== 3;){switch(a1f){case 2:var g_6=",";g_6+=" pt";g_6+="s";g_6+=":";g_6+=" ";var g$q=", st";g$q+="ate";g$q+=": ";var h0$="a";h0$+="doptMediaReque";h0$+="st: type";h0$+=": ";(N=this,P=H.mediaType);this.K.mj && this.Kb.io(h0$ + P + g$q + J.readyState + g_6 + J.ue);this.Foa(P,J.ue);return H.Xa.HHb(J).catch(function(X){var L5Q;L5Q=2;for(;L5Q !== 1;){switch(L5Q){case 2:var i1U="Err";i1U+="or";i1U+=" ad";i1U+="opting r";i1U+="equests";N.Ll(i1U,X);L5Q=1;break;case 4:N.Ll("",X);L5Q=9;break;}}});break;}}};M.prototype.c_a=function(H,J){var A$e,N;A$e=2;for(;A$e !== 9;){switch(A$e){case 4:this.xA.reset();(void 0 === H?f.ng:[H]).forEach(function(P){var w2q;w2q=2;for(;w2q !== 1;){switch(w2q){case 2:N.Ac(P) && (N.Ux[P].reset(),N.ZEb(P),N.bi.K9b(P));w2q=1;break;}}});A$e=9;break;case 2:N=this;void 0 === J && (J=C.T5.lqa);this.bb.od.VDa(H,J);A$e=4;break;}}};M.prototype.Fnb=function(){var X$Z,H;X$Z=2;for(;X$Z !== 5;){switch(X$Z){case 2:H=this;f.ng.forEach(function(J){var U_8,N;U_8=2;for(;U_8 !== 5;){switch(U_8){case 2:null === (N=H.Ux[J]) || void 0 === N?void 0:N.stop();U_8=5;break;}}});X$Z=5;break;}}};M.prototype.Y1=function(H){var Q6r,J;Q6r=2;for(;Q6r !== 4;){switch(Q6r){case 2:J=this;(void 0 === H?f.ng:[H]).forEach(function(N){var t7o,P;t7o=2;for(;t7o !== 5;){switch(t7o){case 2:null === (P=J.Ux[N]) || void 0 === P?void 0:P.resume();t7o=5;break;}}});return Promise.resolve();break;}}};M.prototype.F7=function(){var r6r,H,J,N;r6r=2;for(;r6r !== 4;){switch(r6r){case 2:(H=this,N=f.ng);null === (J=this.xA) || void 0 === J?void 0:J.reset();r6r=5;break;case 5:N.forEach(function(P){var b4v,X;b4v=2;for(;b4v !== 5;){switch(b4v){case 2:null === (X=H.Ux[P]) || void 0 === X?void 0:X.resume();b4v=5;break;}}});r6r=4;break;}}};M.prototype.ZEb=function(H){var t0Z,J;t0Z=2;for(;t0Z !== 3;){switch(t0Z){case 14:J.M0=1;t0Z=2;break;case 4:J.M0=0;t0Z=3;break;case 2:J=this.Pb.ph[H];this.Pb.Yy[H].Sya=void 0;J.Mw=0;t0Z=4;break;}}};M.prototype.Foa=function(H,J){var I5r,N,P,X;I5r=2;for(;I5r !== 9;){switch(I5r){case 6:I5r=N.fb(H)?2:2;break;case 1:I5r=N.fb(H)?5:9;break;case 7:N=this.bb.od;I5r=8;break;case 5:var W7I="p";W7I+="tsc";W7I+="h";W7I+="an";W7I+="ged";(P=this.Pb.ph[H],X=this.Pb.bD[H]);l.xa(P.qq) && (P.qq=J,H === f.u.J && this.xt && (H=this.Pb.ph[f.u.U],l.xa(H.qq) && (N=N.fb(f.u.U),N.rS(J)),this.emit(W7I,J)));l.xa(X.gX) && (X.gX=J);I5r=9;break;case 2:N=this.bb.od;I5r=1;break;}}};t_B=87;break;}}})();b.uVa=a;(0,r.hf)(d.EventEmitter,a);},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Cka=void 0;d=a(11);l=a(6);h=a(8);n=a(265);r=(function(){function c(f,g,k,m,p,q,v,t,w,u,y,x){void 0 === k && (k=0);this.Ke=f;this.K7=g;this.ca=k;this.Sa=m;this.zaa=p;this.ki=q;this.YP=v;this.config=t;this.H=w;this.Kb=u;this.yUb=y;this.Th=x;this.Sy=0;}c.create=function(f){var k,m,p,q,v,t,w,u,y,x,z,B,A,C,D;function g(E){(0,h.kb)(u,E.type,E);}k=f.Ub;m=f.ba;p=f.Tlb;q=f.ca;v=f.Sa;t=f.Wt;w=f.Kb;u=f.oc;y=f.config;x=f.H;z=f.Dh;B=f.Hp;A=f.wg;C=f.AF;D=new n.Aia(Number(m.movieId),{Ub:k,ba:m,Xq:f.Xq,pfb:{$xa:f.ug,Mcb:!!f.xcb},Tl:f.Tl,ag:f.ag,config:y,Vab:{Gk:z.Pl.bind(z),wg:A,AF:C,xC:g,eca:function(E){return E === u.bb.od.P;},hZ:function(E,G,F,K,O){E=u.Pb.ph[E];return !G || F || K || O?u.CV:E.gf;},sF:function(E){return u.Pb.Yy[E];},ki:u.ki.bind(u)},e0:function(E){u.emit("requestComplete",{type:"requestComplete",timestamp:E.xg,mediaRequest:E});},yaa:function(){return u.bi;},Bc:u.Mc.Bc,zk:u.Mc.zk,c7a:{Wt:t,ig:function(E,G,F,K,O,L){void 0 === L && (L=!1);return !L || u.X.Zf()?(u.Ir(E,k,G,F,K,O,L),!0):!1;},zp:function(){return u.T7;},xC:g},bS:void 0,MG:{Z:u.Mc.T1,ha:u.Mc.Bga}});y.aF && D.ML({Fp:u.Bn.Fp,sa:u.Bn.sa,UX:u.Bn.UX,Ap:w.Ap.bind(w)});f=new d.kf();f.addListener(D.events,"onHeaderFragments",function(E){var G,F,K,O,L;G=E.mediaType;F=E.Ta;K=E.stream.ma;O=u.ki(k);if(O){if(D.oj[G] && E !== D.oj[G])E.yy && (O=D.oj[G],E=E.stream,L=O && O.stream,x.warn("first header received for non-current track (trackId " + E.trackId + "streamId " + E.Ta + "), expected track " + (L && L.trackId) + ", stream " + (L && L.Ta) + ", " + O));else {D.oj[G]=E;E=u.bb.od;if(0 === k){L=D.Ac(l.u.J)?E.fb(l.u.J).Fc:E.fb(l.u.U).Fc;E.v9(L,D);}O.dDa=!1;O.Uqa();u.e8();}B.rna();w.KDb(k,G,F,D.L,K);z.Pl();}else x.warn("addFragments for stale manifestIndex:",k);});f.addListener(D.events,"onHeaderRequestComplete",function(E){var G,F;E.Pm?u.e8():E.YE && (x.warn("drm header header:",E.toString(),"but no headers seen, marking pipeline drmReady"),u.BJ(E.L));G=E.mediaType;F=Object.getOwnPropertyNames(C.Rx[G]);u.ci[G].Ngb(E.stream,1 === F.length && F[0] === E.Ta);z.dYa();u.Bec();});f.addListener(D.events,"onHeaderFromCache",function(E){var G;G=E.header;E=E.GVb;G.Pm && u.e8();E && w.ADb(G.L,G.Ta);});return new c(D,p,q,v,function(){return u.bb;},u.ki.bind(u),u.YP.bind(u),y,x,w,!1,f);};Object.defineProperties(c.prototype,{P:{get:function(){return this.Ke;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ub:{get:function(){return this.P.Ub;},enumerable:!1,configurable:!0}});c.prototype.dw=function(f){return this.Ke.F_b(f,this.Haa(f));};c.prototype.Haa=function(f){return this.K7[f];};c.prototype.close=function(){this.Th.clear();this.P.close();};c.prototype.wd=function(){this.Ke.wd();delete this.Ke;};c.prototype.clone=function(){return new c(this.P,this.K7,this.ca,this.Sa,this.zaa,this.ki,this.YP,this.config,this.H,this.Kb,!0,this.Th);};c.prototype.Npb=function(f){this.H.trace("updateAudioTrack:",this.K7[l.u.U],"->",f);this.K7[l.u.U]=f;};c.prototype.V9a=function(){return void 0 !== this.WK?this.WK:this.Sa?this.Sa:this.Ke.duration;};c.prototype.HKb=function(f,g){var k;k=this.Ke.oj[f];if(k && k.stream.ve){if(this.MB && this.MB[f] && this.MB[f].ca <= g && this.MB[f].Sa > g)return this.MB[f].Nd;f=k.stream.ma;g=f.np(g,void 0,!0);k=void 0;void 0 === k && (k=f.Dl(g));return k;}};c.prototype.Uqa=function(){var f,g;if(!this.dDa && this.Jab()){this.VAa();f=[0,0];if(0 !== this.Ub && !this.Ke.$f.L_ && !this.Ke.$f.replace){g=this.ki(this.Ub - 1);g=this.Ke.L === g.Ke.L;f=this.zaa().od;g=f.v9(this.ca,this.P,f,g);f=g.PR;}this.ca=f[l.u.J];this.PR=f;this.MB=g && g.MB;this.p2a();g=this.Ke.Ac(l.u.J)?this.Ke.oj[l.u.J].stream.ma.Sa:this.Ke.oj[l.u.U].stream.ma.Sa;this.Kb.FDb(this.Ub,this.Sy,this.ca,this.WK,g);this.dDa=!0;for(g=this.Ub + 1;g < this.YP();++g){f=this.ki(g);f.dDa=!1;f.Uqa();}}};c.prototype.p2a=function(){var f;if(0 === this.Ub || this.Ke.$f.replace)this.Sy=0;else {f=this.ki(this.Ub - 1);this.Sy=f.Sy + f.V9a() - this.ca;}};c.prototype.VAa=function(){var f,g,k,m,p,q,v,t;if(this.Jab()){p=this.zaa().od;q=this.Sa || Infinity;v=this.Ke.Ac(l.u.J);t=p.wY(q,this.P);this.WK=v?t[l.u.J].Sa:t[l.u.U].Sa;p=v?this.Ke.oj[l.u.J].stream.ma.Sa:this.Ke.oj[l.u.U].stream.ma.Sa;v=Math.min(null !== (g=null === (f=t[l.u.J]) || void 0 === f?void 0:f.Sa) && void 0 !== g?g:Infinity,null !== (m=null === (k=t[l.u.U]) || void 0 === k?void 0:k.Sa) && void 0 !== m?m:Infinity);this.Kb.HDb(this.Ub,this.WK,p,v);f=this.zaa().lua(this.Ub);0 < f.length && f.forEach(function(w){w.Hlc(t,q);});}};c.prototype.Jab=function(){var f,g,k,m;f=this.Ke.Ac(l.u.U);g=this.Ke.Ac(l.u.J);k=this.Ke.oj[l.u.U];m=this.Ke.oj[l.u.J];k=k && k.stream.ve;m=m && m.stream.ve;return (!f || k) && (!g || m);};return c;})();b.Cka=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vVa=void 0;r=a(0);d=a(8);a=r.__importDefault(a(3));l=a.default.ur;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function h(n,c,f){this.Ap=f;this.gGb=new d.Ama(n);this.sa=c.sa;this.NAb=1E3 * c.S6b / c.QJb;this.TRb=c.UX;this.a1a=!1;}h.prototype.Nv=function(n){var c,f,g;c={s_xid:this.sa,dl:this.TRb?1:0};n.FE && (c.bs=(0,d.WO)(Math.floor(n.FE / this.NAb) + 1,1,5));n.Tda && (c.limit_rate=n.Tda);n.O1a && (c.bb_reason=n.O1a);n.Tob && (c.tm=n.Tob);if(n.Ohb){f=n.Ohb;g=f.Fw;"HYBRID" === g?(c.hybrid=f.BZ.s1b,c.cspr=f.BZ.tu,c.cu=f.BZ.bra,c.cldl=f.BZ.JDa,c.h_ms=f.BZ.T6b):"CCSP" === g && ((g=f.oca()) || !g && this.a1a) && (c.cpr_ss=f.$C,c.cpr_ca=f.uB,c.cpr_rec=f.OC,this.a1a=g);}n.uqa && (c.br="" + n.uqa.start + "+" + n.uqa.size);return this.WDb(c);};h.prototype.HEa=function(n,c){var f,g;try{f=new l(void 0,"notification");g=this.Nv({O1a:n});c && g && f.open(c,void 0,2,void 0,void 0,void 0,g);}catch(k){this.Ap("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};h.prototype.WDb=function(n){var c;try{c=this.kFb(n);return this.gGb.encrypt(c);}catch(f){this.Ap("SideChannel: Error when obfuscating msg. Error: " + f);}};h.prototype.kFb=function(n){return Object.keys(n).map(function(c){return encodeURIComponent(c) + "=" + encodeURIComponent(JSON.stringify(n[c]));}).join("&");};return h;})();b.vVa=a;},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UVa=b.Izb=void 0;d=a(0);a(75);l=a(2);r=d.__importDefault(a(3));h=a(430);a=a(428);n=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);c=!0;}catch(g){c=!1;}f=(function(g){function k(m,p){p=g.call(this,m.fr,p) || this;p.EI=m;return p;}d.__extends(k,g);Object.defineProperties(k.prototype,{ha:{get:function(){return this.EI.enb(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.EI.Ui(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{GAa:{get:function(){return this.EI.gR && this.EI.gR[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{el:{get:function(){return this.EI.RWb(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{gb:{get:function(){return this.EI.Jz && this.EI.Jz[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sqa:{get:function(){return 8 * this.ha / (1E3 * this.Sv / this.V);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.$a,contentEndTicks:this.lb,durationTicks:this.Sv,timescale:this.V,startPts:this.ca,endPts:this.Sa,duration:this.duration,additionalSAPs:this.el};};return k;})(a.vWa);b.Izb=f;r=(function(){function g(k,m,p,q,v,t,w){this.bO=128;this.fd=m;this.Sb=p.offset;this.So=p.sizes;this.R7=k;this.AN=this.jV=this.ij=this.Kr=this.Koa=void 0;this.iDb=q;this.Fma=v && v.Ui;this.Yoa=t;this.cg=Math.min(this.fd.length,this.So.length);k=this.xKb();this.VCb=k.maxBitrate;this.WCb=k.Rq;this.fr.jt.length !== this.So.length && n.trace("Mis-matched stream duration (" + this.fr.jt.length + "," + this.So.length + ") for movie id " + w);this.fr.v8 && !this.Fma && n.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.fd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{length:{get:function(){return this.cg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vo:{get:function(){return this.fd.vo;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Fta:{get:function(){return this.fd.Fta;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.fd.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Sa:{get:function(){return this.fd.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Yza:{get:function(){return this.fd.Yza;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Wy:{get:function(){return this.VCb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rq:{get:function(){return this.WCb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{da:{get:function(){return this.fd.da;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{V:{get:function(){return this.fd.V;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Yg:{get:function(){return this.Kr || this.Oma();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gR:{get:function(){return this.iDb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Dpa:{get:function(){return this.Fma;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jz:{get:function(){return this.Yoa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fr:{get:function(){return this.fd;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ar:{get:function(){return this.Koa || this.hBb();},enumerable:!1,configurable:!0}});g.prototype.enb=function(k){if(this.So)return this.So[k];n.error("sizesByIndex _sizes is undefined");return -1;};g.prototype.Dl=function(k){return this.fd.Dl(k);};g.prototype.lY=function(k){return this.fd.Dl(k) + this.fd.Ne(k);};g.prototype.Ui=function(k){var m,p,q;if(this.jV !== k || void 0 === this.AN){if(0 === k)return this.Sb;if(this.jV === k - 1 && void 0 !== this.AN)(this.AN+=this.So[this.jV],++this.jV);else {m=this.ij || this.SAb();p=Math.floor(k / this.bO);q=p * this.bO;for(m=m[p];q < k;++q){m+=this.So[q];}this.jV=k;this.AN=m;}}return this.AN;};g.prototype.Ne=function(k){return this.fd.Ne(k);};g.prototype.get=function(k){return new f(this,k);};g.prototype.RWb=function(k){var m,p,q,v,t;(0,l.assert)(0 <= k);m=this.fr.v8;p=this.fr.v0a;q=this.Fma;if(!q || !m || !p || k >= m.length)return [];v=[];t=k === m.length - 1?p.length:m[k + 1];for(m=m[k];m < t;++m){v.push({uj:p[m],Ce:this.Dl(k) + this.da.$y(p[m]).Z,offset:q[m]});}return v;};g.prototype.np=function(k,m,p){return this.fd.np(k,m,p);};g.prototype.baa=function(k,m,p){return this.fd.baa(k,m,p);};g.prototype.isa=function(k,m){return this.fd.isa(k,m);};g.prototype.uKb=function(k,m,p,q,v){var t,w,u,y,x,z,B,A,C;t=!0;w=0;u=this.fd.jt;y=this.So;k=Math.floor(k * this.V / 1E3);x=Math.floor(p * this.V / 1E3);z=0;B=0;A=0;if(this.fd.PGa && this.fd.OGa)for(w=this.fd.PGa;w <= this.fd.OGa;++w){z+=u[w];B+=y[w];}if(B > m)t=!1;else for(;w < this.length && (!v || w < v);){C=y[w];p=u[w];if(B + C > m){for(;1 < w - A && B + C > m && (z - u[A] >= x || B - y[A] > q);){z-=u[A];B-=y[A];++A;}if(z < k || B + C > m){t=!1;this.fd.PGa=A;this.fd.OGa=w;break;}}z+=p;B+=C;++w;}return t;};g.prototype.subarray=function(k,m){(0,l.assert)(void 0 === k || 0 <= k && k < this.length);(0,l.assert)(void 0 === m || m > k && m <= this.length);return new g(this.R7,this.fd.subarray(k,m),{offset:this.Ui(k),sizes:this.So.subarray(k,m)},this.gR && this.gR.subarray(k,m),this.Dpa && ({Ui:this.Dpa}),this.Yoa && this.Yoa.subarray(k,m));};g.prototype.forEach=function(k){for(var m=0;m < this.length;++m){k(this.get(m),m,this);}};g.prototype.map=function(k){for(var m=[],p=0;p < this.length;++p){m.push(k(this.get(p),p,this));}return m;};g.prototype.reduce=function(k,m){for(var p=0;p < this.length;++p){m=k(m,this.get(p),p,this);}return m;};g.prototype.toJSON=function(){return {length:this.length};};g.prototype.dump=function(){var m;n.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){m=this.get(k);n.trace(("StreamFragments: ").concat(k,": [").concat(m.ca,"-").concat(m.Sa,"] @ ").concat(m.offset,", ").concat(m.ha," bytes"));}};g.prototype.xKb=function(){var k,m,p,q,v,t,y;k=0;m=0;p=this.fd.Web;q=this.fd.Xeb;v=this.fd.jt;t=this.So;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,u=this.length;w < u;++w){y=t[w];y > m && (m=y,q=w);y/=v[w];y > k && (k=y,p=w);}void 0 === this.fd.Web && (this.fd.Web=p);void 0 === this.fd.Xeb && (this.fd.Xeb=q);}else (k=t[p] / v[p],m=t[q]);return {maxBitrate:Math.floor(k * this.V / 125),Rq:m};};g.prototype.Oma=function(){for(var k=0,m=0;m < this.length;++m){k+=this.So[m];}return this.Kr=k;};g.prototype.hBb=function(){return this.Koa=new h.ama(this.fd.jt,this.So,this.fd.V);};g.prototype.SAb=function(){if(!this.ij){for(var k=c?new Float64Array(Math.ceil(this.length / this.bO)):Array(Math.ceil(this.length / this.bO)),m=this.Sb,p=0;p < k.length;++p){k[p]=m;for(var q=0;q < this.bO;++q){m+=this.So[p * this.bO + q];}}this.ij=k;}return this.ij;};return g;})();b.UVa=r;r.prototype.Anb=(0,a.Qy)(r.prototype.Dl);(0,a.Qy)(r.prototype.lY);(0,a.Qy)(r.prototype.Ne);(0,a.Qy)(r.prototype.Ui);(0,a.Qy)(r.prototype.enb);(0,a.Qy)(r.prototype.get);},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.jMa=void 0;d=a(0);l=a(11);h=d.__importStar(a(13));n=d.__importDefault(a(3));c=new n.default.Console("ASEJS_ERROR_DIRECTOR","asejs");f=d.__importDefault(a(29));g=a(1E3);k=a(159);m=n.default.ur;p=m.d4;q={};v={};r=[f.default.Zh.hA,!1];a=[f.default.Zh.hA,!0];t=[f.default.Zh.PH,!1];w=[f.default.Zh.PH,!0];u=[f.default.Zh.URL,!0];y=[f.default.Zh.URL,!1];x=[-1,!1];z=[f.default.Zh.PH,!1];q[p.ioc]=t;q[p.UNKNOWN_ERROR]=t;q[p.mrc]=t;q[p.mub]=t;q[p.MKa]=t;q[p.zub]=t;q[p.qub]=w;q[p.qtb]=w;q[p.TJa]=z;q[p.RJa]=z;q[p.rtb]=x;q[p.stb]=z;q[p.ttb]=z;q[p.ntb]=t;q[p.ptb]=t;q[p.SJa]=r;q[p.otb]=t;q[p.mtb]=z;q[p.Zoc]=w;q[p.Gvb]=z;q[p.oNa]=z;q[p.nNa]=z;q[p.kNa]=z;q[p.lNa]=z;q[p.Fvb]=u;q[p.Nja]=w;q[p.b5]=u;q[p.Oja]=a;q[p.Pja]=w;q[p.Ivb]=u;q[p.c5]=z;q[p.pNa]=w;q[p.Hvb]=w;q[p.uub]=w;q[p.nub]=t;q[p.szb]=t;q[p.dub]=t;q[p.eub]=t;q[p.fub]=t;q[p.gub]=t;q[p.hub]=t;q[p.iub]=t;q[p.jub]=t;q[p.kub]=t;q[p.lub]=t;q[p.oub]=t;q[p.pub]=t;q[p.rub]=t;q[p.tub]=t;q[p.vub]=t;q[p.wub]=t;q[p.xub]=t;q[p.yub]=t;q[p.Aub]=t;q[p.Bub]=t;q[p.rzb]=z;q[p.TIMEOUT]=r;v[p.TJa]=!0;v[p.oNa]=!0;v[p.nNa]=!0;v[p.lNa]=!0;v[p.MKa]=!0;r=(function(){function B(A,C,D,E){var b6U;b6U=2;for(;b6U !== 20;){switch(b6U){case 2:this.Ak=A;this.config=C;this.Mwa=D;b6U=4;break;case 10:this.LCa=new g.oUa(A,E,C);b6U=20;break;case 4:var I1k="1";I1k+="SIYb";I1k+="Z";I1k+="rNJ";I1k+="Cp9";this.Wt=E;this.events=new l.EventEmitter();this.Th=new l.kf();I1k;b6U=7;break;case 7:var p2Y="ne";p2Y+="tw";p2Y+="ork";p2Y+="Failed";this.b3a=new k.Q5();q[p.kNa]=C.p1b?w:z;this.Th.addListener(this.Ak,p2Y,this.h0b.bind(this));this.HQ=n.default.time.fa();this.MS=this.Ov=0;this.oGa={};b6U=10;break;}}}var e7i;e7i=2;for(;e7i !== 12;){switch(e7i){case 14:B.prototype.l3a=function(){var a_y;a_y=2;for(;a_y !== 1;){switch(a_y){case 2:var g$m="Cleared ";g$m+="un";g$m+="d";g$m+="erflow ";g$m+="timeout";this.I2 && (clearTimeout(this.I2),this.I2=void 0,c.info(g$m));a_y=1;break;}}};return B;break;case 7:B.prototype.lBa=function(){var m4v;m4v=2;for(;m4v !== 1;){switch(m4v){case 2:this.Ov=0;m4v=1;break;case 4:this.Ov=2;m4v=5;break;}}};B.prototype.si=function(){var N0L,A,C,D;N0L=2;for(;N0L !== 4;){switch(N0L){case 2:var B2C="m";B2C+="s";var c$5="Sett";c$5+="ing under";c$5+="flo";c$5+="w timeout ";c$5+="in ";(A=this,C=this.config,D=C.Zca);this.HQ=Math.max(n.default.time.fa(),this.HQ);!C.pqb || this.I2 || C.yha && C.E$ && C.r8b || (c.info(c$5 + D + B2C),this.I2=setTimeout(function(){var E4T;E4T=2;for(;E4T !== 4;){switch(E4T){case 2:var B7i="Forcing p";B7i+="ermanent ne";B7i+="two";B7i+="rk fai";B7i+="lure after ";var I_y="ms, since unde";I_y+="rflow with n";I_y+="o";I_y+=" success";R7xOY.e_n(9);c.info(R7xOY.p3p(I_y,B7i,D));A.I2=void 0;A.Ak.Bu(f.default.Zh.hA,!0);E4T=4;break;}}},D));N0L=4;break;}}};e7i=14;break;case 5:B.prototype.Bu=function(A,C,D,E,G){var a83,P,X,J,f6w,V,S,U,ha,qa,xa,Aa,Oa,W5J,o21,F2y,F,K,O,L,I,M,H,C_X,W,Q,n_t,D8s,Z76,N;a83=2;for(;a83 !== 25;){switch(a83){case 13:a83=A?12:17;break;case 14:a83=J !== x?13:25;break;case 10:(P=J[0],X=J[1]);a83=20;break;case 9:J=q[E];H.qa && A && (this.config.K6a && E === p.b5 && 404 === D && this.MS < this.config.gza?J=y:E === p.Pja && A.B0b && (J=t));this.eC={iK:D,Fh:E,r7a:I,Sj:G};a83=6;break;case 16:C=H.ogc(C.host,C.port).map(function(ra){var j04;j04=2;for(;j04 !== 1;){switch(j04){case 2:return {url:ra.url.url,bd:ra.ec.id,ec:ra.ec,stream:ra.url.stream,urls:ra.ec.urls};break;}}});a83=10;break;case 4:var W9o=" : critical error c";W9o+="ount ";W9o+="= ";var e5d=" ";e5d+="o";e5d+="n";e5d+=" ";var T2y=" httpC";T2y+="o";T2y+="d";T2y+="e";T2y+=" ";var W_p="Failu";W_p+="r";W_p+="e ";c.warn(W_p + I + T2y + D + e5d + JSON.stringify(A?A:C) + W9o + this.Ov);a83=3;break;case 19:try{f6w=2;for(;f6w !== 8;){switch(f6w){case 1:f6w=!S.done?5:8;break;case 2:(V=d.__values(C),S=V.next());f6w=1;break;case 9:S=V.next();f6w=1;break;case 5:var f_E="er";f_E+="r";f_E+="or";(U=S.value,ha=U.urls,qa=U.url,xa=U.bd,Aa=U.stream,Oa=U.ec);J === z || J === t?this.LCa.fcc(U,{A0a:xa,G2:J,iK:D,Fh:E,r7a:I,Sj:G}):this.config.K6a && J === y && (null === (O=null === Aa || void 0 === Aa?void 0:Aa.xE) || void 0 === O?0:O.qa) && (null === (L=null === Aa || void 0 === Aa?void 0:Aa.xE) || void 0 === L?void 0:L.ec) === Oa.id && A?(this.MS++,Aa.xE.JGb(A.pj || 0)):(ha.some(function(ra){var a4N;a4N=2;for(;a4N !== 5;){switch(a4N){case 2:H.Bu(P,X,ra.url);return P === f.default.Zh.PH;break;}}}),H.qa && this.MS === this.config.gza && J === u && (this.MS=0));!this.wga || 0 !== D && void 0 !== D || this.wga.HEa(f_E,qa);f6w=9;break;}}}catch(ra){var T;T={error:ra};}finally{W5J=2;for(;W5J !== 1;){switch(W5J){case 2:try{o21=2;for(;o21 !== 1;){switch(o21){case 2:S && !S.done && (F=V.return) && F.call(V);o21=1;break;}}}finally{F2y=2;for(;F2y !== 5;){switch(F2y){case 3:F2y=T?2:2;break;case 2:F2y=T?1:5;break;case 1:throw T.error;F2y=5;break;case 9:throw T.error;F2y=2;break;}}}W5J=1;break;}}}a83=25;break;case 2:I=m.d4.name;I=E?I[E]:void 0;(M=this.config,H=this.Ak);a83=4;break;case 15:var B94="Inv";B94+="alid affect";B94+="ed for network failur";B94+="e";c.error(B94);a83=27;break;case 20:a83=M.Ow?19:18;break;case 11:C=H.U$a(A).map(function(ra){var A7M;A7M=2;for(;A7M !== 1;){switch(A7M){case 2:return {url:A.url,bd:ra.id,ec:ra,stream:N,urls:ra.urls,S:A.pj};break;}}});a83=10;break;case 6:var x6X="c";x6X+="riticalNetwor";x6X+="kError";var x9F="criticalNe";x9F+="twor";x9F+="kError";v[E] && (++this.Ov,this.events.emit(x9F,{type:x6X,Fh:E}));a83=14;break;case 26:var T86="Unmapped failu";T86+="re code in JSASE erro";T86+="r ";T86+="director : ";R7xOY.e_n(6);c.error(R7xOY.p3p(E,T86));a83=25;break;case 18:try{C_X=2;for(;C_X !== 13;){switch(C_X){case 5:U=Q.value;xa=U.bd;ha=U.urls;qa=U.url;C_X=8;break;case 1:C_X=!Q.done?5:13;break;case 8:C_X=J === z && !this.rec(xa)?13:7;break;case 2:(W=d.__values(C),Q=W.next());C_X=1;break;case 7:var Y3o="e";Y3o+="r";Y3o+="ro";Y3o+="r";ha.some(function(ra){var P0G;P0G=2;for(;P0G !== 5;){switch(P0G){case 2:H.Bu(P,X,ra.url);return P === f.default.Zh.PH;break;}}});!this.wga || 0 !== D && void 0 !== D || this.wga.HEa(Y3o,qa);C_X=14;break;case 14:Q=W.next();C_X=1;break;}}}catch(ra){var ka;ka={error:ra};}finally{n_t=2;for(;n_t !== 1;){switch(n_t){case 2:try{D8s=2;for(;D8s !== 1;){switch(D8s){case 2:Q && !Q.done && (K=W.return) && K.call(W);D8s=1;break;}}}finally{Z76=2;for(;Z76 !== 5;){switch(Z76){case 2:Z76=ka?1:5;break;case 3:Z76=ka?5:6;break;case 1:throw ka.error;Z76=5;break;}}}n_t=1;break;}}}a83=25;break;case 12:N=H.Q9a(A.Cu);a83=11;break;case 3:a83=E && h.isArray(q[E])?9:26;break;case 17:a83=C?16:15;break;case 27:return;break;}}};B.prototype.rec=function(A){var g1D,C,D,E;g1D=2;for(;g1D !== 7;){switch(g1D){case 1:g1D=E?5:8;break;case 9:return E.RC=!0;break;case 3:g1D=!(E.mh >= C - D.Xga || E.RC || (E.mh=C,++E.count,E.count < D.fda))?9:7;break;case 2:(C=n.default.time.fa(),D=this.config,E=this.oGa[A]);g1D=1;break;case 5:g1D=E.mh < this.HQ?4:3;break;case 4:(E.mh=C,E.count=1);g1D=7;break;case 8:this.oGa[A]={mh:C,count:1};g1D=7;break;}}};B.prototype.h0b=function(A){var G5G,F,K,O,C,D,E,G;G5G=2;for(;G5G !== 7;){switch(G5G){case 9:var L8g="te";L8g+="mporar";L8g+="yNetw";L8g+="orkError";var t1V="tempora";t1V+="ryNe";t1V+="twor";t1V+="kError";A || this.events.emit(t1V,{type:L8g,errorCode:F,httpCode:K,nativeCode:O});E?(this.dS && (clearTimeout(this.dS),this.dS=void 0),this.l3a(),this.LCa.reset(),this.Mwa({v3b:A,n$b:F,p$b:K,q$b:O})):this.dS || (this.dS=setTimeout(function(){var g6M;g6M=2;for(;g6M !== 5;){switch(g6M){case 2:C.dS=void 0;C.Ffa();g6M=5;break;}}},G.KAa));G5G=7;break;case 4:G5G=this.eC?3:9;break;case 3:(F=this.eC.Fh,K=this.eC.iK,O=this.eC.Sj);G5G=9;break;case 2:var n19=" last succes";n19+="s";n19+=" was ";var G8v="N";G8v+="etw";G8v+="ork has ";G8v+="fail";G8v+="ed ";var u7D=" ms ";u7D+="a";u7D+="go";var S5K="tempor";S5K+="a";S5K+="r";S5K+="i";S5K+="ly";var G6f="perm";G6f+="an";G6f+="ently";(C=this,D=n.default.time.fa() - this.HQ,E=A,G=this.config);R7xOY.h1T(10);c.warn(R7xOY.f4w(A?G6f:S5K,u7D,G8v,D,n19));!A && D > G.JAa && (E=!0);G5G=4;break;}}};B.prototype.Ffa=function(){var v$C,A;v$C=2;for(;v$C !== 5;){switch(v$C){case 2:A=this;this.b3a.ZA || this.b3a.Qha(function(){var n0y;n0y=2;for(;n0y !== 1;){switch(n0y){case 2:A.dS || (A.Ak.Ffa(),A.oGa={},A.Wt());n0y=1;break;}}});v$C=5;break;}}};B.prototype.qha=function(A){var D$4,C;D$4=2;for(;D$4 !== 8;){switch(D$4){case 2:var K3q="updatin";K3q+="g";K3q+="LastSucce";K3q+="ssEve";K3q+="nt";var n1i="updatin";n1i+="gLast";n1i+="SuccessEven";n1i+="t";C=this.config;this.HQ=Math.max(A.xg || n.default.time.fa(),this.HQ);this.l3a();this.Ak.qa && void 0 !== A.pj && !A.Cu.UCa(A.pj) && (this.Ak.Q9a(A.Cu).xE.Xdc(A.pj),this.MS=0);C.Ow && this.LCa.qha(A);this.events.emit(n1i,{type:K3q});D$4=8;break;}}};e7i=7;break;case 2:B.prototype.Wa=function(){var K_G;K_G=2;for(;K_G !== 1;){switch(K_G){case 2:this.Th.clear();K_G=1;break;case 4:this.Th.clear();K_G=2;break;}}};B.prototype.ML=function(A){var G2e;G2e=2;for(;G2e !== 1;){switch(G2e){case 2:this.wga=A;G2e=1;break;}}};e7i=5;break;}}})();b.jMa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.oUa=void 0;d=a(2);l=a(1001);h=a(3).default;new h.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function n(c,f,g){this.OV=c;this.Wt=f;this.config=g;this.Xv={};this.uG={};this.AI=!0;this.groupId=1;}n.prototype.fcc=function(c,f){var g,k,m,p,q,v,t,w,u,y;g=this;k=this.config;m=c.bd;p=c.stream;q=c.ec.location;(0,d.assert)(p,"Failing url should have an associated stream");(0,d.assert)(q,"Failing url should have an associated location");v=[];t=p.Pj[0];w=!1;u=this.Xv[m];y=h.time.fa();if(!u)u=this.phc(m,y,f,c);else if(u.mh >= y - k.Xga)return;u.RC || (t && q.id === t.id && (c.isPrimary=!0),u.mh=y,u.RC=!1,u.error=f,++u.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,B,A,C,D;A=x.ec.id;C=A + "-" + m;D=g.uG[C];if(void 0 === D || void 0 === D.afa)(D && D.zo && clearTimeout(D.zo),x=(null === (B=null === (z=c.stream) || void 0 === z?void 0:z.xE) || void 0 === B?0:B.qa)?g.FYb(c.stream.xE,c.S,x.url):x.url,(0,d.assert)(x,("Unexpected probeUrl: ").concat(x)),z=g.w4a(x,c,A),g.uG[C]={ja:!1,count:0,afa:z.Si()},v.push(z.Si()),w=!0);-1 === u.QEa.indexOf(A) && u.QEa.push(A);}),0 < v.length && (k={ts:h.time.fa(),es:f.A0a,fc:f.Fh,fn:f.r7a,nc:f.Sj,pb:v,gid:this.groupId},f.iK && (k.hc=f.iK),this.FK(k,"errpb")),w && this.groupId++));};n.prototype.w4a=function(c,f,g){var k,m;k=new l.OIa(this);m="random=" + parseInt(("").concat(1E7 * Math.random()));k.g$b(c + (-1 !== c.indexOf("?")?"&":"?") + m,f,g);return k;};n.prototype.phc=function(c,f,g,k){var m;m=this.Xv[c];k=k.ec.location;m || (m=this.Xv[c]={count:0,mh:f,RC:!1,error:g,QEa:[],NCa:{},location:k,S:g.S,lvc:g});return m;};n.prototype.getState=function(c){return this.Xv[c];};n.prototype.YLb=function(c){this.Xv[c]=void 0;};n.prototype.FK=function(c,f){var g;if(this.AI){g={type:"logdata",target:"endplay",fields:{}};g.fields[f]={type:"array",value:c,adjust:["ts"]};this.OV.xC(g);}};n.prototype.FYb=function(c,f,g){var k;k=void 0 === f || f === c.Gq().DS;return c.bQ(k,k?void 0:f - 1,g);};n.prototype.gcc=function(c,f){var g,k,m,p,q,v,t,w,u,y,x,z;g=this;p=this.OV;q=this.config;v=f.bd;t=this.Xv[v];if(t){w=c.url;u=this.uG[c.bd + "-" + v];if(u){y=t.error;u && u.zo && clearTimeout(u.zo);u.ja=!0;u.count=0;u.afa=void 0;t.NCa[c.bd]=!0;u=this.Xv[c.bd];if((null === u || void 0 === u?0:u.RC) && q.YA){p.clb(c.bd,u.error.G2[1]);if(this.AI){x={ts:h.time.fa(),id:c.requestId,servid:f.bd,gid:c.groupId?c.groupId:-1};this.FK(x,"errst");}this.Xv[c.bd]=void 0;this.Wt();}if(w !== f.url){z=this.uG[v + "-" + v];z && z.ja || (v=null === u || void 0 === u?void 0:u.location,q=Math.min((null === (m=null === (k=null === v || void 0 === v?void 0:v.Ib) || void 0 === k?void 0:k.nQ) || void 0 === m?void 0:m.ya) || Math.random() * q.$ca,q.$ca),setTimeout(function(){var B;if(!(!1 !== t.RC || z && z.ja) && (t.RC=!0,p.Bu(y.G2[0],y.G2[1],f.stream.xE.url,y),g.AI)){B={ts:h.time.fa(),id:c.requestId,servid:f.bd,gid:c.groupId?c.groupId:-1};g.FK(B,"erep");}},q));}this.AI && (x={ts:h.time.fa(),id:c.requestId,result:1,servid:c.bd,gid:c.groupId?c.groupId:-1},this.FK(x,"pbres"));}}};n.prototype.dcc=function(c,f){var g,k,m,p,q,v,t,w,u,y,x,z,B;g=this;p=this.OV;q=this.config;v=f.bd;t=this.Xv[v];w=c.bd;u=this.uG[w + "-" + v];if(u && t){y=0;u.ja=!1;u.afa=void 0;t.NCa[w]=!1;x=t.QEa;if(q.YA && w === v && f.isPrimary){z=t.location;z=(null === (m=null === (k=null === z || void 0 === z?void 0:z.Ib) || void 0 === k?void 0:k.nQ) || void 0 === m?void 0:m.ya) || 300 * Math.random();k=Math.min(z * Math.pow(2,u.count),12E4);k+=Math.random() * (1E4 > k?100:1E4);u.zo=setTimeout(function(){var A;u.zo=void 0;A=g.w4a(c.url,f,w);A.Igc(c.groupId);u.afa=A.Si();},k);}++u.count;if(w === v && (y=0,x.forEach(function(A){!1 === t.NCa[A] && y++;}),x.length === y && t.count >= q.fda)){B=t.error;t.RC=!0;q=f.stream;(0,d.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(A){p.Bu(B.G2[0],B.G2[1],A.url,B);g.AI && (A={ts:h.time.fa(),id:-1,servid:A.ec.id},g.FK(A,"erep"));});}this.AI && (q={ts:h.time.fa(),id:c.requestId,result:0,servid:c.bd,gid:c.groupId?c.groupId:-1},this.FK(q,"pbres"));}};n.prototype.qha=function(c){var f,g,k;if(c.url){g=this.OV;k=g.lgc(c.url);k || (k=null === (f=this.OV.U$a(c)[0]) || void 0 === f?void 0:f.id);k && (c=this.Xv[k]) && c.RC && this.config.YA && (g.clb(c.error.A0a,!1),this.AI && (g={ts:h.time.fa(),id:-1,servid:k},this.FK(g,"errst")),this.YLb(k),(k=this.uG[k + "-" + k]) && k.zo && clearTimeout(k.zo));}};n.prototype.reset=function(){var c,f,g;c=this.uG;for(g in c){c.hasOwnProperty(g) && (f=c[g + "-" + g]) && f.zo && clearTimeout(f.zo);}this.uG={};this.Xv={};};return n;})();b.oUa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.OIa=void 0;d=a(0);l=a(11);h=d.__importDefault(a(3)).default.zx;r=(function(n){function c(f){var g;g=n.call(this) || this;g.OZa=f;g.c7=f.groupId;g.fk=new l.kf();g.fk.on(g,h.jf.GU,g.joa);g.fk.on(g,h.jf.JH,g.TV);return g;}d.__extends(c,n);c.prototype.g$b=function(f,g,k){h.prototype.open.call(this,f,g,k);};c.prototype.Igc=function(f){this.c7=f;};Object.defineProperties(c.prototype,{groupId:{get:function(){return this.c7;},enumerable:!1,configurable:!0}});c.prototype.wd=function(){this.fk && this.fk.clear();h.prototype.wd.call(this);};c.prototype.joa=function(f){this.OZa.gcc(f.probed,f.affected);this.wd();};c.prototype.TV=function(f){this.OZa.dcc(f.probed,f.affected);this.wd();};return c;})(h);b.OIa=r;},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vNa=void 0;d=a(0);l=a(117);h=a(433);n=a(6);c=d.__importDefault(a(3));r=a(92);f=a(436);g=a(2);k=a(118);a=(function(m){function p(q,v,t,w,u,y,x,z,B,A,C){var D;D=m.call(this,q) || this;D.Ke=q;D.H=v;D.K=t;D.xC=w;D.sF=y;D.eca=x;D.FA=z;D.i_a=B;D.ki=A;D.RYa=[void 0,void 0];D.BV=null !== C && void 0 !== C?C:{Rx:[Object.create(null),Object.create(null)]};u?D.hZ=u:(D.Ye=k.Fo.instance.Kt("headers","" + D.Ke.N,!0,!1,{},D.K),D.Ye.oa());return D;}d.__extends(p,m);Object.defineProperties(p.prototype,{Rx:{get:function(){return this.BV.Rx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{VD:{get:function(){return this.BV.VD;},set:function(q){this.BV.VD=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{IN:{get:function(){return this.BV.IN;},set:function(q){this.BV.IN=q;},enumerable:!1,configurable:!0}});p.prototype.wd=function(){var q;q=this;this.Rx.forEach(function(v,t){for(var w in v){v[w].wd();q.Tsa(t,w);}});this.Ye && k.Fo.instance.uJ(this.Ye);this.Ye=void 0;};p.prototype.gs=function(q,v){return this.Rx[q][v];};p.prototype.wba=function(){return !(!this.VD || !this.VD.length);};p.prototype.Cra=function(){this.VD=void 0;};p.prototype.qS=function(q){this.VD=q;};p.prototype.JGa=function(){var q,v,t;if(!this.wba() || this.IN)return !1;q=n.u.J;for(l.tn.Hq(q);0 < this.VD.length;){v=this.VD.shift();t=this.Ke.Gy(q,v);if(t && !this.z0b(q,v) && t.uw)return (this.IN=v,this.kha(t,{offset:0,zS:!0}));}return !1;};p.prototype.bHa=function(q,v){var t;t=this;v.forEach(function(w){var u;u=t.gs(q,w.Ta);u && !w.ve && (u.stream.ve?w.P9(u.stream):(u.w0 || (u.w0=[]),u.w0.push(t.Ke)));});};p.prototype.aS=function(q,v,t){var w,u,y;w=this;y=this.Ke;n.ng.forEach(function(x){var z,B,A,C,D;if(y.Ac(x) && (void 0 === t || x === t)){C=q[x];(0,g.assert)(C && y.getTrackById(C.trackId) === C);C=C.Rc;if(y.pl)w.H.warn("requestHeadersFromManifest, shutdown detected");else if(y.Ak.L2(y.N,C)){D=null !== (A=null === (B=null === (z=w.sF(x)) || void 0 === z?void 0:z.DK) || void 0 === B?void 0:B.bitrate) && void 0 !== A?A:0;z=(0,f.oua)(C,D);void 0 === z && w.H.warn(("Unable to find stream for bitrate ").concat(D));z=C[z];(B=y.gs(x,z.Ta)) && B.stream.ma?y.Dlc(x,B):(x={offset:0,zS:!1,YE:x === n.u.J,yy:!0,iR:!w.eca(y)},y.p4a(z,x,v));}else w.H.warn("requestHeadersFromManifest, unable to update urls");}});y.Dba=!0;null === (u=this.ki) || void 0 === u?void 0:u.call(this,y.Ub).Uqa();};p.prototype.bH=function(q,v){var t,w,u,y;t=this.K;w=this.gs(q.mediaType,q.Ta);if(w)return (w.stream.ma || w.zS && this.h3a(w),!1);w=this.HCb;u=this.ICb;if(void 0 !== t.AAa && void 0 !== w && void 0 !== u){y=c.default.time.fa();if(y - w < t.AAa || y - u < t.AAa)return !1;}q=this.kha(q,{offset:0},void 0,void 0,v);this.ICb=c.default.time.fa();return q;};p.prototype.kha=function(q,v,t,w,u){var y,x,z,B,A;B=q.mediaType;l.tn.Hq(B);A=q.Ta;if(this.VAb(A,!!v.yy))return (null === (y=this.i_a) || void 0 === y?void 0:y.call(this),!1);if(y=this.gs(B,A))q=!1;else {y=(A=this.K.fob && q.qa)?0:v.offset;A=A?0:null !== (x=v.ha) && void 0 !== x?x:this.GBb(q);x=d.__assign(d.__assign({},v),{offset:y,ha:A});y=!!x.YE;A=!!x.iR;this.hZ?u=this.hZ(B,!!x.yy,y,A,!!t):u || (u=this.Ye);(0,g.assert)(u);q.url && (this.sF(B).Xya=q.bQ(!0));y=q=this.QXa(q,u,x);if(!q.$K())return (this.Ke.ig("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}v.yy && w && (this.Ke.oj[B]=y);null === (z=this.i_a) || void 0 === z?void 0:z.call(this);return q;};p.prototype.wm=function(){var q,v;q=this;v=[];this.Rx.forEach(function(t,w){var y;l.tn.Hq(w);for(var u in t){w=t[u];y=w.cHa();1 === y?v.push(w):2 === y && q.Ke.ig("swapUrl failure");}});return v;};p.prototype.rl=function(q){var v,t;v=q.mediaType;t=l.tn.Hq(v);this.Ke.pl?t.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.xC({type:"logdata",target:"startplay",gd:{usedNativeDataView:q.zmc}}),q.yea > q.k$b && (this.RYa[v]=q.yea),q.zS && this.h3a(q),this.iCb(q),this.HCb=c.default.time.fa(),this.Ke.events.emit("onHeaderRequestComplete",q));this.$v(q);};p.prototype.r8=function(q,v,t){var w;w=q.mediaType;l.tn.Hq(w);w=this.Ke.Gy(w,q.Ta);if(v !== !!q.Pm)return !1;this.c0a(q);q.GHb(w);this.xXa(q);this.Ke.events.emit("onHeaderFromCache",{header:q,GVb:t});return !0;};p.prototype.vO=function(q,v){var t,w,u,y;t=[];w=this.Rx[q];for(u in w){y=w[u];y && !y.stream.ma && y.zu === v && (this.Tsa(q,u),t.push({stream:y.stream,offset:y.offset,ha:y.ha,YE:y.YE,yy:y.yy,iR:y.iR,SBa:y.SBa}),y.wd());}return t;};p.prototype.aEa=function(q){var v;v=this;q.forEach(function(t){v.kha(t.stream,t);});};p.prototype.c0a=function(q){this.Rx[q.mediaType][q.Ta]=q;};p.prototype.z0b=function(q,v){return !!this.gs(q,v);};p.prototype.iCb=function(q){var v,t,w,y;v=this.K;t=l.tn.Hq(q.mediaType);w=q.stream.ma;if(v.Fsa){v=w.length;t.trace("fragment count:",v);for(var u=0;u < v;++u){y=w.get(u);t.trace("fragment: " + u + ", startPts: " + y.ca + ", duration: " + y.duration + ", offset: " + y.offset);}}this.xXa(q);};p.prototype.xXa=function(q){var v,t;v=q.mediaType;t=q.Ta;l.tn.Hq(v);q.w0 && (q.w0.forEach(function(w){(w=w.Gy(v,t)) && w !== q.stream && !w.ve && w.P9(q.stream);}),q.w0=void 0);this.Ke.e0b(q);};p.prototype.QXa=function(q,v,t){var w,u;w=this;u=l.tn.Hq(q.mediaType);q=new h.qia(q,this.K,v,t,this,!1,u);q.addListener("headerRequestCancelled",function(y){w.hCb(y.request);});q.oa(void 0);this.c0a(q);return q;};p.prototype.VAb=function(q,v){return this.FA && (q=this.FA.w_(this.Ke.L,q)) && this.r8(q,!1,v)?!0:!1;};p.prototype.GBb=function(q){var v,t,w,u;v=q.sm;t=q.P;w=t.duration;u=this.K;return q.qa?512:t.$f.ug?u.u7a?u.u7a:u.Cba:u.wmc && v?v.offset + v.size:(q=this.RYa[q.mediaType])?q + 128:u.Nta?2292 + 12 * Math.ceil(w / 2E3):u.Cba;};p.prototype.hCb=function(q){this.Tsa(q.mediaType,q.Ta);};p.prototype.Tsa=function(q,v){delete this.Rx[q][v];};p.prototype.h3a=function(q){this.IN === q.Ta && (this.IN=void 0);};return p;})(r.jx);b.vNa=a;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.czb=void 0;d=a(0).__importDefault(a(3));l=a(117);h=["",""];r=(function(){function n(c){this.kq=c;this.complete=this.append=this.gaa=this.kza=this.open=0;}Object.defineProperties(n.prototype,{console:{get:function(){return l.tn.Hq(this.kq.mediaType);},enumerable:!1,configurable:!0}});n.prototype.J9b=function(){this.open=d.default.time.fa();};n.prototype.C9b=function(){this.kza=d.default.time.fa();this.ik();};n.prototype.y9b=function(){this.gaa=d.default.time.fa();this.ik();};n.prototype.n9b=function(){this.append=d.default.time.fa();this.ik();};n.prototype.k0=function(){this.complete=d.default.time.fa();this.ik();};n.prototype.ik=function(){var c;c=("RequestLedger ID: ").concat(this.kq.Si());c+=(" load-open: ").concat(this.kza - this.open);0 < this.gaa && (" firstbyte-load: ").concat(this.gaa - this.kza);0 < this.append && (" append-firstbyte: ").concat(this.append - this.gaa);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),c=this.kq.mediaType,this.complete - this.open > this.kq.duration && 0 !== this.kq.duration?((" duration: ").concat(this.kq.duration),h[c]+="X"):h[c]+=".",10 < h[c].length && (h[c]=h[c].slice(1)));};return n;})();b.czb=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PUa=void 0;d=a(0);l=a(11);r=(function(h){function n(c,f,g,k){var m;m=h.call(this) || this;m.H=c;m.track=f;m.Un=!1;m.Kna=!1;m.Th=new l.kf();m.Th.on(f,"networkfailing",function(){m.emit("networkfailing");});m.Th.on(f,"error",function(){m.H.warn("requestQueue got error");m.emit("error");});if(g)(m.Un=!0,Promise.resolve().then(function(){return m.emit("created");}));else m.Th.on(f,"created",function(){m.Un=!0;m.emit("created");});m.Kna=k;return m;}d.__extends(n,h);Object.defineProperties(n.prototype,{V$:{get:function(){return this.track.V$;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fh:{get:function(){return this.track.Fh;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Sj:{get:function(){return this.track.Sj;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{tY:{get:function(){return this.track.tY;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});n.prototype.oa=function(){var c,f;this.Kna || (null === (f=(c=this.track).oa) || void 0 === f?void 0:f.call(c),this.Kna=!0);};n.prototype.rw=function(){return this.track.rw();};n.prototype.toString=function(){return this.track.toString();};n.prototype.toJSON=function(){return this.track;};n.prototype.Mt=function(){this.Th.clear();};return n;})(l.EventEmitter);b.PUa=r;},function(r,b,a){var f,g,k,m,p,q,v,t,w;function d(u){var y,x,z;u=u.parent;y=!1;if(u && u.children){x={};x[t.vn]=[];x[t.zm]=[];x[t.TEMPORARY]=[];z=u.children;z.forEach(function(B){B && x[B.Yf].push(B);});0 < x[t.vn].length || (x[t.zm].length === z.length?u.Yf !== t.zm && (u.Yf=t.zm,v.error("PERM failing :",m.default.Zh.name[u.kp] + " " + u.id),y=!0):(u.Yf === t.vn && (u.Yf=t.TEMPORARY,v.error("TEMP failing :",m.default.Zh.name[u.kp] + " " + u.id),y=!0),x[t.TEMPORARY].forEach(function(B){B.Yf=t.vn;})),y && d(u));}}function l(u){var y;if((u=u.parent) && 0 < u.children.length && u.Yf !== t.vn){y={};y[t.vn]=[];y[t.zm]=[];y[t.TEMPORARY]=[];u.children.forEach(function(x){x && y[x.Yf].push(x);});0 < y[t.vn].length && (u.Yf=t.vn,l(u));}}function h(u){return u.Yf !== t.vn;}function n(u){switch(u.Yf){case t.vn:return "OK";case t.zm:return "FAILED PERMANENTLY";case t.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function c(u,y){if(u.Yf === t.TEMPORARY || u.Yf === t.zm && y)u.Yf=t.vn;u.children && u.children.forEach(function(x){x && c(x,y);});}Object.defineProperties(b,{__esModule:{value:!0}});b.mPa=void 0;f=a(0);g=f.__importStar(a(13));r=a(11);k=a(6);m=f.__importDefault(a(29));p=f.__importDefault(a(3));q=a(2);v=new p.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.vn=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.zm=2]="PERMANENT";})(t || (t={}));(function(u){u[u.Cx=0]="STARTUP";u[u.$yb=1]="REBUFFER";})(w || (w={}));a=(function(u){var R4Y;function y(x,z,B,A,C,D){var Z4M,E;Z4M=2;for(;Z4M !== 25;){switch(Z4M){case 7:E.Pj={};E.rm={};E.urls={};Z4M=13;break;case 2:E=u.call(this) || this;E.Bc=B;E.zk=A;Z4M=4;break;case 20:var G3M="1S";G3M+="IY";G3M+="bZrNJ";G3M+="Cp";G3M+="9";var l14="LI";l14+="V";l14+="E";E.r7=null;E.JG=null;E.oS=m.default.Bx.Cx;B=x.bm;E.qa=l14 === x.qh && !!B;E.EW(x,z,m.default.Bx.Cx);G3M;Z4M=26;break;case 4:var i6q="L";i6q+="IV";i6q+="E";E.config=C;E.DDb=D;E.SYa=i6q;E.jcc=w.Cx;Z4M=7;break;case 10:var y6V="ne";y6V+="t";y6V+="w";y6V+="or";y6V+="k";E.Uq={id:y6V,kp:m.default.Zh.hA,Yf:t.vn,iz:void 0,parent:void 0,children:E.vC};Z4M=20;break;case 13:E.streams={};E.vC=[];E.Mda=!1;Z4M=10;break;case 26:return E;break;}}}R4Y=2;for(;R4Y !== 22;){switch(R4Y){case 25:y.prototype.tac=function(){var j77,x;j77=2;for(;j77 !== 5;){switch(j77){case 2:x=this;this.Mda || this.vC.forEach(function(z){var P0p;P0p=2;for(;P0p !== 1;){switch(P0p){case 2:z.Yf === t.TEMPORARY && x.zk.fail(z.id,p.default.time.fa());P0p=1;break;}}});j77=5;break;}}};y.prototype.dump=function(){};R4Y=23;break;case 2:f.__extends(y,u);y.prototype.o_b=function(){var L1s;L1s=2;for(;L1s !== 1;){switch(L1s){case 2:return this.vC[0].Ib;break;}}};y.prototype.Wv=function(){var g3K;g3K=2;for(;g3K !== 1;){switch(g3K){case 2:return h(this.Uq);break;case 4:return h(this.Uq);break;}}};R4Y=4;break;case 4:y.prototype.lgc=function(x){var I5D;I5D=2;for(;I5D !== 5;){switch(I5D){case 1:return x.parent.id;break;case 9:return x.parent.id;break;case 2:I5D=(x=this.urls[x]) && x.parent?1:5;break;}}};y.prototype.U$a=function(x){var A7X,z,B,W03,D,A,C,b9X,O$p,i19;A7X=2;for(;A7X !== 4;){switch(A7X){case 2:B=[];try{W03=2;for(;W03 !== 9;){switch(W03){case 3:C=A.next();W03=1;break;case 5:D=this.urls[C.value];D.url === x.Cu.url && B.push(D.ec);W03=3;break;case 6:W03=~C.done?8:1;break;case 1:W03=!C.done?5:9;break;case 2:(A=f.__values(Object.keys(this.urls)),C=A.next());W03=1;break;}}}catch(G){var E;E={error:G};}finally{b9X=2;for(;b9X !== 1;){switch(b9X){case 2:try{O$p=2;for(;O$p !== 1;){switch(O$p){case 2:C && !C.done && (z=A.return) && z.call(A);O$p=1;break;}}}finally{i19=2;for(;i19 !== 5;){switch(i19){case 9:throw E.error;i19=6;break;case 1:throw E.error;i19=5;break;case 2:i19=E?1:5;break;}}}b9X=1;break;}}}return B;break;}}};y.prototype.Q9a=function(x){var K6p;K6p=2;for(;K6p !== 1;){switch(K6p){case 2:for(var z in this.streams){if(this.streams[z].xE === x){return this.streams[z];}}K6p=1;break;}}};R4Y=8;break;case 8:y.prototype.EW=function(x,z,B){var I6V,D,E,G,A,C;I6V=2;for(;I6V !== 26;){switch(I6V){case 19:x.forEach(function(F){var y_T;y_T=2;for(;y_T !== 1;){switch(y_T){case 2:F.rm.sort(function(K,O){var D_E;D_E=2;for(;D_E !== 1;){switch(D_E){case 4:return K.wc * O.wc;break;case 2:return K.wc - O.wc;break;}}});y_T=1;break;}}});this.vC=x;this.Uq.children=x;this.JG=null;I6V=15;break;case 15:this.oS=B;this.dump();I6V=26;break;case 5:var s4K="L";s4K+="IV";s4K+="E";var w3M="L";w3M+="I";w3M+="VE";x.locations.forEach(function(F){var k_w,K,O,L,I;k_w=2;for(;k_w !== 7;){switch(k_w){case 2:K=F.key;k_w=1;break;case 1:k_w=A.Pj[K]?5:4;break;case 5:(A.Pj[K].wc=F.rank,A.Pj[K].level=F.level,A.Pj[K].weight=F.weight);k_w=7;break;case 4:(O=[],L=A.zk.get(K),I=A.Uq);F={id:K,kp:m.default.Zh.LOCATION,Yf:t.vn,wc:F.rank,level:F.level,weight:F.weight,iz:void 0,parent:I,children:O,rm:O,streams:{},Ib:L};A.Pj[F.id]=F;I.children.push(F);k_w=7;break;}}});this.r7=p.default.time.fa();this.vC.sort(function(F,K){var L52;L52=2;for(;L52 !== 1;){switch(L52){case 2:return F.level - K.level || F.wc - K.wc;break;}}});x.servers.forEach(function(F){var o_4,O,K,L;o_4=2;for(;o_4 !== 14;){switch(o_4){case 5:A.rm[K].wc=F.rank;o_4=14;break;case 3:o_4=O?9:14;break;case 4:O=A.Pj[F.key];o_4=3;break;case 1:o_4=A.rm[K]?5:4;break;case 2:K=F.id;o_4=1;break;case 9:L=[];F={id:K,kp:m.default.Zh.PH,Yf:t.vn,iz:void 0,parent:O,children:L,urls:L,name:F.name,type:F.type,wc:F.rank,location:O};A.rm[F.id]=F;O.children.push(F);o_4=14;break;}}});(D=x.qh,E=x.bm);(0,q.assert)(this.qa && w3M === D && !!E || !this.qa && s4K !== D && !E);I6V=6;break;case 6:this.qa && (this.j5b=E.c9b);G=!0;z && (G=!1,this.ucc(z));x.audio_tracks.forEach(function(F){var O9L;O9L=2;for(;O9L !== 1;){switch(O9L){case 2:A.ojb(k.u.U,F,G);O9L=1;break;}}});x.video_tracks.forEach(function(F){var j08;j08=2;for(;j08 !== 1;){switch(j08){case 2:A.ojb(k.u.J,F,G);j08=1;break;}}});null === (C=x.timedtexttracks) || void 0 === C?void 0:C.forEach(function(F){var D2I;D2I=2;for(;D2I !== 1;){switch(D2I){case 2:A.mcc(F,G);D2I=1;break;case 4:A.mcc(F,G);D2I=7;break;}}});x=this.vC.filter(function(F){var l6k,K;l6k=2;for(;l6k !== 4;){switch(l6k){case 2:K=F.rm.every(function(O){var q4u;q4u=2;for(;q4u !== 1;){switch(q4u){case 4:R7xOY.h1T(11);var S04=R7xOY.f4w(0,10,9);return S04 != O.urls.length;break;case 2:return 0 === O.urls.length;break;}}});K && (F.rm.forEach(function(O){var U8c;U8c=2;for(;U8c !== 1;){switch(U8c){case 2:A.rm[O.id]=void 0;U8c=1;break;}}}),A.Pj[F.id]=void 0,F.parent=void 0,F.children.length=0,F.streams={});return !K;break;}}});I6V=19;break;case 2:A=this;void 0 === B && (B=m.default.Bx.Lwb);I6V=5;break;}}};y.prototype.L2=function(x,z,B){var K3E,F,A,C,D,E,G,K;K3E=2;for(;K3E !== 16;){switch(K3E){case 7:F=m.default.bk.zD;C.$_ && (F=m.default.bk.yD);this.Bc.location && E.confidence >= F && (x=this.Pj[this.Bc.location]) && (x.Ib=E);g.yb(this.JG) && (this.JG=this.Llc());K3E=12;break;case 2:(A=this,C=this.config,D=!1);this.qa && void 0 !== B && B !== this.SYa && (void 0 === this.TYa || p.default.time.fa() - this.TYa > C.Z4b) && (this.SYa=B,this.TYa=p.default.time.fa(),D=!0);D && (this.JG=null);(E=this.Bc.get(),G=0);K3E=3;break;case 8:return !1;break;case 12:K3E=!this.JG?11:10;break;case 3:p.default.Mv && p.default.Mv(x);K3E=9;break;case 10:K=this.JG;K3E=20;break;case 20:K3E=!K.length?19:18;break;case 19:return (this.Bu(m.default.Zh.hA,!1),!1);break;case 9:K3E=h(this.Uq)?8:7;break;case 11:return (this.Bu(m.default.Zh.hA,!1),!1);break;case 18:var f3D="(e";f3D+="m";f3D+="pty s";f3D+="tream list)";var l_A="Did not find a URL f";l_A+="o";l_A+="r ANY str";l_A+="eam...";var l65="networkF";l65+="aile";l65+="d";var h3K="Net";h3K+="work has fa";h3K+="iled, not updating s";h3K+="tream selection";z.forEach(function(O,L){var H_n,I;H_n=2;for(;H_n !== 5;){switch(H_n){case 2:var u8h=" K";u8h+="bps";u8h+=")";var n61=" ";n61+="(";var x$L="]";x$L+=" ";var z9Y="Fai";z9Y+="li";z9Y+="ng stre";z9Y+="am [";I=O.id;K.some(function(M){var g3y,H,J;g3y=2;for(;g3y !== 8;){switch(g3y){case 1:g3y=!H?5:4;break;case 5:return !1;break;case 2:H=M.streams[I];g3y=1;break;case 4:J=H.Pj[0];void 0 === O.Zea && (O.Zea=J.id,O.KCa=H.bT[J.id][0].ec.id);return H.bT[M.id].some(function(N){var f2E,P;f2E=2;for(;f2E !== 20;){switch(f2E){case 2:f2E=h(N.ec)?1:5;break;case 7:O.ec=N.ec.id;O.IL=N.ec.name;O.Gu=N.ec.type;D && (H.hza=B);f2E=12;break;case 1:return (N.ec.Yf === t.TEMPORARY && (O.Yf=t.TEMPORARY),C.Ow && O.ec === N.ec.id && N.ec.iz && (O.iz=N.ec.iz),!1);break;case 12:O.Ib=C.rqa?M.Ib.confidence >= m.default.bk.yD || E.confidence < F?M.Ib:E:E.confidence === m.default.bk.HAVE_NOTHING || M.Ib.confidence >= m.default.bk.yD?M.Ib:E;C.G6a && !O.Ib.LZ && (O.Ib.LZ=M.Ib.LZ);return !0;break;case 5:f2E=h(N) || D && !N.Nca.some(function(X){var h0s;h0s=2;for(;h0s !== 1;){switch(h0s){case 2:R7xOY.h1T(12);return R7xOY.f4w(B,X);break;}}})?4:3;break;case 4:return !1;break;case 3:var R7i="loc";R7i+="ation";R7i+="failover";var u1s="serv";u1s+="erf";u1s+="ail";u1s+="over";var Q_I="per";Q_I+="f";Q_I+="ormance";var t8M="u";t8M+="n";t8M+="known";P=t8M;O.location !== M.id && (C.Ow?O.Aya=M.id === J.id:P=M !== K[0] && D && H.hza !== B?"" + m.default.Bx.Ezb:M !== K[0]?"" + m.default.Bx.Fia:void 0 === O.location?"" + m.default.Bx.Cx:g.xa(O.zdb) || O.zdb === M.id?g.xa(O.Edb) || O.Edb === N.ec.id?Q_I:u1s:R7i,O.location=M.id,O.nza=M.level,O.Fu=P);O.url=N.url;f2E=7;break;}}});break;}}})?(O.UB=!1,O.Yf=void 0,O.qs && ++G):O.Yf && O.Yf === t.TEMPORARY?A.Uq.Yf=t.TEMPORARY:O.UB || (v.warn(z9Y + L + x$L + I + n61 + O.bitrate + u8h),O.$Lb(),O.UB=!0);H_n=5;break;}}});return h(this.Uq)?(v.warn(h3K),this.Mda=!0,this.emit(l65,this.Uq.Yf === t.zm),!1):G?!0:(v.warn(l_A + (z.length?"":f3D)),this.Bu(m.default.Zh.hA,!0),!1);break;}}};y.prototype.ogc=function(x,z){var P5k,B,A;P5k=2;for(;P5k !== 4;){switch(P5k){case 2:(B=[],A=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);g.forEach(this.urls,function(C,D){var z1Q,E,K,G,F;z1Q=2;for(;z1Q !== 13;){switch(z1Q){case 2:C=C.ec;E=D.match(A);z1Q=5;break;case 7:C.urls.some(function(O){var S5_;S5_=2;for(;S5_ !== 5;){switch(S5_){case 3:S5_=O.url == D?3:8;break;case 2:S5_=O.url === D?1:5;break;case 1:return (K=O,!0);break;}}});z1Q=14;break;case 14:K && B.push({url:K,ec:C});z1Q=13;break;case 8:z1Q=g.Tg(F) && g.Tg(E) && F === x && E == z?7:13;break;case 5:z1Q=E && 4 === E.length?4:13;break;case 4:var J9z="8";J9z+="0";var y2v="4";y2v+="4";y2v+="3";(G="s" === E[1],F=E[2]);E=E[3];E.length || (E=G?y2v:J9z);z1Q=8;break;}}});return B;break;}}};y.prototype.Bu=function(x,z,B,A){var v6e,F,C,D,E,z49,G,K,D_w;v6e=2;for(;v6e !== 42;){switch(v6e){case 4:v6e=C?3:43;break;case 5:C=C.parent;v6e=1;break;case 29:v6e=D_w === t.vn?24:28;break;case 1:v6e=C && C.parent && C.kp !== x?5:4;break;case 14:v6e=13;break;case 19:F=F.parent;v6e=12;break;case 27:var m4c=" ";m4c+=": w";m4c+="as";m4c+=" ";G.call(B,x + (z.length?"/" + z.join("/"):"") + m4c + n(C));v6e=26;break;case 44:var E$J="Inva";E$J+="lid fai";E$J+="lure state";throw Error(E$J);v6e=24;break;case 18:v6e=z49 === m.default.Zh.LOCATION?17:16;break;case 16:v6e=z49 === m.default.Zh.URL?15:19;break;case 25:return;break;case 3:v6e=E !== C.Yf?9:42;break;case 24:C.Yf=E;d(C);this.Mda=this.Mda || h(this.Uq);E=this.Uq.Yf;v6e=35;break;case 15:var E2e="<";E2e+="url f";E2e+="o";E2e+="r";E2e+=" ";z.unshift(E2e + F.stream.bitrate + ">");v6e=19;break;case 2:(C=x !== m.default.Zh.hA && B?this.urls[B]:this.Uq,D=this.Uq.Yf,E=z?t.zm:t.TEMPORARY);v6e=1;break;case 13:F=C;v6e=12;break;case 28:v6e=44;break;case 30:v6e=D_w === t.TEMPORARY?24:29;break;case 32:A && (this.oS=m.default.Bx.Gyb,C.iz=A);this.dump();v6e=42;break;case 11:z49=F.kp;v6e=z49 === m.default.Zh.PH?10:18;break;case 35:var p2t="net";p2t+="w";p2t+="or";p2t+="kFailed";var s_7="Emit";s_7+="ting networkF";s_7+="ailed";s_7+=", per";s_7+="manent =";E > D && (v.warn(s_7,E === t.zm),this.emit(p2t,E === t.zm));this.JG=null;this.oS=m.default.Bx.mg;v6e=32;break;case 9:var K4O=" ";K4O+="a";K4O+="t";K4O+=" ";var P1M=" ";P1M+="failure reported ";P1M+="for ";var g4U="T";g4U+="E";g4U+="MP";var E45="P";E45+="E";E45+="R";E45+="M";B=v;G=B.warn;x=(z?E45:g4U) + P1M + m.default.Zh.name[x] + K4O;z=[];v6e=14;break;case 10:K=F;v6e=20;break;case 20:z.unshift(K.id + "(" + K.name + ")");v6e=19;break;case 17:z.unshift(F.id);v6e=19;break;case 43:var a07="Una";a07+="ble to find failu";a07+="re entity for URL ";R7xOY.h1T(6);v.warn(R7xOY.f4w(B,a07));v6e=42;break;case 12:v6e=F?11:27;break;case 26:D_w=C.Yf;v6e=D_w === t.zm?25:30;break;}}};y.prototype.clb=function(x,z){var v62;v62=2;for(;v62 !== 3;){switch(v62){case 5:this.JG=null;this.oS=m.default.Bx.bla;v62=3;break;case 1:(c(x,z),l(x));v62=5;break;case 2:v62=(x=this.rm[x])?1:5;break;}}};y.prototype.Ffa=function(){var x0s;x0s=2;for(;x0s !== 1;){switch(x0s){case 2:c(this.Uq,!1);x0s=1;break;}}};R4Y=11;break;case 11:y.prototype.xC=function(x){var w$4,z;w$4=2;for(;w$4 !== 5;){switch(w$4){case 2:null === (z=this.DDb) || void 0 === z?void 0:z.call(this,x);w$4=5;break;}}};y.prototype.si=function(){var m1H;m1H=2;for(;m1H !== 1;){switch(m1H){case 4:this.xec(w.$yb);m1H=3;break;case 2:this.xec(w.$yb);m1H=1;break;}}};y.prototype.Wa=function(){var z7T;z7T=2;for(;z7T !== 1;){switch(z7T){case 2:this.config.A5b && this.tac();z7T=1;break;}}};y.prototype.ucc=function(x){var R4x,B,A,C,q7F,D,E,N_V,Z25,p_V;R4x=2;for(;R4x !== 4;){switch(R4x){case 2:(A=this,C=new Set());try{q7F=2;for(;q7F !== 3;){switch(q7F){case 7:q7F=~E.done?9:4;break;case 5:z(E.value);q7F=4;break;case 1:q7F=!E.done?5:3;break;case 2:(D=f.__values(x),E=D.next());q7F=1;break;case 4:E=D.next();q7F=1;break;}}}catch(F){var G;G={error:F};}finally{N_V=2;for(;N_V !== 1;){switch(N_V){case 2:try{Z25=2;for(;Z25 !== 1;){switch(Z25){case 2:E && !E.done && (B=D.return) && B.call(D);Z25=1;break;}}}finally{p_V=2;for(;p_V !== 5;){switch(p_V){case 1:throw G.error;p_V=5;break;case 2:p_V=G?1:5;break;}}}N_V=1;break;}}}Object.keys(this.streams).forEach(function(F){var t83;t83=2;for(;t83 !== 1;){switch(t83){case 2:C.has(F) || delete A.streams[F];t83=1;break;}}});R4x=4;break;}}function z(F){var Z_G;Z_G=2;for(;Z_G !== 1;){switch(Z_G){case 2:Object.keys(F).forEach(function(K){var s4P,O,L;s4P=2;for(;s4P !== 9;){switch(s4P){case 2:O=F[K];C.add(K);s4P=5;break;case 5:s4P=O?4:9;break;case 14:s4P=O?9:1;break;case 4:var a3n="L";a3n+="I";a3n+="V";a3n+="E";L=A.streams[K];A.streams[K]=L?f.__assign(f.__assign({},L),O):{id:K,bitrate:O.bitrate,gb:null,type:O.mediaType,clear:O.Mj?!1:!0,qs:!0,urls:[],bT:{},Pj:[],xE:O,hza:A.qa?a3n:void 0};s4P=9;break;}}});Z_G=1;break;}}}};R4Y=18;break;case 18:y.prototype.ojb=function(x,z,B){var y3L,A;y3L=2;for(;y3L !== 5;){switch(y3L){case 2:A=this;z.streams.forEach(function(C){var n7x;n7x=2;for(;n7x !== 1;){switch(n7x){case 2:A.pjb(x,C.downloadable_id,C,B);n7x=1;break;}}});y3L=5;break;}}};y.prototype.mcc=function(x,z){var D8k,B;D8k=2;for(;D8k !== 4;){switch(D8k){case 2:var h6H="n";h6H+="o";h6H+="n";h6H+="e";D8k=h6H !== x.id?1:4;break;case 1:var H2x="i";H2x+="ms";H2x+="c";H2x+="1";H2x+=".1";B=x.ttDownloadables[H2x];D8k=5;break;case 8:B=x.ttDownloadables[""];D8k=6;break;case 5:var U7J="imsc1";U7J+=".";U7J+="1";B && this.pjb(k.u.nb,x.downloadableIds[U7J],B,z);D8k=4;break;}}};y.prototype.pjb=function(x,z,B,A){var F9T,C,D;F9T=2;for(;F9T !== 10;){switch(F9T){case 5:A="";F9T=4;break;case 1:F9T=g.xa(C) && A?5:12;break;case 11:return;break;case 6:this.ncc(C,B.urls);g.tg(C.bT,function(E){var R1h;R1h=2;for(;R1h !== 1;){switch(R1h){case 2:E.sort(function(G,F){var d_C;d_C=2;for(;d_C !== 1;){switch(d_C){case 2:return G.ec.wc - F.ec.wc;break;}}});R1h=1;break;}}});C.Pj=C.Pj.sort(function(E,G){var l3B;l3B=2;for(;l3B !== 1;){switch(l3B){case 2:return E.level - G.level || E.wc - G.wc;break;}}});F9T=10;break;case 7:this.streams[C.id]=C;F9T=6;break;case 2:C=this.streams[z];F9T=1;break;case 4:var D62="L";D62+="I";D62+="VE";var M2d="n";M2d+="o";M2d+="n";M2d+="e";M2d+="-";C=0;D=null;x !== k.u.nb && (A=B.content_profile,C=B.bitrate,x === k.u.J && (D=B.vmaf));C={id:z,bitrate:C,gb:D,type:x,profile:A,clear:0 === A.indexOf(M2d),qs:!0,urls:[],bT:{},Pj:[],hza:this.qa?D62:void 0};F9T=7;break;case 12:F9T=!C && !A?11:6;break;}}};y.prototype.ncc=function(x,z){var R9X,B;R9X=2;for(;R9X !== 5;){switch(R9X){case 2:B=this;z.forEach(function(A){var w3R,C,D,E,G,F;w3R=2;for(;w3R !== 14;){switch(w3R){case 5:w3R=E?4:14;break;case 2:(C=A.url,D=B.urls[C],E=B.rm[A.cdn_id]);B.qa && (G=A.liveOcaCapabilities);w3R=5;break;case 4:g.xa(D) && (D={id:C,kp:m.default.Zh.URL,Yf:t.vn,iz:void 0,parent:E,children:[],url:C,ec:E,stream:x,Nca:G},B.urls[C]=D,E.children.push(D));F=E.location;x.urls.push(D);0 === x.Pj.filter(function(K){var e8u;e8u=2;for(;e8u !== 1;){switch(e8u){case 2:return K.id === F.id;break;}}}).length && x.Pj.push(F);F.streams[x.id]=x;(A=x.bT[F.id])?A.push(D):x.bT[F.id]=[D];w3R=14;break;}}});R9X=5;break;}}};y.prototype.Llc=function(){var j7d,x,z,B,A;j7d=2;for(;j7d !== 6;){switch(j7d){case 1:j7d=0 === B.length?5:4;break;case 9:(B.forEach(function(C){var t6t;t6t=2;for(;t6t !== 1;){switch(t6t){case 2:C.id !== x.Bc.location && (C.Ib=x.zk.get(C.id));t6t=1;break;}}}),this.r7=A);j7d=8;break;case 2:(x=this,z=this.config,B=this.vC.filter(function(C){var a$6;a$6=2;for(;a$6 !== 1;){switch(a$6){case 2:return !h(C) && 0 !== C.level;break;}}}));j7d=1;break;case 5:return null;break;case 8:B.sort(function(C,D){var B2u;B2u=2;for(;B2u !== 1;){switch(B2u){case 2:return C.level - D.level || C.wc - D.wc;break;}}});return B;break;case 3:j7d=null === this.r7 || this.r7 + z.mza < A?9:8;break;case 4:A=p.default.time.fa();j7d=3;break;}}};y.prototype.xec=function(x){var m0s,z;m0s=2;for(;m0s !== 4;){switch(m0s){case 2:z=this.Bc.location;this.jcc=x;this.vC.forEach(function(B){var B93;B93=2;for(;B93 !== 1;){switch(B93){case 2:B.id !== z && B.Ib && B.Ib.confidence > m.default.bk.zD && (B.Ib.confidence=m.default.bk.zD);B93=1;break;}}});m0s=4;break;}}};R4Y=25;break;case 23:return y;break;}}})(r.EventEmitter);b.mPa=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.VIa=void 0;d=a(21);r=(function(){function l(h){this.config=h;}l.prototype.vcc=function(h){var n,c,f;n=this.config;c=[];f=[];h.forEach(function(q,v){void 0 === q.gb?f.push(v):c.push(v);});if(0 !== f.length)for(var g=-1,k=-1,m=function(q){var v,t,w,u,y,x;v=f[q];t=h[v];if(0 === q || v !== f[q - 1] + 1)(g=c[(0,d.Tpa)(c,function(z){return z < v;})] || -1,k=c[(0,d.vt)(c,function(z){return z > v;})] || -1);w=0;u=n.M6b;q=0;y=n.N6b;-1 < k && (u=h[k].bitrate,y=h[k].gb);-1 < g && (q=h[g].gb,w=h[g].bitrate);u=Math.log(u);w=0 === w?0:Math.log(w);x=Math.log(t.bitrate);t.L$=Math.max(0,Math.min(110,Math.round((q * (u - x) + y * (x - w)) / (u - w) * 100) / 100));},p=0;p < f.length;p++){m(p);}};return l;})();b.VIa=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.GQa=void 0;d=a(6);l=a(20);h=a(2);n=a(1008);c=a(1009);f=a(1010);g=a(1011);k=a(1012);m=a(1013);p=a(1014);q=a(1015);v=a(1016);t=a(1017);r=(function(){function w(u,y,x,z){this.config=u;this.mediaType=y;this.Yc=x;this.console=z;}w.prototype.append=function(u,y){var x,z,B,A;void 0 === this.track?this.uQ(u.stream):this.track !== u.stream.track && ((0,h.assert)(this.track.da),(0,h.assert)(u.stream.track.da),this.track=u.stream.track);(0,h.assert)(void 0 !== this.vq);z={pa:u,offset:null !== (x=u.XCa) && void 0 !== x?x:l.O.Oa,Se:this.config.jS,Jj:!1};z=this.vq.reduce(function(C,D){return D.append(C,y);},z);B=z.pa;x=z.offset;A=z.Jj;z=z.Qj;z=void 0 === z?[]:z;B.La && ((0,h.assert)(u.La,"Fragments must be marked for edit at request time"),u.vj(B.La));if(A || !this.ufb)return {offset:x,Jj:A};A=this.ufb.La(u);u=A.ja;B=A.Qj;A=A.response;Array.prototype.push.apply(z,void 0 === B?[]:B);return {offset:x,Jj:!u,Qj:z,response:A};};w.prototype.reset=function(){this.vq=this.track=void 0;};w.prototype.uQ=function(u){var y,x;this.track=u.track;this.ufb=new v.sQa(this.console,this.config,this.mediaType,u.profile);this.vq=[];if(this.mediaType === d.u.U){this.config.jS && this.vq.push(new f.eVa(this.config,u.track,this.console));x=this.Xqa(u);x.equal(l.O.Oa)?this.config.Km && u.Jf && this.Rxa(u.P.N) && this.vq.push(new m.vOa(this.config)):this.vq.push(new n.Lla(x));this.config.O_ || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(x.Fb(),", ") + ("").concat(null === (y=u.Jf) || void 0 === y?void 0:y.Fb())),this.vq.push(new g.cRa(this.config,u,this.console)));this.t3b()?(this.config.Wh || this.vq.push(new p.ZIa(u,this.config,this.Yc,this.console)),this.config.jS && this.vq.push(new t.Bia(this.console)),this.vq.push(new c.oRa(this.config,u,this.console)),this.Jhc(u) && ((0,h.assert)(u.da),this.vq.push(this.QMb(u.Jf || l.O.Oa,u.da,x)))):(this.vq.push(new q.$Ia(this.console)),this.config.jS && this.vq.push(new t.Bia(this.console)));}};w.prototype.Rxa=function(u){return this.config.Rxa || this.config.Vbb && -1 !== this.config.Vbb.indexOf(u);};w.prototype.Xqa=function(u){return n.Lla.Xqa(this.config,u.Jf,this.Yc,this.console);};w.prototype.t3b=function(){return !this.config.wL;};w.prototype.Jhc=function(u){return this.config.Xkc && this.config.Km && !!u.Jf;};w.prototype.QMb=function(u,y,x){return new k.HWa(u.Fa(x),y,this.console);};return w;})();b.GQa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Lla=void 0;d=a(20);l=a(9);r=(function(){function h(n){this.Jf=n;}h.Xqa=function(n,c,f,g){var k;k=d.O.Oa;c && (f=null === f || void 0 === f?void 0:f.Quc,n.omc && void 0 !== f && 0 <= f?(n=new d.O(f,48E3),k=c.add(n),l.M && g.trace(("Adjusting profile timestamp offset of ").concat(c) + (" by DPI assumed delay of ").concat(n) + (" for ASE applied offset of ").concat(k,"."))):n.RI && (k=c));return k;};h.prototype.append=function(n){var c,f,g;c=n.Se;f=n.Jj;g=n.Qj;return {pa:n.pa,offset:n.offset.add(this.Jf),Se:c,Jj:f,Qj:g};};return h;})();b.Lla=r;},function(r,b,a){var l,h,n,c;function d(f){return ("").concat(f.toString()," (nrdp: ").concat(f.AL,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.oRa=void 0;l=a(20);h=a(269);n=a(9);c=a(2);r=(function(){function f(g,k,m){this.console=m;this.offset=l.O.Oa;this.Jf=g.Km?k.Jf:void 0;(0,c.assert)(k.da);this.da=k.da;}f.prototype.append=function(g){var k,m,p,q;if(g.Jj)return g;k=g.pa;m=g.offset;p=g.Se;q=g.Qj;void 0 !== this.wdb && ((0,c.assert)(void 0 !== this.Kya),k.cc.add(g.offset).equal(this.wdb)?(g=this.BKb(k,m.add(this.offset)).Z - this.Kya,0 > g?this.offset=this.offset.add(l.O.yC):0 === g?this.offset.lessThan(l.O.Oa) && (this.offset=this.offset.add(l.O.yC)):1 === g?this.offset.greaterThan(l.O.Oa) && (this.offset=this.offset.Fa(l.O.yC)):this.offset=this.offset.Fa(l.O.yC)):this.offset=l.O.Oa);this.Kya=this.AKb(k,m.add(this.offset)).Z;this.wdb=k.xd.add(m);return {pa:k,offset:m.add(this.offset),Se:p,Jj:!1,Qj:q};};f.prototype.BKb=function(g,k){var m,p;g=this.x0a(g.cc);m=(0,h.Cw)(g).add((0,h.Cw)(k));p=g.add(k).Fa(m);n.M && this.console.trace("NrdpRounding: content start " + d(g) + ", timestamp offset: " + d(k) + ", start rounding error: " + (0,h.Cw)(g).toString() + ", offset rounding error: " + (0,h.Cw)(k).toString() + ", total error: " + m.toString() + ", expected nrdp value:" + p.Fb() + ", (" + g.AL + k.AL + "ms), last fragment end nrdp: " + this.Kya);return p;};f.prototype.AKb=function(g,k){var m,p,q;m=this.da;g=this.x0a(g.xd);p=(0,h.Cw)(g.Fa(m)).add((0,h.Cw)(m)).add((0,h.Cw)(k));q=g.add(k).Fa(p);n.M && this.console.trace("NrdpRounding: content end: start of last frame:" + d(g.Fa(m)) + ", frame duration: " + d(m) + ", offset: " + d(k) + ", timestamp rounding error: " + (0,h.Cw)(g.Fa(m)).toString() + ", frame duration rouding error: " + (0,h.Cw)(m).toString() + ", offset rounding error: " + (0,h.Cw)(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Fb() + ", (" + g.Fa(m).AL + m.AL + k.AL + "ms)");return q;};f.prototype.x0a=function(g){return this.Jf?g.Fa(this.Jf):g;};return f;})();b.oRa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.eVa=void 0;d=a(20);l=a(2);h=a(9);r=(function(){function n(c,f,g){this.config=c;this.console=g;this.ky=d.O.Oa;(0,l.assert)(f.da);this.da=f.da;c=f.Rc[0].profile;this.Eda=this.UYb(c,this.da);this.ida=this.RYb(c,this.da);}n.prototype.append=function(c,f){var g,k,m,p,q;if(c.Jj)return c;g=c.pa;k=c.offset;m=c.Qj;m=void 0 === m?[]:m;c=c.Se;p=f.YQ;f=f.MAa;if(this.$Ba){q=this.P7b(g,this.$Ba);g.La && this.hqa(q)?(h.M && this.console.trace("SeamlessAudio: dropping first frame"),g.nta(1),this.ky=q):(this.ky=q.add(this.da),this.B1a(this.ky) || (h.M && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + g.Ed.Fb() + " error would be " + this.ky.Fb() + " (editing " + (g.La?"":"not ") + "allowed)"),m.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:g.Ta,pts:g.cc.Z}}}}),this.ky=d.O.Oa,c=!1));this.$Ba=void 0;}if(g.Um || g.Py)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!g.La || !f && g.Py || (q=this.Q7b(g,p,f),q.tk(d.O.Oa) && (h.M && this.console.trace("SeamlessAudio: dropping last frame"),g.ota(1))),this.$Ba=p);(0,l.assert)(this.B1a(this.ky));this.GQ=g.Qc;return {pa:g,offset:k.add(this.ky),Se:c,Jj:!1,Qj:m.length?m:void 0};};n.prototype.Q7b=function(c,f,g){var k;if(g)k=this.ky.add(c.Qc.Fa(g)).Fa(this.da);else (k=c.Qc.Fa(f),k=this.ky.add(k).Fa(this.da));h.M && this.console.trace("SeamlessAudio: fragment end: " + c.Qc.Fb() + ", splice " + f.Fb() + ", next start " + (null === g || void 0 === g?void 0:g.Fb()) + ", error " + k.add(this.da).Fb() + ", error with frame drop " + k.Fb() + ", is" + (this.hqa(k)?"":" not") + " within bounds of [" + this.Eda.Fb() + " and " + this.ida.Fb() + ")");return k;};n.prototype.P7b=function(c,f){var g;(0,l.assert)(this.GQ);g=this.ky.add(this.GQ.Fa(c.Ed)).Fa(this.da);h.M && this.console.trace("SeamlessAudio: fragment start: " + c.Ed.Fb() + ", splice " + f.Fb() + ", last fragment end: " + this.GQ.Fb() + ", error " + g.add(this.da).Fb() + ", error with frame drop " + g.Fb() + ", is" + (this.hqa(g)?"":" not") + " within bounds of [" + this.Eda.Fb() + " and " + this.ida.Fb() + ")");return g;};n.prototype.hqa=function(c){return c.lessThan(this.ida) && c.tk(this.Eda);};n.prototype.B1a=function(c){return c.lessThan(this.ida.add(d.O.yC)) && c.tk(this.Eda.Fa(d.O.yC));};n.prototype.RYb=function(c,f){return "object" === typeof this.config.xEa && void 0 !== this.config.xEa[c]?(c=new d.O(this.config.xEa[c],1E3).Ue(f.V).add(new d.O(1,f.V)),d.O.min(f,c)):f;};n.prototype.UYb=function(c,f){var g;if("object" === typeof this.config.yEa && void 0 !== this.config.yEa[c]){g=f.qk(-2);c=new d.O(this.config.yEa[c],1E3).Ue(f.V).Fa(new d.O(1,f.V));return d.O.max(g,c);}return new d.O(-12,1E3);};return n;})();b.eVa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.cRa=void 0;d=a(20);l=a(2);h=a(9);r=(function(){function n(c,f,g){var k;this.console=g;this.r1=!1;(0,l.assert)(f.da,"NegativePtsGuard: stream.frameDuration must exist.");this.da=f.da;this.Km=c.Km;this.Jf=null !== (k=f.Jf) && void 0 !== k?k:d.O.Oa;}n.prototype.append=function(c){var f,g,k,m,p;if(this.r1 || c.Jj)return c;f=c.pa;g=c.offset;k=c.Se;c=c.Qj;if(f.La){m=f.cc.Fa(this.Km?this.Jf:d.O.Oa).add(g);if(m.lessThan(d.O.Oa)){p=Math.ceil(m.$y(-1).qk(this.da));h.M && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Jf.Fb(),", ") + ("request content start ").concat(f.cc.Fb(),", ") + ("current timestamp offset ").concat(g.Fb()," => ") + ("firstPlatformTimestamp ").concat(m.Fb(),"."));f.nta(p);}}this.r1=!0;return {pa:f,offset:g,Se:k,Jj:!1,Qj:c};};return n;})();b.cRa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.HWa=void 0;d=a(20);l=a(9);r=(function(){function h(n,c,f){this.Jf=n;this.da=c;this.console=f;}h.prototype.append=function(n,c){var f,g,k,m,p,q;f=n.pa;g=n.offset;k=n.Se;m=n.Qj;n=n.Jj;if(!n){p=c.endOfStream;c=c.YQ;if(p && c){p=f.cc.Fa(this.Jf).add(g);q=f.xd.Fa(this.Jf).add(g);c=c.Fa(d.O.yC);l.M && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.Fb() + "-" + q.Fb() + " vs media splice point at " + c.Fb());p.add(this.da).tk(c)?(l.M && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),n=!0):q.tk(c) && (c=Math.ceil(q.Fa(c).qk(this.da)),f.La?(l.M && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(c," frames")),f.ota(c)):(l.M && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),n=!0));}else p && l.M && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {pa:f,offset:g,Se:k,Jj:n,Qj:m};};return h;})();b.HWa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vOa=void 0;r=(function(){function a(d){this.r1=!1;this.Rhc=d.w2b;}a.prototype.append=function(d){d.pa.La && (d.pa.Ygc(this.r1?0:this.Rhc),this.r1=!0);return d;};return a;})();b.vOa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ZIa=void 0;d=a(438);l=a(8);r=(function(){function h(n,c,f,g){this.config=c;this.Yc=f;this.console=g;this.da=n.da;}h.prototype.append=function(n,c){var f,g,k,m,p,q,v,t,w,u,y,x,z;if(n.Jj)return n;g=!1;k=(0,d.Uva)(this.config,this.Yc);m=n.pa;p=n.offset;q=n.Se;v=n.Qj;t=m.Qc;w=m.Ed;u=m.Py;u=m.Um || u;if(!n.pa.La || !u || q)return n;y=m.xd.Fa(m.cc);u=Math.floor(y.qk(this.da));x=null !== (f=c.MAa) && void 0 !== f?f:t.Fa(this.da.$y(2));t=x.Fa(w);f=u;z=!1;c.MAa && (c=this.s2a(y,t,t),f=c.yl,z=c.Bgb);k=x.Fa(l.O.Na(k));w=l.O.max(k.Fa(w),l.O.Oa);z || (w=this.s2a(y,w,t),f=w.yl,w.Bgb && (--f,this.da.$y(f)));f < (this.config.K7b || 1)?g=!0:0 < u - f && n.pa.ota(u - f);return {pa:m,offset:p,Se:q,Jj:g,Qj:v};};h.prototype.s2a=function(n,c,f){var g;n=l.O.min(n,c);n=Math.floor(n.qk(this.da));c=this.da.$y(n);f=f.Fa(c);g=0 < n && f.lessThan(l.O.yC);return {yl:n,lyc:c,Fvc:f,Bgb:g};};return h;})();b.ZIa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ia=void 0;d=a(9);r=(function(){function l(h){this.console=h;}l.prototype.append=function(h,n){var c,f,g,k,m,p,q;if(h.Jj)return h;c=!1;f=h.pa;g=h.offset;k=h.Se;h=h.Qj;n=n.YQ;m=f.Qc;if(this.mo && m.lessThan(this.mo.Qc)){p=this.mo.YQ.Fa(f.Ed);q=f.Qc.Fa(this.mo.YQ);q.lessThan(p) && (d.M && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(f) + (", current error: ").concat(p.Fb()) + (", discard error: ").concat(q.Fb())),c=!0);}this.mo=(f.Um || f.Py) && n?{YQ:n,Qc:m}:void 0;return {pa:f,offset:g,Se:k,Jj:c,Qj:h};};return l;})();b.$Ia=r;},function(r,b,a){var h,n,c,f,g;function d(k,m,p,q,v){var t,w,u,y,x,z,B,A;if(void 0 !== k.zga || void 0 !== k.uFa || k.Vv || k.$r){t=k.end - k.start;w=Array(t);u=k.Vv;y=k.$r;x=k.o7a?k.o7a - 1:0;z=k.p7a?k.p7a - 1:0;B=Math.min(t,Math.max(k.zga || 0,v && u && !x?1:0));k=Math.min(t - B,Math.max(k.uFa || 0,v && y && !z?1:0));v=Math.floor(p.qk(m));m=Math.max(0,Math.min(t - B - k,u?Math.max(0,v - x):0));A=Math.max(0,Math.min(t - B - k - m,y?Math.max(0,v - z):0));m=B + m;p=t - k - A;z=z?0:Math.max(0,v + 1 - A);v=(1 - q) / (v + 1);for(A=0;A < t;++A){w[A]=A < B?-Infinity:A >= t - k?-Infinity:u && A < m?l(q + (A - B + x) * v):y && A >= p?l(1 - (A - p + z + 1) * v):0;}return w;}}function l(k){return 20 * Math.log(k) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.sQa=void 0;r=a(0);h=a(75);n=a(8);c=a(2);f=a(6);g=r.__importDefault(a(3));a=(function(){var o1T;o1T=2;for(;o1T !== 3;){switch(o1T){case 2:k.prototype.La=function(m){var P6S,q,v,t,p;P6S=2;for(;P6S !== 21;){switch(P6S){case 10:t && p.push(t);v=q;P6S=19;break;case 25:return {ja:v};break;case 19:t=m.La.start;P6S=18;break;case 14:(q=this.ASb(m,m.response),v=q.ja,t=q.Bk);q=q.data;P6S=12;break;case 18:P6S=m.La.end !== m.Ay || m.La.uFa || m.La.$r?17:22;break;case 8:P6S=!(m.response instanceof ArrayBuffer)?7:6;break;case 12:P6S=!v?11:10;break;case 3:P6S=0 >= m.duration?9:8;break;case 9:return {ja:!1};break;case 2:var N1V="MediaFragmentEditor [${fragment.mediaType}]: Attempt to edit appende";N1V+="d fragme";N1V+="nt";p=[];(0,c.assert)(!m.ud,N1V);P6S=5;break;case 22:return {ja:!0,Qj:p,response:v};break;case 5:P6S=!m.La?4:3;break;case 11:return {ja:v};break;case 6:P6S=0 < m.La.start || m.La.zga || m.La.Vv?14:18;break;case 7:return {ja:!0};break;case 26:P6S=!v?25:24;break;case 4:return {ja:!0};break;case 17:m=this.BSb(m,v?(0,n.tB)(v):m.response,t);v=m.ja;t=m.Bk;q=m.data;P6S=26;break;case 23:v=q;P6S=22;break;case 24:t && p.push(t);P6S=23;break;}}};k.prototype.ASb=function(m,p){var o2g,v,q;o2g=2;for(;o2g !== 8;){switch(o2g){case 3:var W12=" ";W12+="edit faile";W12+="d";var F7G="]";F7G+=":";F7G+=" ";var Q7M="M";Q7M+="edi";Q7M+="aFragmentEd";Q7M+="itor [";v=d(m.La,m.da,this.Zfa,this.UQ,this.config.Tbb);return (p=new h.gA(this.egb,m.stream,p).wkb({uj:m.La.start,V:m.SK,bB:v,UDa:!1,zL:this.config.Jfa,IK:l(this.UQ)}))?{ja:!0,Bk:m.GDa(q),data:p.pa}:(this.console.error(Q7M.concat(m.mediaType,F7G).concat(m.toString(),W12)),{ja:!1});break;case 4:return {ja:!0};break;case 5:o2g=!(m.La.start || q || m.La.Vv || m.La.$r)?4:3;break;case 2:(0,c.assert)(m.La);q=m.La.zga;o2g=5;break;}}};k.prototype.BSb=function(m,p,q){var x_T,v,t;x_T=2;for(;x_T !== 7;){switch(x_T){case 2:void 0 === q && (q=0);(0,c.assert)(m.La);x_T=5;break;case 3:return {ja:!0};break;case 5:v=m.La.uFa;x_T=4;break;case 9:var A9n=" ";A9n+="edit f";A9n+="aile";A9n+="d";var K9o="]";K9o+=":";K9o+=" ";var f19="MediaFragm";f19+="en";f19+="tEditor [";t=d(m.La,m.da,this.$fa,this.UQ,this.config.Tbb);return (p=new h.gA(this.egb,m.stream,p).Dkb({uj:m.La.end - q,V:m.SK,bB:t,UDa:!1,zL:this.config.Jfa,IK:l(this.UQ)}))?{ja:!0,Bk:m.GDa(v),data:p.pa}:(this.console.error(f19.concat(m.mediaType,K9o).concat(m.toString(),A9n)),{ja:!1});break;case 4:x_T=m.La.end === m.Ay && !v && !m.La.Vv && !m.La.$r?3:9;break;}}};return k;break;}}function k(m,p,q,v){var g_L;g_L=2;for(;g_L !== 9;){switch(g_L){case 2:var E$g="m";E$g+="e";E$g+="d";E$g+="ia|asej";E$g+="s";var B7S="M";B7S+="P";B7S+="4";var T_t="1SIYb";T_t+="Zr";T_t+="N";T_t+="JCp9";this.console=m;this.config=p;T_t;this.egb=new g.default.Console(B7S,E$g);g_L=3;break;case 3:q === f.u.U && (this.Zfa=n.O.Na(0 <= p.Zfa?p.Zfa:p.VC),this.$fa=n.O.Na(0 <= p.$fa?p.$fa:p.VC),this.UQ=Math.pow(10,(p.UQ[v] || -44) / 20));g_L=9;break;}}}})();b.sQa=a;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Bia=void 0;d=a(9);l=a(20);r=(function(){function h(n){this.console=n;}h.prototype.append=function(n){var c,f,g,k,m,p;if(n.Jj)return n;c=n.pa;f=n.offset;g=n.Qj;k=c.cc;m=c.xd;p=k.add(f);f=m.add(f);p=this.GQ && p.Fa(this.GQ);this.GQ=f;if(void 0 === p || p.equal(l.O.Oa))return n;n.Qj=g || [];c={stream:c.Ta,pts:k.Z,gap:p.Z};n.Qj.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:c}}});d.M && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(c)));return n;};return h;})();b.Bia=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.HUa=void 0;r=a(0);d=r.__importDefault(a(29));l=r.__importDefault(a(439));a=(function(){function h(n){this.V7=[];this.V7[d.default.ee.J]=new l.default(n,d.default.ee.J);this.V7[d.default.ee.U]=new l.default(n,d.default.ee.U);}h.prototype.nHb=function(n,c,f){this.V7[n].add(c,f);};h.prototype.twa=function(){var n;n=[];this.V7.forEach(function(c){var f;if(c){f=c.get();f && 0 < f.length && f.forEach(function(g){n.push(g);});c.reset(!0);}});return n;};h.prototype.NUb=function(n){var c;c=this.twa();n.strmsel=c;return 0 < c.length;};return h;})();b.HUa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.O9a=void 0;b.O9a=function(a){var d,l,h;d=Math.floor(1E6 * Math.random());l=a.exa;h=a.Fba;a=0 === d % a.fxa && 0 < h.length;return {Pt:a,fY:a && 0 === d % l};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Y3a=void 0;b.Y3a=function(a,d){var l;if(!Array.isArray(a.V3a))return a;l=a.Mi?a.Mi():Object.create(a);a.V3a.forEach(function(h){if(void 0 !== h.I7b && d.duration >= h.I7b && h.config)for(var n in h.config){l[n]=h.config[n];}});return l;};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.sLa=void 0;d=a(0).__importStar(a(13));l=a(118);h=a(2);r=(function(){function n(c,f,g){var n9V;n9V=2;for(;n9V !== 3;){switch(n9V){case 4:var B13="1";B13+="SIY";B13+="bZrN";B13+="JCp9";B13;n9V=3;break;case 14:"";n9V=0;break;case 2:this.Wn=c;this.H=f;this.Cj=g;n9V=4;break;}}}var O2L;O2L=2;for(;O2L !== 7;){switch(O2L){case 3:n.prototype.RXa=function(c,f,g,k,m){var a9m,p,q;a9m=2;for(;a9m !== 6;){switch(a9m){case 2:var M8x="tra";M8x+="nsport";M8x+="r";M8x+="eport";var w0Y="er";w0Y+="r";w0Y+="o";w0Y+="r";var R5m="n";R5m+="etw";R5m+="ork";R5m+="fai";R5m+="ling";var o8Y="cre";o8Y+="a";o8Y+="te";o8Y+="d";(p=this,q=l.Fo.instance.Kt(c,f,!0,g,k,m));q.Th.on(q,o8Y,function(){var h$G;h$G=2;for(;h$G !== 5;){switch(h$G){case 2:var z_V="c";z_V+="reateDlTracks";z_V+="En";z_V+="d";--p.vI;0 === p.vI && p.Wn.Kb.Dn(z_V);h$G=5;break;}}});q.Th.on(q,R5m,function(){var Y_K,v;Y_K=2;for(;Y_K !== 8;){switch(Y_K){case 1:Y_K=q.V$?5:8;break;case 2:var e70="r";e70+="eport";e70+="Network";e70+="Failing:";e70+=" ";m.mj && p.Cj.io(e70 + q);Y_K=1;break;case 5:(0,h.assert)(q.tY);v=p.Wn.Vf.P;v.zq.Bu(void 0,q.tY,void 0,q.Fh,q.Sj);v.wm();Y_K=8;break;}}});q.Th.on(q,w0Y,function(){var t8K;t8K=2;for(;t8K !== 5;){switch(t8K){case 2:var s7i="NFEr";s7i+="r_MC_Str";s7i+="eamingFailure";var n2o="Downloa";n2o+="dT";n2o+="rack fa";n2o+="tal err";n2o+="or";var T$1="Downlo";T$1+="adTrack ";T$1+="fat";T$1+="al error";m.mj && p.Cj.io(T$1);p.Wn.Ir(n2o,void 0,s7i,q.Fh,0,q.Sj);t8K=5;break;}}});q.on(M8x,function(v){var f46;f46=2;for(;f46 !== 1;){switch(f46){case 4:p.Wn.emit("",v);f46=0;break;case 2:var b2s="t";b2s+="r";b2s+="an";b2s+="sportre";b2s+="port";p.Wn.emit(b2s,v);f46=1;break;}}});a9m=9;break;case 9:var S5S="m";S5S+="ed";S5S+="i";S5S+="aR";S5S+="equestComplete";q.on(S5S,function(v){var v4Y;v4Y=2;for(;v4Y !== 1;){switch(v4Y){case 2:var g8q="mediaR";g8q+="eques";g8q+="t";g8q+="Complet";g8q+="e";p.Wn.emit(g8q,v);v4Y=1;break;case 4:p.Wn.emit("",v);v4Y=3;break;}}});q.oa();return q;break;}}};n.prototype.tBb=function(c){var I29,f;I29=2;for(;I29 !== 9;){switch(I29){case 2:c=this.Wn.Pb.ph[c];f=c.gf;f.Un || --this.vI;l.Fo.instance.uJ(f);I29=3;break;case 3:c.gf=void 0;I29=9;break;}}};return n;break;case 2:n.prototype.gBb=function(c,f){var t7e,g,k;t7e=2;for(;t7e !== 8;){switch(t7e){case 2:var e5l="crea";e5l+="teDlTracksS";e5l+="tart";(g=this,k=this.Wn.K);0 === this.vI && this.Wn.Kb.Dn(e5l);this.vI+=c.length;c=c.map(function(m){var z8x;z8x=2;for(;z8x !== 1;){switch(z8x){case 2:return g.RXa(m,f.L,f.Ly(),g.Wn.Bn,k);break;}}});t7e=3;break;case 3:l.Fo.instance.Xf();t7e=9;break;case 9:return c;break;}}};n.prototype.uBb=function(){var l_M,c,f;l_M=2;for(;l_M !== 3;){switch(l_M){case 4:f.forEach(function(g){var C_B;C_B=2;for(;C_B !== 5;){switch(C_B){case 2:g.Un || --c.vI;l.Fo.instance.uJ(g);C_B=5;break;}}});l_M=3;break;case 2:(c=this,f=[]);this.Wn.Pb.ph.forEach(function(g){var C_t;C_t=2;for(;C_t !== 5;){switch(C_t){case 2:d.xa(g.gf) || f.push(g.gf);g.gf=void 0;C_t=5;break;}}});this.Wn.CV && (f.push(this.Wn.CV),this.Wn.CV=void 0);l_M=4;break;}}};n.prototype.wCb=function(){var k14;k14=2;for(;k14 !== 1;){switch(k14){case 2:this.vI=0;k14=1;break;}}};n.prototype.KEb=function(c,f){var E7y,g,k;E7y=2;for(;E7y !== 5;){switch(E7y){case 2:(g=this.Wn.Pb.ph[c],k=g.gf);k && (k=f.vO(c,k),this.tBb(c),g.gf=this.RXa(c,f.L,f.Ly(),this.Wn.Bn,this.Wn.K),f.aEa(k));E7y=5;break;}}};O2L=3;break;}}})();b.sLa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.HIa=void 0;d=a(6);l=a(8);r=(function(){function h(n){this.fJ=n;this.state=new l.lA(d.Ma.ai);this.yk={};}h.prototype.getState=function(){return this.state.value;};h.prototype.Qd=function(n){this.state.set(n);};h.prototype.addListener=function(n){this.state.addListener(n);};h.prototype.paused=function(){this.state.value === d.Ma.Xc && this.state.set(d.Ma.ej);};h.prototype.Pcb=function(){return this.state.value === d.Ma.ai;};h.prototype.ss=function(){return "function" === typeof this.fJ.ss?this.fJ.ss():this.state.value === d.Ma.Xc;};h.prototype.Zf=function(){return this.state.value === d.Ma.ce || this.state.value === d.Ma.bh;};h.prototype.Qcb=function(){return this.state.value === d.Ma.Am;};h.prototype.Rcb=function(){return this.state.value === d.Ma.OD;};h.prototype.fg=function(){return this.fJ.fg();};h.prototype.Tt=function(){return "function" === typeof this.fJ.Tt?this.fJ.Tt():1;};h.prototype.Qva=function(){return this.fJ.Qva();};h.prototype.nga=function(n,c){this.yk[n]=c;};h.prototype.rs=function(n){return !!this.yk[n.L] || n.Tl;};return h;})();b.HIa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.zTa=void 0;d=a(6);r=(function(){function l(h,n,c){var f;this.lIb=h;this.foa=n;this.mBb=c;this.pna=(f={},f[d.u.U]=!1,f[d.u.J]=!1,f[d.u.nb]=!1,f);this.reset();}l.prototype.lB=function(){var h,n;h=this;n=this.lIb.filter(function(c){return !c.kcb(h.mBb());});0 === n.length && this.Rna?this.vDb():n.forEach(function(c){h.pna[c.mediaType] || (c.once("requestAppended",function(){h.pna[c.mediaType]=!1;h.lB();}),h.pna[c.mediaType]=!0);});};l.prototype.reset=function(){var h;h=this;this.Rna=!1;new Promise(function(n){h.vDb=n;}).then(function(){return h.foa();});};l.prototype.r6b=function(){this.Rna || (this.Rna=!0,this.lB());};return l;})();b.zTa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.qIa=void 0;d=a(9);r=(function(){function l(h){this.console=h;this.eO=[];this.dO=[];d.M && this.console.trace(("Received pending adoption ").concat(this.jn.length));}Object.defineProperties(l.prototype,{length:{get:function(){return this.eO.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jn:{get:function(){return this.dO;},enumerable:!1,configurable:!0}});l.prototype.o6b=function(h){h=this.dO.indexOf(h);-1 !== h && (d.M && this.console.trace("Marking request attached"),this.eO[h].fcb=!0,this.vpb(h));};l.prototype.p6b=function(h){h=this.dO.indexOf(h);-1 !== h && (d.M && this.console.trace("Marking request completed"),this.eO[h].au=!0,this.vpb(h));};l.prototype.push=function(h){this.dO.push(h);this.eO.push({fcb:!1,au:!1});d.M && this.console.trace(("Pushing pending request, ").concat(this.length," total"));};l.prototype.lQ=function(){return 0 < this.length;};l.prototype.vpb=function(h){var n;n=this.eO[h];n.fcb && n.au && (n=this.dO[h],this.dO.splice(h,1),this.eO.splice(h,1),d.M && this.console.trace(("Removing request, ").concat(this.length," left")),0 === this.length && d.M && this.console.trace(("Removing last request, contentEndPts: ").concat(n.Oc)));};return l;})();b.qIa=r;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q;function d(v,t){return (v.mediaType === c.u.J?0:1) - (t.mediaType === c.u.J?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.SOa=b.nla=b.Lyb=void 0;l=a(0);h=a(92);n=a(132);c=a(6);f=a(8);g=a(2);k=a(20);m=l.__importDefault(a(3));r=a(78);p=a(35);q=(function(v){function t(){return null !== v && v.apply(this,arguments) || this;}l.__extends(t,v);return t;})(a(271).UM);b.Lyb=q;b.nla={cH:d};a=(function(v){function t(w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I){var M;z=v.call(this) || this;z.Qyc=w;z.K=u;z.P=x;z.mq=B;z.Qaa=A;z.Ar=E;z.yV=G;z.Bj=K;z.yA=O;z.events=L;z.Vx=I;z.pf=new q([]);z.An=!1;z.KV=0;z.hV=z.mBa.bind(z);w=B.id && B.id.length?"{" + B.id + "}":"";z.H=(0,f.ri)(m.default,y,w);z.Ll=z.H.error.bind(z.H);z.bc=z.H.warn.bind(z.H);z.ik=z.H.trace.bind(z.H);z.bo=null !== D && void 0 !== D?D:k.O.Na(z.G.ca);z.ooa=null === F || void 0 === F?void 0:F.Qc;null === (M=z.yA) || void 0 === M?void 0:M.addListener(z.hV);x && C && z.k2b(x,C);return z;}l.__extends(t,v);Object.defineProperties(t.prototype,{Uf:{get:function(){return this.An;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G:{get:function(){return this.mq;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{vw:{get:function(){return this.pf.every(function(w){return w.vw;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gj:{get:function(){return this.pf.every(function(w){return w.Gj;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{tt:{get:function(){return this.Rm().reduce(function(w,u){return w + u.tt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Hh:{get:function(){return this.Rm().every(function(w){return w.Hh();});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fe:{get:function(){return this.Rm().map(function(w){return w.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{V:{get:function(){return this.Xx.V;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{$a:{get:function(){return this.Xx.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{lb:{get:function(){return this.Xx.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yj:{get:function(){return this.Ud.Ue(this.V).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{$t:{get:function(){return this.bo.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Cs:{get:function(){return this.G.xf.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{oG:{get:function(){return this.G.Eh.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{KJ:{get:function(){var w,u;u=null === (w=this.G.G.Dq) || void 0 === w?void 0:w[0];return u && this.cc?k.O.Na(Math.max(0,u[0] - this.cc.Z - this.G.xf.Z)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{i_:{get:function(){return this.pf.reduce(function(w,u){return w && u.Qc?k.O.max(w,u.Qc):u.Qc?u.Qc:w;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Kxa:{get:function(){return this.$t.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{qg:{get:function(){return this.Ud.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{hr:{get:function(){return this.Xx.hr;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ud:{get:function(){return this.Ar;},enumerable:!1,configurable:!0}});t.prototype.jr=function(w){this.Ud.equal(w) || (this.Ar=w);};t.prototype.Fy=function(w){return (w=this.fb(w))?Promise.resolve(w.Fy()):Promise.resolve(n.AsyncIterator.w9a());};t.prototype.bF=function(){this.Rm().forEach(function(w){return w.bF();});};t.prototype.reset=function(){this.pf.forEach(function(w){w.reset();});};t.prototype.he=function(){var w,u;this.An || (this.An=!0,null === (w=this.dE) || void 0 === w?void 0:w.wd(),this.dE=void 0,this.pf.forEach(function(y){y.he();}),null === (u=this.yA) || void 0 === u?void 0:u.removeListener(this.hV),this.events.removeAllListeners());};t.prototype.vQ=function(){return !0;};t.prototype.fb=function(w){return this.pf.get(w);};t.prototype.Rm=function(w){void 0 === w && (w=d);return this.pf.items.slice().sort(w);};t.prototype.$Y=function(){return this.pf.items;};t.prototype.rF=function(w){return this.fb(w);};t.prototype.Rh=function(w,u){w=this.fb(w);if(!w)return 0;if(u)return w.oo;u=w.Gt;if(void 0 === u)return 0;w=this.yV();return u - w;};t.prototype.NB=function(){var w,u,y,x,z,B,A;A=null === (w=this.fb(c.u.U)) || void 0 === w?void 0:w.ap;w=null === (u=this.fb(c.u.J)) || void 0 === u?void 0:u.ap;return {Op:null !== (y=null === w || void 0 === w?void 0:w.Z) && void 0 !== y?y:0,st:null !== (x=null === A || void 0 === A?void 0:A.Z) && void 0 !== x?x:0,Wu:null !== (z=null === w || void 0 === w?void 0:w.ha) && void 0 !== z?z:0,rE:null !== (B=null === A || void 0 === A?void 0:A.ha) && void 0 !== B?B:0};};t.prototype.wm=function(w){w=this.fb(w);(0,g.assert)(w);return w.wm();};t.prototype.mBa=function(w){w=w.newValue;(0,c.Nq)(w) && this.mt();};t.prototype.NE=function(w){return this.pf.every(function(u){return u.NE(w);});};t.prototype.SY=function(w){var u,y;return null !== (y=null === (u=this.pf.get(w)) || void 0 === u?void 0:u.R4a) && void 0 !== y?y:k.O.Oa;};t.prototype.rl=function(w){this.An || (w.x8 || (0,g.assert)(!w.zc),this.mt(),this.Gj && this.loa());this.$v(w);};t.prototype.YK=function(w){this.K.D$ && this.mt(!0);this.OJ(w);};t.prototype.zC=function(w){this.K.D$ && this.mt(!0);this.jF(w);};t.prototype.kFa=function(w){var u;return (0,c.Nq)((null === (u=this.yA) || void 0 === u?void 0:u.value) || c.cd.Bm) && (!w || this.KV + this.K.xda < m.default.time.fa());};t.prototype.mt=function(w){void 0 === w && (w=!1);this.kFa(w) && (this.KV=m.default.time.fa(),w={type:"checkBufferingProgress"},this.events.emit(w.type,w));};t.prototype.loa=function(){var w;w={type:"branchStreamingComplete"};this.events.emit(w.type,w);};t.prototype.k2b=function(w,u){var y;this.aFa(w);(0,g.assert)(w.N === this.G.N || isNaN(w.N) && isNaN(this.G.N));w=null !== u && void 0 !== u?u:null === (y=this.Qaa) || void 0 === y?void 0:y.call(this,w);(0,g.assert)(w,"tracks need to exist upon initialization");};t.prototype.toJSON=function(){var w,u;return {segment:this.G.id,branchOffset:this.qg,viewableId:this.mq.N,contentStartPts:null === (w=this.cc) || void 0 === w?void 0:w.Z,contentEndPts:null === (u=this.xd) || void 0 === u?void 0:u.Z};};return t;})(h.jx);b.SOa=a;(0,p.hf)(r.bv,a);(0,p.hf)(r.Oz,a);},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.USa=void 0;r=a(0);d=r.__importDefault(a(29));l=d.default.ee;h=d.default.Bx;n=a(6);c=a(8);f=a(20);g=r.__importDefault(a(154));k=r.__importDefault(a(3));a=(function(){function m(p,q,v,t,w){this.uu=p;this.Ot=q;this.K=v;this.H=t;this.Of=w;}m.prototype.G8b=function(p){p={type:"requestCreated",request:p};(0,c.kb)(this.Ot,p.type,p);};m.prototype.F8b=function(p){var q;q=p.Xa.Ya.G;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{S:q.id,offset:f.O.Na(this.uu.Rra - q.ca)},completePlayerStreamingTimestamp:f.O.Na(this.uu.Gt),trackIndex:p.stream.track.VA};(0,c.kb)(this.Ot,p.type,p);};m.prototype.Sgb=function(p,q,v){var t,w,u;w=this.Of;u=this.uu.$j.De;u.Fmb(p);w === n.u.J && this.K.Vfa && (void 0 === u.Rya?u.Hmb(k.default.time.fa()):k.default.time.fa() - u.Rya > this.K.Vfa && (p.bitrate !== u.Fdb && (k.default.storage.set("vb",p.bitrate),u.$gc(p.bitrate)),u.Hmb(k.default.time.fa())));u.f_ && u.f_ === p || (this.uu.$j.Sic(q,u.f_,p),u.Pgc(p),q=0,p.Ib && p.Ib.confidence && p.Ib.Za && (q=p.Ib.Za.ya),u={S:this.uu.Ya.G.id,offset:f.O.Na(v - this.uu.Ya.G.ca)},p={type:"streamSelected",nativetime:k.default.time.fa(),mediaType:w,streamId:p.id,manifestIndex:p.P.Ub,trackIndex:p.track.VA,streamIndex:p.Fg,movieTime:v,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.P) || void 0 === t?void 0:t.ba},(0,c.kb)(this.Ot,p.type,p));};m.prototype.B8b=function(p,q,v){var t,w,u,y,x;t=q.P;w=t.Ak;u=this.uu.$j.De;y=t.L3b(q);x=y.Aya;y=y.M3b;v && q.ec && !u.g_?(y=h.Cx,q.Fu=h.name[y],this.Rgb(p,q.ec,q.Fu,q.location,q.bitrate),u.g_=q.ec):!v && q.ec && q.ec !== u.g_ && (y=y?void 0 === u.g_?h.Cx:w.oS === h.bla?h.nzb:h.Fia:h.mzb,q.Fu=h.name[y],this.Rgb(p,q.ec,q.Fu,q.location,q.bitrate),u.g_=q.ec);u.FQ || (y={type:"logdata",target:"startplay",fields:{}},this.Of === l.U?y.fields.alocid=q.location:this.Of === l.J && (y.fields.locid=q.location),(0,c.kb)(this.Ot,y.type,y));v && q.location && !u.FQ?(y=h.Cx,q.Fu=h.name[y],this.Pgb(t.Ub,p,q.location,q.nza,q.ec,q.IL,q.Fu,q.iz),u.FQ=q.location):!v && q.location && q.location !== u.FQ && (y=x?void 0 === u.FQ?h.Cx:w.oS === h.bla?h.Gwb:h.Fia:h.Fwb,q.Fu=h.name[y],this.Pgb(t.Ub,p,q.location,q.nza,q.ec,q.IL,q.Fu,q.iz),q.iz=void 0,u.FQ=q.location);this.K.Ow || (q.zdb=q.location,q.Edb=q.ec);};m.prototype.$da=function(p){p={type:"requestsPruned",requests:p};(0,c.kb)(this.Ot,p.type,p);};m.prototype.Rgb=function(p,q,v,t,w){var u,y;if(this.Of === l.nb)this.H.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(u={},u[n.u.U]="audio",u[n.u.J]="video",u[n.u.nb]="subtitle",u)[this.Of];u=g.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:v,location:t,bitrate:w,confidence:u.confidence};u.confidence && (p.throughput=u.Za.ya);this.uu.$j.De.g_ && (p.oldserver=q);(0,c.kb)(this.Ot,p.type,p);}};m.prototype.Pgb=function(p,q,v,t,w,u,y,x){var z,B;if(this.Of === l.nb)this.H.warn("notifyServerSwitch ignored for MediaType.TEXT");else {B=(z={},z[n.u.U]="audio",z[n.u.J]="video",z[n.u.nb]="subtitle",z)[this.Of];p={type:"locationSelected",manifestIndex:p,segmentId:q,mediatype:B,location:v,locationlv:t,serverid:w,servername:u,selreason:y,seldetail:x};(0,c.kb)(this.Ot,"locationSelected",p);}};m.prototype.goa=function(p,q){q={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};p.qG || (0,c.kb)(this.Ot,q.type,q);};m.prototype.io=function(p){p={type:"managerdebugevent",message:"@" + k.default.time.fa() + ", " + p};(0,c.kb)(this.Ot,p.type,p);};m.prototype.aWb=function(p){(0,c.kb)(this.Ot,"transportReport",p);};m.prototype.$Vb=function(p){(0,c.kb)(this.Ot,"mediaRequestComplete",p);};return m;})();b.USa=a;},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.lRa=b.vvb=void 0;d=a(0);l=d.__importDefault(a(3));h=a(76);n=a(9);c=a(1028);f=a(8);r=(function(){return function(g,k,m,p){this.K=k;this.uu=p;p="[" + g + "]";m=(0,f.ri)(l.default,m,p);this.Pfb=g === h.u.J?k.Dda:k.uda;p=l.default.Iq()[g];this.H_=g === h.u.J?k.P6b:k.v6b;this.H_=Math.min(k.D6b * p,this.H_);n.M && m.trace("This pipeline's buffer size ",p,this.H_);this.zda=(g === h.u.J?k.tC:k.Zy) || k.zda;this.cda=(g === h.u.J?k.O6b:k.u6b) || k.cda;this.Gpa=k.Gpa;};})();b.vvb=r;r=(function(g){function k(m,p,q,v){return g.call(this,m,p,q,v) || this;}d.__extends(k,g);k.prototype.H9a=function(m,p,q,v){var t,w,u,y,x,z,B,A,C;void 0 === q && (q=!1);void 0 === v && (v=!1);u=this.uu;y=m.P.Ly();x=u.pd.index;z=u.Xd.index;B=p === x;A=p === z;if(!A || B && u.pd.La){if(B){C=m.z9a(u.pd);C.sS(u.pd.zz);A && (u.pd.La || u.Xd.La) && C.vj({start:null === (t=C.La) || void 0 === t?void 0:t.start,end:null === (w=u.Xd.La) || void 0 === w?void 0:w.end});}else C=m.Zl(p);}else (C=m.z9a(u.Xd),C.sS(u.Xd.zz));C.jR=p + 1;if(t=(0,c.K$a)(u,u.Fc))(n.M && u.ik("getFragmentForRequest pts:",u.Fc,"in region:",t,"previous region:",u.Mya),w=void 0 === u.Mya || u.Mya !== t.region,(0,c.q6a)(u.H,C,t,{c3b:B,j3b:A,s3b:w}));A && (C.Leb(),C.Xgc(u.Ya.G));B && C.Rza(!0);B=m.ma.ar;if(!(C.jR === p || null !== B && void 0 !== B && B.rcb(p) || y || !this.Gpa && C.La || q && !(p > x + 1) || v && !(p < z - 2)))for((q=v?z - 1:z,++p);p < m.ma.length && p < q && (C.ha < this.Pfb || C.duration < this.zda) && (1 === C.stream.kh.length || this.MKb(m,p));++p){v=m.Zl(p);if(null === B || void 0 === B?0:B.rcb(p))break;if((0,c.qcb)(u,v))break;if(C.duration + v.duration > this.cda)break;if(C.ha + v.ha > this.H_)break;C.y8(v);C.jR=p + 1;n.M && u.ik("getFragmentForRequest: extended fragment startPts:",C.ca,"to duration:",C.duration,"size:",C.ha,"min request size:",this.Pfb,"max request size:",this.H_,"min request duration:",this.zda,"max request duration:",this.cda,"edit:",C.La);}n.M && u.ik("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.Eua,"lastRequestInRegion:",C.Py,"nextIndex:",C.jR);return C;};k.prototype.MKb=function(m,p){return !m.kh.some(function(q){return p === q.Wd;});};return k;})(r);b.lRa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.q6a=b.e3b=b.qcb=b.K$a=void 0;d=a(21);b.K$a=function(l,h){if((l=l.Ya.G.nz) && 0 !== l.length)return (0,d.Nc)(l,function(n){return n.cc.Z <= h && h < n.xd.Z;});};b.qcb=function(l,h){return h.index === l.pd.index?!0:(l=l.Ya.G.nz) && 0 !== l.length?l.some(function(n){n=n.cc;return h.cc.RF(n) && n.lessThan(h.xd);}):!1;};b.e3b=function(l,h){return h.index === l.Xd.index?!0:(l=l.Ya.G.nz) && 0 !== l.length?l.some(function(n){n=n.xd;return h.cc.lessThan(n) && n.RF(h.xd);}):!1;};b.q6a=function(l,h,n,c){var f,g,k,m,p,q,v,t;l=null === (f=h.La) || void 0 === f?void 0:f.start;f=null === (g=h.La) || void 0 === g?void 0:g.end;t=g=!1;if((null === c || void 0 === c?0:c.s3b) || (null === c || void 0 === c || !c.c3b) && h.cc.lessThan(n.cc)){if(v=h.sua(n.cc.Z))(v=(null !== (m=null === (k=h.La) || void 0 === k?void 0:k.start) && void 0 !== m?m:0) + v.uj,l=Math.max(null !== l && void 0 !== l?l:0,v));v=n.cc.Z;g=!0;}if((null === c || void 0 === c || !c.j3b) && h.xd.greaterThan(n.xd)){if(v=h.sua(n.xd.Z))(v=(null !== (q=null === (p=h.La) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + v.uj,f=Math.min(null !== f && void 0 !== f?f:Infinity,v),h.jR=h.index);v=n.xd.Z;t=!0;}if(void 0 !== l || void 0 !== f)(h.vj({start:l,end:f}),void 0 !== v && (!h.zz || v > h.zz) && h.sS(v));h.Ugc(n.region,g,t);};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.NUa=void 0;d=a(0);l=d.__importStar(a(13));h=a(160);n=a(1031);c=a(444);f=a(1034);r=a(92);g=a(6);k=a(2);m=a(192);p=a(8);q=a(60);v=a(133);a=(function(t){function w(u,y,x,z,B,A,C,D){var E;E=t.call(this,u) || this;E.K=y;E.H=x;E.Fm=z;E.re=B;E.Of=A;E.Waa=D;E.oqb=!0;E.Ye=new m.iH(E.H);E.Ll=E.H.error.bind(E.H);E.bc=E.H.warn.bind(E.H);E.ik=E.H.trace.bind(E.H);E.d_a();E.Gr=null === C || void 0 === C?void 0:C.zB(function(){return E.Dec();},"pruner");return E;}d.__extends(w,t);Object.defineProperties(w.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ya:{get:function(){return this.re;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{yz:{get:function(){return 0 < this.TC;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{JFa:{get:function(){return !this.ON;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{TC:{get:function(){return this.Ja.length;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Su:{get:function(){return this.Ja.Su;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pcc:{get:function(){return this.Ye.count;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{AO:{get:function(){return this.Ye.au;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rX:{get:function(){return this.Ja.complete.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gt:{get:function(){return this.Ja.F3a;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Rra:{get:function(){return this.Ja.E3a;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{QG:{get:function(){return this.Ja.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{oo:{get:function(){return void 0 === this.Ja.Nd?0:this.Ja.bg - this.Ja.Nd;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ap:{get:function(){return {ha:this.Ja.ME,Z:Math.max(this.Ja.F3a - this.Ja.Nd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ZO:{get:function(){return this.Ja.wMb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ME:{get:function(){return this.Ja.ME;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tt:{get:function(){return this.Ja.ha;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{jG:{get:function(){return this.aCb();},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{RBa:{get:function(){return this.Ja.T1b;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{xba:{get:function(){return this.Ja.length > this.Ja.Su;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ej:{get:function(){return this.Ja.Ej;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{t4b:{get:function(){return this.Ja.bac;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{udb:{get:function(){return this.PYa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{kib:{get:function(){return this.Ja.length - this.Cn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ma:{get:function(){return this.Ja;},enumerable:!1,configurable:!0}});w.prototype.he=function(u){var x,z;function y(){return z.forEach(function(B){B.abort();B.wd();});}z=this.Ja;u?setTimeout(y,1):y();this.d_a();this.Ye.AP();null === (x=this.Gr) || void 0 === x?void 0:x.Wa();};w.prototype.reset=function(){this.he();this.Ye.alb();};w.prototype.close=function(){this.Ye.AP();};w.prototype.gmb=function(){this.BXa=!0;};w.prototype.ewa=function(){return {endMarked:void 0 !== this.Ye.count,queueCount:this.Ye.count,isComplete:this.Ye.au,itemCount:this.Ye.G3a,continuousEndPts:this.Ye.El().reduce(function(u,y){return y && !y.done && (y=y.value,100 > Math.abs(y.Rua - u) || -1 === u)?y.cWb:u;},-1),sentinelItemCount:this.Ye.El().filter(function(u){return u && u.done;}).length,processedCount:this.Ye.jRb,rc:this.TC};};w.prototype.A4a=function(u,y,x){var z,B,A,C;z=this.K;(0,k.assert)(!u.header);if(x.qa){A=this.re;C=A.gab();A=A.Az;this.K.fob?x.mediaType === g.u.J && void 0 !== C && (B=new c.ria(x,z,y.track,u,this.Ja,this.H,C,A)):B=new f.KIa(x,z,y.track,u,this.Ja,this.H,C,A);}B || (B=h.wM.create(x,z,y.track,u,this.Ja,!1,this.H,this.Waa));B.oa(this);this.Ev(B);return B;};w.prototype.HHb=function(u){var y;u.oa(this);u.x8=!0;this.Ev(u);y=Promise.resolve();u.complete?(this.Sma(u),this.Fm.Sgb(u.stream,u.Nd,u.ue),y=this.lha(),this.$v(u)):(u.active && this.OP(u),u.nDa && this.jF(u));return y;};w.prototype.Ev=function(u){var y,x;this.Ja.xp(u);(null === (y=this.Gr) || void 0 === y?void 0:y.state) === q.Cm.complete && (null === (x=this.Gr) || void 0 === x?void 0:x.Eg());this.Sma(u);u.Um && (this.ON=!1);};w.prototype.Fy=function(){return this.Ye.eva();};w.prototype.kra=function(){this.Cn === this.Ja.length && this.BXa && this.Ye.AP();};w.prototype.lha=function(){var u,y,x,z,D;u=this;x=Promise.resolve();z=this.re;if(!z.vQ(this.Of) || this.Cn === this.Ja.length)return x;for(var B=this.K.G6b,A=0,C=[];this.Cn < this.Ja.length;){if(y=this.Ja.get(this.Cn)){if(this.Ja.Y7a && this.Ja.Y7a.$a < y.$a)break;if(!y.uk())break;C.push(y);++A;l.Pa(this.Nd) || (this.Nd=y.Nd);}++this.Cn;if(!l.xa(B) && A >= B)break;}if(C.length){void 0 !== this.Ye.count && (this.Ll("tryToAtach() but requestQueue has sentinel:",this.Ye.count),this.Ye.alb());if(this.oqb)x=Promise.all(C.map(function(E){return u.Ye.enqueue(E).then(function(){return u.rba(E);});}));else for(y=0;y < C.length;y++){try{D=C[y];z.AZb(this.mediaType).GRb(D);this.rba(D);}catch(E){return (this.Cn-=C.length - y,Promise.reject(E));}}this.kra();}return x;};w.prototype.rba=function(u){this.PYa=u;this.i8a(u);};w.prototype.tW=function(u,y){var x,z,B;x=this;z=[];if(0 !== this.Ja.Su){B=this.Ja.cib;this.Ja.plc.DFa(function(A){if(!l.xa(u) && A.P.Ub !== u || A.Um || B > A.Nd)return !0;A.cs && (x.ON=!1);if(!x.u6(A))return (x.bc("request abort failed:",A.toString()),!0);z.unshift(A);});this.uoa();z.length && "function" === typeof y && y(z);}};w.prototype.o1=function(){this.uoa();};w.prototype.Dec=function(){var u,y,x,z,B,A;return d.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.Ja.length)return [3,3];u=this.Ja.get(0);y=p.O.Na(null !== (A=null === (B=this.K.vS) || void 0 === B?void 0:B.Z) && void 0 !== A?A:0);x=y.add(u.Qc);return [4,q.fj.mD(x)];case 2:C.ub();if(1 >= this.Ja.complete.length && !u.Um)return [3,3];(0,k.assert)(u === this.Ja.get(0));u.ud || this.u6(u);z=this.Ja.splice(0,1);0 < this.Cn && this.Cn--;this.Fm.$da(z);z=void 0;return [3,1];case 3:return [2];}});};w.prototype.Y0=function(u,y){var x,z,B,A,C,D;x=this;z=this.K;B=!1;A=0;C=this.Ja.some(function(E){if(u < E.bg)return (B && x.Sma(E),!0);++A;E.ud || (x.bc("pruning unappended request:",E && E.toString()),z.mj && x.Fm.io(("prune pts:").concat(u," unappended request:").concat(E && E.toString())),E.cs && (x.ON=!1,B=!0),x.u6(E,y) || x.Ll("MediaRequest.abort error:",E.Fh));});if(0 < A){D=this.Ja.splice(0,A);this.Cn-=Math.min(A,this.Cn);this.Fm.$da(D);}return C;};w.prototype.cba=function(u){var y,x,z;void 0 === u && (u={sX:null,FR:null,Nd:null,Uj:0,Gp:0,Yg:0,ma:[]});y=this.K;x=this.Ja;l.Pa(x.Nd) && (null === u.Nd || x.Nd < u.Nd) && (u.Nd=x.Nd);z=this.Gt;void 0 !== z && null === u.sX && (u.sX=z);z=x.bg;void 0 !== z && (null === u.FR || z > u.FR) && (u.FR=z);u.Uj+=x.Uj;u.Gp+=x.Gp;u.Yg=y.xFa?u.Yg + x.dkb:u.Yg + x.ME;Array.prototype.unshift.apply(u.ma,x.ub.ma);return u;};w.prototype.xy=function(u){if(this.Ja.length && (u=this.Ja.G7a(u)))return u;};w.prototype.kGb=function(u){var y,x,z;x=u.xd;u=u.ue;(0,k.assert)(x,"expected contentEndTimestamp to be defined");(0,k.assert)(void 0 !== u,"expected contentStartPts to be defined");u=this.Ja.nua(u);z=this.Ja.get(u);(0,k.assert)(z && void 0 !== z.ue && void 0 !== z.Oc && void 0 !== z.index,"expected existing request to be defined with properties");if(null === (y=z.xd) || void 0 === y?0:y.equal(x))return (this.Q_a(u),[z.Oc,z.index + 1]);this.Q_a(u - 1);return [z.ue,z.index];};w.prototype.wm=function(u){var y,x;y=this;x=[];this.Ja.forEach(function(z){var B;B=z.cHa(u);1 === B?x.push(z):2 === B && y.Ya.P.ig("swapUrl failure");});return x;};w.prototype.zC=function(u){u.KF && u.uk() && this.lha();this.jF(u);};w.prototype.rl=function(u){var y,x;u.KF && !u.ud && this.lha();(null === (y=this.Gr) || void 0 === y?void 0:y.state) === q.Cm.complete && (null === (x=this.Gr) || void 0 === x?void 0:x.Eg());this.$v(u);};w.prototype.Kpa=function(u){var y,x,z;y=this.Of === g.u.J?"v_":"a_";x=this.Ja;z=x.LP(u);u=0 <= z?x.get(z):void 0;return (x=0 <= z && z + 1 < x.length?x.get(z + 1):void 0) && u?u.bg !== x.Nd?y + "rg":u.complete && x.complete?y + "uk":y + "fd":y + "rm";};w.prototype.aCb=function(){return this.Ja.Ej + this.Ja.Su;};w.prototype.d_a=function(){var u,y,x;y=void 0 !== this.Ja && 0 < this.Ja.length;x=this.Ja;this.Ja=new n.EIa(this.H,this);this.Cn=0;this.Ye.clear();this.PYa=void 0;this.Nd=null;null === (u=this.Gr) || void 0 === u?void 0:u.Eg();this.BXa=this.ON=!1;y && (u=x.map(function(z){return z;}),this.Fm.$da(u));};w.prototype.Sma=function(u){this.ON?u.cs && u.Rza(!1):(u.cs || u.Rza(!0),this.ON=!0);};w.prototype.Q_a=function(u){var y;for(u+=1;u < this.TC;u++){y=this.Ja.get(u);(0,k.assert)(y,"expected request to exist");this.Ye.remove(y);y.aborted || (this.u6(y),y.wd());}this.uoa();};w.prototype.u6=function(u,y){if(!u.abort())return !1;"function" === typeof y && y(u);return !0;};w.prototype.uoa=function(){var u,y,x,z;u=this;if(0 !== this.Ja.length){x=[];z=0;this.Ja.Ecc(function(B,A){A < u.Cn && ++z;x.push(B);});this.Cn-=z;null === (y=this.Gr) || void 0 === y?void 0:y.Eg();this.Fm.$da(x);}};return w=d.__decorate([v.RJ],w);})(r.jx);b.NUa=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.BIa=void 0;d=a(0);l=a(75);h=d.__importDefault(a(29));r=d.__importDefault(a(3));n=a(8);c=a(2);f=a(191);g=a(77);k=a(268);m=a(93);p=r.default.ur;a=(function(q){function v(t,w,u,y,x,z,B,A){var C;y=q.call(this,t,u,y,z,B,A) || this;x=g.Jl.prototype.toString.call(y) + (x?"(cache)":"");A={offset:u.offset,ha:u.GAa + 8,responseType:0};y.push(new k.zT(t,w,x + "(moof)",A,y,z,B));A={offset:u.offset + A.ha,ha:u.ha - A.ha,responseType:p.Yc && !p.Yc.eS.hN?0:1};if(y.mediaType === h.default.ee.J && y.La){if(0 < y.La.start){C=y.N7a(y.La.start);C && (A.offset=u.offset + C,A.ha=u.ha - C);}y.La.end < y.Ay && (C=y.N7a(y.La.end)) && (A.ha-=u.ha - C);}y.push(new k.zT(t,w,x + "(mdat)",A,y,z,B));return y;}d.__extends(v,q);v.prototype.uk=function(){return !this.ud && !!this.Ja.length && this.Ja.every(function(t){return t.uk();});};v.prototype.Qr=function(t,w){var u,y,x,z,B,A,C;if(this.ud)return {status:m.jg.Pp};if(!this.uk())return {status:m.jg.mg};t=!1;u=this.Ja[0].response;y=u.slice(0,u.byteLength - 8);x=new DataView(u);u=x.getUint32(y.byteLength);(0,c.assert)("mdat" === (0,l.GN)(x.getUint32(y.byteLength + 4)));z=this.La && 0 < this.La.start;x=this.La && this.La.end < this.Ay;if(this.La && (z || x)){if(z)(B=new l.gA(this.H,this.stream,y),A=B.wkb(this.La.start,this.V));if(x && !1 !== A){B=new l.gA(this.H,this.stream,A?(0,n.tB)(A.pa):y);C=B.Dkb(this.La.end - this.La.start,this.V);}if(B=x?C:A)(t=w.appendBuffer((0,n.tB)(B.pa),(0,n.Ry)(this)),A && ((0,c.assert)(void 0 !== A.Hs),(0,c.assert)(void 0 !== A.XR),u-=A.Hs),C && ((0,c.assert)(void 0 !== C.Hs),(0,c.assert)(void 0 !== C.XR),u-=C.Hs,A && (0,c.assert)(void 0 !== A.Hs)));B=this.GDa();}else t=w.appendBuffer(y,(0,n.Ry)(this));t && (t=w.appendBuffer((0,l.PQ)(u - 8),(0,n.Ry)(this))) && (t=w.appendBuffer(this.Ja[1].response,(0,n.Ry)(this)));this.ud=t;this.Sdc();return {status:t?m.jg.Pp:m.jg.mg,Bk:B};};v.prototype.toString=function(){return "ID: " + this.Si() + ":" + q.prototype.toString.call(this);};return v;})(f.av);b.BIa=a;},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EIa=void 0;d=a(0);a(2);l=a(1032);r=a(35);h=a(1033);n=a(78);c=a(92);f=a(266);a=(function(g){function k(m,p){var q,v;q=this;v=[new h.w3(m),new h.w3(m),new h.w3(m)];q=g.call(this,v,function(t){return t.complete?q.empty || t.$a <= q.xMb?0:1:t.active?1:2;}) || this;v=d.__read(v,3);q.gj=v[0];q.mf=v[1];q.Bv=v[2];q.Hr=0;q.Ema=0;q.H=m;q.pe=p;return q;}d.__extends(k,g);Object.defineProperties(k.prototype,{ha:{get:function(){return this.gj.ha + this.mf.ha + this.Bv.ha;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{plc:{get:function(){return this.Bv;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.mf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.gj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dkb:{get:function(){return this.Hr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ME:{get:function(){return this.gj.ha;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Uj:{get:function(){return this.gj.ha + this.mf.ha - this.Hr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qlc:{get:function(){return this.Bv.ha;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gp:{get:function(){return this.ha - this.Hr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.vWb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mh:{get:function(){return this.kJb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sta:{get:function(){return !this.gj.empty || this.Bv.empty || this.mf.empty?this.first:this.mf.$a < this.Bv.$a?this.mf.first:this.Bv.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kdb:{get:function(){return this.Bv.empty || this.mf.empty?this.mh:this.mf.lb < this.Bv.lb?this.Bv.mh:this.mf.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Y7a:{get:function(){return this.Bv.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{V:{get:function(){return this.first && this.first.V;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$a:{get:function(){return this.sta && this.sta.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lb:{get:function(){return this.Kdb && this.Kdb.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Yj:{get:function(){return this.first && this.first.Yj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wMb:{get:function(){return this.gj.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{T1b:{get:function(){return this.Oc - this.E3a || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xMb:{get:function(){return this.gj.empty?this.$a:this.gj.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{E3a:{get:function(){return this.gj.empty?this.ue:this.gj.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{F3a:{get:function(){return this.gj.empty?this.Nd:this.gj.bg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bac:{get:function(){return this.mf.mh || this.gj.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cib:{get:function(){return this.mf.bg || this.gj.bg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Su:{get:function(){return this.Bv.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ej:{get:function(){return this.mf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{H3a:{get:function(){return this.gj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ub:{get:function(){return this.gj.concat(this.mf);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{It:{get:function(){return this.vh;},enumerable:!1,configurable:!0}});k.prototype.sN=function(m){var p;m.aborted?++this.Ema:this.Hr+=m.bytesReceived || 0;if(this.empty)this.vh=new f.sD(this,{});else if(m.$a !== this.lb)if(m.$a > this.vh.lb)this.vh.L1(this.vh.lb);else if(m.$a < this.$a || m.$a === this.vh.lb){p=m.lb;this.OVb(function(q,v){return q.$a - v.$a;},function(q){p=q.$a === p?q.lb:p;});p === Math.max(this.lb,m.lb)?this.vh.Bra():this.vh.L1(p);}m.aFa(this);};k.prototype.PA=function(m){m.aborted?--this.Ema:this.Hr-=m.bytesReceived;this.empty?this.vh=void 0:m.$a !== this.lb && m.lb <= this.vh.lb && m.$a > this.vh.$a && this.vh.L1(m.$a);m.g3a();};k.prototype.push=function(m){this.sN(m);return g.prototype.push.call(this,m);};k.prototype.shift=function(){var m;m=g.prototype.shift.call(this);m && this.PA(m);return m;};k.prototype.pop=function(){var m;m=g.prototype.pop.call(this);m && this.PA(m);return m;};k.prototype.unshift=function(m){this.sN(m);return g.prototype.unshift.call(this,m);};k.prototype.xp=function(m){this.sN(m);g.prototype.xp.call(this,m);};k.prototype.remove=function(m){if(!g.prototype.remove.call(this,m))return !1;this.PA(m);return !0;};k.prototype.splice=function(m,p){for(var q=[],v=2;v < arguments.length;v++){q[v - 2]=arguments[v];}v=g.prototype.splice.apply(this,d.__spreadArray([m,p],d.__read(q),!1));q.forEach(this.sN.bind(this));v.forEach(this.PA.bind(this));return v;};k.prototype.Ecc=function(m){var p;p=this;this.reduce(function(q,v,t){v.aborted && (m && m(v,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};k.prototype.nua=function(m){return this.H7a(function(p){return p.nua(m);});};k.prototype.LP=function(m){return this.H7a(function(p){return p.LP(m);});};k.prototype.G7a=function(m){m=this.LP(m);return -1 !== m?this.get(m):void 0;};k.prototype.Xfc=function(m){var q;for(var p=[];m < this.length;){q=this.get(m);q && p.push(q);m++;}return p;};k.prototype.AC=function(m){this.move(m);this.OP(m);};k.prototype.YK=function(m){this.Hr+=m.bytesReceived - m.xu;this.OJ(m);};k.prototype.rl=function(m){for(this.Hr+=m.bytesReceived - m.xu;this.mf.first && this.mf.first.complete && (this.gj.empty?this.mf.first === this.sta:this.mf.first.$a === this.gj.lb);){this.thc();}this.$v(m);};k.prototype.u0=function(m,p,q){this.Hr-=m.bytesReceived;++this.Ema;this.NP(m,p,q);};k.prototype.BC=function(m,p,q){this.mf.zlc(p - q);this.paa(m,p,q);};return k;})(l.qKa);b.EIa=a;(0,r.hf)(c.jx,a,!1);(0,r.hf)(n.bv,a);(0,r.hf)(n.Oz,a);},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.qKa=void 0;d=a(0);a(2);r=(function(){function l(h,n){this.Gd=h;this.CN=n;this.IA();}Object.defineProperties(l.prototype,{length:{get:function(){return this.cg;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.cg;},enumerable:!1,configurable:!0}});l.prototype.vWb=function(){return this.Ph && this.Ph.get(0);};l.prototype.kJb=function(){return this.yN && this.yN.get(this.yN.length - 1);};l.prototype.get=function(h){0 > h && (h+=this.length);for(var n=0;n < this.Gd.length;++n){if(this.ij[n + 1] > h)return this.Gd[n].get(h - this.ij[n]);}};l.prototype.push=function(h){this.Gd[this.CN(h)].push(h);this.IA();return this.cg;};l.prototype.shift=function(){var h;if(this.Ph){h=this.Ph.shift();this.IA();return h;}};l.prototype.pop=function(){var h;if(this.yN){h=this.yN.pop();this.IA();return h;}};l.prototype.unshift=function(h){this.Gd[this.CN(h)].unshift(h);this.IA();return this.cg;};l.prototype.xp=function(h){var n;n=this.CN(h);this.Gd[n].xp(h);this.IA();};l.prototype.remove=function(h){var n;n=this.Gd.some(function(c){return c.remove(h);});n && this.IA();return n;};l.prototype.splice=function(h,n){var q,v,t,w;for(var c,f=[],g=2;g < arguments.length;g++){f[g - 2]=arguments[g];}g=[];for(var k,m=h + Math.max(0,n),p=0;p < this.Gd.length;++p){q=this.Gd[p];v=this.ij[p];t=this.ij[p + 1];if(h < t){w=h - v;v=Math.min(m - v,q.length);void 0 === k && 0 < w && v < q.length?Array.prototype.push.apply(g,q.splice.apply(q,d.__spreadArray([w,v - w],d.__read(f),!1))):(Array.prototype.push.apply(g,q.splice(w,v - w)),void 0 === k && (k=0 < p && 0 === w?p - 1:p));h=t;if(h >= m)break;}}if(f.length && void 0 !== k){for(m=this.CN(f[0]);0 < k && m < k && this.Gd[k].empty;){--k;}for(;f.length && m === k;){this.Gd[k].push(f.shift());if(!f.length)break;m=this.CN(f[0]);}for(;f.length && ++k < this.Gd.length && this.Gd[k].empty;){for(;f.length && m === k;){this.Gd[k].push(f.shift());if(!f.length)break;m=this.CN(f[0]);}}f.length && (c=this.Gd[k]).splice.apply(c,d.__spreadArray([0,0],d.__read(f),!1));}this.IA();return g;};l.prototype.find=function(h){var n,c;n=this;return this.Gd.some(function(f,g){c=f.find(n.pE(h,g));return void 0 !== c;})?c:void 0;};l.prototype.findIndex=function(h){var c;for(var n=0;n < this.Gd.length;++n){c=this.Gd[n].findIndex(this.pE(h,n));if(-1 !== c)return c + this.ij[n];}return -1;};l.prototype.indexOf=function(h){var c;for(var n=0;n < this.Gd.length;++n){c=this.Gd[n].indexOf(h);if(-1 !== c)return c + this.ij[n];}return -1;};l.prototype.map=function(h){var n,c;n=this;c=this.Gd.map(function(f,g){return f.map(n.pE(h,g));});return Array.prototype.concat.apply([],c);};l.prototype.reduce=function(h,n){var c;c=this;return this.Gd.reduce(function(f,g,k){return g.reduce(c.fGb(h,k),f);},n);};l.prototype.forEach=function(h){var n;n=this;this.Gd.forEach(function(c,f){c.forEach(n.pE(h,f));});};l.prototype.jaa=function(h){for(var n=this.Gd.length - 1;0 <= n;--n){this.Gd[n].jaa(this.pE(h,n));}};l.prototype.some=function(h){var n;n=this;return this.Gd.some(function(c,f){return c.some(n.pE(h,f));});};l.prototype.DFa=function(h){for(var n=this.Gd.length - 1;0 <= n;--n){if(this.Gd[n].DFa(this.pE(h,n)))return !0;}return !1;};l.prototype.every=function(h){var n;n=this;return this.Gd.every(function(c,f){return c.every(n.pE(h,f));});};l.prototype.OVb=function(h,n){var m,p;function c(q){return q.reduce(function(v,t,w,u){return void 0 === t?v:void 0 === v?w:0 > h(t,u[v])?w:v;},void 0);}for(var f=this,g=this.Gd.map(function(){return 0;}),k=this.Gd.filter(function(q){return q.empty;}).length;k < this.Gd.length;){m=g.map(function(q,v){return q < f.Gd[v].length?f.Gd[v].get(q):void 0;});p=c(m);n(m[p],this.ij[p] + g[p],this);++g[p];g[p] === this.Gd[p].length && ++k;}};l.prototype.move=function(h){return this.remove(h)?(this.xp(h),!0):!1;};l.prototype.thc=function(){var h;if(this.Gd[1].length){h=this.Gd[1].shift();this.Gd[0].push(h);this.IA();}};l.prototype.H7a=function(h){for(var n=-1,c=0;c < this.Gd.length;++c){if((n=h(this.Gd[c]),-1 !== n)){n+=this.ij[c];break;}}return n;};l.prototype.toJSON=function(){return this.map(function(h){return h.toJSON();});};l.prototype.IA=function(){var n;this.cg=0;this.ij=[0];this.yN=this.Ph=void 0;for(var h=0;h < this.Gd.length;++h){n=this.Gd[h];this.cg+=n.length;this.ij.push(this.ij[this.ij.length - 1] + n.length);!this.Ph && n.length && (this.Ph=n);n.length && (this.yN=n);}};l.prototype.pE=function(h,n){var c,f;c=this;f=this.ij[n];return function(g,k){return h(g,f + k,c);};};l.prototype.fGb=function(h,n){var c,f;c=this;f=this.ij[n];return function(g,k,m){return h(g,k,f + m,c);};};return l;})();b.qKa=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.w3=void 0;d=a(0);l=a(2);r=a(35);h=a(266);a=a(78);n=(function(){function c(f,g){this.ab=[];this.vh=void 0;this.md=0;this.H=f;g && g.length && (Array.isArray(g)?(this.ab=g.slice(),this.dV(0,this.ab.length)):g instanceof c && (this.ab=g.ab.slice(),this.dV(0,this.ab.length)));}Object.defineProperties(c.prototype,{length:{get:function(){return this.ab.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{empty:{get:function(){return 0 === this.ab.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{first:{get:function(){return this.ab[0];},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mh:{get:function(){return this.ab[this.ab.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{$a:{get:function(){return this.first && this.first.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{lb:{get:function(){return this.mh && this.mh.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{It:{get:function(){return this.vh;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ha:{get:function(){return this.md;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return this.first && this.first.V;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Yj:{get:function(){return this.first && this.first.Yj;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ma:{get:function(){return this.ab;},enumerable:!1,configurable:!0}});c.prototype.zlc=function(f){this.md+=f;};c.prototype.ZIb=function(){var f;if(0 === this.ab.length)((0,l.assert)(void 0 === this.vh),(0,l.assert)(0 === this.md));else {(0,l.assert)(this.vh instanceof h.sD);(0,l.assert)("number" === typeof this.md);(0,l.assert)(void 0 !== this.It && this.It.$a === this.$a);f=this.ab.reduce(function(g,k,m){return 0 === m || k.$a === g?k.lb:g;},0);(0,l.assert)(this.It.lb === f);(0,l.assert)(this.ab.reduce(function(g,k,m){return 0 === m || k.$a === g?k.lb:g;},0) === this.It.lb);(0,l.assert)(this.ab.reduce(function(g,k){return g + k.ha;},0) === this.md);}};c.prototype.get=function(f){0 > f && (f+=this.ab.length);return this.ab[f];};c.prototype.push=function(f){this.ab.push(f);this.dV(this.ab.length - 1);return this.length;};c.prototype.unshift=function(f){this.ab.unshift(f);this.dV(0,1);return this.length;};c.prototype.pop=function(){if(0 !== this.ab.length)return (this.yoa(this.ab.length - 1),this.ab.pop());};c.prototype.shift=function(){if(0 !== this.ab.length)return (this.yoa(0),this.ab.shift());};c.prototype.splice=function(f,g){for(var k,m=[],p=2;p < arguments.length;p++){m[p - 2]=arguments[p];}0 > f && (f+=this.ab.length);0 > f && (f=0);f > this.ab.length && (f=this.ab.length);if(void 0 === g || 0 > g)g=0;g=Math.min(g,this.ab.length - f);0 < g && this.yoa(f,f + g);p=(k=this.ab).splice.apply(k,d.__spreadArray([f,g],d.__read(m),!1));0 < m.length && this.dV(f,f + arguments.length - 2);return p;};c.prototype.slice=function(f,g){void 0 === f && (f=0);void 0 === g && (g=this.ab.length);0 > f && (f+=this.ab.length);if(f >= this.ab.length)return new c(this.H);g > this.ab.length && (g=this.ab.length);0 > g && (g+=this.ab.length);return new c(this.H,this.ab.slice(f,g));};c.prototype.xp=function(f){if(0 === this.ab.length || f.$a >= this.lb)this.push(f);else if(f.lb <= this.$a)this.unshift(f);else {for(var g=0,k=this.ab.length - 1,m;g < k - 1;){m=Math.floor((k + g) / 2);(0,l.assert)(m !== k && m !== g);f.$a >= this.ab[m].lb?g=m:k=m;}(0,l.assert)(g !== k);(0,l.assert)(this.ab[g].lb <= f.$a && this.ab[k].$a >= f.lb);this.splice(k,0,f);}};c.prototype.remove=function(f){f=this.ab.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};c.prototype.concat=function(){for(var f=[],g=0;g < arguments.length;g++){f[g]=arguments[g];}f=f.map(function(k){return k.ab;});return new c(this.H,Array.prototype.concat.apply(this.ab,f));};c.prototype.forEach=function(f){var g;g=this;this.ab.forEach(function(k,m){return f(k,m,g);});};c.prototype.some=function(f){var g;g=this;return this.ab.some(function(k,m){return f(k,m,g);});};c.prototype.every=function(f){var g;g=this;return this.ab.every(function(k,m){return f(k,m,g);});};c.prototype.map=function(f){var g;g=this;return this.ab.map(function(k,m){return f(k,m,g);});};c.prototype.reduce=function(f,g){var k;k=this;return this.ab.reduce(function(m,p,q){return f(m,p,q,k);},g);};c.prototype.indexOf=function(f){return this.ab.indexOf(f);};c.prototype.find=function(f){var g,k;g=this;return this.ab.some(function(m,p){k=p;return f(m,p,g);})?this.ab[k]:void 0;};c.prototype.findIndex=function(f){var g,k;g=this;return this.ab.some(function(m,p){k=p;return f(m,p,g);})?k:-1;};c.prototype.filter=function(f){var g;g=this;return new c(this.H,this.ab.filter(function(k,m){return f(k,m,g);}));};c.prototype.jaa=function(f){for(var g=this.ab.length - 1;0 <= g;--g){f(this.ab[g],g,this);}};c.prototype.DFa=function(f){for(var g=this.ab.length - 1;0 <= g;--g){if(f(this.ab[g],g,this))return !0;}return !1;};c.prototype.nua=function(f){if(this.empty || f < this.ue || f >= this.Oc)return -1;for(var g=0,k=this.ab.length - 1,m;k > g;){m=Math.floor((k + g) / 2);if(f >= this.ab[m].ue && f < this.ab[m].Oc){k=m;break;}f < this.ab[m].Oc?k=m - 1:g=m + 1;}return k;};c.prototype.LP=function(f){if(this.empty || f < this.Nd || f >= this.bg)return -1;for(var g=0,k=this.ab.length - 1,m;k > g;){m=Math.floor((k + g) / 2);if(f >= this.ab[m].Nd && f < this.ab[m].bg){k=m;break;}f < this.ab[m].bg?k=m - 1:g=m + 1;}return k;};c.prototype.G7a=function(f){f=this.LP(f);return 0 <= f?this.ab[f]:void 0;};c.prototype.g8=function(f){var g;g=this.ab[f].lb;for(f+=1;f < this.ab.length && g === this.ab[f].$a;++f){g=this.ab[f].lb;}f < this.ab.length?void 0 === this.vh?this.vh=new h.sD(this,{lb:g}):this.vh.L1(g):void 0 === this.vh?this.vh=new h.sD(this,{}):this.vh.Bra();};c.prototype.sN=function(f,g){for(var k=f;k < g;++k){this.md+=this.ab[k].ha;}void 0 === this.vh || 0 === f?this.g8(0):this.vh.lb === this.lb?this.g8(f - 1):this.ab[f].$a === this.vh.lb && this.g8(f);};c.prototype.PA=function(f,g){var k;if(0 === f)(this.vh=void 0,g < this.length && this.g8(g));else {k=this.vh;k.lb > this.ab[f - 1].lb && (g < this.length?k.L1(this.ab[f - 1].lb):k.Bra());}for(;f < g;++f){this.md-=this.ab[f].ha;}};c.prototype.dV=function(f,g){void 0 === g && (g=f + 1);this.sN(f,g);};c.prototype.yoa=function(f,g){void 0 === g && (g=f + 1);this.PA(f,g);};return c;})();b.w3=n;(0,r.hf)(a.bv,n);(0,r.hf)(a.Oz,n);},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.KIa=void 0;d=a(0);d.__importDefault(a(3));l=a(6);h=a(8);n=a(2);c=a(191);f=a(77);g=a(445);k=a(268);m=a(93);(function(q){q[q.INIT=0]="INIT";q[q.uUa=1]="READY";q[q.DONE=2]="DONE";})(p || (p={}));r=(function(q){function v(t,w,u,y,x,z,B,A){x=q.call(this,t,y,x,w,z) || this;x.MBb=0;x.Qoa=p.INIT;x.hna=u;x.rtc=y.offset;(0,n.assert)(y.pj);x.MV=y.pj;x.IV=f.Jl.prototype.toString.call(x) + " multiple";x.tCb=("AseMultiFragmentMediaRequest(").concat(x.ue,"-").concat(x.Oc,")");x.pj=y.pj;w=w.b5b;x.D7=w;x.DI(x.IV,y.offset,w,1,x.hna,x.Uc);B && A && t.mediaType === l.u.J?(x.FFb=B.Rc[0],x.y_a=A.track,x.DI("TEXT",0,0,0,x.y_a,x.FFb)):x.Qoa=p.DONE;return x;}d.__extends(v,q);Object.defineProperties(v.prototype,{ha:{get:function(){return this.D7;},enumerable:!1,configurable:!0}});v.prototype.TG=function(){var t;t=this;this.SDa();return this.Ja.every(function(w){var u;if(5 === w.readyState || 7 === w.readyState)return !0;u=w.stream.bQ(t.zc,t.MV);return w.TG(u);});};v.prototype.zC=function(t){var w,u;if(0 === t.offset){w=this.QAb(t);if(void 0 === w)1 > this.MBb++?(this.Gs(t),t.abort(),this.DI(this.IV,0,t.ha,t.responseType,t.mediaType === l.u.nb?this.y_a:this.hna,t.stream)):this.H.error("Missing content-range from url: " + t.url);else {u=0 === t.ha?0:w - (t.offset + t.ha);0 < u && (this.DI(this.IV,t.offset + t.ha,u,1,this.hna,this.Uc),u=this.D7,this.D7=w,c.av.prototype.BC.call(this,this,this.D7,u));}}c.av.prototype.zC.call(this,t);};v.prototype.rl=function(t){c.av.prototype.rl.call(this,t);};v.prototype.BC=function(t,w,u){t.mediaType !== l.u.nb && c.av.prototype.BC.call(this,t,w,u);};v.prototype.uk=function(){return this.Um?!this.ud && !!this.Ja.length && this.Ja.every(function(t){return t.uk();}):q.prototype.uk.call(this);};v.prototype.Qr=function(t,w,u){var y,x;if(this.ud)return {status:m.jg.Pp};if(!this.uk())return {status:m.jg.mg};if(void 0 !== this.A_a){y=this.Ja[this.A_a];y.uk() && (y.Qr(t,w,u),this.Qoa=p.DONE);}x=m.jg.aRa;(this.ud=this.Ja.every(function(z){if(1 !== z.responseType || z.ud)return !0;if(!z.uk())return !1;x=z.Qr(t,w,u,(0,h.Ry)(z)).status;return x === m.jg.Pp;}) && this.Qoa === p.DONE) || (x=m.jg.z5);return {status:x};};v.prototype.DI=function(t,w,u,y,x,z){w={L:this.L,mediaType:z.mediaType,Ta:z.id,bitrate:this.bitrate,index:this.pj,offset:w,ha:u,location:this.location,bd:this.bd,responseType:y,pj:this.pj};w.$a=this.cc.Ue(z.V).Ca;w.lb=this.xd.Ue(z.V).Ca;w.V=z.V;z.mediaType === l.u.nb?(t=new g.sia(z,x,w,this,this.te,this.H),this.A_a=this.Ja.length):t=new k.zT(z,x,t + " (" + this.Ja.length + ")",w,this,this.te,this.H);this.push(t);};v.prototype.QAb=function(t){var w;w=t.getResponseHeader("content-range",!1);if(w)return (t=w.indexOf("/"),(0,n.assert)(-1 !== t,"unable to parse content-range: " + w),t=w.slice(t + 1),t=parseInt(t),(0,n.assert)(0 < t,"unable to parse content-range: " + w),t);if(w=t.getResponseHeader("content-length",!1))return parseInt(w);};return v;})(c.av);b.KIa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.IVa=void 0;d=a(438);l=a(6);h=a(20);r=(function(){function n(c,f){this.Wh=c;this.console=f;this.pI=Infinity;this.nV=this.E7=0;this.F_a=!1;}n.prototype.uec=function(){this.F_a=!0;};n.prototype.jVb=function(c,f,g,k,m){var p;if(this.Wh){p=c.ma;if(p){if(g === l.u.J)(g=p.np(Math.ceil(this.Wh * c.da.IC),void 0,!0),p=c.Zl(g),c=p.Nt.qk(c.da),p.vj({start:0,end:this.Wh - g * c}),this.pI=this.Wh);else {void 0 !== k.snb?(f=k.snb,g=f * c.da.Z):(g=(0,d.Uva)(k,m) + Math.ceil(k.TIb * c.da.IC),h.O.Na(g).qk(c.da),g=f + g,f=Math.ceil(g / c.da.IC));g=p.np(g,void 0,!0);for(m=k=0;m < g;++m){p=c.Zl(m);k+=p.Nt.qk(c.da);}k=f - k;p=c.Zl(g);p.vj({end:k});this.pI=f;}p.Leb();return p;}}};n.prototype.U1b=function(c){this.nV+=c.Ukb;this.console.warn(("StallAtFrameCount, adding frames: ").concat(c.Ukb),("total frames: ").concat(this.nV),("needed frames: ").concat(this.pI));};n.prototype.y0b=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:",("requested: ").concat(this.E7),("needed: ").concat(this.pI));return this.E7 >= this.pI;};n.prototype.x0b=function(){return this.nV >= this.pI;};n.prototype.W1b=function(c,f){this.E7+=this.Dy(c,f);};n.prototype.KTb=function(c,f,g){c.Ukb=this.Dy(f,g);};n.prototype.Dy=function(c,f){return c.Nt.qk(f.da);};n.prototype.lB=function(){if(!this.x0b())return !1;if(this.F_a)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.nV," >= ").concat(this.pI));return !0;};return n;})();b.IVa=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.hma=void 0;r=a(0);d=r.__importStar(a(13));l=r.__importDefault(a(29));h=r.__importDefault(a(3));n=a(21);c=a(6);f=a(270);g=a(1037);k=new h.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");m=[c.Ma[c.Ma.ai],c.Ma[c.Ma.ce],c.Ma[c.Ma.bh],c.Ma[c.Ma.Xc],c.Ma[c.Ma.ej],"checkBuffering"];p=a(1039);q={first:function(){return a(1040);},random:function(){return a(1041);},optimized:function(){return a(194).default;},roundrobin:function(){return a(1046);},selectaudio:function(){return a(447);},selectaudioadaptive:function(){return a(1047);},"default":function(){return a(194).default;},lowest:function(){return a(1048);},highest:function(){return a(1049);},throughputthreshold:function(){return a(1050);},replay:function(){return a(1051).default;},checkdefault:function(){return a(1053);},livesimple:function(){return a(1054).default;},testscript:function(){return p;}};v={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};r=(function(){var J8S;J8S=2;for(;J8S !== 6;){switch(J8S){case 4:t.prototype.ACa=function(w,u,y,x,z){var g4S,B,A,C;g4S=2;for(;g4S !== 5;){switch(g4S){case 2:B=this;w.CY(function(D){var K7c;K7c=2;for(;K7c !== 1;){switch(K7c){case 2:B.jaa(D,function(E){var i9r;i9r=2;for(;i9r !== 1;){switch(i9r){case 2:E.uw && E.Ib && E.Ib.confidence?(A !== E.Ib && (A=E.Ib,u && E.Ib && (E.Ib.eu=!0),C=z(E.Ib,x,y,E.track.P.ku[c.u.U])),E.Za=Math.floor(C.lower) || 1,E.fkc=Math.floor(C.upper || 1) || 1):E.Za=void 0;i9r=1;break;}}});K7c=1;break;}}});g4S=5;break;}}};t.prototype.jaa=function(w,u){var j6q,y;j6q=2;for(;j6q !== 3;){switch(j6q){case 4:--y;j6q=1;break;case 2:R7xOY.h1T(13);var O7v=R7xOY.f4w(7,6,0);y=w.length - O7v;j6q=1;break;case 1:j6q=0 <= y?5:3;break;case 5:u(w[y],y,w);j6q=4;break;case 6:u(w[y],y,w);j6q=2;break;}}};Object.defineProperties(t.prototype,{EQ:{get:function(){var g3w;g3w=2;for(;g3w !== 1;){switch(g3w){case 2:return this.Tna;break;case 4:return this.Tna;break;}}},enumerable:!1,configurable:!0}});J8S=8;break;case 2:t.prototype.GEa=function(w,u,y,x,z,B,A){var g$2,U,u$g,X,C,D,E,G,F,K,O,L,I,M,V,H,J,N,P,S;g$2=2;for(;g$2 !== 61;){switch(g$2){case 43:U=[];B.forEach(function(ha){var J61,qa;J61=2;for(;J61 !== 4;){switch(J61){case 2:qa=ha.stat;qa=(ha=S[ha.filter]) && ha[qa];U.push(isNaN(qa)?-1:qa);J61=4;break;}}});g$2=41;break;case 10:d.xa(I) && (I=this.De.Ddb);w.state === c.Ma.ai && d.Pa(I) && (w.state=c.Ma.ce);w.state !== c.Ma.ai && void 0 === I && (w.state=c.Ma.ai);g$2=18;break;case 13:g$2=!(0 <= I)?12:10;break;case 33:var P5G="pl";P5G+="a";P5G+="yi";P5G+="ng";this.Phb && (V.tu=this.Phb.rZb({FE:F.nk - F.Pc,SJb:F.Yg || 0,RJb:F.Et || 0,Pc:F.Pc,Q5b:L[0],oh:y,lmc:L[V.ae + 1] || y,Akc:L[L.length - 1],uf:w.state,playbackRate:w.playbackRate,Wd:w.Wd,raa:A,qj:z}));d.Pa(I) && y.bitrate < L[I].bitrate && (this.Tna=F.Fc);w.state !== c.Ma.Xc && w.state !== c.Ma.ej?(z=(0,f.Oea)(w.state),B=this.lB(w.buffer,z,w.playbackRate,y,B),(V.Og=B.complete)?V.n9=B.reason:(V.Og=!1,V.EG=B.EG,V.WF=B.WF,V.progress=B.progress)):(V.Og=!0,V.n9=P5G);g$2=30;break;case 48:return V;break;case 18:u$g=w.state;g$2=u$g === c.Ma.ai?17:47;break;case 16:this.De.rmb(l.default.K4.ai);g$2=15;break;case 4:g$2=d.xa(I) && w.state === c.Ma.Xc && (M=!0,void 0 !== this.De.Vm)?3:8;break;case 12:X=J[N - 1].bitrate;g$2=11;break;case 46:this.De.rmb(l.default.K4.ai);g$2=15;break;case 65:g$2=u$g === c.Ma.Xc?15:64;break;case 54:V.Gqa=F.nk - F.Pc;g$2=53;break;case 23:return null;break;case 49:V.VG=h.default.time.fa();g$2=48;break;case 2:(C=this,F=null === w || void 0 === w?void 0:w.buffer,K=h.default.time.fa(),O=this.K,L=u.first,I=this.De.Ddb,M=!1);d.Pa(I) && w.state === c.Ma.ai && (this.De.N1(void 0),I=void 0);d.Pa(I) && I >= L.length && (this.De.N1(void 0),I=void 0);g$2=4;break;case 11:u.CY(function(ha,qa){var n$y,xa;n$y=2;for(;n$y !== 4;){switch(n$y){case 2:xa=(0,n.vt)(ha,function(Aa){var C5t;C5t=2;for(;C5t !== 1;){switch(C5t){case 4:return Aa.bitrate >= X;break;case 2:return Aa.bitrate > X;break;}}});ha=0 < xa?xa - 1:0 === xa?0:ha.length - 1;0 === qa && (I=ha);n$y=4;break;}}});g$2=10;break;case 22:var X8G="m";X8G+="in_fragm";X8G+="ent_vmaf";void 0 === V.y7b?this.De.N1(V.ae):this.De.N1(V.y7b);y=L[V.ae];V.P0=y.Za || 0;V.reason && (y.Fu=V.reason,X8G !== V.reason && (y.FEa=V.nw,y.ZB=V.ZB,y.Lq=V.Lq,y.Mq=V.Mq));g$2=33;break;case 41:V.sbc=U;g$2=40;break;case 30:g$2=w.tP?29:48;break;case 7:g$2=0 < N?6:10;break;case 24:g$2=!V || null === V.ae?23:22;break;case 17:this.Yna=this.Tna=void 0;g$2=16;break;case 9:u.CY(function(ha,qa){var N_y,xa;N_y=2;for(;N_y !== 3;){switch(N_y){case 2:xa=(0,n.vt)(ha,function(Aa){var l_p;l_p=2;for(;l_p !== 1;){switch(l_p){case 2:return Aa.bitrate > H;break;}}});ha=0 < xa?xa - 1:0 === xa?0:ha.length - 1;u.Ylc(qa,ha);0 === qa && (I=ha,C.De.N1(I));N_y=3;break;}}});g$2=8;break;case 47:g$2=u$g === c.Ma.ce?46:45;break;case 63:g$2=62;break;case 64:g$2=u$g === c.Ma.ej?15:63;break;case 15:void 0 !== x && this.ACa(u,!!w.eu,w.state,w.buffer,x);V=this.bi[c.Ma[w.state]].call(this,O,w,u,I,x,!!z,M,y);V.uf=w.state;g$2=25;break;case 62:var L57="Stream selector c";L57+="all";L57+="ed with invalid player sta";L57+="te ";return (k.error(L57 + c.Ma[w.state]),null);break;case 53:V.e2a=F.Yg;V.Vac=null !== (G=null === (E=null === (D=h.default.Mvc) || void 0 === D?void 0:D.call(h.default)) || void 0 === E?void 0:E[w.mediaType === c.u.J?1:0]) && void 0 !== G?G:-1;V.Ej=w && w.Ej;g$2=50;break;case 25:V.oh && (V.EB=[],u.PVb(function(ha,qa){var G93;G93=2;for(;G93 !== 5;){switch(G93){case 2:ha === V.oh?V.ae=qa:(ha.TFa || O.PSb && (!ha.ma || !ha.ma.length)) && V.EB.push(ha.Ta);ha.TFa=!1;G93=5;break;}}}),!V.EB.length && O.jnb && F.nk - F.Pc > O.S_ && !V.oh.qa && (y=void 0,x=V.ae + 1,x=x < L.length?L[x]:void 0,M=V.ae - 1,M=0 <= M?L[M]:void 0,!x || x.ma && x.ma.length?!M || M.ma && M.ma.length || (y=M):y=x,y && V.EB.push(y.Ta)),V.EB.length || (V.EB=void 0));g$2=24;break;case 3:H=this.De.Vm.bitrate;g$2=9;break;case 8:(J=F.ma,N=J.length);g$2=7;break;case 40:V.Fc=F.Fc;B=w && w.Wd;z=y.ma;V.il=z && void 0 !== B && !isNaN(B) && 0 <= B && B < z.length?z.Dl(B):F.Fc;V.X8b=S && S.Za && S.Za.ya || 0;g$2=54;break;case 44:g$2=S && B && 0 < B.length?43:40;break;case 6:P=J[N - 1].Ta;I=(0,n.vt)(L,function(ha){var S_T;S_T=2;for(;S_T !== 1;){switch(S_T){case 2:return ha.Ta === P;break;}}});g$2=13;break;case 45:g$2=u$g === c.Ma.bh?46:65;break;case 29:S=y.Ib;B=O.a_a;g$2=44;break;case 50:V.Ru=K;g$2=49;break;}}};t.prototype.lB=function(w,u,y,x,z){var G0S;G0S=2;for(;G0S !== 1;){switch(G0S){case 2:return this.bi.checkBuffering.call(this,w,u,y,x,z,this.K);break;}}};t.prototype.Sic=function(w,u,y){var x$8;x$8=2;for(;x$8 !== 1;){switch(x$8){case 2:d.xa(u)?this.Tna=this.Yna=void 0:u.bitrate < y.bitrate && (this.Yna=w);x$8=1;break;}}};J8S=4;break;case 8:Object.defineProperties(t.prototype,{Wya:{get:function(){var p5m;p5m=2;for(;p5m !== 1;){switch(p5m){case 2:return this.Yna;break;}}},enumerable:!1,configurable:!0}});return t;break;}}function t(w,u,y,x){var n4j,z,B;n4j=2;for(;n4j !== 6;){switch(n4j){case 2:var n5E="1SIYb";n5E+="ZrNJCp";n5E+="9";z=this;this.D1=w;this.K=u;this.De=y;n5E;n4j=9;break;case 9:w=w || this.K.SFa;this.bi=m.reduce(function(A,C){var F3x,D;F3x=2;for(;F3x !== 4;){switch(F3x){case 2:D=(q[w] || q[v[C]])()[C] || q[v[C]]()[C];A[C]=D.bind(z);return A;break;}}},{});n4j=7;break;case 7:x && (this.Phb=new g.WRa(u,null === (B=y.track) || void 0 === B?void 0:B.mediaType));n4j=6;break;}}}})();b.hma=r;},function(r,b,a){var v,t,w;function d(u){return h(u.oh);}function l(u,y){var x,A,C;x=n(y.Odc,u.uf,u.oh.Ib.confidence);if(0 === x.length)return 0;a:switch(y.H$b){case "implicit":y=q(y,u.oh);y=u.FE / y;break a;case "capacityPercentage":y=Math.max(u.SJb / u.RJb || 0,u.FE / y.xw);break a;default:y=0;}for(var z=-1,B=0;B < x.length;B++){if(x[B].o9 >= y){z=B;break;}}if(-1 === z)return c(u,x[x.length - 1].Kra);if(0 === z)return c(u,x[0].Kra);A=x[z - 1].o9;B=c(u,x[z - 1].Kra);C=x[z].o9;u=c(u,x[z].Kra);x=Math.min((y - A) / (C - A),1);return (1 - x) * B + x * u;}function h(u){var y,x;x=null === (y=null === u || void 0 === u?void 0:u.P) || void 0 === y?void 0:y.ku;return x?x[u.mediaType] || 0:0;}function n(u,y,x){var B;function z(A,C){return void 0 !== A && 0 < A.filter(function(D){return D === C;}).length;}B=u.filter(function(A){return z(A.Pea,y);});0 === B.length && (B=u.filter(function(A){return !A.Pea || 0 === A.Pea.length;}));u=B.filter(function(A){return z(A.ogb,x);});0 === u.length && (u=B.filter(function(A){return !A.ogb || 0 === A.ogb.length;}));return u.sort(function(A,C){return A.o9 - C.o9;});}function c(u,y){var x,z,B,A;if(!y || "object" !== typeof y)return 0;x=u.oh;z=u.lmc;B=u.Akc;A={selectedFragmentBitrate:f(u.raa,x,u.Wd) * u.playbackRate,selectedPeakBitrate:(x.Wy || g(x) || 0) * u.playbackRate,upswitchPeakBitrate:(z.Wy || g(z) || 0) * u.playbackRate,maxPeakBitrate:(B.Wy || g(B) || 0) * u.playbackRate,selectedAverageBitrate:g(x) * u.playbackRate,upswitchAverageBitrate:g(z) * u.playbackRate,maxAverageBitrate:h(x) * u.playbackRate,bufferLevelMs:u.FE,observedThroughput:k(u.oh) || 0,averagetp:m(u.oh) || 0,stddevtp:p(u.oh) || 0};u=y.offset || 0;return Object.keys(A).reduce(function(C,D){return C + (y[D] || 0) * A[D];},u);}function f(u,y,x){var z;return void 0 !== x && y.ma?(void 0 === u?null === (z=y.ma) || void 0 === z?void 0:z.get(x).sqa:u.H9a(y,x).sqa) || y.Wy || 0:y.Wy || 0;}function g(u){return (null === u || void 0 === u?void 0:u.bitrate) || 0;}function k(u){var y;u=u.Ib;return (null === (y=null === u || void 0 === u?void 0:u.Za) || void 0 === y?void 0:y.ya) || 0;}function m(u){var y;u=u.Ib;return (null === (y=null === u || void 0 === u?void 0:u.fp) || void 0 === y?void 0:y.IO) || 0;}function p(u){var y;u=u.Ib;return Math.sqrt(null === (y=null === u || void 0 === u?void 0:u.fp) || void 0 === y?void 0:y.gT) || 0;}function q(u,y){var x,z;x=u.Kjc;x=m(y) + x * p(y);y=y.Za || 0;z=0;0 < y && (z=x / y - 1);return u.C7b + u.Jjc * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.qYb=b.kZb=b.uXb=b.WRa=void 0;r=a(0).__importDefault(a(3));v=a(6);t=a(1038);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:d,"static":function(u,y){return y.Enb;},none:function(){return 0;},regression:l,epsGreedy:function(u,y){return Math.min(l(u,y) || 0,k(u.oh));},"default":d};a=(function(){var D_u;D_u=2;for(;D_u !== 9;){switch(D_u){case 2:u.prototype.A8a=function(y,x){var Y1Q,A,z,B;Y1Q=2;for(;Y1Q !== 6;){switch(Y1Q){case 7:var X3e="C";X3e+="C";X3e+="S";X3e+="P";X3e === this.Fw && (A=new t.ela(this.Fw,B?{$C:this.Kaa(y,B.fDa[0],x),uB:this.Kaa(y,B.fDa[1],x),OC:this.Kaa(y,B.fDa[2],x)}:{$C:0,uB:0,OC:0},void 0));Y1Q=8;break;case 8:return A;break;case 9:A=new t.ela(this.Fw,void 0,{s1b:1,tu:z,bra:Number(this.K.bra),T6b:this.K.J6b,JDa:Number(this.K.JDa)});Y1Q=8;break;case 4:z=y;this.K.C9 && (z=this.Kaa(y,B.fDa[0],x));Y1Q=9;break;case 5:var l$j="H";l$j+="YB";l$j+="R";l$j+="ID";Y1Q=l$j === this.Fw?4:7;break;case 2:B=this.K.C9;x=null === (z=x.Q5b) || void 0 === z?void 0:z.Wy;Y1Q=5;break;}}};u.prototype.qZb=function(y){var M4P,x,z;M4P=2;for(;M4P !== 5;){switch(M4P){case 2:var V0M="sta";V0M+="t";V0M+="ic";var d65="C";d65+="CS";d65+="P";var k0$="HYBR";k0$+="I";k0$+="D";z=null === (x=y.oh) || void 0 === x?void 0:x.mediaType;return k0$ !== this.Fw || this.K.VSb?d65 === this.Fw && (z === v.u.U && !this.K.TSb || z === v.u.J && !this.K.USb)?0:V0M === this.K.F$b?this.K.Enb:h(y.oh):0;break;}}};u.prototype.Kaa=function(y,x,z){var F$p;F$p=2;for(;F$p !== 3;){switch(F$p){case 5:R7xOY.h1T(14);y=Math.ceil(R7xOY.p3p(x,y));return y < (this.K.C9.Cwc || 0) * (z || 0)?0:y;break;case 7:return 7;break;case 1:return 0;break;case 8:F$p=-x?3:8;break;case 2:F$p=!x?1:5;break;}}};u.prototype.rZb=function(y){var W3e,x,z,B;W3e=2;for(;W3e !== 7;){switch(W3e){case 3:return x;break;case 4:W3e=!this.Fw || !B || !z || (B=this.K.olc) && y.Wd && 0 === y.Wd % B || y.FE < z.aG?3:9;break;case 2:(z=null === (x=y.oh) || void 0 === x?void 0:x.mediaType,B=this.K.gY || z === v.u.U && this.K.dY || z === v.u.J && this.K.eY);x=this.A8a(0,y);z=this.K.C9;W3e=4;break;case 9:x=y.qj?this.algorithm(y,this.K):this.qZb(y);return this.A8a(x,y);break;}}};return u;break;}}function u(y,x){var e1d;e1d=2;for(;e1d !== 7;){switch(e1d){case 9:e1d=y.eY || y.dY?8:7;break;case 3:var V41="H";V41+="Y";V41+="B";V41+="RID";this.Fw=V41;e1d=7;break;case 8:var S_A="C";S_A+="C";S_A+="S";S_A+="P";this.Fw=S_A;e1d=7;break;case 2:var J8W="defau";J8W+="l";J8W+="t";var G0r="1S";G0r+="IYbZ";G0r+="rNJCp9";this.K=y;G0r;this.algorithm=(w[x === v.u.U?this.K.E$b:this.K.D$b] || w[J8W]).bind(this);e1d=4;break;case 4:e1d=y.gY?3:9;break;}}}})();b.WRa=a;b.uXb=n;b.kZb=k;b.qYb=q;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.ela=void 0;d=a(0);r=(function(){function l(h,n,c){var f,g,k;this.Fw=h;"HYBRID" === h?this.BZ=c:"CCSP" === h && (this.$C=null !== (f=n.$C) && void 0 !== f?f:0,this.uB=null !== (g=n.uB) && void 0 !== g?g:0,this.OC=null !== (k=n.OC) && void 0 !== k?k:0);}Object.defineProperties(l.prototype,{Mjb:{get:function(){return [this.$C,this.uB,this.OC];},enumerable:!1,configurable:!0}});l.prototype.Qfb=function(){return Math.min(this.$C,this.uB,this.OC);};l.prototype.oca=function(){return this.Mjb.some(function(h){return 0 < h;});};l.prototype.oEa=function(h){return new l(this.Fw,{$C:h * this.$C,uB:h * this.uB,OC:h * this.OC});};l.prototype.Uza=function(h,n,c,f){var g;g=8 * h / Math.max(c - n,1);if(!this.oca())return !1;h=this.Mjb.map(function(k){return Math.abs(g - k) / k;});return Math.min.apply(Math,d.__spreadArray([],d.__read(h),!1)) < f;};return l;})();b.ela=r;},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p){var q;q=p.first;f=q;g=q.map(function(v,t){return t;});if(null === c)return (k=h(q),c=q[k].bitrate,new n(k));if(!q.length)return null;k=g.filter(function(v){return q[v].bitrate == c;})[0];return void 0 === k?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + c),new n(g[0])):new n(k);}b=a(31);a=a(3).default;l=b.console;h=b.xua;n=b.Yp;c=null;f=null;g=null;a.eLb && (a.eLb.$j={oa:function(){g=f=c=null;},GEa:function(k){c=k;},Ovc:function(){return {all:f,nqb:g};}});r.exports={STARTING:d,BUFFERING:d,REBUFFERING:d,PLAYING:d,PAUSED:d};},function(r,b,a){var l,h,n,c;function d(f,g,k,m){f=k.first;if(l.xa(m))m=h(f);else if(!n(f[m]) && (m=h(f,m),0 > m))return null;return new c(m);}l=a(13);b=a(31);h=b.xua;n=b.wK;c=b.Yp;r.exports={STARTING:d,BUFFERING:d,REBUFFERING:d,PLAYING:d,PAUSED:d};},function(r,b,a){var l;function d(h,n,c){h=c.first.map(function(f,g){return f.uw?g:null;}).filter(function(f){return null !== f;});return h.length?new l(h[Math.floor(Math.random() * h.length)]):null;}l=a(31).Yp;r.exports={STARTING:d,BUFFERING:d,REBUFFERING:d,PLAYING:d,PAUSED:d};},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dga=void 0;r=a(0);d=r.__importStar(a(13));l=a(21);r=r.__importDefault(a(31));h=a(446);n=r.default.assert;c=r.default.Yp;b.dga=f;(function(){function g(k,m,p,q){function v(z){var P24,B;P24=2;for(;P24 !== 8;){switch(P24){case 2:B=z.Za;P24=1;break;case 1:P24=!B || (z.bitrate > u?k.kmc:1) * z.bitrate * m.playbackRate > B?5:4;break;case 5:return !1;break;case 4:var o$v="buff_";o$v+="lt";o$v+="_hist";y=o$v;x=B;return !0;break;}}}var B1J,x,y,t,w,u;B1J=2;for(;B1J !== 19;){switch(B1J){case 14:x=null === w || void 0 === w?void 0:w.Za;B1J=12;break;case 6:var r3P="fallback";r3P+="_lowest_acceptable_stre";r3P+="am";y=r3P;B1J=14;break;case 7:w=t[0];B1J=6;break;case 13:var R7R="selec";R7R+="t";R7R+="_feasible_buffering";y=R7R;B1J=14;break;case 20:return q;break;case 3:q=Math.min(q + (k.RHb?2:1),t.length);w=(0,l.Nc)(t.slice(0,q).reverse(),v);B1J=8;break;case 2:var z52="Must";z52+=" have at least";z52+=" one selected s";z52+="tream";n(!d.xa(q),z52);(t=p.first,w=t[q],u=w.bitrate);p=w;B1J=4;break;case 8:B1J=void 0 === w?7:13;break;case 4:B1J=w.Za?3:12;break;case 12:q=new c();q.oh=w;p !== w && (q.reason=y,q.nw=x);B1J=20;break;}}}var Y$e;Y$e=2;for(;Y$e !== 5;){switch(Y$e){case 2:var R$5="1SI";R$5+="YbZ";R$5+="r";R$5+="N";R$5+="JCp9";b.dga=f=function(k,m,p,q,v,t,w){var V7e;V7e=2;for(;V7e !== 1;){switch(V7e){case 2:var b$$="p";b$$+="layin";b$$+="g";return b$$ === k.Eqa?h.qo.call(this,k,m,p,q,v,t,w):g.call(this,k,m,p,q);break;}}};R$5;Y$e=5;break;}}})();},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});d=a(0);d.__importStar(a(13));l=a(31);b.default=function(h){var s7s=R7xOY;var M4g,K,O,L,I,M,H,J,F,E,G,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D;M4g=2;for(;M4g !== 50;){switch(M4g){case 41:(w+=M[c],++c,c >= M.length && ++I < n.length && (M=n.iZ(I),H=n.VP(I),c=0));M4g=42;break;case 35:M4g=w < q?34:53;break;case 40:++K;M4g=39;break;case 25:(K=G[1],O=n.iZ(D),L=n.VP(D),I=0,M=n.iZ(I),H=n.VP(I),J=A - q);M4g=24;break;case 39:M4g=K >= v && G > C?51:38;break;case 14:var S7S=" ";S7S+=">=";S7S+=" ";S7S+="fragmentsLen";S7S+="gth: ";var D4L="S";D4L+="treamin";D4L+="gIndex";D4L+=": ";s7s.e_n(15);k=s7s.p3p(B,k,G,1E3);s7s.e_n(16);u=s7s.p3p(0,u,8);s7s.e_n(1);F=s7s.f4w(1E3,B);q >= A && l.console.error(D4L + q + S7S + A);M4g=10;break;case 21:A=L[K];M4g=35;break;case 30:return (h && m.push(G / (B / 1E3)),d.__assign({result:!1,y_:G / (B / 1E3),Yv:!1},h && ({p9:m})));break;case 33:M4g=w < E?32:31;break;case 10:f+=D;0 === p && (f=0);s7s.e_n(1);f*=s7s.f4w(1E3,B);M4g=18;break;case 8:E=0;c=0;G=n.VP(0)[0];M4g=14;break;case 34:E=Math.max(q,t);M4g=33;break;case 28:s7s.h1T(17);f+=s7s.p3p(q,u,0,F);p+=A;M4g=43;break;case 18:s7s.e_n(1);p*=s7s.f4w(1E3,B);s7s.h1T(1);x*=s7s.f4w(1E3,B);s7s.e_n(1);y*=s7s.p3p(1E3,B);s7s.e_n(1);C*=s7s.p3p(1E3,B);M4g=27;break;case 38:K >= O.length && ++D < n.length && (v-=O.length,O=n.iZ(D),L=n.VP(D),K=0);h && m.push(G / (B / 1E3));E=G;M4g=54;break;case 51:return d.__assign({result:!0,y_:g / (B / 1E3),Yv:!0},h && ({p9:m}));break;case 53:M4g=(G=Math.max(p - f,0),G < y && G < E)?52:28;break;case 2:var H$I="1";H$I+="SIY";H$I+="bZrN";H$I+="JCp9";(n=h.eWb,c=h.blocks,f=h.Pc,g=h.nk,k=h.$hc,m=h.Uj,p=h.Fc,q=h.Wd,v=h.DVb,t=h.XX,w=h.w8a,u=h.Za,y=h.vda,x=h.aG,z=h.N3b);h=h.RSb;H$I;(B=n.V,A=Math.min(n.fWb,c),C=g - f,D=8 * m / u | 0);m=[];g=Infinity;M4g=8;break;case 54:g=Math.min(G,g);M4g=24;break;case 24:M4g=J?23:51;break;case 43:w-=q;M4g=42;break;case 52:return (h && m.push(G / (B / 1E3)),d.__assign({result:!1,y_:Math.min(G,g) / (B / 1E3),Yv:!0},h && ({p9:m})));break;case 31:M4g=!z && (G=p - f,G < x)?30:29;break;case 32:(f=k,w+=M[c],++c,c >= M.length && ++I < n.length && (M=n.iZ(I),H=n.VP(I),c=0),G=H[c],k+=G);M4g=33;break;case 29:s7s.e_n(0);G=s7s.f4w(p,f);M4g=28;break;case 42:M4g=k < f && c < K?41:40;break;case 27:G=d.__read(n.lZb(q),2);D=G[0];M4g=25;break;case 23:J--;q=O[K];M4g=21;break;}}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.AVa=void 0;r=(function(){function a(d){this.ar=[];this.ar.push(d);}Object.defineProperties(a.prototype,{V:{get:function(){return this.ar[0].V;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.ar.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fWb:{get:function(){var d;return null !== (d=this.SBb) && void 0 !== d?d:this.SBb=this.ar.reduce(function(l,h){return l + h.length;},0);},enumerable:!1,configurable:!0}});a.prototype.VP=function(d){return this.ar[d].Ne;};a.prototype.iZ=function(d){return this.ar[d].sizes;};a.prototype.add=function(d){this.ar.push(d);};a.prototype.lZb=function(d){var h;for(var l=0;0 <= d;){h=this.ar[l];if(d < h.length)break;l++;d-=h.length;}return [l,d];};return a;})();b.AVa=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.b3b=b.Qlb=void 0;d=a(0);l=d.__importDefault(a(94));h=d.__importStar(a(13));n=a(21);c=a(423);f=d.__importDefault(a(3));r=d.__importStar(a(105));a=d.__importDefault(a(31));g=a.default.W7b;k=a.default.dKb;m=a.default.WO;p=a.default.Yp;q=r.xga;a=(function(){var G$9;G$9=2;function t(A,C,D){var a5C;a5C=2;for(;a5C !== 5;){switch(a5C){case 2:A=k(D.Dk,A * D.oda);return g(A,C);break;}}}function z(A,C,D){var U_y,E,G;U_y=2;for(;U_y !== 4;){switch(U_y){case 2:(E=new p(),G=Math.max(A.Aw,A.tda,C.bya?A.yAa:-Infinity));E.oh=(0,n.Nc)(D.filter(function(F){var G_C;G_C=2;for(;G_C !== 1;){switch(G_C){case 2:return F.bitrate <= A.oC;break;case 4:return F.bitrate > A.oC;break;}}}).reverse(),function(F){var E8s,K,L,O;E8s=2;for(;E8s !== 13;){switch(E8s){case 2:K={Za:F.Za,Ln:F.Ib && F.Ib.Ln,rh:F.Ib && F.Ib.rh};E8s=1;break;case 9:L=w(A,F);E8s=8;break;case 1:E8s=F.bitrate > G?5:14;break;case 8:var F57="h";F57+="ist_bu";F57+="f";F57+="f";F57+="time";t(F,O,A) <= L?(E.nw=O,K && (E.Lq=K.Ln?K.Ln:0,E.Mq=K.Ln && K.rh),E.reason=F57,K=!0):K=!1;E8s=7;break;case 14:var A$h="no_h";A$h+="istorical_lte";A$h+="_minbitrate";var o0S="hist_tput_lt_min";o0S+="b";o0S+="itrate";var s3I="l";s3I+="t";s3I+="_hist";s3I+="_lte_minbitrat";s3I+="e";(O=K.Za,F.bitrate * C.playbackRate <= O?(E.nw=O,K && (E.Lq=K.Ln?K.Ln:0,E.Mq=K.Ln?K.rh:void 0),E.reason=s3I,K=!0):O?(E.nw=O,K && (E.Lq=K.Ln?K.Ln:0,E.Mq=K.Ln?K.rh:void 0),E.reason=o0S,K=!1):(E.reason=A$h,K=!0));E8s=7;break;case 5:F=F.bitrate * C.playbackRate;O=K.Za;E8s=3;break;case 3:E8s=O?9:6;break;case 6:K=!1;E8s=7;break;case 7:return K;break;}}}) || D[0];return E;break;}}}for(;G$9 !== 5;){switch(G$9){case 2:var f8O="1";f8O+="SI";f8O+="YbZr";f8O+="NJCp9";f8O;return {gFb:function(A,C,D,E){var J$y;J$y=2;for(;J$y !== 5;){switch(J$y){case 2:var d3x="h";d3x+="istoric";d3x+="al";D=D.first;return D.some(function(G){var o4l;o4l=2;for(;o4l !== 1;){switch(o4l){case 2:return G.qa;break;}}})?z(A,C,D,E):d3x === A.Gxa?B(A,C,D,E):A.wW?y(A,C,D,E):z(A,C,D,E);break;}}},ACb:x};break;}}function w(A,C){var d6j,D,E;d6j=2;for(;d6j !== 13;){switch(d6j){case 6:return Math.floor(A.d + (D.d - A.d) * (C - A.r) / (D.r - A.r));break;case 8:R7xOY.h1T(0);A=D[R7xOY.p3p(E,1)];D=D[E];d6j=6;break;case 9:return D[D.length - 1].d;break;case 3:d6j=-1 === E?9:8;break;case 4:return D[0].d;break;case 5:d6j=0 === E?4:3;break;case 14:return A.lu;break;case 1:(D=A.Sba,E=(0,n.vt)(D,function(G){var y0K;y0K=2;for(;y0K !== 1;){switch(y0K){case 2:return C <= G.r;break;}}}));d6j=5;break;case 2:d6j=A.Sba?1:14;break;}}}function B(A,C,D,E){var x48,G;x48=2;for(;x48 !== 7;){switch(x48){case 8:return A;break;case 5:return A.wW?y(A,C,D,E):z(A,C,D,E);break;case 1:var d6D="nu";d6D+="m";d6D+="b";d6D+="e";d6D+="r";x48=d6D !== typeof G?5:4;break;case 2:var n4d="v";n4d+="b";G=f.default.storage.get(n4d);x48=1;break;case 4:A=new p();x48=3;break;case 3:var M3n="hist_";M3n+="bitrat";M3n+="e";A.oh=(0,n.Nc)(D.slice().reverse(),function(F){var b9u;b9u=2;for(;b9u !== 1;){switch(b9u){case 2:return F.bitrate <= G;break;}}}) || D[0];A.reason=M3n;x48=8;break;}}}function v(A,C){var w7B,E,D;w7B=2;for(;w7B !== 12;){switch(w7B){case 14:var x$j="h";x$j+="ist_";x$j+="throug";x$j+="hpu";x$j+="t";var S4T="hi";S4T+="st_tdig";S4T+="est";E?(C=A.Vj(C.ega / 100) || D.oh.Za,D.nw=C,D.reason=S4T):D.oh.Za && (C=D.oh.Za,D.nw=C,D.reason=x$j);return D;break;case 6:(E=c.gWa.uZb(A),h.qd(E)?(A.Vj=E,E=!0):E=!1);w7B=14;break;case 7:w7B=(E=h.Pa(C.ega) && 0 <= C.ega && 100 >= C.ega && !h.xa(A) && !h.yb(A))?6:14;break;case 3:D.Lq=A.Ln?A.Ln:0;A=(0,l.default)(D.Mq,{});w7B=7;break;case 2:D=new p();D.oh=A;A=D.oh.Ib || ({});D.Mq=A.Ln && A.rh;w7B=3;break;}}}function y(A,C,D){var T8n,E,G,F,K,O,L;T8n=2;for(;T8n !== 19;){switch(T8n){case 2:(E=!!A.Bw && !!A.kfb && D.every(function(I){var m2x;m2x=2;for(;m2x !== 1;){switch(m2x){case 2:return I.gb && 110 >= I.gb;break;}}}),G=null,F=D.length - 1);T8n=1;break;case 1:T8n=0 <= F && (E?D[F].gb >= A.Bw:D[F].bitrate >= A.Aw)?5:11;break;case 11:var e3I="fallbac";e3I+="k_no_acceptable_s";e3I+="tre";e3I+="am";var K_2="below_mi";K_2+="nInitVid";K_2+="eoBitr";K_2+="a";K_2+="te";h.yb(G) && D[F].bitrate < A.Aw && (G=v(D[F],A),G.reason=K_2);h.yb(G) && (G=v(D[0],A),G.reason=e3I);return G;break;case 12:F--;T8n=1;break;case 9:L=x(K,G.nw,E,O,L,A);K=L.X$;L=L.reason;G.ZB=O;T8n=14;break;case 5:K=D[F];G=v(K,A);(O=t(K.bitrate * C.playbackRate,G.nw,A),L=u(G.nw,A));T8n=9;break;case 14:T8n=K?11:13;break;case 13:G.reason=L;T8n=12;break;}}}function u(A,C){var S3e=R7xOY;var G6R,D;G6R=2;for(;G6R !== 9;){switch(G6R){case 2:S3e.h1T(6);var T0D=S3e.p3p(88889,11111);S3e.h1T(0);var Q8y=S3e.f4w(1009,9);A=m(A,0,T0D) / Q8y;G6R=1;break;case 3:var R6z="si";R6z+="gm";R6z+="o";R6z+="id";return 0 === C.lS.lastIndexOf(R6z,0)?(D=C.lS,(D=C.Rlb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(A)):C.lu):C.lu;break;case 7:S3e.h1T(18);var B4A=S3e.p3p(3,1,3);S3e.h1T(19);var r4e=S3e.p3p(724,7,12,3,434);S3e.e_n(20);var u8s=S3e.p3p(857,20,861,5,857);A=m(A,B4A,r4e) + u8s;G6R=2;break;case 1:var s7r="l";s7r+="o";s7r+="g";G6R=0 === C.lS.lastIndexOf(s7r,0)?5:3;break;case 4:return (D=C.Rlb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + A)):C.lu;break;case 5:D=C.lS;G6R=4;break;}}}function x(A,C,D,E,G,F){var O27;O27=2;for(;O27 !== 5;){switch(O27){case 2:var X9v="no_valid_";X9v+="Bitra";X9v+="te";var G5M="no_v";G5M+="a";G5M+="lid";G5M+="_VM";G5M+="AF";var c4f="no_v";c4f+="alid";c4f+="_DelayTarget";A=D?A.gb >= F.Bw && A.gb <= F.kfb:A.bitrate >= F.Aw && A.bitrate <= F.oC;return (E=E < G && A)?{X$:E}:{X$:E,reason:A?c4f:D?G5M:X9v};break;}}}})();r=a.ACb;b.Qlb=a.gFb;b.b3b=r;},function(r,b,a){var l,h,n,c;function d(f,g,k){var m,p;m=k.first;k=this.Wna;g=g.buffer.Fc;p="forward" === f.lfc;if(l.xa(k))return (k=p?h(m):h(m,m.length),this.Xna=g,this.Wna=k,new c(k));n(m[k]) || (k=h(m,k),this.Xna=g,this.Wna=k);if(0 > k)return null;if(g > this.Xna + f.ikc){f=m.map(function(q,v){return q.uw?v:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?k=(f.indexOf(k) + 1) % f.length:(k=f.indexOf(k) - 1,0 > k && (k=f.length - 1));this.Wna=f[k];this.Xna=g;return new c(f[k]);}return new c(k);}l=a(13);b=a(31);h=b.xua;n=b.wK;c=b.Yp;r.exports={STARTING:d,BUFFERING:d,REBUFFERING:d,PLAYING:d,PAUSED:d};},function(r,b,a){(function(){var Z2J,h,n,c,f,g,k,m,p,q,v;Z2J=2;function l(t,w,u,y){var w6z,F,B,x,z,K,O,A,C,D,E,G;w6z=2;for(;w6z !== 30;){switch(w6z){case 19:C=B[D];F=x[C];w6z=17;break;case 25:w6z=w.ss && F > G.iC && (void 0 === O || Number(K) > O || C.Fc - O > G.v_)?24:35;break;case 27:var W3L=" k";W3L+="b";W3L+="ps";var c9z=" ";c9z+="k";c9z+="bp";c9z+="s ";c9z+="> ";var b7z="thr";b7z+="oughput for";b7z+=" audio";b7z+=" ";w6z=D < B.length - 1 && E > G.Kpb * C * w.playbackRate && (f && c.log(b7z + E + c9z + G.Kpb + "*" + C + W3L),C=w.buffer,F=C.nk - C.Pc,A.ma && A.ma.length)?26:34;break;case 35:var I3j="m";I3j+="s";var c8S=", buf";c8S+="fer";c8S+=" level";c8S+=" = ";var L5O=", last";L5O+="Up";L5O+="swi";L5O+="tchPts = ";var a9V="  ";a9V+="Upswitch not allowed. last";a9V+="Do";a9V+="w";a9V+="nswitchPts = ";f && c.log(a9V + O + L5O + K + c8S + F + I3j);w6z=34;break;case 16:u=C;w6z=34;break;case 4:w6z=!(t && t.LS && 0 <= t.LS.indexOf(z))?3:9;break;case 17:w6z=m(F) && (0 == D || F.bitrate * w.playbackRate * G.a6a < E)?16:15;break;case 9:u=y;t.pob.some(function(L){var L7Q,I,M,H,J,N,P;L7Q=2;for(;L7Q !== 9;){switch(L7Q){case 2:(I=L.profiles,M=I && 0 <= I.indexOf(z));L7Q=1;break;case 1:L7Q=M?5:3;break;case 4:B=x.filter(function(X){var m9o,V;m9o=2;for(;m9o !== 5;){switch(m9o){case 2:V=X.bitrate;return V >= J && V <= N && 0 <= I.indexOf(X.qf) && V * H / 8 < P;break;}}}).map(function(X){var X6R;X6R=2;for(;X6R !== 1;){switch(X6R){case 2:return X.Fg;break;}}});L7Q=3;break;case 5:(H=(L=L.x0) && L.Bda || t.Bda,J=L && L.bxc || -Infinity,N=L && L.RQ || Infinity,P=w.buffer.Et);L7Q=4;break;case 3:return M;break;case 6:L7Q=M?6:7;break;}}});w6z=6;break;case 2:var I7s="Must ";I7s+="have at least one selec";I7s+="ted";I7s+=" stream";x=u.first;g(!h.xa(y),I7s);z=x[y].qf;w6z=4;break;case 11:w6z=D && E < G.a6a * C * w.playbackRate?10:27;break;case 13:w6z=0 > D?12:11;break;case 20:w6z=0 <= D?19:34;break;case 34:var i92="kbps, st";i92+="r";i92+="eamingP";i92+="ts :";var I$$=",";I$$+=" audio thr";I$$+="oughpu";I$$+="t:";var w_v=" ";w_v+="kb";w_v+="ps, pr";w_v+="o";w_v+="file :";var I8v="selectAudioStream:";I8v+=" selected stream ";I8v+=":";var r2D=" kb";r2D+="p";r2D+="s";var w91=" ";w91+="k";w91+="bps";w91+=", ";w91+="to ";var B1h="switchi";B1h+="ng audi";B1h+="o from ";var a32="d";a32+="o";a32+="w";a32+="n";var x5D="u";x5D+="p";E=x[u];u !== y && f && c.log((u > y?x5D:a32) + B1h + A.bitrate + w91 + E.bitrate + r2D);f && c.log(I8v + E.bitrate + w_v + z + I$$ + E.Za + i92 + w.buffer.Fc);return new p(u);break;case 15:D--;w6z=20;break;case 3:return new p(y);break;case 24:var s76=", stre";s76+="amin";s76+="gP";s76+="ts = ";var e8k=", lastU";e8k+="pswitchPts";e8k+=" = ";var K96="  ";K96+="Upswit";K96+="ch allowed. ";K96+="lastDownswitchPts = ";f && c.log(K96 + O + e8k + K + s76 + C.Fc);w6z=23;break;case 22:w6z=(C=B[D],F=x[C],m(F) && E > G.Kpb * F.bitrate * w.playbackRate)?21:23;break;case 26:(K=this.Wya,O=this.EQ);w6z=25;break;case 14:(A=x[y],C=A.bitrate,D=B.indexOf(y),E=A.Za,G=t.XIb);w6z=13;break;case 6:w6z=B && 1 < B.length?14:34;break;case 23:w6z=++D < B.length?22:34;break;case 10:var N6C=" kbp";N6C+="s, try to dow";N6C+="nswitch";var h9H=" ";h9H+="k";h9H+="bps ";h9H+="< ";var m5P="thr";m5P+="oughput";m5P+=" for audio ";(f && c.log(m5P + E + h9H + G.a6a + "*" + C + N6C),--D);w6z=20;break;case 12:u=0;w6z=34;break;case 21:u=C;w6z=34;break;}}}for(;Z2J !== 4;){switch(Z2J){case 2:var p5l="1";p5l+="SIY";p5l+="bZr";p5l+="NJC";p5l+="p9";(h=a(13),n=a(31),c=n.console,f=n.debug,g=n.assert,k=a(94),m=n.wK,p=n.Yp,q=a(447),v=a(6).Ma);r.exports={STARTING:function(t,w,u,y){var K_m,x,z,B;K_m=2;for(;K_m !== 7;){switch(K_m){case 2:(x=t,z=u.first,B=z[y || 0].qf);K_m=1;break;case 1:K_m=(B=t && t.LS && 0 <= t.LS.indexOf(B)?d(B,t.pob):d(B,t.WIb))?5:4;break;case 4:var V4g=" kbp";V4g+="s, prof";V4g+="ile :";var Z8H="selectAudioStre";Z8H+="amSta";Z8H+="rti";Z8H+="ng: selected str";Z8H+="eam :";t=q[v[v.ai]](x,w,u,y);z=z[t.ae];f && c.log(Z8H + z.bitrate + V4g + z.qf);return t;break;case 5:var M1o="selectAudio";M1o+="StreamSt";M1o+="arting: overriding c";M1o+="onfig with ";(x={minInitAudioBitrate:t.V_,minHCInitAudioBitrate:t.T_,maxInitAudioBitrate:t.G_,minRequiredAudioBuffer:t.Bda},f && c.log(M1o + JSON.stringify(B)),k(B,x));K_m=4;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};p5l;Z2J=4;break;}}function d(t,w){var Q_7,u;Q_7=2;for(;Q_7 !== 4;){switch(Q_7){case 2:u=void 0;w.some(function(y){var N5Y,x;N5Y=2;for(;N5Y !== 4;){switch(N5Y){case 2:x=y.profiles;(x=x && 0 <= x.indexOf(t)) && (u=y.override);return x;break;}}});return u;break;}}}})();},function(r,b,a){var l;function d(){return new l(0);}a(13);l=a(31).Yp;r.exports={STARTING:d,BUFFERING:d,REBUFFERING:d,PLAYING:d,PAUSED:d};},function(r,b,a){var l;function d(h,n,c){return new l(c.first.length - 1);}a(13);l=a(31).Yp;r.exports={STARTING:d,BUFFERING:d,REBUFFERING:d,PLAYING:d,PAUSED:d};},function(r,b,a){(function(){var d0l,l,h,n,c;d0l=2;for(;d0l !== 6;){switch(d0l){case 2:l=a(13);a(29);d0l=5;break;case 5:h=a(31);d0l=4;break;case 4:var V3u="1SIYbZrN";V3u+="JCp";V3u+="9";a(3);(n=h.assert,c=h.Yp);h=a(194).default;r.exports={STARTING:h.STARTING,BUFFERING:h.BUFFERING,REBUFFERING:h.REBUFFERING,PLAYING:d,PAUSED:d};V3u;d0l=6;break;}}function d(f,g,k,m){var r8I,p;r8I=2;for(;r8I !== 11;){switch(r8I){case 14:--m;r8I=9;break;case 7:r8I=p.Ib && p.Ib.Za && p.bitrate < p.Ib.Za.ya - f.dkc?6:14;break;case 13:g.ae=0;return g;break;case 2:var q3B="pl";q3B+="ayer ";q3B+="missing fragmentInd";q3B+="ex";var x8T="Must";x8T+=" have a";x8T+="t ";x8T+="least one selected stream";n(!l.xa(m),x8T);n(l.Pa(g.Wd),q3B);g=c(m);k=k.first;r8I=3;break;case 3:R7xOY.e_n(21);var F36=R7xOY.p3p(10,5,3,26);m=k.length - F36;r8I=9;break;case 8:p=k[m];r8I=7;break;case 9:r8I=-1 < m?8:13;break;case 6:return (g.ae=m,g);break;}}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1052);b.default={PLAYING:r.qo,PAUSED:r.qo};},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qo=void 0;r=a(0);d=r.__importStar(a(13));l=r.__importDefault(a(31));h=r.__importDefault(a(194));n=a(77);c=r.__importDefault(a(3));f=l.default.assert;g=l.default.Yp;b.qo=k;(function(){var X_M;X_M=2;for(;X_M !== 5;){switch(X_M){case 2:var n_i="1";n_i+="S";n_i+="IYbZrNJCp9";b.qo=k=function(m,p,q,v,t,w,u){var Z26,D,H,J,L,I,M,y,x,z,B,A,C,O,K,E,G,F;Z26=2;for(;Z26 !== 90;){switch(Z26){case 65:H++;Z26=46;break;case 19:B.ae=x[A].rfc;Z26=18;break;case 71:--C;Z26=70;break;case 20:Z26=void 0 !== A?19:58;break;case 17:Z26=m.qTb?16:59;break;case 75:y=C;Z26=72;break;case 72:A=y;Z26=20;break;case 35:Z26=y < z.length?34:60;break;case 47:H=p.Wd;Z26=46;break;case 73:C++;Z26=77;break;case 6:R7xOY.h1T(0);C=R7xOY.f4w(A,y);0 > C && (C=0);C >= x.length && (C=x.length - 1);D=x[C].f;Z26=11;break;case 59:return B;break;case 74:Z26=x[C].f > A?72:73;break;case 56:Z26=D < A?55:71;break;case 67:Z26=x[C].f < A?72:66;break;case 51:Z26=H < Math.min(H + m.$Ib,I.length)?50:47;break;case 7:return h.default.PLAYING.call(this,m,p,q,v,t,w,u);break;case 29:Z26=C.Ib && C.Ib.tdigest?28:37;break;case 45:M+=I.get(H).duration;Z26=65;break;case 46:Z26=H < I.length?45:64;break;case 21:y=0;Z26=35;break;case 70:Z26=0 <= C?69:72;break;case 52:H=p.Wd;Z26=51;break;case 69:Z26=x[C].f === A?68:67;break;case 68:y=C;Z26=72;break;case 8:Z26=A < y || A > C?7:6;break;case 50:J=I.get(H);L.push({d:J.duration,b:J.ha});Z26=48;break;case 76:Z26=x[C].f === A?75:74;break;case 37:O=void 0;C.Ib && C.Ib.tputTrace && (O=C.Ib.tputTrace);(L=[],I=C.ma,M=0);Z26=53;break;case 64:I=void 0;p.eX && (I=c.default.time.fa() - p.eX);q.push({Wd:p.Wd,bzc:I,Swc:M,Ptc:D,Zyc:K,azc:O,Gqa:t,w8a:w,ouc:L,vwc:u.bitrate,wwc:null !== (E=u.gb) && void 0 !== E?E:0,zuc:C.bitrate,Auc:null !== (G=C.gb) && void 0 !== G?G:0,uyc:x.bitrate,vyc:null !== (F=x.gb) && void 0 !== F?F:0,du:A});Z26=61;break;case 48:H++;Z26=51;break;case 66:C--;Z26=70;break;case 57:y=void 0;Z26=56;break;case 2:var u6X="player m";u6X+="is";u6X+="sing fragmentIndex";var C35="Must have a";C35+="t least";C35+=" ";C35+="o";C35+="ne selected stream";f(!d.xa(v),C35);f(d.Pa(p.Wd),u6X);(x=m.Tic,z=q.first,B=new g(v),A=null !== (y=p.Wd) && void 0 !== y?y:-1);y=x[0].f;C=x[x.length - 1].f;Z26=8;break;case 23:u=z[v];x=z[v];Z26=21;break;case 11:Z26=D === A?10:57;break;case 61:y++;Z26=35;break;case 28:O=C.Ib.tdigest;K.push(O.min);K.push(O.uea);K.push(O.gm);Z26=41;break;case 53:Z26=void 0 !== I?52:64;break;case 77:Z26=C < x.length?76:72;break;case 18:B.oh=z[B.ae];Z26=17;break;case 60:B.u1a=q;Z26=59;break;case 38:K.push(O.max);Z26=37;break;case 34:C=z[y];A=y <= v?!0:!1;D=void 0;K=[];C.Ib && C.Ib.throughput && (D=C.Ib.throughput.ya);Z26=29;break;case 55:C+=1;Z26=77;break;case 41:K.push(O.Ek);K.push(O.hm);K.push(O.vea);Z26=38;break;case 58:return h.default.PLAYING.call(this,m,p,q,v,t,w,u);break;case 10:A=C;Z26=20;break;case 16:q=[];t=p.buffer;t=t.nk - t.Pc;w=n.Jl.D4a(p.buffer.ma);w=p.buffer.Et - w.ha;Z26=23;break;}}};n_i;X_M=5;break;}}})();},function(r,b,a){(function(){var Q33,d;Q33=2;for(;Q33 !== 8;){switch(Q33){case 2:a(13);Q33=1;break;case 1:var E7x="1SIYbZ";E7x+="rNJ";E7x+="Cp";E7x+="9";a(29);a(31);d=a(6).cd;r.exports={checkBuffering:function(l,h,n,c,f,g){var o4t=R7xOY;var v5u,m,p,t,w,q,v,u;v5u=2;for(;v5u !== 54;){switch(v5u){case 28:v5u=g > f?44:38;break;case 11:v5u=!h?10:20;break;case 2:(m=l.nk - l.Pc,p=h === d.bh);v5u=1;break;case 25:f=c.ma.np(l.Fc);v5u=24;break;case 20:t=0;l.ma.forEach(function(y){var t1X;t1X=2;for(;t1X !== 1;){switch(t1X){case 2:t+=y.ca + y.duration > l.Pc?y.ha:0;t1X=1;break;}}});n=Math.max(n,1);p=n * c.bitrate;v5u=16;break;case 35:v5u=h > p * g.W$?34:33;break;case 10:var J5T="nothrou";J5T+="ghpu";J5T+="t";return {complete:!1,EG:q,reason:J5T};break;case 22:w=c.ma.Ui(f);v5u=21;break;case 1:h=c.Za || 0;(q=0,v=g.kHa && !p?g.ZF:g.cAa);v=Math.min(g.xw,v);v5u=3;break;case 27:v5u=!c.ma || !c.ma.length?26:25;break;case 26:return (h < p && (q=Math.min(v,Math.max(g.b1 * (p / h - 1),q))),{complete:!1,EG:q,progress:0});break;case 15:var Z3u="lo";Z3u+="wL";Z3u+="iv";Z3u+="eBuffer";var X02="liveBuffe";X02+="r";X02+="Level";return h > p && m > q?{complete:!0,reason:X02}:{complete:!1,EG:q,Za:h,bitrate:p,reason:Z3u};break;case 3:v5u=m >= v?9:8;break;case 41:return (q=Math.min(v,m + u),{complete:!1,EG:q,progress:k(q)});break;case 24:v5u=-1 === f?23:22;break;case 29:--g;v5u=28;break;case 38:var O2P="nore";O2P+="bu";O2P+="f";O2P+="f";return {complete:!0,reason:O2P};break;case 21:v5u=m >= q?35:37;break;case 39:--g;v5u=28;break;case 44:p=c.ma.get(g);o4t.h1T(22);var g_J=o4t.p3p(11,1576,144);u=g_J * u * n / h - p.ca - q;v5u=42;break;case 33:q=c.ma.Ne(f);g=Math.min(f + Math.floor(g.b1 / q),c.ma.length - 1);u=c.ma.Ui(g);o4t.h1T(18);var v8i=o4t.p3p(7,1,1);q=v8i * w * n / h - l.Pc;v5u=29;break;case 42:v5u=0 < u?41:40;break;case 40:u=p.offset;v5u=39;break;case 7:var X6I="l";X6I+="owThro";X6I+="ug";X6I+="h";X6I+="put";return {complete:!1,WF:!0,reason:X6I};break;case 6:o4t.e_n(11);var i6m=o4t.f4w(3,6,8);q=g.Dk * (p?g.mDa:i6m);!c.qa && g.lTb && c.Ib && c.Ib.vl && c.Ib.vl.ya > g.yza && (q+=g.Bpa + c.Ib.vl.ya * g.YBa);f && !c.qa && (q+=f.Ov * g.Cpa);q=v?Math.min(v,q):q;v5u=11;break;case 8:v5u=h <= g.Fza && (0 < h || !g.Yta)?7:6;break;case 34:var j2y="hi";j2y+="gh";j2y+="tp";return {complete:!0,reason:j2y};break;case 16:v5u=c.qa?15:27;break;case 23:var e7K="out";e7K+="ofr";e7K+="ange";return {complete:!0,reason:e7K};break;case 9:var r9p="m";r9p+="a";r9p+="xsize";return {complete:!0,reason:r9p};break;case 37:0 < h && h < p && (q=Math.min(v,Math.max(g.b1 * (p / h - 1),q)));return {complete:!1,EG:q,progress:k(q)};break;}}function k(y){var p$s;p$s=2;for(;p$s !== 5;){switch(p$s){case 2:y=c.ma.baa(l.Pc + y,void 0,!0);return (t - l.Uj) / (t + (y.offset + y.ha) - w);break;}}}}};E7x;Q33=8;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1055);b.default={PLAYING:r.qo,PAUSED:r.qo};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.qo=void 0;r=a(0).__importDefault(a(31));d=r.default.console;l=r.default.Yp;b.qo=h;(function(){var Z7D;Z7D=2;for(;Z7D !== 5;){switch(Z7D){case 2:var E6J="1";E6J+="SIYbZ";E6J+="rN";E6J+="JCp";E6J+="9";b.qo=h=function(n,c,f,g){var x0d,k,m,p,q,v;x0d=2;for(;x0d !== 10;){switch(x0d){case 12:var Y70="Strea";Y70+="m has no throughput ";Y70+="statistics";d.warn(Y70);x0d=13;break;case 4:n=void 0 === this.EQ || p - this.EQ > n.v_?f.length - 1:g;x0d=3;break;case 9:x0d=-1 < n?8:11;break;case 2:(m=new l(g),p=c.buffer.Fc);f=f.first;R7xOY.h1T(23);var D3t=R7xOY.f4w(14,19,3,0,9);q=n.Zjc * Math.pow(Math.min(D3t,(c.buffer.nk - c.buffer.Pc) / n.r_),n.Yjc);x0d=4;break;case 3:m.ae=0;x0d=9;break;case 13:--n;x0d=9;break;case 6:x0d=(g=v.Ib.Za.ya,p=v.bitrate,v=v.UCa(null !== (k=c.Wd) && void 0 !== k?k:-1),p * c.playbackRate < g * q && v)?14:13;break;case 7:x0d=v.Ib && v.Ib.Za?6:12;break;case 11:return m;break;case 14:m.ae=n;x0d=11;break;case 8:v=f[n];x0d=7;break;}}};E6J;Z7D=5;break;}}})();},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.yVa=void 0;d=a(0);r=d.__importDefault(a(3));l=a(161);h=a(450);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(n){function c(f,g){var J$n,k;J$n=2;for(;J$n !== 3;){switch(J$n){case 2:var x2c="1";x2c+="SIYb";x2c+="ZrN";x2c+="JCp9";k=n.call(this,f,g) || this;k.lL=function(m,p,q,v){var O3I,t;O3I=2;for(;O3I !== 8;){switch(O3I){case 4:p=t?t * (100 - k.aXb(p,m)) / 100 | 0:0;p=k.P5a(p,v);return {lower:p,upper:p * k.config.fHa};break;case 2:v=null !== v && void 0 !== v?v:k.RQ;t=k.up(m,q);m=k.Khc(m,q);O3I=4;break;}}};x2c;return k;break;}}}var D9o;D9o=2;for(;D9o !== 3;){switch(D9o){case 2:d.__extends(c,n);c.prototype.aXb=function(f,g){var m7W,k,m;m7W=2;for(;m7W !== 3;){switch(m7W){case 2:(k=this.config,m=g?k.Yra:k.mqa);g=g?k.Zra:k.oqa;Array.isArray(g) && (m=(0,h.f7a)(g,f.nk - f.Pc,k.nqa));m7W=4;break;case 4:return m;break;}}};c.prototype.Khc=function(f,g){var m$g;m$g=2;for(;m$g !== 3;){switch(m$g){case 4:return f;break;case 2:g=this.up(f,g);f=!!f.eu;this.config.gGa && g < this.config.tX && (f=!0);m$g=4;break;}}};D9o=4;break;case 4:return c;break;}}})(l.tD);b.yVa=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.PVa=void 0;d=a(0);r=a(161);r=(function(l){var C4r;C4r=2;function h(n,c){var P9y,f;P9y=2;for(;P9y !== 3;){switch(P9y){case 14:return f;break;case 2:var y7h="1SI";y7h+="YbZrN";y7h+="JCp9";f=l.call(this,n,c) || this;f.lL=function(g){var l86,B5p,k;l86=2;for(;l86 !== 10;){switch(l86){case 8:l86=!g.fp || !g.fp.IO?4:7;break;case 6:return {lower:g.fp.IO + f.config.OFa * k,upper:g.fp.IO + f.config.PFa * k};break;case 12:var X1E="a";X1E+="verage";X1E+="tp";l86=B5p === X1E?8:11;break;case 7:k=Math.sqrt(g.fp.gT || 0);l86=6;break;case 14:l86=g.fp && g.fp.gT?13:4;break;case 9:return {lower:8 / (g.fp.ya + f.config.OFa * k),upper:8 / (g.fp.ya - f.config.PFa * k)};break;case 11:var w4x="e";w4x+="w";w4x+="m";w4x+="a";l86=B5p === w4x?14:4;break;case 4:return k;break;case 1:var J23="deli";J23+="ve";J23+="rytime";B5p=f.config.Gic;l86=B5p === J23?5:12;break;case 5:l86=!g.fp || !g.fp.ya?4:3;break;case 3:k=Math.sqrt(g.fp.He || 0);l86=9;break;case 2:k={lower:g.Za.ya,upper:void 0};l86=1;break;case 13:return (k=Math.sqrt(g.fp.gT || 0),{lower:g.Za.ya + f.config.OFa * k,upper:g.Za.ya + f.config.PFa * k});break;}}};y7h;P9y=4;break;case 4:return f;break;}}}for(;C4r !== 5;){switch(C4r){case 2:d.__extends(h,l);return h;break;case 3:d.__extends(h,l);return h;break;}}})(r.tD);b.PVa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.sKa=void 0;d=a(0);l=a(6);r=a(161);h=a(449);a=(function(n){var T1e;T1e=2;function c(f,g){var v$W,k;v$W=2;for(;v$W !== 9;){switch(v$W){case 2:k=n.call(this,f,g) || this;k.lL=function(m,p,q,v){var S6t,S29;S6t=2;for(;S6t !== 11;){switch(S6t){case 6:S6t=q === l.Ma.ce?8:14;break;case 5:var p2n="deliv";p2n+="ery";p2n+="time";p2n+="-c";p2n+="i";S29=k.config.wra;S6t=S29 === p2n?4:13;break;case 4:var Y4y="d";Y4y+="eli";Y4y+="ve";Y4y+="ryti";Y4y+="me-ci";p=m[Y4y];S6t=3;break;case 1:return k.g6b.lL(m,p,q,v);break;case 7:return {lower:(null === p || void 0 === p?void 0:p.low) || m.Za.ya,upper:(null === p || void 0 === p?void 0:p.high) || v};break;case 3:v=k.config.fHa * m.Za.ya;S6t=9;break;case 8:return {lower:(null === p || void 0 === p?void 0:p.initial) || m.Za.ya,upper:(null === p || void 0 === p?void 0:p.high) || v};break;case 14:S6t=7;break;case 9:S6t=q === l.Ma.ai?8:6;break;case 13:S6t=12;break;case 12:var X4c="throughput";X4c+="-";X4c+="c";X4c+="i";p=m[X4c];S6t=3;break;case 2:S6t=k.oFa(q)?1:5;break;}}};v$W=5;break;case 5:var W$V="1SIYbZrN";W$V+="J";W$V+="Cp9";k.g6b=new h.Eka(f,g);W$V;return k;break;}}}for(;T1e !== 5;){switch(T1e){case 2:d.__extends(c,n);return c;break;case 3:d.__extends(c,n);return c;break;}}})(r.tD);b.sKa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OOa=void 0;r=(function(){function a(d,l,h,n,c,f,g,k){this.Ya=d;this.X1a=l;this.config=h;this.console=n;this.mediaType=c;this.Kb=f;this.Xa=g;this.oc=k;this.Vs=this.cj=!1;}a.prototype.VO=function(d,l){!this.Ya.G.Lu || this.oc.YN || this.oc.z7 || (d-=this.Ya.qg,this.cj && !this.Vs && d + this.config.Iob >= l && 0 === this.Xa.jG && 0 === this.Xa.Su && 0 === this.Xa.Pcc && (l=this.oc.Vf.P.Ub,d=this.oc.YP(),l + 1 < d || (this.X1a[this.mediaType].gob || this.Kb.xDb(this.mediaType),this.Vs=!0,this.X1a[this.mediaType].d0())));};return a;})();b.OOa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.MOa=void 0;d=a(0);l=a(9);r=a(451);h=a(442);a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.GRb=function(f){n.prototype.yca.call(this,{value:f});};c.prototype.kcb=function(){return !0;};c.prototype.GFa=function(){};c.prototype.yca=function(f){n.prototype.yca.call(this,f);f.done && (f=this.pt.CX,l.M && this.H.trace("Requests drained",{Qtc:f && f.G.id}),(f=f && f.fb(this.Of)) && f instanceof h.kka && f.VO(this.Ig.Lva() || 0));};return c;})(r.xia);b.MOa=a;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.wJa=void 0;d=a(0);l=a(132);h=a(9);r=(function(){function n(c,f,g){this.H=c;this.MAb=f;this.Of=g;this.P6=0;this.m7=!1;this.eV=[];this.eI=void 0;h.M && c.trace(("BranchRequestIterator [").concat(this.Of,"]: created"));}Object.defineProperties(n.prototype,{ZPb:{get:function(){return this.P6;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{CX:{get:function(){return this.TXa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wk:{get:function(){return this.m7;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{T4a:{get:function(){return this.Em?this.Em.au?"Complete":this.Em.SCa?"WaitingForBranch":void 0 !== this.eI && 0 !== this.eI?("In Policy ").concat(this.eV[this.eI].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.WYa);},enumerable:!1,configurable:!0}});n.prototype.next=function(){return d.__awaiter(this,void 0,void 0,function(){var c,f,g,k;return d.__generator(this,function(m){switch(m.label){case 0:c=this.Em;if(!c)return [3,6];this.eI=void 0;return [4,c.next()];case 1:(f=m.ub(),g=0,m.label=2);case 2:if(!(g < this.eV.length))return [3,5];this.eI=g;k=this.eV[g];return [4,k.process(f)];case 3:(f=m.ub(),m.label=4);case 4:return (g++,[3,2]);case 5:this.eI=void 0;if(f.done || this.Em !== c)return [2,{done:!0}];this.P6++;f.value.R_a();return [2,{done:!1,value:f.value.value}];case 6:return [2,l.AsyncIterator.xwa()];}});});};n.prototype.bfc=function(){this.Gnb();this.ldc();};n.prototype.Gnb=function(){var c;if(this.Em){this.WYa=this.T4a;c=this.Em;c && c.Oi();this.eV.forEach(function(f){return f.reset();});c && h.M && this.H.trace(("BranchRequestIterator [").concat(this.Of,"]: Disposing iterator that was on branch "),this.CX && this.CX.G.id);this.m7=!1;this.eI=this.Em=void 0;}};n.prototype.s8=function(c){this.eV.push(c);};n.prototype.ldc=function(){var c,f,g,k;c=this;if(!this.m7){f=this.H;g=this.MAb;k=this.Of;this.P6=0;this.WYa=this.TXa=void 0;this.Em=(0,l.flatten)((0,l.map)(g.T$a(),function(m){return d.__awaiter(c,void 0,void 0,function(){var p;return d.__generator(this,function(q){switch(q.label){case 0:return (this.TXa=m,this.P6=0,h.M && f.trace(("BranchRequestIterator [").concat(this.Of,"]: new branch ").concat(m.G.id)),[4,m.Fy(k)]);case 1:if(p=q.ub())return [2,{value:p}];h.M && f.error(("BranchRequestIterator [").concat(this.Of,"]: skipping branch ").concat(m.G.id));return [2,{value:[]}];}});});},f),f);this.m7=!0;}};return n;})();b.wJa=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.mUa=void 0;d=a(0);l=a(6);h=a(21);n=a(1063);c=a(1064);r=(function(){function f(g,k,m,p,q,v,t,w){this.mediaType=g;this.console=k;this.Lb=m;this.I8=p;this.Bq=q;this.oCa=v;this.Ee=t;this.nE=[];this.mediaType === l.u.J && this.nE.push(new c.sVa(g,k,m,p,q,v,t,w,2));this.nE.push(new n.VVa(g,k,m,p,q,v,t,"stream",1,null === w || void 0 === w?void 0:w.obb()));}f.prototype.jy=function(g,k,m){this.Lb=g;this.Ee=k;this.I8=m;this.jM.forEach(function(p){return p.jy(g,k,m);});};f.prototype.qHb=function(g){this.nE.push(g);};f.prototype.tVb=function(g){return (0,h.Nc)(this.nE,function(k){return k instanceof g;});};f.prototype.reset=function(){this.nE.forEach(function(g){return g.reset();});};f.prototype.close=function(){this.nE.forEach(function(g){return g.close();});};f.prototype.hi=function(g){return d.__read(this.nE,1)[0].hi(g);};Object.defineProperties(f.prototype,{jM:{get:function(){return this.nE;},enumerable:!1,configurable:!0}});return f;})();b.mUa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.VVa=void 0;d=a(0);l=a(9);h=a(2);r=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.pu=function(f){var g,k,m;g=f.stream;k=f.Ed;m=f.Qc;f=f.cc;(0,h.assert)(void 0 !== k,"playerStartTimestamp undefined at media append");(0,h.assert)(void 0 !== f,"contentStartTimestamp undefined at media append");this.spa({stream:g,cc:f},k,m) && l.M && this.trace(("stream ").concat(g.id,", ").concat(g.bitrate,"kbit/s @ ").concat(k.Z,"ms"));};c.prototype.vca=function(f,g){return f.stream === g.stream;};c.prototype.wta=function(f,g){var k,m,p,q;p=f.Qu.stream;q=this.Lb.dn(g);(0,h.assert)(void 0 !== q);l.M && this.trace(("emitStreamPresentingEvent @ ").concat(f.timestamp.Z,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:g,position:q,trackIndex:null === (k=null === p || void 0 === p?void 0:p.track) || void 0 === k?void 0:k.VA,streamIndex:null === p || void 0 === p?void 0:p.Fg,stream:p,manifest:null === (m=p.P) || void 0 === m?void 0:m.ba,contentStartTimestamp:f.Qu.cc});};c.prototype.xca=function(f){return ("").concat(f.stream.Ta,"@").concat(f.cc.Fb());};return c;})(a(273).G5);b.VVa=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sVa=void 0;d=a(0);l=a(9);h=a(2);n=a(8);r=(function(c){function f(g,k,m,p,q,v,t,w,u){g=c.call(this,g,k,m,p,q,v,t,"segment",u,null === w || void 0 === w?void 0:w.obb()) || this;g.Lp=w;return g;}d.__extends(f,c);f.prototype.pu=function(g){var k,m,p,q,v,t,w,u,y;q=g.Ed;v=g.Qc;t=g.cc;w=g.bitrate;u=g.gb;(0,h.assert)(void 0 !== q);y=null === (k=this.Lb.dn(q)) || void 0 === k?void 0:k.S;(0,h.assert)(void 0 !== y);this.Hca=g={S:y,HVb:g.cs,cc:t,Lqb:w,gb:u,Ybc:null === (m=this.Hca) || void 0 === m?void 0:m.Lqb,Zbc:null === (p=this.Hca) || void 0 === p?void 0:p.gb};this.spa(g,q,v) && l.M && this.trace(("segment ").concat(y," @ ").concat(q.Z,"ms"));};f.prototype.vca=function(g,k){return g.S === k.S && !k.HVb;};f.prototype.wta=function(g,k,m){var p,q,v,t,w,u;p=g.Qu;q=p.S;v=p.Lqb;t=p.Ybc;w=p.gb;p=p.Zbc;u=this.Lb.dn(k);(0,h.assert)(void 0 !== u);l.M && this.trace(("emitSegmentPresentingEvent @ ").concat(g.timestamp.Z,"ms for segment ").concat(q));u.S !== q && (l.M && this.console.warn("player position:",u,"not equal to trackedElement:",q),u={S:q,offset:n.O.Oa});g={type:"segmentPresenting",playerTimestamp:k,position:u,seek:m};if(this.Lp){if(q=this.Lp.Tva(q))(q.destvbitrate=v,q.destvmaf=w,q.srcvbitrate=t,q.srcvmaf=p);g.metrics=q;}l.M && this.trace(("segmentPresenting: ").concat(JSON.stringify(g)));this.events.emit(g.type,g);};f.prototype.reset=function(){c.prototype.reset.call(this);this.Hca=void 0;};f.prototype.close=function(){c.prototype.close.call(this);this.Hca=void 0;};f.prototype.xca=function(g){return g.S;};return f;})(a(273).G5);b.sVa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.rMa=void 0;d=a(0);l=a(9);h=a(60);r=(function(){function n(c,f,g){this.Ee=c;this.u7b=f;this.H=g;}Object.defineProperties(n.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});n.prototype.waitUntil=function(c){var f;c=(0,h.Oha)(this.Ee,c,!0);f=c.promise;this.eGb=c.um;return f;};n.prototype.process=function(c){return d.__awaiter(this,void 0,void 0,function(){var f,g;return d.__generator(this,function(k){switch(k.label){case 0:if(c.done)return [3,2];f=c.value.value;if(!f.Eua)return [3,2];g=f.Ed.Fa(this.u7b);l.M && this.H.trace(("[").concat(f.mediaType,"] JIT: waiting until playertime >= ").concat(g.Z),("to append next request ").concat(f.toString()));return [4,this.waitUntil(g)];case 1:(k.ub(),l.M && this.H.trace(("[").concat(f.mediaType,"] JIT: now appending request ").concat(f.toString())),k.label=2);case 2:return [2,c];}});});};n.prototype.reset=function(){var c;null === (c=this.eGb) || void 0 === c?void 0:c.Wa();};return n;})();b.rMa=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.XRa=void 0;d=a(0);l=a(9);h=a(2);n=a(60);r=(function(){function c(f,g,k,m){var p;p=this;this.Ee=f;this.G$b=g;this.IBa=k;this.H=m;f.za.on("stopStart",function(){return p.gMb();});l.M && this.H.trace(("PacingThrottler: pacingFactory=").concat(g,", pacingThreshold=").concat(k.Fb()));}Object.defineProperties(c.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});c.prototype.gMb=function(){var f,g;g=this.Ee.za;this.YO=g.wk?g.currentTime:void 0;this.KW=this.zY=void 0;l.M && this.H.trace(("PacingThrottler: clock reset ").concat(null === (f=this.YO) || void 0 === f?void 0:f.Z));};c.prototype.waitUntil=function(f){var g;f=(0,n.Oha)(this.Ee,f,!0);g=f.promise;this.knc=f.um;return g;};c.prototype.process=function(f){return d.__awaiter(this,void 0,void 0,function(){var g,k,m,p;return d.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,11];g=f.value.value;(0,h.assert)(g.Ed);k=this.Ee.za;if(!this.zY || !this.KW)return [3,10];if(!this.KW.greaterThan(this.IBa))return [3,8];if(!this.YO)return [3,5];m=g.Ed.Fa(this.YO).Fa(this.IBa);p=this.YO.add(m.qk(this.G$b));if(!p.lessThan(g.Ed))return [3,3];if(!p.greaterThan(k.currentTime))return [3,2];l.M && this.H.trace(("PacingThrottler: waiting until ").concat(p.Fb()," for mediaRequest @") + ("").concat(g.Ed.Fb(),", ") + ("current time ").concat(k.currentTime.Fb(),", ") + ("clock start time ").concat(this.YO.Fb(),", ") + ("distance ").concat(m.Fb()));return [4,this.waitUntil(p)];case 1:(q.ub(),q.label=2);case 2:return [3,4];case 3:(l.M && this.H.warn("PacingThrottler: invalid schedule time " + ("").concat(p.Fb()," for mediaRequest ") + ("@").concat(g.Ed.Fb(),", ") + ("current time ").concat(k.currentTime.Fb(),", ") + ("clock start time ").concat(this.YO.Fb(),", ") + ("distance ").concat(m.Fb())),q.label=4);case 4:return [3,7];case 5:m=g.Ed.Fa(this.zY);if(!m.greaterThan(this.IBa))return [3,7];l.M && this.H.trace(("PacingThrottler: (buffering) waiting until ").concat(this.zY.Z,"ms") + (" for mediaRequest @").concat(g.Ed.Z,"ms, ") + ("current time ").concat(k.currentTime.Z));return [4,this.waitUntil(this.zY)];case 6:(q.ub(),q.label=7);case 7:return [3,9];case 8:(this.KW=this.KW.add(g.Nt),q.label=9);case 9:return [3,11];case 10:(this.zY=g.Ed,this.KW=g.Nt,q.label=11);case 11:return [2,f];}});});};c.prototype.reset=function(){var f;null === (f=this.knc) || void 0 === f?void 0:f.Wa();};return c;})();b.XRa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gVa=void 0;d=a(0);l=a(9);r=(function(){function h(n,c,f){this.uz=n;this.Of=c;this.H=f;this.l7=!0;}Object.defineProperties(h.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});h.prototype.process=function(n){var c,f,g,k;return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:if(n.done)return [3,3];m=n.value.value;if(!this.Av || !m.cs || this.Av.Ed === m.Ed && this.Av.Cec === m.index)return [3,2];l.M && this.H.trace(("Seamless Throttler: Waiting on request [").concat(m.mediaType,"]"),m.index,"in",null === (c=m.Xa) || void 0 === c?void 0:c.Ya.G.id);return [4,this.uz.lnc({mediaType:m.mediaType,U7a:this.l7,to:{stream:m.stream,S:null === (f=m.Xa) || void 0 === f?void 0:f.Ya.G.id},from:{stream:this.Av.stream,S:this.Av.S},timestamp:m.Ed,acc:null === (g=this.Av) || void 0 === g?void 0:g.Ed})];case 1:(p.ub(),p.label=2);case 2:(this.l7=!1,this.Av={Cec:m.index,stream:m.stream,Ed:m.Ed,S:null === (k=m.Xa) || void 0 === k?void 0:k.Ya.G.id},p.label=3);case 3:return [2,n];}});});};h.prototype.F9b=function(n,c){void 0 === n && (n=[]);void 0 === c && (c=[]);l.M && this.H.trace(("Seamless Throttler: onMediaSourceReset() ").concat(c));this.l7 || (this.l7=-1 !== c.indexOf(this.Of));(null === n || void 0 === n?0:n.length) && n.length !== c.length && (this.Av=void 0);};h.prototype.reset=function(){};return h;})();b.gVa=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gPa=void 0;d=a(0);l=a(75);h=a(444);n=a(8);r=(function(){function c(f){this.H=f;}Object.defineProperties(c.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});c.prototype.process=function(f){var g;return d.__awaiter(this,void 0,void 0,function(){var k,m,p,q,v,t,w,u,y,x,z,B,A,C,D;return d.__generator(this,function(){f.done || (m=k=f.value.value,p=null !== (g=k.response) && void 0 !== g?g:this.m3b(m)?m.afc()[0]:void 0,p instanceof ArrayBuffer && (q=new l.mv(this.H,k.stream,p,["moof"],!0,{QBa:!0}),v=q.parse(),v.Gw && (t=q.Eq("moof"),w=t.Eq("traf"),u=w.Eq("trun"),y=w.Eq("tfdt"),x=k.stream.Gq().Xea,z=u.$d,B=y.XI,A=v.ma.V,C=new n.O(B,A),D=this.Av?C.Fa(this.Av.tJb):void 0,this.H.trace(("Live Request Logger: processing request [").concat(k.mediaType,"]"),{baseMediaDecodeTime:B,timescale:A,baseMediaDecodeMs:C.Z,ptsOffsetMs:x.Z,mediaTimestampMs:C.Fa(x).Z,offsetFromPriorMs:null === D || void 0 === D?void 0:D.Z,sampleCount:z,url:k.url}),this.Av={tJb:C})));return [2,f];});});};c.prototype.m3b=function(f){return f instanceof h.ria;};c.prototype.reset=function(){this.Av=void 0;};return c;})();b.gPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kVa=void 0;r=(function(){function a(d,l,h,n,c,f,g,k,m,p){var q;q=this;this.id=d;this.P=l;this.ca=h;this.LX=c;this.Nm=f;this.Lu=g;this.Dq=k;this.Xq=m;this.Ge=p;this.hQ=function(v){var t,w;return (null === (w=null === (t=q.Nm) || void 0 === t?void 0:t[v]) || void 0 === w?void 0:w.Mkc) || q.Ge;};this.Sa=n || Infinity;}Object.defineProperties(a.prototype,{N:{get:function(){return this.P.N;},enumerable:!1,configurable:!0}});a.prototype.rva=function(){var d,l,h;d=this;h=Object.keys(this.Nm || ({})).filter(function(n){var c,f;return !(null === (f=null === (c=d.Nm) || void 0 === c?void 0:c[n]) || void 0 === f || !f.weight);});return h.length?null !== (l=h.map(this.hQ).reduce(function(n,c){return n === c?c:void 0;})) && void 0 !== l?l:this.Ge:this.Ge;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Xq + " viewableId: " + this.P.N + " pts: " + this.ca + "-" + this.Sa + " defaultKey: " + this.LX + " dests: " + JSON.stringify(this.Nm) + " terminal: " + !!this.Lu;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.P.N,"startPts:":this.ca,endPts:this.Sa,defaultKey:this.LX,"dests:":this.Nm,terminal:!!this.Lu,playlistSegmentId:this.Xq};};return a;})();b.kVa=r;},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sIa=void 0;r=a(0);d=r.__importStar(a(13));l=a(195);h=a(76);n=r.__importDefault(a(1071));c=a(426);f=r.__importDefault(a(29));g=r.__importDefault(a(3));a=(function(){var m57;m57=2;for(;m57 !== 24;){switch(m57){case 2:Object.defineProperties(k.prototype,{kca:{get:function(){var s_U;s_U=2;for(;s_U !== 1;){switch(s_U){case 2:return this.Nna;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bDa:{get:function(){var j1$;j1$=2;for(;j1$ !== 1;){switch(j1$){case 4:return this.SZa;break;case 2:return this.SZa;break;}}},enumerable:!1,configurable:!0}});k.prototype.smb=function(m,p,q){var A$8;A$8=2;for(;A$8 !== 4;){switch(A$8){case 2:this.BF=m;d.xa(p) || (this.cbb=p);d.xa(q) || (this.bbb=q);A$8=4;break;}}};k.prototype.WGa=function(m){var A_R;A_R=2;for(;A_R !== 5;){switch(A_R){case 2:this.K=m;this.aW.WGa(m);A_R=5;break;}}};m57=3;break;case 18:k.prototype.iHb=function(m){var B90;B90=2;for(;B90 !== 1;){switch(B90){case 2:m.eu=this.eu;B90=1;break;}}};k.prototype.OUb=function(m){var q_r,p,q,v,t,w,u,y,x;q_r=2;for(;q_r !== 25;){switch(q_r){case 12:q_r=u?11:16;break;case 2:var d0O="s";d0O+="tar";d0O+="tpla";d0O+="y";var j_J="l";j_J+="o";j_J+="gdat";j_J+="a";(p={},q=this.K,v=this.Eb,t={type:j_J,target:d0O,fields:{}});t.fields=p;Object.keys(m).forEach(function(z){var C0f;C0f=2;for(;C0f !== 1;){switch(C0f){case 4:p[z]=m[z];C0f=4;break;case 2:p[z]=m[z];C0f=1;break;}}});w=this.gq.get();w && w.Za && (w=w.Za.ya);p.actualbw=w;p.isConserv=this.eu;q_r=7;break;case 16:p.histage=this.cbb;q.zta && this.SN && (p.ishighstable=this.Nna,p.avg_avtp=this.SN.gJb,p.avg_ne=Number(this.SN.iJb).toFixed(4));v.Mc && (q=g.default.Iq(),p.maxAudioBufferAllowedBytes=q[f.default.ee.U],p.maxVideoBufferAllowedBytes=q[f.default.ee.J]);v.emit(t.type,t);q_r=25;break;case 7:p.ccs=this.K9;q_r=6;break;case 6:p.isLowEnd=this.n3b;p.histdiscbw=this.BF;u=this.bbb;q_r=12;break;case 18:p.histtdc=u;q_r=17;break;case 11:y=function(z){var C8C;C8C=2;for(;C8C !== 1;){switch(C8C){case 2:return d.Pa(z)?Number(z).toFixed(2):-1;break;}}};w=[y(u.min || void 0),y(u.uea || void 0),y(u.gm || void 0),y(u.Ek || void 0),y(u.hm || void 0),y(u.vea || void 0),y(u.max || void 0)];x=[];u=d.isArray(u.Ij) && u.Ij.reduce(function(z,B){var q45,A;q45=2;for(;q45 !== 3;){switch(q45){case 4:return z;break;case 2:A=y(B.Ag || void 0);B=y(B.n || void 0);-1 < A && -1 < B && z.push({mean:A,n:B});q45=4;break;case 14:return z;break;}}},x);q_r=18;break;case 17:p.histtd=w;q_r=16;break;}}};k.prototype.PUb=function(m){var w10,p,q,v,t,w,u,y;w10=2;for(;w10 !== 6;){switch(w10){case 8:var u66="n";u66+="on";u66+="e";this.aZa && (m.bt={startTime:this.Lo.startTime,audioMs:this.Lo.PW,videoMs:this.Lo.V2},this.Lo.PW=[],this.Lo.V2=[],this.Lo.Tya=this.Lo.Oya);u66 !== q.UG && (m.isConserv=this.eu,m.ccs=this.K9);w10=6;break;case 2:(p=this,q=this.K,v=this.gq.get(),t=[]);[f.default.ee.J,f.default.ee.U].forEach(function(x){var Y_I,z;Y_I=2;for(;Y_I !== 4;){switch(Y_I){case 2:Y_I=p.Ac(x)?1:4;break;case 9:Y_I=p.Ac(x)?9:5;break;case 1:z=p.Eb.u_b(x);void 0 !== z && (x === f.default.ee.J && (q.vP && (z.parallelDownloadMs=p.Vhb,z.parallelDownloadBytes=p.Uhb,z.singleDownloadMs=p.cnb,z.singleDownloadBytes=p.bnb,z.switchFromParallelToSingle=p.hGa,z.switchFromSingleToParallel=p.iGa),v && v.confidence && v.Za && (z.asetput=v.Za,z.aseiqr=v.pw,z.tdigest=v.rh && v.rh.PB() || void 0),v && v.avtp && (z.avtp=v.avtp.ya)),t.push(z));Y_I=4;break;}}});m.stat=t;(w=0,u=0,y=0);v.confidence && (w=v.Za?v.Za.ya:0,u=v.vl?v.vl.ya:0,y=v.nQ?v.nQ.ya:0);m.location={responseTime:u,httpResponseTime:y,bandwidth:w,confidence:v.confidence,name:this.Zmc};w10=8;break;}}};k.prototype.oEb=function(m){var O4A,p;O4A=2;for(;O4A !== 6;){switch(O4A){case 4:this.H7 && (this.H7=!1);O4A=3;break;case 5:return !0;break;case 3:O4A=this.I7 && p.qj && !m.rw()?9:8;break;case 9:return !0;break;case 1:O4A=this.H7 && m.rw()?5:4;break;case 2:p=this.K;O4A=1;break;case 8:this.I7 && (this.I7=!1);return !1;break;}}};k.prototype.vYa=function(m){var K4m,x_G;K4m=2;for(;K4m !== 4;){switch(K4m){case 2:var G65="td";G65+="i";G65+="g";G65+="es";G65+="t";x_G=this.K.gxa;K4m=x_G === G65?1:3;break;case 5:return m;break;case 3:K4m=9;break;case 14:return m;break;case 1:m=m.rh;K4m=5;break;case 9:m=m.pw && m.pw.Dea;K4m=5;break;case 6:m=m.rh;K4m=3;break;case 12:K4m=4;break;}}};k.prototype.xCb=function(m,p,q){var t9x,v;t9x=2;for(;t9x !== 3;){switch(t9x){case 2:v=this.K;this.Pna(v.UG,m,p,q)?this.eu=!0:this.eu=!1;this.K9=0;t9x=4;break;case 4:this.Pna(v.Bza,m,p,q) && (this.n3b=!0);t9x=3;break;}}};m57=25;break;case 3:k.prototype.Pna=function(m,p,q,v){var G$k,t;G$k=2;for(;G$k !== 7;){switch(G$k){case 4:return !!(p.Za && q && d.Pa(v) && p.Za.ya < t.tX && v > t.Vja);break;case 1:var R_$="i";R_$+="q";R_$+="r";G$k=m === R_$?5:9;break;case 9:var R1$="a";R1$+="v";R1$+="g";G$k=m === R1$?8:3;break;case 5:G$k=void 0 !== v?4:3;break;case 2:t=this.K;G$k=1;break;case 8:return p.Za?p.Za.ya < t.tX:!0;break;case 3:return !1;break;}}};k.prototype.$P=function(m){var F8C;F8C=2;for(;F8C !== 1;){switch(F8C){case 2:return m === h.u.J?this.aW.lL:this.aW.O0;break;}}};k.prototype.XC=function(m){var s3Q;s3Q=2;for(;s3Q !== 5;){switch(s3Q){case 2:this.aW.XC(m);this.EXa=m;s3Q=5;break;}}};k.prototype.JY=function(){var m7z;m7z=2;for(;m7z !== 1;){switch(m7z){case 2:return this.EXa;break;}}};k.prototype.NL=function(m){var R1l;R1l=2;for(;R1l !== 5;){switch(R1l){case 2:this.aW.NL(m);this.L_a=m;R1l=5;break;}}};m57=14;break;case 14:k.prototype.mZ=function(){var F9M;F9M=2;for(;F9M !== 1;){switch(F9M){case 2:return this.L_a;break;}}};k.prototype.GGb=function(m,p,q,v,t,w){var h2C,u;h2C=2;for(;h2C !== 5;){switch(h2C){case 2:u=this.K;u.Nha && this.oEb(p) || !q || !v || !(q=w?Math.min(q,v,w):Math.min(q,v)) || (this.gq.get(),v=this.Eb.bb,m=v.my(v.od,m),p.track.rw() && m > u.zqa && q === t?(u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:1}),u.set({maxActiveRequestsPerSession:2}),u.set({maxPendingBufferLen:500})):(u.qj=!0,u.SQ=1,u.Vy=2,u.eda=500),p.track.e1({type:p.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:u.hT,minRequestSize:u.QK}),this.hGa++,u.Nha && (this.H7=!0)):u.qj && !p.rw() && (m < u.yqa || q !== t) && (u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:3}),u.set({maxActiveRequestsPerSession:3}),u.set({maxPendingBufferLen:12E3})):(u.qj=!0,u.SQ=3,u.Vy=3,u.eda=12E3),p.track.e1({type:p.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:u.hT,minRequestSize:u.QK}),this.iGa++,u.Nha && (this.I7=!0)));h2C=5;break;}}};k.prototype.KGb=function(m,p){var N6H,v,t,q;N6H=2;for(;N6H !== 6;){switch(N6H){case 7:this.Lo.Oya=q;N6H=6;break;case 8:(this.Lo.PW[t]=m,this.Lo.V2[t]=p);N6H=7;break;case 4:q=Math.floor((g.default.time.fa() - this.Lo.startTime) / q.cX);(v=this.Lo.Oya,t=this.Lo.Tya?q - this.Lo.Tya - 1:q);N6H=9;break;case 5:void 0 === this.Lo && (this.Lo={startTime:g.default.time.fa(),PW:[],V2:[],Tya:void 0,Oya:void 0});N6H=4;break;case 1:N6H=this.aZa?5:6;break;case 2:q=this.K;N6H=1;break;case 9:N6H=void 0 === v || q > v?8:7;break;}}};k.prototype.t9b=function(){var d4w,m,X6o;d4w=2;for(;d4w !== 4;){switch(d4w){case 1:d4w=this.uI.Pt?5:4;break;case 2:m=this.Eb;d4w=1;break;case 5:try{X6o=2;for(;X6o !== 1;){switch(X6o){case 2:(this.gq.aec(),this.SZa.wd());X6o=1;break;}}}catch(p){var q_6="Hin";q_6+="dsight: Error during clean ";q_6+="up: ";R7xOY.e_n(6);m.Kb.Ap(R7xOY.p3p(p,q_6));}d4w=4;break;}}};m57=10;break;case 10:k.prototype.K9b=function(m){var W6D;W6D=2;for(;W6D !== 1;){switch(W6D){case 2:this.K.vP && m === f.default.ee.J && (this.iGa=this.hGa=this.bnb=this.cnb=this.Uhb=this.Vhb=0);W6D=1;break;}}};k.prototype.H9b=function(m,p){var y8B;y8B=2;for(;y8B !== 1;){switch(y8B){case 2:m === f.default.ee.J && (this.Zmc=p);y8B=1;break;}}};k.prototype.uLb=function(m){var o6E,v,t,p,q,w;o6E=2;for(;o6E !== 6;){switch(o6E){case 4:var G3V="i";G3V+="q";G3V+="r";o6E=G3V === p.UG?3:8;break;case 5:v=this.gq.get();o6E=4;break;case 9:void 0 !== t && void 0 !== t.gm && void 0 !== t.Ek && void 0 !== t.hm && (q=(t.hm - t.gm) / t.Ek);o6E=8;break;case 1:var o3A="n";o3A+="o";o3A+="n";o3A+="e";o6E=o3A !== p.UG && !0 !== this.eu && m.state <= p.bAa?5:6;break;case 3:t=this.vYa(v);o6E=9;break;case 2:p=this.K;o6E=1;break;case 8:w=p.$_?f.default.bk.yD:f.default.bk.zD;v && v.confidence >= w && this.Pna(p.UG,v,t,q) && (this.eu=!0,this.K9=m.state);o6E=6;break;}}};m57=18;break;case 25:return k;break;}}function k(m,p,q,v,t,w,u,y,x){var q2o=R7xOY;var H6t,z,B2U,T0P,B;H6t=2;for(;H6t !== 31;){switch(H6t){case 18:void 0 !== p && void 0 !== p.gm && void 0 !== p.Ek && void 0 !== p.hm && (z=(p.hm - p.gm) / p.Ek);v=t.$_?f.default.bk.yD:f.default.bk.zD;q && q.confidence >= v && q.Za && z && this.xCb(q,p,z);H6t=15;break;case 22:this.Nna=this.SN.kca();H6t=32;break;case 26:this.Nna=!1;H6t=25;break;case 15:H6t=this.uI.Pt?27:26;break;case 10:this.aW=(0,l.$P)(t,w);p=this.vYa(q);H6t=18;break;case 35:this.SN=new c.zNa(u,t,this.H);H6t=22;break;case 34:H6t=33;break;case 24:var z0w="ba";z0w+="s";z0w+="eli";z0w+="ne";B2U=t.Y0b;H6t=B2U === z0w?23:21;break;case 14:this.L_a=this.EXa=null;q2o.h1T(0);var M32=q2o.f4w(14000000,13000000);this.aZa=0 === Math.floor(M32 * Math.random()) % t.Aqa;this.BF=this.bbb=this.cbb=this.K9=this.eu=void 0;this.iGa=this.bnb=this.cnb=this.hGa=this.Uhb=this.Vhb=0;H6t=10;break;case 32:t.Nha && (this.I7=this.H7=!1);H6t=31;break;case 3:var W6S="1";W6S+="SI";W6S+="YbZrNJC";W6S+="p9";W6S;this.Eb=m;this.bc=this.H.warn.bind(this.H);this.ik=this.H.trace.bind(this.H);this.K=t;H6t=14;break;case 33:this.SN=new c.Rja(u,t,this.H);H6t=22;break;case 21:var C_n="L";C_n+="R";H6t=B2U === C_n?35:34;break;case 2:this.H=p;this.gq=v;this.Ac=y;this.uI=x;H6t=3;break;case 27:try{T0P=2;for(;T0P !== 4;){switch(T0P){case 2:B=new n.default(m,this.H,{bufferSize:g.default.Iq()},t);this.gq.RGb(B);this.SZa=B;T0P=4;break;}}}catch(A){var h2_="Hindsight: Error wh";h2_+="en creating QoE";h2_+="E";h2_+="valuator: ";q2o.e_n(6);m.Kb.Ap(q2o.f4w(A,h2_));}H6t=26;break;case 23:this.SN=new c.Rja(u,t,this.H);H6t=22;break;case 25:H6t=u && 1 < u.length && t.zta?24:32;break;}}}})();b.sIa=a;},function(r,b,a){var l,h,n;function d(c,f,g,k){this.Eb=c;this.H=f;this.Ll=this.H.error.bind(this.H);this.bc=this.H.warn.bind(this.H);this.ik=this.H.trace.bind(this.H);this.Jg=this.H.log.bind(this.H);this.xAb=new h();this.K=k;this.y7=[];this.P7=void 0;c=k.Gba;l.call(this,c.numB * c.bSizeMs,c.bSizeMs);this.Gna=!0;}a(29);b=a(3).default;l=a(153);a(453);h=a(1072);new b.Console("ASEJS_QOE_EVAL","media|asejs");n=a(134).pUa || a(134);d.prototype=Object.create(l.prototype);d.prototype.add=function(c,f,g){this.P7 || (this.P7=f);l.prototype.add.call(this,c,f,g);};d.prototype.lXb=function(){var c;if(0 !== this.y7.length){c=[];this.y7.forEach(function(f){f && f.DO && c.push(f.PB());});return c;}};d.prototype.wd=function(){this.y7=[];};d.prototype.C_b=function(){var c,f,g;c=this.get(this.K.Gba.fillS);if(0 === c[0] || null === c[0]){c.some(function(m,p){if(m)return (f=m,g=p,!0);});if(f)for(var k=0;k < g;k++){c[k]=f;}}c={trace:c,timestamp:this.P7,dB:this.fe};this.Gna=!1;l.prototype.reset.call(this);this.Gna=!0;this.P7=void 0;return c;};d.prototype.Ota=function(c){var f,g,k,m,p,q;if(c && !c.DO){g=c.Tv.Kcb;g && (c.lDa=this.Kpa(c),c.ofa=!1);if((f=this.C_b()) && f.trace && f.trace.length){k=c.Jk.pG;m=f.timestamp;if(m > k){p=f.dB;q=f.trace[0];k=Math.ceil((m - k) / p);f.timestamp=m - k * p;for(m=0;m < k;m++){f.trace.splice(0,0,q);}}f.trace.length && f.trace.pop();}c.eD=f;f.trace && 0 === f.trace.length || void 0 === f.timestamp || (f=this.qKb(c),c.vhb=f,g && f && (c.ofa=f.du),c.DO=!0,this.y7.push(c));}};d.prototype.qKb=function(c){var p,q,v,t;function f(w){var x;for(var u,y=0;y < w.length;y++){x=w[y].reduce(function(z,B){return B.gb?z + 1:z;},0);if(void 0 === u)u=x;else if(x !== u)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(x > u?x - u:u - x) * Math.LOG2E) + "]");}}for(var g=this.K.Fba,k={du:!1,Zba:!1,DSb:0},m=0;m < g.length;m++){p=g[m];q=this.xAb.create(p);if(q){v=n.now();t={};try{f(c.Fz);t=q(c);}catch(w){t.HP=w;}t.KHb=n.now() - v;k[p]=t;k.du=k.du || t.du;k.Zba=k.Zba || t.Zba;k.HP=k.HP || t.HP;}}return k;};d.prototype.Kpa=function(c){var f;c=c.Tv;f="";1E3 > c.Op && (f+=c.drb);1E3 > c.st && (f=f + ("" !== f?",":"") + c.$0a);1E3 <= c.Op && 1E3 <= c.st && (f="media");return f;};r.exports=d;},function(r,b,a){var h;function d(){}function l(n,c,f){return function(g){g.Ms=c;g.compare=f;return n(g);};}h=a(1073);d.prototype.constructor=d;d.prototype.create=function(n){var c;switch(n){case "htwbr":break;case "htwbr-dlvmaf":c=l(h.tZ,!1,h.A3a);break;case "htwbr-segvmaf":c=l(h.tZ,!0,h.A3a);break;case "hvmafgr":c=l(h.tZ,!1,h.Ora);break;case "hvmafgr-dlvmaf":c=l(h.tZ,!1,h.Ora);break;case "hvmafgr-segvmaf":c=l(h.tZ,!0,h.Ora);break;case "hvmafdp":c=l(h.dp,!1);break;case "hvmafdp-dlvmaf":c=l(h.dp,!1);break;case "hvmafdp-segvmaf":c=l(h.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return c;};r.exports=d;},function(r,b,a){var q,v,t,w,u,y,x,z,B,A,C;function d(D){var E,G,F;E=D.eD;G=D.Jk;F=D.Tv.Sa - G.ca;E.timestamp > G.pG && A.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + E.timestamp + " and " + G.pG);D=[];for(var K,O=E.timestamp,L=0;L < E.trace.length;L++){O >= G.pG && (D.push(E.trace[L]),K=E.trace[L]);O+=E.dB;F-=E.dB;}for(;0 < F;){D.push(K);F-=E.dB;}G=E.dB;E=D.length;if(0 === E)E=[];else {for(G=[G / 1E3];2 * G.length <= E;){G=G.concat(G);}G.length < E && (G=G.concat(G.slice(0,E - G.length)));E=G;}return new y(D,E,!1);}function l(D,E,G){E=D.Fz[E][G];return E.ha + D.Jk.WW * E.duration / 8;}function h(D){var E,G,F,K,O,L,I,M,H;E=D.Jk;G=E.wo;F=D.Tv;K=F.vy;L=[];for(F=K=Math.min(F.KK,K);F >= G;F--){C.update("backward step loop");I=O=D.Fz[0][F].ca - D.Jk.ca;F < K && (q(void 0 !== L[F + 1],"expect solution[(fragIndex + 1)] !== undefined"),I=Math.min(L[F + 1].startTime,I));M=l(D,0,F);H=p(M,I,D.eD,E.pG);if(0 > H)throw Error("Infeasible: reason throughput at min bitrate");M={startTime:H,endTime:I,Z9:I,$Rb:O,nS:M,ae:0};M.m8a=F;L[F]=M;}E=0;for(F=G;F <= K;F++){E+=L[F].nS;L[F].cta=E;}if(!n(D,L,G,K))throw Error("Infeasible: reason buffer capacity at min bitrate");return {du:!0,RAa:0 == L.length,Ps:L};}function n(D,E,G,F){var K,O,L,I,M,H,J,N,P,X;for(;G <= F;G++){C.update("checkBuffer");K=D;O=E;L=G;C.update("check buffer vacancy");I=K.Jk;M=K.Fz[I.IZ];H=K.W1a;J=!0;K=K.rVb(Math.floor(O[L].startTime) + I.ca);N=I.Wu + O[L].cta;P=0;X=0;if(K.index < I.wo){for(var V=0,S=I.aD;S < K.index;S++){V+=M[S].ha;}P+=V;V=0;for(S=I.aD;S < K.index;S++){V+=M[S].duration;}X+=V;}else (P+=I.Wu,X+=I.Op);V=0;for(S=I.wo;S < K.index;S++){V+=O[S].nS;}P+=V;V=0;for(S=I.wo;S < K.index;S++){V+=M[O[S].m8a].duration;}X+=V;K=N - P;I=M[L].ca + M[L].duration - I.ca - X;if(I >= H.xw || K >= H.Mqb)J=!1;O[L].e2a=K;O[L].Gqa=I;if(!J)return !1;}return !0;}function c(D){D=D.Jk.ma;for(var E=[],G,F=0;F < D.length;F++){C.update("get prebuffered chunks loop");G=D[F];q(void 0 !== G.gb,"expect frag.vmaf !== undefined");G=new t(G.ha,G.duration / 1E3,G.gb);E.push(G);}return E;}function f(D){var E,G,F,K,O,L,H;E=D.Fz;G=D.Jk;F=D.Tv;K=F.vy;O=D.Rc;L=[];K=Math.min(F.KK,K);for(var I=0;I < E.length;I++){F=[];for(var M=G.wo;M <= K;M++){C.update("get chunk map from play segment");H=E[I][M];H=new t(H.ha,H.duration / 1E3,D.Ms && void 0 !== H.gb?H.gb:O[I].gb);F.push(H);}L.push(F);}return new w(L,!1);}function g(D,E,G){q(D.kQ() >= E.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var F=0,K=0,O,L,I=0;I < E.length;I++){C.update("calculate twvmaf");q(E[I].kbb === I,"expect stream_choices[idx].i_epoch === idx");L=D.Rn[E[I].Jba][I];O=void 0 !== G?G(L.quality):L.quality;L=L.po;F+=O * L;K+=L;}return {W5a:F / K,V5a:1E3 * K};}function k(D,E,G){q(D.kQ() >= E.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var F=0,K=0,O=G.Jk.WW,L,I=0,M=0,H=0;H < E.length;H++){C.update("calculate Bytes");q(E[H].kbb === H,"expect stream_choices[idx].i_epoch === idx");L=D.Rn[E[H].Jba][H];F+=L.ha;K+=O * L.po * 1E3 / 8;I+=L.po * G.Rc[E[H].Jba].bitrate;M+=L.po;}return {U5a:F,R5a:K,T5a:0 < M?1 * I / M:0};}function m(D,E,G){E=Math.min(D.length - 1,E);E=Math.max(0,E);return D[E] * G / 8;}function p(D,E,G,F){var K,O,L,I,M;K=G.trace;O=1 * G.dB;L=E + F - G.timestamp;I=Math.floor(1 * L / O);E=(L - I * O) / O * m(K,I,O);if(E >= D)M=L - 1 * D / E * (L - I * O);else for(L=I;E < D;){C.update("find download start time");--L;if(0 > L)return -1;I=m(K,L,O);if(E + I >= D){D=(D - E) / I * O;M=(L + 1) * O - D;break;}E+=I;}return M + G.timestamp - F;}q=a(2).assert;v=a(1074);t=a(454).Btb;w=a(454).Ctb;u=a(1075).Uub;y=a(455).Szb;x=a(274).CJa;z=a(185).BU;B=a(94).default;A=new (a(3).default.Console)("ASEJS_QOE_EVAL","media|asejs");C=a(134).pUa || a(134);r.exports={tZ:function(D){var E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,Q,ka,ra,R,fa,wa,ua;A.debug("greedy DEBUG false");C.TEa("greedy-" + (D.Ms?"segvmaf":"dlvmaf") + ": ");try{D.HK=[];E=D.Fz;G=D.Jk;F=D.Tv;K=F.vy;O=D.Rc;K=Math.min(F.KK,K);for(I=G.wo;I <= K;I++){M=new v();D.HK[I]=M;E[0][I].Mqa=E[0][I].ha;for(L=1;L < E.length;L++){E[L][I].Mqa=E[L][I].ha;}L=0;H=E[L][I];H.XF=Infinity;H.Fg=L;for(L=1;L < E.length;L++){H=E[L][I];H.Fg=L;J=M.gca()?E[0][I]:M.kac();N=8 * H.Mqa / H.duration;P=8 * J.Mqa / J.duration;if(D.Ms && void 0 !== H.gb)(X=H.gb,V=J.gb);else (X=O[L].gb,V=O[J.Fg].gb);H.ww=N - P;H.XF=(X - V) / H.ww;isFinite(H.XF) && (0 < H.XF || L == E.length - 1) && 0 < H.ww && M.enqueue(H);}}for(I=G.wo;I <= K;I++){G=[];S=[];U=[];ha=D.HK[I].El();for(E=0;E < ha.length;E++){H=ha[E];G.push(H.ww.toFixed(2));D.Ms && void 0 !== H.gb?S.push(H.gb):S.push(O[H.Fg].gb);U.push(H.XF.toFixed(4));}}qa=h(D);if(qa.RAa)return qa;xa=D.Jk;Aa=D.Tv;Oa=Aa.vy;Oa=Math.min(Aa.KK,Oa);U=[];for(var T=xa.wo;T <= Oa;T++){D.HK[T].gca() || U.push(D.HK[T].jP());}q(void 0 !== D.compare,"playSegment.compare required for greedy");for(var W=new z(U,D.compare);0 < W.length;){C.update("upgrade frags");Q=W.pop();a:{Oa=xa=void 0;T=D;U=qa;S=Q;ka=T.Jk;ra=T.Tv;R=Math.min(ra.KK,ra.vy);fa=JSON.parse(JSON.stringify(U.Ps));q(S && fa[S.index].ae < S.Fg,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");Oa=S.index;xa=fa[Oa];xa.ae=S.Fg;xa.nS=l(T,xa.ae,Oa);xa.startTime=p(xa.nS,xa.Z9,T.eD,ka.pG);fa[Oa]=xa;if(0 > xa.startTime)wa=!1;else {for(Oa=S.index - 1;Oa >= ka.wo;Oa--){xa=fa[Oa];ua=fa[Oa + 1].startTime;if(xa.Z9 <= ua)break;xa.Z9=ua;xa.startTime=p(xa.nS,xa.Z9,T.eD,ka.pG);fa[Oa]=xa;if(0 > xa.startTime){wa=!1;break a;}}for(var Ea=S.index + 1;Ea <= R;Ea++){fa[Ea].cta=fa[Ea].nS + (Ea > T.Jk.wo?fa[Ea - 1].cta:0);}for(var Xa=S.index + 1;Xa <= R;Xa++){if(fa[Xa].startTime > fa[S.index].$Rb){R=Xa - 1;break;}}n(T,fa,S,Math.min(Oa + 1,S.index),R)?(U.Ps=fa,wa=!0):wa=!1;}}wa && (D.HK[Q.index].gca() || W.push(D.HK[Q.index].jP()));}}finally{delete D.HK;}for(R=ra=ka=wa=Q=W=0;R < qa.Ps.length;R++){if(fa=qa.Ps[R])(ua=D.Fz[fa.ae][fa.m8a],W+=(ua.gb?ua.gb:D.Rc[fa.ae].gb) * ua.duration,Q+=ua.duration,wa+=ua.ha,ka+=D.Jk.WW * ua.duration / 8,ra+=ua.duration * D.Rc[fa.ae].bitrate);}qa.W5a=0 < Q?1 * W / Q:0;qa.V5a=Q;qa.U5a=wa;qa.R5a=ka;qa.T5a=0 < Q?1 * ra / Q:0;qa.nC=C.i$a();A.debug("Max heap used: " + Math.round(qa.nC / 1024 / 1024) + " MB");return qa;},Ora:function(D,E){if(D.XF < E.XF)return 1;if(D.XF > E.XF)return -1;if(D.ww > E.ww)return 1;if(D.ww < E.ww)return -1;if(D.index > E.index)return 1;if(D.index < E.index)return -1;throw Error("Invalid frag comparison");},A3a:function(D,E){if(D.ww > E.ww)return 1;if(D.ww < E.ww)return -1;if(D.index > E.index)return 1;if(D.index < E.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var E,G,F,K,O,L;C.TEa("dp-" + (D.Ms?"segvmaf":"dlvmaf") + ": ");E=h(D);if(!1 === E.du || !0 === E.RAa)return E;G=f(D);F=new u(G);K=c(D);K={Oob:d(D),s1a:D.Jk.WW,Tfb:0,ofb:240,nfb:8 * D.W1a.Mqb / 1E3,b2a:.5,J1a:new x(K),V6a:0,Qvc:void 0,uab:void 0,Fjb:void 0,G0a:!0};F=F.rz(K);K=g(G,F,void 0);G=k(G,F,D);O=[];L=D.Jk.wo;F.forEach(function(I){O[L]={ae:I.Jba};L++;});B(K,E);B(G,E);E.Ps=O;E.nC=C.i$a();A.debug("Max heap used: " + Math.round(E.nC / 1024 / 1024) + " MB");return E;}};},function(r){var d;function b(l){this.dh=a(l);this.Ph=this.cg=0;if(d(l)){for(var h=l.length,n=0;n < h;++n){this[n]=l[n];}this.cg=h;}}function a(l){if("number" !== typeof l)if(d(l))l=l.length;else return 16;l=Math.min(Math.max(16,l),1073741824);l=(l >>> 0) - 1;l|=l >> 1;l|=l >> 2;l|=l >> 4;l|=l >> 8;return (l | l >> 16) + 1;}b.prototype.El=function(){for(var l=this.cg,h=Array(l),n=this.Ph,c=this.dh,f=0;f < l;++f){h[f]=this[n + f & c - 1];}return h;};b.prototype.push=function(l){var h,n,c,g;h=arguments.length;n=this.cg;if(1 < h){c=this.dh;if(n + h > c){for(var f=0;f < h;++f){this.B6(n + 1);g=this.Ph + n & this.dh - 1;this[g]=arguments[f];n++;this.cg=n;}return n;}g=this.Ph;for(f=0;f < h;++f){this[g + n & c - 1]=arguments[f];g++;}this.cg=n + h;return n + h;}if(0 === h)return n;this.B6(n + 1);f=this.Ph + n & this.dh - 1;this[f]=l;this.cg=n + 1;return n + 1;};b.prototype.pop=function(){var l,h,n;l=this.cg;if(0 !== l){h=this.Ph + l - 1 & this.dh - 1;n=this[h];this[h]=void 0;this.cg=l - 1;return n;}};b.prototype.shift=function(){var l,h,n;l=this.cg;if(0 !== l){h=this.Ph;n=this[h];this[h]=void 0;this.Ph=h + 1 & this.dh - 1;this.cg=l - 1;return n;}};b.prototype.unshift=function(l){var h,n,c,g;h=this.cg;n=arguments.length;if(1 < n){c=this.dh;if(h + n > c){for(var f=n - 1;0 <= f;f--){this.B6(h + 1);c=this.dh;g=(this.Ph - 1 & c - 1 ^ c) - c;this[g]=arguments[f];h++;this.cg=h;this.Ph=g;}return h;}g=this.Ph;for(f=n - 1;0 <= f;f--){g=(g - 1 & c - 1 ^ c) - c;this[g]=arguments[f];}this.Ph=g;this.cg=h + n;return h + n;}if(0 === n)return h;this.B6(h + 1);c=this.dh;f=(this.Ph - 1 & c - 1 ^ c) - c;this[f]=l;this.cg=h + 1;this.Ph=f;return h + 1;};b.prototype.kac=function(){var l;l=this.cg;if(0 !== l)return this[this.Ph + l - 1 & this.dh - 1];};b.prototype.get=function(l){var h;if(l === (l | 0)){h=this.cg;0 > l && (l+=h);if(!(0 > l || l >= h))return this[this.Ph + l & this.dh - 1];}};b.prototype.gca=function(){return 0 === this.cg;};b.prototype.clear=function(){for(var l=this.cg,h=this.Ph,n=this.dh,c=0;c < l;++c){this[h + c & n - 1]=void 0;}this.Ph=this.cg=0;};b.prototype.toString=function(){return this.El().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.jP=b.prototype.shift;b.prototype.toJSON=b.prototype.El;Object.defineProperty(b.prototype,"length",{get:function(){return this.cg;},set:function(){throw new RangeError("");}});b.prototype.B6=function(l){this.dh < l && this.$Eb(a(1.5 * this.dh + 16));};b.prototype.$Eb=function(l){var h,n;h=this.dh;this.dh=l;l=this.Ph;n=this.cg;if(l + n > h)for((l=l + n & h - 1,n=0);n < l;++n){this[n + h]=this[n + 0];this[n + 0]=void 0;}};d=Array.isArray;r.exports=b;},function(r,b,a){var q,v,t,w,u;function d(y,x,z){this.M1a=this.bBb(y,x,z);}function l(){}function h(){}function n(){}function c(y){this.ILb=y;}function f(){}function g(){}function k(){}function m(){this.Zsa={};}function p(y,x){return Array.apply(0,Array(x)).map(function(z,B){return B + y;});}q=a(0);v=a(2).assert;b=a(274).CJa;t=a(455).Tzb;w=a(274).dtb;new (a(3).default.Console)("ASEJS_QOE_EVAL","media|asejs");u=a(134).pUa || a(134);d.prototype.constructor=d;d.prototype.bBb=function(y,x,z){v(y < x,"expect min_buffer_sec < max_buffer_sec but got " + y + " and " + x);v(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var B=[];y < x;y+=z){B.push(y);}B[B.length - 1] < x && B.push(x);return B;};d.prototype.wF=function(y){return this.fCb(y,this.M1a);};d.prototype.fCb=function(y,x){y=this.DRb(y,x);if(0 === y)throw new l();if(y === x.length)throw new h();return y;};d.prototype.DRb=function(y,x){v(0 < x.length,"expect bins.length > 0 but got " + x.length);if(y < x[0])return 0;if(y >= x[x.length - 1])return x.length;for(var z=1;z < x.length;z++){if(x[z - 1] <= y && y < x[z])return z;}v(!1,"expect not coming here in digitize()");};d.prototype.nba=function(){return p(1,this.M1a.length - 1);};l.prototype=Error();h.prototype=Error();n.prototype=Error();c.prototype.constructor=c;c.prototype.VERSION="0.5";c.prototype.Wtb=-20;c.prototype.Vtb=20;c.prototype.Utb=void 0;c.prototype.Ptb=new b(void 0);c.prototype.Rtb=0;c.prototype.Qtb=1;c.prototype.Ztb=!1;c.prototype.Ttb=!0;c.prototype.Stb=!0;c.prototype.Xtb=void 0;c.prototype.Ntb=!0;c.prototype.Otb=0;c.prototype.rz=function(y){v(void 0 !== y.Oob,"expect recipe.time_varying_bandwidth !== undefined");return this.bFb(this.ILb,y.Oob,void 0 !== y.Tfb?y.Tfb:this.Wtb,void 0 !== y.ofb?y.ofb:this.Vtb,void 0 !== y.nfb?y.nfb:this.Utb,void 0 !== y.J1a?y.J1a:this.Ptb,void 0 !== y.V6a?y.V6a:this.Rtb,void 0 !== y.b2a?y.b2a:this.Qtb,void 0 !== y.bic?y.bic:this.Ztb,void 0 !== y.$_b?y.$_b:this.Ttb,void 0 !== y.uab?y.uab:this.Stb,void 0 !== y.Fjb?y.Fjb:this.Xtb,void 0 !== y.G0a?y.G0a:this.Ntb,void 0 !== y.s1a?y.s1a:this.Otb);};c.prototype.bFb=function(y,x,z,B,A,C,D,E,G,F,K,O,L,I){var H,J,N,P,X,xa,ka,ra,R,fa,wa,ua,Ea,Xa,vb,nb,zb,Ma,Ya,bb,kb;function M(ob){return ob[X];}u.TEa("dp: ");v(z <= C.Ci,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");v(C.Ci <= B,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");v(z <= D,"expect min_buffer_sec <= end_buffer_sec");v(D <= B,"expect end_buffer_sec <= max_buffer_sec");void 0 !== A && v(C.qn <= A,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + C.qn + " and " + A);J=new d(z,B,E);E=new m();N=0;P=C;E.put([0,J.wF(C.Ci)],[N,P,void 0,void 0,x,void 0,void 0,void 0]);x=P=0;C=y.W_b();v(y.kQ() == C.length,"expect chunk_map.get_n_epoch() == durations_sec.length");X=-1;try{for(var V=q.__values(C),S=V.next();!S.done;S=V.next()){X+=1;C=!0;for(var U=y.Rn.map(M),ha=J.nba(),qa=0;qa < ha.length;qa++){xa=ha[qa];if(E.Eya([X,xa]))for(var Aa=E.get([X,xa]),Oa=Aa[0],T=Aa[1],W=Aa[4],Q=0;Q < U.length;Q++){ka=U[Q];u.update("epoch-ibuf-chunk loop");ra=void 0 !== O?O(ka.quality):ka.quality;R=W.Mi();try{Aa=this.IBb(T,ka,R,I);fa=Aa[0];wa=Aa[1];ua=Aa[2];Ea=Aa[3];Xa=Aa[4];vb=Aa[5];}catch(ob){if(ob instanceof t)continue;else if(ob instanceof l){P+=1;continue;}else throw ob;}nb=!1;zb=!1;try{Ma=J.wF(Ea.Ci);F && J.wF(fa);K && J.wF(wa);if(void 0 !== A)if(K){if(ua.qn > A)throw new n();}else if(Ea.qn > A)throw new n();}catch(ob){if(ob instanceof l)(Ma=void 0,P+=1);else if(ob instanceof h)(L?nb=!0:x+=1,Ma=void 0);else if(ob instanceof n)(L?zb=nb=!0:x+=1,Ma=void 0);else throw ob;}try{if(nb && zb){v(void 0 !== A,"expect max_buffer_kb !== undefined");Ya=K?ua.qn - A:Ea.qn - A;v(0 <= Ya,"pause dlnd kb cannot be -ve but is " + Ya);try{bb=Ea.Hac(Ya);}catch(ob){if(ob instanceof w)throw new l();throw ob;}R.eib(bb);Xa+=bb;v(Ea.Ci < B,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Ma=J.wF(Ea.Ci);}else if(nb && !zb){bb=K?ua.Ci - B + 1E-8:Ea.Ci - B + 1E-8;v(0 <= bb,"pause dlnd kb cannot be -ve but is " + bb);try{Ea.yib(bb);}catch(ob){if(ob instanceof w)throw new l();throw ob;}R.eib(bb);Xa+=bb;v(z <= Ea.Ci,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");v(Ea.Ci < B,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Ma=J.wF(Ea.Ci);}else bb=0;}catch(ob){if(ob instanceof l)(Ma=void 0,P+=1,bb=void 0);else if(ob instanceof t)continue;else throw ob;}N=E.Eya([X + 1,Ma])?E.get([X + 1,Ma])[0]:-Infinity;this.WFb(Ea,Ma,ka,ra,xa,X + 1,N,E,Oa,Q,R,Xa,vb,bb) && (C=!1);}}if(C){--X;break;}}}catch(ob){var hb;hb={error:ob};}finally{try{S && !S.done && (H=V.return) && H.call(V);}finally{if(hb)throw hb.error;}}try{kb=this.lYa(X + 1,J.wF(D),E,G,J);}catch(ob){if(ob instanceof f)try{kb=this.lYa(X + 1,J.wF(D),E,!G,J);}catch(Bb){if(Bb instanceof f){if(P > x)throw new g();throw new k();}throw Bb;}else throw ob;}xa=kb;for(z=[];-1 < X;X--){Aa=E.get([X + 1,xa]);N=Aa[0];P=Aa[1];xa=Aa[3];B=Aa[5];A=Aa[6];D=Aa[7];Aa=Aa[2];ka=y.Rn[Aa][X];G=ka.SB();ra=ka.quality;z.unshift({kbb:X,Jba:Aa,info:{Vtc:G,quality:ra,Cqa:P.Ci,Bqa:P.qn,s6a:B,Za:A,UBa:D}});}return z;};c.prototype.lYa=function(y,x,z,B,A){var C,D;C=!1;D=A.nba()[0];for(A=A.nba()[A.nba().length - 1];;){if(x < D || x > A){C=!0;break;}if(z.Eya([y,x]))break;else x=B?x - 1:x + 1;}if(C)throw new f("backtrack fails to find a solution");return x;};c.prototype.WFb=function(y,x,z,B,A,C,D,E,G,F,K,O,L,I){z=G + B * z.po;return void 0 !== x && z > D?(E.put([C,x],[z,y,F,A,K,O,L,I]),!0):!1;};c.prototype.IBb=function(y,x,z,B){var A,C,D;B=(x.SB() + B) * x.po;z=z.hSb(B);B/=z;A=y.Ci - z;C=y.Ci + x.po;D=y.Mi();D.add(x,void 0);y=y.Mi();y.add(x,void 0);try{y.yib(z);}catch(E){if(E instanceof w)throw new l();throw E;}return [A,C,D,y,z,B];};f.prototype=Error();g.prototype=new f();k.prototype=new f();m.prototype={LGa:function(y){return y.join(",");},put:function(y,x){this.Zsa[this.LGa(y)]=x;},get:function(y){return this.Zsa[this.LGa(y)];},Eya:function(y){return (this.LGa(y) in this.Zsa);}};r.exports={Uub:c,Toc:d,soc:l,toc:h};},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jVa=void 0;r=a(0);d=r.__importStar(a(13));l=a(6);h=a(6);n=r.__importDefault(a(3));c=a(413);f=a(452);a=(function(){var F0E;F0E=2;for(;F0E !== 13;){switch(F0E){case 4:g.prototype.CCb=function(k){var V$u;V$u=2;for(;V$u !== 1;){switch(V$u){case 4:return -+this.mb.ki(k).LW;break;case 2:return !!this.mb.ki(k).LW;break;}}};g.prototype.m8=function(k){var M7h,m;M7h=2;for(;M7h !== 4;){switch(M7h){case 2:m=this;k=this.mb.ki(k);k.LW || (k.LW=!0,h.ng.forEach(function(p){var l26;l26=2;for(;l26 !== 1;){switch(l26){case 2:m.mb.ci[p].resume();l26=1;break;}}}),this.mb.F7());M7h=4;break;}}};g.prototype.CEb=function(k,m){var n0M,p,q,v;n0M=2;for(;n0M !== 8;){switch(n0M){case 2:(p=this,v=k.mediaType);k.rS(m);k.Qec();n0M=4;break;case 4:n0M=(null === (q=this.mb.Tk) || void 0 === q?0:q.lQ())?3:9;break;case 3:(this.mb.Tk.jn.forEach(function(t){var l2y;l2y=2;for(;l2y !== 1;){switch(l2y){case 4:p.mb.wO(t,-8);l2y=4;break;case 2:p.mb.wO(t,!1);l2y=1;break;}}}),this.mb.Tk=void 0);n0M=9;break;case 9:this.mb.y$.KEb(v,k.Ya.P);n0M=8;break;}}};g.prototype.rna=function(){var a2R,k,m;a2R=2;for(;a2R !== 4;){switch(a2R){case 2:a2R=this.cE?1:4;break;case 1:(k=this.cE.il,m=this.cE.Ub);this.mb.ki(m) && (this.cE=void 0,this.DL(k,m));a2R=4;break;case 9:a2R=this.cE?3:3;break;}}};F0E=7;break;case 14:return g;break;case 2:g.prototype.DL=function(k,m){var I_h,w,u,y,p,q,v,t;I_h=2;for(;I_h !== 50;){switch(I_h){case 15:I_h=this.oy(f.Mia.Wua(m),!1,!0)?27:26;break;case 16:return;break;case 41:var A2R="s";A2R+="eekF";A2R+="ail";A2R+="ed";var l28="after s";l28+="eeking, playerState no longer S";l28+="TA";l28+="RTING: ";this.H.warn(l28 + this.mb.X.getState());this.mb.emit(A2R);I_h=50;break;case 12:I_h=m != t.P.Ub?11:26;break;case 24:t=this.mb.xt?this.mb.Co?Math.min(t[h.u.U].ca,t[h.u.J].ca):t[h.u.U].ca:t[h.u.J].ca;I_h=23;break;case 35:var D4o="seekD";D4o+="el";D4o+="ayed";this.cE={Ub:v.P.Ub + 1,il:k};this.mb.emit(D4o);I_h=33;break;case 11:m < t.P.Ub && v.P.$f.replace && (v.P.$f.replace=!1);w=this.mb.bb.od;h.ng.forEach(function(x){var Z$x;Z$x=2;for(;Z$x !== 1;){switch(Z$x){case 2:(x=w.Ae(x)) && p.mb.l_a(x);Z$x=1;break;}}});I_h=19;break;case 51:var h1E="seekFa";h1E+="i";h1E+="led";var o5Y="se";o5Y+="ek, n";o5Y+="o manifest at manif";o5Y+="es";o5Y+="tIndex:";(this.H.warn(o5Y,m),this.mb.emit(h1E));I_h=50;break;case 25:I_h=t.length?24:52;break;case 22:I_h=v.P.$f.ug?21:32;break;case 39:this.mb.c_a();u=this.mb.bb.od.v9(k).PR;v.VAa();y=this.mb.bb.od;h.ng.forEach(function(x){var b_O,z;b_O=2;for(;b_O !== 5;){switch(b_O){case 2:z=y.Ae(x);p.Ac(x) && p.CEb(z,u[x]);b_O=5;break;}}});I_h=53;break;case 6:!v.P.$f.L_ && 0 < m && (q=this.mb.yX(m,k));this.mb.X.Qd(l.Ma.Am);t=this.mb.Vf;I_h=12;break;case 28:I_h=(t=this.mb.Vf.P.Ub === m && !this.CCb(m) && k === v.ca)?44:39;break;case 19:I_h=!this.mb.OXa(m)?18:15;break;case 23:I_h=k > t?22:31;break;case 52:var u8M="se";u8M+="ekDe";u8M+="layed";(this.cE={Ub:m,il:k},this.mb.emit(u8M));I_h=50;break;case 42:var O5R="s";O5R+="ee";O5R+="k";var x6E="pts";x6E+="chang";x6E+="ed";return (this.mb.emit(x6E,q),this.mb.emit(O5R),this.m8(m),k=t && this.mb.Pb.zA()?100:0,this.mb.N7(1,k),this.mb.Pl(),q);break;case 21:I_h=!this.mb.d8(v.P.Ub + 1)?35:31;break;case 53:this.mb.F7();I_h=43;break;case 32:(k=t,q=k + this.mb.bb.qg);I_h=31;break;case 43:I_h=this.mb.X.Pcb()?42:41;break;case 7:I_h=(v=this.mb.ki(m))?6:51;break;case 33:return;break;case 18:var b5r="se";b5r+="ekDel";b5r+="ayed";this.cE={Ub:m,il:k};this.mb.emit(b5r);I_h=16;break;case 31:this.mb.X.Qd(l.Ma.ai);this.mb.Fnb();this.mb.bb.Bjc(k,m);I_h=28;break;case 2:var t75=" p";t75+="layerSt";t75+="ate: ";var y7E=" medi";y7E+="a.currentPts";y7E+=": ";var i6v=" cu";i6v+="rren";i6v+="t ";i6v+="manifest:";i6v+=" ";var U2j=" ";U2j+="m";U2j+="anifestIn";U2j+="dex:";U2j+=" ";var f93="s";f93+="e";f93+="ek";f93+=": ";p=this;null === (q=this.XYa) || void 0 === q?void 0:q.cancel();(v=this.mb.K,t=this.mb.X.fg());q=k;v.mj && this.Cj.io(f93 + k + U2j + m + i6v + this.mb.Vf.P.Ub + y7E + t + t75 + this.mb.X.getState());d.xa(m) && (m=this.mb.Vf.P.Ub);this.mb.bb.blb();I_h=7;break;case 44:h.ng.forEach(function(x){var N8S;N8S=2;for(;N8S !== 1;){switch(N8S){case 2:p.mb.Ux[x].Eg(!0);N8S=1;break;}}});I_h=43;break;case 26:t=this.mb.bb.od.wY(v.Sa || Infinity,v.P);I_h=25;break;case 27:return;break;}}};g.prototype.seek=function(k,m){var A0q,p;A0q=2;for(;A0q !== 9;){switch(A0q){case 4:this.mb.ki(m).P.$f.L_ || this.mb.YN || (p=this.mb.wB(m,k));return this.DL(p,m);break;case 2:p=k;d.xa(m) && (m=this.mb.Vf.P.Ub);this.mb.bb.blb();A0q=4;break;}}};g.prototype.oy=function(k,m,p){var d6e,q,v;d6e=2;for(;d6e !== 9;){switch(d6e){case 2:v=this.mb.bb.oy(k,m);d6e=1;break;case 5:return v;break;case 4:var L3K="s";L3K+="e";L3K+="e";L3K+="k";var V$e="p";V$e+="t";V$e+="s";V$e+="change";V$e+="d";v?(this.mb.X.Qd(l.Ma.Am),(k=this.mb.bb.wi.children[k]) && this.mb.emit(V$e,null !== (q=k.Nd) && void 0 !== q?q:k.Kxa),this.mb.X.Qd(l.Ma.ai),this.mb.emit(L3K),k && this.m8(k.P.Ub),this.mb.N7(1),this.mb.Pl(),this.mb.Pb.zA()):p || (q=this.mb.bb.a_b(k),this.DL(q));return v;break;case 1:d6e=m?5:4;break;case 6:d6e=m?1:5;break;}}};F0E=4;break;case 7:g.prototype.uo=function(k){var B_f,p,q;function m(v,t){var N68;N68=2;for(;N68 !== 5;){switch(N68){case 2:var m8J="skip: unexpected behaviour - a non-pres";m8J+="e";m8J+="n";m8J+="ting branch doesn't have a previous ";m8J+="branch";v !== p.mb.bb.wi && (v.sj?m(v.sj,t):p.H.error(m8J));(v=v.Ae(t)) && v.uo();N68=5;break;}}}B_f=2;for(;B_f !== 7;){switch(B_f){case 2:p=this;null === (q=this.XYa) || void 0 === q?void 0:q.cancel();this.mb.Fnb();B_f=4;break;case 4:this.mb.bb.wi.uo(k);h.ng.forEach(function(v){var L0i,t;L0i=2;for(;L0i !== 9;){switch(L0i){case 2:L0i=p.Ac(v)?1:9;break;case 3:m(p.mb.bb.od,v);L0i=9;break;case 7:L0i=p.Ac(v)?3:5;break;case 1:var M7X="skip: not re";M7X+="suming bufferManager, audio track switc";M7X+="h in progress";t=p.mb.Pb.ph[v];p.mb.Pt && (t.CFa=n.default.time.fa());t.c3?t.bc(M7X):p.mb.ci[v].resume();L0i=3;break;}}});this.XYa=k=new c.lN(this.mb.Y1());B_f=8;break;case 8:return k.k0(function(){var I32;I32=2;for(;I32 !== 5;){switch(I32){case 2:p.mb.X.Qd(l.Ma.Xc);p.mb.qW();I32=5;break;}}}).klb;break;}}};g.prototype.hi=function(k){var E0E,m,p,q;E0E=2;for(;E0E !== 8;){switch(E0E){case 2:(p=this.mb.bb.wi,q=0 < Object.keys(p.G && p.G.Nm || ({})).length && !p.Vl?p.bg - this.mb.K.cR:p.bg);E0E=1;break;case 5:return !1;break;case 4:m=this.mb.xy(k,h.u.U,!0);k=this.mb.xy(k,h.u.J,!0);return void 0 !== m && void 0 !== k && m.complete && k.complete;break;case 1:E0E=k < (null !== (m=p.Nd) && void 0 !== m?m:p.Kxa) || k >= q?5:4;break;}}};F0E=14;break;}}function g(k,m,p,q){var y0x;y0x=2;for(;y0x !== 9;){switch(y0x){case 2:var L9i="1SIYbZr";L9i+="N";L9i+="J";L9i+="Cp";L9i+="9";this.mb=k;this.H=m;this.Ac=p;this.Cj=q;L9i;y0x=9;break;}}}})();b.jVa=a;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.tLa=void 0;r=a(0);d=r.__importStar(a(13));l=a(6);h=a(6);n=r.__importDefault(a(3));a=(function(){var I5t;I5t=2;function c(f,g,k){var F$3;F$3=2;for(;F$3 !== 9;){switch(F$3){case 4:var m5Q="1S";m5Q+="IYbZ";m5Q+="rN";m5Q+="JCp9";m5Q;this.KXa=this.YH=void 0;F$3=9;break;case 2:this.ib=f;this.H=g;this.Ac=k;F$3=4;break;}}}for(;I5t !== 18;){switch(I5t){case 13:c.prototype.WAb=function(f,g){var D0Y,k;D0Y=2;for(;D0Y !== 5;){switch(D0Y){case 2:k=this.ib.Pb.Yy[f.mediaType];return this.ib.IZa && g.ec && k.Qya && g.ec !== k.Qya && (0 < f.Xa.jG || 0 < f.Xa.Su)?!0:!1;break;}}};c.prototype.XAb=function(f,g){var q3U,k,m,p,q,v,t,w,u,y,x;q3U=2;for(;q3U !== 32;){switch(q3U){case 35:q3U=(v=1,f.Dqa < m.pC && (v=m.pC),f.Xa.jG >= v)?34:33;break;case 12:return !1;break;case 2:var x7o="f";x7o+="loore";x7o+="d to 0";var D3k="ne";D3k+="gative ";D3k+="sch";D3k+="eduledBufferLevel:";(m=this.ib.K,p=f.mediaType,q=f.Kca,v=this.ib.X.fg(),t=this.ib.X.getState(),w=this.ib.bb.my(q,p),u=f.Fc + q.qg - v);0 > u && (f.bc(D3k,u,x7o),u=0);y=g?g.Fc:0;q3U=4;break;case 21:q3U=(q=this.ib.X.Zf())?35:33;break;case 22:return !1;break;case 19:q3U=this.ib.Mc.yya?18:17;break;case 6:k=this.ib.Vf.P;x=this.ib.X.rs(k);q3U=13;break;case 4:q3U=(null === (k=f.Wh) || void 0 === k?0:k.y0b())?3:9;break;case 18:return !1;break;case 8:q3U=v >= m.eda?7:6;break;case 7:return !1;break;case 27:return !1;break;case 9:v=f.Xa.RBa;q3U=8;break;case 13:q3U=t === l.Ma.Xc && w > m.Vza && !k.$f.ug && !x && !k.K_ || w && v > Math.max(w * m.$za / 100,m.B7b)?12:11;break;case 25:return !1;break;case 24:u=this.ib.bb.Ckc();q3U=23;break;case 33:return 0 < m.ou && !q && t + (g?x:0) > m.ou || void 0 !== this.KXa && w > this.KXa || p === h.u.J && k.$f.ug && w > m.ada && (g=this.ib.Mc.Bc.get(),g.confidence && g.Za && g.Za.ya * f.ZO > m.Xza)?!1:!0;break;case 23:q3U=!d.xa(m.Vy) && u >= m.Vy || f.ZO + v >= Math.max(m.xw,this.ib.Mc.T1 + m.dBa * q.P.z6b[p])?22:21;break;case 34:return !1;break;case 17:u=void 0;g && (u=g.mediaType,y=n.default.Iq()[u],u=m.nmc?this.ib.bb.zeb(q,u).Yg / y:x / y);q3U=15;break;case 26:q3U=this.dCb(p) >= m.gfb?25:24;break;case 11:t=this.ib.bb.bJ(q,p);x=0;q3U=20;break;case 20:q3U=g && (x=this.ib.bb.bJ(q,g.mediaType),y=f.Fc - y,this.Ac(g.mediaType) && !g.cj && y >= m.eAa && u > m.Dk)?19:26;break;case 3:return !1;break;case 15:q3U=void 0 === u || u < m.w6b?27:26;break;}}};c.prototype.dCb=function(f){var W7c;W7c=2;for(;W7c !== 1;){switch(W7c){case 2:return this.ib.bb.cb.reduce(function(g,k){var i_S;i_S=2;for(;i_S !== 1;){switch(i_S){case 4:return g - k.UZb(f);break;case 2:return g + k.UZb(f);break;}}},0);break;}}};c.prototype.nLb=function(f){var N0f,g,k,m;N0f=2;for(;N0f !== 4;){switch(N0f){case 2:(g=this,k=this.ib.bb,m=!0);N0f=1;break;case 1:d.tg(f.G.Nm,function(p,q){var x$7,v;x$7=2;for(;x$7 !== 7;){switch(x$7){case 1:q=p.P;p=q.oj[h.u.U];x$7=4;break;case 2:x$7=(p=k.Be(q))?1:8;break;case 4:v=q.oj[h.u.J];p && v && p.stream.ve && v.stream.ve || (m=!1);g.ib.X.rs(q) || (m=!1);x$7=7;break;case 8:var v0I="in d";v0I+="est";v0I+="s";v0I+=":";var H_p="invalid";H_p+=" s";H_p+="egment:";f.bc(H_p,q,v0I,f.G.Nm);x$7=7;break;}}});return m;break;}}};c.prototype.NFb=function(){var W$4,f,g,k;W$4=2;for(;W$4 !== 5;){switch(W$4){case 2:(f=this.ib.K,g=this.ib.bb,k=g.od);this.ib.X.Zf() || g.my(k,h.u.J) < f.S_ || k.P.JGa();W$4=5;break;}}};return c;break;case 2:c.prototype.C6=function(){var j9_;j9_=2;for(;j9_ !== 1;){switch(j9_){case 2:this.YH && (clearTimeout(this.YH),this.YH=void 0);j9_=1;break;}}};c.prototype.dYa=function(){var Q24,f,g,k,m;Q24=2;for(;Q24 !== 6;){switch(Q24){case 2:Q24=!this.ib.Ug.Poa && !this.ib.Oo()?1:6;break;case 1:var z7t="fi";z7t+="rst";z7t+="Dri";z7t+="veStr";z7t+="eaming";void 0 === this.ib.vBb && (this.ib.vBb=!0,this.ib.Kb.Dn(z7t));(f=this.ib.bb,g=f.od.Ae(h.u.U),k=f.od.Ae(h.u.J),m=!k || k.cj);Q24=4;break;case 4:(!g || g.cj) && m && this.ib.YN && f.hMb(k?k.Oc:g.Oc);k=!k || k.Vs;g && !g.Vs || !k || this.ib.YN || (this.ib.Mc.wg && this.ib.Mc.wg.QI(!0,this.ib.Bn.sessionId),this.ib.Kb.Tgb());this.aYa(f.od);Q24=7;break;case 7:this.NFb();Q24=6;break;}}};c.prototype.u_a=function(){var b7v;b7v=2;for(;b7v !== 1;){switch(b7v){case 2:return this.ib.Oo() || this.ib.X.Rcb() || this.ib.X.Qcb()?!0:!1;break;}}};c.prototype.I6=function(f){var V73;V73=2;for(;V73 !== 1;){switch(V73){case 2:return this.u_a() || this.ib.Pb.ph[f.mediaType].c3 || this.ib.RD.ZA?!1:!0;break;}}};I5t=3;break;case 3:c.prototype.Pl=function(){var d_G,f,g;d_G=2;for(;d_G !== 5;){switch(d_G){case 2:(f=this,g=this.ib.K);!this.ib.IZa || this.ib.G7 || this.ib.T7 || (this.ib.G7=setTimeout(function(){var p1Y;p1Y=2;for(;p1Y !== 4;){switch(p1Y){case 2:clearTimeout(f.ib.G7);f.ib.G7=void 0;f.dYa();p1Y=4;break;}}},g.fCa),g.vP && this.ib.Co && (this.YH || (this.YH=setTimeout(function(){var g3s,k;g3s=2;for(;g3s !== 3;){switch(g3s){case 2:clearTimeout(f.YH);f.YH=void 0;k=f.ib.bb.od.Ae(h.u.J);g3s=4;break;case 4:k && f.vXa(k);g3s=3;break;case 14:k || f.vXa(k);g3s=2;break;}}},g.HGb))));d_G=5;break;}}};c.prototype.vXa=function(f,g){var q71,k,m,p,q;q71=2;for(;q71 !== 3;){switch(q71){case 1:q71=m && p?5:3;break;case 7:q71=m || p?3:7;break;case 2:(k=f.mediaType,m=this.ib.Pb.Yy[k].DK,p=f.De.f_);q71=1;break;case 5:q=this.ib.Pb.ph[k].gf;q && (this.ib.X.Zf() || this.ib.bi.GGb(k,q,m.bitrate,p.bitrate,f.$0b.bitrate,g));q71=3;break;}}};c.prototype.aYa=function(f,g){var H7P,k,m,p,q,v;H7P=2;for(;H7P !== 7;){switch(H7P){case 2:(k=f.G,m=f.Ae(h.u.J),p=f.Ae(h.u.U),q=!p || p.cj,v=!m || m.cj);k.em || this.ib.bb.Uda(f,k,f.P.$f.ug && 0 === f.P.Ub);H7P=5;break;case 9:var p_X="Still";p_X+=" in buffering state while pipelin";p_X+="e's are done";this.ib.X.Zf() && (this.H.warn(p_X),this.ib.Pb.zA());g || k.Lu || f.P.$f.ug || !this.nLb(f) || ((g=this.ib.X.Zf()) && this.ib.K.Hsa && (this.ib.Ioa(),g=!1),f.naa || this.ib.bb.d1b(f,g),f.HO(),f.pLb() && (g=Object.keys(f.children),this.ib.K.B$ && 1 === g.length && !f.children[g[0]].active && this.ib.bb.yeb(f,g[0]),this.yBb(f,k)));H7P=7;break;case 5:H7P=!v || !q?4:9;break;case 4:H7P=(this.ib.Co && this.bYa(f,m,p),this.ib.xt && this.bYa(f,p,m),q=!p || p.cj,v=!m || m.cj,!v || !q)?3:9;break;case 3:return;break;}}};I5t=7;break;case 7:c.prototype.yBb=function(f,g){var i85,m,p,q,v,t,w,u,k;i85=2;for(;i85 !== 23;){switch(i85){case 4:i85=Math.min(m[0] - f.Tma[0],m[1] - f.Tma[1]) >= k.HLb?3:9;break;case 5:m=f.BN.oo;i85=4;break;case 9:(p=f.BN,q=g.Nm[p.G.id].weight);i85=8;break;case 1:i85=this.ib.Mc.oxa && f.BN && f.Tma?5:8;break;case 3:f.BN=void 0;i85=8;break;case 13:i85=1 < t.length?12:20;break;case 7:(v=[],t=[]);d.tg(f.children,function(y,x){var F77;F77=2;for(;F77 !== 5;){switch(F77){case 2:x=g.Nm[x].weight;0 !== x && (x={weight:x,Ya:y},y.pra(!0,!0) || t.push(x),v.push(x));F77=5;break;}}});0 === t.length?t=v:2 < t.length && (t.sort(function(y,x){var w56;w56=2;for(;w56 !== 1;){switch(w56){case 4:return x.weight * y.weight;break;case 2:return x.weight - y.weight;break;}}}),t.length=2);i85=13;break;case 10:0 !== w && 0 !== u?(d.tg(t,function(y){var r3e;r3e=2;for(;r3e !== 4;){switch(r3e){case 2:y.unc=y.weight / w;y.TJb=y.vda / u;y.usage=y.TJb - y.unc;r3e=4;break;}}}),t.sort(function(y,x){var i1q;i1q=2;for(;i1q !== 1;){switch(i1q){case 2:return y.usage - x.usage;break;}}})):t.sort(function(y,x){var I1V;I1V=2;for(;I1V !== 4;){switch(I1V){case 2:y=Math.min.apply(null,y.Ya.oo);x=Math.min.apply(null,x.Ya.oo);R7xOY.e_n(0);return R7xOY.p3p(y,x);break;}}});i85=20;break;case 12:p=t.reduce(function(y,x){var m_M;m_M=2;for(;m_M !== 4;){switch(m_M){case 2:x.oo=x.Ya.oo;x.vda=Math.min(x.oo[0],x.oo[1]);R7xOY.e_n(0);var b7W=R7xOY.f4w(13,12);return [y[0] + x.weight,y[b7W] + x.vda];break;}}},[0,0]);(w=p[0],u=p[1]);i85=10;break;case 17:p=t[0].Ya;q=t[0].weight;f.BN=p;i85=27;break;case 8:i85=!p?7:26;break;case 24:this.aYa(p,!0);i85=23;break;case 26:p.Pe || (p.Pe={Tba:n.default.time.fa(),TC:0});p.Pe.weight=q;i85=24;break;case 2:k=this.ib.K;i85=1;break;case 27:f.Tma=p.oo;i85=26;break;case 19:var h3L="N";h3L+="o subbr";h3L+="anch candidates to dr";h3L+="ive";this.H.warn(h3L);i85=18;break;case 18:return;break;case 20:i85=0 === t.length?19:17;break;}}};c.prototype.bYa=function(f,g,k){var w2_,m,p,q,v,t,w;w2_=2;for(;w2_ !== 8;){switch(w2_){case 2:(m=this.ib.K,p=g.mediaType);w2_=1;break;case 1:w2_=!g.cj?5:8;break;case 5:(q=this.ib.Pb.ph[p],v=this.ib.Pb.bD[p],t=this.ib.Pb.Yy[p]);w2_=4;break;case 4:w2_=q.gf && (void 0 === g.eL || (g.rS(g.eL,g.mac),void 0 === g.eL))?3:8;break;case 3:var k6X="Still in buffering";k6X+=" state while pipelin";k6X+="e does not hav";k6X+="e";k6X+=" vacancy";var X7Z="drivePip";X7Z+="eline, dela";X7Z+="ying audio un";X7Z+="til v";X7Z+="ideo actualStartPts determined";w=this.ib.Vf;d.xa(w.WK) || (m.wL && p === h.u.U && d.xa(this.ib.Pb.ph[h.u.J].qq)?g.bc(X7Z):(d.xa(g.$m) && (g.$m=g.pd?g.pd.index:g.mua(g.Fc)),g.Xd && g.$m > g.Xd.index?f.P.$f.ug && d.xa(w.Sa) && d.xa(f.Oc) || (g.cj || this.ib.l_a(g),f=this.ib.Vf.P.Ub,f < this.ib.YP() - 1 && this.ib.d8(f + 1)):this.I6(g) && (m.nTb && !this.ib.X.Zf() && 0 >= g.MK?g.Mlc(m.$6b):this.XAb(g,k)?(g.w4b=n.default.time.fa(),k=this.ib.Pb.swa(g),m=k.Fg,d.xa(m) || (m=g.track.Rc[m],this.WAb(g,m) || ((p=m.Paa())?(g.n4b=m.bitrate,g.b6b(m,p,this.ib.X.Zf(),q.gf,k.tu),this.Zlc(m,t,v),f.Pe && ++f.Pe.TC):m.bH()))):this.ib.X.Zf() && (g.ik(k6X),this.ib.Pb.zA()))));w2_=8;break;}}};c.prototype.Zlc=function(f,g,k){var n36;n36=2;for(;n36 !== 4;){switch(n36){case 2:g.Qya=f.ec;d.Pa(k.zy) || (k.Vlc(f.Fu,f.ZB || -1,f.bitrate),d.xa(f.FEa) || this.ib.bi.smb(f.FEa,f.Lq,f.Mq));f.url && (g.Xya=f.url);n36=4;break;}}};I5t=13;break;}}})();b.tLa=a;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$Oa=void 0;d=a(186);l=a(6);h=a(6);n=a(8);r=(function(){var W51;W51=2;for(;W51 !== 6;){switch(W51){case 2:c.prototype.play=function(){var q1N,f;q1N=2;for(;q1N !== 5;){switch(q1N){case 2:var e$Y="p";e$Y+="l";e$Y+="a";e$Y+="y";var N$W="play";N$W+=" call";N$W+="ed after pipelines already shu";N$W+="tdo";N$W+="wn";f=this;this.Oo()?this.H.warn(N$W):(this.oc.X.Qd(l.Ma.Xc),this.oc.pFb(),this.oc.Pb.ph.forEach(function(g){var h3B;h3B=2;for(;h3B !== 1;){switch(h3B){case 2:var l7J="play: not resuming ";l7J+="bufferMa";l7J+="nager, audio track switch in progr";l7J+="e";l7J+="ss";f.Ac(g.mediaType) && (g.c3?g.bc(l7J):(f.oc.ci[g.mediaType].resume(),f.oc.Ux[g.mediaType].resume()));h3B=1;break;}}}),this.oc.qW(),this.oc.emit(e$Y));q1N=5;break;}}};c.prototype.stop=function(){var O5D,m,f,g,k;O5D=2;for(;O5D !== 6;){switch(O5D){case 7:var x0L="s";x0L+="to";x0L+="p";this.oc.emit(x0L);O5D=6;break;case 4:g || k || this.oc.bb.wi.xz(!1,this.oc.X);m=this.oc.bb.od;h.ng.forEach(function(p){var n8T;n8T=2;for(;n8T !== 5;){switch(n8T){case 2:n8T=(p=m.Ae(p))?1:5;break;case 1:p.cj=!1;n8T=5;break;case 9:p.cj=~3;n8T=2;break;}}});h.ng.forEach(function(p){var i9D;i9D=2;for(;i9D !== 1;){switch(i9D){case 2:(p=f.oc.ci[p]) && p.pause();i9D=1;break;}}});O5D=7;break;case 2:(f=this,g=this.oc.X.Rcb(),k=this.oc.X.Qcb());this.oc.X.Qd(l.Ma.OD);this.oc.C6();O5D=4;break;}}};c.prototype.suspend=function(){var l4Q;l4Q=2;for(;l4Q !== 1;){switch(l4Q){case 4:this.Poa=~5;l4Q=4;break;case 2:this.Poa=!0;l4Q=1;break;}}};c.prototype.resume=function(){var E3O;E3O=2;for(;E3O !== 5;){switch(E3O){case 2:this.Poa=!1;this.oc.Dh.Pl();E3O=5;break;}}};c.prototype.close=function(){var J_l,f;J_l=2;for(;J_l !== 6;){switch(J_l){case 2:var Y7O="e";Y7O+="n";Y7O+="dp";Y7O+="l";Y7O+="ay";var J6Y="lo";J6Y+="gd";J6Y+="ata";var t2m="clo";t2m+="s";t2m+="e";f=this.oc.K;this.FZa=!0;this.stop();this.oc.emit(t2m);f.P6a && (f=d.Qz.instance().Ib()) && (f={type:J6Y,target:Y7O,fields:{bridgestat:f}},(0,n.kb)(this.oc,f.type,f));this.oc.Mc.wg && this.oc.Mc.wg.QI(!0,this.oc.Bn.sessionId,!0);this.oc.Kb.Tgb();J_l=7;break;case 7:this.oc.gec();J_l=6;break;}}};c.prototype.flush=function(){var n14,m,p,q,v,t,C1i,f,g,k;n14=2;for(;n14 !== 16;){switch(n14){case 20:var Y_M="e";Y_M+="nd";Y_M+="pl";Y_M+="a";Y_M+="y";var I0A="l";I0A+="o";I0A+="g";I0A+="da";I0A+="ta";var Z3e="throu";Z3e+="gh";Z3e+="put";Z3e+="-sw";var L7w="throu";L7w+="ghpu";L7w+="t-sw";var L$m="th";L$m+="rou";L$m+="ghpu";L$m+="t-sw";var G05="thro";G05+="u";G05+="ghpu";G05+="t-sw";g.jY && (p && p[G05] && p[L$m].ya && this.oc.Yw.ZGb({avtp:p[L7w].ya,variance:p[Z3e].He}),this.oc.Yw.SGb(q,null === (f=p.avtp) || void 0 === f?void 0:f.v$),f=this.oc.Yw.CXb(),g=this.oc.Yw.d_b(),f && (f.n=g,f={type:I0A,target:Y_M,fields:{ibef:f}},(0,n.kb)(this.oc,f.type,f),this.oc.Yw.save()));n14=19;break;case 13:var t0S="e";t0S+="nd";t0S+="p";t0S+="lay";var s6$="l";s6$+="og";s6$+="da";s6$+="t";s6$+="a";t && t.length && (m.activeRequests=JSON.stringify(t));m.aseApiVersion=this.oc.G8;g.N6a && (k=k.Yaa()) && (k.bytesRequestedPacingVideo && (m.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,m.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,m.bytestotalVideo=k.bytestotalVideo,m.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (m.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,m.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,m.bytestotalAudio=k.bytestotalAudio,m.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (m.pacedAvtp=k.pacedAvtp));Object.keys(m).length && (m={type:s6$,target:t0S,fields:m},(0,n.kb)(this.oc,m.type,m));n14=20;break;case 5:(m={},p=k.get(),q={});p && p.avtp && p.avtp.ya && (m.avtp=p.avtp.ya,m.dltm=p.avtp.v$,q.avtp=m.avtp);n14=3;break;case 3:p && p.initialThroughput && p.initialThroughput.ya && (m.initial_avtp=p.initialThroughput.ya);p && p.cdnavtp && (m.cdnavtp=p.cdnavtp,m.activecdnavtp=p.activecdnavtp);k.flush();(v=k.y9a(),t=k.S_a);n14=6;break;case 14:for(var w in v){var D7_="n";D7_+="e";var j$z="n";j$z+="e";var G$W="n";G$W+="e";v.hasOwnProperty(w) && (m[G$W + w]=Number(v[w]).toFixed(6),q[j$z + w]=1 * m[D7_ + w]);}n14=13;break;case 17:try{C1i=2;for(;C1i !== 1;){switch(C1i){case 2:this.oc.Pta(l.Ma.OD);C1i=1;break;}}}catch(u){var d8Z="H";d8Z+="indsight: ";d8Z+="Error evaluati";d8Z+="ng QoE at stoppin";d8Z+="g: ";R7xOY.e_n(6);this.oc.Kb.Ap(R7xOY.p3p(u,d8Z));}n14=16;break;case 18:n14=this.uI.Pt?17:16;break;case 1:n14=k?5:19;break;case 6:n14=v?14:13;break;case 2:(g=this.oc.K,k=this.oc.Mc.Bc);n14=1;break;case 19:this.oc.Kb.vZa();n14=18;break;}}};W51=8;break;case 8:c.prototype.Oo=function(){var M_N;M_N=2;for(;M_N !== 1;){switch(M_N){case 2:return this.FZa || this.oc.bb.pl;break;}}};return c;break;}}function c(f,g,k,m){var z$K;z$K=2;for(;z$K !== 8;){switch(z$K){case 4:var H6W="1SI";H6W+="Yb";H6W+="ZrNJCp9";this.uI=m;this.FZa=this.Poa=!1;H6W;z$K=8;break;case 2:this.oc=f;this.H=g;this.Ac=k;z$K=4;break;}}}})();b.$Oa=r;},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nRa=void 0;r=a(0);d=r.__importStar(a(13));l=a(117);h=r.__importDefault(a(29)).default.ee;n=a(6);c=r.__importDefault(a(3));f=a(8);g=a(2);a=(function(){var s$e;s$e=2;for(;s$e !== 38;){switch(s$e){case 35:k.prototype.foa=function(){var Z74,v,t,m,p,q;Z74=2;for(;Z74 !== 8;){switch(Z74){case 5:var w75="buffe";w75+="ringComplet";w75+="e";(v=this.tb.Co?this.tb.Pb.bD[h.J]:this.tb.Pb.bD[h.U],t=v.gX);m={type:w75,time:c.default.time.fa(),actualStartPts:t,aBufferLevelMs:m.Rh(n.u.U),vBufferLevelMs:m.Rh(n.u.J),selector:q?q.D1:p.D1,initBitrate:v.zy,skipbackBufferSizeBytes:this.tb.Mc.Bga};this.tb.bi.OUb({initSelReason:v.$B,initSelectionPredictedDelay:v.ZB,buffCompleteReason:v.Jv,hashindsight:this.tb.Pt,hasasereport:!!this.tb.hn,bcVBufferLevelMs:m.vBufferLevelMs,bcABufferLevelMs:m.aBufferLevelMs});Z74=9;break;case 2:(m=this.tb.bb.od,p=m.fb(n.u.U),q=m.fb(n.u.J));this.wZa();Z74=5;break;case 9:(0,f.kb)(this.tb,m.type,m);Z74=8;break;}}};k.prototype.wZa=function(){var R7I,p,q,v,t,w,u,m;R7I=2;for(;R7I !== 12;){switch(R7I){case 5:(p=this.tb.bb.od,q=p.Rh(n.u.U),v=p.Rh(n.u.J));this.tb.bi.KGb(q,v);t=this.tb.Mc.Bc.get();t=t.confidence?t.Za.ya:0;(w=this.tb.bb,u=w.bJ(p,n.u.U));p=w.bJ(p,n.u.J);R7I=6;break;case 1:R7I=!this.tb.Oo()?5:12;break;case 6:var y3T="update";y3T+="B";y3T+="uffe";y3T+="rLev";y3T+="el";q={type:y3T,abuflbytes:u,vbuflbytes:p,totalabuflmsecs:q,totalvbuflmsecs:v,currentBandwidth:t};v > m.Kfb && this.tb.Mc.wg && this.tb.Mc.wg.QI(!0,this.tb.Bn.sessionId);(0,f.kb)(this.tb,q.type,q);R7I=12;break;case 2:m=this.tb.K;R7I=1;break;}}};k.prototype.PCb=function(m){var b$i,p,q,v;b$i=2;for(;b$i !== 7;){switch(b$i){case 2:b$i=!d.xa(m)?1:7;break;case 8:this.ZN=m;b$i=7;break;case 1:d.Pa(m.p2);b$i=5;break;case 5:b$i=!d.xa(this.ZN)?4:8;break;case 4:var W4t=", o";W4t+="sAll";W4t+="ocat";W4t+="o";W4t+="rDelta: ";var P$o=",";P$o+=" ";P$o+="j";P$o+="sHeapDelt";P$o+="a: ";var I1s=", f";I1s+="as";I1s+="tMall";I1s+="ocDelt";I1s+="a: ";var J6x="memoryU";J6x+="sa";J6x+="ge a";J6x+="t time";J6x+=": ";(p=m.v7a - this.ZN.v7a,q=m.Yab - this.ZN.Yab,v=m.Ahb - this.ZN.Ahb);(4194304 < p || 4194304 < v) && this.H.warn(J6x + c.default.time.fa() + I1s + p + P$o + q + W4t + v);b$i=9;break;case 9:var w2P=", s";w2P+="ystemDel";w2P+="ta: ";var X$6="me";X$6+="moryUsage at";X$6+=" time: ";d.Pa(m.p2) && d.Pa(this.ZN.p2) && (p=m.p2 - this.ZN.p2,4194304 < p && this.H.warn(X$6 + c.default.time.fa(),w2P + p));b$i=8;break;}}};k.prototype.SDb=function(){var g_T,m;g_T=2;for(;g_T !== 3;){switch(g_T){case 2:var Q6E="st";Q6E+="reaming";Q6E+="st";Q6E+="a";Q6E+="t";this.tb.K.E5b && c.default.memory.mYb(this.PCb.bind(this));m={type:Q6E,time:c.default.time.fa(),playbackTime:this.tb.X.fg()};this.tb.bi.PUb(m);(0,f.kb)(this.tb,m.type,m);g_T=3;break;}}};s$e=31;break;case 9:k.prototype.HDb=function(m,p,q,v){var N_B;N_B=2;for(;N_B !== 5;){switch(N_B){case 2:var I05="maxPo";I05+="sit";I05+="i";I05+="o";I05+="n";m={type:I05,index:m,endPts:p,maxPts:q,maxSeekPts:v};(0,f.kb)(this.tb,m.type,m);N_B=5;break;}}};k.prototype.QDb=function(m,p,q,v,t,w,u){var b3o;b3o=2;for(;b3o !== 3;){switch(b3o){case 2:var n45="notifyStr";n45+="eaming";n45+="Er";n45+="r";n45+="or: ";var y4W="e";y4W+="r";y4W+="r";y4W+="o";y4W+="r";void 0 === u && (u=!1);m={type:y4W,error:m,errormsg:p,networkErrorCode:q,httpCode:v,nativeCode:t,manifestIndex:w,temporaryFailure:u};this.H.error(n45 + JSON.stringify(m));(0,f.kb)(this.tb,m.type,m);b3o=3;break;}}};k.prototype.v7=function(m,p){var P8K;P8K=2;for(;P8K !== 5;){switch(P8K){case 2:var q9r="se";q9r+="gmentStarti";q9r+="ng";p={type:q9r,segmentId:m.id,contentOffset:p,maxBitrates:{audio:m.P.ku[n.u.U],video:m.P.ku[n.u.J]}};m.qG || (0,f.kb)(this.tb,p.type,p);P8K=5;break;}}};k.prototype.hoa=function(m){var z7x,p;z7x=2;for(;z7x !== 5;){switch(z7x){case 2:var d57="s";d57+="eg";d57+="mentAb";d57+="orted";p={type:d57,segmentId:m.id};m.qG || (0,f.kb)(this.tb,p.type,p);z7x=5;break;}}};s$e=14;break;case 27:k.prototype.RDb=function(m,p,q,v,t){var f01;f01=2;for(;f01 !== 4;){switch(f01){case 2:var k$$="up";k$$+="dateS";k$$+="tream";k$$+="i";k$$+="ngPts";p={type:k$$,mediaType:m,manifestIndex:p,trackIndex:q,movieTime:Math.floor(v),segmentId:t};l.tn.Hq(m);(0,f.kb)(this.tb,p.type,p);f01=4;break;}}};k.prototype.yDb=function(m){var H32;H32=2;for(;H32 !== 5;){switch(H32){case 2:var K7Q="fi";K7Q+="rstRequestA";K7Q+="ppende";K7Q+="d";m={type:K7Q,manifestIndex:m.Xa.Ya.P.Ub,mediatype:m.mediaType,time:c.default.time.fa()};(0,f.kb)(this.tb,m.type,m);H32=5;break;}}};k.prototype.CDb=function(m,p){var s6f;s6f=2;for(;s6f !== 5;){switch(s6f){case 2:var C0u="initialAu";C0u+="di";C0u+="oTrac";C0u+="k";m={type:C0u,trackId:p,trackIndex:m};(0,f.kb)(this.tb,m.type,m);s6f=5;break;}}};s$e=24;break;case 14:k.prototype.eCb=function(m,p){var x$z,q,v;x$z=2;for(;x$z !== 12;){switch(x$z){case 2:(q={segment:m,srcsegment:p.Ega,srcoffset:p.AS,seamlessRequested:p.Se,atRequest:{},discard:{}},v=p.Pe[m]);v?q.atRequest={weight:v.weight,abuflmsec:v.Dt.st,vbuflmsec:v.Dt.Op,abuflbytes:v.Dt.rE,vbuflbytes:v.Dt.Wu}:(v=this.tb.bb.S$a(p.Ega,m),void 0 !== v && (q.atRequest.weight=v));d.tg(p.Pe,function(t,w){var e9L;e9L=2;for(;e9L !== 1;){switch(e9L){case 2:w != m && (q.discard[w]={weight:t.weight,abuflmsec:t.Dt.st,vbuflmsec:t.Dt.Op,abuflbytes:t.Dt.rE,vbuflbytes:t.Dt.Wu});e9L=1;break;}}});x$z=4;break;case 4:var J9c="s";J9c+="ea";J9c+="mle";J9c+="ss";var T23="r";T23+="e";T23+="set";var L5S="s";L5S+="ki";L5S+="p";var T4t="l";T4t+="o";T4t+="n";T4t+="g";var o1X="l";o1X+="o";o1X+="n";o1X+="g";var T2W="seamle";T2W+="s";T2W+="s";v=p.Se?p.vZ?T2W:o1X:p.pgb?T4t:p.uo?L5S:T23;q.transitionType=v;p.Qsa || (q.delayToTransition=p.n$);v=J9c === v?0:c.default.time.fa() - p.startTime;q.durationOfTransition=v;x$z=6;break;case 6:q.atTransition=p.lpb;q.srcsegmentduration=this.tb.bb.$Zb(p.Ega);x$z=13;break;case 13:return q;break;}}};k.prototype.NDb=function(m,p,q){var b9S;b9S=2;for(;b9S !== 4;){switch(b9S){case 2:var O7B="se";O7B+="gment";O7B+="Pr";O7B+="es";O7B+="enting";q=q?this.eCb(m.id,q):void 0;m={type:O7B,segmentId:m.id,contentOffset:p,metrics:q,playlistSegment:m.qG,manifestIndex:m.P.Ub};(0,f.kb)(this.tb,m.type,m);b9S=4;break;}}};k.prototype.LDb=function(m,p){var a6t;a6t=2;for(;a6t !== 5;){switch(a6t){case 2:var A27="se";A27+="gmentA";A27+="ppende";A27+="d";p={type:A27,segmentId:m.id,metrics:p};m.qG || (0,f.kb)(this.tb,p.type,p);a6t=5;break;}}};k.prototype.MDb=function(m,p,q){var G4U;G4U=2;for(;G4U !== 5;){switch(G4U){case 2:var S17="seg";S17+="m";S17+="entC";S17+="o";S17+="mplete";m={type:S17,mediaType:m,manifestIndex:p,segmentId:q.id};(0,f.kb)(this.tb,m.type,m);G4U=5;break;}}};k.prototype.goa=function(m,p){var c80;c80=2;for(;c80 !== 5;){switch(c80){case 2:var c3c="l";c3c+="astS";c3c+="e";c3c+="gmentPt";c3c+="s";p={type:c3c,segmentId:m.id,pts:Math.floor(p)};m.qG || (0,f.kb)(this.tb,p.type,p);c80=5;break;}}};k.prototype.FDb=function(m,p,q,v,t){var I8c;I8c=2;for(;I8c !== 5;){switch(I8c){case 2:var d$u="manif";d$u+="es";d$u+="tR";d$u+="an";d$u+="ge";m={type:d$u,index:m,manifestOffset:p,startPts:Math.floor(q),endPts:Math.floor(v),maxPts:Math.floor(t)};(0,f.kb)(this.tb,m.type,m);I8c=5;break;}}};k.prototype.yZa=function(m){var L3D;L3D=2;for(;L3D !== 5;){switch(L3D){case 2:var J8z="ma";J8z+="xB";J8z+="itra";J8z+="tes";m={type:J8z,audio:m[n.u.U],video:m[n.u.J]};(0,f.kb)(this.tb,m.type,m);L3D=5;break;}}};s$e=18;break;case 31:k.prototype.vZa=function(){var D0A,m;D0A=2;for(;D0A !== 4;){switch(D0A){case 1:var I2L="a";I2L+="ser";I2L+="e";I2L+="p";I2L+="ort";m={type:I2L};this.tb.hn.NUb(m) && (0,f.kb)(this.tb,m.type,m);D0A=4;break;case 2:D0A=this.tb.hn?1:4;break;}}};k.prototype.rDb=function(){var e2N,m;e2N=2;for(;e2N !== 5;){switch(e2N){case 2:var s_l="a";s_l+="serep";s_l+="ortenable";s_l+="d";m={type:s_l};(0,f.kb)(this.tb,m.type,m);e2N=5;break;}}};k.prototype.BDb=function(m){var u50=R7xOY;var n9s,M,H,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L;n9s=2;for(;n9s !== 6;){switch(n9s){case 3:p.report=m;n9s=9;break;case 8:for(var I in m){if((q=m[I],void 0 !== q.mnb))for(v in q.mnb){if((B=q.mnb[v],void 0 !== B.Qga)){var m9q=" ";m9q+="a";m9q+="n";m9q+="d";m9q+=" ";var j$9="expe";j$9+="ct sol.strmsel.l";j$9+="ength =";j$9+="== sol.fragsel.length but got ";var i40="e";i40+="xpect";i40+=" report.fragmentsPrebuffered !== undefined";var O_Q="ex";O_Q+="pect report.fr";O_Q+="agme";O_Q+="ntsPrebuffered !==";O_Q+=" undefined";(t=void 0 !== q.q8a) || (console.error(O_Q),(0,g.assert)(t,i40));M=[];for(H in q.q8a){t=q.q8a[H];M.push({ha:t.ha,po:t.duration / 1E3,quality:t.gb});}t=B.Qga.length === B.r8a.length;w=j$9 + B.Qga.length + m9q + B.r8a.length;t || (console.error(w),(0,g.assert)(t,w));M=[];t=0;for(var J in B.Qga){u=B.Qga[J];w=B.r8a[J];u50.e_n(6);t=u=u50.p3p(u,t);M.push({wyc:u,czc:B.s6a[J],$uc:B.Za[J],Cqa:B.Cqa[J],Bqa:B.Bqa[J],a2a:B.a2a[J],puc:{ha:w.ha,po:w.duration / 1E3,quality:w.gb?w.gb:B.Rc[u].gb,Fyc:w.Fg,quc:w.Je},akb:0,Uxc:0,UBa:B.UBa[J]});}B=[];M=0;for(var N in q.eD.trace){t=q.eD.trace[N];u50.h1T(6);M=t=u50.f4w(t,M);B.push(t);}}}}n9s=7;break;case 2:n9s=m?1:6;break;case 7:(0,f.kb)(this.tb,p.type,p);n9s=6;break;case 9:n9s=this.tb.pz?8:7;break;case 1:var T5Q="hi";T5Q+="n";T5Q+="dsigh";T5Q+="treport";(p={type:T5Q},q=this.tb.K.Fba);for(M in q){var z0D="hvm";z0D+="a";z0D+="fdp";var C4S="hv";C4S+="maf";C4S+="g";C4S+="r";var m_u="hv";m_u+="m";m_u+="af";m_u+="t";m_u+="b";var W_j="h";W_j+="t";W_j+="wbr";v=q[M];t=0;w=0;u=0;y=0;x=0;z=0;B=void 0;A=void 0;C=!1;D=-1;E=-1;G=-1;F=-1;K=-1;O=-1;for(L in m){A=m[L];void 0 === A.nd && (B=(B=A.sols) && B[v]) && (C=!0,u+=B.dlvdur,t+=B.dltwbr * B.dlvdur,w+=B.dlvmaf * B.dlvdur);z+=A.pbdur;y+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;B=A.rr;A=A.ra;}0 < z && (D=1 * y / z,F=1 * x / z);C && (0 < u && (E=1 * t / u,K=1 * w / u),0 < u + z && (G=1 * (t + y) / (u + z),O=1 * (w + x) / (u + z)));switch(v){case W_j:p.htwbr=G;p.hptwbr=E;p.pbtwbr=D;B && (p.rr=B,p.ra=A);break;case m_u:p.hvmaftb=O;p.hpvmaftb=K;p.pbvmaftb=F;B && (p.rrvmaftb=B,p.ravmaftb=A);break;case C4S:p.hvmafgr=O;p.hpvmafgr=K;p.pbvmafgr=F;B && (p.rrvmafgr=B,p.ravmafgr=A);break;case z0D:(p.hvmafdp=O,p.hpvmafdp=K,p.pbvmafdp=F,B && (p.rrvmafdp=B,p.ravmafdp=A));}}n9s=4;break;case 4:n9s=this.tb.fY || this.tb.pz?3:9;break;}}};k.prototype.xDb=function(m){var R2w;R2w=2;for(;R2w !== 5;){switch(R2w){case 2:var l$W="e";l$W+="nd";l$W+="OfStream";m={type:l$W,mediaType:m};(0,f.kb)(this.tb,m.type,m);R2w=5;break;}}};s$e=44;break;case 2:k.prototype.Dn=function(m){var J3f;J3f=2;for(;J3f !== 5;){switch(J3f){case 2:var r4B="sta";r4B+="rt";r4B+="Event";m={type:r4B,event:m,time:c.default.time.fa()};(0,f.kb)(this.tb,m.type,m);J3f=5;break;}}};k.prototype.JDb=function(){var h3E,m;h3E=2;for(;h3E !== 5;){switch(h3E){case 2:var G5H="o";G5H+="p";G5H+="enCo";G5H+="mpl";G5H+="ete";m={type:G5H};(0,f.kb)(this.tb,m.type,m);h3E=5;break;}}};k.prototype.KDb=function(m,p,q,v,t){var t1G;t1G=2;for(;t1G !== 1;){switch(t1G){case 2:var l$A="pt";l$A+="sS";l$A+="tarts";this.tb.K.IRb || (m={type:l$A,manifestIndex:m,mediaType:p,movieId:v,streamId:q,ptsStarts:t.Anb()},(0,f.kb)(this.tb,m.type,m));t1G=1;break;}}};k.prototype.ADb=function(m,p){var V1K;V1K=2;for(;V1K !== 5;){switch(V1K){case 1:(0,f.kb)(this.tb,m.type,m);V1K=5;break;case 2:var W8t="headerC";W8t+="ache";W8t+="Hit";m={type:W8t,movieId:m,streamId:p};V1K=1;break;}}};k.prototype.zDb=function(m,p,q,v,t){var t74,w;t74=2;for(;t74 !== 3;){switch(t74){case 2:var T2C="heade";T2C+="rCac";T2C+="heDataHit";w=this.tb.GYa;this.tb.GYa=void 0;m={type:T2C,movieId:m,audio:p,audioFromMediaCache:v,video:q,videoFromMediaCache:t,actualStartPts:w && w.qq,headerCount:w && w.mQ,stats:w && w.ic};(0,f.kb)(this.tb,m.type,m);t74=3;break;}}};s$e=9;break;case 44:k.prototype.Ap=function(m){var B0Z;B0Z=2;for(;B0Z !== 1;){switch(B0Z){case 2:var e7n="aseexc";e7n+="e";e7n+="pti";e7n+="on";var g79="a";g79+="s";g79+="eex";g79+="ception";this.tb.emit(g79,{type:e7n,msg:m});B0Z=1;break;}}};k.prototype.C8b=function(m,p,q,v){var s8G;s8G=2;for(;s8G !== 5;){switch(s8G){case 2:var I9X="maxvideobitra";I9X+="tech";I9X+="anged";var J8n="maxvideobit";J8n+="rat";J8n+="echa";J8n+="nged";m={type:J8n,time:c.default.time.fa(),spts:v,maxvb_old:m,maxvb:p,reason:q};this.tb.emit(I9X,m);s8G=5;break;}}};k.prototype.Tgb=function(){var k8n,m;k8n=2;for(;k8n !== 3;){switch(k8n){case 1:var i80="st";i80+="re";i80+="amer";i80+="end";this.AFb=!0;m={type:i80,time:c.default.time.fa()};(0,f.kb)(this.tb,m.type,m);k8n=3;break;case 2:k8n=!this.AFb && this.tb.K.Qgb?1:3;break;}}};k.prototype.J8b=function(m){var R_s;R_s=2;for(;R_s !== 5;){switch(R_s){case 2:var C1c="stre";C1c+="amSelection";C1c+="AugmentDat";C1c+="a";m={type:C1c,augmentData:m,fragmentIndex:m[0].Wd};(0,f.kb)(this.tb,m.type,m);R_s=5;break;}}};s$e=40;break;case 18:k.prototype.GDb=function(m,p){var Z_I,q;Z_I=2;for(;Z_I !== 3;){switch(Z_I){case 2:var P_c="notifyManif";P_c+="estSe";P_c+="lected: ";var t$l="mani";t$l+="fest";t$l+="Se";t$l+="lected";q=this.tb.K;m={type:t$l,index:m,replace:p.P.$f.replace,ptsStarts:p.PR,streamingOffset:p.ca + p.Sy};q.mj && (p=P_c + JSON.stringify(m),q.mj && this.io(p));(0,f.kb)(this.tb,m.type,m);Z_I=3;break;}}};k.prototype.EDb=function(m,p,q,v,t){var x7y;x7y=2;for(;x7y !== 4;){switch(x7y){case 2:var h$1="manifestPr";h$1+="es";h$1+="en";h$1+="ti";h$1+="ng";m={type:h$1,index:m.Ub,pts:Math.floor(p),movieId:m.L,replace:m.$f.replace,contentOffset:q};x7y=1;break;case 1:null != v && null != t && (m.previousMovieId=v,m.previousIndex=t);(0,f.kb)(this.tb,m.type,m);x7y=4;break;}}};k.prototype.ODb=function(m,p,q,v){var G1Y,t;G1Y=2;for(;G1Y !== 3;){switch(G1Y){case 4:(0,f.kb)(this.tb,m.type,m);G1Y=3;break;case 2:var E5Z="strea";E5Z+="m";E5Z+="Presentin";E5Z+="g";t=m.mediaType;l.tn.Hq(t);m={type:E5Z,startPts:Math.floor(p),contentStartPts:Math.floor(q),mediaType:t,manifestIndex:v,trackIndex:m.track.VA,streamIndex:m.Fg};G1Y=4;break;}}};k.prototype.TDb=function(m){var U1T;U1T=2;for(;U1T !== 5;){switch(U1T){case 2:var F$7="vid";F$7+="eo";F$7+="Loo";F$7+="ped";m={type:F$7,offset:m};(0,f.kb)(this.tb,m.type,m);U1T=5;break;}}};s$e=27;break;case 24:k.prototype.tDb=function(m,p){var Y7S;Y7S=2;for(;Y7S !== 3;){switch(Y7S){case 2:var X41="aud";X41+="ioTrackSwitch";X41+="St";X41+="ar";X41+="ted";m=m.Xm;p=p.Xm;p={type:X41,oldLangCode:m.language,oldNumChannels:m.channels,newLangCode:p.language,newNumChannels:p.channels};(0,f.kb)(this.tb,p.type,p);Y7S=3;break;}}};k.prototype.sDb=function(m,p){var m_J,q;m_J=2;for(;m_J !== 5;){switch(m_J){case 2:q=this;setTimeout(function(){var a31,v;a31=2;for(;a31 !== 5;){switch(a31){case 2:var x8p="a";x8p+="ud";x8p+="ioTrackSwitchComp";x8p+="lete";v={type:x8p,trackId:m,trackIndex:p};(0,f.kb)(q.tb,v.type,v);a31=5;break;}}},0);m_J=5;break;}}};k.prototype.wDb=function(m){var W2O,p;W2O=2;for(;W2O !== 4;){switch(W2O){case 2:var h6e="bu";h6e+="ffe";h6e+="ring";h6e+="Starte";h6e+="d";p={type:h6e,time:c.default.time.fa(),percentage:m || 0};(0,f.kb)(this.tb,p.type,p);this.Una=m || 0;W2O=4;break;}}};k.prototype.uDb=function(){var m50,m,p,q,v,t;m50=2;for(;m50 !== 3;){switch(m50){case 2:(m=this.tb.K,p=c.default.time.fa(),q=this.tb.bb.od,v=this.tb.Co?n.u.J:n.u.U,t=q.fb(v));q=q.Rh(v);m=Math.min(Math.max(Math.round(100 * (t.WF?(p - this.tb.Mma) / m.HC:t.progress?t.progress:q / m.Dk)),this.Una),99);m50=4;break;case 4:var R$Z="buff";R$Z+="e";R$Z+="ri";R$Z+="ng";m != this.Una && (p={type:R$Z,time:p,percentage:m},(0,f.kb)(this.tb,p.type,p),this.Una=m);m50=3;break;}}};s$e=35;break;case 40:k.prototype.io=function(m){var W8g;W8g=2;for(;W8g !== 5;){switch(W8g){case 2:var B0O=",";B0O+=" ";var b91="ma";b91+="nagerdebugev";b91+="ent";m={type:b91,message:"@" + c.default.time.fa() + B0O + m};(0,f.kb)(this.tb,m.type,m);W8g=5;break;}}};return k;break;}}function k(m,p){var V6H;V6H=2;for(;V6H !== 4;){switch(V6H){case 2:this.tb=m;V6H=1;break;case 1:var w6n="1";w6n+="SI";w6n+="Yb";w6n+="ZrNJ";w6n+="Cp9";this.H=p;w6n;V6H=4;break;case 8:this.H=p;"";V6H=7;break;}}}})();b.nRa=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x;Object.defineProperties(b,{__esModule:{value:!0}});b.sNa=void 0;d=a(0);r=a(11);l=d.__importStar(a(13));a(2);a(265);h=a(160);n=a(433);c=a(92);a(432);a(440);f=a(118);g=d.__importDefault(a(29));a(437);k=a(1081);m=d.__importDefault(a(188));p=a(6);q=d.__importDefault(a(3));a(195);a(272);a(193);a(196);a(116);v=new q.default.Console("HEADERCACHE","media|asejs");a=new q.default.Console("MEDIACACHE","media|asejs");t=q.default.DM;w=v.trace.bind(v);a.trace.bind(a);u=v.warn.bind(v);y=v.error.bind(v);x=v.info.bind(v);a=(function(z){var D$I;D$I=2;for(;D$I !== 39;){switch(D$I){case 42:B.prototype.rjb=function(A){var X3u,E,C,D;X3u=2;for(;X3u !== 11;){switch(X3u){case 14:C.Lq=A.Lq;X3u=13;break;case 13:C.Mq=A.Mq;return C;break;case 9:C.ic=A.ic;C.zy=A.zy;C.$B=A.$B;C.BF=A.BF;X3u=14;break;case 5:for(D in A.data){E=A.data[D];0 < E.length && (C[E[0].mediaType]={Ta:D,header:A.headers[D],data:E});}C.qq=A.qq;C.mQ=A.mQ;X3u=9;break;case 1:X3u=A && A.data?5:11;break;case 2:C={};X3u=1;break;}}};B.prototype.zc=function(A){var Q2M;Q2M=2;for(;Q2M !== 1;){switch(Q2M){case 2:return !!A.zc;break;}}};return B;break;case 13:B.prototype.$7a=function(){function A(K){var Z6L;Z6L=2;for(;Z6L !== 1;){switch(Z6L){case 2:K.g3a();Z6L=1;break;}}}var r8m,D,E,G;function C(K,O){var i2S;i2S=2;for(;i2S !== 1;){switch(i2S){case 2:K && K.data && K.data[O].forEach(function(L){var k4Q;k4Q=2;for(;k4Q !== 5;){switch(k4Q){case 1:D+=L.bytesReceived;k4Q=5;break;case 3:L.abort();k4Q=5;break;case 2:L.abort();k4Q=1;break;}}});i2S=1;break;}}}r8m=2;for(;r8m !== 4;){switch(r8m){case 2:D=0;for(E in this.sd){G=this.sd[E];if(G.data){for(var F in G.data){var j_8="in ";j_8+="e";j_8+="n";j_8+="tr";j_8+="y:";var o40="mis";o40+="si";o40+="ng headerEntry fo";o40+="r streamId:";G.headers[F] || y(o40,F,j_8,G);C(G,F);G.data[F].forEach(A);delete G.data[F];}delete G.data;}}this.REb(D);r8m=4;break;}}};B.prototype.AC=function(A){var p_7,C;p_7=2;for(;p_7 !== 5;){switch(p_7){case 2:C=this.sd[A.L];C && (this.zc(A)?l.xa(C.ic.U0b) && !l.xa(A.loadTime) && (C.ic.U0b=A.loadTime):l.xa(C.ic.Vib) && !l.xa(A.loadTime) && (C.ic.Vib=A.loadTime));p_7=5;break;}}};B.prototype.rl=function(A){var c_V;c_V=2;for(;c_V !== 1;){switch(c_V){case 2:this.zc(A)?this.d$b(A):this.e$b(A);c_V=1;break;}}};D$I=10;break;case 10:B.prototype.v0=function(A){var O4j;O4j=2;for(;O4j !== 5;){switch(O4j){case 2:var J$m="_on";J$m+="Erro";J$m+="r: ";u(J$m,A.toString());this.D6(A);O4j=5;break;}}};B.prototype.d$b=function(A){var p_e,C;p_e=2;for(;p_e !== 9;){switch(p_e){case 2:C=this;A.jkc=A.xg;this.tAb(A);p_e=4;break;case 4:l.xa(A.P0b) || A.P0b(A.jkc);this.VEb(A,function(){var i6F;i6F=2;for(;i6F !== 1;){switch(i6F){case 2:l.xa(A) || (l.xa(A.ho) || A.ho.Wab--,C.D6(A));i6F=1;break;}}});p_e=9;break;}}};B.prototype.e$b=function(A){var f_8,C,D,E,G;f_8=2;for(;f_8 !== 8;){switch(f_8){case 5:var v1U="m";v1U+="an";v1U+="a";v1U+="gerdebugevent";var s8W=", ";s8W+="r";s8W+="ema";s8W+="ining: ";var e_0=", pts";e_0+=":";e_0+=" ";var q9E=", stre";q9E+="amId";q9E+=":";q9E+=" ";var L6x=", heade";L6x+="rCac";L6x+="he dataComplete: movieId: ";f_8=(this.hq.mj && (D="@" + q.default.time.fa() + L6x + D + q9E + A.Ta + e_0 + A.ca + s8W + (E.FX - 1),this.emit(v1U,{message:D})),A.Zi && 0 === A.responseType && this.Xk && !this.oI)?4:9;break;case 1:f_8=E?5:8;break;case 2:(C=this,D=A.L,E=this.sd[D] || A.ho);f_8=1;break;case 9:(--E.FX,C.D6(A));f_8=8;break;case 4:G=q.default.time.now();this.Xk.Cfc(A,E,function(F){var v4P;v4P=2;for(;v4P !== 4;){switch(v4P){case 2:F || l.xa(E) || (F=q.default.time.fa() - G,l.xa(E.ic) && (E.ic={}),l.xa(E.ic.Pu) && (E.ic.Pu=0),E.ic.Pu+=F);--E.FX;C.D6(A);v4P=4;break;}}});f_8=8;break;}}};B.prototype.SXa=function(){var T_G;T_G=2;for(;T_G !== 1;){switch(T_G){case 2:0 === this.Yx.length && (this.Yx=[f.Fo.instance.Kt(p.u.U,void 0,!1,!1,this.Bn,this.hq),f.Fo.instance.Kt(p.u.J,void 0,!1,!1,this.Bn,this.hq)],this.Yx.forEach(function(A){var u7H;u7H=2;for(;u7H !== 1;){switch(u7H){case 2:return A.oa();break;}}}),t.Xf());T_G=1;break;}}};B.prototype.XXa=function(){var u7P,A;u7P=2;for(;u7P !== 4;){switch(u7P){case 2:A=this.Yx;this.Yx=[];A.forEach(function(C){var s4z;s4z=2;for(;s4z !== 1;){switch(s4z){case 4:f.Fo.instance.uJ(C);s4z=6;break;case 2:f.Fo.instance.uJ(C);s4z=1;break;}}});u7P=4;break;}}};B.prototype.RCb=function(){var X8P,A;X8P=2;for(;X8P !== 5;){switch(X8P){case 2:A=this;!this.Q6 && 0 < this.KN.length && (this.KN.forEach(function(C){var C_q;C_q=2;for(;C_q !== 1;){switch(C_q){case 2:A.zoa(C.S0b,C.Ce);C_q=1;break;}}}),this.KN=[]);X8P=5;break;}}};B.prototype.QXa=function(A,C){var q4T,D;q4T=2;for(;q4T !== 8;){switch(q4T){case 2:D=A.stream.mediaType;2 > this.Yx.length && this.SXa();C=new n.qia(A.stream,C,this.Yx[D],A,this,!0,v);C.Zi=A.Zi;C.wg=this;return C;break;}}};D$I=27;break;case 7:B.prototype.w_=function(A,C){var N6y;N6y=2;for(;N6y !== 4;){switch(N6y){case 5:return C;break;case 1:N6y=(C=A.headers[C])?5:4;break;case 9:N6y=(A=this.sd[A])?2:5;break;case 2:N6y=(A=this.sd[A])?1:4;break;}}};B.prototype.O5b=function(A,C){var X4V,D,E;X4V=2;for(;X4V !== 5;){switch(X4V){case 2:(D=this,E=this.N5b(A));return E || !this.Xk?Promise.resolve(E):(this.oI?this.MCb(A,C):this.LCb(A,C)).then(function(G){var X7h;X7h=2;for(;X7h !== 1;){switch(X7h){case 2:return D.rjb(G);break;}}});break;}}};B.prototype.N5b=function(A){var A0S;A0S=2;for(;A0S !== 1;){switch(A0S){case 4:return this.rjb(this.sd[A]);break;case 2:return this.rjb(this.sd[A]);break;}}};D$I=13;break;case 27:B.prototype.dBb=function(A,C){var k$w,D;k$w=2;for(;k$w !== 8;){switch(k$w){case 2:D=A.stream.mediaType;2 > this.Yx.length && this.SXa();C=h.wM.create(A.stream,C,this.Yx[D].track,A,this,!0,v);C.Zi=A.Zi;C.wg=this;return C;break;}}};B.prototype.D6=function(A){var Z$D,C;Z$D=2;for(;Z$D !== 9;){switch(Z$D){case 2:this.zc(A) && delete this.d7[A.Ta];this.zc(A) || delete A.response;A.wd();C=this.sd[A.L] || A.ho;Z$D=3;break;case 3:var N2v="sa";N2v+="vet";N2v+="od";N2v+="is";N2v+="k";C && 0 === C.Wab && 0 === C.FX && (this.jFb(C,A.xg),C.Zi && this.Xk && (C.ic.Xwc || (this.oI?this.Xk.Efc(C):this.Xk.pS(N2v,{Blb:C.ic.Pu}))));Z$D=9;break;}}};D$I=25;break;case 32:B.prototype.OEb=function(A){var E_X;E_X=2;for(;E_X !== 5;){switch(E_X){case 2:var R15="cache";R15+="Ev";R15+="ict";A={type:R15,movieId:A};this.emit(A.type,A);E_X=5;break;}}};B.prototype.VEb=function(A,C){var d2Q,D;d2Q=2;for(;d2Q !== 3;){switch(d2Q){case 2:D=A.te;l.xa(A.Eec) || this.zoa(A,A.Eec);!this.Xk || !A.Zi || this.oI || l.xa(A.M_) || A.M_[A.Ta] && A.M_[A.Ta].header?C():this.Xk.Dfc(A,C);d2Q=4;break;case 4:D.iHa || 0 !== Object.keys(this.d7).length || this.XXa();d2Q=3;break;}}};B.prototype.jFb=function(A,C){var G13;G13=2;for(;G13 !== 4;){switch(G13){case 2:var d2h="prebuffsta";d2h+="t";d2h+="s";A.ic.obc=C;A={type:d2h,movieId:A.L,stats:{prebuffstarted:A.ic.Vib,prebuffcomplete:A.ic.obc}};this.emit(A.type,A);G13=4;break;}}};B.prototype.MCb=function(A,C){var b7n,D;b7n=2;for(;b7n !== 5;){switch(b7n){case 2:var I35="Media c";I35+="ache is not e";I35+="nabled";D=this;return this.Xk?this.Xk.r5b(A,C).then(function(E){var u2e;u2e=2;for(;u2e !== 5;){switch(u2e){case 3:u2e=E || E.ho?8:3;break;case 1:return (D.sd[A]=E.ho,++D.aI,D.Rma(),D.Mg.push(E.ho),D.Mg.sort(D.hjb),D.zXa(A,E),D.cache[A]);break;case 2:u2e=E && E.ho?1:5;break;}}}):Promise.reject(I35);break;}}};B.prototype.LCb=function(A,C){var N7U,D,E,G;N7U=2;for(;N7U !== 8;){switch(N7U){case 1:N7U=this.Xk?5:9;break;case 3:return E.then(function(F){var u8g;u8g=2;for(;u8g !== 1;){switch(u8g){case 2:return !l.xa(F) && D.Xk?D.Xk.p5b(A,C,F).then(function(K){var z9_;z9_=2;for(;z9_ !== 5;){switch(z9_){case 2:K && (G || (D.sd[A]=F,++D.aI,D.Rma(),D.Mg.push(F),D.Mg.sort(D.hjb)),D.zXa(A,K));return D.sd[A];break;}}}):Promise.resolve(void 0);break;}}});break;case 9:var E0K="Med";E0K+="ia cache ";E0K+="is not enable";E0K+="d";return Promise.reject(E0K);break;case 2:D=this;N7U=1;break;case 5:(E=void 0,G=!1);this.Xk.ycb(this.sd[A])?(E=Promise.resolve(this.sd[A]),G=!0):E=this.Xk.t5b(A);N7U=3;break;}}};B.prototype.zXa=function(A,C){var c8L,D,E,G,F;c8L=2;for(;c8L !== 7;){switch(c8L){case 2:D=this;c8L=1;break;case 1:c8L=C?5:7;break;case 5:(E=this.sd[A],G=C.headers);E && G && Object.keys(G).forEach(function(K){var q2P;q2P=2;for(;q2P !== 1;){switch(q2P){case 2:D.sAb(G[K],E);q2P=1;break;}}});c8L=3;break;case 3:c8L=C.data?9:7;break;case 9:F=C.data;Object.keys(F).forEach(function(K){var a8m,O,L;a8m=2;for(;a8m !== 9;){switch(a8m){case 3:O.forEach(function(I){var p2U;p2U=2;for(;p2U !== 1;){switch(p2U){case 2:L[K].push(I);p2U=1;break;}}});a8m=9;break;case 2:O=F[K];l.xa(E.data) && (E.data={});l.xa(E.data[K]) && (E.data[K]=[]);L=E.data;a8m=3;break;}}});c8L=7;break;}}};B.prototype.hjb=function(A,C){var b8i;b8i=2;for(;b8i !== 1;){switch(b8i){case 4:return C.priority / A.priority;break;case 2:return C.priority - A.priority;break;}}};D$I=42;break;case 25:B.prototype.ZCb=function(A,C,D){var C$Q,E,G;C$Q=2;for(;C$Q !== 8;){switch(C$Q){case 2:E=A.h$;C.Zi && this.Xk && (A.sfb?E=A.sfb:A.afb && 0 < A.afb && (E=2E3 * A.afb));C$Q=5;break;case 5:C$Q=0 < E?4:3;break;case 4:return function(F,K){var d9s=R7xOY;var x0t;x0t=2;for(;x0t !== 1;){switch(x0t){case 2:d9s.h1T(24);return d9s.f4w(K,E);break;case 4:d9s.h1T(5);return d9s.f4w(K,E);break;}}};break;case 3:G=D && D.length < A.q5a?D.length:A.q5a;return function(F){var J1g;J1g=2;for(;J1g !== 1;){switch(J1g){case 2:R7xOY.e_n(24);return R7xOY.f4w(F,G);break;}}};break;}}};B.prototype.zoa=function(A,C){var M8j,D,E,G,F,I,K,O,L,H,J,M;M8j=2;for(;M8j !== 53;){switch(M8j){case 2:(D=A.L,E=A.Ta,G=A.stream,F=A.te);M8j=1;break;case 1:M8j=this.Q6?5:9;break;case 12:C=K.qq;M8j=11;break;case 3:this.KN.shift();M8j=4;break;case 6:M8j=void 0 === K.qq?14:12;break;case 8:M8j=K?7:53;break;case 54:K.Ssa && !l.xa(K.qq) && (A=K.Ssa,delete K.Ssa,this.zoa(A,K.qq));M8j=53;break;case 5:this.KN.push({S0b:A,Ce:C});M8j=4;break;case 37:I=void 0;M8j=36;break;case 17:M8j=!l.xa(I)?16:25;break;case 13:return;break;case 42:var I_x="unde";I_x+="fi";I_x+="n";I_x+="e";I_x+="d";l.xa(K.qq) && (K.qq=I.ca);I.Zi && (I.responseType=0);A.Zi && this.Xk && A.M_ && A.M_[E] && I_x !== typeof I.ca && A.M_[E][I.ca] || (H=this.dBb(I,A.te),H.Zi && (H.ho=A.ho),H.$K(),++K.FX,C.push(H));++M;G+=I.duration;M8j=37;break;case 34:F=H === g.default.ee.J?F.F7b:F.w7b;M8j=33;break;case 18:I=A.stream.Zl(L);M8j=17;break;case 4:M8j=this.KN.length > F.O0b?3:53;break;case 36:++L;M8j=33;break;case 25:void 0 === K.data && (K.data={});void 0 === K.data[E] && (K.data[E]=[]);M8j=23;break;case 31:I.Zi=A.Zi;M8j=30;break;case 29:R7xOY.h1T(6);H=R7xOY.f4w(1,L);M8j=28;break;case 43:++H;M8j=28;break;case 20:M8j=-1 === L || void 0 === L?19:18;break;case 9:K=this.sd[D] || A.ho;M8j=8;break;case 11:A.mediaType === g.default.ee.U && F.Km && !F.RI && G.Jf && (C=Math.max(G.ma && G.ma.Dl(0) || 0,C + G.Jf.Z));(O=A.stream.ma,L=O && O.np(C));M8j=20;break;case 14:K.Ssa=A;M8j=13;break;case 23:C=K.data[E];D=this.ZCb(F,A,O);M=G=0;(H=I && I.mediaType,J=H === g.default.ee.J?F.Dda:F.uda);M8j=34;break;case 33:M8j=L < (O && O.length || 0) && !D(M,G)?32:54;break;case 44:(I.y8(O.get(H)),I.jR=H + 1,L=H);M8j=43;break;case 16:I.Zi=A.Zi;M=I.tua(C);M && (I.mediaType === g.default.ee.U && !F.O_ && M.Ce < (F.Km && !F.RI && G.Jf?Math.floor(G.Jf.Z):0) && (++M.uj,M.Ce+=I.da.Z),0 < M.uj && I.vj({start:M.uj}));M8j=26;break;case 28:M8j=H < O.length && (I.ha < J || I.duration < F)?44:42;break;case 26:var f5K="managerde";f5K+="bugev";f5K+="ent";var P7u=", ";P7u+="star";P7u+="tP";P7u+="ts: ";var s8O=",";s8O+=" p";s8O+="t";s8O+="s:";s8O+=" ";var o_E=",";o_E+=" st";o_E+="reamId";o_E+=":";o_E+=" ";var G1K=", headerCache req";G1K+="uestData:";G1K+=" movieId: ";F.mj && (C="@" + q.default.time.fa() + G1K + D + o_E + E + s8O + C + P7u + I.ca,this.emit(f5K,{message:C}));M8j=25;break;case 30:M8j=!l.xa(O) && !I.La?29:42;break;case 19:var E3l="no ";E3l+="proper fr";E3l+="agment found to req";E3l+="uest data at pts";y(E3l,C);M8j=53;break;case 32:M8j=(void 0 === I && (I=A.stream.Zl(L)),void 0 !== I)?31:36;break;case 7:M8j=A.mediaType === g.default.ee.U?6:11;break;}}};D$I=23;break;case 2:d.__extends(B,z);Object.defineProperties(B.prototype,{cache:{get:function(){var I88;I88=2;for(;I88 !== 1;){switch(I88){case 2:return this.sd;break;}}},enumerable:!1,configurable:!0}});B.prototype.uRb=function(){var w7y;w7y=2;for(;w7y !== 5;){switch(w7y){case 2:this.flush();this.XXa();w7y=5;break;}}};B.prototype.vha=function(A){var o54;o54=2;for(;o54 !== 5;){switch(o54){case 2:this.Bn=A;this.Yx.forEach(function(){});o54=5;break;}}};B.prototype.QI=function(A,C,D){var F3m,E,G;F3m=2;for(;F3m !== 9;){switch(F3m){case 5:for(var F in E){E.hasOwnProperty(F) && !1 === E[F] && (G=!1);}F3m=4;break;case 6:F3m=(E[C]=A)?3:8;break;case 4:D && delete E[C];G?(this.Q6=!1,this.RCb()):this.Q6=!0;F3m=9;break;case 2:(E=this.yI,G=A);F3m=1;break;case 1:F3m=(E[C]=A)?5:4;break;}}};B.prototype.flush=function(){var W8f,C;W8f=2;for(;W8f !== 8;){switch(W8f){case 2:this.$7a();for(var A in this.d7){C=this.d7[A];C.abort();}this.sd=Object.create(null);this.aI=0;W8f=3;break;case 3:var j$w="managerdeb";j$w+="uge";j$w+="v";j$w+="ent";var N4r=", head";N4r+="erCac";N4r+="h";N4r+="e flush: ";this.Mg=[];this.hq.mj && (C="@" + q.default.time.fa() + N4r,this.emit(j$w,{message:C}));W8f=8;break;}}};B.prototype.list=function(){var R6R;R6R=2;for(;R6R !== 1;){switch(R6R){case 2:return this.Mg;break;}}};D$I=7;break;case 23:B.prototype.tAb=function(A){var H3l;H3l=2;for(;H3l !== 1;){switch(H3l){case 4:this.yXa(A,A.ho);H3l=0;break;case 2:this.yXa(A,A.ho);H3l=1;break;}}};B.prototype.sAb=function(A,C){var N6I;N6I=2;for(;N6I !== 1;){switch(N6I){case 2:this.yXa(A,C);N6I=1;break;}}};B.prototype.yXa=function(A,C){var h4l,D;h4l=2;for(;h4l !== 4;){switch(h4l){case 5:(C.vHb || C.Zi && !this.oI || (C.vHb=!0,++this.aI),C.headers || (C.headers={}),C.headers[D]=A,this.hq.tTb && (C.mQ || (C.mQ=0),++C.mQ),this.Rma());h4l=4;break;case 1:h4l=(C=this.sd[A.L] || C)?5:4;break;case 2:D=A.Ta;h4l=1;break;}}};B.prototype.Rma=function(){function A(F){var P4_;P4_=2;for(;P4_ !== 5;){switch(P4_){case 2:F.abort();D+=F.bytesReceived;P4_=5;break;}}}var s6x,E,C,D;s6x=2;for(;s6x !== 12;){switch(s6x){case 8:for(var G in C.data){C.data[G].forEach(A);delete C.data[G];}s6x=7;break;case 1:s6x=!(this.aI <= this.eZa)?5:12;break;case 7:delete this.sd[E];--this.aI;s6x=14;break;case 4:s6x=(C=this.Mg.shift())?3:5;break;case 9:s6x=C.data?8:7;break;case 5:s6x=this.aI > this.eZa?4:13;break;case 14:this.OEb(E);s6x=5;break;case 3:E=C.L;s6x=9;break;case 2:D=0;s6x=1;break;case 13:this.PEb(D);s6x=12;break;}}};B.prototype.PEb=function(A){var S$M;S$M=2;for(;S$M !== 1;){switch(S$M){case 2:var z8o="di";z8o+="s";z8o+="cardedByte";z8o+="s";0 !== A && (A={type:z8o,bytes:A},this.emit(A.type,A));S$M=1;break;}}};B.prototype.REb=function(A){var Y_j;Y_j=2;for(;Y_j !== 1;){switch(Y_j){case 2:var X4E="f";X4E+="lush";X4E+="edB";X4E+="ytes";0 !== A && (A={type:X4E,bytes:A},this.emit(A.type,A));Y_j=1;break;}}};D$I=32;break;}}function B(A,C,D,E){var q2s;q2s=2;for(;q2s !== 25;){switch(q2s){case 10:A.KN=[];A.yI={};A.Voa=(A.hq.lHa || A.hq.mHa) && 0 < (A.hq.SX || (q.default.options || ({})).$Q || 0);A.oI=A.hq.iAa;A.Xk=void 0;A.Voa && (A.hq.SX || (C=(q.default.options || ({})).$Q || 0,A.hq.set?A.hq.set({SX:C}):A.hq.SX=(q.default.options || ({})).$Q || 0),A.Xk=new k.pQa(A.hq,q.default,A),A.Xk.oa(A,E).then(function(){var o5h;o5h=2;for(;o5h !== 1;){switch(o5h){case 2:var R0k="Media ";R0k+="cac";R0k+="he init";R0k+="ialized";w(R0k);o5h=1;break;case 4:w("");o5h=6;break;}}}).catch(function(G){var O2T;O2T=2;for(;O2T !== 1;){switch(O2T){case 2:var h2Y="Medi";h2Y+="a cache ";h2Y+="did ";h2Y+="not initialize";y(h2Y,G);O2T=1;break;}}}));A.Bn=D;q2s=27;break;case 11:A.Q6=!1;q2s=10;break;case 6:A.aI=0;A.Mg=[];A.eZa=C.i$;A.Yx=[];q2s=11;break;case 3:A.ntc=x;A.d7=Object.create(null);A.hq=C;A.sd=Object.create(null);q2s=6;break;case 2:A=z.call(this) || this;A.ik=w;A.Ll=y;A.bc=u;q2s=3;break;case 27:var w18="1S";w18+="IYb";w18+="Zr";w18+="N";w18+="JCp9";w18;return A;break;}}}})(c.jx);b.sNa=a;(0,m.default)(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pQa=void 0;d=a(0);l=a(11);h=d.__importStar(a(1082));n=d.__importStar(a(13));a(2);c=a(160);f=a(8);r=a(35);g=d.__importStar(a(1093));k=g.MPa;a=(function(){var n63;n63=2;for(;n63 !== 18;){switch(n63){case 2:m.prototype.oa=function(p,q){var U8C,v;U8C=2;for(;U8C !== 4;){switch(U8C){case 2:var Y1D="Med";Y1D+="ia cac";Y1D+="he is ";Y1D+="disabled";v=this;this.Voa?this.xv=new Promise(function(t,w){var e7k;e7k=2;for(;e7k !== 1;){switch(e7k){case 2:(void 0 !== q && null !== q?q.uQ:function(u){var q1U;q1U=2;for(;q1U !== 1;){switch(q1U){case 2:return h.uQ(v.jq,v.K,u);break;}}})(function(u){var W5z,y;W5z=2;for(;W5z !== 4;){switch(W5z){case 2:var b$G="M";b$G+="e";b$G+="dia cache did not init";b$G+="ializ";b$G+="e";v.fq=u;y=u.ow;(u=u.oK)?w(u):y?(v.ohc(p),t()):w(Error(b$G));W5z=4;break;}}});e7k=1;break;}}}):(this.xv=Promise.reject(Y1D),this.xv.catch(function(){}));return this.xv;break;}}};m.prototype.t5b=function(p){var n6O,q,v,t;n6O=2;for(;n6O !== 5;){switch(n6O){case 2:(q=this,v=[k.RPa,p].join("."),t=this.jq.time.fa());return this.xv.then(function(){var f27;f27=2;for(;f27 !== 1;){switch(f27){case 2:return new Promise(function(w){var F27;F27=2;for(;F27 !== 1;){switch(F27){case 2:q.fq.$0(k.Xs,v,function(u){var i$h,y;i$h=2;for(;i$h !== 3;){switch(i$h){case 5:y=u[0];q.fq.read(k.Xs,y,function(x,z){var K3L,A,j$c,B;K3L=2;for(;K3L !== 14;){switch(K3L){case 2:var u1l=" f";u1l+="ai";u1l+="led";var e6E="Reading m";e6E+="ov";e6E+="ie";e6E+=" entry ";x && q.H.warn(e6E + y + u1l,x);K3L=1;break;case 1:K3L=!n.xa(z)?5:9;break;case 9:n.xa(B) || (A=g.Vva(B));n.xa(A) || n.yb(A) || (A.ic=A.ic || ({}),A.headers=A.headers || ({}));q.ycb(A)?w(A):(q.eFb(p),w(void 0));K3L=14;break;case 5:K3L=z instanceof ArrayBuffer?4:3;break;case 3:B={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};K3L=9;break;case 4:try{j$c=2;for(;j$c !== 1;){switch(j$c){case 2:B=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));j$c=1;break;}}}catch(C){}K3L=9;break;}}});i$h=3;break;case 2:i$h=!u || 0 >= u.length?1:5;break;case 8:i$h=-u && 5 > u.length?6:7;break;case 1:var z4H="media";z4H+="cachelo";z4H+="o";z4H+="k";z4H+="up";(w(void 0),q.pS(z4H,{Uca:q.jq.time.fa() - t,Y9:!1}));i$h=3;break;}}});F27=1;break;}}});break;}}});break;}}};m.prototype.p5b=function(p,q,v){var G_5,w,t;G_5=2;for(;G_5 !== 9;){switch(G_5){case 4:w=this.jq.time.fa();return this.xv.then(function(){var c2r;c2r=2;for(;c2r !== 1;){switch(c2r){case 2:return new Promise(function(u){var y9Q;y9Q=2;for(;y9Q !== 1;){switch(y9Q){case 2:t.fq.$0(k.Xs,p,function(y){var W7r;W7r=2;for(;W7r !== 5;){switch(W7r){case 2:y=y.reduce(function(x,z){var W5k,B;W5k=2;for(;W5k !== 9;){switch(W5k){case 5:return x;break;case 2:B=z.substr(0,z.lastIndexOf("."));W5k=1;break;case 1:var M33="drmHeader.__em";M33+="bed_";M33+="_";W5k=-1 !== B.indexOf(M33)?5:4;break;case 14:return x;break;case 4:x[B]?x[B].push(z):x[B]=[z];return x;break;case 6:W5k=+8 === B.indexOf("")?7:3;break;}}},{});W7r=1;break;case 1:t.Kcc(y,q).then(function(x){var X$X,z,B;X$X=2;for(;X$X !== 8;){switch(X$X){case 5:var r2T="No ";r2T+="con";r2T+="tent data found for ";(z=t.jq.time.fa() - w,B=!1);n.xa(x) || n.xa(x.data) || !n.vk(x.data)?t.H.trace(r2T + p,v):B=!0;X$X=3;break;case 1:return u(void 0);break;case 3:var G4N="medi";G4N+="aca";G4N+="cheloo";G4N+="kup";t.pS(G4N,{Uca:z,Y9:B});u(x);X$X=8;break;case 2:X$X=void 0 === v || void 0 === x?1:5;break;}}},function(){var O0l;O0l=2;for(;O0l !== 1;){switch(O0l){case 2:u(void 0);O0l=1;break;case 4:u(+5);O0l=4;break;}}});W7r=5;break;}}});y9Q=1;break;}}});break;}}});break;case 7:t=this;G_5=2;break;case 6:G_5=-this.xv?6:8;break;case 2:t=this;G_5=1;break;case 5:var A_0="Med";A_0+="ia c";A_0+="ache is not enable";A_0+="d";return Promise.reject(A_0);break;case 1:G_5=!this.xv?5:4;break;}}};n63=4;break;case 12:m.prototype.HEb=function(p,q,v){var L_0,t;L_0=2;for(;L_0 !== 5;){switch(L_0){case 2:t=this;return new Promise(function(w,u){var y9k,y;y9k=2;for(;y9k !== 5;){switch(y9k){case 2:t.fq.read(k.Xs,p,function(x,z){var q_v,S2Z,P,w6O,S,U,X,V,t8e,s11,C0x,J,N,e0W,R0q,k9B,B,A,C,D,G,E,E8f,F,K,O,L,I,M,R13,u0A,N1m;q_v=2;for(;q_v !== 4;){switch(q_v){case 1:q_v=x?5:3;break;case 6:x=g.Vva(E.movieEntry);z=[];q_v=13;break;case 10:q_v=E.data?20:17;break;case 18:try{S2Z=2;for(;S2Z !== 8;){switch(S2Z){case 9:N=J.next();S2Z=1;break;case 5:O=N.value;P=Object.keys(H[O]);try{w6O=2;for(;w6O !== 7;){switch(w6O){case 4:w6O=g.dya(U)?3:9;break;case 5:(S=H[O][V.value],U=g.$ua(S,S));w6O=4;break;case 3:var R7$="Missing";R7$+=" or invalid m";R7$+="edia";R7$+=" data parts";R7$+=" for stream ";return (I=R7$ + U.Ta,u(I));break;case 1:w6O=!V.done?5:7;break;case 2:(X=(C=void 0,d.__values(P)),V=X.next());w6O=1;break;case 9:z.push(U);w6O=8;break;case 8:V=X.next();w6O=1;break;}}}catch(qa){C={error:qa};}finally{t8e=2;for(;t8e !== 1;){switch(t8e){case 2:try{s11=2;for(;s11 !== 1;){switch(s11){case 2:V && !V.done && (D=X.return) && D.call(X);s11=1;break;}}}finally{C0x=2;for(;C0x !== 5;){switch(C0x){case 1:throw C.error;C0x=5;break;case 2:C0x=C?1:5;break;case 9:throw C.error;C0x=3;break;}}}t8e=1;break;}}}S2Z=9;break;case 1:S2Z=!N.done?5:8;break;case 2:(J=d.__values(B),N=J.next());S2Z=1;break;}}}catch(qa){var ha;ha={error:qa};}finally{e0W=2;for(;e0W !== 1;){switch(e0W){case 2:try{R0q=2;for(;R0q !== 1;){switch(R0q){case 2:N && !N.done && (A=J.return) && A.call(J);R0q=1;break;}}}finally{k9B=2;for(;k9B !== 5;){switch(k9B){case 3:k9B=ha?8:9;break;case 2:k9B=ha?1:5;break;case 1:throw ha.error;k9B=5;break;}}}e0W=1;break;}}}q_v=17;break;case 2:q_v=1;break;case 7:q_v=E.movieEntry?6:15;break;case 15:var h4Q="medi";h4Q+="a";h4Q+="cac";h4Q+="he";h4Q+="lookup";t.pS(h4Q,{Uca:t.jq.time.fa() - v,Y9:!0});w(y);q_v=4;break;case 12:G=Object.keys(E.headers);q_v=11;break;case 17:y=g.Wva(t.K,t.H,t.pe,z,q);q_v=16;break;case 20:H=E.data;B=Object.keys(H);q_v=18;break;case 16:void 0 !== y && (y.ho=x);q_v=15;break;case 8:E=z[p];q_v=7;break;case 5:u(x);q_v=4;break;case 11:try{E8f=2;for(;E8f !== 12;){switch(E8f){case 2:(F=d.__values(G),K=F.next());E8f=1;break;case 13:K=F.next();E8f=1;break;case 6:var G$r="Missing";G$r+=" or i";G$r+="nvalid header data parts for stre";G$r+="am ";return (I=G$r + M.Ta,u(I));break;case 1:E8f=!K.done?5:12;break;case 5:(O=K.value,L=E.headers[O]);E8f=4;break;case 14:z.push(M);E8f=13;break;case 9:return u(I);break;case 7:E8f=g.eya(M)?6:14;break;case 4:E8f=L.fragments instanceof ArrayBuffer?3:8;break;case 3:var z70="Header fragm";z70+="ents was an";z70+=" array buffer,";z70+=" is invalid type ";I=z70 + L.streamId;E8f=9;break;case 8:M=g.ava(L,L,L.fragments);E8f=7;break;}}}catch(qa){var H;H={error:qa};}finally{R13=2;for(;R13 !== 1;){switch(R13){case 2:try{u0A=2;for(;u0A !== 1;){switch(u0A){case 2:K && !K.done && (B=F.return) && B.call(F);u0A=1;break;}}}finally{N1m=2;for(;N1m !== 5;){switch(N1m){case 2:N1m=H?1:5;break;case 1:throw H.error;N1m=5;break;}}}R13=1;break;}}}q_v=10;break;case 9:w(void 0);q_v=4;break;case 13:q_v=E.headers?12:10;break;case 3:q_v=n.xa(z)?9:8;break;}}});y9k=5;break;}}});break;}}};m.prototype.DCb=function(p){var k4r,q;k4r=2;for(;k4r !== 5;){switch(k4r){case 2:q=this;k4r=1;break;case 3:q=this;k4r=4;break;case 1:var e1k="Media";e1k+=" cache is n";e1k+="o";e1k+="t enabled";return this.xv?this.xv.then(function(){var O7M;O7M=2;for(;O7M !== 1;){switch(O7M){case 2:return new Promise(function(v){var n7w;n7w=2;for(;n7w !== 1;){switch(n7w){case 2:q.fq.$0(k.Xs,p.toString(),function(t){var g8l;g8l=2;for(;g8l !== 1;){switch(g8l){case 2:t && 0 !== t.length?1 === t.length && t[0] === p.toString()?v(!0):v(!1):v(!1);g8l=1;break;}}});n7w=1;break;}}});break;}}}):Promise.reject(e1k);break;}}};m.prototype.eFb=function(p){function q(u){var s9F;s9F=2;for(;s9F !== 1;){switch(s9F){case 2:t.fq.delete(k.Xs,u);s9F=1;break;}}}var s73,t,w;s73=2;function v(u){var V8B;V8B=2;for(;V8B !== 1;){switch(V8B){case 2:u.map(q);V8B=1;break;}}}for(;s73 !== 4;){switch(s73){case 2:(t=this,w=p.toString());this.fq.$0(k.Xs,[k.RPa,p].join("."),v);this.fq.$0(k.Xs,w,v);s73=4;break;}}};m.prototype.ohc=function(p){var b5h,q;b5h=2;for(;b5h !== 4;){switch(b5h){case 2:var k2M="m";k2M+="edia";k2M+="cache-erro";k2M+="r";var Z2I="m";Z2I+="ed";Z2I+="iacac";Z2I+="he";q=new l.kf();q.on(this.fq,Z2I,function(v){var U3Y;U3Y=2;for(;U3Y !== 4;){switch(U3Y){case 2:U3Y=v.keys || v.items?1:5;break;case 1:v.keys || v.items.map(function(t){var h7M;h7M=2;for(;h7M !== 1;){switch(h7M){case 4:return t.key;break;case 2:return t.key;break;}}});U3Y=5;break;case 5:var A1W="m";A1W+="e";A1W+="diacache";p.emit(A1W,v);U3Y=4;break;}}});q.on(this.fq,k2M,function(v){var r$p;r$p=2;for(;r$p !== 5;){switch(r$p){case 2:var T$m="med";T$m+="ia";T$m+="cac";T$m+="he";var J$4="err";J$4+="o";J$4+="r";v.type=J$4;p.emit(T$m,v);r$p=5;break;}}});b5h=4;break;}}};n63=19;break;case 19:return m;break;case 4:m.prototype.r5b=function(p,q){var Y_Z,v,t;Y_Z=2;for(;Y_Z !== 5;){switch(Y_Z){case 2:(v=this,t=this.jq.time.fa());return this.xv.then(function(){var R1x;R1x=2;for(;R1x !== 1;){switch(R1x){case 2:return v.DCb(p);break;}}}).then(function(w){var K5w;K5w=2;for(;K5w !== 5;){switch(K5w){case 2:K5w=w?1:4;break;case 9:K5w=w?9:1;break;case 4:var n1j="me";n1j+="diacach";n1j+="elookup";v.pS(n1j,{Uca:v.jq.time.fa() - t,Y9:!1});K5w=5;break;case 1:return v.HEb(p.toString(),q,t);break;}}});break;}}};m.prototype.Dfc=function(p,q){var h1L,v,t,w,u,y,x;h1L=2;for(;h1L !== 13;){switch(h1L){case 6:y[t + "." + k.rvb]={Ls:x.Ne.buffer,jd:k.BH};h1L=14;break;case 4:h1L=p.stream.ve && !n.xa(p.stream.ma)?3:14;break;case 8:y[t + "." + k.vMa]={Ls:u,jd:k.BH};y[t + "." + k.svb]={Ls:x.sizes.buffer,jd:k.BH};h1L=6;break;case 1:y[t + "." + k.zka]={Ls:u,jd:k.BH};y[t + "." + k.bwb]={Ls:(0,f.tB)(p.kh.map(function(z){var a_j;a_j=2;for(;a_j !== 1;){switch(a_j){case 2:return z.data;break;}}})),jd:k.BH};h1L=4;break;case 2:(v=this,t=[p.L,p.Ta,k.Bvb].join("."),w=this.jq.time.fa(),u=g.M9a(p),y={});h1L=1;break;case 14:this.fq.Alb(k.Xs,y,function(z){var l4E;l4E=2;for(;l4E !== 5;){switch(l4E){case 2:z || (z=v.jq.time.fa() - w,p.ho && (n.xa(p.ho.ic.Pu) && (p.ho.ic.Pu=0),p.ho.ic.Pu+=z));q();l4E=5;break;}}});h1L=13;break;case 3:u={timescale:p.stream.ma.V,startTicks:p.stream.ma.vo,offset:p.stream.ma.Ui(0)};x=p.stream.ma.ar;h1L=8;break;}}};m.prototype.Cfc=function(p,q,v){var a6A,u,y,x,t,w;a6A=2;for(;a6A !== 14;){switch(a6A){case 6:var b9d="Unable to save fragment beca";b9d+="use respo";b9d+="nse is not an ArrayBuffer";v(Error(b9d));a6A=14;break;case 5:(u=this.jq.time.fa(),y=[p.L,p.Ta,p.ue].join("."));p=g.Rva(p);x={};x[y + "." + k.zka]={Ls:p,jd:k.BH};n.xa(w) || (x[y + "." + k.Xwb]={Ls:w,jd:k.BH});this.fq.Alb(k.Xs,x,function(z){var I4B;I4B=2;for(;I4B !== 5;){switch(I4B){case 2:var Q9o="Failed to";Q9o+=" ";Q9o+="s";Q9o+="ave";Q9o+=" fragment";z?t.H.warn(Q9o,z):(z=t.jq.time.fa() - u,n.xa(q.ic.Pu) && (q.ic.Pu=0),q.ic.Pu+=z);v();I4B=5;break;}}});a6A=14;break;case 2:(t=this,w=p.response);a6A=1;break;case 1:a6A=w instanceof ArrayBuffer?5:6;break;}}};m.prototype.Efc=function(p){var f5G,B,A,q,v,t,w,u,y,x,z,Z9D,C,D,V2o,O,F,K,L,S74,Z8g,L9X,E,G,D$O,L$N,b_j;f5G=2;for(;f5G !== 20;){switch(f5G){case 7:x={};(B=p.data,A=Object.keys(p.data));f5G=14;break;case 13:y.data=x;f5G=12;break;case 2:(w=this,u=this.jq.time.fa(),y={},x=g.p$a(p));y.movieEntry=x;f5G=5;break;case 4:z={};Object.keys(p.headers).forEach(function(M){var y3I,H;y3I=2;for(;y3I !== 5;){switch(y3I){case 2:H=g.J9a(p.headers[M]);z[M]=H;y3I=5;break;}}});f5G=9;break;case 14:try{Z9D=2;for(;Z9D !== 6;){switch(Z9D){case 3:Z9D=G?9:7;break;case 2:(C=d.__values(A),D=C.next());Z9D=1;break;case 9:try{V2o=2;for(;V2o !== 7;){switch(V2o){case 8:K=F.next();V2o=1;break;case 5:O=K.value;V2o=4;break;case 4:V2o=O instanceof c.wM && O.response instanceof ArrayBuffer && !n.xa(O.ue)?3:8;break;case 9:A[O.ue]={mediaType:L.mediaType,streamId:L.streamId,movieId:L.movieId,bitrate:L.bitrate,location:L.location,serverId:L.serverId,saveToDisk:L.saveToDisk,offset:L.offset,bytes:L.bytes,timescale:L.timescale,startTicks:L.startTicks,durationTicks:L.durationTicks,response:O.response};V2o=8;break;case 1:V2o=!K.done?5:7;break;case 2:(F=(v=void 0,d.__values(G)),K=F.next());V2o=1;break;case 3:L=g.Rva(O);V2o=9;break;}}}catch(M){v={error:M};}finally{S74=2;for(;S74 !== 1;){switch(S74){case 2:try{Z8g=2;for(;Z8g !== 1;){switch(Z8g){case 2:K && !K.done && (t=F.return) && t.call(F);Z8g=1;break;}}}finally{L9X=2;for(;L9X !== 5;){switch(L9X){case 1:throw v.error;L9X=5;break;case 2:L9X=v?1:5;break;case 9:throw v.error;L9X=8;break;}}}S74=1;break;}}}Z9D=8;break;case 1:Z9D=!D.done?5:6;break;case 5:(E=D.value,G=B[E]);A={};Z9D=3;break;case 8:x[E]=A;Z9D=7;break;case 7:D=C.next();Z9D=1;break;}}}catch(M){var I;I={error:M};}finally{D$O=2;for(;D$O !== 1;){switch(D$O){case 2:try{L$N=2;for(;L$N !== 1;){switch(L$N){case 2:D && !D.done && (q=C.return) && q.call(C);L$N=1;break;}}}finally{b_j=2;for(;b_j !== 5;){switch(b_j){case 1:throw I.error;b_j=5;break;case 2:b_j=I?1:5;break;case 9:throw I.error;b_j=4;break;}}}D$O=1;break;}}}f5G=13;break;case 9:y.headers=z;f5G=8;break;case 12:I={lifespan:259200};this.YCb && (I.convertToBinaryData=!0);this.fq.save(k.Xs,p.L,y,I,function(M){var a2B;a2B=2;for(;a2B !== 1;){switch(a2B){case 2:var g4E="s";g4E+="av";g4E+="etodis";g4E+="k";M || w.pS(g4E,{Blb:w.jq.time.fa() - u});a2B=1;break;}}});f5G=20;break;case 5:f5G=p.headers?4:8;break;case 8:f5G=p && p.data?7:12;break;}}};n63=7;break;case 7:m.prototype.ycb=function(p){var C0K;C0K=2;for(;C0K !== 1;){switch(C0K){case 2:return !(n.xa(p) || n.yb(p) || n.xa(p.ic) || n.yb(p.ic) || n.xa(p.L) || n.yb(p.L) || n.xa(p.priority) || n.yb(p.priority));break;}}};m.prototype.pS=function(p,q){var O0y,v;O0y=2;for(;O0y !== 9;){switch(O0y){case 3:var K07="me";K07+="dia";K07+="cac";K07+="he";this.BBb && this.emit(K07,v);O0y=9;break;case 2:var u1e="medi";u1e+="a";u1e+="cachelookup";var I2R="savet";I2R+="od";I2R+="isk";var J4o="me";J4o+="diacachest";J4o+="at";J4o+="s";v={type:J4o,operation:p};I2R === p && (v.saveTime=q.Blb);u1e === p && (v.lookupTime=q.Uca,v.dataFound=q.Y9);v.oneObject=this.oI;O0y=3;break;}}};m.prototype.Kcc=function(p,q){var I7B,v,t;I7B=2;for(;I7B !== 5;){switch(I7B){case 2:(v=this,t=Object.keys(p).map(function(w){var K9W;K9W=2;for(;K9W !== 1;){switch(K9W){case 2:return v.SOb(p[w]);break;}}}));return Promise.all(t).then(function(w){var v2A;v2A=2;for(;v2A !== 5;){switch(v2A){case 2:w.sort(function(u,y){var S_H;S_H=2;for(;S_H !== 1;){switch(S_H){case 2:return u.zc === y.zc?0:u.zc?-1:1;break;}}});return g.Wva(v.K,v.H,v.pe,w,q);break;}}});break;}}};m.prototype.SOb=function(p){var z5d,q,v,t,w;z5d=2;for(;z5d !== 5;){switch(z5d){case 2:(q=this,w={});return new Promise(function(u,y){var I6u,x;I6u=2;for(;I6u !== 5;){switch(I6u){case 2:q.fq.lfa(k.Xs,p,function(z,B){var o2h,A5E,A;o2h=2;for(;o2h !== 1;){switch(o2h){case 2:try{A5E=2;for(;A5E !== 19;){switch(A5E){case 6:A5E=x.zc?14:11;break;case 2:A5E=z || void 0 === B?1:5;break;case 1:return y(z);break;case 3:A5E=v instanceof ArrayBuffer?9:7;break;case 8:return y(A);break;case 9:var u3K="Header";u3K+=" fragments was an a";u3K+="rr";u3K+="ay buffer";u3K+=", is invalid type ";A=u3K + x.Ta;A5E=8;break;case 10:var s6d="Missing or inval";s6d+="id media ";s6d+="data parts for stream ";return (A=s6d + x.Ta,y(A));break;case 11:A5E=g.dya(x)?10:12;break;case 5:Object.keys(B).map(function(C){var d4l,V1X,E,D;d4l=2;for(;d4l !== 3;){switch(d4l){case 5:try{V1X=2;for(;V1X !== 5;){switch(V1X){case 2:E=new Uint8Array(B[C]);t=JSON.parse(String.fromCharCode.apply(null,E));V1X=5;break;}}}catch(G){t=B[C];}d4l=3;break;case 4:D === k.vMa?v=B[C]:w[D]=B[C];d4l=3;break;case 7:d4l=D != k.zka?3:7;break;case 1:d4l=D === k.zka?5:4;break;case 2:D=C.substr(C.lastIndexOf(".") + 1);d4l=1;break;}}});A5E=4;break;case 13:var f_G="Mi";f_G+="ssing or invalid header data parts for s";f_G+="tream";f_G+=" ";return (A=f_G + x.Ta,y(A));break;case 4:A5E=g.scb(t)?3:20;break;case 14:A5E=g.eya(x)?13:12;break;case 7:x=g.ava(t,w,v);A5E=6;break;case 20:x=g.$ua(t,{response:w.response});A5E=6;break;case 12:u(x);A5E=19;break;}}}catch(C){y(C);}o2h=1;break;}}});I6u=5;break;}}});break;}}};n63=12;break;}}function m(p,q,v){var M7w;M7w=2;for(;M7w !== 12;){switch(M7w){case 2:var T3I="me";T3I+="d";T3I+="i";T3I+="a|asejs";var X3y="MED";X3y+="I";X3y+="ACACHE";this.H=new q.Console(X3y,T3I);this.Voa=(p.lHa || p.mHa) && 0 < (p.SX || (q.options || ({})).$Q || 0);this.BBb=p.gTb?p.gTb:!1;this.oI=p.iAa?p.iAa:!1;M7w=3;break;case 3:this.YCb=p.rfb?p.rfb:!1;this.K=p;this.jq=q;this.pe=v;M7w=6;break;case 6:var E6M="1";E6M+="SI";E6M+="YbZrNJCp9";var k0Q="Media ";k0Q+="cache has ";k0Q+="not been ini";k0Q+="tiaized";this.xv=Promise.reject(k0Q);this.xv.catch(function(){});E6M;M7w=12;break;}}}})();b.pQa=a;(0,r.hf)(l.EventEmitter,a);},function(r,b,a){var d,l,h,n,c;d=a(13);h=[];c=!1;r.exports={uQ:function(f,g,k){var m;if(c)d.qd(k) && (l.ow || l.oK?setTimeout(function(){k(l);},0):h.push(k));else {c=!0;m=a(135);m.FZ(f);n=new m.Console("MEDIACACHE","media|asejs");l=new (a(457))(g,function(p){p && n.warn("Failed to initialize MediaCache",p);d.qd(k) && setTimeout(function(){k(l);},0);h.map(function(q){setTimeout(function(){q(l);},0);});});}return l;},Bvc:function(f,g){l=new (a(457))(f,function(k,m){k && n.warn("Failed to initialize MediaCache",k);d.qd(g) && setTimeout(function(){g(m);},0);});}};},function(r,b,a){var l,h,n,c,f;function d(g){this.ft=g;this.context=g.context;this.Kgb="NULLCONTEXT" === g.context?!0:!1;}l=a(13);h=a(135);n=new h.Console("DISKCACHE","media|asejs");c={context:"NULLCONTEXT",read:function(g,k,m,p,q){q("MediaCache is not supported");},remove:function(g,k,m){m("MediaCache is not supported");},create:function(g,k,m,p){p("MediaCache is not supported");},append:function(g,k,m,p){p("MediaCache is not supported");},query:function(g,k,m){m([]);}};d.prototype.GI=function(){var g,k,m;g=Array.prototype.slice.call(arguments);k=g[0];m=g[g.length - 1];g=g.slice(1,g.length - 1);g.push(function(p){m(null,p);});try{if(this.Kgb)throw Error("Media Cache not supported");k.apply(this.ft,g);}catch(p){m(p);}};d.prototype.query=function(g,k,m,p){try{if(this.Kgb)throw Error("Media Cache not supported");this.ft.query(g,k,function(q){m(null,q);},p);}catch(q){m(q);}};d.prototype.read=function(g,k,m,p,q){this.GI(this.ft.read,g,k,m,p,q);};d.prototype.remove=function(g,k,m){this.GI(this.ft.remove,g,k,m);};d.prototype.create=function(g,k,m,p){this.GI(this.ft.create,g,k,m,p);};d.prototype.append=function(g,k,m,p){this.GI(this.ft.append,g,k,m,p);};d.prototype.info=function(g){this.GI(this.ft.info,g);};d.prototype.validate=function(g){this.GI(this.ft.validate,g);};d.prototype.flush=function(g){this.GI(this.ft.flush,g);};d.prototype.clear=function(){this.ft.clear();};r.exports={VOb:function(g){var k,m,p,q,v;k=g.Suc || "NRDMEDIADISKCACHE";f=g.SX || 0;0 !== f || l.xa(h.options) || l.xa(h.options.$Q) || (f=h.options.$Q);g=f;try{p=h.storage.ORb;if(!p || !l.vk(p))throw (n.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(m=p[k]){n.warn("Disk store exists, returning");q=new d(m);}else {if(l.xa(h.storage) || !l.qd(h.storage.k4a) || h.options && 0 === h.options.$Q)throw (n.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");n.warn("Disk store context doesn't exist, creating with size " + g);v=h.storage.k4a({context:k,size:g,encrypted:!0,signed:!0});if(!v || !v.valid)throw "Failed to create disk store context";q=new d(v);}}catch(t){n.warn("Exception creating disk store context - returning NullContext (noops)",t);q=new d(c);}return q;},MXb:function(){return f;},xpc:d};},function(r,b,a){var f,g,k,m,p,q,v,t,w;function d(){}function l(u,y,x,z,B){var A;A=f.qd(z)?z:d;this.Tx=u;this.dh=x.Et;this.TA=0;this.HBb=x.cUb || "NONE";this.BA=f.xa(B) || f.yb(B)?0:B;this.nf={};this.rv=x.Wwc || g.storage.DU;this.Ox=y;this.uO=p.create(this.Ox,x.cQb * this.BA,this.Tx);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.kb=w.kb;this.CYa=n(this,l.jf.REPLACE);this.lCb=n(this,l.jf.kXa);this.xI;this.xI=x.xqb?a(1089):a(1090);this.Ox.query(this.rv,this.ws(""),(function(C,D){var E;if(C)A(C);else {E=this.uO.Jva();C=Object.keys(D).filter(function(G){return G !== E && q.zQ(G);}).map(this.IGa.bind(this));this.lfa(C,(function(G,F){Object.keys(F).map((function(K){var O,L;O=F[K];this.nf[q.U$(K)]=O;if(O.YDa && 1 < Object.keys(O.YDa).length){L=0;Object.keys(O.YDa).forEach((function(I){D[this.ws(I)] && f.Pa(D[this.ws(I)].size) && (L+=D[this.ws(I)].size);}).bind(this));K=q.U$(K);this.nf[K].size=L;}else (K=q.U$(K),D[this.ws(K)] && (this.nf[K].size=D[this.ws(K)].size));}).bind(this));h(this.Ox,this.rv,this.Tx,(function(K,O){this.TA=O;K?A(K):A(null,this);}).bind(this));}).bind(this));}}).bind(this));}function h(u,y,x,z){var B;B=f.qd(z)?z:d;u.query(y,x,function(A,C){A?B(A):(A=Object.keys(C).reduce(function(D,E){return D + (C[E].size || 0);},0),B(null,A));});}function n(u,y){return function(x,z,B,A,C){return function(D,E){var G;if(D)(z || u.kb(l.jf.mg,{itemKey:x,error:D}),B(D));else {G={Sl:0,duration:0,items:[],time:g.time.now()};Object.keys(E.actions).map(function(F){var K;K=E.actions[F];F={key:u.IGa(K.wca),fm:F};K.ja?(G.Sl+=K.Sl,F.uca=K.Sl,f.Pa(K.duration) && (G.duration+=K.duration)):F.error=K.error;G.items.push(F);});D=f.qd(A)?A():0;0 < C && (G.gP=C - D);h(u.Ox,u.rv,u.Tx,function(F,K){F?B(F):(u.TA=K,G.op=u.dh - K,z || u.kb(y,t.g9a(G)),B(null,G));});}};};}function c(u,y){return 0 < y && u >= y?!0:!1;}f=a(13);g=a(135);k=a(275);b=a(94);m=new g.Console("MEDIACACHE","media|asejs");p=a(1085);q=a(458);v=a(136);t=a(276);w=a(459).EventEmitter;b({jf:{kXa:"writeitem",REPLACE:"replaceitem",$ja:"journalupdate",mg:"mediacache-error"}},l);l.prototype.ZYb=function(){return this.Tx;};l.prototype.IGa=function(u){return u.slice(this.Tx.length + 1);};l.prototype.yva=function(){return Object.keys(this.nf).filter((function(u){u=q.Tua(this.nf[u]);return void 0 === u || 0 >= u.L3a();}).bind(this));};l.prototype.mZb=function(){return Object.keys(this.nf).reduce((function(u,y){var x;x=this.nf[y];return x && x.creationTime < u.creationTime?{resourceKey:y,creationTime:x.creationTime}:u;}).bind(this),{resourceKey:null,creationTime:g.time.now()}).Yxc;};l.prototype.ZXb=function(){var u;switch(this.HBb){case "FIFO":u=this.mZb();}return u;};l.prototype.dRb=function(u){var y;y=f.qd(u)?u:d;this.U9a((function(x){var z,B,A;z=this.nf;B=Object.keys(z).reduce(function(C,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(E){C.push(E);});return C;},[]);if((x=x.filter(function(C){return !q.zQ(C) && 0 > B.indexOf(C);})) && 0 < x.length){A=this;x=g.Promise.all(x.map(function(C){return new g.Promise(function(D,E){A.delete(C,function(G){G?E(G):D();});});})).then(function(){y(void 0,{qDa:!0});},function(C){y(C,{qDa:!1});});t.jz(x);}else u(void 0,{qDa:!1});}).bind(this));};l.prototype.adc=function(u,y,x){var z,B;z=f.qd(y)?y:d;y=this.ws(u);B=g.time.now();this.Ox.read(this.rv,y,0,-1,(function(A,C){var D;if(A)z(A);else if(C && C.ja && C.value){f.qd(x) || (x=this.xI.TY(v.Ys.oH),q.zQ(u)?x=this.xI.TY(v.Ys.u5):(A=this.nf[u],!f.xa(A) && f.Pa(A.resourceIndex[u])?(A=A.resourceIndex[u],f.xa(A) && (A=v.Ys.oH),x=this.xI.TY(A)):m.warn("Metadata is undefined or does not contain a resource format for key",u,":",A)));try{D=x(C.value);}catch(E){return z(k.eN.Ss(E.message));}C={duration:g.time.now() - B};this.nf[u] && f.Pa(this.nf[u].size) && (C.gB=f.Pa(this.nf[u].size)?this.nf[u].size:0);z(null,D,C);}else z(k.eN.Ss(C.error));}).bind(this));};l.prototype.read=function(u,y,x){this.adc(u,y,x);};l.prototype.lfa=function(u,y,x){var z,B,A;z=f.qd(y)?y:d;if("[object Array]" !== Object.prototype.toString.call(u))z(k.eN.Ss("item keys must be an array"));else {B={};A=[];u=g.Promise.all(u.map((function(C){return new g.Promise((function(D,E){var G;x && !f.xa(x[C]) && (G=this.xI.TY(x[C]));this.read(C,function(F,K,O){F?(K={},K[C]=F,E(K)):(B[C]=K,A.push({duration:O.duration,gB:O.gB}),D());},G);}).bind(this));}).bind(this))).then(function(){var C;C={};0 < A.length && (C=A.reduce(function(D,E){f.Pa(E.duration) && (D.duration+=E.duration);f.Pa(E.gB) && (D.gB+=E.gB);return D;},{duration:0,gB:0}));z(null,B,C);},function(C){z(C);});t.jz(u);}};l.prototype.write=function(u,y,x,z,B){var A,C,D;x=f.qd(x)?x:d;A=this.ws(u);C="function" === typeof B?B():0;D=v.Ewa(y);D=this.xI.mwa(D)(y);D.byteLength + this.TA >= this.dh?x(k.zM):c(D.byteLength + C,this.BA)?x(k.s6):this.uO.save(this.rv,A,y,this.lCb(u,z,x,B,this.BA),D.byteLength);};l.prototype.replace=function(u,y,x,z,B){var A,C,D,E;A=f.qd(x)?x:d;C=this.ws(u);D=0;"function" === typeof B && (D=B());x=v.Ewa(y);E=this.xI.mwa(x)(y);x=(this.nf[u] || ({})).size || 0;0 >= x && this.nf[u]?this.y$a([u],(function(G){m.trace("Replacing key",u,"which exists:",!!this.nf[u],this.nf[u]?this.nf[u]:void 0,"and has size",G,"with",y,"with size",E.byteLength,"plus _used",this.TA,"vs capacity",this.dh);E.byteLength - G + this.TA >= this.dh?A(k.zM):c(E.byteLength - G + D,this.BA)?A(k.s6):this.uO.replace(this.rv,C,y,this.CYa(u,z,A,B,this.BA),E.byteLength);}).bind(this)):(m.trace("Replacing key",u,"which exists:",!!this.nf[u],this.nf[u]?this.nf[u]:void 0,"and has size",x,"with",y,"with size",E.byteLength,"plus _used",this.TA,"vs capacity",this.dh),E.byteLength - x + this.TA >= this.dh?A(k.zM):c(E.byteLength - x + D,this.BA)?A(k.s6):this.uO.replace(this.rv,C,y,this.CYa(u,z,A,B,this.BA),E.byteLength));};l.prototype.mec=function(u,y,x,z){var B;B=f.qd(y)?y:d;"[object Object]" !== Object.prototype.toString.call(u)?B(k.r6.Ss("items must be a map of keys to objects")):(y=g.Promise.all(Object.keys(u).map((function(A){return new g.Promise((function(C){this.replace(A,u[A],function(D,E){D?C({error:D,Ls:A}):C(E);},!0,z);}).bind(this));}).bind(this))).then((function(A){var C,D,E,G;try{C=Number.MAX_VALUE;D=A.reduce(function(F,K){K.error || (F.Sl+=K.Sl,f.Pa(K.duration) && (F.duration+=K.duration),!f.xa(K.op) && K.op < C && (C=K.op),K.items.map(function(O){F.items.push({key:O.key,fm:O.fm,uca:O.uca,I5b:O.I5b,duration:O.duration});}),C < Number.MAX_VALUE && (F.op=C));return F;},{Sl:0,items:[],time:g.time.now(),duration:0});0 < this.BA && (D.gP=this.BA - z());E=A.filter(function(F){return !f.xa(F.error);});G=t.sab(E);x || (G?G.forEach((function(F){this.kb(l.jf.mg,F);}).bind(this)):this.kb(l.jf.REPLACE,t.g9a(D)));B(G,D);}catch(F){B(F);}}).bind(this),(function(A){x || this.kb(l.jf.mg,A);B(A);}).bind(this)),t.jz(y));};l.prototype.delete=function(u,y){var x;x=f.qd(y)?y:d;this.Ox.remove(this.rv,this.ws(u),(function(z,B){z?x(z):B && B.ja?h(this.Ox,this.rv,this.ws(""),(function(A,C){A?x(A):(this.TA=C,x());}).bind(this)):x(k.$tb.Ss(B.error));}).bind(this));};l.prototype.U9a=function(u){this.query("",function(y,x){y?(m.error("Failed to get keys",y),u([])):u(x);});};l.prototype.query=function(u,y){var x,z;x=f.qd(y)?y:d;z=this.uO.Jva();this.Ox.query(this.rv,this.ws(u),(function(B,A){B?x(B):x(null,Object.keys(A).filter(function(C){return C !== z;}).map(this.IGa.bind(this)));}).bind(this));};l.prototype.ws=function(u){return this.Tx + "." + u;};l.prototype.clear=function(u){var y;y=f.qd(u)?u:d;this.U9a((function(x){var z;z=g.Promise.all(x.map((function(B){return new g.Promise((function(A){B && this.delete(B,function(){A();});}).bind(this));}).bind(this))).then(function(){y(x);},(function(B){this.kb(l.jf.mg,B);y([],B);}).bind(this));t.jz(z);}).bind(this));};l.prototype.y$a=function(u,y){var x,z;x=f.qd(y)?y:d;z=(u || []).map((function(B){return this.ws(B);}).bind(this));this.Ox.query(this.rv,this.Tx,(function(B,A){B?(m.error("failed to get persisted size for keyset ",u,B),x(0)):(B=Object.keys(A).filter(function(C){return 0 <= z.indexOf(C);}).reduce(function(C,D){return C + (A[D].size || 0);},0),x(B));}).bind(this));};l.prototype.kXb=function(u){return this.uO.V8a(u);};l.prototype.constructor=l;r.exports=l;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v){var B,A;function t(C,D,E,G){C.info.call(C,(function(F,K){var O;if(F)G(F);else {try{O=K.values[this.context].entries[D][E].size;}catch(L){O=-1;}-1 < O?G(null,O):this.validate(function(L,I){L?G(L):(I[E] && (O=I[E].size),G(null,O));});}}).bind(C));}function w(C,D,E,G,F,K,O){var L;K?K.actions || (K.actions={}):K={actions:{}};B(G);L=h.time.now();G=new k(function(I,M){C.create(h.storage.DU,D,E,function(H,J){H?M(H):I(J);});}).then(function(I){I.ja?t(C,h.storage.DU,D,function(M,H){M?O(M):(A(H),B(H),K.actions[d.l3.$ja]={ja:!0,time:F,Sl:H,wca:D,Njb:I,duration:h.time.now() - L},K.op=I.op,O(null,K));}):(K.actions[d.l3.$ja]={ja:!1,wca:D,error:I.error},O(null,K));},function(I){O(I);});f.jz(G);}function u(C,D,E,G,F,K){G.xp(E.time,E);for(var O=E.time - 864E5,L=G.Vq();L && !isNaN(L.time) && L.time < O;){L=G.jP();B(0 - (L.ha || 0));L=G.Vq();}G=G.El().map(function(I){return I.time + ";" + I.ha;});w(C,D,Array.prototype.join.call(G,"|"),E.ha,E.time,F,K);}function y(C,D,E,G,F,K,O,L,I){var M;M=h.time.now();C.create(E,G,F,function(H,J){var N;if(H)g.error("Failed to replace item",G,H);else if(J.ja){N=J.op;t(C,E,G,function(P,X){var V,S;if(P)I(P);else {P={time:L,ha:X || 0};V={op:N,actions:{}};S=h.time.now() - M;V.actions[d.l3.REPLACE]={ja:!0,time:L,Sl:X,wca:G,Njb:J,duration:S};K?u(C,D,P,O,V,I):(B(X),I(null,V));}});}else I(n.r6.Ss(J.error || "Failed to create item"));});}function x(C,D,E,G,F,K,O,L,I){var M;M=h.time.now();C.append(E,G,F,function(H,J){var N;if(H)(g.error("Failed to save item " + G,H),I(H));else if(J.ja){N=J.op;t(C,E,G,function(P,X){var V,S;if(P)I(P);else {P={time:L,ha:X || 0};V={op:N,actions:{}};S=h.time.now() - M;V.actions[d.l3.gzb]={ja:!0,time:L,Sl:X,wca:G,Njb:J,duration:S};K?u(C,D,P,O,V,I):(B(X),I(null,V));}});}else I(n.r6.Ss(J.error || "Failed to save item"));});}function z(C,D){C && l.qd(C.remove) && C.ft.valid && C.remove(h.storage.DU,D.VN,function(E,G){if(E)g.error("Failed to delete old journal key",E);else try{G && (l.xa(G.error) || G.error.some(function(F){return "NFErr_FileNotFound" === F.mvc;})) && u(C,D.VN,{time:0,ha:0},D.eW,0,function(){});}catch(F){}});}if(!p.ft.valid)return m;this.WXa=l.xa(q) || l.yb(q)?0:q;this.fna=p;this.Sna=this.iV=0;this.eW=new c();this.lEb=v || "default";this.VN=this.lEb + ".NRDCACHEJOURNALKEY";B=(function(C){isNaN(C) || (this.iV+=C);return this.iV;}).bind(this);A=(function(C){isNaN(C) || (this.Sna+=C);return this.Sna;}).bind(this);this.Jva=function(){return this.VN;};this.save=function(C,D,E,G){var F;F=h.time.now();x(this.fna,this.VN,C,D,E,0 <= this.WXa,this.eW,F,G);};this.replace=function(C,D,E,G){var F;F=h.time.now();y(this.fna,this.VN,C,D,E,0 <= this.WXa,this.eW,F,G);};this.V8a=function(C){var D,F;D=this.iV;C-=864E5;for(var E=this.eW.El(),G=0;G < E.length;G++){F=E[G];F.time < C && !isNaN(F.ha) && (D-=F.ha);}return D;};(function(C){var D;D=C.fna;C.iV=0;D.read(h.storage.DU,C.VN,0,-1,function(E,G){var F,K,O,I;F=[];K=0;O=!0;if(E)g.error("Failed to compile records",E);else if(G.ja){E=String.fromCharCode.apply(null,new Uint8Array(G.value));E=String.prototype.split.call(E,"|");G=E.reduce(function(M,H){return M + (H.length + 40);},0);B(G);F=E.map(function(M){M=M.split(";");return {time:Number(M[0]),ha:Number(M[1])};});try{if(!isNaN(F.reduce(function(M,H){return M + H.ha;},0))){O=!1;for(var L=h.time.now() - 864E5;K < F.length;K++){I=F[K];I.time < L || (C.eW.xp(I.time,I),B(I.ha));}}}catch(M){}}O && z(D,C);});})(this);}l=a(13);h=a(135);n=a(275);c=a(1086);b=a(94);f=a(276);g=new h.Console("DISKWRITEMANAGER","media|asejs");k=h.Promise;b({l3:{gzb:"saveitem",REPLACE:"replaceitem",$ja:"journalupdate"}},d);m={save:function(p,q,v,t){t(n.NPa);},replace:function(p,q,v,t){t(n.NPa);},Jva:function(){return "";},V8a:function(){return 0;}};d.prototype.constructor=d;r.exports={create:function(p,q,v){return new d(p,q,v);},vrc:m};},function(r){function b(l){if(!(this instanceof b))return new b(l);if("undefined" === typeof l)this.Mo=function(h,n){return h <= n;};else {if("function" !== typeof l)throw Error("heap comparator must be a function");this.Mo=l;}this.Dr=[];}function a(l,h){var n,c,f,g,k,m,p;n=l.Dr;c=l.Mo;f=2 * h + 1;g=2 * h + 2;k=n[h];m=n[f];p=n[g];m && c(m.priority,k.priority) && (!p || c(m.priority,p.priority))?(d(n,h,f),a(l,f,c)):p && c(p.priority,k.priority) && (d(n,h,g),a(l,g,c));}function d(l,h,n){var c;c=l[h];l[h]=l[n];l[n]=c;}b.prototype.clear=function(){this.Dr=[];};b.prototype.xp=function(l,h){this.Dr.push({priority:l,value:h});l=this.Dr;h=this.Mo;for(var n=l.length - 1,c=0 === n?null:Math.floor((n - 1) / 2);null !== c && h(l[n].priority,l[c].priority);){d(l,n,c);n=c;c=0 === n?null:Math.floor((n - 1) / 2);}};b.prototype.remove=function(){var l;if(0 !== this.Dr.length){l=this.Dr[0];d(this.Dr,0,this.Dr.length - 1);this.Dr.pop();a(this,0);return l.value;}};b.prototype.Vq=function(){if(0 !== this.Dr.length)return this.Dr[0].value;};b.prototype.enqueue=b.prototype.xp;b.prototype.jP=b.prototype.remove;b.prototype.gca=function(){return 0 === this.Dr.length;};b.prototype.El=function(){return this.Dr.map(function(l){return l.value;});};r.exports=b;},function(r){function b(d,l){var h;if(void 0 === l || "function" !== typeof l || "string" !== typeof d)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return (this.Sd={},this.Sd[d]=[l],!0);h=this.Sd[d];return void 0 === h?(this.Sd[d]=[l],!0):0 > h.indexOf(l)?(h.push(l),!0):!1;}function a(d,l){d=this.Sd?this.Sd[d]:void 0;if(!d)return !1;d.forEach(function(h){h(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(d,l){var h;if(void 0 === l || "function" !== typeof l || "string" !== typeof d)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return !1;h=this.Sd[d];if(void 0 === h)return !1;l=h.indexOf(l);if(0 > l)return !1;if(1 === h.length)return (delete this.Sd[d],!0);h.splice(l,1);return !0;},kb:a,emit:a,removeAllListeners:function(d){this.Sd && (void 0 === d?delete this.Sd:delete this.Sd[d]);return this;}};},function(r){function b(d,l,h,n){d.trace(":",h,":",n);l(n);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addEventListener=function(d,l,h,n){h=n?h.bind(n):h;n=!1;if(d){this.console && (h=b.bind(null,this.console,h,l));if("function" === typeof d.addEventListener)n=d.addEventListener(l,h);else if("function" === typeof d.addListener)n=d.addListener(l,h);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([d,l,h]);}return n;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(l){var h,n;h=l[0];n=l[1];l=l[2];"function" === typeof h.removeEventListener?h.removeEventListener(n,l):"function" === typeof h.removeListener && h.removeListener(n,l);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};r.exports=a;},function(r,b,a){var d,l,h,n;d=a(13);l=a(136);h={};h[l.Ys.oH]=function(c){return c;};h[l.Ys.W5]=function(c){c=c || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(c));};h[l.Ys.u5]=function(c){var f;f=c || new ArrayBuffer(0);c="";f=new Uint8Array(f);for(var g=0;g < f.byteLength;g++){c+=String.fromCharCode(f[g]);}return JSON.parse(c);};n={};n[l.Ys.oH]=function(c){return c;};n[l.Ys.W5]=function(c){for(var f=new ArrayBuffer(c.length),g=new Uint8Array(f),k=0,m=c.length;k < m;k++){g[k]=c.charCodeAt(k);}return f;};n[l.Ys.u5]=function(c){return d.xa(c) || d.yb(c)?c:n[l.Ys.W5](JSON.stringify(c));};r.exports={TY:function(c){return h[c] || h[l.Ys.oH];},mwa:function(c){return n[c] || n[l.Ys.oH];}};},function(r,b,a){function d(h){return h;}function l(){return d;}a(13);r.exports={TY:l,mwa:l};},function(r,b,a){var h;function d(n,c){return n.length > c.length?1:c.length > n.length?-1:0;}function l(n,c){var f,g,k;f=[];if(h.vk(c)){g={};k={};k[n]=g;f.push(k);f=Object.keys(c).reduce(function(m,p){var q,v,t;q=c[p];v={};if(h.bca(q)){t=n + ".__embed__." + p;v[t]=q;m.push(v);}else h.vk(q)?(t=n + ".__sub__." + p,q=l(t,q),g[p]=q[0][t],m=m.concat(q.slice(1))):g[p]=q;return m;},f);}else (k={},k[n]=c,f.push(k));return f;}h=a(136);r.exports={NRb:l,B2b:function(n){var c,f,g,t;c=Object.keys(n).map(function(w){return w.split(".");});c.sort(d);f=c[0];g=f.length;f=n[f.join(".")];for(var k=1;k < c.length;k++){for(var m=!1,p=!1,q=f,v=g;v < c[k].length;v++){t=c[k][v];switch(t){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":m=!0;break;default:p?(q=q[t],p=!1):m && (q[t]=n[c[k].join(".")],m=!1);}}}return f;},i3b:function(n){return n && (0 <= n.indexOf("__sub__") || 0 <= n.indexOf("__embed__"));}};},function(r,b,a){var n,c;function d(f,g,k){Object.keys(f).forEach(function(m){var p,q;if(n.vk(f[m]))if(f[m].bca){p=f[m];q=k + p.offset;f[m]=g.slice(q,q + p.byteLength);}else f[m]=d(f[m],g,k);});return f;}function l(f,g,k){Object.keys(f).forEach(function(m){var p;if(n.bca(f[m])){p=f[m];g.push(p);f[m]={bca:!0,offset:k.usa,byteLength:p.byteLength};k.usa+=p.byteLength;}else n.vk(f[m]) && l(f[m],g,k);});return f;}function h(){var f,g,k;f=Array.prototype.concat.apply([],arguments);g=f.reduce(function(m,p){return m + p.byteLength;},0);k=new Uint8Array(g);f.reduce(function(m,p){k.set(new Uint8Array(p),m);return m + p.byteLength;},0);return k.buffer;}n=a(136);c=a(94);r.exports={XMb:function(f){var g,k,m;g=c(f,{});f=[];g=l(g,f,{usa:0});g=JSON.stringify(g);k=new ArrayBuffer(g.length + 4);m=new DataView(k);m.setUint32(0,g.length);for(var p=4,q=0,v=g.length;q < v;q++){m.setUint8(p,g.charCodeAt(q));p++;}f=[k].concat(f);return h.apply(null,f);},WMb:function(f){for(var g=new DataView(f,0,4).getInt32(0),k=new Uint8Array(f,4,g),m="",p=0;p < k.byteLength;p++){m+=String.fromCharCode(k[p]);}g=4 + g;m=JSON.parse(m);return d(m,f,g);}};},function(r,b,a){var l,h,n,c,f;function d(g){return {mediaType:g.mediaType,streamId:g.Ta,movieId:g.L,bitrate:g.bitrate,location:g.location,serverId:g.bd,saveToDisk:!0,offset:g.offset,bytes:g.ha,timescale:g.V,frameDuration:g.stream.da && g.stream.da.Ca,encrypted:g.Pm,initSegments:1 < g.kh.length?g.kh.map(function(k){return {fi:k.Wd,s:k.data.byteLength,e:!!k.Pm};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.dya=b.eya=b.scb=b.p$a=b.J9a=b.M9a=b.Rva=b.Wva=b.Vva=b.$ua=b.ava=b.MPa=void 0;l=a(0).__importStar(a(13));h=a(1094);n=a(434);c=a(8);f=a(20);b.MPa={RPa:"movieEntry",Bvb:"header",zka:"metadata",bwb:"headerData",zqc:"headerMetadata",svb:"sizes",rvb:"durations",vMa:"fragments",Xwb:"response",Xs:"billboard",BH:{lifespan:259200}};b.ava=function(g,k,m){var p,q;p=k.headerData;m && k.sizes instanceof ArrayBuffer && k.durations instanceof ArrayBuffer && (q={vo:m.startTicks,offset:m.offset,V:m.timescale,sizes:new Uint32Array(k.sizes),Ne:new Uint32Array(k.durations)});return {zc:!0,mediaType:g.mediaType,L:g.movieId,Ta:g.streamId,bitrate:g.bitrate,location:g.location,bd:g.serverId,ha:g.bytes,offset:g.offset,Xwa:p,Qba:g.initSegments,Pm:g.encrypted,V:g.timescale,da:g.frameDuration,Zi:g.saveToDisk,ma:q};};b.$ua=function(g,k){var m,p,q;k=k.response;m=g.startTicks;p=g.durationTicks;void 0 !== m && void 0 !== p && (q=m + p);return {zc:!1,mediaType:g.mediaType,L:g.movieId,Ta:g.streamId,bitrate:g.bitrate,location:g.location,bd:g.serverId,ha:g.bytes,offset:g.offset,response:k,V:g.timescale,$a:g.startTicks,Sv:p,Zi:g.saveToDisk,lb:q};};b.Vva=function(g){return {priority:g.priority,L:g.movieId,headers:{},mQ:0,FX:0,Wab:0,Zi:g.saveToDisk,ic:g.stats,zy:g.firstSelectedStreamBitrate,$B:g.initSelectionReason,BF:g.histDiscountedThroughputValue,Mq:g.histTdigest,Lq:g.histAge,qq:void 0};};b.Wva=function(g,k,m,p,q){var v,t;v={headers:{},data:{}};p.forEach(function(w){var u,y,B;u=w.mediaType;u=q && q.Gy(u,w.Ta);y=[];if(w.zc)if(!Array.isArray(w.Qba) || 2 > w.Qba.length)y.push({Wd:0,data:w.Xwa});else for(var x=0,z=0;z < w.Qba.length;++z){B=w.Qba[z];y.push({Wd:B.fi,data:w.Xwa.slice(x,x + B.s),Pm:B.e});x+=B.s;}u?(w.ma && u.iea(y,w.V,w.da?new f.O(w.da,w.V):void 0,w.ma),w.zc && u && u.ve?(void 0 === v.headers && (v.headers={}),v.headers[w.Ta]=new n.x3(u,{ha:w.ha,offset:w.offset,kh:y,Pm:w.Pm},k)):w.response instanceof ArrayBuffer && void 0 !== u.ma && void 0 !== w.$a && void 0 !== w.V && void 0 !== w.lb && (y=u.ma.baa(new f.O(w.$a,w.V).Z),void 0 !== y && (u=new h.CIa(u,{V:w.V,$a:w.$a,lb:w.lb,index:y.index,offset:w.offset,ha:w.ha},w.response,m,g,k),void 0 === v.data && (v.data={}),v.data[w.Ta] || (v.data[w.Ta]=[]),v.data[w.Ta].push(u)))):k.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.Ta + " movieId: " + w.L);});if(!l.xa(v.data)){t=v.data;Object.keys(t).forEach(function(w){t[w].sort(function(u,y){return u.$a - y.$a;});});}return v;};b.Rva=function(g){return {mediaType:g.mediaType,streamId:g.Ta,movieId:g.L,bitrate:g.bitrate,location:g.location,serverId:g.bd,saveToDisk:!0,offset:g.offset,bytes:g.ha,timescale:g.V,startTicks:g.$a,durationTicks:g.Sv};};b.M9a=d;b.J9a=function(g){var k,m,p,q;k=d(g);if(g.stream.ve && g.stream && g.stream.ma){m={timescale:g.stream.ma.V,startTicks:g.stream.ma.vo,offset:g.stream.ma.Ui(0)};p=g.stream.ma.ar;q=p.sizes.buffer;p=p.Ne.buffer;}return {mediaType:k.mediaType,streamId:k.streamId,movieId:k.movieId,bitrate:k.bitrate,location:k.location,serverId:k.serverId,saveToDisk:!0,offset:k.offset,bytes:k.bytes,timescale:k.timescale,frameDuration:k.frameDuration,headerData:(0,c.tB)(g.kh.map(function(v){return v.data;})),initSegments:k.initSegments,encrypted:g.Pm,fragments:m,sizes:q,durations:p};};b.p$a=function(g){return {priority:g.priority,movieId:g.L,saveToDisk:g.Zi,firstSelectedStreamBitrate:g.zy,initSelectionReason:g.$B,histDiscountedThroughputValue:g.BF,histTdigest:g.Mq,histAge:g.Lq};};b.scb=function(g){return !l.has(g,"startTicks");};b.eya=function(g){return !g.Xwa || !g.V || !g.ma || void 0 === g.ma.vo || void 0 === g.ma.offset || void 0 === g.ma.Ne || !g.ma.Ne.length || void 0 === g.ma.sizes || !g.ma.sizes.length;};b.dya=function(g){return void 0 === g.ha || void 0 === g.offset || void 0 === g.V || void 0 === g.$a || void 0 === g.Sv;};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.CIa=void 0;d=a(0);l=a(8);r=a(35);h=a(77);a=(function(n){function c(f,g,k,m,p,q){m=n.call(this,f,g,m,p,q) || this;g.ha=k.byteLength;h.Jl.oa(m,f,g);m.iO=k;m.PAb=g.ha;return m;}d.__extends(c,n);Object.defineProperties(c.prototype,{zc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{rw:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{xg:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Sj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Fh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{response:{get:function(){return this.iO;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{w5b:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{KP:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{nDa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bytesReceived:{get:function(){return this.PAb;},enumerable:!1,configurable:!0}});c.prototype.uk=function(){return !0;};c.prototype.Qr=function(f,g){this.ud=g.appendBuffer(this.response,(0,l.Ry)(this));return {ja:this.ud};};c.prototype.Si=function(){return -1;};c.prototype.abort=function(){return !0;};c.prototype.wd=function(){};c.prototype.TG=function(){return !1;};return c;})(a(190).hH);b.CIa=a;(0,r.hf)(h.Jl,a);},function(r){r.exports="4.1.2363";},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V;Object.defineProperties(b,{__esModule:{value:!0}});b.pIa=void 0;d=a(0);l=a(11);h=a(406);n=a(1097);c=a(265);f=a(1098);g=a(259);k=a(6);a(256);m=a(1099);p=a(456);q=a(21);v=a(2);t=a(159);w=a(1100);u=a(1101);y=a(1102);x=a(71);z=a(277);B=a(1103);A=a(60);C=a(278);D=a(8);E=d.__importDefault(a(3));G=a(1104);F=a(1105);K=a(1106);O=a(1107);L=a(28);I=a(1108);M=a(1109);H=a(463);J=a(1127);N=a(1128);P=a(1129);X=a(1188);V=a(1198);r=(function(){function S(U){this.H=U;this.events=new l.EventEmitter();this.Tc=h.nr.CLOSED;this.by=[];this.R1=[];this.$V=[];this.Fr=[];this.JXa={};this.M7={};this.XFa=h.AT.default;this.KFb=new x.Ex({Dp:this,source:"engine",Rq:10,console:U});}Object.defineProperties(S.prototype,{hz:{get:function(){(0,v.assert)(this.NA);return this.NA;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{Wac:{get:function(){return this.$V;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{kL:{get:function(){return this.Fr.map(function(U){return U.na;});},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{Yac:{get:function(){return this.Fr;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{Bc:{get:function(){this.aM();return this.rB.Bc;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{su:{get:function(){this.aM();return this.rB.su;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{zk:{get:function(){this.aM();return this.rB.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{fnc:{get:function(){return this.by.length;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{LO:{get:function(){return this.JXa;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{Y1a:{get:function(){return this.$p;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{MG:{get:function(){return this.M7;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{f7b:{get:function(){return this.mZa || (this.mZa=this.yKb());},enumerable:!1,configurable:!0}});S.prototype.open=function(U,ha,qa,xa){var Aa;Aa=this;if(this.Tc === h.nr.OPEN)return !1;this.K=U;this.Yu=new A.WU(new C.c6({wk:!0,currentTime:function(){return D.O.Na(E.default.time.fa());},speed:1}),this.H,"Engine Scheduler");this.AYa=new f.NMa(this.H,U);this.iE=new m.OUa(this.tca.bind(this),U);U.wha && (this.$p=new n.DJa(this.H,function(){return Aa.LO;}));this.rB=g.BM.Xaa(U,this.H,ha);this.Tc=h.nr.OPEN;U=Object.create(U,{MHb:{value:U.Pda || U.BO}});this.NA=(0,H.cZ)(U);qa && this.NA.Emb(qa);xa && this.NA.ZEa(xa);this.Lib=new J.VTa({gl:function(){Aa.Tc !== h.nr.CLOSED && Aa.iE.gl("playgraphOpportunity");}});this.nZa=new K.JQa(function(){return Aa.Uaa();},function(){return Aa.Vaa().global;},this.H);this.DPb();return !0;};S.prototype.GW=function(U,ha,qa,xa,Aa){var Oa,T,W;Oa=this;void 0 === Aa && (Aa=!0);this.aM();qa=Object.create(qa,{vS:{value:this.MG}});if(Aa){T=this.hz.NLb(U,qa);if(T)return (T.iqb(ha),U=this.Js.bind(this,xa,T),T.Wgc(U),T);}T=new I.QUa(function(Q){return Oa.Js(xa,W,Q);},function(Q){return Oa.CG(xa,Q);});W=(0,P.U9)(this.K,[U,ha,qa,S.m8b++,this.Bc,T,function(Q){return Oa.iE.gl(Q);},Aa?this.hz.MLb.bind(this.hz):function(){},this.Uaa.bind(this),this.$p],this.H);W.eg(new u.MVa(W));W.eg(new y.fWa(W.ff));W.Sca.eg(new O.PIa(W));W.Sca.eg(new M.ePa(W));this.hE.uL.forEach(function(Q){return W.eg(Q);});this.Lib.GW(W);U=new l.kf();U.on(W.events,"requestsPruned",this.Jec.bind(this));U.on(W.events,"weightUpdated",this.DBa.bind(this));U.on(W.events,"underflow",this.si.bind(this,W));this.Fr.push({na:W,Th:U,g1:0});this.DBa();return W;};S.prototype.si=function(U){U=this.nZa.kWb(U);(null === U || void 0 === U?0:U.q$) || this.hz.reset();};S.prototype.QC=function(U){this.Lib.QC(U);this.Fr=this.Fr.filter(function(ha){return ha.na === U?(ha.Th.clear(),!1):!0;});U.Wa();this.DBa();};S.prototype.hHb=function(U,ha){var qa,xa,Aa;this.aM();Aa=ha.ag;Aa=void 0 === Aa?[k.u.U,k.u.J]:Aa;U=(0,X.aP)(this.K,[U,Aa,d.__assign({vS:null !== (xa=null !== (qa=ha.vS) && void 0 !== qa?qa:this.M7) && void 0 !== xa?xa:{}},ha)]);this.$V.push(U);return U;};S.prototype.Akb=function(U){this.aM();this.$V=this.$V.filter(function(ha){return ha !== U;});U.Wa();};S.prototype.ugc=function(U,ha){this.JXa=U;this.M7=ha;this.mZa=void 0;};S.prototype.ML=function(U,ha){var qa,xa;xa=null === (qa=(0,q.Nc)(this.by,function(Aa){return Aa.kJ.equals(U);})) || void 0 === qa?void 0:qa.P;xa?xa.ML(d.__assign(d.__assign({},ha),{Ap:this.XAa.bind(this)})):this.R1.push({Wqb:U,qFa:ha});};S.prototype.Ckb=function(U){this.R1=this.R1.filter(function(ha){return !ha.Wqb.equals(U);});};S.prototype.close=function(){this.Tc !== h.nr.CLOSED && (this.Vdc(),(0,v.assert)(0 === this.by.length,"Unexpected viewable lease after Playgraph destruction."),this.Udc(),this.R1=[],delete this.rB,this.Tc=h.nr.CLOSED,this.Yu.Wa());};S.prototype.bhc=function(U){this.XFa=U;this.iE.gl("streamingModeChanged");};S.prototype.DPb=function(){this.hE=new L.Rla(this.K);this.hE.eg(new G.gMa(this));this.hE.eg(new B.RUa(this.Bc,this.iE));this.hE.eg(new w.dMa(this.Bc));this.hE.eg(new z.tA(this.KFb));this.hE.eg(new z.tA(this.iE.us));this.hE.eg(new z.tA(this.AYa.Di));this.hE.eg(new z.tA(this.nZa.Di));};S.prototype.XAa=function(){};S.prototype.nM=function(U){return d.__awaiter(this,void 0,void 0,function(){var ha,qa,xa,Aa;return d.__generator(this,function(Oa){switch(Oa.label){case 0:return ((0,v.assert)(U,"ase.updateViewable(): Viewable config not found."),ha=(0,q.Nc)(this.by,function(T){return !0 !== T.kJ.Uv && T.kJ.equals(U);}),(0,v.assert)(ha,"ase.updateViewable(): Viewable entry not found."),[4,ha.eH]);case 1:return (qa=Oa.ub(),Aa=(xa=qa).nM,[4,U.Xu]);case 2:return (Aa.apply(xa,[Oa.ub()]),[2]);}});});};S.prototype.Js=function(U,ha,qa){var xa,Aa,Oa,T;xa=this;Aa=qa.N;Oa=U.fs(Aa,qa.p1);(0,v.assert)(Oa,"ase.requestViewable(): Viewable config not found.");T=(0,q.Nc)(this.by,function(W){return !0 !== W.kJ.Uv && W.kJ.equals(Oa);});T || (T={kJ:Oa,eH:(function(){return d.__awaiter(xa,void 0,void 0,function(){var W,Q;return d.__generator(this,function(ka){switch(ka.label){case 0:return [4,Oa.Xu];case 1:return (W=ka.ub(),Q=this.ry(Aa,Oa,W),T.P=Q,[2,Q]);}});});})(),P:void 0,B4b:new t.jka(function(W){W() && xa.ADa(T);},(0,D.ri)(E.default,this.H,("").concat(Aa)))},this.by.push(T));U=new V.hXa(T,this.H,ha,qa);U.events.once("error",this.ADa.bind(this,T,!1));return U;};S.prototype.ADa=function(U,ha){var qa,xa;void 0 === ha && (ha=!0);(0,v.assert)(U,"expected viewableEntry to exist");qa=U.P;xa=U.eH;ha && (qa?qa.Wa():xa.then(function(Aa){Aa.Wa();}));this.by=this.by.filter(function(Aa){return Aa !== U;});};S.prototype.ry=function(U,ha,qa){var Aa,Oa,T,W,Q,ka;function xa(ra){Aa.events.emit("logdata",ra);}Aa=this;this.aM();Oa=qa.ba;T=qa.Tl;W=qa.ug;Q=qa.ag;Q=void 0 === Q?k.ng:Q;qa=qa.config;ka=[new p.Hka(k.u.U),new p.Hka(k.u.J)];Oa={ba:Oa,config:qa,Tl:T,ag:Q,yaa:void 0,Bc:this.rB.Bc,zk:this.rB.zk,c7a:{Wt:function(){return Aa.iE.gl("networkFailureReset");},ig:this.ig.bind(this,U),zp:this.zp.bind(this,U),xC:xa},Vab:{xC:xa,hZ:void 0,sF:function(ra){return ka[ra];},eca:function(){return !0;},wg:void 0,Gk:void 0,ki:void 0,AF:void 0},bS:{Ev:this.Ev.bind(this),Gs:this.Gs.bind(this)},MG:this.M7,Ub:0,Xq:void 0,pfb:{$xa:!!W,Mcb:!1},e0:function(){}};U=new c.Aia(U,Oa);qa.aF && (Oa=(0,q.Nc)(this.R1,function(ra){return ra.Wqb.equals(ha);})) && (Oa=Oa.qFa,this.Ckb(ha),U.ML(d.__assign(d.__assign({},Oa),{Ap:this.XAa.bind(this)})));return U;};S.prototype.CG=function(U,ha){return d.__awaiter(this,void 0,void 0,function(){var qa,xa,Aa,Oa,T,W,Q,ka,ra;return d.__generator(this,function(R){switch(R.label){case 0:(qa=ha.Jm,xa=ha.N,Aa=U.fs(xa),(0,v.assert)(Aa,"ase.requestAdBreakHydration(): Parent viewable config not found."),Oa=(0,q.Nc)(this.by,function(fa){return !0 !== fa.kJ.Uv && fa.kJ.equals(Aa);}),(0,v.assert)(Oa,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(xa)),T=Oa.P,(0,v.assert)(T,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(xa)),W=T.ba.Td,Q={gi:{Td:W,Cg:xa}},R.label=1);case 1:return (R.Mp.push([1,3,,4]),[4,U.CG(qa,Q)]);case 2:return (ka=R.ub(),[2,{hpa:ka,Xpa:T}]);case 3:return (ra=R.ub(),[2,Promise.reject(ra)]);case 4:return [2];}});});};S.prototype.tca=function(){var U,ha;(0,v.assert)(this.state === h.nr.OPEN);U=this.Vaa();ha=this.gQ();return this.AYa.phb(U,ha);};S.prototype.gQ=function(){var U,ha,qa;U=this;qa=null !== (ha=this.K.zbc) && void 0 !== ha?ha:this.Fr.every(function(xa){return !xa.na.jw;});ha=(0,q.flatten)(this.Fr.map(function(xa){return xa.na.gQ().map(function(Aa){xa.na.jw || 1 === xa.g1 || (Aa.eK=xa.g1);return Aa;});}));this.XFa === h.AT.disabled?ha=[]:this.XFa === h.AT.P5b && (ha=ha.filter(function(xa){return U.K.Vza >= xa.Ku - xa.Lt;}));qa || (qa=ha.filter(function(xa){var Aa;return 1 === (null !== (Aa=xa.eK) && void 0 !== Aa?Aa:1);}),qa.length && (ha=qa));qa=this.by.reduce(function(xa,Aa){return Aa.P?d.__spreadArray(d.__spreadArray([],d.__read(xa),!1),d.__read(Aa.P.gQ()),!1):xa;},[]);return (0,q.flatten)(d.__spreadArray(d.__spreadArray([],d.__read(ha),!1),d.__read(qa),!1));};S.prototype.aM=function(){if(this.Tc === h.nr.CLOSED)throw Error("Engine CLOSED");};S.prototype.Vdc=function(){var U,xa;try{for(var ha=d.__values(this.Fr),qa=ha.next();!qa.done;qa=ha.next()){xa=qa.value;xa.Th.clear();this.QC(xa.na);}}catch(Oa){var Aa;Aa={error:Oa};}finally{try{qa && !qa.done && (U=ha.return) && U.call(ha);}finally{if(Aa)throw Aa.error;}}};S.prototype.Udc=function(){var U;try{for(var ha=d.__values(this.$V),qa=ha.next();!qa.done;qa=ha.next()){this.Akb(qa.value);}}catch(Aa){var xa;xa={error:Aa};}finally{try{qa && !qa.done && (U=ha.return) && U.call(ha);}finally{if(xa)throw xa.error;}}};S.prototype.ig=function(U,ha,qa,xa,Aa,Oa,T){var W;void 0 === T && (T=!1);W=!1;this.E$a(U).forEach(function(Q){if(!T || (0,k.Nq)(Q.Pg.value))W=Q.ig(ha,U,qa,xa,Aa,Oa,T);});return W;};S.prototype.zp=function(U){return this.E$a(U).some(function(ha){return ha.zp();});};S.prototype.E$a=function(U){return this.Fr.filter(function(ha){var qa;for(ha=ha.na;ha.sb;){ha=ha.sb;}qa=ha.na;return Object.keys(qa.T).some(function(xa){return qa.T[xa].N === U;});}).map(function(ha){return ha.na;});};S.prototype.Vaa=function(){var U;U=new F.LMa();this.Fr.forEach(function(ha){var qa,xa;qa=ha.na;ha=ha.g1;xa=qa.Vaa();xa.eK=ha;U.add(qa.id,xa);});return U;};S.prototype.Uaa=function(){return this.f7b;};S.prototype.yKb=function(){var U,ha;ha=(0,N.u2a)(this.K,this.LO);return {total:(U={},U[k.u.J]=this.LO.video || Infinity,U[k.u.U]=this.LO.audio || Infinity,U[k.u.nb]=this.LO.text || Infinity,U.total=this.LO.total || Infinity,U),NFa:ha};};S.prototype.Ev=function(U){var ha;this.iE.Ev(U);null === (ha=this.$p) || void 0 === ha?void 0:ha.Ev(U);};S.prototype.Gs=function(U){this.iE.Gs(U);};S.prototype.DBa=function(){var U;U=this.kL.reduce(function(ha,qa){return Math.max(qa.weight,0) + ha;},0);this.Fr.forEach(function(ha){ha.g1=0 >= ha.na.weight?0:ha.na.weight / U;});};S.prototype.Jec=function(U){var ha;ha=this;this.$p && U.requests.forEach(function(qa){return ha.$p.Gs(qa);});};S.m8b=0;d.__decorate([(0,x.jc)({methodName:"open"})],S.prototype,"open",null);d.__decorate([(0,x.jc)({methodName:"addPlaygraph",context:function(U){var ha,qa;return {playgraphCount:null !== (qa=null === (ha=U.ehb.Fr) || void 0 === ha?void 0:ha.length) && void 0 !== qa?qa:0};}})],S.prototype,"GW",null);d.__decorate([(0,x.jc)({methodName:"removePlaygraph",context:function(U){return {playgraphCount:U.ehb.Fr.length};}})],S.prototype,"QC",null);d.__decorate([(0,x.jc)({methodName:"close"})],S.prototype,"close",null);d.__decorate([(0,x.jc)({methodName:"setStreamingMode",ut:!0})],S.prototype,"bhc",null);d.__decorate([(0,x.jc)({methodName:"notifyAseException",ut:!0})],S.prototype,"XAa",null);d.__decorate([(0,x.jc)({methodName:"updateViewable"})],S.prototype,"nM",null);d.__decorate([(0,x.jc)({methodName:"requestViewable"})],S.prototype,"Js",null);d.__decorate([(0,x.jc)({methodName:"removeViewable"})],S.prototype,"ADa",null);d.__decorate([(0,x.jc)({methodName:"createViewable"})],S.prototype,"ry",null);d.__decorate([(0,x.jc)({methodName:"requestAdBreakHydration"})],S.prototype,"CG",null);d.__decorate([(0,x.jc)({methodName:"issueRequestOpportunity",Wl:!0,return:!0})],S.prototype,"tca",null);d.__decorate([(0,x.jc)({methodName:"reportStreamingFailure",ut:!0})],S.prototype,"ig",null);return S;})();b.pIa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DJa=void 0;d=a(6);l=a(2);r=(function(){function h(n,c){this.H=n;this.UBb=c;this.ay=this.Hx=this.Kr=0;}h.prototype.Ev=function(n){var c;if(!n.zc){c=n.ha;(0,l.assert)(0 < c);this.Kr+=c;n.mediaType === d.u.U?this.Hx+=c:this.ay+=c;(0,l.assert)(this.Kr === this.Hx + this.ay);(0,l.assert)(0 < this.Kr);(0,l.assert)(0 <= this.Hx);(0,l.assert)(0 <= this.ay);}};h.prototype.Gs=function(n){var c;if(!n.zc){c=n.ha;(0,l.assert)(0 < c);this.Kr-=c;n.mediaType === d.u.U?this.Hx-=c:this.ay-=c;(0,l.assert)(this.Kr === this.Hx + this.ay);(0,l.assert)(0 <= this.Kr);(0,l.assert)(0 <= this.Hx);(0,l.assert)(0 <= this.ay);}};h.prototype.sLb=function(n,c){var f;(0,l.assert)(this.Kr === this.Hx + this.ay);f=this.UBb();if(void 0 !== f.total && this.Kr + c > f.total)return !1;f=n === d.u.U?f.audio:f.video;n=n === d.u.U?this.Hx:this.ay;return void 0 !== f && n + c > f?!1:!0;};return h;})();b.DJa=r;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p){return m.filter(function(q){return q.groupId === p.groupId;}).reduce((0,n.Lfb)(function(q){return q.DC;}),p).DC;}Object.defineProperties(b,{__esModule:{value:!0}});b.NMa=void 0;l=a(0);h=a(256);n=a(21);c=a(6);f=a(71);g=l.__importDefault(a(3));k=a(461);r=(function(){function m(p,q){this.H=p;this.config=q;this.Gdb=0;this.Di=new f.Ex({Rq:10,Dp:this,source:"GraphStreamingProcess"});}m.prototype.phb=function(p,q){var v,t,w,u,y,x,z,B,A,E,G,F,K,O;w=!1;u=[];if(0 < q.length){y=this.jic(q);x=y.some(function(I){return 1 === (0,k.w2a)(I) && (0,c.Nq)(I.Pg);});z=y.slice();B=[!1,!1,!1];A=void 0;try{for(var C=l.__values(y),D=C.next();!D.done;D=C.next()){E=D.value;if(E.MF && (!A || E.groupId === A) && "global" !== B[E.mediaType]){G=E.Xcb(p,null !== (t=E.eK) && void 0 !== t?t:1);F=(0,h.Zjb)(G.reason);F && (B[E.mediaType]=F,(0,n.d1a)(z,E));if(G.result){K=d(z,E);if(this.BLb(E,x,K)){O=E.bdb();this.sza(u,E,O.reason);O.Nj && (this.Gdb=g.default.time.fa());if(w=O.Nj)break;if("globalVideoMemoryLimit" === O.reason || "globalAudioMemoryLimit" === O.reason){this.H.trace("GSP.onRequestOpportunity stopping at memory limit:",O.reason);break;}this.config.DJb && "pipelineTryIssueHeaderRequest" === O.reason && (A=E.groupId);}else if((this.sza(u,E,"concurrencyCheck"),!F))break;}else this.sza(u,E,G.reason);}}}catch(I){var L;L={error:I};}finally{try{D && !D.done && (v=C.return) && v.call(C);}finally{if(L)throw L.error;}}}this.Di.Dv({streamableCount:q.length,streamableReasons:u,lastSuccessfulIssueRequestMs:this.Gdb});return w;};m.prototype.jic=function(p){return this.bcc(p).sort(function(q,v){return q.priority - v.priority;}).map(function(q){return q.Uic;});};m.prototype.bcc=function(p){var q;q=this;return p.map(function(v){return {priority:-(0,k.v2a)(q.config,v,q.H),Uic:v};});};m.prototype.sza=function(p,q,v){this.Di.enabled && p.push(this.t_b(v,q));};m.prototype.t_b=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Pg,currentPlayerMs:q.Lt,pathCompletePlayerMs:q.DC,streamingPlayerMs:q.Ku};};m.prototype.BLb=function(p,q,v){return this.config.fX && (q || (0,c.Nq)(p.Pg))?this.CLb(p,v):this.DLb(p,v);};m.prototype.ELb=function(p){return p.Ku <= p.DC;};m.prototype.DLb=function(p,q){return p.Ku - (p.Lt > q?p.Lt:q) <= Math.max(this.config.zAa,Math.min((p.DC - p.Lt) * this.config.VFa,this.config.L6b));};m.prototype.CLb=function(p,q){var v,t;if(void 0 === this.config.fX)return !0;v=this.config.fX;t=p.Lt + v;return p.Ku <= t?!0:this.ELb(p) && q >= t && p.Ku - q < v;};l.__decorate([(0,f.jc)({methodName:"onRequestOpportunity",Wl:!0})],m.prototype,"phb",null);return m;})();b.NMa=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.OUa=void 0;d=a(0);l=a(2);h=d.__importDefault(a(3));n=a(71);c=a(8);r=(function(){var Q9E;Q9E=2;for(;Q9E !== 13;){switch(Q9E){case 9:var B4r="E";B4r+="v";var I$J="addRe";I$J+="q";I$J+="ue";I$J+="s";I$J+="t";var J7J="g";J7J+="l";var o7q="checkRequ";o7q+="estOppo";o7q+="r";o7q+="tuni";o7q+="ty";d.__decorate([(0,n.jc)({methodName:o7q,Wl:!0,ut:!0})],f.prototype,J7J,null);d.__decorate([(0,n.jc)({methodName:I$J,Wl:!0})],f.prototype,B4r,null);Q9E=7;break;case 7:var V8f="T";V8f+="2";V8f+="a";var D1k="checkRequestOppor";D1k+="tun";D1k+="ityRu";D1k+="nner";var f48="G";f48+="s";var j6K="re";j6K+="moveR";j6K+="equest";d.__decorate([(0,n.jc)({methodName:j6K,Wl:!0})],f.prototype,f48,null);d.__decorate([(0,n.jc)({methodName:D1k,Wl:!0})],f.prototype,V8f,null);return f;break;case 2:Object.defineProperties(f.prototype,{P8b:{get:function(){var D0y;D0y=2;for(;D0y !== 1;){switch(D0y){case 2:return this.qI;break;case 4:return this.qI;break;}}},enumerable:!1,configurable:!0}});f.prototype.gl=function(){var f1X,k,g;f1X=2;for(;f1X !== 9;){switch(f1X){case 5:this.sEa=!0;k=h.default.time.fa();return Promise.resolve().then(function(){var C6K;C6K=2;for(;C6K !== 5;){switch(C6K){case 2:g.sEa=!1;g.T2a(k);C6K=5;break;}}});break;case 1:f1X=!this.sEa?5:9;break;case 2:g=this;f1X=1;break;}}};f.prototype.Ev=function(g){var X18;X18=2;for(;X18 !== 4;){switch(X18){case 2:var O47="More than maxAllowedOutstand";O47+="ingRequests a";O47+="re o";O47+="utstanding";this.us.Dv({mediaType:g.mediaType,contentStartPts:g.ue,contentEndPts:g.Oc});this.qI++;(0,l.assert)(this.qI <= this.config.Yca,O47);X18=4;break;}}};f.prototype.Gs=function(g){var w7D;w7D=2;for(;w7D !== 3;){switch(w7D){case 5:var d_n="re";d_n+="mov";d_n+="eR";d_n+="equ";d_n+="est";var c0Q="Received remove request when there are";c0Q+=" no";c0Q+=" requests outstanding";(0,l.assert)(0 <= this.qI,c0Q);this.gl(d_n);w7D=3;break;case 2:this.us.Dv({mediaType:g.mediaType,contentStartPts:g.ue,contentEndPts:g.Oc});this.qI--;w7D=5;break;}}};f.prototype.T2a=function(g){var W$Y,k,m,p;W$Y=2;for(;W$Y !== 9;){switch(W$Y){case 4:p++;W$Y=5;break;case 2:(k=this.config.Yca,m=h.default.time.fa() - g,p=0);W$Y=1;break;case 5:W$Y=this.qI < k && this.tca()?4:3;break;case 1:this.Qkb.push(m);W$Y=5;break;case 6:this.Qkb.push(m);W$Y=4;break;case 13:p--;W$Y=1;break;case 3:var Z8U="requestOpp";Z8U+="ort";Z8U+="unityR";Z8U+="unnerComplete";this.us.q0a(Z8U,{requestsIssued:p,scheduledMs:g,timeSinceScheduled:m},!0);W$Y=9;break;}}};Q9E=9;break;}}function f(g,k){var V0d,m;V0d=2;for(;V0d !== 14;){switch(V0d){case 2:m=this;this.tca=g;this.config=k;this.qI=0;V0d=3;break;case 3:var x2x="Reque";x2x+="stP";x2x+="a";x2x+="cer";var q05="1S";q05+="IYbZrNJ";q05+="Cp9";var D0J="med";D0J+="i";D0J+="a|ase";D0J+="j";D0J+="s";var B89="ASEJS_REQUEST";B89+="_";B89+="PACER";this.console=new h.default.Console(B89,D0J);this.sEa=!1;q05;this.us=new n.Ex({Dp:this,source:x2x,u0a:function(){var C$e;C$e=2;for(;C$e !== 1;){switch(C$e){case 2:return {numOutstanding:m.qI};break;}}},Rq:10});V0d=6;break;case 6:this.Qkb=new c.QH();V0d=14;break;}}}})();b.OUa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.dMa=void 0;d=a(28);r=(function(){function l(h){this.Bc=h;}Object.defineProperties(l.prototype,{je:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.ol=function(h){var n;if(h.Ug === d.Kc.kl && this.Bc){h={};n=this.Bc.get();n && n.avtp && n.avtp.ya && (h.avtp=n.avtp.ya,h.dltm=n.avtp.v$);n && n.initialThroughput && n.initialThroughput.ya && (h.initial_avtp=n.initialThroughput.ya);n && n.cdnavtp && (h.cdnavtp=n.cdnavtp,h.activecdnavtp=n.activecdnavtp);if(n=this.Bc.Yaa())(n.bytesRequestedPacingVideo && (h.bytesRequestedPacingVideo=n.bytesRequestedPacingVideo,h.estimatedBytesPacedVideo=n.estimatedBytesPacedVideo,h.bytestotalVideo=n.bytestotalVideo,h.pacedAvtpVideo=n.pacedAvtpVideo),n.bytesRequestedPacingAudio && (h.bytesRequestedPacingAudio=n.bytesRequestedPacingAudio,h.estimatedBytesPacedAudio=n.estimatedBytesPacedAudio,h.bytestotalAudio=n.bytestotalAudio,h.pacedAvtpAudio=n.pacedAvtpAudio),n.pacedAvtp && (h.pacedAvtp=n.pacedAvtp));this.Bc.flush();if(n=this.Bc.y9a())for(var c in n){n.hasOwnProperty(c) && (h["ne" + c]=Number(n[c]).toFixed(6));}return h;}};return l;})();b.dMa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.MVa=void 0;d=a(11);l=a(6);h=a(28);r=(function(){function n(c){this.YXa=!1;this.fF=new d.kf();this.fF.addListener(c.events,"streamSelection",this.ABa.bind(this));}n.prototype.ABa=function(c){this.YXa || (c.mediaType === l.u.U && void 0 === this.Ixa?this.Ixa=c:c.mediaType === l.u.J && void 0 === this.Mxa && (this.Mxa=c));};n.prototype.Wa=function(){this.Mxa=this.Ixa=void 0;this.fF.clear();this.YXa=!0;};Object.defineProperties(n.prototype,{je:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.ol=function(c){var f;if(c.Ug === h.Kc.Cl)return (c=null !== (f=this.Mxa) && void 0 !== f?f:this.Ixa,f={histdiscbw:null === c || void 0 === c?void 0:c.result.nw,histage:null === c || void 0 === c?void 0:c.result.Lq},c=null === c || void 0 === c?void 0:c.streamList.map(function(g){return void 0 !== g.L$?{vmaf:g.L$,streamIndex:g.Fg,streamId:g.Ta}:void 0;}).filter(function(g){return void 0 !== g;}),0 < (null === c || void 0 === c?void 0:c.length) && (f.vmafEstimates=c),this.Wa(),f);this.Wa();};return n;})();b.MVa=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fWa=void 0;r=a(0);d=a(11);l=a(9);h=r.__importDefault(a(3));n=a(28);a=(function(){function c(f){this.Ee=f;this.y6=[];this.reset();}Object.defineProperties(c.prototype,{je:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ru:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});c.prototype.reset=function(){var f,g;f=this;null === (g=this.NN) || void 0 === g?void 0:g.clear();this.NN=new d.kf();this.NN.on(this.Ee,"clockChanged",function(){f.reset();f.HY("initial");});this.NN.on(this.Ee,"stopping",function(){f.HY("stopping");});this.NN.on(this.Ee.za,"clockAdjusted",function(){f.HY("clockAdjusted");});this.NN.on(this.Ee.za,"stopStart",function(){f.HY("stopStart");});this.NN.on(this.Ee.za,"speedChanged",function(){f.HY("speedChanged");});};c.prototype.HY=function(f){this.y6.push({reason:f,audit:this.Ee.By(),time:h.default.time.fa()});5 < this.y6.length && this.y6.shift();};c.prototype.ol=function(f){var g;g=f.Ug;f=f.VF;if(g === n.Kc.Cl || g === n.Kc.sn || g === n.Kc.kl || void 0 === g && void 0 === f)return this.y6;};return c;})();b.fWa=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.RUa=void 0;d=a(28);r=(function(){function l(h,n){this.Bc=h;this.Rkb=n;}Object.defineProperties(l.prototype,{je:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.ol=function(h){var n;n=h.Ug;h=h.VF;if(n === d.Kc.kl || n === d.Kc.sn || void 0 === n && void 0 === h)return (n={numOutstandingRequests:this.Rkb.P8b,requestOpportunityDelayStats:this.Rkb.Qkb},(h=this.Bc.S_a) && h.length && (n.activeRequests=JSON.stringify(h)),n);};return l;})();b.RUa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.gMa=void 0;d=a(28);r=(function(){function l(h){this.H$=h;this.ru="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{je:{get:function(){return this.ru;},enumerable:!1,configurable:!0}});l.prototype.ol=function(h){var n;n=h.Ug;h=h.VF;if(n === d.Kc.Cl || n === d.Kc.sn || n === d.Kc.kl || void 0 === n && void 0 === h)return (n=this.H$.Yac.map(function(c){var f;f=c.na;return {id:f.id,weight:f.weight,relativeWeight:c.g1};}),{prefetcher:this.H$.hz.getStats(),playgraphs:n,viewables:this.H$.fnc,players:this.H$.Wac.length});};return l;})();b.gMa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.LMa=void 0;d=a(2);l=a(462);r=(function(){function h(){this.global=new l.zU();this.kL={};}h.prototype.add=function(n,c){(0,d.assert)(void 0 === this.kL[n],"Cannot add new memory object for playgraph");this.kL[n]=c;this.global.add(c.It);this.global.add(c.RX);};return h;})();b.LMa=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.JQa=void 0;d=a(0);l=a(9);h=a(461);n=a(6);c=a(71);r=(function(){function f(g,k,m){this.Ava=g;this.gYb=k;this.H=m;this.Di=new c.Ex({Dp:this,console:m,source:"MemoryDeadlockProtector",Rq:5});}f.prototype.kWb=function(g){var k,m,p,q;p=g.config;q=p.Dk + (null !== (m=null === (k=p.vS) || void 0 === k?void 0:k.Z) && void 0 !== m?m:0);k=this.w0b(q,g);l.M && this.H.debug(("MDP: has prebuf: ").concat(k));return k?{q$:!0}:(m=this.CKb(p),k=m.x$b,m=m.Dmc,k && m?(l.M && this.H.debug(("MDP: utilizing ").concat(Math.round(100 * m),"%")),m >= p.d7b?this.$kb(g,k):{q$:!0}):{q$:!1});};f.prototype.$kb=function(g,k){var m,p,q,v,t,u,z,B;this.Di.Dv({o:k});v=g.X;g=g.cb;t=v.cb;v=v.fu;for(var w=0;w < t.length;w++){if(!t[w].Gj){v=t[w];t=t.slice(0,w + 1);break;}}w=!1;u=[{mediaType:n.u.U,fB:0},{mediaType:n.u.J,fB:0},{mediaType:n.u.nb,fB:0}];if(null === v || void 0 === v || !v.Gj){g=g.map(function(C){return C;}).filter(function(C){return -1 === t.indexOf(C);}).sort(function(C,D){return (0,h.Yqa)(C) - (0,h.Yqa)(D);});try{for(var y=d.__values(g),x=y.next();!x.done;x=y.next()){z=x.value;B=z.NB();u[n.u.U].fB+=null !== (p=B.rE) && void 0 !== p?p:0;u[n.u.J].fB+=null !== (q=B.Wu) && void 0 !== q?q:0;l.M && this.H.debug(("Resetting discontiguous branch ").concat(z.G.id),B);z.reset();if(w=u.every(function(C){return C.fB >= k[C.mediaType].fB;}))break;}}catch(C){var A;A={error:C};}finally{try{x && !x.done && (m=y.return) && m.call(y);}finally{if(A)throw A.error;}}}return {q$:w,Dvc:u};};f.prototype.CKb=function(g){var k,m,p,q,v;k=[n.u.U,n.u.J,n.u.nb];if(!g.e7b)return {};m=this.gYb();p=this.Ava().total;q=g.c7b;v=0;g=k.map(function(t){var w;w=m[t] - p[t] * q;v=Math.max(0 < p[t]?m[t] / p[t]:0,v);return {fB:Math.max(0,w),mediaType:t};});return {Dmc:v,x$b:g};};f.prototype.w0b=function(g,k){var m,p;m=!1;k=k.jw?k.X:void 0;if(null === k || void 0 === k?0:k.l2b){m=k.wi.Rm().map(function(q){return q.mediaType;});p=k.xXb();m=m.every(function(q){var v,t;if(q === n.u.U)q=null !== (v=p.st) && void 0 !== v?v:0;else if(q === n.u.J)q=null !== (t=p.Op) && void 0 !== t?t:0;else throw Error(("Unsupported media type:").concat(q));return q >= g;});}return m;};d.__decorate([(0,c.jc)({methodName:"resetDiscontiguousBranches",return:!0,Wl:!0})],f.prototype,"$kb",null);return f;})();b.JQa=r;},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.PIa=void 0;r=a(0);d=a(11);l=a(8);h=r.__importDefault(a(29));n=a(21);c=r.__importDefault(a(439));f=a(28);g=a(279);a=(function(){function k(m){var p,q;p=this;this.na=m;this.Rt="aseReport";this.hX=l.O.Zt;this.events=new d.EventEmitter();this.Lra=g.S5.CKa;this.iq=!1;this.t_a=0;if(0 === Math.floor(1E6 * Math.random()) % m.config.FO || m.config.zvc){this.hX=l.O.Na(m.config.O8);this.K6b=m.config.mIb;this.na.N8=!0;q=[];q[h.default.ee.J]=new c.default(m.config,h.default.ee.J);q[h.default.ee.U]=new c.default(m.config,h.default.ee.U);this.Noa=q;this.na.events.on("openComplete",function(){return p.open();});}}k.prototype.open=function(){this.na.N8 && !this.iq && (this.iq=!0,this.na.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.na.events.on("requestIssued",this.ABa.bind(this)));};k.prototype.ABa=function(m){m.result && m.streamList && (this.Noa[m.mediaType].add(m.result,m.streamList),++this.t_a >= this.K6b && this.events.emit("collectionRequested"));};k.prototype.twa=function(){var m;m=(0,n.flatten)(this.Noa.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.Noa.forEach(function(p){return p.reset(!0);});this.t_a=0;return m;};k.prototype.Xf=function(m){var p,q;p=m.Ug;q=m.qMb;m=m.lcb || q || p === f.Kc.kl;return this.na.N8 && this.iq && m && (m=this.twa()) && m.length?{rga:!0,event:{type:"asereport",strmsel:m}}:{rga:!1};};return k;})();b.PIa=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.QUa=void 0;d=a(197);r=(function(){function l(h,n){this.Bfa=n;this.q1=[];this.q1.push(h);}l.prototype.Js=function(h,n){return d.OT.$ba({N:h,p1:n},this.q1);};l.prototype.CG=function(h){return this.Bfa(h);};l.prototype.lec=function(h){this.q1.pop();this.q1.push(h);};l.prototype.d0a=function(h){this.q1.unshift(h);};return l;})();b.QUa=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ePa=void 0;d=a(11);l=a(8);h=a(6);n=a(279);c=a(28);r=(function(){function f(g){this.na=g;this.Rt="liveReport";this.hX=l.O.Zt;this.events=new d.EventEmitter();this.Lra=n.S5.LVa;this.rV=!1;this.trace=[];this.cpb=1;0 < g.config.Vdb && 0 < g.config.iza && (this.hX=l.O.Na(g.config.iza),this.cpb=Math.max(Math.floor(g.config.Vdb / g.config.iza),1),this.rV=!0);}f.prototype.oMb=function(){var g,k,m,p;k=this.na.X;if(k.tf){m=k.wi;p=m.P;if(p.qa){if(m=null === (g=m.fb(h.u.J)) || void 0 === g?void 0:g.Vm)(g=m.Gq(),p=p.H1,k=g.iqa + k.Me.Z,g=this.na.UJ(),this.trace.push([p,k,g.totalabuflmsecs,g.totalvbuflmsecs]));}else this.rV=!1;}};f.prototype.Xf=function(g){var k;k=g.lcb;g=g.Ug;this.rV && (k || g === c.Kc.Cl) && this.oMb();return this.trace.length === this.cpb || 0 < this.trace.length && g === c.Kc.kl?(k=this.trace,this.trace=[],{rga:!0,event:{type:"livereport",samplinginterval:this.hX.Z,trace:k}}):{rga:!1};};return f;})();b.ePa=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B;Object.defineProperties(b,{__esModule:{value:!0}});b.fUa=void 0;d=a(0);l=a(11);h=a(6);n=a(8);c=a(197);f=a(21);g=a(2);k=a(1111);m=a(9);p=a(116);q=a(1112);v=d.__importDefault(a(3));t=a(399);w=a(1113);u=a(1121);y=a(1122);x=a(198);z=a(1124);B=a(1126);r=(function(){function A(C,D,E,G,F){void 0 === G && (G=new u.aLa());void 0 === F && (F=new w.$Ka());this.Y6a=C;this.config=D;this.kkb=G;this.lo=[];this.$ib=[];this.Kz=[];this.ic={gdb:0,hdb:0,ddb:0,Kqa:0,edb:0,fdb:0,Lqa:0};this.events=new l.EventEmitter();this.H=(0,n.ri)(v.default,E,"PREFETCH");this.l0a(new y.DKa(D));this.l0a(new B.tVa(D));this.imb({DF:D.vbc});this.ZEa(F);this.h2b();}Object.defineProperties(A.prototype,{wbc:{get:function(){return this.lo.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});A.prototype.Emb=function(C){m.M && (0,g.assert)(C,"Reconciliation strategy is undefined");this.kkb=C;return this;};A.prototype.l0a=function(C){this.$ib.unshift(C);};A.prototype.Nmb=function(C){m.M && this.H.debug("Wish list changed",{pxc:C.length});this.Kz=C;this.RCa();};A.prototype.reset=function(){var C,G,F,K,O,L;if(this.config.Ebc)try{for(var D=d.__values(this.lo),E=D.next();!E.done;E=D.next()){G=E.value;F=G.na;K=G.Aca;O=G.context;if(F){F.he();K.vfa(function(M){return "segmentNormalized" !== M.Rt;});L=(0,x.jwa)(O.we,F.na);F.HG(L);}}}catch(M){var I;I={error:M};}finally{try{E && !E.done && (C=D.return) && C.call(D);}finally{if(I)throw I.error;}}else this.Nmb([]);};A.prototype.imb=function(C){m.M && this.H.debug("Budget changed",{j9b:this.bX,i8b:C});this.bX=C;this.RCa();};A.prototype.NLb=function(C,D){var E,G,F,K;m.M && this.H.debug("Looking for playgraph to claim");if(C=this.kkb.L7a(this.lo,{na:C,Xj:D}))if((D=this.Kz.indexOf(C.context.we),m.M && this.H.debug(("Claiming item: ").concat((0,x.vp)(C.context.we.key)),{Ln:v.default.time.fa() - C.Zga,buffer:null === (E=C.na) || void 0 === E?void 0:E.Rh(n.O.Oa)}),this.oP(C.context,{Dya:!!C.na}),C.na)){E=C.na;F=C.hn;K=E.Xg;z.dUa.oec(E,K,C.Aca,this.H);F.Bfc(null !== (G=E.rZ(K)) && void 0 !== G?G:n.O.Oa,D);E.Opb({DF:this.config.ou || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.we,videoBytesBuffered:C.na.UJ().Wu,audioBytesBuffered:C.na.UJ().rE});}this.config.MHb || this.reset();return null === C || void 0 === C?void 0:C.na;};A.prototype.MLb=function(){};A.prototype.getStats=function(){var C;C=v.default.time.fa();return {wishListLength:this.Kz.length,prefetchList:this.wbc.length,contents:this.lo.map(function(D){var E,G,F,K,O;return {id:(0,x.vp)(D.context.we.key),buffer:null === (E=D.na) || void 0 === E?void 0:E.Rh(n.O.Oa),pId:null === (G=D.na) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.cdb.DF},weight:D.context.Sea,age:C - D.Zga,timeOpened:C - (null !== (F=D.kkc) && void 0 !== F?F:0),state:h.cd[null !== (O=null === (K=D.na) || void 0 === K?void 0:K.Pg.value) && void 0 !== O?O:h.cd.Am]};}),aggregated:{itemsRequested:this.ic.gdb,itemsStarted:this.ic.hdb,itemsClaimed:this.ic.ddb,bytesClaimed:this.ic.Kqa,itemsCompleted:this.ic.edb,itemsDiscarded:this.ic.fdb,bytesDiscarded:this.ic.Lqa}};};A.prototype.oP=function(C,D){var E;void 0 === D && (D={});d.__awaiter(this,void 0,void 0,function(){var G,F,K,O,L,I;return d.__generator(this,function(M){switch(M.label){case 0:G=d.__assign({Dya:!1,ndb:!1},D);F=G.Dya;K=G.ndb;O=(0,f.Nc)(this.lo,function(H){return H.context === C;});if(!O)return [3,3];this.lo.splice(this.lo.indexOf(O),1);K || (L=this.Kz.length,this.Kz=this.Kz.filter(function(H){return H !== C.we;}),m.M && this.H.info("Dropping items from wishlist",L - this.Kz.length),this.Kz.length >= L && m.M && this.H.warn("Unable to filter out wishlist item",this.Kz.map(function(H){return H.key;}),C.we.key));m.M && this.H.debug("Dropping playgraph",{Ln:v.default.time.fa() - O.Zga,buffer:null === (E=O.na) || void 0 === E?void 0:E.Rh(n.O.Oa),N:(0,x.vp)(C.we.key),Vxc:!F,pvc:!K});O.fF.clear();if(F)return [3,2];I=this.QC(O);return O.na?[4,I]:[3,2];case 1:(M.ub(),M.label=2);case 2:(this.RCa(),M.label=3);case 3:return [2];}});});};A.prototype.ZEa=function(C){(0,g.assert)(C,"Playgraph resolver is undefined");this.uCa=C;return this;};A.prototype.h2b=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.ic.edb++;});this.events.on("prefetchStarted",function(){return C.ic.hdb++;});this.events.on("itemQueued",function(){return C.ic.gdb++;});this.events.on("itemClaimed",function(D){var E,G;C.ic.ddb++;C.ic.Kqa+=(null !== (E=D.Vmc) && void 0 !== E?E:0) + (null !== (G=D.JIb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var E,G;C.ic.fdb++;C.ic.Lqa+=(null !== (E=D.Vmc) && void 0 !== E?E:0) + (null !== (G=D.JIb) && void 0 !== G?G:0);});};A.prototype.RCa=function(){var C,D,E,G,F,K;C=this;D=c.OT.$ba({znc:this.Kz,pab:this.bX},this.$ib.map(function(O){return O.r2a.bind(O);})).lo;E=(0,f.Fv)(D,this.lo,function(O,L){return (0,x.isEqual)(O.we.key,L.context.we.key);});G=(0,f.Fv)(this.lo,D,function(O,L){return (0,x.isEqual)(O.context.we.key,L.we.key);});F=(0,f.Fv)(this.lo,G);m.M && this.H.debug(("Re-evaluated prefetch items. new:").concat(E.length,", evict: ").concat(G.length,", update: ").concat(E.length));G=G.map(function(O){var L;L=O.context.we.key;m.M && C.H.debug("Releasing playgraph",(0,x.vp)(L));return C.QC(O).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:O.context.we});});});K=F.map(function(O){return d.__awaiter(C,void 0,void 0,function(){var L,I;return d.__generator(this,function(M){switch(M.label){case 0:(L=(0,f.Nc)(D,function(H){return (0,x.isEqual)(H.we.key,O.context.we.key);}),(0,g.assert)(L,"Couldn't find the requested item context"),O.context=L,M.label=1);case 1:return (M.Mp.push([1,3,,4]),[4,O.Rea]);case 2:return (I=M.ub(),[3,4]);case 3:return (M.ub(),[2]);case 4:return ((0,f.Nc)(this.lo,function(H){return H === O;}) && (this.Z0a(O.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:O.context.we})),[2]);}});});});E=E.map(function(O){var L;L=C.zPb(O);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:O.we});return L;});this.lo=d.__spreadArray(d.__spreadArray([],d.__read(F),!1),d.__read(E),!1);F=E.map(function(O){return O.Rea.catch(function(){});});F=G.concat(K).concat(F);Promise.all(F);};A.prototype.QC=function(C){var D;D=this;return C.Rea.then(function(E){return d.__awaiter(D,void 0,void 0,function(){var G;return d.__generator(this,function(F){switch(F.label){case 0:return (m.M && this.H.debug("Removing prefetch playgraph",{size:E.Rh(n.O.Oa)}),C.fF.clear(),[4,this.Y6a()]);case 1:return (G=F.ub(),G.QC(E),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.we,videoBytesBuffered:E.UJ().Wu,audioBytesBuffered:E.UJ().rE}),[2]);}});});},function(){});};A.prototype.U9=function(C){return d.__awaiter(this,void 0,void 0,function(){var D,E,G,F,K,O,L;L=this;return d.__generator(this,function(I){switch(I.label){case 0:return (D=C.context,E=(0,x.vp)(D.we.key),m.M && this.H.debug("Creating playgraph",E),[4,this.uCa.Ieb(D)]);case 1:return (G=I.ub(),[4,D.we.Mh.fs(E).Xu]);case 2:return (F=I.ub(),F.ba.cp?(this.oP(D,{Dya:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(E) + " is not supported with prefetching")]):[4,this.Y6a()]);case 3:return (K=I.ub(),O=K.GW(G,D.Sea,D.Xj,D.we.Mh,!1),C.fF.addListener(O.events,"error",function(M){m.M && L.H.debug("Prefetch playgraph resulted in error",M.nvc);L.oP(D);}),[2,O]);}});});};A.prototype.f$b=function(C,D){return d.__awaiter(this,void 0,void 0,function(){var E,G,F,K;return d.__generator(this,function(O){switch(O.label){case 0:return (E=C.context,G=(0,x.vp)(E.we.key),F=E.we.Mh.fs(G),[4,F.Xu]);case 1:return (K=O.ub(),this.Z0a(E,D),this.dIb(E,D,!!K.ug),D.open(),D.YC({mS:function(L,I){var M;M=L.recommendedMedia;return M?(0,f.vt)(I,function(H){return H.new_track_id === M.rq;}):(0,f.vt)(I,function(H){return H.track_id === L.defaultTrackOrderList[0].audioTrackId;});}},{mS:function(L,I){var M;M=L.recommendedMedia;return M?(0,f.vt)(I,function(H){return H.new_track_id === M.jT;}):(0,f.vt)(I,function(H){return H.track_id === L.defaultTrackOrderList[0].videoTrackId;});}}),D.HG((0,x.jwa)(E.we,D.na)),this.Mdc(C,F),F.Uv && (m.M && this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.oP(C.context)),[2]);}});});};A.prototype.Mdc=function(C,D){var G;function E(F){m.M && G.H.debug(("Viewable ").concat(F?"superseded":"expired"),(0,x.vp)(C.context.we.key));C.Jwc=!0;G.oP(C.context,{ndb:!F});}G=this;D.events && (C.fF.addListener(D.events,"viewableEvicted",function(){E(!0);}),C.fF.addListener(D.events,"viewableExpired",function(){E(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.we});};A.prototype.Z0a=function(C,D){D.iqb(C.Sea);D.Opb(C.cdb);};A.prototype.dIb=function(C,D,E){var G;G=C.Pic;C=G.audio;G=G.video;E && G.push(new t.vU(this.H,D.config));D.dFa(new p.Dx(C,!0),new p.Dx(G,!0));};A.prototype.zPb=function(C){var D,E,G;D=this;E=new k.eUa();G={context:C,Zga:v.default.time.fa(),fF:new l.kf(),hn:E};G.Rea=this.U9(G).then(function(F){return d.__awaiter(D,void 0,void 0,function(){var K,O;O=this;return d.__generator(this,function(L){switch(L.label){case 0:for(K=F;K.sb;){K=K.sb;}F.eg(E);E.DIb(F);G.Aca=new q.oMa(K.events,{Fhc:function(I){var M;M=I.Rt;switch(M){case "buffering":return !1;case "bufferingStarted":G.Aca.vfa(function(H){return "bufferingComplete" === H.Rt || "updateStreamingPts" === H.Rt;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.Aca.vfa(function(H){return H.Rt === M;});default:return !0;}}});K.events.on("bufferingComplete",function(){O.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.we});});return [4,this.f$b(G,F)];case 1:return (L.ub(),G.kkc=v.default.time.fa(),G.na=F,[2,F]);}});});});G.Rea.catch(function(F){m.M && D.H.error("Exception occurred creating playgraph",F);D.oP(G.context);});return G;};return A;})();b.fUa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eUa=void 0;d=a(0).__importDefault(a(3));l=a(28);r=(function(){function h(){this.creationTime=d.default.time.fa();this.gd={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}h.prototype.DIb=function(n){this.na=n;};h.prototype.Bfc=function(n,c){var f;n=null === (f=this.na) || void 0 === f?void 0:f.Rh(n);this.gd={isPrefetchItem:!0,prefetchedVideoMs:n.XS,prefetchedAudioMs:n.WS,prefetchClaimDurationMs:d.default.time.fa() - this.creationTime,prefetchRank:c};};Object.defineProperties(h.prototype,{je:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});h.prototype.ol=function(n){if(n.Ug === l.Kc.Cl)return this.gd;};return h;})();b.eUa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oMa=void 0;d=a(0);r=(function(){function h(n,c){void 0 === c && (c={});this.Bq=n;this.options=c;this.HJ=[];this.pK=new l(n,this.VGb.bind(this));}h.prototype.VGb=function(n){for(var c,f,g,k,m,p,q=[],v=1;v < arguments.length;v++){q[v - 1]=arguments[v];}q={Rt:n,ut:q};(null !== (g=null === (f=(c=this.options).Fhc) || void 0 === f?void 0:f.call(c,q,this.HJ)) && void 0 !== g?g:1) && this.HJ.push(q);return null !== (p=null === (m=(k=this.options).Cyc) || void 0 === m?void 0:m.call(k,q)) && void 0 !== p?p:!0;};h.prototype.vfa=function(n){this.HJ=this.HJ.filter(function(c,f){return !n(c,f);});};h.prototype.EDa=function(){var n;n=this;this.pK.RGa();this.HJ.forEach(function(c){var f;(f=n.Bq).emit.apply(f,d.__spreadArray([c.Rt],d.__read(c.ut),!1));});this.pK.Xbb();};Object.defineProperties(h.prototype,{length:{get:function(){return this.HJ.length;},enumerable:!1,configurable:!0}});h.prototype.clear=function(){this.HJ=[];};h.prototype.Wa=function(){this.clear();this.pK.RGa();this.options=void 0;};return h;})();b.oMa=r;l=(function(){function h(n,c){this.Bq=n;this.Lv=c;this.zhb=this.Bq.emit;this.hPb();this.Xbb();}h.prototype.hPb=function(){var n;n=this;this.pK=function(c){for(var f,g,k=[],m=1;m < arguments.length;m++){k[m - 1]=arguments[m];}return (null === (g=n.Lv) || void 0 === g?0:g.call.apply(g,d.__spreadArray([n,c],d.__read(k),!1)))?(f=n.zhb).call.apply(f,d.__spreadArray([n.Bq,c],d.__read(k),!1)):!1;};};h.prototype.Xbb=function(){this.pK && (this.Bq.emit=this.pK);};h.prototype.RGa=function(){this.Bq.emit=this.zhb;};h.prototype.Wa=function(){this.RGa();this.Lv=this.pK=void 0;};return h;})();},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ka=void 0;d=a(0);l=a(38);h=a(198);r=(function(){function n(){}n.prototype.Ieb=function(c){return d.__awaiter(this,void 0,void 0,function(){var f,g,k,m,p;return d.__generator(this,function(q){switch(q.label){case 0:f=c.we.key;if(!(0,h.a_)(f))return [3,2];g=f.N;k=c.we.Mh.fs(g);return [4,Promise.resolve(k.Xu)];case 1:return (m=q.ub(),p=m.ba,p.Yo?[2,(0,l.y9)(p.Yo,{config:m.config})]:[2,(0,l.Aga)(g,"ps0")]);case 2:return [2,f.na];}});});};return n;})();b.$Ka=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dla=void 0;b.Dla=(function(){function a(){}a.decode=function(d){return Object.assign({initialSegment:d.ke,segments:a.xQb(d.T)},void 0 !== d.Ge?{transitionType:d.Ge}:{});};a.encode=function(d){return Object.assign({ke:d.initialSegment,T:a.CTb(d.segments)},void 0 !== d.transitionType?{Ge:d.transitionType}:{});};a.CTb=function(d){return Object.keys(d).reduce(function(l,h){l[h]=a.BTb(d[h]);return l;},{});};a.BTb=function(d){return Object.assign({N:d.viewableId,Ba:d.startTimeMs},d.endTimeMs?{Aa:d.endTimeMs}:{},d.defaultNext?{dc:d.defaultNext}:{},d.weight?{weight:d.weight}:{},d.transitionType?{Ge:d.transitionType}:{},d.next?{next:a.zTb(d.next)}:{},d.exitZones?{Dq:d.exitZones}:{},d.playbackRate?{playbackRate:d.playbackRate}:{},d.uxSegment?{tc:d.uxSegment}:{},d.type?{type:d.type}:{},void 0 !== d.fadeIn?{Vv:d.fadeIn}:{},void 0 !== d.fadeOut?{$r:d.fadeOut}:{});};a.zTb=function(d){return Object.keys(d).reduce(function(l,h){l[h]=a.ATb(d[h]);return l;},{});};a.ATb=function(d){return Object.assign({},void 0 !== d.weight?{weight:d.weight}:{},d.transitionType?{Ge:d.transitionType}:{});};a.xQb=function(d){return Object.keys(d).reduce(function(l,h){l[h]=a.wQb(d[h]);return l;},{});};a.wQb=function(d){return Object.assign({viewableId:d.N,startTimeMs:d.Ba},d.Aa?{endTimeMs:d.Aa}:{},d.dc?{defaultNext:d.dc}:{},d.weight?{weight:d.weight}:{},d.Ge?{transitionType:d.Ge}:{},d.next?{next:a.uQb(d.next)}:{},d.Dq?{exitZones:d.Dq}:{},d.playbackRate?{playbackRate:d.playbackRate}:{},d.tc?{uxSegment:d.tc}:{},d.type?{type:d.type}:{},void 0 !== d.Vv?{fadeIn:d.Vv}:{},void 0 !== d.$r?{fadeOut:d.$r}:{});};a.uQb=function(d){return Object.keys(d).reduce(function(l,h){l[h]=a.vQb(d[h]);return l;},{});};a.vQb=function(d){return Object.assign({},void 0 !== d.weight?{weight:d.weight}:{},d.Ge?{transitionType:d.Ge}:{});};return a;})();},function(r,b,a){var f;function d(g){return Object.keys(g.segments).some(function(k){return void 0 !== c(g.segments[k]);});}function l(g){return "delayedSeamless" === g?"lazy":g;}function h(g){return Object.keys(g).reduce(function(k,m){var p,q;p=g[m];q=p.weight;p=p.transitionType || p.transitionHint;m=k[m]={};void 0 !== q && (m.weight=q);p && (m.Ge=l(p));return k;},{});}function n(g){var k,m;k=Object.keys(g);m=k.length;return m?k.reduce(function(p,q){return p + (g[q].weight || 0);},0) / m:void 0;}function c(g){var k;if(g.ui){k=g.ui.interactionZones;if((null === k || void 0 === k?0:k.length) && k[0].length)return k[0][0] - g.startTimeMs;g=g.ui.interactionZonesV2;if((null === g || void 0 === g?0:g.length) && g[0].length)return g[0][0];}else if(void 0 !== g.earliestSkipRequestOffset)return g.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.y9=void 0;f=a(162);b.y9=function(g,k){var m,p,q,v,t,w;m=void 0 === k?{}:k;k=m.ag;p=m.ke;q=m.T;m=m.config;v=!(!m || -1 === m.Mua.indexOf(g.viewableId));t=d(g)?0:(null === m || void 0 === m?void 0:m.Lua) || 0;m=new f.yx();w=q || g.segments;m.KL(null !== p && void 0 !== p?p:g.initialSegment).wmb(null !== k && void 0 !== k?k:g.mediaTypes).jFa(v?"immediate":l(g.transitionType)).cFa(Object.keys(w).reduce(function(u,y){var x,z,B,A,C,D;x=w[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (v || (null === (A=x.exitZones) || void 0 === A?0:A.length))?n(x.next):void 0;}A=z;if(z=x.exitZones)C=void 0;else a:{if(v && x.endTimeMs){C=x.endTimeMs - x.startTimeMs;D=c(x);if(D && D < C){C=[[D,C]];break a;}if(t && C > t){C=[[C - t,C]];break a;}}C=void 0;}D=v?C?void 0:x.transitionHint || "lazy":x.transitionHint;A={N:g.viewableId,Ba:x.startTimeMs,Aa:null !== (B=x.endTimeMs) && void 0 !== B?B:Infinity,Ge:l(D),Dq:z || C,weight:A};x.defaultNext && (A.dc=x.defaultNext);x.next && (A.next=h(x.next));u[y]=A;return u;},{}));return m.kj();};},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Aga=void 0;d=a(162);b.Aga=function(l,h,n){var c;c=new d.yx();c.KL(h).jFa("lazy").wmb(n).pg(h,{N:l,Ba:0,Aa:Infinity});return c.kj();};},function(r,b,a){var f,g,k,m;function d(p){for(var q=p.ke,v=[];q;){v.push(q);q=p.T[q].next;if(!q)break;q=Object.keys(q);if(q.length)(k.assert(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return v;}function l(p){return m.MW(Object.keys(p.T).map(function(q){return p.T[q].N;}));}function h(p,q){return Object.keys(q.T).some(function(v){v=q.T[v];return p.N === v.N && p.Ba > v.Ba && (!v.Aa || !!p.Aa && (Infinity === p.Aa || p.Aa < v.Aa));});}function n(p){return null === p || void 0 === p?Infinity:p;}function c(p,q){return null === p || void 0 === p?Infinity === n(q.Aa):p >= q.Ba && p <= n(q.Aa);}Object.defineProperty(b,"__esModule",{value:!0});b.qAa=void 0;f=a(0);g=a(162);k=a(464);m=a(280);b.qAa=function(p,q){var v,t,w,u,y;v=d(q);t=l(p);w=l(q);t=m.c1a(t,w);k.assert(1 === t.length,"Source and content playgraphs should share one viewable");u=t[0];w=Object.keys(p.T).filter(function(x){return p.T[x].N === u;}).map(function(x){var F,K,O,L,I,M;for(var z,B=p.T[x],A=B.Ba,C=n(B.Aa),D=0 === A,E=[],G=0;G < v.length;++G){F=v[G];K=q.T[F];O=h(p.T[x],q);if(K.N !== u)D && E.push({id:x + ":" + F,G:f.__assign(f.__assign({},K),{tc:x})});else if(D){I=Math.max(B.Ba,K.Ba);L=(M=!Number.isFinite(C) && G == v.length - 1)?C:Math.min(C,n(K.Aa));L > I && (O=Infinity !== C || !O && !M?Infinity === L?null:L:B.Aa,E.push({id:x + ":" + F,G:f.__assign(f.__assign({},K),{Ba:I,Aa:O,tc:x})}));if(c(C,K)){if(C === n(K.Aa))for(G+=1;G < v.length;++G){A=v[G];C=q.T[A];if(C.N === u)break;E.push({id:x + ":" + A,G:f.__assign(f.__assign({},C),{tc:x})});}break;}}else if(c(A,K))if((D=!0,C <= n(K.Aa)))E.push({id:x,G:B});else {I=B.Ba;M=!Number.isFinite(C) && G == v.length - 1;O=M && O?B.Aa:Math.min(C,n(K.Aa));E.push({id:x + ":" + F,G:f.__assign(f.__assign({},K),{Ba:I,Aa:O,tc:x})});}}E.length || E.push({id:x,G:f.__assign(f.__assign({},B),{tc:x})});for(G=0;G < E.length - 1;++G){A=E[G + 1].id;E[G].G=f.__assign(f.__assign({},E[G].G),{dc:A,next:(z={},z[A]={},z)});}z=E[E.length - 1];z.G=f.__assign(f.__assign({},z.G),{dc:B.dc,next:B.next});return {id:x,G:B,aob:E};});y=w.reduce(function(x,z){return (x[z.id]=z.aob[0].id,x);},{});t=new g.yx();w=w.reduce(function(x,z){z.aob.forEach(function(B){return x[B.id]=B.G;});return x;},{});return t.cFa(w,function(){return !0;},y).o0a(p.T,function(x,z){return !y[z];},y,function(x,z){return f.__assign(f.__assign({},x),{tc:z});}).KL(y[p.ke] || p.ke).kj();};},function(r,b,a){var q,v,t,w,u;function d(y,x,z,B,A){var C,D,E;C=y.T[x];D=z.T[C.tc];B=B.tc;E=f(C.Aa) - C.Ba;E=void 0 === A?A=0:A + E;return C.N === (null === D || void 0 === D?void 0:D.N)?{Q2:f(C.Aa),oX:A}:C.tc === B && (x=q.__read(l(y,x),1)[0]) && y.T[x].tc === C.tc?d(y,x,z,C,E):{Q2:D.Ba,oX:E};}function l(y,x){return Object.keys(y.T).filter(function(z){return y.T[z].dc === x;});}function h(y,x,z,B,A){var C,D,E;void 0 === A && (A=0);x=y.T[x];C=z.T[x.tc];B=B.tc;D=z.T[B];E=f(x.Aa) - x.Ba;return x.N === (null === C || void 0 === C?void 0:C.N)?{Q2:x.Ba,oX:A}:x.tc === B && x.dc?h(y,x.dc,z,x,A + E):{Q2:f(D.Aa),oX:A};}function n(y,x,z){var B,A,C,D,E,G,F,K,O,L,I,M,H;B=m(y,x,z);if(B)return B;B=y.T[z.G];A=z.offset;C=Object.keys(x.T).filter(function(J){return x.T[J].tc === z.G;});D=[];C.forEach(function(J){var P,X,V;function N(S){S=v.aaa(x,S);null === S || void 0 === S?void 0:S.forEach(function(U){var ha,qa;if(x.T[U].tc !== z.G){ha=x.T[U];qa=ha.Aa;V={G:U,offset:qa - ha.Ba};(ha=qa?p(y,x,V):void 0) && D.push({qB:V,Rs:ha});ha || (V={G:U,offset:0},(ha=p(y,x,{G:U,offset:0})) && D.push({qB:V,Rs:ha}));N(U);}});}P=x.T[J];X=P.Aa;V={G:J,offset:X - P.Ba};(P=X?p(y,x,V):void 0) && D.push({qB:V,Rs:P});V={G:J,offset:0};(X=p(y,x,V)) && D.push({qB:V,Rs:X});X || P || N(J);});w.assert(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");E=B.Ba + A;F=Infinity;D.forEach(function(J){var N;N=J.Rs;N=E - (y.T[N.G].Ba + N.offset);0 <= N && N < F && (F=N,G=J);});K=[];C.forEach(function(J){var P,X,V,S;function N(U){Object.keys(x.T[U].next || ({})).forEach(function(ha){var qa,xa,Aa;if(x.T[ha].tc !== z.G){qa=x.T[ha];xa=qa.Ba;qa=qa.Aa;S={G:ha,offset:0};Aa=p(y,x,S);Aa && K.push({qB:S,Rs:Aa});Aa || (S={G:ha,offset:qa - xa},(xa=qa?p(y,x,S):void 0) && K.push({qB:S,Rs:xa}));}N(ha);});}P=x.T[J];X=P.Ba;V=P.Aa;S={G:J,offset:0};(P=p(y,x,S)) && K.push({qB:S,Rs:P});S={G:J,offset:V - X};(X=V?p(y,x,S):void 0) && K.push({qB:S,Rs:X});P || X || N(J);});w.assert(0 < K.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");L=Infinity;K.forEach(function(J){var N;N=J.Rs;N=y.T[N.G].Ba + N.offset - E;if(0 <= N && N < L || N > L && 0 > L || Infinity === L)(L=N,O=J);});w.assert(G);w.assert(O);A=G.qB;w.assert(A,"Segment not found in the combined playgraph");B=O.qB;w.assert(B,"Segment not found in the combined playgraph");I=x.T[A.G];C=x.T[B.G];A.offset === f(I.Aa) - I.Ba && x.T[I.dc].tc === I.tc && (A.G === B.G && A.offset === B.offset && (B={G:C.dc,offset:0},C=x.T[B.G]),A={G:I.dc,offset:0},I=x.T[A.G]);M=y.T[G.Rs.G].Ba + G.Rs.offset;H=y.T[O.Rs.G].Ba + O.Rs.offset - M;M=0 === H?0:(E - M) / H;if(A.G === B.G)return (I=I.Ba + A.offset,A=A.G,{G:A,offset:I + M * (C.Ba + B.offset - I) - x.T[A].Ba});H=c(x,A,B);I=H.path;H=H.xJ;C=0 === B.offset?0:f(C.Aa) - C.Ba;return k(x,I,A.offset + M * (H - A.offset - (C - B.offset)));}function c(y,x,z){var B,A;if(x.G !== z.G){for(x=[x.G];x[x.length - 1] !== z.G;){B=y.T[x[x.length - 1]];w.assert(B.next,"Cannot find path between points in combined playgraph");if(B.next[z.G])break;A=Object.keys(B.next);1 === A.length?x.push(A[0]):(w.assert(B.dc,"Multiple paths but no default finding paths between points in combined playgrahp"),x.push(B.dc));}0 !== z.offset && x.push(z.G);return {path:x,xJ:g(y,x)};}return {path:[],xJ:z.offset - x.offset};}function f(y){return null === y || void 0 === y?Infinity:y;}function g(y,x){return x.reduce(function(z,B){var A;B=y.T[B];A=B.Ba;return z + f(B.Aa) - A;},0);}function k(y,x,z){var A,C,D;for(var B=0;B < x.length;++B){A=x[B];C=y.T[A];D=C.Ba;C=f(C.Aa) - D;if(C > z)return {G:A,offset:z};z-=C;}w.assert(!1,"Invalid offset given for path");}function m(y,x,z){var B,A,C,D,E,G,F,K,O,L,I;A=y.T[z.G];w.assert(A,"Graph position " + z.G + " does not exist in UX playgraph");C=z.offset;w.assert(0 <= C,"Graph position offset " + C + " cannot be negative");w.assert(!A.Aa || C <= A.Aa - A.Ba,"Graph position " + C + " offset outside segment");if(x.T[z.G])return z;D=Object.keys(x.T).filter(function(M){return x.T[M].tc === z.G;});w.assert(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");E={};G=0;D.forEach(function(M){if(void 0 === E[M]){for(var H=0;M;){E[M]=[G,H++];M=x.T[M].dc;}++G;}});D.sort(function(M,H){return E[M][0] !== E[H][0]?1:E[M][1] - E[H][1];});F=A.Ba + C;K=D.filter(function(M){return x.T[M].N === A.N;});O=q.__read(D,1)[0];K=K.map(function(M){return [M,x.T[M]];}).filter(function(M){var H;M=q.__read(M,2);H=M[0];return F >= M[1].Ba || H === O;});if(K=t.Nc(K,function(M){var H;M=q.__read(M,2)[1];H=M.dc?x.T[M.dc]:void 0;return !M.Aa || !!M.Aa && F < M.Aa || (null === H || void 0 === H?void 0:H.tc) !== z.G && F >= M.Ba;})){L=q.__read(K,2);K=L[0];L=L[1];I=(isFinite(F)?F:null !== (B=L.Aa) && void 0 !== B?B:Infinity) - L.Ba;w.assert(0 <= I,"Content playgrah graph position offset cannot be negative");B=!0;0 === I && (B=u.pua(x,K),B=!B || B.tc !== L.tc);if(B)return {G:K,offset:I};}D=D.filter(function(M){return x.T[M].N !== A.N;});if(0 === C && (C=u.pua(y,z.G),!C || C.tc !== z.G) && (C=t.Nc(D,function(M){return 0 === v.aaa(x,M).length;}),void 0 !== C))return {G:C,offset:0};if(A.Aa && Infinity !== A.Aa && !(A.Aa - A.Ba !== z.offset || A.dc && y.T[A.dc]) && (C=t.Nc(D,function(M){return !x.T[M].next || 0 === Object.keys(x.T[M].next).length;}),void 0 !== C))return (D=x.T[C],y=D.Ba,D=D.Aa,w.assert(D,"Content playgraph segments from other viewables must have end time"),{G:C,offset:D - y});}function p(y,x,z){var B,A;B=x.T[z.G];w.assert(B,"Graph position does not exist in combined playgraph");A=z.offset;w.assert(0 <= A,"Graph position offset cannot be negative");w.assert(!B.Aa || A <= B.Aa - B.Ba,"Graph position offset outside segment");if(void 0 === B.tc)return z;y=y.T[B.tc];w.assert(y,"Referenced ux playgraph segment must exist");if(B.N === y.N)return (A=B.Ba + A - y.Ba,y=f(y.Aa) - y.Ba,A=Math.max(Math.min(A,y),0),{G:B.tc,offset:A});if(0 === A && (z=v.aaa(x,z.G).filter(function(C){return x.T[C].tc === B.tc;}),0 === A && 0 === z.length))return {G:B.tc,offset:0};A=B.dc?x.T[B.dc]:void 0;if((null === A || void 0 === A?void 0:A.tc) !== B.tc)return {G:B.tc,offset:y.Aa?y.Aa - y.Ba:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.f9a=b.Jqb=b.y3a=void 0;q=a(0);v=a(38);t=a(280);w=a(464);u=a(465);b.y3a=function(y,x,z){var B,A,C,D;B=x.T[z.G];A=p(y,x,z);if(A)return A;w.assert(B.tc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");C=y.T[B.tc];w.assert(C,"Referenced ux playgraph segment must exist");w.assert(B.Aa,"Content playgraph segments from other viewables must have end time");if(!B.dc || !x.T[B.dc])return (w.assert(C.Aa,"Must have definite end time to add terminal content playgraph segment"),{G:B.tc,offset:C.Aa - C.Ba});D=d(x,z.G,y,B);A=D.Q2;D=D.oX;if(null === A || void 0 === A)return (w.assert(C.Aa,"Experience playgraph segment must have end time"),{G:B.tc,offset:C.Aa - C.Ba});x=h(x,z.G,y,B);y=x.Q2;x=x.oX;null !== y && void 0 !== y && isFinite(y) || w.assert(y,"Experience playgraph segment must have end time");return {G:B.tc,offset:A + (D + z.offset) / (D + x) * (y - A)};};b.Jqb=n;b.f9a=function(y,x,z){var B,A,C;return q.__generator(this,function(D){switch(D.label){case 0:(B=n(y,x,z),A=x.T[B.G],C=B.G,D.label=1);case 1:return [4,C];case 2:(D.ub(),C=A.dc,A=x.T[C],D.label=3);case 3:if((null === A || void 0 === A?void 0:A.tc) === z.G && C !== B.G)return [3,1];D.label=4;case 4:return [2];}});};},function(r,b,a){var l,h,n;function d(c,f,g){var k;if(!g)return !1;g=g[f];return "boolean" === typeof g?!0 === g:(null === g || void 0 === g?void 0:g.length) === (null === (k=c[f].zf) || void 0 === k?void 0:k.length);}Object.defineProperty(b,"__esModule",{value:!0});b.h4a=b.Up=void 0;l=a(0);h=a(162);b.Up=-1;b.h4a=function(c,f,g,k,m){function p(w){var u,y,x,z,B,A;u=f.yf[w];y=d(f.yf,w,g);x=!!u.zf;z=!!k && !y && x;B=0 === u.eo;u.eo > v && q.pg(c + "-" + w,{N:c,Ba:v,Aa:u.eo,type:"content"});x || q.sHb();!z || B && !m || q.pg("padstart-" + w,{N:b.Up,Ba:0,Aa:k,type:"padding"});v=u.eo;if(u.zf && !y){A=null === g || void 0 === g?void 0:g[w];u.zf.forEach(function(C,D){var E;E=!1;Array.isArray(A) && (E=-1 < A.indexOf(D));E || q.pg("ad-" + w + "-" + D,{N:C.id,Ba:C.Ba,Aa:C.Aa,type:"ad"});});z && q.pg("padend-" + w,{N:b.Up,Ba:0,Aa:k,type:"padding"});}}void 0 === k && (k=0);void 0 === m && (m=!1);for(var q=new n(),v=0,t=0;t < f.yf.length;++t){p(t);}q.pg(c + "-" + f.yf.length,{N:c,Ba:v,Aa:null,type:"content"});return q.kj();};n=(function(){function c(){this.ob=new h.yx();}c.prototype.pg=function(f,g){var k,m,p;this.LJ || (this.LJ=f);if(this.tG){m=l.__read(this.tG,2);p=m[0];m=m[1];m.dc=f;m.next=(k={},k[f]={},k);"content" === m.type && -1 < ["ad","padding"].indexOf(g.type) && (m.$r=!0);"content" === g.type && (-1 < ["ad","padding"].indexOf(m.type) || m.$r) && (g.Vv=!0);this.ob.pg(p,m);}this.tG=[f,g];};c.prototype.sHb=function(){var f,g;if(this.tG){f=l.__read(this.tG,2);g=f[0];f=f[1];"content" === f.type && (f.$r=!0);this.ob.pg(g,f);this.tG=[g,f];}};c.prototype.kj=function(){var f;if(this.tG){f=l.__read(this.tG,2);this.ob.pg(f[0],f[1]);}this.tG=void 0;this.LJ && this.ob.KL(this.LJ);return this.ob.kj();};return c;})();},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.aLa=void 0;d=a(0);l=a(2);h=a(198);r=(function(){function n(){}n.vp=function(c){var f,g;f=c.T;c=c.ke;g=f[c].N;Object.keys(f).forEach(function(k){return (0,l.assert)(f[k].N === g);});return f[c].N;};n.prototype.L7a=function(c,f){var g;g=Object.keys(f.na.T).length;return d.__read(c.filter(function(k){var m,p;return n.vp(f.na) === (0,h.vp)(k.context.we.key) && (1 === g || g === Object.keys(null !== (p=null === (m=k.na) || void 0 === m?void 0:m.na.T) && void 0 !== p?p:{}).length);}),1)[0];};return n;})();b.aLa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DKa=b.GKa=void 0;d=a(116);l=a(1123);b.GKa=625E3;r=(function(){function h(n){this.config=n;}h.prototype.r2a=function(n){var c,f,g,k,m;c=this.config.i$;f=this.config.sfb || this.config.h$;g=0 < n.pab.DF;k=g?f * b.GKa / 1E3:this.config.ou || Infinity;m=g?Math.floor(n.pab.DF / k):c;return {lo:n.znc.sort(function(p,q){return p.priority - q.priority;}).slice(0,c).map(function(p,q){var v;v=p.key.config;return {cdb:{DF:q > m - 1?0:k},we:p,Sea:1,Xj:v,Pic:{audio:[(0,d.nJ)(v),new l.fma()],video:[(0,d.oJ)(v),new l.fma()]}};})};};return h;})();b.DKa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.fma=void 0;d=a(6);r=(function(){function l(){}l.prototype.nl=function(h,n){return n === d.cd.Bm?[]:h;};return l;})();b.fma=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dUa=void 0;d=a(9);l=a(1125);b.dUa=(function(){function h(){}h.oec=function(n,c,f,g){n.events.once("seeking",function(k){var m,p;m=k.position;p=f.length;k.duplicate || (f.vfa(function(q){return "segmentNormalized" !== q.Rt;}),d.M && g.log(("Discarding ").concat(p - f.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.qba)(c)) + (" due to seek to ").concat((0,l.qba)(m))));d.M && g.log(("Replaying ").concat(f.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.qba)(m)));f.EDa();f.Wa();});};return h;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qba=void 0;b.qba=function(a){return ("( ").concat(a.S,", ").concat(a.offset.Fb()," )");};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tVa=void 0;r=(function(){function a(d){this.config=d;}a.prototype.r2a=function(d,l){var h,n;h=this;d=l(d);n=d.lo.map(function(c){return c.we.priority;}).sort();d.lo.forEach(function(c){c.Sea=h.config.ybc / (2 << n.lastIndexOf(c.we.priority));});return d;};return a;})();b.tVa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VTa=void 0;r=(function(){function a(d){this.gl=d.gl;this.Hy=this.c2b();}a.prototype.GW=function(d){d.events.on("requestsPruned",this.Hy);};a.prototype.QC=function(d){d.events.removeListener("requestsPruned",this.Hy);};a.prototype.c2b=function(){var d;d=this;return function(){return d.gl();};};return a;})();b.VTa=r;},function(r,b,a){var l;function d(h,n,c,f){return h && n?Math.min(h - n * c,h - f):(h || Infinity) - f;}Object.defineProperties(b,{__esModule:{value:!0}});b.u2a=void 0;l=a(6);b.u2a=function(h,n){var c,f,g,k,m,p,q,v;v=d(n.audio,n.Ktc,h.esa,null !== (f=h.$3a) && void 0 !== f?f:0);f=d(n.video,n.yzc,h.esa,null !== (g=h.b4a) && void 0 !== g?g:0);g=d(n.text,n.Vyc,h.esa,null !== (k=h.a4a) && void 0 !== k?k:0);return (c={},c[l.u.U]=v,c[l.u.J]=f,c[l.u.nb]=g,c.total=(n.total || Infinity) - (null !== (m=h.$3a) && void 0 !== m?m:0) - (null !== (p=h.b4a) && void 0 !== p?p:0) - (null !== (q=h.a4a) && void 0 !== q?q:0),c);};},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.U9=void 0;d=a(0);l=a(9);h=a(1130);n=a(198);c=a(197);b.U9=function(f,g,k){var m,p,q,v;m=[function(t){return new (h.yia.bind.apply(h.yia,d.__spreadArray([void 0],d.__read(t.K0),!1)))();}];p=(0,n.vp)({na:g[0]});l.M && k.trace("Creating playgraph",{Nxc:p,uuc:f.cY,zf:f.EJ});if(f.cY){q=a(1169);m.unshift(function(t,w){return q.uX({},t,w);});}if(f.EJ){v=a(1174);m.unshift(function(t,w){return v.uX({},t,w);});}return c.OT.$ba({K0:g,Lpa:[]},m);};},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T;function d(W){var Q;Q={};W.forEach(function(ka){ka.mediaType !== f.u.nb && (Q[ka.mediaType]=ka.qp());});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.yia=void 0;l=a(0);h=a(11);n=a(38);c=a(407);f=a(6);g=a(1131);k=a(8);m=a(1132);p=a(1140);q=l.__importDefault(a(3));v=a(2);t=a(1141);w=a(21);u=a(60);y=a(116);x=a(159);z=a(28);B=a(473);A=a(278);C=a(277);D=a(1148);E=a(71);G=l.__importDefault(a(154));F=a(1149);K=a(279);O=a(1150);L=a(474);I=a(1151);M=a(1152);H=a(1153);J=a(1154);N=a(1157);P=a(1158);X=a(1159);V=a(1160);S=a(1161);U=a(1162);ha=a(1164);qa=a(1165);xa=a(1166);Aa=a(1167);Oa=a(1168);T=a(137).fz.Nsa;r=(function(){function W(Q,ka,ra,R,fa,wa,ua,Ea,Xa,vb){this.Qo=Q;this.N_a=ka;this.config=ra;this.id=R;this.Zx=wa;this.gl=ua;this.OLb=Ea;this.$p=vb;this.V6=!1;this.wA=void 0;this.Rta=[];this.mk=this.sb=void 0;this.G8="2.0";this.Jbb=this.J7=this.Ro=this.Zna=void 0;this.Tc=c.Kl.CLOSED;this.vna=!0;this.N8=!1;this.Wga=this.wHa=this.UW=void 0;this.T1a=new h.kf();this.ZE=0;this.Oga=!1;this.d2b();this.console=new q.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.Di=new E.Ex({Rq:10,Dp:this,source:"AsePlaygraph",console:this.console});this.events=new h.EventEmitter();this.YEa(Q);this.cb=new N.JTa();this.Bh=new Aa.LTa(this.console);this.Kwa=new I.MMa(this.config,k.O.Na(this.config.gda),{parent:this.Z$a.bind(this),next:this.fZb.bind(this)},this.events,this.console);this.Pga=new p.XVa(this.console,this.events);this.bX={DF:ra.ou || Infinity};this.X=new t.ola(this);this.ff=new u.WU(this.X.za,this.console,"playgraph",1);this.i2b();this.Tf=new P.EJa(this.console,ra,fa,this.events,this,this.Yu);this.l9=new S.vJa(this.ff,this.Yu,this.config,this.Bl.bind(this),this.Pg,this.console);this.fea=this.Tf.fea.bind(this.Tf);this.r0=this.Tf.r0.bind(this.Tf);this.oea=this.Tf.oea.bind(this.Tf);this.Yda=this.Yda.bind(this);this.Zda=this.Zda.bind(this);this.GL=this.GL.bind(this);this.SC=new z.Rla(ra);this.$1b();this.SC.eg(new C.tA(this.Tf.Di));this.SC.eg(new D.VSa(this.vZb.bind(this)));this.SC.eg(new C.tA(this.Di));this.SC.eg(new F.ITa(this.cb,this));this.SC.eg(new O.fPa(this));this.Qnb=new xa.WVa(this,this.console,Xa);this.Sca=new K.CPa(this.Yu,this.console,this.events);this.Wo=new Oa.NTa(this.rfa.bind(this));this.dFa((0,y.oJ)(this.config),(0,y.nJ)());}Object.defineProperties(W.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{jw:{get:function(){return !(this.X instanceof t.ola);},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Le:{get:function(){return this.wA;},set:function(Q){this.wA=Q;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{v2b:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{na:{get:function(){return this.Qo;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{weight:{get:function(){return this.N_a;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Xg:{get:function(){(0,v.assert)(this.Xt,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Ro.position;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Llb:{get:function(){(0,v.assert)(this.Xt,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.qZ(this.Xg).Ht;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Pg:{get:function(){return this.Tf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{uf:{get:function(){return this.Tf.uf;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Zf:{get:function(){return this.Tf.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Xt:{get:function(){return void 0 !== this.Ro;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Ni:{get:function(){return this.X.tf?this.X.Ni:this.Xg;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Me:{get:function(){var Q,ka;return this.X.tf?this.X.Me:null !== (ka=null === (Q=this.Ro) || void 0 === Q?void 0:Q.Wq) && void 0 !== ka?ka:this.Llb;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{cqa:{get:function(){return this.HAb;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{iT:{get:function(){return this.aGb;},enumerable:!1,configurable:!0}});W.prototype.i2b=function(){this.Yu=new u.WU(new A.c6({wk:!0,currentTime:function(){return k.O.Na(q.default.time.fa());},speed:1}),this.console,"wallclock");};W.prototype.$1b=function(){var Q;Q=this;(0,qa.i4a)({Tf:this.Tf,Yu:this.Yu},u.fj.fH(k.O.Na(this.config.HC)),function(){Q.X.tf && Q.X.wi && (Q.Tf.state.value === f.cd.bh || Q.Tf.state.value === f.cd.ce) && Q.mt(Q.X.wi);},"buffering");};W.prototype.d2b=function(){var Q;Q=this;this.cz=function(ka){var ra,R,fa;R=Q.navigator.Be(ka.position.S);if((R=Q.s$a(R)) && Q.X.tf){fa=(0,k.uua)(Q.X.cb.filter(function(wa){return wa.G.id === ka.position.S;}),ka.playerTimestamp,{C3a:!0});fa && (null === (ra=Q.X.Lp) || void 0 === ra?void 0:ra.xz({G:fa.G,get hha() {return fa.xd.Fa(fa.G.xf);}},R,Q.Ni.offset,!0,!1));}Q.Wo.start();};this.l0=function(){Q.gl("onDrmReady");};this.E9b=function(ka){ka=ka.newValue;Q.V6 || (Q.V6=ka);};};W.prototype.open=function(){this.vna=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Tc !== c.Kl.CLOSED)return !1;this.Tc=c.Kl.OPEN;return !0;};W.prototype.Wa=function(){this.Yu.Wa();this.ff.Wa();this.Tc !== c.Kl.CLOSED && (this.he(),this.Wo.Wa(),this.Tf.stop(),this.Tc=c.Kl.CLOSED,this.jw || this.X.Wa(),this.Sca.Wa());};W.prototype.lLb=function(Q,ka,ra){Q=(0,X.Qta)(this.cb,this.GL.bind(this),Q,ka,ra).K2a;return this.z2a(Q);};W.prototype.YC=function(Q,ka,ra){var R,fa,wa,ua;R=this;this.UW=Q;this.wHa=ka;this.Wga=ra;Q=(0,X.Qta)(this.cb,this.GL.bind(this));fa=Q.K2a;Q=Q.MJb;if(!this.z2a(fa))return !1;if(0 === fa.length)return !0;wa=this.Ni;this.X.cS(fa);ua=this.qZ(wa).Ht;Q.forEach(function(Ea){var Xa;Xa=Ea.Ya;Xa.YC(Ea.Fe,wa.S === Xa.G.id?ua:void 0,void 0 !== R.cb.gZ(Xa),fa);});this.Tf.b$b(wa,Q[0].Fe);return !0;};W.prototype.nJ=function(Q){return (0,y.nJ)(this.config,Q);};W.prototype.oJ=function(Q){return (0,y.oJ)(this.config,Q);};W.prototype.bZ=function(Q,ka){var ra,R;ra=this.navigator.Be(Q);R=this.navigator.Be(ka);return {Gmc:ra.E0b(ka),dX:ka !== Q && this.cb.has(ka) && this.cb.cw(ka)[0].Hh,ue:R.xf.Z,PAa:this.s$a(ra)};};W.prototype.Bl=function(Q,ka,ra,R){var fa,wa,ua,Ea;fa=this;void 0 === R && (R=!0);if(!ka)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(R && this.Bh.get(Q))ra || this.Bh.set(Q,ka);else {ua=this.LY(Q)[0];Ea=this.navigator.Be(Q);this.Ni.S === Q && ua && (null === (wa=this.X.Lp) || void 0 === wa?void 0:wa.xz({G:ua.G,get hha() {return ua.xd.Fa(ua.G.xf);}},ka,this.Ni.offset,R,ra));R || (Q={offset:k.O.Oa,S:ka},this.Ro={position:Q,Hh:!0,Hpb:Q});ra?this.Bh.Bgc(Ea.id,ka):this.Bh.set(Ea.id,ka);this.Wo.start();R && Ea.nz && 0 < Ea.nz.length && ((0,v.assert)(ua),ua.mha(Ea.nz) && this.LY(ka).forEach(function(Xa){return fa.jr(ua,Xa);}));R || this.Tf.sR(this.Xg);}};W.prototype.z2a=function(Q){return 0 === Q.length?!0:(Q=this.X.aba()) && Q.greaterThan(this.X.Me)?!1:!0;};W.prototype.jr=function(Q,ka){var ra;ra=this;Q=Q.Qc.Fa(ka.G.xf);ka.jr(Q);this.cb.tXb(ka).forEach(function(R){return ra.jr(ka,R);});};W.prototype.Lk=function(Q){this.navigator.Lk(Q);this.Wo.start();};W.prototype.dFa=function(Q,ka){this.HAb=Q;this.aGb=ka;this.state === c.Kl.Bm && this.gl("setStreamFilters");};W.prototype.PGb=function(Q){(0,v.assert)(-1 === this.Rta.indexOf(Q),"Attempted to add the same evaluation hook twice");this.Rta.push(Q);};W.prototype.Wgc=function(Q){this.Zx.lec(Q);};W.prototype.HG=function(Q,ka){this.Xfa(Q,ka);};W.prototype.Xfa=function(Q,ka,ra){var R,fa,wa,ua,Ea;wa=this.na;ua=(0,L.Kqb)(wa,Q);if(ua.CQ){Ea=this.zfc(wa,Q,ka);if(void 0 === Ea)this.ig(("Invalid seekPosition after sanitization to ").concat(Q.S) + ("(").concat(Q.offset.Z,"ms)") + (", reason: ").concat(ua.reason),null === (R=wa.T[Q.S]) || void 0 === R?void 0:R.N);else if(void 0 === this.UW || void 0 === this.wHa)this.ig("No track selectors available");else if((R=!(this.jw && this.X.Iy) && (0,L.qab)(null === (fa=this.Ro) || void 0 === fa?void 0:fa.Hpb,Ea),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:R}),!R)){this.J7=ra;this.Xt && (this.xz(Ea),this.TLb(Q));Q=this.X9a();try{this.he(!0);this.SLb();this.Ro={position:Ea,Hpb:Ea,Hh:!1,Wq:ka};this.Jbb=ka?ka.Fa(this.Llb):k.O.Oa;this.Tf.sR();this.Tc=c.Kl.Bm;this.Wo.start();}finally{Q.release();}}}else this.ig(("Invalid seekPosition to ").concat(null === Q || void 0 === Q?void 0:Q.S) + ("(").concat(Q.offset.Z,"ms)") + (", reason: ").concat(ua.reason),null === (Ea=wa.T[Q.S]) || void 0 === Ea?void 0:Ea.N);};W.prototype.xz=function(Q){var ka,ra;ra=this.navigator.Be(this.Ni.S);null === (ka=this.X.Lp) || void 0 === ka?void 0:ka.xz({G:ra,hha:ra.duration},Q.S,this.Ni.offset,!1);};W.prototype.TLb=function(Q){var ka,ra;if((null === (ka=this.X.YY()) || void 0 === ka?void 0:ka.G.id) === Q.S){if((this.Bh.ULb(Q.S),!this.Bh.get(Q.S) && this.X.Iy)){Q=this.X.cb;ra=this.X.YY();ra && (Q=(0,w.Nc)(Q,function(R){return R.parent === ra;})) && this.Bh.set(ra.G.id,null === Q || void 0 === Q?void 0:Q.G.id);}}else this.Bh.yra();};W.prototype.X9a=function(){var Q,ka;Q=this;ka=this.cb.filter(function(ra){return ra.G.N !== n.Up;}).map(function(ra){return Q.Zx.Js(ra.G.N).IQ;});return new x.jka(function(){ka.forEach(function(ra){return ra.release();});},this.console).cy();};W.prototype.he=function(Q){var ka,ra,R;R=this.U_b();this.cb.reset();if(!Q && (this.Bh.yra(),R.length))try{for(var fa=l.__values(R),wa=fa.next();!wa.done;wa=fa.next()){wa.value.qkb();}}catch(Ea){var ua;ua={error:Ea};}finally{try{wa && !wa.done && (ka=fa.return) && ka.call(fa);}finally{if(ua)throw ua.error;}}this.ff.Eg();this.X.reset();this.Ro=void 0;this.l9.reset();null === (ra=this.T1a) || void 0 === ra?void 0:ra.clear();this.Tc === c.Kl.Bm && (this.Tc=c.Kl.OPEN);};W.prototype.LY=function(Q){return this.cb.cw(Q);};W.prototype.si=function(Q){this.Tf.si(Q);(0,v.assert)(this.X.fu,"Must have an appended branch on underflow");this.X.T0a && this.Tf.Zf && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.Rh(this.Me),this.Tf.Og("complete",Q.WS,Q.XS));this.l9.yGa(this.X.fu,this.Me);this.gl("onUnderflow");this.events.emit("underflow");};W.prototype.eg=function(Q){this.SC.eg(Q);};W.prototype.jy=function(Q){this.eg(new B.MUa(Q));return this.CIb(Q);};W.prototype.CIb=function(Q){var ka;ka=this.X;if(!this.X.AGa(Q))return (this.ig("player in use"),!1);this.X=Q;this.ff.j1a(this.X.za);this.X.events.on("segmentPresenting",this.cz);this.X.events.on("drmReady",this.l0);this.X.pu.addListener(this.E9b);this.events.emit("playerChanged",{type:"playerChanged",old:ka,"new":this.X});return !0;};W.prototype.qZ=function(Q){var ka,ra;ka=Q.offset;ra=this.navigator.Be(Q.S);Q=ra.N;ka=ra.xf.add(ka);return {N:Q,Ht:ka};};W.prototype.dn=function(Q,ka){var ra,R,fa,wa;wa=this.X.dn(Q);if(void 0 !== wa)return wa;if(null === (R=null === (ra=this.Ro) || void 0 === ra?void 0:ra.Wq) || void 0 === R?0:R.equal(Q))return null !== (fa=this.J7) && void 0 !== fa?fa:this.Xg;ra=this.X.fu;return (0,L.dn)(Q,{Ka:this,m2b:ra && ({id:ra.G.id,Ufc:ra.Cs})},ka);};W.prototype.rZ=function(Q){var ka;void 0 === ka && (ka=!1);Q=this.sZ(Q,ka).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.Wq);};W.prototype.sZ=function(Q,ka){var ra,R,fa,wa,ua,Ea,Xa,vb,nb,zb,Ma,Ya,bb;void 0 === ka && (ka=!1);return l.__generator(this,function(hb){switch(hb.label){case 0:(ra=this.X.sZ(Q),R=ra.next(),hb.label=1);case 1:return R.done?[3,3]:[4,R.value];case 2:return (hb.ub(),R=ra.next(),[3,1]);case 3:if(!ka)return [2];fa={};wa=this.Ni;this.jw && this.X.tf && (Xa=this.X.fu) && (wa={offset:k.O.Oa,S:Xa.G.id},ua=Xa.Qc.Fa(this.X.Me),Ea=Xa.G);ua || (Ea=this.navigator.Be(wa.S),ua=Ea.xf.add(wa.offset).Fa(Ea.Eh));(0,v.assert)(Ea,"Current segment should be defined by here");vb=this.Me;if(Ea.G.dc && Ea.id !== Q.S)return [3,6];if(Ea.id !== Q.S)return [3,5];nb=Q.offset.Fa(wa.offset);return [4,{lP:nb,Wq:vb.add(nb)}];case 4:(hb.ub(),hb.label=5);case 5:return [2];case 6:(zb=this.navigator.Be(Ea.G.dc),Ma=this.navigator.jdb(zb),Ya=Ma.next(),hb.label=7);case 7:if(Ya.done)return [3,11];bb=Ya.value;if(fa[bb.id])return [3,11];fa[bb.id]=!0;if(bb.id !== Q.S)return [3,9];nb=Q.offset.add(ua);return [4,{lP:nb,Wq:vb.add(nb)}];case 8:return (hb.ub(),[2]);case 9:(ua=ua.add(bb.duration),hb.label=10);case 10:return (Ya=Ma.next(),[3,7]);case 11:return [2];}});};W.prototype.zlb=function(Q){return (0,L.mEa)(this.na,Q);};W.prototype.zfc=function(Q,ka,ra){var R,fa;R=(0,L.mEa)(Q,ka);fa=k.O.Na(1E4);if(!R || !ra || ra.greaterThan(fa))return R;Q=ka.offset.add(k.O.Na(Q.T[ka.S].Ba));ra=ra.Fa(Q);if(ra.tk(k.O.Oa))return R;fa=k.O.max(k.O.Oa,Q.Fa(fa)).add(ra);if(fa.tk(k.O.Oa))return R;fa=R.offset.add(fa);return {S:R.S,offset:fa};};W.prototype.mp=function(Q,ka){var ra;Q="string" === typeof Q?{N:this.na.T[Q].N,Ht:k.O.Na(ka)}:Q;if(Q.N !== n.Up){ka=this.Zx.Js(Q.N);try{return null === (ra=ka.P) || void 0 === ra?void 0:ra.mp(this.config,Q.Ht.Z);}finally{ka.IQ.release();}}};W.prototype.Vaa=function(){return (0,U.P8a)(this.cb,this.cca.bind(this));};W.prototype.cca=function(Q){Q=this.cb.gZ(Q);return void 0 === Q || Q.Gj && this.cca(Q);};W.prototype.Uaa=function(){return this.bX.DF;};W.prototype.UXb=function(Q){return (0,ha.$$a)(this.cb,Q);};W.prototype.Rh=function(Q){var ka,ra,R;ka=this;this.cb.MJ(function(fa){var wa,ua;wa=fa.PY(f.u.U);ua=fa.PY(f.u.J);if(fa.G.Lu || !ka.cb.Owa(fa) || !fa.Gj){if(!ra || wa < ra)ra=wa;if(!R || ua < R)R=ua;}return fa.Gj;});return {WS:ra?Math.max(ra - Q.Z,0):0,XS:R?Math.max(R - Q.Z,0):0};};W.prototype.UJ=function(){var Q,ka,ra,R;ra=this.Xt?this.Rh(this.Me):{WS:0,XS:0};R=G.default.instance().get();return {totalabuflmsecs:ra.WS,totalvbuflmsecs:ra.XS,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (ka=Number(0 < R.confidence) && (null === (Q=R.Za) || void 0 === Q?void 0:Q.ya)) && void 0 !== ka?ka:0};};W.prototype.gQ=function(){var Q,ka,ra,R,fa,wa,ua,Ea;Q=this;if(this.zp())return (this.Di.Dv({isStreamingFailureReported:!0}),[]);ra=this.cb.size;this.Di.Dv({branchCount:ra});if(!this.Xt || 0 === ra)return [];R=this.Me;fa=this.Ni;wa=[];ra=this.navigator.Be(this.Ni.S);ua=ra.duration;Ea=this.Bh.get(ra.id)?1:null !== (ka=ra.UC) && void 0 !== ka?ka:1;ka=this.cb.reduce(function(Xa,vb,nb){var zb,Ma,hb,kb,ob;try{for(var Ya=l.__values(vb.$Y()),bb=Ya.next();!bb.done;bb=Ya.next()){hb=bb.value;if(!hb.bu()){kb=("p").concat(Q.id,"-").concat(nb,"-").concat(null === (Ma=vb.Ed) || void 0 === Ma?void 0:Ma.Z);ob=Q.Y$a(hb);Xa.push(Q.FPb(hb,ob.Z,kb,ua.Z,Ea,R.Z,fa));}!hb.MF() && Q.Di.enabled && wa.push({segmentId:hb.S,isDoneStreaming:hb.bu(),isNormalized:hb.Hh(),needsHeaderRequest:hb.track.Kda});}}catch(Hb){var Bb;Bb={error:Hb};}finally{try{bb && !bb.done && (zb=Ya.return) && zb.call(Ya);}finally{if(Bb)throw Bb.error;}}return Xa;},[]);this.Di.Dv({nonStreamables:wa});return ka;};W.prototype.Y$a=function(Q){var ka;if(Q.gpa)return Q.gpa;ka=this.Z$a(Q);return !ka || ka.Gj || this.config.C$ && this.navigator.A0b(ka.Ya.G,Q.S)?Q.rX:this.Y$a(ka);};W.prototype.Z$a=function(Q){var R;if(!Q.Ya.Uf){for(var ka=Q.Ya,ra;!ra;){R=this.cb.gZ(ka);if(!R)break;ka=R;ra=R.rF(Q.mediaType);}return ra;}};W.prototype.fZb=function(Q){var ka;if(!Q.Ya.Uf){ka=Q.Ya.G.G.dc;if(ka)return (ka=l.__read(this.cb.cw(ka),1)[0],null === ka || void 0 === ka?void 0:ka.rF(Q.mediaType));}};W.prototype.c$b=function(Q){var ka,ra;if(!this.Pga.zp()){ka=void 0;ra=this.X.Ni;ra && (ka=this.navigator.Be(ra.S).N);this.ig("BufferingStateTracker: Temporary failure while buffering",ka,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.Fh,null === Q || void 0 === Q?void 0:Q.iK,null === Q || void 0 === Q?void 0:Q.Sj);}};W.prototype.ig=function(Q,ka,ra,R,fa,wa,ua){void 0 === ua && (ua=!1);"string" === typeof Q?this.Pga.ig(Q,ra,{networkErrorCode:R,httpCode:fa,nativeCode:wa,viewableId:ka,temporaryFailure:ua}):this.Pga.sec(Q);return !0;};W.prototype.GGa=function(Q,ka){ka=this.Saa(ka,Q);this.events.emit("logdata",{type:"logdata",target:Q,fields:ka});};W.prototype.Saa=function(Q,ka){void 0 !== Q && this.Sca.G4b(Q);ka=this.SC.ol(Q,ka);Q === z.Kc.kl && (Q=this.UJ(),ka.vbuflmsec=Q.totalvbuflmsecs,ka.abuflmsec=Q.totalabuflmsecs,ka.vbuflbytes=Q.vbuflbytes,ka.abuflbytes=Q.abuflbytes);return ka;};W.prototype.Opb=function(Q){this.bX=Q;this.gl("updateBudget");};W.prototype.zp=function(){return this.Pga.zp();};W.prototype.iqb=function(Q){Q !== this.weight && (this.N_a=Q,this.events.emit("weightUpdated"));};W.prototype.fx=function(Q){var ka,ra,R,fa,wa,ua,vb,nb,zb,Ma,Ya,bb,hb,kb,ob,Bb;R=(0,J.q2a)(this.na,Q);fa=R.WR;wa=R.hLb;ua=R.llc;if([R.Apa,fa,wa].every(function(Kb){return !Kb.length;}))return (this.YEa(Q),this.Wo.start(),{ja:!0,reason:f.pv.nyb});if(0 === wa.length && 0 === ua.length && this.jw && this.X.tf)return {ja:!1,reason:f.pv.wxb};if(this.X.cb.some(function(Kb){return -1 < fa.indexOf(Kb.G.id);}))return {ja:!1,reason:f.pv.kzb};if(this.Xt && !this.X.tf && -1 < fa.indexOf(this.Xg.S))return {ja:!1,reason:f.pv.Iwb};if(this.Xt)try{for(var Ea=l.__values(wa),Xa=Ea.next();!Xa.done;Xa=Ea.next()){vb=Xa.value;nb=this.na.T[vb];zb=nb.Ba;Ma=nb.Aa;Ya=nb.N;bb=Q.T[vb];hb=bb.Aa;kb=bb.Ba;ob=bb.N;if(this.Ni.S === vb && hb !== Ma){if(!hb)return {ja:!1,reason:f.pv.lzb};Bb=k.O.Na(hb - kb);if(null === (ra=this.Ni.offset) || void 0 === ra?0:ra.greaterThan(Bb))return {ja:!1,reason:f.pv.Irb};}if(zb !== kb)return {ja:!1,reason:f.pv.lvb};if(Ya !== ob)return {ja:!1,reason:f.pv.mvb};}}catch(Kb){var Hb;Hb={error:Kb};}finally{try{Xa && !Xa.done && (ka=Ea.return) && ka.call(Ea);}finally{if(Hb)throw Hb.error;}}this.YEa(Q);this.Wo.start();return {ja:!0,reason:f.pv.myb};};W.prototype.oF=function(Q){Q=this.LY(Q);Q=0 < Q.length?Q[0]:void 0;if((Q=null === Q || void 0 === Q?void 0:Q.Rm()) && 0 !== Q.length)return k.O.min.apply(k.O,l.__spreadArray([],l.__read(Q.map(function(ka){return ka.oF();})),!1));};W.prototype.YEa=function(Q){var ka;ka={type:"playgraphUpdating",j9b:this.Qo,i8b:Q};this.Qo=Q;this.navigator=new H.STa(Q);this.Y_b=(0,J.T3a)(this.navigator);this.events.emit("playgraphUpdating",ka);};W.prototype.s0=function(Q,ka){this.Ekb(Q);Q.FP.addListener("criticalNetworkError",this.fea);Q.FP.addListener("temporaryNetworkError",this.r0);Q.FP.addListener("updatingLastSuccessEvent",this.oea);Q.events.addListener("liveEventTimesUpdated",this.Yda);Q.events.addListener("liveLoggingInfoUpdated",this.Zda);Q.qa && Q.kcc();this.Tc === c.Kl.Bm && ka && this.Elb();};W.prototype.CBa=function(Q){0 === this.cb.filter(function(ka){return ka.Kq && ka.P === Q;}).length && this.Ekb(Q);};W.prototype.Ekb=function(Q){Q.FP.removeListener("criticalNetworkError",this.fea);Q.FP.removeListener("temporaryNetworkError",this.r0);Q.FP.removeListener("updatingLastSuccessEvent",this.oea);Q.events.removeListener("liveEventTimesUpdated",this.Yda);Q.events.removeListener("liveLoggingInfoUpdated",this.Zda);};W.prototype.X_a=function(Q){var ka;(0,v.assert)(Q.Hh,"expected branch to be normalized on addBranchToPlayer");this.X.Iy || (null === (ka=this.Ro) || void 0 === ka?0:ka.Hh) || this.BVb(Q);this.Tf.vha(Q.Fe);this.X.Iy && (ka=this.X.fu) && this.Bh.clear(ka.G.id);this.X.Hta(Q);this.l9.yGa(Q,this.Me);};W.prototype.BVb=function(Q){(0,v.assert)(Q.cc,"Normalized branch should have a defined content start timestamp");(0,v.assert)(this.Ro,"AsePlaygraph should have a seek position on first branch normalization");(0,v.assert)(!this.Ro.Hh,"Seek position should not already be normalized on first branch normalization");this.Ro=l.__assign(l.__assign({},this.Ro),{position:{S:Q.G.id,offset:Q.cc.Fa(Q.G.xf)},Hh:!0});this.Tf.vgc(this.Ro.position,Q.Fe.filter(function(ka){return ka.mediaType === f.u.U;})[0]);};W.prototype.SLb=function(){var Q;this.l9.reset();this.X.KE();this.Ro=void 0;null === (Q=this.T1a) || void 0 === Q?void 0:Q.clear();};W.prototype.FPb=function(Q,ka,ra,R,fa,wa,ua){var Ea,Xa,vb,nb;Ea=this;nb=null !== (vb=null === (Xa=Q.Ya.Ed) || void 0 === Xa?void 0:Xa.Z) && void 0 !== vb?vb:Q.Ya.$t.Z;Xa=Q.QG.Z;vb=this.Bh.get(Q.S)?1:Q.Ya.G.UC;return {identifier:Q.S,mediaType:Q.mediaType,yi:Q.yi,Pg:this.Pg.value,DC:ka,Ku:Xa,Lt:wa,V7a:Q.KJ.Z,HCa:ua.offset.Z,GCa:R,T0:fa,UC:vb,Xn:Q.Ya.Nt.Z,Snb:Math.max(Xa - nb,0),MF:Q.MF(),bu:Q.bu(),groupId:ra,Xcb:function(zb,Ma){zb=Ea.Qnb.QKb(zb,Q.mediaType,1 > Ma || !Q.Ya.Uf && !Ea.cca(Q.Ya));1 === Ma && "global" === (0,f.kDa)(zb.reason) && Ea.Tf.z9b(Q.mediaType,Ea.Rh(Ea.Me));return zb;},bdb:function(){var zb,Ma,Ya,bb,hb,kb,ob,Bb,Hb,Kb,Qb,Tb,Fb;bb=Q.mediaType;hb=Ea.Kwa.Zfc(Ea.Pg.value,Ea.Me,Q.QG,Q.Rnb,Ea.X.playbackRate,Q,bb === f.u.U?Ea.cqa:Ea.iT,Ea.N8);kb=hb.stream;ob=hb.V1;Bb=hb.tQ;Hb=hb.WC;Kb=hb.tu;Qb=hb.reason;Tb=hb.bVb;hb=hb.$fc;if(!kb)return {Nj:!1,reason:Qb || "selectLocationsAndStream"};if(Ea.Pg.value === f.cd.Bm && Q.Ya && Q.Ya.P.wp && !Q.Ya.P.K_ && !Ea.X.rs(Q.Ya.P.N)){Qb=Q.QG.Z - Ea.Me.Z;if(!Q.Ya.P.$f.ug && Qb > Ea.config.Vza)return {Nj:!1,reason:"maxBufferingCompleteBufferInMs"};if(!kb.Mj && kb.mediaType === f.u.J && Qb >= Ea.config.ada)return {Nj:!1,reason:"maxFastPlayBufferInMs"};}Qb=f.u.J;if(null === (zb=Q.Ya) || void 0 === zb?0:zb.Fe.every(function(Sb){return Sb.mediaType === f.u.U;}))Qb=f.u.U;Ea.Tf.Zf && bb === Qb && Ea.Tf.Jgc(Q.$j.D1,kb.bitrate,Bb);Ea.qS(ob);zb=null === (Ma=Q.Ya.hr) || void 0 === Ma?void 0:Ma.Z;Ma=Q.upb(kb,Kb,Hb);if(Ma.Nj){Ea.vna && (Ea.Dn("firstDriveStreaming"),Ea.vna=!1);if(0 < Ea.ZE){Fb=null === (Ya=Q.Ya.hr) || void 0 === Ya?void 0:Ya.Z;zb && Fb && (Ea.ZE-=zb - Fb,0 >= Ea.ZE && Ea.Elb());}Ea.events.emit("requestIssued",{type:"requestIssued",mediaType:bb,result:hb,streamList:Tb});}else "exceedsLiveEdge" === Ma.reason && (null === (Fb=Ea.Zna) || void 0 === Fb?void 0:Fb.Wa(),Ea.Zna=Ea.Yu.bP(u.fj.fH(kb.Gq().Nt),function(){Ea.Zna=void 0;Ea.gl("liveEdgeRetry");}));return Ma;}};};W.prototype.qS=function(Q){var ka;ka=this;Q.forEach(function(ra){ra.P.Dgc(ra,function(){var R,fa;(0,v.assert)(ka.Xt,"Speculative header callback after streaming is cancelled");R=ka.Me.Z;fa=R + ka.config.S_;return {yi:[],Pg:ka.Tf.state.value,DC:fa,Ku:fa,Lt:R};});});};W.prototype.Elb=function(){var Q;Q=this;this.Wo.Lha(Oa.AH.Xz,function(){return Q.Wo.start();});};W.prototype.rfa=function(){var Q,ka,ra,R,fa;Q=this;if(this.Tc === c.Kl.Bm){ka=this.Ni;ra=this.X.cb;R=this.cb.L_b();fa=l.__read(ra,1)[0];ka=fa?this.navigator.Be(fa.G.id):this.navigator.Be(ka.S);ra=ra.map(function(wa){return {id:wa.G.id,duration:wa.Qc.Fa(wa.Ed).Z};});R=(0,M.rfa)(this.console,this.Y_b,ka,R,this.Bh,ra,k.O.Na(this.config.KJb),this.config.CAa,k.O.Na(this.config.vqa));ra=R.ODa;this.ZE=R.ZE || 0;R=this.Rta.reduce(function(wa,ua){return ua(wa);},ra);this.cb.xlc(R,function(wa,ua){var Ea,Xa;Xa=Q.navigator.Be(wa);wa=wa === Q.Xg.S?Q.Xg.offset:wa === (null === (Ea=Q.J7) || void 0 === Ea?void 0:Ea.S)?Q.J7.offset:k.O.Oa;Ea=Xa.xf.add(wa);return Q.Zkc(Xa,Ea,ua);}).WR.forEach(function(wa){wa.he("aborted");});this.mkb();this.Q2a();this.Wo.Lha(Oa.AH.Xz,function(){var wa;(null === (wa=Q.cb.root()) || void 0 === wa?0:wa.Kq) && Q.gl("reevaluateBranches");Q.Wo.Q_(Oa.AH.QU);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};W.prototype.U_b=function(){return (0,w.MW)(this.cb.filter(function(Q){return Q.Kq;}).map(function(Q){return Q.P;}));};W.prototype.mkb=function(){var Q,ka;Q=this;if(this.Tc === c.Kl.Bm){if(!this.X.fu){ka=l.__read(this.cb.cw(this.Xg.S),1)[0];(null === ka || void 0 === ka?0:ka.Hh) && this.X_a(ka);}if(this.X.fu)for(;;){ka=this.K9a(this.X.fu.G);if(!ka)break;ka=l.__read(this.cb.cw(ka).filter(function(ra){return ra.parent === Q.X.fu;}),1)[0];if(!ka)break;if(null === ka || void 0 === ka || !ka.Hh)break;else if(this.X.Aab(ka))break;this.X_a(ka);}}};W.prototype.s$a=function(Q){var ka,ra,R,fa;if(this.X.Iy){ka=this.X.wi;ra=!1;R=this.X.cb.filter(function(wa){ra || (ra=wa === ka);return ra;});fa=(0,w.vt)(R,function(wa){return wa.G.id === Q.id;});if(R=R[fa + 1])return R.G.id;}return this.K9a(Q);};W.prototype.K9a=function(Q){var ka;ka=this.Bh.get(Q.id);if(void 0 !== ka)return ka;Q=this.navigator.LXb(Q);if(1 === Q.length)return Q[0].id;};W.prototype.Q2a=function(){var Q;Q=this.cb.empty || 0 !== this.JWb();Q || this.Oga?Q && this.Oga && (this.Oga=!1):(this.Tf.Zf && (Q=this.Rh(this.Me),this.Tf.Og("complete",Q.WS,Q.XS)),this.PDb(),this.Oga=!0);};W.prototype.JWb=function(){return this.cb.filter(function(Q){return !Q.Gj;}).length;};W.prototype.mt=function(Q){this.cca(Q) && this.Tf.rra(this.Me,this.X.playbackRate,Q,{qra:this.Kwa.qra.bind(this.Kwa,this.Qnb)});};W.prototype.r9b=function(Q,ka){var ra,R;ra=this;if(ka.didNormalizeSegment){R=V.nVa.T_b(Q);(0,v.assert)(R,"Segment should be normalized");Promise.resolve().then(function(){return ra.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.G.id,normalizedStart:ka.segmentContentStart,normalizedEnd:ka.branchContentEnd,viewableContentEnd:R.Xqb,viewableEarliestContentEnd:R.Yqb,media:d(Q.Fe)});});}Promise.resolve().then(function(){ra.mkb();});this.gl("branchNormalized");};W.prototype.s9b=function(){this.Q2a();};W.prototype.q9b=function(){this.Wo.start();};W.prototype.RPb=function(Q,ka){var ra;ra=this;return new g.xJa(Q.N,this.Zx.Js.bind(this.Zx),function(R,fa,wa){ra.state !== c.Kl.CLOSED && (ra.s0(fa,wa),ra.Wo.Lha(Oa.AH.QU,function(){R.Uf || ra.v7(R,fa,ka);}));},this.CBa.bind(this));};W.prototype.Zkc=function(Q,ka,ra){var R,fa;if(this.OLb(Q,ka))throw Error("Not implemented");R=this.RPb(Q,!ra);fa=ra?ra.Qc.Fa(ka):this.Jbb || k.O.Oa;Q=(0,m.S3a)({config:this.config,console:this.console,G:Q,events:this.events,GL:this.GL,bo:ka,Ud:fa,fg:this.bQb.bind(this),Pg:this.Pg,ff:this.ff,qM:R,Y1a:this.$p,tCa:this.cb});this.cjc(Q,!!ra);return Q;};W.prototype.bQb=function(){return this.Me.Z;};W.prototype.cjc=function(Q,ka){var ra,R;ra=this;R=new h.kf();R.addListener(Q.events,"needsRequest",function(){var fa;fa=ra.cb.root();fa && !fa.Kq || ra.gl("branchNeedsHeader");});R.addListener(Q.events,"branchNormalized",this.r9b.bind(this,Q));R.addListener(Q.events,"lastRequestIssued",this.q9b.bind(this,Q));R.addListener(Q.events,"branchStreamingComplete",this.s9b.bind(this,Q));R.addListener(Q.events,"checkBufferingProgress",this.mt.bind(this,Q));R.addListener(Q.events,"branchDestroyed",function(fa){R.clear();ra.cb.contains(Q) && (ra.cb.ufa(Q),ra.Wo.start());"aborted" === fa.reason && (ra.X.Aab(Q) || ra.Wo.Lha(Oa.AH.Xz,function(){return ra.hoa(Q.G.id);}));});ka || (this.Dn("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){ra.Dn("createDlTracksEnd");}));};W.prototype.vZb=function(Q){if(this.X.tf)return this.X.wi.fb(Q);};W.prototype.GL=function(Q,ka,ra,R){ka=[[f.u.U,null !== ka && void 0 !== ka?ka:this.UW,"audio_tracks"],[f.u.J,null !== ra && void 0 !== ra?ra:this.wHa,"video_tracks"]].map(function(fa){var wa,ua;wa=l.__read(fa,3);ua=wa[0];fa=wa[1];wa=wa[2];if(Q.ba && ((0,v.assert)(fa,("Expected mediaType ").concat(ua," track selector to be defined")),ua=Q.ba[wa],fa=fa.mS(Q.ba,ua),void 0 !== fa))return Q.getTrackById(ua[fa].ZS);}).filter(w.Vda);ra=R || this.Wga;Q.ba && ra && (R=Q.ba.timedtexttracks,ra=ra.mS(Q.ba,R),void 0 !== ra && 0 <= ra && (R=Q.getTrackById(R[ra].id)) && ka.push(R));return ka;};W.prototype.Yda=function(Q){var ka,ra,R,fa;ka=this;ra=Q.P;R=Q.startTime;fa=Q.endTime;this.cb.filter(function(wa){return wa.Kq && wa.P === ra;}).forEach(function(wa){wa={type:"liveEventTimesUpdated",S:wa.G.id,startTime:R,endTime:fa};ka.events.emit(wa.type,wa);});};W.prototype.Zda=function(Q){var ka,ra,R,fa;ka=this;ra=Q.P;R=Q.mediaType;fa=Q.info;this.cb.filter(function(wa){return wa.Kq && wa.P === ra;}).forEach(function(wa){wa={type:"liveLoggingInfoUpdated",S:wa.G.id,mediaType:R,info:fa};ka.events.emit(wa.type,wa);});};W.prototype.v7=function(Q,ka,ra){(0,v.assert)(Q.Fe.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.G.id,contentOffset:Q.Ud.Z,maxBitrates:{audio:ka.ku[f.u.U],video:ka.ku[f.u.J]},media:d(Q.Fe),initial:ra};this.events.emit(Q.type,Q);};W.prototype.hoa=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};W.prototype.PDb=function(){var Q;Q={type:"streamerEnd",time:q.default.time.fa()};this.events.emit(Q.type,Q);};W.prototype.Dn=function(Q){Q={type:"startEvent",event:Q,time:q.default.time.fa()};this.events.emit(Q.type,Q);};l.__decorate([T.return.Ti()],W.prototype,"Xg",null);l.__decorate([(0,E.jc)({methodName:"checkCanSetTracks",return:!0})],W.prototype,"lLb",null);l.__decorate([(0,E.jc)({methodName:"setTracks",return:!0})],W.prototype,"YC",null);l.__decorate([(0,E.jc)({methodName:"setNextSegment",ut:!0})],W.prototype,"Bl",null);l.__decorate([(0,E.jc)({methodName:"seekStreaming"}),l.__param(0,T.Ti())],W.prototype,"HG",null);l.__decorate([(0,E.jc)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,T.Ti()),l.__param(2,T.Ti()),l.__param(2,T.aea)],W.prototype,"Xfa",null);l.__decorate([T.return.W3a(),l.__param(0,T.Ti())],W.prototype,"qZ",null);l.__decorate([T.return.Ti()],W.prototype,"dn",null);l.__decorate([l.__param(0,T.Ti())],W.prototype,"rZ",null);l.__decorate([l.__param(0,T.Ti())],W.prototype,"sZ",null);l.__decorate([T.return.Ti(),l.__param(0,T.Ti())],W.prototype,"zlb",null);l.__decorate([l.__param(0,T.W3a()),l.__param(0,T.S())],W.prototype,"mp",null);l.__decorate([(0,E.jc)({methodName:"getStreamables",Wl:!0})],W.prototype,"gQ",null);l.__decorate([(0,E.jc)({methodName:"updatePlaygraphMap",return:!0})],W.prototype,"fx",null);return W;})();b.yia=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.xJa=void 0;d=a(0);r=(function(){function l(h,n,c,f){this.N=h;this.Js=n;this.s0=c;this.CBa=f;}Object.defineProperties(l.prototype,{P:{get:function(){var h;return null === (h=this.b3) || void 0 === h?void 0:h.P;},enumerable:!1,configurable:!0}});l.prototype.Wa=function(){var h;this.P && (this.P.TGa(this.Ya),this.CBa(this.P));null === (h=this.b3) || void 0 === h?void 0:h.IQ.release();this.b3=void 0;};l.prototype.oa=function(h){return d.__awaiter(this,void 0,void 0,function(){var n,c,f,g,k;return d.__generator(this,function(m){switch(m.label){case 0:return (this.Ya=h,n=this.Js(this.N),c=n.eH,f=n.P,g=n.IQ,this.b3={IQ:g,P:f},f?(this.Ibb(f,h,!1),[2,f]):[4,c]);case 1:return (k=m.ub(),this.Ibb(k,h,!0),[2,k]);}});});};l.prototype.Ibb=function(h,n,c){this.b3 && (this.b3.P=h,h.sDa(n),this.s0(n,h,c));};return l;})();b.xJa=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.S3a=void 0;d=a(38);l=a(1133);h=a(8);n=a(1134);b.S3a=function(c){var f,g,k,m,p,q,v,t,w,u,y,x;f=c.config;g=c.console;k=c.tCa;m=c.G;p=c.events;q=c.GL;v=c.bo;t=c.Ud;w=c.fg;u=c.Pg;y=c.ff;x=c.qM;c=c.Y1a;m.N === d.Up && f.EJ?(p=new l.ZRa(m.N,f.KBa),q=h.O.Oa,f=new (a(1138).YRa)(g,m,q,k.gZ.bind(k),p,f)):f=new n.uJa(f,g,p,m,q,v,t,w,k.gZ.bind(k),u,y,x,c);return f;};},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.ZRa=void 0;d=a(38);r=(function(){function l(h,n){this.N=h;this.anc=n;this.L=("").concat(d.Up);this.qa=!1;this.H1=0;}l.prototype.getTrackById=function(){};l.prototype.si=function(){};l.prototype.qkb=function(){};l.prototype.ig=function(){return !0;};l.prototype.aS=function(){};return l;})();b.ZRa=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.uJa=b.uD=void 0;d=a(0);l=a(118);h=a(6);n=a(8);c=a(20);r=a(78);f=a(35);g=a(2);k=a(193);m=a(271);p=a(9);q=a(133);v=a(1135);t=a(466);w=a(1136);(function(y){y[y.NT=0]="CREATED";y[y.FT=1]="CANCELLED";})(u=b.uD || (b.uD={}));a=(function(y){function x(z,B,A,C,D,E,G,F,K,O,L,I,M){B=y.call(this,C,K,G,E,B) || this;B.K=z;B.Fea=A;B.Qaa=D;B.yV=F;B.yA=O;B.Vx=L;B.qM=I;B.$p=M;B.Ky=new m.UM();B.KDa=0;B.Mb=void 0;B.Az=void 0;B.em=new n.xD();B.Uba=new n.xD();B.nBa=B.f2b();return B;}d.__extends(x,y);Object.defineProperties(x.prototype,{Fe:{get:function(){var z;this.Kq && 0 === (null === (z=this.qO) || void 0 === z?void 0:z.length) && this.Qaa && (p.M && this.console.trace("Branch getting initial tracks"),this.qO=this.Qaa(this.P).sort(t.cH),p.M && this.console.trace("Branch got initial tracks:",this.qO));return this.qO;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{AO:{get:function(){return this.Gj?this.Rm().every(function(z){return z.Xa.AO;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{K0a:{get:function(){return this.Rm().some(function(z){return z.THb;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vw:{get:function(){var z;return !(null === (z=this.Zd) || void 0 === z || !z.vw);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Gj:{get:function(){var z;return !(null === (z=this.Zd) || void 0 === z || !z.Gj);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{tt:{get:function(){var z,B;return null !== (B=null === (z=this.Zd) || void 0 === z?void 0:z.tt) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Hh:{get:function(){var z;return !(null === (z=this.Zd) || void 0 === z || !z.Hh);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{lT:{get:function(){return this.em.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kq:{get:function(){var z;return !(null === (z=this.qM) || void 0 === z || !z.P);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{yba:{get:function(){return !!this.Fe.length && this.Fe.every(function(z){return z.ve;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{P:{get:function(){(0,g.assert)(this.qM.P,"viewable should be available");return this.qM.P;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{V:{get:function(){var z;return (null === (z=this.Zd) || void 0 === z?void 0:z.V) || this.bo.V;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$a:{get:function(){var z,B;return null !== (B=null === (z=this.Zd) || void 0 === z?void 0:z.$a) && void 0 !== B?B:this.bo.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{lb:{get:function(){var z,B;return null !== (B=null === (z=this.Zd) || void 0 === z?void 0:z.lb) && void 0 !== B?B:this.G.Eh.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Yj:{get:function(){var z,B;return null !== (B=null === (z=this.Zd) || void 0 === z?void 0:z.Yj) && void 0 !== B?B:this.Ud.Ue(this.V).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$t:{get:function(){var z,B,A;return null !== (B=null === (z=this.Zd) || void 0 === z?void 0:z.$t) && void 0 !== B?B:null === (A=this.bo) || void 0 === A?void 0:A.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{KJ:{get:function(){var z,B;B=null === (z=this.G.G.Dq) || void 0 === z?void 0:z[0];return B && this.cc?c.O.Na(Math.max(0,B[0] - this.cc.Z - this.G.xf.Z)):c.O.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Cs:{get:function(){var z,B;return null !== (B=null === (z=this.Zd) || void 0 === z?void 0:z.Cs) && void 0 !== B?B:this.G.xf.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{oG:{get:function(){var z,B;return null !== (B=null === (z=this.Zd) || void 0 === z?void 0:z.oG) && void 0 !== B?B:this.G.Eh.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{i_:{get:function(){var z;return null === (z=this.Zd) || void 0 === z?void 0:z.i_;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ud:{get:function(){var z,B;return null !== (B=null === (z=this.Zd) || void 0 === z?void 0:z.Ud) && void 0 !== B?B:this.Ar;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hr:{get:function(){var z,B;return null !== (B=null === (z=this.Zd) || void 0 === z?void 0:z.hr) && void 0 !== B?B:this.G.Eh.Fa(this.bo || this.G.xf);},enumerable:!1,configurable:!0}});x.prototype.oa=function(){return d.__awaiter(this,void 0,void 0,function(){var z,B,A;A=this;return d.__generator(this,function(C){switch(C.label){case 0:y.prototype.oa.call(this);if(this.Uf)return [2];p.M && this.console.log(("AseBranch {").concat(this.G.id,"} awaiting viewable"));return [4,this.qM.oa(this)];case 1:C.ub();p.M && this.console.log(("AseBranch {").concat(this.G.id,"} viewable available, branch ").concat(this.Uf?"cancelled":"active"));if(this.Uf)return [2];z=this.Fe.map(function(D){var E;return null === (E=A.parent) || void 0 === E?void 0:E.fQ(D.mediaType);});this.tmb(this.bo);this.Fe.some(function(D){D.mediaType === h.u.nb && A.Jmb(D);});return [4,this.x7a()];case 2:return (C.ub(),p.M && this.console.log(("AseBranch {").concat(this.G.id,"} have headers")),this.Uf?[2]:(B=this.parent)?[4,B.lT]:[3,4]);case 3:C.ub();if(this.Uf)return [2];this.fPb(z);C.label=4;case 4:return (this.normalize(),[2]);}});});};x.prototype.fPb=function(z){var B;B=this;this.Ky.forEach(function(A){var C,D;D=null === (C=B.parent) || void 0 === C?void 0:C.fQ(A.mediaType);(0,g.assert)(D,"Parent state should be defined");-1 === (null === z || void 0 === z?void 0:z.indexOf(D)) && (A.$j.De.Wa(),C=new k.e6(function(){var E;return null === (E=B.parent) || void 0 === E?void 0:E.fQ(A.mediaType);}),A.$j.De=C);D=void 0;});z=void 0;};x.prototype.x7a=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.yba?this.Uba.resolve():(this.P.events.on("onHeaderFragments",this.nBa),this.events.emit("needsRequest"));return [2,this.Uba.promise];});});};x.prototype.f2b=function(){var z;z=this;return function(){!z.Uf && z.yba && (z.P.events.Ew("onHeaderFragments",z.nBa),z.Uba.resolve());};};x.prototype.normalize=function(){this.Uf || (this.Zd=new w.mRa(this,this.K,this.console,this.P,this.Fea,this.mq,this.bo,this.Ky.items,this.Ar,this.yV,this.yA,this.events,this.Vx,this.$p),this.vta(this.Zd.WE),this.em.resolve(this.Zd));};x.prototype.update=function(z){var B;this.mq=z;(null === (B=this.Zd) || void 0 === B?0:B.update(z)) && this.vta(!0);};x.prototype.jr=function(z,B){var A;void 0 === B && (B="unknown");y.prototype.jr.call(this,z,B);null === (A=this.Zd) || void 0 === A?void 0:A.jr(z);};x.prototype.Fy=function(z){return d.__awaiter(this,void 0,void 0,function(){var B;return d.__generator(this,function(A){switch(A.label){case 0:return [4,this.em];case 1:return (B=A.ub(),[2,null === B || void 0 === B?void 0:B.Fy(z)]);}});});};x.prototype.bF=function(){var z;null === (z=this.Zd) || void 0 === z?void 0:z.bF();};x.prototype.reset=function(){var z;null === (z=this.Zd) || void 0 === z?void 0:z.reset();};x.prototype.he=function(z){var B;void 0 === z && (z="other");y.prototype.he.call(this,z);this.Tc=u.FT;this.Kq && this.P.events.Ew("onHeaderFragments",this.nBa);null === (B=this.Zd) || void 0 === B?void 0:B.he(z);this.Ky.forEach(function(A){A.cancel();A.$j.De.Wa();});this.qM.Wa();this.Az && (this.Az.removeAllListeners(),p.M && this.console.trace("AseBranch destroying textRequestQueue:",this.Az),l.Fo.instance.uJ(this.Az),this.Az=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:z});this.events.removeAllListeners();};x.prototype.vQ=function(z){var B;return !(null === (B=this.Zd) || void 0 === B || !B.vQ(z));};x.prototype.fb=function(z){var B;return null === (B=this.Zd) || void 0 === B?void 0:B.fb(z);};x.prototype.zba=function(z){return this.Fe.some(function(B){return B.mediaType === z;});};x.prototype.Rm=function(z){var B,A;void 0 === z && (z=t.cH);return null !== (A=null === (B=this.Zd) || void 0 === B?void 0:B.Rm(z)) && void 0 !== A?A:[];};x.prototype.fQ=function(z){var B,A;return (null === (B=this.fb(z)) || void 0 === B?void 0:B.$j.De) || (null === (A=this.Ky.get(z)) || void 0 === A?void 0:A.$j.De);};x.prototype.$Y=function(){var z,B,A,C;z=this;if(!this.yba)return this.Ky.items;C=null !== (A=null === (B=this.Zd) || void 0 === B?void 0:B.$Y()) && void 0 !== A?A:[];this.Mb && C.some(function(D){if(D.mediaType === h.u.J)return (D.f9=z.Mb,p.M && z.console.trace("Branch setting auxiliaryTrack:",z.Mb),!0);});return C;};x.prototype.rF=function(z){var B;return (null === (B=this.Zd) || void 0 === B?void 0:B.rF(z)) || this.Ky.get(z);};x.prototype.Rh=function(z,B){var A;return (null === (A=this.Zd) || void 0 === A?void 0:A.Rh(z,B)) || 0;};x.prototype.NB=function(){var z;return (null === (z=this.Zd) || void 0 === z?void 0:z.NB()) || ({});};x.prototype.PY=function(z){var B;return (null === (B=this.Zd) || void 0 === B?void 0:B.PY(z)) || this.$t.Z;};x.prototype.YC=function(z,B,A){return d.__awaiter(this,void 0,void 0,function(){var C,D,E,G,F;F=this;return d.__generator(this,function(K){switch(K.label){case 0:p.M && this.console.trace("Branch.setTracks:",z);this.qO=z.sort(t.cH);this.tmb(B);if(!this.Hh)return [3,4];(0,g.assert)(this.Zd);C=this.Ky.filter(function(O){return O.track.ve;}).items;D=this.Zd.$pb(C,B,A);E=D.QX;G=D.WE;E && this.vta(G);if(this.yba)return [3,4];this.Uba=new n.xD();this.em=new n.xD();p.M && this.console.log(("AseBranch {").concat(this.G.id,"} setTracks waiting for headers"));return [4,this.x7a()];case 1:return (K.ub(),this.Uf?[2]:this.parent?[4,this.parent.lT]:[3,3]);case 2:(K.ub(),K.label=3);case 3:(this.Zd.$pb(this.Ky.items,B,A),p.M && this.console.log(("AseBranch {").concat(this.G.id,"} setTracks pipelines updated")),this.em.resolve(this.Zd),this.events.emit("needsRequest"),K.label=4);case 4:return (z.some(function(O){if(O.mediaType === h.u.nb)return (F.Jmb(O),!0);}),[2]);}});});};x.prototype.Jmb=function(z){this.Mb=z;this.Az || (this.Az=l.Fo.instance.Kt(h.u.nb,this.P.L,!0,!1,{uy:this.K.uy,qa:this.P.qa},this.K),this.Az.oa(),p.M && this.console.trace("AseBranch created textRequestQueue:",this.Az));};x.prototype.gab=function(){return this.Mb;};x.prototype.tmb=function(z){var B;B=this;this.KDa=0;this.Ky=new m.UM(this.Fe.filter(function(A){return A.mediaType !== h.u.nb;}).map(function(A){var C;C=B.Ky.find(function(D){return D.track === A;});C || (++B.KDa,C=new v.wNa(B,A,function(){var D;return null !== (D=null === z || void 0 === z?void 0:z.add(B.Ud)) && void 0 !== D?D:c.O.Oa;},null !== z && void 0 !== z?z:c.O.Oa,B.K,B.console,function(){var D;return null === (D=B.parent) || void 0 === D?void 0:D.fQ(A.mediaType);},B.Fea,function(){0 === --B.KDa && B.events.emit("requestQueuesCreated");}));return C;}));};x.prototype.wm=function(z){var B;return (null === (B=this.Zd) || void 0 === B?void 0:B.wm(z)) || [];};x.prototype.NE=function(z){var B;return !(null === (B=this.Zd) || void 0 === B || !B.NE(z));};x.prototype.SY=function(z){return this.Zd?this.Zd.SY(z):c.O.Oa;};x.prototype.mha=function(z){var B;return !(null === (B=this.Zd) || void 0 === B || !B.mha(z));};x.prototype.vta=function(z){z={type:"branchNormalized",segmentContentStart:this.G.xf,branchContentStart:this.cc,branchContentEnd:this.xd,didNormalizeSegment:z};this.events.emit(z.type,z);p.M && this.console.trace("branchNormalized:",z);};x.prototype.toJSON=function(){var z;return (null === (z=this.Zd) || void 0 === z?void 0:z.toJSON()) || ({});};return x=d.__decorate([q.RJ],x);})(t.Lia);b.uJa=a;(0,f.hf)(r.bv,a);(0,f.hf)(r.Oz,a);},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wNa=void 0;d=a(448);l=a(118);h=a(6);n=a(193);c=a(272);f=a(2);r=(function(){function g(k,m,p,q,v,t,w,u,y){this.Ya=k;this.track=m;this.xic=p;this.qic=q;this.config=v;this.console=t;this.events=u;this.U9b=y;this.$m=0;this.cjb=this.Gj=!1;this.$j=this.EPb(w);}Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.Ya.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{yi:{get:function(){return this.Ya.yi;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Hga:{get:function(){return this.xic();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rX:{get:function(){return this.Hga;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{QG:{get:function(){return this.Hga;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rnb:{get:function(){return this.qic;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{KJ:{get:function(){return this.Ya.KJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gf:{get:function(){return this.Ye || (this.Ye=this.Kt());},enumerable:!1,configurable:!0}});g.prototype.MF=function(){return this.track.Kda;};g.prototype.bu=function(){return this.track.ve;};g.prototype.Hh=function(){return !1;};g.prototype.I9a=function(){return {ma:[],zea:0,Uj:0,Gp:0};};g.prototype.Hkc=function(){var k;(0,f.assert)(this.bu());k=this.gf;this.Ye=void 0;return k;};g.prototype.upb=function(k){return (k=k.bH(this.gf))?{Nj:k,reason:"success"}:{Nj:k,reason:"pipelineTryIssueHeaderRequest"};};g.prototype.cancel=function(){this.Ye && (this.Ya.P.vO(this.mediaType,this.Ye),l.Fo.instance.uJ(this.Ye),this.Ye.removeAllListeners(),this.Ye=void 0);};g.prototype.Dcb=function(){var k,m,p;p=this.config.qj;if(null === (k=this.gf) || void 0 === k?0:k.track)p=null === (m=this.gf) || void 0 === m?void 0:m.track.qj;return p;};g.prototype.EPb=function(k){var m,p,q;m=this.mediaType === h.u.U?this.config.r1a:this.track.qa?this.config.i5b:this.config.SFa;k=new n.e6(k);k.O1(this.track);p=this.config;q=this.mediaType;return new c.hma(m,this.config,k,p.gY || q === h.u.U && p.dY || q === h.u.J && p.eY);};g.prototype.Kt=function(){var k,m;k=this;m=(0,d.Kt)(this.mediaType,this.track.P,this.config,this.console,this.track.qa,function(p){return k.events.emit("transportReport",p);},function(p){return k.events.emit("mediaRequestComplete",p);},function(){});m.on("created",this.U9b);return m;};return g;})();b.wNa=r;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u;function d(y,x){return (y.mediaType === f.u.J?0:1) - (x.mediaType === f.u.J?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.mRa=b.nla=void 0;l=a(0);h=a(443);n=a(92);c=a(132);f=a(6);g=a(1137);k=a(8);m=a(21);p=a(2);q=a(20);v=l.__importDefault(a(3));r=a(78);t=a(35);w=a(271);u=a(467);b.nla={cH:d};a=(function(y){function x(z,B,A,C,D,E,G,F,K,O,L,I,M,H){var J,N;N=y.call(this,C) || this;N.Ya=z;N.K=B;N.P=C;N.Fea=D;N.mq=E;N.Ar=K;N.yV=O;N.yA=L;N.events=I;N.Vx=M;N.$p=H;N.pf=new w.UM([]);N.An=!1;N.KV=0;N.hV=N.mBa.bind(N);(0,p.assert)(C.N === N.G.N || isNaN(C.N) && isNaN(N.G.N));z=E.id && E.id.length?"{" + E.id + "}":"";N.console=(0,k.ri)(v.default,A,z);N.bo=null !== G && void 0 !== G?G:q.O.Na(N.G.ca);A=N.parent;N.ooa=null === A || void 0 === A?void 0:A.Qc;null === (J=N.yA) || void 0 === J?void 0:J.addListener(N.hV);F=N.t4a(F,N.bo,!!A).WE;N.WE=F;return N;}l.__extends(x,y);Object.defineProperties(x.prototype,{Uf:{get:function(){return this.An;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{G:{get:function(){return this.mq;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vw:{get:function(){return this.pf.every(function(z){return z.vw;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Gj:{get:function(){return this.pf.every(function(z){return z.Gj;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{tt:{get:function(){return this.Rm().reduce(function(z,B){return z + B.tt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Hh:{get:function(){return this.Rm().every(function(z){return z.Hh();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Fe:{get:function(){return this.Ya.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{V:{get:function(){return this.Xx.V;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$a:{get:function(){return this.Xx.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{lb:{get:function(){return this.Xx.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Yj:{get:function(){return this.Ud.Ue(this.V).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$t:{get:function(){return this.bo.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Cs:{get:function(){return this.G.xf.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{oG:{get:function(){return this.G.Eh.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{i_:{get:function(){return this.pf.reduce(function(z,B){return z && B.Qc?q.O.max(z,B.Qc):B.Qc?B.Qc:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kxa:{get:function(){return this.$t.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{qg:{get:function(){return this.Ud.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hr:{get:function(){return this.Xx.hr;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ud:{get:function(){return this.Ar;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.Ya.parent;},enumerable:!1,configurable:!0}});x.prototype.$pb=function(z,B,A){var C;void 0 === B && (B=null !== (C=this.cc) && void 0 !== C?C:this.bo);return this.t4a(z,B,A);};x.prototype.update=function(z){var B,A,C;C=z.Eh.WAa(this.mq.Eh);this.mq=z;return C && this.dE?(C=l.__read(this.dE.jec(z,z.Eh),2),z=C[0],C=C[1],(0,p.assert)(z && C,"branch.update: lastFragment should be defined"),null === (B=this.fb(f.u.U)) || void 0 === B?void 0:B.truncate(z),null === (A=this.fb(f.u.J)) || void 0 === A?void 0:A.truncate(C),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};x.prototype.jr=function(z){this.Ud.equal(z) || (this.Ar=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.Fy=function(z){return l.__awaiter(this,void 0,void 0,function(){var B;return l.__generator(this,function(A){switch(A.label){case 0:return [4,Promise.resolve()];case 1:return (A.ub(),(B=this.fb(z))?[2,B.Fy()]:[2,c.AsyncIterator.w9a()]);}});});};x.prototype.bF=function(){this.Rm().forEach(function(z){return z.bF();});};x.prototype.tW=function(){this.pf.forEach(function(z){return z.tW();});};x.prototype.reset=function(){this.pf.forEach(function(z){z.reset();});};x.prototype.he=function(z){var B,A;this.An || (this.An=!0,null === (B=this.dE) || void 0 === B?void 0:B.wd(),this.dE=void 0,this.pf.forEach(function(C){C.he("aborted" === z);}),null === (A=this.yA) || void 0 === A?void 0:A.removeListener(this.hV));};x.prototype.vQ=function(){return !0;};x.prototype.fb=function(z){return this.pf.get(z);};x.prototype.Rm=function(z){void 0 === z && (z=d);return this.pf.items.slice().sort(z);};x.prototype.$Y=function(){return this.pf.items;};x.prototype.rF=function(z){return this.fb(z);};x.prototype.Rh=function(z,B){z=this.fb(z);if(!z)return 0;if(B)return z.oo;B=z.Gt;if(void 0 === B)return 0;z=this.yV();return B - z;};x.prototype.NB=function(){var z,B,A,C,D,E,G;G=null === (z=this.fb(f.u.U)) || void 0 === z?void 0:z.ap;z=null === (B=this.fb(f.u.J)) || void 0 === B?void 0:B.ap;return {Op:null !== (A=null === z || void 0 === z?void 0:z.Z) && void 0 !== A?A:0,st:null !== (C=null === G || void 0 === G?void 0:G.Z) && void 0 !== C?C:0,Wu:null !== (D=null === z || void 0 === z?void 0:z.ha) && void 0 !== D?D:0,rE:null !== (E=null === G || void 0 === G?void 0:G.ha) && void 0 !== E?E:0};};x.prototype.PY=function(z){var B;return (z=this.fb(z))?null !== (B=z.Gt) && void 0 !== B?B:0:0;};x.prototype.wm=function(z){z=this.fb(z);return (null === z || void 0 === z?void 0:z.wm()) || [];};x.prototype.mBa=function(z){z=z.newValue;(0,f.Nq)(z) && this.mt();};x.prototype.NE=function(z){return this.pf.every(function(B){return B.NE(z);});};x.prototype.SY=function(z){var B,A;return null !== (A=null === (B=this.pf.get(z)) || void 0 === B?void 0:B.R4a) && void 0 !== A?A:q.O.Oa;};x.prototype.mha=function(z){var B,A,C;B=this.Xx.l4b;if(!B)return !1;z=(0,m.Nc)(z,function(D){return B.Z <= D.cc.Z;});if(!z)return !1;A=z.cc;z=!1;C=l.__read((0,u.CDa)(this.K,this.pf,A),2);A=C[0];if(C=C[1])(this.fb(f.u.J).truncate(C),z=!0);A && (this.fb(f.u.U).truncate(A),z=!0);z && (A={type:"branchEdited"},this.events.emit(A.type,A));return z;};x.prototype.rl=function(z){this.An || (z.x8 || (0,p.assert)(!z.zc),this.mt(),this.Gj && this.loa());this.$v(z);};x.prototype.YK=function(z){this.K.D$ && this.mt(!0);this.OJ(z);};x.prototype.zC=function(z){this.K.D$ && this.mt(!0);this.jF(z);};x.prototype.t4a=function(z,B,A){var C,D,E;C=this;D=new w.UM();E=!1;z.forEach(function(G){var F;F=C.pf.find(function(K){return K.track === G.track;});void 0 === F?(E=!0,F=new h.mla(C,C.K,C.console,C.Fea,C.Ya,G.track,B,G.$j,!0,void 0,G.Hkc(),C.Vx,C.$p),C.r2b(F)):(C.pf.remove(F),F.tW());D.add(F);});this.pf.forEach(function(G){return G.he();});this.pf=D;return E?this.normalize(B,A):{QX:!1,WE:!1};};x.prototype.r2b=function(z){var B;B=this;z.events.on("lastRequestIssued",function(){return B.vw && B.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};x.prototype.normalize=function(z,B){var A,C;null === (A=this.dE) || void 0 === A?void 0:A.wd();this.dE=new g.TSa({console:this.console,config:this.K,P:this.P,G:this.G,jm:this.pf,cc:z,xd:null !== (C=this.G.Eh) && void 0 !== C?C:void 0 !== this.G.Sa?q.O.Na(this.G.Sa):void 0,splice:B});this.Xx=this.pf.$ea;B=this.dE.normalize();z=B.QX;B=B.WE;z && this.ooa && (this.Ar=this.ooa.Fa(this.cc));return {QX:z,WE:B};};x.prototype.kFa=function(z){var B;return (0,f.Nq)((null === (B=this.yA) || void 0 === B?void 0:B.value) || f.cd.Bm) && (!z || this.KV + this.K.xda < v.default.time.fa());};x.prototype.mt=function(z){void 0 === z && (z=!1);this.kFa(z) && (this.KV=v.default.time.fa(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.loa=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,B;return {segment:this.G.id,branchOffset:this.qg,viewableId:this.mq.N,contentStartPts:null === (z=this.cc) || void 0 === z?void 0:z.Z,contentEndPts:null === (B=this.xd) || void 0 === B?void 0:B.Z};};return x;})(n.jx);b.mRa=a;(0,t.hf)(r.bv,a);},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.TSa=void 0;d=a(0);l=a(6);h=a(467);n=a(2);r=(function(){function c(f){var g,k,m,p,q,v,t;g=f.console;k=f.config;m=f.P;p=f.jm;q=f.G;v=f.cc;t=f.xd;f=f.splice;this.JZ=this.XO=!1;this.console=g;this.config=k;this.jm=p;this.P=m;this.G=q;this.cc=v;this.xd=t;this.splice=f;this.b2b();}c.prototype.oa=function(f){if(this.XO)throw Error("Cannot call init() after cleanup");if(this.JZ)throw Error("Cannot call init() twice");this.JZ=!0;this.mhb=f;this.P.events.addListener("onHeaderFragments",this.M2a);this.Fpa() && this.UAa();};c.prototype.normalize=function(){if(this.XO)throw Error("Cannot call normalize() after cleanup");if(this.JZ)throw Error("Cannot call init() / normalize() twice");this.JZ=!0;(0,n.assert)(this.Fpa());return this.UAa();};c.prototype.jec=function(f,g){(0,n.assert)(this.JZ,"expected to be called init() before renormalize");this.G=f;this.xd=g;f=(0,h.CDa)(this.config,this.jm,this.xd);this.Uda();return f;};c.prototype.wd=function(){this.XO || (this.XO=!0,this.mhb=void 0,this.P.events.removeListener("onHeaderFragments",this.M2a));};c.prototype.b2b=function(){var f;f=this;this.M2a=function(){f.XO || f.Fpa() && f.UAa();};};c.prototype.UAa=function(){var f,g,k;if(this.XO)return {QX:!1,WE:!1};g=this.u8b();k=!1;this.G && !this.G.em && (k=this.Uda());null === (f=this.mhb) || void 0 === f?void 0:f.call(this,g,k);this.wd();return {QX:g,WE:k};};c.prototype.Fpa=function(){return this.jm.every(function(f){return f.track.ve;});};c.prototype.u8b=function(){var f,g;f=d.__read((0,h.Ggb)(this.config,this.jm,this.cc,this.xd,this.splice),2);g=f[0];return f[1] || void 0 === this.jm.get(l.u.J) && g;};c.prototype.Uda=function(){var f,g,k;(0,n.assert)(this.G);(0,n.assert)(!this.G.em);f=this.jm.$ea;g=(0,h.Igb)(this.config,f,this.G.xf);if(void 0 === g || void 0 === f.xd)return !1;f=f.xd;k=this.config.hHa && "lazy" === this.G.Ge?(0,h.Meb)(this.console,this.G,this.jm):[];this.G.normalize(g,f,k);return !0;};return c;})();b.TSa=r;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B;function d(A){return function(){return ("[").concat(A,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.YRa=b.uD=void 0;l=a(0);h=a(75);n=a(38);c=a(427);f=a(6);g=a(20);r=a(78);k=a(1139);m=a(35);p=a(192);q=a(2);v=a(424);t=a(8);w=l.__importDefault(a(3));u=a(267);y=a(431);x=a(9);z=a(133);a=a(466);(function(A){A[A.NT=0]="CREATED";A[A.FT=1]="CANCELLED";})(B=b.uD || (b.uD={}));a=(function(A){function C(D,E,G,F,K,O){D=A.call(this,E,F,G,g.O.Oa,(0,t.ri)(w.default,D,"AsePadding")) || this;D.P=K;D.config=O;D.pM=new p.iH(D.console);D.AE=new p.iH(D.console);D.em=new t.xD();D.console.trace(("PaddingBranch {").concat(E.id,"}: created"));return D;}l.__extends(C,A);C.prototype.GOb=function(D){return l.__awaiter(this,void 0,void 0,function(){var E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T,W,Q,ka,ra;return l.__generator(this,function(R){switch(R.label){case 0:return [4,this.Vbc()];case 1:E=R.ub();G=E.Jf;F=E.ie;K=E.bitrate;O=E.qu;L=v.d6.instance();I=L.m_b(F,K,O);M=new g.O(I.duration);H=new g.O(I.da);J=H.V;N=I.profile;P=I.bitrate;X=I.channels;V={ecb:!0,mediaType:f.u.U,qf:N,profile:N,V:J,kh:[{Wd:0,data:I.oa}],da:H,Jf:G,P:this.P,bitrate:P,Ta:("").concat(n.Up),track:{trackId:"1",mediaType:f.u.U,wp:!1,da:H,P:this.P,channels:X,sampleRate:48E3,profile:N,Rc:[],qu:O,toString:d(f.u.U)}};V.qp=V.track.qp=c.yM.prototype.qp.bind(V.track);V.track.Rc.push(V);S=(0,t.ri)(w.default,this.console,"[0]");this.AE=new p.iH(S);U=new g.O(I.da);ha=this.config.Km?G:g.O.Oa;qa=ha.add(M);x.M && S.trace(("PaddingBranch: audio target duration is ").concat(D.Fb()));xa=g.O.Oa;Aa=this.config.Km?-Math.ceil(G.qk(H)):0;T=ha;for(W=!0;T.lessThan(D);){T=T.add(M);T.greaterThan(D) && (Oa=M.qk(U) - Math.floor(T.Fa(D).qk(U)));Q=T.tk(D);ka=W?0:Q?D.Z:void 0;ra=new k.uia(I.oa,I.pa,V,J,ha.Ue(J).Ca,qa.Ue(J).Ca,U,S,this,this.Q8a.bind(this,J,xa),ka,W,Q);ra.vj({start:Aa,end:Oa});x.M && S.log(("PaddingBranch: enqueing request ").concat(ra,", edit: ").concat(JSON.stringify({start:Aa,end:Oa}),", ") + ("offset ").concat(xa.Fb()));this.AE.enqueue(ra);xa=xa.add(M);Aa=void 0;W=!1;}this.AE.AP();return [2];}});});};C.prototype.PPb=function(){var D,E,G;return l.__awaiter(this,void 0,void 0,function(){var F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T,W,Q,ka,ra,R,fa,wa,ua,Ea;return l.__generator(this,function(Xa){switch(Xa.label){case 0:return [4,this.Xbc()];case 1:F=Xa.ub();K=F.profile;O=F.iy;L=F.qu;I=v.d6.instance();M=null === (G=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.fb(f.u.J)) || void 0 === E?void 0:E.track.da) || void 0 === G?void 0:G.jkb();(0,q.assert)(M,"padding branches should always have a frameRate");H=I.n_b(this.P.anc,K,M,O,L);J=new g.O(H.duration);N=H.profile;P=H.bitrate;X=H.width;V=H.height;S=H.Cd;U=H.Dd;ha=H.da.V;qa=new g.O(H.da);xa=new u.oN(ha,H.da.Ca);Aa={ecb:!0,mediaType:f.u.J,qf:N,profile:N,V:ha,kh:[{Wd:0,data:H.oa}],Ta:("").concat(n.Up),da:qa,P:this.P,bitrate:P,track:{trackId:"1",mediaType:f.u.J,wp:!1,da:qa,frameRate:xa,bda:xa,om:new y.uma({w:X,ks:V},{w:S,ks:U}),P:this.P,profile:N,Rc:[],qu:L,toString:d(f.u.J)}};Aa.qp=Aa.track.qp=c.yM.prototype.qp.bind(Aa.track);Oa=new h.mv(this.console,Aa,H.oa,["moov"],!0,{mlb:!0,OBa:!0});T={da:qa};W=Oa.parse(T);(0,q.assert)(W.Gw,"Failed to parse padding fragment header");(0,q.assert)(W.kh,"Failed to get initialization segments from padding fragment header");Aa.kh=W.kh;x.M && this.console.trace(("PaddingBranch {").concat(this.G.id,"}: video queue"),Aa);Aa.track.Rc.push(Aa);Q=(0,t.ri)(w.default,this.console,"[1]");ka=Math.ceil(this.kAa.qk(J));ra=J.$y(ka);R=this.G.xf;fa=R.add(ra).Ue(this.V);x.M && Q.trace(("PaddingBranch: ").concat(ka," fragments of ").concat(J.Fb(),", ") + ("duration ").concat(ra.Fb(),", ") + ("c: ").concat(R.Fb(),"-").concat(fa.Fb(),", "));this.G.normalize(R,fa,[]);for(wa=g.O.Oa;wa.lessThan(ra);){ua=wa.add(J);Ea=new k.uia(H.oa,H.pa,Aa,ha,0,J.Ue(ha).Ca,qa,Q,this,this.Q8a.bind(this,ha,wa),void 0,wa.equal(g.O.Oa),ua.tk(ra));x.M && Q.trace(("PaddingBranch: appended ").concat(Ea));this.pM.enqueue(Ea);wa=ua;}this.pM.AP();this.Fmc=ra;return [2,{duration:ra}];}});});};Object.defineProperties(C.prototype,{vw:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Gj:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{tt:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Hh:{get:function(){return this.em.XDa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{lT:{get:function(){return this.em.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Kq:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{V:{get:function(){return this.G.xf.V;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{$a:{get:function(){return this.G.xf.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{lb:{get:function(){return this.G.Eh.Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Yj:{get:function(){return this.Ud.Ue(this.V).Ca;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{$t:{get:function(){return this.G.xf.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{KJ:{get:function(){(0,q.assert)(!this.G.G.Dq,"exit zone not supported for padding segments");return g.O.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{AO:{get:function(){return this.AE && this.pM?this.AE.au && this.pM.au:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{K0a:{get:function(){return !(!this.AE && !this.pM);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Cs:{get:function(){return this.G.xf.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{oG:{get:function(){return this.G.Eh.add(this.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{i_:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ud:{get:function(){return this.Ar;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{kAa:{get:function(){var D;return null !== (D=this.lZa) && void 0 !== D?D:this.G.Eh.Fa(this.G.xf);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{hr:{get:function(){return g.O.Oa;},enumerable:!1,configurable:!0}});C.prototype.oa=function(){return l.__awaiter(this,void 0,void 0,function(){var D;return l.__generator(this,function(E){switch(E.label){case 0:(A.prototype.oa.call(this),E.label=1);case 1:return (E.Mp.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.G.id,"}: init")),this.parent?[4,this.parent.lT]:[3,3]);case 2:(E.ub(),E.label=3);case 3:return (this.lZa=this.G.Eh.Fa(this.G.xf),[4,this.B4a([f.u.U,f.u.J])]);case 4:return (E.ub(),this.em.resolve(),[3,6]);case 5:D=E.ub();if(!this.Uf)throw D;return [3,6];case 6:return [2];}});});};C.prototype.update=function(D){this.mq=D;};C.prototype.Fy=function(D){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.G.id,"}: getRequestIterator(").concat(D,")"));return D === f.u.U?[2,this.AE.eva()]:[2,this.pM.eva()];});});};C.prototype.bF=function(){};C.prototype.reset=function(){};C.prototype.he=function(D){void 0 === D && (D="other");A.prototype.he.call(this,D);this.Tc=B.FT;this.lZa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:D});this.events.removeAllListeners();};C.prototype.vQ=function(){return !0;};C.prototype.fb=function(){};C.prototype.zba=function(D){return [f.u.U,f.u.J].some(function(E){return E === D;});};C.prototype.Rm=function(){return [];};C.prototype.fQ=function(D){var E;return null === (E=this.parent) || void 0 === E?void 0:E.fQ(D);};C.prototype.$Y=function(){return [];};C.prototype.rF=function(){};C.prototype.Rh=function(){return this.kAa.Z;};C.prototype.NB=function(){return {};};C.prototype.PY=function(){return this.G.Eh.Z;};C.prototype.YC=function(D,E,G,F){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(K){switch(K.label){case 0:return [4,this.em.promise];case 1:return (K.ub(),this.parent?[4,this.parent.lT]:[3,3]);case 2:(K.ub(),K.label=3);case 3:return [4,this.B4a(F)];case 4:return (K.ub(),[2]);}});});};C.prototype.B4a=function(D){return l.__awaiter(this,void 0,void 0,function(){var E,G;return l.__generator(this,function(F){switch(F.label){case 0:E=g.O.Oa;if(-1 === D.indexOf(f.u.J))return [3,2];this.pM.clear();return [4,this.PPb()];case 1:(G=F.ub(),E=G.duration,F.label=2);case 2:if(-1 === D.indexOf(f.u.U))return [3,4];this.AE.clear();this.console.trace(("AsePaddingBranch {").concat(this.G.id,"}: video duration ").concat(E.Fb()));return [4,this.GOb(this.Fmc)];case 3:(F.ub(),F.label=4);case 4:return [2];}});});};C.prototype.gab=function(){};C.prototype.wm=function(){return [];};C.prototype.NE=function(D){var E,G;return !!((null === (E=this.Qc) || void 0 === E?0:E.greaterThan(D)) && (null === (G=this.Ed) || void 0 === G?0:G.lessThan(D)));};C.prototype.SY=function(){return this.kAa;};C.prototype.mha=function(){return !1;};C.prototype.toJSON=function(){var D,E;return {segment:this.G.id,viewableId:this.mq.N,contentStartPts:null === (D=this.cc) || void 0 === D?void 0:D.Z,contentEndPts:null === (E=this.xd) || void 0 === E?void 0:E.Z};};C.prototype.Xbc=function(){var D,E,G,F,K,O,L;return l.__awaiter(this,void 0,void 0,function(){var I,M,H,J;return l.__generator(this,function(N){switch(N.label){case 0:return (I=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.fb(f.u.J)) || void 0 === E?void 0:E.De.Vm)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.fb(f.u.J)) || void 0 === F?void 0:F.De.hrb];case 1:N.ub();if(this.Uf)return [2,Promise.reject()];N.label=2;case 2:return (I=null === (O=null === (K=this.parent) || void 0 === K?void 0:K.fb(f.u.J)) || void 0 === O?void 0:O.De.Vm,(0,q.assert)(I,"Parent of padding branch must have last selected video stream"),M=null === (L=I.track.om) || void 0 === L?void 0:L.iy,H=I.track.qu,J=I.qf,[2,{profile:J,iy:M,qu:H}]);}});});};C.prototype.Vbc=function(){var D,E,G,F,K,O;return l.__awaiter(this,void 0,void 0,function(){var L,I,M,H,J;return l.__generator(this,function(N){switch(N.label){case 0:return (L=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.fb(f.u.U)) || void 0 === E?void 0:E.De.Vm)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.fb(f.u.U)) || void 0 === F?void 0:F.De.hrb];case 1:N.ub();if(this.Uf)return [2,Promise.reject()];N.label=2;case 2:return (L=null === (O=null === (K=this.parent) || void 0 === K?void 0:K.fb(f.u.U)) || void 0 === O?void 0:O.De.Vm,(0,q.assert)(L,"Parent of padding branch must have last selected audio stream"),I=L.Jf || g.O.Oa,M=-1 !== L.profile.indexOf("heaac")?"heaac":"ddp",H=L.bitrate,J=L.track.qu,[2,{Jf:I,ie:M,bitrate:H,qu:J}]);}});});};C.prototype.Q8a=function(D,E){return this.Ar.add(E).Ue(D).Ca;};return C=l.__decorate([z.RJ],C);})(a.Lia);b.YRa=a;(0,m.hf)(r.bv,a);},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uia=void 0;d=a(0);l=a(38);h=a(8);r=a(35);n=a(9);c=a(190);f=a(78);g=a(93);a=(function(k){function m(p,q,v,t,w,u,y,x,z,B,A,C,D){void 0 === C && (C=!0);void 0 === D && (D=!0);p=k.call(this,v,{index:0,offset:0,ha:0,$a:w,lb:u,V:t,cs:C,Um:D,zz:A},B) || this;p.response=q;p.Shb=v;p.H=x;p.Xa={Ya:z,console:x,t4b:void 0,mediaType:v.mediaType,o1:function(){}};n.M && p.H.log(("AsePaddingRequest [").concat(p.mediaType,"], constructed ").concat(p.toString()) + (", ").concat(p.response.byteLength," bytes") + (", ").concat(p.Ay," samples"));return p;}d.__extends(m,k);Object.defineProperties(m.prototype,{profile:{get:function(){return this.Shb.profile;},enumerable:!1,configurable:!0}});m.prototype.oa=function(){};m.prototype.uk=function(){return !this.ud;};m.prototype.Qr=function(p,q,v,t,w){n.M && this.H.log(("AsePaddingRequest [").concat(this.mediaType,"], appending ").concat(this.toString()) + (", ").concat(w || this.response.byteLength," bytes") + (", ").concat(w?"":"not ","edited"));this.ud=q.appendBuffer(w?(0,h.tB)(w):this.response,t || (0,h.Ry)(this));return {status:this.ud?g.jg.Pp:g.jg.mg};};m.prototype.abort=function(){return !1;};m.prototype.wd=function(){};m.prototype.VR=function(){this.response=void 0;};m.prototype.toJSON=function(){return {viewableId:l.Up,startPts:this.ca,endPts:this.ca + this.duration,"contentStartTicks:":this.$a,contentEndTicks:this.lb,contentStartPts:this.ue,contentEndPts:this.Oc};};Object.defineProperties(m.prototype,{Ta:{get:function(){return this.Shb.Ta;},enumerable:!1,configurable:!0}});m.prototype.toString=function(){return ("[padding c:").concat(this.cc.Z,"-").concat(this.xd.Z,",") + ("p:").concat(this.Ed.Z,"-").concat(this.Qc.Z,",") + ("d:").concat(this.xd.Z - this.cc.Z,"]");};return m;})(a(77).Jl);b.uia=a;(0,r.hf)(c.hH,a,!1);(0,r.hf)(f.bv,a);(0,r.hf)(f.Oz,a);},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.XVa=void 0;d=a(0);r=(function(){function l(h,n){this.H=h;this.eh=n;this.WFa=!1;}l.prototype.sec=function(h){this.ig(h.message,void 0,d.__assign(d.__assign({},h.d7a),{err:h.toString()}));};l.prototype.ig=function(h,n,c){void 0 === n && (n=void 0);void 0 === c && (c={});this.WFa || (c.temporaryFailure || (this.WFa=!0),h=d.__assign({type:"error",error:null !== n && void 0 !== n?n:"NFErr_MC_StreamingFailure",errormsg:h,temporaryFailure:!1},c),this.H.error("notifyStreamingError:",h),this.eh.emit("error",h));};l.prototype.zp=function(){return this.WFa;};return l;})();b.XVa=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ola=void 0;d=a(0);l=a(2);h=a(8);n=a(9);c=a(278);r=(function(f){function g(k){var m;m=f.call(this) || this;m.Ka=k;m.qoa=new Map();m.cb=[];m.kV=new c.c6({wk:!1,currentTime:function(){return m.tf?m.Me:h.O.Zt;},speed:1});return m;}d.__extends(g,f);Object.defineProperties(g.prototype,{za:{get:function(){return this.kV;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ff:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Lp:{get:function(){return this.pW;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sG:{get:function(){return this.qoa;},enumerable:!1,configurable:!0}});g.prototype.V8=function(k,m){var p;p=!this.Ka;p && (this.Ka=k,this.Zma=(null === m || void 0 === m?0:m.tf)?m.Me:void 0,this.pW=null === m || void 0 === m?void 0:m.Lp,this.qoa=m?m.sG:new Map(),null === m || void 0 === m?void 0:m.vR());return p;};g.prototype.vR=function(){this.qoa=this.pW=void 0;};g.prototype.KE=function(){this.cb=[];this.Zma=void 0;};g.prototype.Vsa=function(k){n.M && (0,l.assert)(this.Ka === k);this.Ka=void 0;this.KE();};g.prototype.Hta=function(){for(var k,m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}(k=this.cb).push.apply(k,d.__spreadArray([],d.__read(m),!1));};g.prototype.XJ=function(){return this.Zma?this.Zma:f.prototype.XJ.call(this);};g.prototype.rs=function(){return !1;};g.prototype.LG=function(){};g.prototype.SL=function(){};g.prototype.dfa=function(){this.cb=this.cb.filter(function(k){return k.AO?(k.he("pruned"),!1):!0;});};g.prototype.Wa=function(){f.prototype.Wa.call(this);this.sG.forEach(function(k){return k.close();});};return g;})(a(469).Cla);b.ola=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.h2a=void 0;d=a(281);l=a(1144);b.h2a=function(){return function(h){var f,g,k,m;function n(p){m[p]=function(q){return g({rules:[{xl:p,config:q}]},!0);};}function c(p){f[p]=function(q){return g({rules:[{xl:p,config:q}]});};}f={};g=(0,d.map)(h.Keb);for(k in h.fS){c(k);}f.aea=g({rules:[],Ipa:!0});f.xo=g({rules:[],xo:!0});m={};for(k in h.fS){n(k);}m.aea=g({rules:[],Ipa:!0},!0);m.xo=g({rules:[],xo:!0},!0);f.return=m;return {Nsa:f,dEa:h,VCa:function(p,q,v,t){return (0,l.y4a)(p,q,v,h.fS,h.Keb,t);}};};};},function(r,b,a){(function(d,l){var h;(function(n){(function(c){var g,k;function f(m,p){return function(q,v){"function" !== typeof m[q] && Object.defineProperty(m,q,{configurable:!0,writable:!0,value:v});p && p(q,v);};}g="object" === typeof l?l:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();k=f(n);"undefined" === typeof g.Reflect?g.Reflect=n:k=f(g.Reflect,k);c(k);})(function(c){var K,O,L,I,M,H,J,N,P,X,V;function f(S,U,ha){var qa;qa=V.get(S);if(w(qa)){if(!ha)return;qa=new P();V.set(S,qa);}S=qa.get(U);if(w(S)){if(!ha)return;S=new P();qa.set(U,S);}return S;}function g(S,U,ha){if(k(S,U,ha))return !0;U=C(U);return null === U?!1:g(S,U,ha);}function k(S,U,ha){U=f(U,ha,!1);return w(U)?!1:!!U.has(S);}function m(S,U,ha){if(k(S,U,ha))return p(S,U,ha);U=C(U);if(null !== U)return m(S,U,ha);}function p(S,U,ha){U=f(U,ha,!1);if(!w(U))return U.get(S);}function q(S,U){var ha,Aa,Oa;ha=v(S,U);S=C(S);if(null === S)return ha;U=q(S,U);if(0 >= U.length)return ha;if(0 >= ha.length)return U;S=new X();for(var qa=[],xa=0;xa < ha.length;xa++){Aa=ha[xa];Oa=S.has(Aa);Oa || (S.add(Aa),qa.push(Aa));}for(ha=0;ha < U.length;ha++){Aa=U[ha];(Oa=S.has(Aa)) || (S.add(Aa),qa.push(Aa));}return qa;}function v(S,U){var ha,qa;ha=[];S=f(S,U,!1);if(w(S))return ha;S=S.keys();U=A(S,I);if(!B(U))throw new TypeError();S=U.call(S);if(!u(S))throw new TypeError();for(U=0;;){qa=S.next();qa=qa.done?!1:qa;if(!qa)return (ha.length=U,ha);qa=qa.value;try{ha[U]=qa;}catch(Aa){var xa;try{xa=S["return"];xa && xa.call(S);}finally{throw Aa;}}U++;}}function t(S){if(null === S)return 1;switch(typeof S){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === S?1:6;default:return 6;}}function w(S){return void 0 === S;}function u(S){return "object" === typeof S?null !== S:"function" === typeof S;}function y(S,U){var ha;switch(t(S)){case 0:return S;case 1:return S;case 2:return S;case 3:return S;case 4:return S;case 5:return S;}U=3 === U?"string":5 === U?"number":"default";ha=A(S,L);if(void 0 !== ha){S=ha.call(S,U);if(u(S))throw new TypeError();return S;}a:{if("string" === ("default" === U?"number":U)){U=S.toString;if(B(U) && (U=U.call(S),!u(U)))break a;U=S.valueOf;}else {U=S.valueOf;if(B(U) && (U=U.call(S),!u(U)))break a;U=S.toString;}if(!B(U) || (U=U.call(S),u(U)))throw new TypeError();}return U;}function x(S){S=y(S,3);return "symbol" === typeof S?S:"" + S;}function z(S){return Array.isArray?Array.isArray(S):S instanceof Object?S instanceof Array:"[object Array]" === Object.prototype.toString.call(S);}function B(S){return "function" === typeof S;}function A(S,U){S=S[U];if(void 0 !== S && null !== S){if(!B(S))throw new TypeError();return S;}}function C(S){var U,ha;U=Object.getPrototypeOf(S);if("function" !== typeof S || S === N || U !== N)return U;ha=S.prototype;ha=ha && Object.getPrototypeOf(ha);if(null == ha || ha === Object.prototype)return U;ha=ha.constructor;return "function" !== typeof ha || ha === S?U:ha;}function D(){var qa,xa,Aa;function S(Oa){return Oa;}function U(Oa,T){return T;}function ha(Oa,T){return [Oa,T];}qa={};xa=[];Aa=(function(){function Oa(T,W,Q){this.Je=0;this.Nf=T;this.og=W;this.iFb=Q;}Oa.prototype["@@iterator"]=function(){return this;};Oa.prototype[I]=function(){return this;};Oa.prototype.next=function(){var T,W;T=this.Je;if(0 <= T && T < this.Nf.length){W=this.iFb(this.Nf[T],this.og[T]);T + 1 >= this.Nf.length?(this.Je=-1,this.og=this.Nf=xa):this.Je++;return {value:W,done:!1};}return {value:void 0,done:!0};};Oa.prototype.throw=function(T){0 <= this.Je && (this.Je=-1,this.og=this.Nf=xa);throw T;};Oa.prototype.return=function(T){0 <= this.Je && (this.Je=-1,this.og=this.Nf=xa);return {value:T,done:!0};};return Oa;})();return (function(){function Oa(){this.Nf=[];this.og=[];this.Jx=qa;this.qv=-2;}Object.defineProperty(Oa.prototype,"size",{get:function(){return this.Nf.length;},enumerable:!0,configurable:!0});Oa.prototype.has=function(T){return 0 <= this.CA(T,!1);};Oa.prototype.get=function(T){T=this.CA(T,!1);return 0 <= T?this.og[T]:void 0;};Oa.prototype.set=function(T,W){T=this.CA(T,!0);this.og[T]=W;return this;};Oa.prototype.delete=function(T){var W,Q;W=this.CA(T,!1);if(0 <= W){Q=this.Nf.length;for(W+=1;W < Q;W++){this.Nf[W - 1]=this.Nf[W];this.og[W - 1]=this.og[W];}this.Nf.length--;this.og.length--;T === this.Jx && (this.Jx=qa,this.qv=-2);return !0;}return !1;};Oa.prototype.clear=function(){this.Nf.length=0;this.og.length=0;this.Jx=qa;this.qv=-2;};Oa.prototype.keys=function(){return new Aa(this.Nf,this.og,S);};Oa.prototype.values=function(){return new Aa(this.Nf,this.og,U);};Oa.prototype.entries=function(){return new Aa(this.Nf,this.og,ha);};Oa.prototype["@@iterator"]=function(){return this.entries();};Oa.prototype[I]=function(){return this.entries();};Oa.prototype.CA=function(T,W){this.Jx !== T && (this.qv=this.Nf.indexOf(this.Jx=T));0 > this.qv && W && (this.qv=this.Nf.length,this.Nf.push(T),this.og.push(void 0));return this.qv;};return Oa;})();}function E(){return (function(){function S(){this.Kg=new P();}Object.defineProperty(S.prototype,"size",{get:function(){return this.Kg.size;},enumerable:!0,configurable:!0});S.prototype.has=function(U){return this.Kg.has(U);};S.prototype.add=function(U){return (this.Kg.set(U,U),this);};S.prototype.delete=function(U){return this.Kg.delete(U);};S.prototype.clear=function(){this.Kg.clear();};S.prototype.keys=function(){return this.Kg.keys();};S.prototype.values=function(){return this.Kg.values();};S.prototype.entries=function(){return this.Kg.entries();};S.prototype["@@iterator"]=function(){return this.keys();};S.prototype[I]=function(){return this.keys();};return S;})();}function G(){var qa,xa;function S(){var Aa,W;do {Aa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ha(new Uint8Array(16),16):ha(Array(16),16);Aa[6]=Aa[6] & 79 | 64;Aa[8]=Aa[8] & 191 | 128;for(var Oa="",T=0;16 > T;++T){W=Aa[T];if(4 === T || 6 === T || 8 === T)Oa+="-";16 > W && (Oa+="0");Oa+=W.toString(16).toLowerCase();}Aa="@@WeakMap@@" + Oa;}while(J.has(qa,Aa));qa[Aa]=!0;return Aa;}function U(Aa,Oa){if(!K.call(Aa,xa)){if(!Oa)return;Object.defineProperty(Aa,xa,{value:J.create()});}return Aa[xa];}function ha(Aa,Oa){for(var T=0;T < Oa;++T){Aa[T]=255 * Math.random() | 0;}return Aa;}qa=J.create();xa=S();return (function(){function Aa(){this.zv=S();}Aa.prototype.has=function(Oa){Oa=U(Oa,!1);return void 0 !== Oa?J.has(Oa,this.zv):!1;};Aa.prototype.get=function(Oa){Oa=U(Oa,!1);return void 0 !== Oa?J.get(Oa,this.zv):void 0;};Aa.prototype.set=function(Oa,T){U(Oa,!0)[this.zv]=T;return this;};Aa.prototype.delete=function(Oa){Oa=U(Oa,!1);return void 0 !== Oa?delete Oa[this.zv]:!1;};Aa.prototype.clear=function(){this.zv=S();};return Aa;})();}function F(S){S.nAb=void 0;delete S.nAb;return S;}K=Object.prototype.hasOwnProperty;O="function" === typeof Symbol;L=O && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";I=O && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";O="function" === typeof Object.create;M=({__proto__:[]}) instanceof Array;H=!O && !M;J={create:O?function(){return F(Object.create(null));}:M?function(){return F({__proto__:null});}:function(){return F({});},has:H?function(S,U){return K.call(S,U);}:function(S,U){return (U in S);},get:H?function(S,U){return K.call(S,U)?S[U]:void 0;}:function(S,U){return S[U];}};N=Object.getPrototypeOf(Function);P=(O="object" === typeof d && d.nY && "true" === d.nY.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;X=O || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?E():Set;V=new (O || "function" !== typeof WeakMap?G():WeakMap)();c("decorate",function(S,U,ha,qa){var Aa;if(w(ha)){if(!z(S))throw new TypeError();if("function" !== typeof U)throw new TypeError();for(ha=S.length - 1;0 <= ha;--ha){if((qa=(0,S[ha])(U),!w(qa) && null !== qa)){if("function" !== typeof qa)throw new TypeError();U=qa;}}return U;}if(!z(S))throw new TypeError();if(!u(U))throw new TypeError();if(!u(qa) && !w(qa) && null !== qa)throw new TypeError();null === qa && (qa=void 0);ha=x(ha);for(var xa=S.length - 1;0 <= xa;--xa){Aa=(0,S[xa])(U,ha,qa);if(!w(Aa) && null !== Aa){if(!u(Aa))throw new TypeError();qa=Aa;}}return qa;});c("metadata",function(S,U){return function(ha,qa){var xa;if(!u(ha))throw new TypeError();if(xa=!w(qa)){a:switch(t(qa)){case 3:xa=!0;break a;case 4:xa=!0;break a;default:xa=!1;}xa=!xa;}if(xa)throw new TypeError();f(ha,qa,!0).set(S,U);};});c("defineMetadata",function(S,U,ha,qa){if(!u(ha))throw new TypeError();w(qa) || (qa=x(qa));f(ha,qa,!0).set(S,U);});c("hasMetadata",function(S,U,ha){if(!u(U))throw new TypeError();w(ha) || (ha=x(ha));return g(S,U,ha);});c("hasOwnMetadata",function(S,U,ha){if(!u(U))throw new TypeError();w(ha) || (ha=x(ha));return k(S,U,ha);});c("getMetadata",function(S,U,ha){if(!u(U))throw new TypeError();w(ha) || (ha=x(ha));return m(S,U,ha);});c("getOwnMetadata",function(S,U,ha){if(!u(U))throw new TypeError();w(ha) || (ha=x(ha));return p(S,U,ha);});c("getMetadataKeys",function(S,U){if(!u(S))throw new TypeError();w(U) || (U=x(U));return q(S,U);});c("getOwnMetadataKeys",function(S,U){if(!u(S))throw new TypeError();w(U) || (U=x(U));return v(S,U);});c("deleteMetadata",function(S,U,ha){var qa;if(!u(U))throw new TypeError();w(ha) || (ha=x(ha));qa=f(U,ha,!1);if(w(qa) || !qa.delete(S))return !1;if(0 < qa.size)return !0;S=V.get(U);S.delete(ha);if(0 < S.size)return !0;V.delete(U);return !0;});});})(h || (h={}));}).call(this,a(131),a(213));},function(r,b,a){var c,f,g,k,m;function d(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:d(p.prototype,q) || d(p.__proto__,q);}function l(p,q){if(p=d(p,q))return Object.getOwnPropertyDescriptor(p,q);}function h(p,q){var w;for(var v=Object.getPrototypeOf(p),t=[];v !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(v));v=Object.getPrototypeOf(v);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(u){Object.getOwnPropertyDescriptor(q,u) || Object.getOwnPropertyDescriptor(w,u) || q[u] || Object.defineProperty(q,u,{get:function(){},configurable:!0,enumerable:!0});});}function n(p,q,v,t){var y;for(var w=[],u=4;u < arguments.length;u++){w[u - 4]=arguments[u];}y=t();if((null === y || void 0 === y?0:y.tAa) || (null === y || void 0 === y?0:y.Gb))w=w.map(function(x,z){var B;z=(0,m.Bfb)(y.tAa,null === (B=y.Gb) || void 0 === B?void 0:B[z]);return (0,k.Nfa)(q,x,v,z);});w=p.call.apply(p,c.__spreadArray([void 0],c.__read(w),!1));return (null === y || void 0 === y?0:y.return)?(0,k.Nfa)(q,w,v,y.return,g.ux.UGa):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.yWb=b.YQb=b.y4a=void 0;c=a(0);f=a(281);g=a(199);k=a(470);m=a(1145);b.y4a=function(p,q,v,t,w,u){var y,x;void 0 === u && (u=[]);y={};x=(0,f.e$a)(w);h(q,p);u.forEach(function(z){return h(z,p);});return new Proxy(p,{get:function(z,B){var A,C,D,E;if("__proxyCtor" === B)return null !== (A=p[B]) && void 0 !== A?A:p.constructor;if((B in q)){E=q[B];return "function" === typeof E?E.bind(q):E;}A=y[B];if(!A && !l(y,B)){A=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (E=d(A,B)) && void 0 !== E?E:d(A.__proxyCtor,B);E=l(A,B);if(null === E || void 0 === E?0:E.get)return (E=E.get,C=x.bind(null,C,B),z=n.bind(z,E.bind(z),v,t,C),Object.defineProperty(y,B,{get:z,enumerable:!0,configurable:!0}),z());E=z[B];return "function" === typeof E?(C=x.bind(null,z,B),z=n.bind(z,E.bind(z),v,t,C),y[B]=z):E;}return A;},set:function(z,B,A){if((B in q))return (q[B]=A,!0);z[B]=A;delete y[B];return !0;}});};b.YQb=h;b.yWb=n;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Bfb=void 0;d=a(0);l=a(21);b.Bfb=function(h,n){var c;if(h || n){c=(null === h || void 0 === h?0:h.rules) && (null === n || void 0 === n?0:n.rules)?(0,l.L8)(h.rules,n.rules):(null === h || void 0 === h?void 0:h.rules) || (null === n || void 0 === n?void 0:n.rules);return d.__assign(d.__assign(d.__assign({},h),n),{rules:c});}};},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yIa=b.tia=b.zIa=void 0;d=a(8);l=a(410);h=a(472);r=(function(){function c(f,g){var k,m;this.et=f;this.Im=g;this.EYa=this.FYa=this.Bna=!1;this.ZH=null !== (m=null === (k=f.zf) || void 0 === k?void 0:k.map(function(p){return new h.mia(p);})) && void 0 !== m?m:[];}Object.defineProperties(c.prototype,{eo:{get:function(){return this.et.eo;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{dx:{get:function(){return this.et.dx;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{c9:{get:function(){return this.et.c9;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{dpa:{get:function(){return this.et.dpa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{zf:{get:function(){return this.ZH;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{empty:{get:function(){return !this.ZH.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{duration:{get:function(){return this.zf.reduce(function(f,g){return f.add(g.endTime.Fa(g.startTime));},d.O.Oa);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{h3b:{get:function(){return this.ls || !this.y2a && !this.EYa?this.ZH.every(function(f){return f.ls;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ls:{get:function(){return this.ZH.length?this.ZH.every(function(f){return f.ls;}):this.Bna;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{y2a:{get:function(){return !this.Sh && !!this.et.Jm;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Sh:{get:function(){return !!this.et.zf;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Uwa:{get:function(){return this.FYa;},set:function(f){f && (this.FYa=!0);},enumerable:!1,configurable:!0}});c.prototype.Sgc=function(){this.zf.length || (this.Bna=!0);};c.prototype.t1b=function(f){var g,k;this.et=f;this.ZH=null !== (k=null === (g=this.et.zf) || void 0 === g?void 0:g.map(function(m){return new h.mia(m);})) && void 0 !== k?k:[];this.EYa=!0;};c.prototype.ZQb=function(){this.et.Jm && (this.Bna=this.ls,this.et.zf=void 0,this.ZH=[]);};return c;})();b.zIa=r;n=(function(){function c(f,g){this.LBa=f;this.zBb=g;}Object.defineProperties(c.prototype,{duration:{get:function(){return d.O.Na(this.zBb);},enumerable:!1,configurable:!0}});Object.defineProperties(c,{cBa:{get:function(){return this.VDb || (this.VDb=new c(l.xM.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(c,{O8b:{get:function(){return this.UDb || (this.UDb=new c(l.xM.end,0));},enumerable:!1,configurable:!0}});return c;})();b.tia=n;r=(function(){function c(f,g,k){this.zW=f;this.q_a=g || n.cBa;this.CBb=k || n.cBa;}Object.defineProperties(c.prototype,{Gga:{get:function(){return this.q_a;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{kY:{get:function(){return this.CBb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{H0b:{get:function(){return this.q_a !== n.cBa || this.kY !== n.O8b;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{duration:{get:function(){return this.zW.duration.add(this.Gga.duration).add(this.kY.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{wea:{get:function(){return this.Gga.duration.add(this.kY.duration);},enumerable:!1,configurable:!0}});return c;})();b.yIa=r;},function(r,b,a){var l;function d(h,n){var c,f;c=l.__assign({},h);f=l.__read(null !== n && void 0 !== n?n:[],1)[0];f && h[f] && (h=h[f],"object" === typeof h?(n=n.concat(),n.shift(),c[f]=d(h,n)):c[f]=h);return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.qmb=b.F9=b.Oaa=b.jcb=b.ncb=b.Ncb=b.Mab=b.Hcb=b.tf=void 0;l=a(0);b.tf=function(h){return !(null === h || void 0 === h || !h.position);};b.Hcb=function(h){return !(null === h || void 0 === h || !h.S) && !(null === h || void 0 === h || !h.offset);};b.Mab=function(h){return !(null === h || void 0 === h || !h.S) || !(null === h || void 0 === h || !h.segmentId);};b.Ncb=function(h,n){return "string" === typeof h && !(!n.$c.na.T[h] && !n.sb.na.T[h]);};b.ncb=function(h){return !(null === h || void 0 === h || !h.N) && !(null === h || void 0 === h || !h.Ht);};b.jcb=function(h){return !(null === h || void 0 === h || !h.Ud);};b.Oaa=function(h,n){var c;c=h;n.forEach(function(f){c=null === c || void 0 === c?void 0:c[f];});return c;};b.F9=d;b.qmb=function(h,n,c){for(var f=0;f < n.length - 1 && h;f++){h=h[n[f]];}return h?(h[n[n.length - 1]]=c,!0):!1;};},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.VSa=void 0;d=a(6);l=a(28);r=(function(){function h(n){this.fb=n;}Object.defineProperties(h.prototype,{je:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});h.prototype.ol=function(n){var c,f;n=n.Ug;if(n === l.Kc.sn || n === l.Kc.kl){n={};c=this.fb(d.u.J);f=this.fb(d.u.U);c && (n.videoPipelineSummary=this.eob(c));f && (n.audioPipelineSummary=this.eob(f));return n;}};h.prototype.eob=function(n){var c,f,g,k,m;m=n.Xa.ma;return {actualStartPlayerTimestamp:null === (c=m.Ed) || void 0 === c?void 0:c.Z,actualPartialPlayerTimestamp:m.cib,actualCompletePlayerTimestamp:null === (f=n.gpa) || void 0 === f?void 0:f.Z,segmentId:n.S,contentStartMs:null === (g=n.cc) || void 0 === g?void 0:g.Z,contentEndMs:null === (k=n.xd) || void 0 === k?void 0:k.Z,streamingPlayerMs:n.QG.Z,isStreamable:n.MF(),isNormalized:n.Hh(),isDoneStreaming:n.bu(),trackNeedsHeaderRequest:n.track.Kda,completedRequests:m.H3a,activeRequests:n.Xa.Ej,unsentRequests:n.Xa.Su,bytes:{current:m.ha,received:m.dkb,partial:m.Uj,completed:m.ME,unsent:m.qlc}};};return h;})();b.VSa=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ITa=void 0;d=a(0);l=a(9);h=a(8);n=a(28);c=a(473);r=(function(){function f(g,k){var m;m=this;this.tCa=g;this.Ka=k;this.Kib=new h.QH();k.events.on("branchesReevaluated",function(){m.Kib.push(g.size);});}Object.defineProperties(f.prototype,{je:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ru:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});f.prototype.ol=function(g){var k;g=g.Ug;if(g === n.Kc.sn || g === n.Kc.kl){k={branchCountStats:this.Kib.toJSON(),decisions:this.Ka.Bh.toJSON(),player:this.Ka.X.Iy?this.Ka.X.cb.map(function(m){return m.G.id;}):[]};this.tCa.forEach(function(m,p){var q,v;v=(0,c.iva)(m);k[p]=d.__assign({probabilities:m.yi.map(function(t){return {duration:t.duration,immediate:t.CF,seamless:t.Se};}),parent:null === (q=m.parent) || void 0 === q?void 0:q.G.id,normalized:m.Hh,hasViewable:m.Kq,headerRequested:m.Kq && m.P.Dba},v);});return k;}};return f;})();b.ITa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fPa=void 0;d=a(49);l=a(28);r=(function(){function h(n){this.Ka=n;this.enabled=!0;}Object.defineProperties(h.prototype,{je:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});h.prototype.ol=function(n){var c,f,g,k;n=n.VF;if(n === l.zj.Ju || n === l.zj.PZ || n === l.zj.HB || n === l.zj.Ww || n === l.zj.c2 || n === l.zj.mB || n === l.zj.k1){f=this.Ka.X;if(f.tf){g=f.wi;k=g.P;g=null === (c=g.fb(d.u.J)) || void 0 === c?void 0:c.Vm;if(k.qa && g){c=g.Gq();f={encodingpipelinetime:k.H1,devicepts:c.iqa + f.Me.Z};n === l.zj.Ju && (f.presentationtimeoffset=c.Xea.Z);if(n === l.zj.Ju || n === l.zj.Ww)f.targetbufferduration=this.Ka.config.r_;return f;}}}};return h;})();b.fPa=r;},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.MMa=void 0;r=a(0);d=a(6);l=r.__importDefault(a(31)).default.wK;h=r.__importDefault(a(154));n=r.__importDefault(a(3));c=a(195);f=a(21);g=a(2);k=a(196);a=(function(){function m(p,q,v,t,w){this.config=p;this.Zhc=q;this.navigator=v;this.events=t;this.console=w;p=(0,c.$P)(this.config);this.XC=p.XC.bind(p);this.NL=p.NL.bind(p);this.JY=p.JY.bind(p);this.mZ=p.mZ.bind(p);this.Yib=[p.O0.bind(p),p.lL.bind(p)];}m.prototype.Zfc=function(p,q,v,t,w,u,y,x){var z,B,A,C,D,E,G,F,K;B=[];if(!this.bCa(u.track,u.track.qa?u.track.b$a(t):void 0))return {stream:D,V1:B,reason:"locationSelectionFailure"};u.f9 && this.bCa(u.f9,u.f9.qa?u.f9.b$a(t):void 0);A=u.$j;t=A.De;C=u.raa;D=t.Vm;E=this.r_b(u,q,p,v,y);G=E.first;if(0 === G.length && (null === y || void 0 === y?0:y.PKb))return {stream:void 0,V1:B,reason:"allStreamsFiltered"};D && !D.track.equals(u.track) && (D=this.qVb(D,G));F=u.mediaType;if((y=F === d.u.U) && D && !this.Chc(t,D))return (this.config.rab && this.XC(D.bitrate),{stream:D,V1:B});p=(0,d.Nea)(p);q=this.xPb(p,q,w,u,!!x);w=this.Yib[F];x=y?this.mZ():this.JY();u=A.GEa(q,E,x,w,u.Dcb(),u.track.P.zq,C);if(!u)return {stream:D,V1:B,reason:"streamSelectionFailure"};A={uf:u.uf,P0:u.P0};if(u.reason){K={reason:u.reason,FEa:u.nw,ZB:u.ZB,Lq:u.Lq,Mq:u.Mq};this.ora(F,G,v);}this.JSb(F,u,G);D=G[u.ae];v=D.bitrate;y?this.config.rab && this.XC(v):this.NL(v);t.Fmb(D);if(null === (z=u.EB) || void 0 === z?0:z.length)B=u.EB.map(function(O){return (0,f.Nc)(G,function(L){return L.id === O;});}).filter(f.Vda);return {stream:D,V1:B,tQ:K,WC:A,tu:u.tu,bVb:G,$fc:u};};m.prototype.qra=function(p,q,v,t,w,u,y){var x,z,B;if(!(0,d.Nq)(q))return {complete:!0,reason:"playing"};if(!u.cjb)return {complete:!1,reason:"unknown"};if(u.y$b)return ((0,g.assert)(u.Fhb),u.Fhb);x=u.$j;z=x.De;v=this.S8a(u,v);B=z.Vm;z=v.nk - v.Pc;if(z < this.config.Dk || void 0 === B)return {complete:!1,EE:z,reason:"preBuf"};if(u.mediaType === d.u.U)return {complete:!0,EE:z,reason:"audio"};if(p=p.S2a(u.mediaType))return {complete:!0,EE:z,reason:p};this.bCa(u.track);p=new k.UU();p.HW([B]);x.ACa(p,!1,(0,d.Nea)(q),v,this.Yib[u.mediaType]);q=x.lB(v,q,w,B,{Ov:y});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",EE:z};q.EE=z;return q;};m.prototype.nl=function(p,q,v,t){return t?t.nl(p.track.Rc,q,v.Fa(p.Ya.Ud),p.Hh()):p.track.Rc;};m.prototype.r_b=function(p,q,v,t,w){var u;u=new k.UU(this.config);u.HW(this.nl(p,v,t,w));q=p.Ya.Qc.Fa(q);for(q=this.config.dAa - q.Z;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.Hh)break;u.HW(this.nl(p,v,t,w));q-=p.Ya.G.duration.Z;}return u;};m.prototype.JSb=function(p,q,v){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:v});};m.prototype.ISb=function(p,q,v,t){p={type:"maxVideoBitrateChanged",time:n.default.time.fa(),streaming:t,maxvb_old:p,maxvb:q,reason:v};this.events.emit(p.type,p);};m.prototype.qVb=function(p,q){var v;v=q[0];q.filter(function(t){return t.uw;}).every(function(t){return t.bitrate <= p.bitrate?v=t:!1;});return v;};m.prototype.Chc=function(p,q){return 0 < this.config.LS.length?!0:(p=p.FQ) && p === q.location?!1:!0;};m.prototype.bCa=function(p,q){return p.P.Ak.L2(p.P.N,p.Rc,q);};m.prototype.S8a=function(p,q){var D;for(var v,t=q.Fa(this.Zhc),w=[],u=p,y=q,x,z,B=0,A=0,C=!0;u;){D=u.I9a(t);if(!C && !u.Gj)break;0 < D.ma.length && (y=D.ma[0].Ed,void 0 === x && (x=D.ma[D.ma.length - 1].Qc,z=D.zea >= D.ma.length?x:D.ma[D.zea].Ed),w=D.ma.concat(w),B+=0 < D.Uj?D.Uj:0,A+=D.Gp);u=this.navigator.parent(u);C=!1;}return {Et:n.default.Iq()[p.mediaType],ca:Math.floor(y.Z),Pc:q.Z,Fc:Math.floor(null !== (v=null === x || void 0 === x?void 0:x.Z) && void 0 !== v?v:q.Z),nk:Math.floor(z?z.Z:q.Z),Yg:w.reduce(function(E,G){return E + G.ha;},0),Uj:B,Gp:A,n8a:w.length,ma:w};};m.prototype.xPb=function(p,q,v,t,w){var u,y,x;u=this.S8a(t,q);y=t.mediaType === d.u.J?this.config.Eha:this.config.X8;x=h.default.instance();return {state:p,ss:p === d.Ma.Xc,Wd:t.$m,playbackRate:v,buffer:u,XX:y,tP:w,Ej:null === x || void 0 === x?void 0:x.Ej,mediaType:t.mediaType,Pc:q.Z,eu:!1,bya:!1,pfa:0};};m.prototype.ora=function(p,q,v){var u,y;if(p === d.u.J){p="manifest";for(var t=0,w=q.length - 1;0 <= w;--w){u=q[w];y=u.bitrate;if(l(u)){t=Math.max(t,y);break;}else this.config.f2 && !u.Yv?p="bc":u.qs?u.UB && (p="hf"):p="av";}this.lfb !== t && (this.ISb(this.lfb,t,p,v),this.lfb=t);}};return m;})();b.MMa=a;},function(r,b,a){var l,h,n;function d(c,f,g,k,m){var p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J;y=c.console;x=c.rlc;z=c.Bh;B=c.Mec;A=c.RRb;C=c.CAa;D=c.vqa;c=c.v$b;E=m || ({complete:!0,hr:0});G=E.root;F=E.complete;K=E.tGb;O=E.Vkb;O=void 0 === O?0:O;E=E.hr;L=O < B.length && B[O].id === f.id;I=O < B.length?B[O].id:k && z.get(k.id);M=m && k && I !== f.id?void 0 !== I?{Se:0}:k.zKb(f.id):{Se:1};z=M.Se;M=M.CF;H=void 0 === M?0:M;M=(z + H) * (null !== (p=null === m || void 0 === m?void 0:m.ccc) && void 0 !== p?p:1);n && y.trace(("reevaluateBranches: visiting ").concat(f.id,", ") + ("distance: ").concat(g,", ") + ("probability: ").concat(M,", ") + ("predecessor: ").concat(null === k || void 0 === k?void 0:k.id,", ") + ("decision: ").concat(I,", ") + ("predecessorComplete: ").concat(F,", ") + ("isOnRequiredPath: ").concat(L,", ") + ("requiredPathIndex: ").concat(O,", ") + ("activeDistance: ").concat(K,", ") + ("seamless ").concat(z,", ") + ("immediate ").concat(H,", ") + ("predecessor sum of: successor weights=").concat(null === k || void 0 === k?void 0:k.aGa,", ") + ("immediate weights= ").concat(null === k || void 0 === k?void 0:k.Rga));p=null !== (v=null === (q=x[f.id]) || void 0 === q?void 0:q.shift()) && void 0 !== v?v:f.duration.Z;q=0 === p;if(!L){if(0 === M)return {Jha:!1,A8:!0};if(!F && 0 === H && E > D)return (c.ZE=Math.min(c.ZE || Infinity,E - D),{Jha:!1,A8:!0});if(!q && g >= A && 1 > M || !1 === G && M < C)return {Jha:!1,A8:!0};}if(O < B.length){(0,l.assert)(B[O].id === f.id,"");J={duration:B[O].duration};}m=null !== (t=null === m || void 0 === m?void 0:m.yi) && void 0 !== t?t:[];k && 1 > z && (0 === H?m=m.concat([{Se:z}]):(t=(null === (u=null === (w=k.G.Dq) || void 0 === w?void 0:w[0]) || void 0 === u?void 0:u[0]) || 0,w=Math.max(0,k.duration.Z - t),n && y.trace(("reevaluateBranches: immediate: ").concat(k.duration.Z,", ").concat(t,", ").concat(w)),m=m.concat([{Se:z,CF:H,duration:w}])));w=c.ODa.M7a(function(N){return N.G === k;});c.ODa.add({G:f,yi:m,Ya:J},w);g=F?g + f.duration.Z:K;n && y.trace(("reevaluateBranches: added ").concat(f.id,", visiting successors, ") + ("active distance: ").concat(g," ") + ("probabilities: ").concat(JSON.stringify(m)));return {Jha:!0,A8:L,state:{root:!k,complete:q,ccc:M,yi:m,tGb:g,Vkb:O + 1,hr:E + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.Ekc=b.hnc=b.rfa=void 0;l=a(2);r=a(9);h=a(475);n=r.M && !1;b.rfa=function(c,f,g,k,m,p,q,v,t){var w,u,y,x;u={ODa:new h.l6()};y=(null === (w=g.Eh) || void 0 === w?void 0:w.Fa(g.xf).Z) || 0;0 < p.length && (0,l.assert)(g.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");n && c.trace(("reevaluateBranches: starting at ").concat(g.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:c,rlc:k,Bh:m,Mec:p,RRb:q.Z + y,CAa:v,vqa:t.Z,v$b:u};f.gnc(g,function(z,B,A,C){return d(x,z,B,A,C);});return u;};b.hnc=d;b.Ekc=function(c,f,g){var k;k=(0,h.fjb)(f,function(m){return ("").concat(m.G.id);});g(("requiredBranches(").concat(c,")"),k.replace(/\n/g,"<>"));g(("requiredBranches(").concat(c,")"),f.values.map(function(m){var p;return ("").concat(m.G.id,"::").concat(null === (p=f.parent(m)) || void 0 === p?void 0:p.G.id);}).join(", "));};},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.STa=void 0;d=a(0);l=a(468);r=(function(){function h(n){this.na=n;this.T={};}h.prototype.Lab=function(n){return !!this.na.T[n];};h.prototype.Be=function(n){var c;c=this.T[n];if(void 0 === c){c=this.na.T[n];if(void 0 === c)throw Error(("Segment not found (").concat(n,")"));c=new l.XTa(n,c,this.na.Ge);this.T[n]=c;}return c;};h.prototype.u0b=function(n){return !(!n.G.next || !Object.keys(n.G.next).length);};h.prototype.LXb=function(n){var c;c=this;return n.G.next?Object.keys(n.G.next).map(function(f){return c.Be(f);}):[];};h.prototype.jdb=function(n){var c;return d.__generator(this,function(f){switch(f.label){case 0:return [4,n];case 1:(f.ub(),c=n,f.label=2);case 2:if(!c.G.dc)return [3,4];c=this.Be(c.G.dc);return [4,c];case 3:return (f.ub(),[3,2]);case 4:return [2];}});};h.prototype.A0b=function(n,c){return (0,l.tcb)(n.hQ(c));};h.prototype.Lk=function(n){var c;c=this;Object.keys(n).forEach(function(f){var g;return null === (g=c.Be(f)) || void 0 === g?void 0:g.Lk(n[f]);});};return h;})();b.STa=r;},function(r,b,a){var h,n,c;function d(f,g){var k,m;k=Object.keys(f);if(k.some(function(p){var q,v,t,w;return (null === (q=f[p]) || void 0 === q?void 0:q.Ge) !== (null === (v=g[p]) || void 0 === v?void 0:v.Ge) || (null === (t=f[p]) || void 0 === t?void 0:t.weight) !== (null === (w=g[p]) || void 0 === w?void 0:w.weight);}))return !0;m=Object.keys(g);return 0 !== h.__spreadArray(h.__spreadArray([],h.__read((0,n.Fv)(k,m)),!1),h.__read((0,n.Fv)(m,k)),!1).length?!0:!1;}function l(f,g){return f.some(function(k,m){var p;return 0 !== (0,n.Fv)(k,null !== (p=g[m]) && void 0 !== p?p:[]).length;}) || f.length !== g.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.q2a=b.T3a=void 0;h=a(0);n=a(21);c=a(1155);b.T3a=function(f){return new c.mLa(function(g){return Object.keys(g.G.next || ({})).map(function(k){var m,p,q;k=f.Be(k);q=null !== (p=null === (m=g.Eh) || void 0 === m?void 0:m.Fa(g.xf).Z) && void 0 !== p?p:Infinity;return {Qmc:k,weight:q};});});};b.q2a=function(f,g){var k,m,p,q,v,t;k=Object.keys(f.T);m=Object.keys(g.T);p=m.filter(function(w){return -1 === k.indexOf(w);});q=k.filter(function(w){return -1 === m.indexOf(w);});v=k.filter(function(w){var u,y,x,z,B;if(-1 === m.indexOf(w))u=!1;else {u=f.T[w];w=g.T[w];u=u.dc !== w.dc || u.Aa !== w.Aa || u.Ba !== w.Ba || u.Ge !== w.Ge || u.N !== w.N || l(null !== (y=u.Dq) && void 0 !== y?y:[],null !== (x=w.Dq) && void 0 !== x?x:[]) || d(null !== (z=u.next) && void 0 !== z?z:{},null !== (B=w.next) && void 0 !== B?B:{})?!0:!1;}return u;});t=(0,n.Fv)(k,h.__spreadArray(h.__spreadArray(h.__spreadArray([],h.__read(v),!1),h.__read(p),!1),h.__read(q),!1));return {Apa:p,WR:q,hLb:v,llc:t};};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.mLa=void 0;d=a(2);l=a(185);h=a(1156);r=(function(){function n(c){this.xSb=c;this.xHa=!1;this.Kha=new h.tUa();}n.prototype.gnc=function(c,f){var k,m;function g(){var v,t,w,u,y,x;v=p.pop();t=v.node;w=v.E8;v=w.qbc;u=w.xJ;w=w.state;if(!q.Kha.has(t)){v=f(t,u,v,w);y=v.Jha;x=v.state;v.A8 || q.Kha.add(t);m(t).forEach(function(z){var B;B=z.Qmc;k.Kha.has(B) || (z=u + z.weight,y && p.push({node:B,E8:{xJ:z,qbc:t,state:x}}));});}}k=this;m=this.xSb;(0,d.assert)(!this.xHa);this.xHa=!0;this.Kha.clear();for(var p=new l.BU([{node:c,E8:{xJ:0,state:{root:!1,complete:!0,Vkb:0,hr:0}}}],function(v,t){return v.E8.xJ - t.E8.xJ;}),q=this;!p.empty;){g();}this.xHa=!1;};return n;})();b.mLa=r;},function(r,b){var l,h,n;function a(c){return void 0 !== (null === c || void 0 === c?void 0:c.tXa);}function d(c){return (a(c)?c:Object.defineProperties(c,{tXa:{value:{},configurable:!1,enumerable:!1}})).tXa;}Object.defineProperties(b,{__esModule:{value:!0}});b.tUa=void 0;h=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;n=Date.now() % h;r=(function(){function c(){this.gga=0;this.id=n=(n + 1) % h;}c.prototype.add=function(f){d(f)[this.id]=this.gga;return this;};c.prototype.has=function(f){return a(f) && d(f)[this.id] === this.gga;};c.prototype.delete=function(f){if(!this.has(f))return !1;d(f)[this.id]=void 0;return !0;};c.prototype.clear=function(){this.gga=(this.gga + 1) % h;return this;};return c;})();b.tUa=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.JTa=void 0;d=a(8);l=a(21);h=a(2);n=a(475);r=(function(){function c(){this.cb=new d.XQa();this.Bo=new n.l6();}Object.defineProperties(c.prototype,{empty:{get:function(){return this.cb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{size:{get:function(){return this.cb.size;},enumerable:!1,configurable:!0}});c.prototype.reset=function(){var f;f=this.cb.values();this.cb.clear();this.Bo.clear();f.forEach(function(g){return g.he();});};c.prototype.cw=function(f){return this.cb.get(f);};c.prototype.has=function(f){return this.cb.has(f);};c.prototype.root=function(){return this.Bo.root;};c.prototype.contains=function(f){var g;g=f.G.id;if(this.has(g))return -1 !== this.cw(g).indexOf(f);};c.prototype.MJ=function(f){this.Bo.MJ(f);};c.prototype.gZ=function(f){return this.Bo.parent(f);};c.prototype.tXb=function(f){return this.Bo.children(f);};c.prototype.Owa=function(f){return this.Bo.Owa(f);};c.prototype.ufa=function(f){var g;if(this.cb.delete(f.G.id,f)){g=this.Bo.children(f);this.Bo.root === f?0 === g.length?this.Bo.clear():((0,h.assert)(1 === g.length,"cannot remove the root branch with multiple successors"),this.Bo.nec(g[0])):((0,h.assert)(0 === g.length,"cannot remove non-root branch with successors"),this.Bo.remove(f));}};c.prototype.forEach=function(f){var g;g=this;this.cb.forEach(function(k,m){return f(k,m,g);});};c.prototype.reduce=function(f,g){var k;k=this;return this.cb.reduce(function(m,p,q){return f(m,p,q,k);},g);};c.prototype.map=function(f){var g;g=this;return this.cb.map(function(k,m){return f(k,m,g);});};c.prototype.filter=function(f){var g;g=this;return this.cb.filter(function(k,m){return f(k,m,g);});};c.prototype.L_b=function(){var f;f={};this.forEach(function(g,k){var m;(g=g.hr) && (null !== (m=f[k]) && void 0 !== m?m:f[k]=[]).push(g.Z);});return f;};c.prototype.xlc=function(f,g){var k,m,p;k=this;f=this.vPb(f,g);m=f.ARb(this.Bo);g=m.Apa;p=m.WR;m=m.Ikb;this.Bo.clear();this.Bo=f;g.forEach(function(q){return k.cb.set(q.G.id,q);});g.forEach(function(q){return q.oa();});p.forEach(function(q){return k.cb.delete(q.G.id,q);});return {WR:p,Ikb:m};};c.prototype.vPb=function(f,g){var k,m,p;k=this;m=new Map();p=new n.l6();f.MJ(function(q,v){var t,w;if(v){t=m.get(v);if(!t)return !0;}w=(0,l.Nc)(k.cw(q.G.id),function(u){return k.Bo.parent(u) === t || !v;});w=null !== w && void 0 !== w?w:g(q.G.id,t);w.yi=q.yi;m.set(q,w);p.add(w,t);(null === w || void 0 === w?0:w.Kq) && w.update(q.G);return !0;});return p;};return c;})();b.JTa=r;},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.EJa=void 0;d=a(0);l=d.__importDefault(a(3));h=a(6);n=a(8);c=a(20);f=a(2);g=a(71);k=a(60);r=(function(){function m(p,q,v,t,w,u,y){var x;void 0 === y && (y=500);x=this;this.H=p;this.config=q;this.Bc=v;this.events=t;this.Kta=w;this.Ee=u;this.VJb=y;this.ICa=this.Lm=0;this.qda=[];this.GP={Ov:0};this.state=new n.lA(h.cd.Am);this.uf=new n.lA(h.Ma.ai);this.Di=new g.Ex({Rq:10,Dp:this,source:"BufferStateTracker",u0a:function(){return {isBuffering:x.Zf,alwaysRunUnderflowTimer:x.config.CO};}});}Object.defineProperties(m.prototype,{Ov:{get:function(){return this.GP.Ov;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zf:{get:function(){return (0,h.Nq)(this.state.value);},enumerable:!1,configurable:!0}});m.prototype.vha=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(v){v.mediaType === h.u.U && (q.c2a=d.__assign(d.__assign({},q.c2a),{audio:{trackId:v.trackId,trackIndex:v.$G}}));});};m.prototype.sR=function(p){this.set(h.cd.Am);this.Y1(p,h.cd.ce);};m.prototype.fea=function(){this.GP.Ov++;};m.prototype.r0=function(p){this.config.CO || void 0 === this.eC && this.Zf && this.qsa();this.eC={iK:p.httpCode,Fh:p.errorCode,Sj:p.nativeCode};};m.prototype.oea=function(){this.eC=void 0;this.config.CO || this.p$();};m.prototype.si=function(p){this.Zf || (this.Y1(p,h.cd.bh),this.Zf && (this.eC || this.config.CO) && this.qsa());};m.prototype.b$b=function(p,q){this.state.value !== h.cd.ce && this.Y1(p,h.cd.VU);this.vha(q);};m.prototype.z9b=function(p,q){var v;v=this;this.config.UJb && this.Zf && (-1 === this.qda.indexOf(p) && this.qda.push(p),2 === this.qda.length && Promise.resolve().then(function(){v.Zf && void 0 !== v.wz && v.Og("memoryLimit",q.WS,q.XS);}));};m.prototype.vgc=function(p,q){(0,f.assert)(this.state.value === h.cd.ce && void 0 === this.wz);this.wz=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.$G}),this.vha(q));};m.prototype.Jgc=function(p,q,v){(0,f.assert)(this.Zf);this.Lxa=null !== p && void 0 !== p?p:this.Lxa;this.KZ=null !== q && void 0 !== q?q:this.KZ;void 0 === this.tQ?this.tQ=v:void 0 !== (null === v || void 0 === v?void 0:v.reason) && (this.tQ.reason=v.reason);};m.prototype.Og=function(p,q,v){var t;(0,f.assert)(this.Zf && void 0 !== this.wz && void 0 === this.YI && void 0 === this.Dha && void 0 === this.k8);this.YI=p;this.Dha=q;this.k8=v;this.Vr=100;this.Era();this.p$();null === (t=this.sra) || void 0 === t?void 0:t.Wa();this.state.value === h.cd.bh && (this.ICa=l.default.time.fa());this.FSb();this.set(h.cd.Bm);this.k8=this.Dha=this.YI=this.tQ=this.KZ=this.Lxa=this.wz=void 0;};m.prototype.stop=function(){var p;this.set(h.cd.Am);this.Era();this.p$();null === (p=this.sra) || void 0 === p?void 0:p.Wa();};m.prototype.rra=function(p,q,v,t){var w,u,y,x,z,B,A,C,D,E;w=this;(0,f.assert)(this.Zf);null === (u=this.sra) || void 0 === u?void 0:u.Wa();if(this.state.value === h.cd.bh && l.default.time.fa() < this.ICa + this.config.BAa){z=this.config.BAa - (l.default.time.fa() - this.ICa);this.sra=this.Ee.bP(k.fj.fH(c.O.Na(z)),function(){w.rra(p,q,v,t);});}else {u=v.rF(h.u.U);B=v.rF(h.u.J);A=l.default.time.fa() - this.Lm;if(u || B){C=function(G){return G?G.MF() || G.bu()?t.qra(w.state.value,p,A >= w.config.HC,q,G,w.Ov):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=C(u);C=C(B);E=function(G){var F;return {reason:G.reason,complete:G.complete,bl:null !== (F=G.EE) && void 0 !== F?F:0};};this.Di.Dv({as:E(D),vs:E(C),bt:A});E=B?C:D;E.Umc=B && C.EE || 0;E.IIb=u && D.EE || 0;D.complete && C.complete?(E.complete=!0,this.Og(null !== (z=E.reason) && void 0 !== z?z:"unknown",null !== (y=E.Umc) && void 0 !== y?y:0,null !== (x=E.IIb) && void 0 !== x?x:0)):(E.complete=!1,this.rKb(E),this.Di.Dv({bp:this.Vr}));}}};m.prototype.rKb=function(p){var q,v,t;t=p.progress;p.WF?t=(l.default.time.fa() - this.Lm) / this.config.HC:t || (t=(null !== (q=p.EE) && void 0 !== q?q:0) / this.config.Dk);p=Math.min(Math.max(Math.round(100 * t),null !== (v=this.Vr) && void 0 !== v?v:0),99);p != this.Vr && (this.Vr=p);};m.prototype.Y1=function(p,q){(0,f.assert)(q === h.cd.ce || void 0 !== p);this.wz=p;this.Vr=0;this.Wda=void 0;this.GP.Ov=0;this.qda=[];p=this.state.value === h.cd.ce || this.state.value === h.cd.bh;this.Lm=l.default.time.fa();this.set(q);p || (this.HSb(),this.fhc());};m.prototype.set=function(p){this.state.set(p);switch(p){case h.cd.Am:this.uf.set(h.Ma.Am);break;case h.cd.ce:case h.cd.VU:this.uf.set(h.Ma.ce);break;case h.cd.bh:this.uf.set(h.Ma.bh);break;case h.cd.Bm:this.uf.set(h.Ma.Xc);}};m.prototype.HSb=function(){(0,f.assert)(this.events && void 0 !== this.Vr);this.Wda=this.Vr;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:l.default.time.fa(),percentage:this.Vr});};m.prototype.fhc=function(){var p;p=this;this.Era();this.v8b=this.Ee.q4a(function(){return p.GSb();},c.O.Na(this.VJb),"buffering-notification");};m.prototype.Era=function(){var p;null === (p=this.v8b) || void 0 === p?void 0:p.Wa();};m.prototype.GSb=function(){this.Zf && this.events && void 0 !== this.Vr && this.Vr !== this.Wda && this.events.emit("buffering",{type:"buffering",time:l.default.time.fa(),percentage:this.Vr}) && (this.Wda=this.Vr);};m.prototype.FSb=function(){var p;(0,f.assert)(this.events && this.wz && void 0 !== this.YI && void 0 !== this.k8 && void 0 !== this.Dha);this.Wda=this.Vr;this.events.emit("bufferingComplete",d.__assign({type:"bufferingComplete",time:l.default.time.fa(),actualStartPosition:this.wz,reason:this.YI,aBufferLevelMs:this.k8,vBufferLevelMs:this.Dha,selector:this.Lxa,initBitrate:this.KZ,initSelReason:null === (p=this.tQ) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.Gyc},this.c2a));};m.prototype.qsa=function(){var p;p=this;this.config.pqb && (!this.iD || this.iD.state !== k.Cm.complete && this.iD.state !== k.Cm.vJ?void 0 === this.iD && (this.iD=this.Ee.zB(function(){return p.Dpb();},"underflow")):this.iD.Eg());};m.prototype.p$=function(){this.iD && (this.iD.state !== k.Cm.vJ && this.iD.Wa(),this.iD=void 0);};m.prototype.Dpb=function(){var p,q,v;return d.__generator(this,function(t){switch(t.label){case 0:return (p=this.config.Zca,this.H.trace(("BufferingStateTracker: starting underflow timer: ").concat(p,"ms")),[4,k.fj.fH(c.O.Na(p))]);case 1:(t.ub(),t.label=2);case 2:if(!this.Zf)return [3,4];q=this.Bc.p4b || 0;v=l.default.time.fa() - q;if(v >= p)return (this.H.trace(("Forcing streaming failure, ").concat(v,"ms since data received")),this.Kta.c$b(this.eC),[2]);this.H.trace(("BufferingStateTracker: network activity, wait ").concat(p - v,"ms"));return [4,k.fj.fH(c.O.Na(p - v))];case 3:return (t.ub(),[3,2]);case 4:return [2];}});};d.__decorate([(0,g.jc)({methodName:"onTemporaryNetworkError",Wl:!0})],m.prototype,"r0",null);d.__decorate([(0,g.jc)({methodName:"onUnderflow",Wl:!0})],m.prototype,"si",null);d.__decorate([(0,g.jc)({methodName:"bufferingComplete",Wl:!0})],m.prototype,"Og",null);d.__decorate([(0,g.jc)({methodName:"stop",Wl:!0})],m.prototype,"stop",null);d.__decorate([(0,g.jc)({methodName:"checkStreamingBufferingComplete",Wl:!0})],m.prototype,"rra",null);d.__decorate([(0,g.jc)({methodName:"createUnderflowTask",Wl:!0})],m.prototype,"qsa",null);d.__decorate([(0,g.jc)({methodName:"destroyUnderflowTask",Wl:!0})],m.prototype,"p$",null);d.__decorate([(0,g.jc)({methodName:"onUnderflowTimeout",Wl:!0})],m.prototype,"Dpb",null);return m;})();b.EJa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Qta=void 0;d=a(21);b.Qta=function(l,h,n,c,f){var g;g=[];l=l.Bo.values.filter(function(k){return k.Kq;}).map(function(k){var m,p;m=h(k.P,n,c,f);p=(0,d.Fv)(m,k.Fe).map(function(q){return q.mediaType;});g=(0,d.L8)(g,p);return {Ya:k,Fe:m};});return {K2a:g,MJb:l};};},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nVa=void 0;d=a(0);l=a(20);h=a(2);b.nVa=(function(){function n(){}n.T_b=function(c){var f,g,k;if(c.Hh){k=d.__read(c.Fe,2);c=k[0];k=k[1];if(c.qa || (null === k || void 0 === k?0:k.qa))return {Xqb:l.O.Zt,Yqb:l.O.Zt};c=null === (f=c.fr) || void 0 === f?void 0:f.Eh;f=null === (g=null === k || void 0 === k?void 0:k.fr) || void 0 === g?void 0:g.Eh;(0,h.assert)(c);g=f?l.O.min(c,f):c;return {Xqb:c,Yqb:g};}};return n;})();},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vJa=void 0;r=a(0);d=a(11);l=a(8);h=a(60);n=a(9);c=a(6);f=r.__importDefault(a(3));a=(function(){function g(k,m,p,q,v,t){this.Ee=k;this.Yu=m;this.config=p;this.o9b=q;this.Pg=v;this.console=t;this.nna=new d.kf();this.console=(0,l.ri)(f.default,t,"BranchDecisionMaker");}g.hXb=function(k){var m;return null !== (m=k.Qc) && void 0 !== m?m:k.oG;};g.eYb=function(k){var m,p;m=k.G;p=k.lR;return m.dc?m.dc:p.length?p[0]:k.wC[0];};g.prototype.yGa=function(k,m){var p,q,v,t;p=this;v=k.G;n.M && this.console.trace(("tracking ").concat(k.G.id));this.reset();if(v.Lu || 1 >= v.wC.length && (null === (q=v.nz) || void 0 === q || !q.length))n.M && this.console.trace(("").concat(k.G.id," does not need tracking"));else {t=this.sKb(k);q=t.uEa;m=m.lessThan(t.J1b);n.M && this.console.trace(("tracking ").concat(k.G.id),{S:v.id,Guc:m,myc:null === q || void 0 === q?void 0:q.Z});this.Hfc(v,m?q:void 0);if(m)this.nna.on(k.events,"branchEdited",function(){p.yGa(k,p.Ee.za.currentTime);});}};g.prototype.e3a=function(){var k;null === (k=this.i5a) || void 0 === k?void 0:k.Wa();this.i5a=void 0;};g.prototype.reset=function(){this.e3a();this.nna.clear();};g.prototype.sKb=function(k){var m,p;k=g.hXb(k);m=l.O.Na(this.config.cR);p=l.O.Na(this.config.J7b + this.config.W_);m=k.Fa(m);return {J1b:(0,c.Nq)(this.Pg.value)?k.Fa(p):m,uEa:m};};g.prototype.Hfc=function(k,m){var p;p=this;this.e3a();this.i5a=m?this.Ee.bP(h.fj.mD(m),function(){return p.xeb(k);},"scheduled branch decision"):this.Yu.bP(h.fj.mnc,function(){return p.xeb(k);},"immediate branch decision");};g.prototype.xeb=function(k){var m;this.nna.clear();m=g.eYb(k);n.M && this.console.trace(("BranchDecisionMaker making decision for ").concat(k.id,", decision is ").concat(m));this.o9b(k.id,m,!0);};return g;})();b.vJa=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.P8a=void 0;d=a(1163);b.P8a=function(l,h){return l.reduce(function(n,c){var f;f=h(c);c.Rm().forEach(function(g){return n.rpa(g.mediaType,g.tt,!f);});return n;},new d.RTa());};},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.RTa=void 0;d=a(462);r=(function(){function l(){this.It=new d.zU();this.RX=new d.zU();}Object.defineProperties(l.prototype,{total:{get:function(){var h;h=new d.zU();h.add(this.It);h.add(this.RX);return h;},enumerable:!1,configurable:!0}});l.prototype.add=function(h){this.It.add(h.It);this.RX.add(h.RX);};l.prototype.rpa=function(h,n,c){(c?this.RX:this.It).rpa(h,n);};return l;})();b.RTa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$$a=void 0;b.$$a=function(a,d){return a.reduce(function(l,h){return l + h.SY(d).Z;},0);};},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.i4a=void 0;d=a(0);l=a(6);b.i4a=function(h){var g,k;function n(m){(0,l.Nq)(m.newValue) && !(0,l.Nq)(m.oldValue)?(null === k || void 0 === k?void 0:k.Wa(),k=g.bP.apply(g,d.__spreadArray([],d.__read(c),!1))):null === k || void 0 === k?void 0:k.Wa();}for(var c=[],f=1;f < arguments.length;f++){c[f - 1]=arguments[f];}f=h.Tf;g=h.Yu;f.state.addListener(n);n({oldValue:l.cd.Am,newValue:f.state.value});};},function(r,b,a){var l,h;function d(n,c){return Object.keys(n.kL).map(function(f){return n.kL[f];}).filter(function(f){return void 0 === f.eK || 1 === f.eK;}).reduce(function(f,g){return f + g.It[c];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.WVa=void 0;l=a(6);h=a(9);r=(function(){function n(c,f,g){this.na=c;this.console=f;this.Ava=g;}n.prototype.QKb=function(c,f,g){var k,m,p,q;k=g && this.na.config.xmc;m=this.na.config.wha || k;p=this.Ava();if(k){k=c.global;k=(q={},q[l.u.U]=k[l.u.U] - d(c,l.u.U),q[l.u.J]=k[l.u.J] - d(c,l.u.J),q[l.u.nb]=k[l.u.nb] - d(c,l.u.nb),q);}q=k;p=this.S2a(f) || this.yLb(c) || this.wLb(c,p,q) || this.xLb(c,p,q,f);q=(0,l.kDa)(p);if(p && (!q || m))return (h.M && this.console.log(("canIssueRequest ").concat(this.na.id," [").concat(f,"] static limit: ") + ("").concat(g,", usage: ").concat(JSON.stringify(c),", failed ").concat(p)),{result:!1,reason:p});h.M && this.console.log(("canIssueRequest ").concat(this.na.id," [").concat(f,"] static limit: ") + ("").concat(g,", usage: ").concat(JSON.stringify(c),", success ").concat(p));return {result:!0,reason:p};};n.prototype.S2a=function(c){var f;f=this.na.config.xw;if(this.na.UXb(c) >= (f || Infinity))return "mediaDurationLimit";};n.prototype.yLb=function(c){return c.kL[this.na.id].total.total > (this.na.Uaa() || Infinity)?"playgraphMemoryLimit":void 0;};n.prototype.wLb=function(c,f,g){c=c.global;return g?g[l.u.U] + g[l.u.J] > (f.NFa.total || Infinity)?"staticMemoryLimit":void 0:c.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};n.prototype.xLb=function(c,f,g,k){var m;m=c.global;return g?(h.M && this.console.log(("checkRequestByMediaTypeMemory [").concat(k,"]:") + (" using static limit ").concat(f.NFa[k],", usage: ").concat(g) + (" (global: ").concat(m[k]," ") + (" - certain contiguous: ").concat(d(c,k),")")),g[k] > (f.NFa[k] || Infinity)?k === l.u.J?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):m[k] > (f.total[k] || Infinity)?k === l.u.J?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return n;})();b.WVa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LTa=void 0;r=(function(){function a(d){this.console=d;this.yra();}a.prototype.get=function(d){return this.iP[d] || this.Bh[d];};a.prototype.set=function(d,l){void 0 === this.Bh[d] && (this.Bh[d]=l);};a.prototype.Bgc=function(d,l){void 0 === this.get(d) && (this.iP[d]=l);};a.prototype.clear=function(d){this.iP[d]=void 0;this.Bh[d]=void 0;};a.prototype.ULb=function(d){var l;this.Bh=(l={},l[d]=this.Bh[d],l);this.iP={};};a.prototype.yra=function(){this.Bh={};this.iP={};};a.prototype.toJSON=function(){return {Bh:this.Bh,iP:this.iP};};return a;})();b.LTa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.NTa=b.AH=void 0;d=a(0);l=a(2);(function(n){n[n.NT=0]="CREATED";n[n.Wla=1]="STARTED";n[n.QU=2]="REQUEST_ISSUED";n[n.Xz=3]="EVALUATED";n[n.IKa=4]="DESTRUCTED";})(h=b.AH || (b.AH={}));r=(function(){function n(c){this.rz=c;this.Tc=h.NT;this.OG={};this.b2={};}Object.defineProperties(n.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});n.prototype.start=function(){var c;c=this;this.Tc !== h.Wla && (this.Q_(h.Wla),[h.Xz,h.QU].forEach(function(f){var g;g=new Promise(function(k){(0,l.assert)(c.b2 && c.OG,"state promises should be defined");c.b2[f]=k;c.OG[f]=g;});}),this.rz(),this.Q_(h.Xz));};n.prototype.Q_=function(c){this.Tc=c;this.b2 && (c=this.b2[c],null === c || void 0 === c?void 0:c());};n.prototype.Wa=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(c){switch(c.label){case 0:if(this.Tc !== h.Wla)return [3,2];(0,l.assert)(this.OG,"state resolves should be defined");return [4,this.OG[h.Xz]];case 1:(c.ub(),c.label=2);case 2:return (this.b2=this.OG=void 0,this.Tc=h.IKa,[2]);}});});};n.prototype.Lha=function(c,f){d.__awaiter(this,void 0,void 0,function(){var g;return d.__generator(this,function(k){switch(k.label){case 0:if(this.Tc === h.IKa)return [2];if(this.Tc === h.Xz)return [3,6];(0,l.assert)(this.OG,"state promises should be defined");g=c;switch(g){case h.Xz:return [3,1];case h.QU:return [3,3];}return [3,5];case 1:return [4,this.OG[h.Xz]];case 2:return (k.ub(),[3,6]);case 3:return [4,this.OG[h.QU]];case 4:return (k.ub(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return n;})();b.NTa=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.uX=void 0;d=a(0);l=a(477);h=a(478);n=a(137);c=a(480);b.uX=function(f,g,k){var m,p,q,v,t;m=g.K0;p=g.Lpa;f=d.__assign({Gja:h.Fja},f).Gja;q=m[5];m=(0,c.wBa)(function(){return t;});q.d0a(m.Js);k=k(g);q=new l.Rka();q.oa(k);v={mi:void 0,$c:void 0,sb:k,Qxa:q,Ldb:"content"};v.mi=new f(function(){return v.$c.na;},q,g.K0[2]);t=new c.xKa(v,m.$nb,n.fz.dEa.fS);v.$c=n.fz.VCa(k,t,function(){return v;},p);return v.$c;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ydb=void 0;b.ydb=function(a){var d,l;d=a.next();do {if(!d.done)l=d.value;d=a.next();}while(!d.done);return l;};},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.yKa=void 0;d=a(28);r=(function(){function l(h){this.cp=h;this.je="content-playgraph";this.enabled=!0;}l.prototype.ol=function(h){var n,c;n=h.Ug;h=h.VF;if(n === d.Kc.Cl || n === d.Kc.sn || n === d.Kc.kl || void 0 === n && void 0 === h){h=this.cp.sb;c=h.X;n=void 0;(c.tf?c.Ni:h.Xt && h.Xg) && this.cp.cp && (c=c.Ni,h=this.cp.mi.ex(c),c=this.cp.sb.na.T[c.S].N,this.cp.na.T[h.S].N != c && (n=c));return {contentPlaygraph:this.cp.cp,auxMid:n};}};return l;})();b.yKa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.XJa=void 0;d=a(479);l=a(9);h=a(28);r=(function(){function n(c,f){this.kic=c;this.Dp=f;}Object.defineProperties(n.prototype,{ru:{get:function(){return ("cache-").concat(this.kic);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{je:{get:function(){return this.ru;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});n.prototype.ol=function(c){var f,g,k;f=c.Ug;c=c.VF;if(f === h.Kc.Cl || f === h.Kc.sn || f === h.Kc.kl || void 0 === f && void 0 === c){g=(0,d.W8a)(this.Dp);f=Object.keys(g).filter(function(m){return g[m].isEnabled;});if(f.length){k={};f.forEach(function(m){k[m]={hit:g[m].Oqa,idx:g[m].l2a};});return {buc:k};}}};return n;})();b.XJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jib=void 0;b.Jib={"*":{h7a:["logdata"],rules:[{xl:function(a){return a.EHa;}}]},locationSelected:[{xl:function(a){return a.B1;}}],segmentComplete:[{xl:function(a){return a.B1;}}],segmentStarting:[{xl:function(a){return a.B1;}}],serverSwitch:[{xl:function(a){return a.B1;}}],streamSelected:[{xl:function(a){return a.tf;}}]};},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.uX=void 0;d=a(0);l=a(477);h=a(478);n=a(480);c=a(137);f=a(1175);b.uX=function(g,k,m){var p,q,v,t,w;p=d.__assign({Gja:h.Fja},g).Gja;q=k.K0[5];v=(0,n.wBa)(function(){return w;});q.d0a(v.Js);g=new l.Rka();t={mi:void 0,$c:void 0,sb:void 0,Qxa:g,Ldb:"ads"};t.mi=new p(function(){return t.$c.na;},g,k.K0[2],"Ads:");w=new f.fIa(t,v.$nb,c.fz.dEa.fS,q);p=k.Lpa;k.Lpa=d.__spreadArray(d.__spreadArray([],d.__read(p),!1),[w],!1);t.sb=m(k);t.$c=c.fz.VCa(t.sb,w,function(){return t;},p);w.oa();g.oa(t.sb);g.qfa();return t.$c;};},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fIa=void 0;d=a(0);l=a(9);h=a(1176);n=a(71);c=a(2);r=a(481);f=a(1177);a=(function(g){function k(m,p,q,v){m=g.call(this,m,p,q,"AdsPlaygraphHost",!1) || this;m.Zx=v;m.wA=void 0;return m;}d.__extends(k,g);Object.defineProperties(k.prototype,{$c:{get:function(){return this.gn.$c;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cv:{get:function(){var m;m=this.QE(this.$c.na);if(m !== this.$c.na)return m;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Le:{get:function(){return this.wA;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uya:{get:function(){return !!this.EV;},enumerable:!1,configurable:!0}});k.prototype.oa=function(){var m;m=this;g.prototype.oa.call(this);this.gn.sb.eg(new h.gIa(this.gn));this.wA=new f.aIa(this.H,this.K,this.sb,this.$c,function(p,q,v,t){return m.f1(p,q,v,t);},this.Zx,function(){return m.uya;});this.gn.sb.Le=this.wA;this.Le.n8.events.on("adBreakHydrated",function(p){return m.ijb(p);});};k.prototype.vG=function(m){var p;p=g.prototype.vG.call(this,m);p && ((0,c.assert)(this.Le,"missing manager"),this.Le.Ng.s0(m,this.EV));return p;};k.prototype.ijb=function(m){var p;p=m.Xpa;m=p.u1b(m.hpa,m.Jm);(0,c.assert)(this.Le,"missing manager");m && this.Le.Ng.iBa(p,m,this.EV);};k.prototype.ig=function(m,p,q,v,t,w,u){var y,x;void 0 === u && (u=!1);y=!1;x=!1;p && !u && (y=this.Le.BGb.Mwa(p));y || (x=this.gn.sb.ig(m,p,q,v,t,w,u));return x;};k.prototype.HG=function(m,p){var v,t;function q(){v.EV=void 0;v.$c.X.events.Ew("segmentPresenting",q);}v=this;this.EV={Xg:m,Wq:p};this.$c.X.events.on("segmentPresenting",q);if(this.Le.Ng.Kab(m)){l.M && this.H.trace(("ads::seekStreaming: ").concat(JSON.stringify(m)));t=void 0;t=this.Le.Ng.sR(m);m=t.Xg;t=t.mY;l.M && this.H.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(m),", ") + ("playerTimestamp: ").concat(p,", ") + ("entryPoint: ").concat(JSON.stringify(t)));this.sb.Xfa(m,p,t);}else this.sb.HG(m,p);};k.prototype.QE=function(m){return this.Le.Ng.QE(m);};k.prototype.he=function(m){g.prototype.he.call(this,m);this.EV=void 0;};d.__decorate([(0,n.jc)({methodName:"ads::processViewableResponse"})],k.prototype,"vG",null);d.__decorate([(0,n.jc)({methodName:"ads::processAdBreakHydrationResponse"})],k.prototype,"ijb",null);d.__decorate([(0,n.jc)({methodName:"ads::reportStreamingFailure"})],k.prototype,"ig",null);d.__decorate([(0,n.jc)({methodName:"ads::seekStreaming"})],k.prototype,"HG",null);d.__decorate([(0,n.jc)({methodName:"ads::cancelStreaming"})],k.prototype,"he",null);return k;})(r.Ela);b.fIa=a;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.gIa=void 0;d=a(38);l=a(200);h=a(28);r=(function(){function n(c){this.context=c;this.je="ad-playgraph";this.enabled=!0;}n.prototype.ol=function(c){var f,g,k,m,p,q,v;f=c.Ug;c=c.VF;if(f === h.Kc.Cl || f === h.Kc.sn || f === h.Kc.kl || c === h.zj.Ww || void 0 === f && void 0 === c){c=this.context;f=c.$c;g=c.sb;c=g.X;k=c.tf?c.Ni:g.Xt?g.Xg:void 0;m=f.Cv;p=void 0;q="content";c=void 0;if(k){g=g.na.T[k.S];v=g.tc;v && (f=f.na.T[v],f.N != g.N && (p=g.N,q=g.type,c=this.OWb(k.S,f.N)));}f={adPlaygraph:m?d.Dla.decode(m):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!m};void 0 !== c && (f.adBreakLocationMs=c);return f;}};n.prototype.OWb=function(c,f){var g,k,m,p;if(c=(0,l.TJ)(c))p=null === (m=null === (k=null === (g=this.context.$c.Le) || void 0 === g?void 0:g.Ng.yf[f]) || void 0 === k?void 0:k[c.Im]) || void 0 === m?void 0:m.dx;return p;};return n;})();b.gIa=r;},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aIa=void 0;d=a(1178);l=a(200);h=a(1181);n=a(1182);c=a(1185);f=a(1186);g=a(1187);r=(function(){function k(m,p,q,v,t,w,u){this.uXa=new d.UHa(p,m,q,v,t,u);this.uEb=new l.iIa(q,v,this.Ng);this.YV=new h.yTa(this,q,m);this.Hna=new n.$Ha(this.YV,q,q.ff,m);this.pAb=new g.SHa(w);q.SC.eg(new f.XHa(this.YV,this.Ng,this.Hna));this.uXa.oa(this.Hna.events,this.YV.events,this.n8);this.qAb=new c.VHa(q,this.Ng);}Object.defineProperties(k.prototype,{Ng:{get:function(){return this.uXa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{HR:{get:function(){return this.uEb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gib:{get:function(){return this.YV;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sxa:{get:function(){return this.Hna;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{BGb:{get:function(){return this.qAb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{n8:{get:function(){return this.pAb;},enumerable:!1,configurable:!0}});k.prototype.hi=function(m){return this.YV.hi(m);};return k;})();b.aIa=r;},function(r,b,a){var l,h,n,c,f,g,k,m,p;function d(q){return null === q || void 0 === q?void 0:q.yf.map(function(v){return v.zf;}).map(function(v){return null === v || void 0 === v?void 0:v.map(function(t){return t.id;});}).reduce(function(v,t){return null === t || void 0 === t?void 0:t.concat(v);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.UHa=void 0;l=a(0);h=a(11);n=a(38);c=a(9);f=a(159);g=a(2);k=a(21);m=a(1179);p=a(1180);r=(function(){function q(v,t,w,u,y,x){this.config=v;this.console=t;this.sb=w;this.$c=u;this.f1=y;this.uya=x;this.fy={};this.$Ya=new f.Q5();this.Gca=!1;this.events=new h.EventEmitter();this.sb.PGb(this.aUb.bind(this));}Object.defineProperties(q.prototype,{t2b:{get:function(){return this.sb.na;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yf:{get:function(){return this.Nr.yW;},enumerable:!1,configurable:!0}});q.prototype.oa=function(v,t,w){this.Nr=new m.kIa(v,t);this.KI=new p.hIa(this.Nr,this.config,this.console,this.sb,this.$c);this.n8=w;};q.prototype.uZ=function(){var v;v=this;return !!(0,k.Nc)(Object.keys(this.yf),function(t){return 0 < v.yf[t].length;});};q.prototype.sR=function(v){var t,w,u;t=this.$c.mi;(0,g.assert)(t,"Could not get graph location service");this.KI.sR(v);if(0 < this.Nr.N2){c.M && this.console.trace("ads::seekStreaming: recreating inner playgraph");w=this.QE(this.$c.na);t=t.Iqb(this.$c.na,w);this.Nr.reset();this.process(v);}t=this.KI.Y0a(v,t,w);v=t.Xg;t=t.mY;c.M && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(v)));u=(w || this.sb.na).T[v.S];this.Gca=!!u.type && -1 < ["ad","padding"].indexOf(u.type);return {Xg:v,mY:t,rxc:w};};q.prototype.s0=function(v,t){var w,u;w=this.G8a(v);u=this.fy[v.L];this.fy[v.L]=w;if(u !== w && (null === u || void 0 === u?void 0:u.yf.length) !== (null === w || void 0 === w?void 0:w.yf.length)){if(null === w || void 0 === w?0:w.yf)(this.Nr.rgc(v.L,w.yf),this.KI.Cmb(v),c.M && this.console.trace("Received ad metadata for",{P:v.L,DGb:d(w)}));v=this.sb.V6;w=this.sb.config.Ata;if(t && this.Kab(t.Xg)){if(w && !v)return this.kjb(t);c.M && this.console.trace(("ads::seekStreaming: Ignoring delayed seek request ").concat(JSON.stringify(t),", didAppendData ").concat(v,", enablePrerollForInitialSeek ").concat(w));}this.process(null === t || void 0 === t?void 0:t.Xg,null === t || void 0 === t?void 0:t.Wq);}};q.prototype.iBa=function(v,t,w){var u;u=this.G8a(v);(0,g.assert)(u,("adMetadata for viewable ").concat(v.N," should exist if an adBreak hydration was requested"));this.fy[v.L]=u;this.Nr.iBa(v.L,t);this.KI.Cmb(v);c.M && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{P:v.L,DGb:d(u)});w?this.kjb(w,!0):this.process();};q.prototype.kjb=function(v,t){var w,u,y,x;void 0 === t && (t=!1);c.M && this.console.trace(("ads::processDelayedSeekRequest: seek request ").concat(JSON.stringify(v)));w=this.$c.mi;(0,g.assert)(w,"Could not get graph location service");u=v.Xg;y=v.Wq;x=this.QE(this.$c.na);w=w.Iqb(this.$c.na,x);t=t?this.KI.Y0a(v.Xg,w,x):this.KI.FZb(v.Xg,w,x);this.Gca=!1;t && ((x=x.T[t.Xg.S]) || (x=this.sb.na.T[t.Xg.S]),this.Gca=!!x.type && -1 < ["ad","padding"].indexOf(x.type));if(t)return (v=t.Xg,u=t.mY,c.M && this.console.trace(("ads::processDelayedSeekRequest: executing delayed seek to\n            ").concat(JSON.stringify(v),", playerTimestamp ").concat(y,",\n                entryPoint ").concat(JSON.stringify(u))),this.process(v,y,u));this.process(u,null === v || void 0 === v?void 0:v.Wq);};q.prototype.process=function(v,t,w){var u;u=this;this.$Ya.ZA || this.$Ya.Qha(function(){u.f1(u.$c.na,v,t,w);u.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};q.prototype.QE=function(v){var t,w,u;t=this;w=v;u=Object.keys(v.T).map(function(y){return ("").concat(v.T[y].N);});Object.keys(this.fy).forEach(function(y){var x,z;if(-1 !== u.indexOf(y)){x=t.fy[y];if(x){z=x.yf.map(function(B,A){B=t.yf[y][A];return B.ls || B.zf.reduce(function(C,D,E){return D.UZ?l.__spreadArray(l.__spreadArray([],l.__read(C),!1),[E],!1):C;},[]);});x=(0,n.h4a)(parseInt(y),x,z,t.config.JBa);w=(0,n.qAa)(w,x);}}});return w;};q.prototype.Kab=function(v){return !!this.fy[this.$c.na.T[v.S].N];};q.prototype.G8a=function(v){if(v.Pr && (v=v.Pr,v.yf.length))return v;};q.prototype.mta=function(v){this.Nr.mta(v);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:v});this.process();};q.prototype.lFa=function(v,t,w){var u;return this.KI.lFa(v,t,w,null === (u=this.t2b) || void 0 === u?void 0:u.ke);};q.prototype.aUb=function(v){var t,w,u,y,x;t=this;if(!this.uZ())return v;w=!0;u=[];y=[];v.MJ(function(z,B){var A,C,D,E;if(!(B || !z.G.wcb || t.uya() && t.Ahc()))return (t.console.trace("Hydration: Not checking root segment"),!0);C=t.sb.v2b.na.T[z.G.id];(0,g.assert)(C,"Hydration: Segment must be present in inner playgraph");C.type && -1 < ["ad","padding"].indexOf(C.type) && (w=!1);D=t.Nr.MWb(C.N,C.Ba);if(D && !D.ls)if(D.y2a && !D.Sh){E=null === (A=null === B || void 0 === B?void 0:B.Ya) || void 0 === A?void 0:A.duration;if(t.Gca && E && 5E3 > E)t.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {u.push(z);if(w && 0 === y.length || x === B)(y.push({N:C.N,$e:D}),x=B);return !1;}}else w=!1;return !0;});u.forEach(function(z){return v.remove(z);});y.forEach(function(z){var B;B=z.N;z=z.$e.et.Jm;(0,g.assert)(z,"If an adBreak can be hydrated it needs to have an adBreakToken");t.n8.Occ(z,B);});return v;};q.prototype.Ahc=function(){return this.sb.V6 || this.sb.config.Ata || 0 === this.sb.Xg.offset.Z;};return q;})();b.UHa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.kIa=void 0;d=a(2);l=a(21);h=a(471);r=(function(){function n(c,f){var g;g=this;this.N2=0;this.Fx={};c.on("adEvent",function(k){return g.l9b(k);});f.on("adBreakPresenting",function(k){return g.eea(k);});}Object.defineProperties(n.prototype,{yW:{get:function(){return this.Fx;},enumerable:!1,configurable:!0}});n.prototype.rgc=function(c,f){this.Fx[c]=f.map(function(g,k){return new h.zIa(g,k);});};n.prototype.iBa=function(c,f){this.Fx[c].some(function(g){if(g.et.Jm === f.Jm)return (g.t1b(f),!0);});};n.prototype.reset=function(){this.N2=0;};n.prototype.l9b=function(c){var f;f=this;"adComplete" === c.event && Object.keys(this.Fx).some(function(g){var k,m,p;g=null !== (k=(p=f.Fx)[g]) && void 0 !== k?k:p[g]=[];(0,d.assert)(void 0 !== c.Im,"complete event should have an adBreakIndex");return null === (m=g[c.Im].zf) || void 0 === m?void 0:m.some(function(q){return q.id == c.ba.L?(q.ls=!0,f.N2++,!0):!1;});});};n.prototype.eea=function(c){var f;f=this;Object.keys(this.Fx).forEach(function(g){var k,m;(null !== (k=(m=f.Fx)[g]) && void 0 !== k?k:m[g]=[]).forEach(function(p){p !== c.lp.$e && p.ZQb();});});};n.prototype.mta=function(c){var f;f=this;Object.keys(this.Fx).forEach(function(g){f.Fx[g].forEach(function(k){k.zf.forEach(function(m){m.id == c && (m.UZ=!0);});});});};n.prototype.nSb=function(c){var f,g;c=this.Fx[c];0 === (null === (f=null === c || void 0 === c?void 0:c[0]) || void 0 === f?void 0:f.eo) && (c[0].zf.forEach(function(k){return k.ls=!0;}),this.N2+=(null === (g=null === c || void 0 === c?void 0:c[0]) || void 0 === g?void 0:g.zf.length) || 0);};n.prototype.MWb=function(c,f){return (c=this.yW[c]) && (0,l.Nc)(c,function(g){return g.eo === f;});};return n;})();b.kIa=r;},function(r,b,a){var d,l,h,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.hIa=void 0;d=a(66);l=a(9);h=a(6);n=a(2);c=a(200);r=(function(){function f(g,k,m,p,q){this.Nr=g;this.config=k;this.console=m;this.sb=p;this.$c=q;this.MN=!0;}f.prototype.Cmb=function(g){this.XV=void 0;this.MN && (this.MN=!this.config.N5a || !g.getTracks(h.u.J).map(function(k){var m;return null === (m=k.om) || void 0 === m?void 0:m.iy;}).some(function(k){return k && 3 === k.ks && 4 === k.w;}));l.M && this.console.trace(("ads::policiesManager: enablePrerollOnSeek for ").concat(g.L,"} is ").concat(this.MN));};f.prototype.sR=function(g){var k;if(g.offset.equal(d.O.Oa) && !this.MN){k=this.$c.na;k.ke === g.S && (g=k.T[g.S].N,l.M && this.console.trace("ads::seekStreaming: dropping preroll for viewable " + g),this.Nr.nSb(g));}};f.prototype.Y0a=function(g,k,m){var p,q;k=g=k.XE(g);m=null !== m && void 0 !== m?m:this.sb.na;p=m.T[g.S];"padding" === p.type && (g={S:p.dc,offset:d.O.Oa});if(p=this.sb.X.YY())if((p=p.G.id,l.M && this.console.trace(("ads::seekStreaming: seek from segment ").concat(p)),m=this.EZb(p,g,m)))if(m.S){l.M && this.console.trace(("ads::seekStreaming: prerollSegment ").concat(m.S));k={S:m.S,offset:d.O.Oa};q=g;}else this.XV=m.$e;return {Xg:k,mY:q};};f.prototype.FZb=function(g,k,m){var p;p=this.Nr.yW[this.$c.na.T[g.S].N];g=k.XE(g);if(m=this.DZb(m,p)){if(m.S)return {Xg:k.ex({S:m.S,offset:d.O.Oa}),mY:g};this.XV=m.$e;}};f.prototype.lFa=function(g,k,m,p){if(this.XV)return (k=this.XV,this.XV=void 0,k);if((g=this.Nr.yW[g]) && g.length)if(m && k.S === p && k.offset.equal(d.O.Oa)){if((k=g[0],0 === k.eo && 0 === k.zf.length && !k.ls && !k.Uwa))return k;}else if(!m)return this.vva(k.S,g);};f.prototype.EZb=function(g,k,m){var p,t,w;l.M && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(g," to ").concat(JSON.stringify(k)," ").concat(this.MN));if(this.MN){if(m){p=this.Nr.yW[this.$c.na.T[m.T[k.S].tc].N];m=m.T;g=m[g].dc;for(var q=void 0,v=void 0;g;){t=m[g];if("content" === t.type && ("content" === q || void 0 === q) && p){w=this.vva(g,p);w && (v={$e:w});}if(g === k.S)return (k=v && !v.S || q && "content" !== q?v:void 0,l.M && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(k)),k);"ad" === t.type && "ad" !== q && (l.M && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(g)),q=(0,c.TJ)(g),(0,n.assert)(q,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),v={S:g,$e:p[null === q || void 0 === q?void 0:q.Im]});q=t.type;g=t.dc;}}l.M && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");}};f.prototype.DZb=function(g,k){var m;l.M && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph");m=g.T[g.ke].type;if(m && "content" !== m)return (m=(0,c.TJ)(g.ke),(0,n.assert)(m,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{S:g.ke,$e:k[null === m || void 0 === m?void 0:m.Im]});if(g=this.vva(g.ke,k))return {$e:g};};f.prototype.vva=function(g,k){g=(0,c.i9a)(g);(0,n.assert)(g,"Should have contentInfo from segment name");if(0 < g.X3a && (k=k[g.X3a - 1],0 === k.zf.length && !k.ls && !k.Uwa))return k;};return f;})();b.hIa=r;},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yTa=void 0;d=a(0);l=a(11);h=a(9);n=d.__importDefault(a(3));c=a(8);f=a(21);g=a(2);r=(function(){function k(m,p,q){var v;v=this;this.wA=m;this.sb=p;this.ona=new l.kf();this.Ina=!1;this.H=(0,c.ri)(n.default,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.sb.events.on("playerChanged",this.Hib.bind(this));this.Hib();this.Ng.events.on("adPlaygraphUpdated",function(t){return v.events.emit("adPlaygraphUpdated",t);});this.Ng.events.on("adSegmentDropped",function(t){v.m9b(t);});}Object.defineProperties(k.prototype,{GZ:{get:function(){return this.Ina;},enumerable:!1,configurable:!0}});k.prototype.hi=function(m){var p;if(!this.sb.jw)return (h.M && this.H.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.sb.X;if(!p.KY(m))return (h.M && this.H.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",m),!1);h.M && this.H.trace(("PlayerAdManager.canSkip(): ").concat(p.Me.Fb()," -> ").concat(m.Fb()));m=m.greaterThan(p.Me)?(0,c.kua)(p.cb,p.Me,m):(0,c.kua)(p.cb,m,p.Me);p=!m.some(function(q){return "content" !== q.G.G.type;});h.M && this.H.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(m.map(function(q){return ("").concat(q.G.id," ").concat(q.G.G.type," ").concat(q.Nd,"..").concat(q.Nd);})));return p;};Object.defineProperties(k.prototype,{Ng:{get:function(){return this.wA.Ng;},enumerable:!1,configurable:!0}});k.prototype.Hib=function(){var m,p;m=this;this.H.trace("Player changed",this.sb.jw);this.ona.clear();if(this.sb.jw){p=this.sb.X;this.ona.addListener(p.events,"segmentPresenting",function(q){return m.cz(q);});this.ona.addListener(p.events,"playbackEnding",function(q){return m.tBa(q);});}};k.prototype.cz=function(m){var p,q,v,t,w;p=this.HR.PWb(m.position,!!m.seek);if(p){q=p.$e;v=p.dg;h.M && this.H.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(v));t=this.HR.JC;w={Wq:m.playerTimestamp,position:m.position,$e:q};this.GZ || (q.zf.length?this.xGb(t,w):this.tE(m.playerTimestamp,m.position,q));v && this.Kn(t,w,v);}!this.GZ || p && "end" !== p.A0 || this.tE(m.playerTimestamp,m.position);this.GZ && !p && this.T_a(m.position);};k.prototype.tBa=function(m){this.GZ && this.Z2b(m.position) && (this.tE(m.playerTimestamp,m.position),this.T_a(m.position));};k.prototype.xGb=function(m,p){(0,g.assert)(m,"Should have presenting info for event corresponding to ad break");h.M && this.H.trace("Emitting adBreakPresenting");this.Ina=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:m,lp:p});};k.prototype.Kn=function(m,p,q){h.M && this.H.trace("Emitting adPresenting");(0,g.assert)(m,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:m,lp:d.__assign(d.__assign({},p),{dg:q})});};k.prototype.tE=function(m,p,q){h.M && this.H.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",lp:{Wq:m,position:p,$e:q}});};k.prototype.T_a=function(m){this.Ina=!1;h.M && this.H.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:m}});};k.prototype.Yua=function(m){var p,q,v,t;p=this;q={aIb:[],result:{}};v=this.Ng.fy;t=Object.keys(v).filter(function(w){return v[w];});if(null === m || void 0 === m?0:m.$qb)t=t.filter(function(w){var u;return -1 !== (null === (u=m.$qb) || void 0 === u?void 0:u.indexOf(w));});q.aIb=t;t.forEach(function(w){var u,y,x;y=null === (u=v[w]) || void 0 === u?void 0:u.yf;if(y){u=p.WUb(w,y);x=p.Ng.yf[w];q.result[("").concat(w)]=u.map(function(z,B){return d.__assign(d.__assign({},z),{hasCompletedPlayback:x[B].h3b});});}});return q;};Object.defineProperties(k.prototype,{HR:{get:function(){return this.wA.HR;},enumerable:!1,configurable:!0}});k.prototype.WUb=function(m,p){var q,v;q=[];v=[];this.Ng.yf[m].forEach(function(t){return t.zf.forEach(function(w){w.UZ && -1 === v.indexOf(w.id) && v.push(w.id);});});p.forEach(function(t){var w,u;t=d.__assign({},t);u=null === (w=t.ads) || void 0 === w?void 0:w.filter(function(y){return -1 === v.indexOf(y.id);});t.ads=u;q.push(t);});return q;};k.prototype.m9b=function(m){var p,q,v,t;p=this;q=m.adId;v=this.Ng.fy;m=Object.keys(v).filter(function(w){return v[w];});t=this.sb.na.T;m.forEach(function(w){var u,y;null === (y=null === (u=v[w]) || void 0 === u?void 0:u.yf) || void 0 === y?void 0:y.forEach(function(x,z){var B;null === (B=x.zf) || void 0 === B?void 0:B.forEach(function(A,C){A.id === q && (A=(0,f.Nc)(Object.keys(t),function(D){D=p.HR.TJ(D);return !D || D.vK?!1:C === D.o8 && z === D.Im;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.dx,reason:"network_error",sev:"error",segmentId:A});});});});};k.prototype.Z2b=function(m){var p;p=this.sb.navigator;return (m=p.Be(m.S)) && !p.u0b(m);};return k;})();b.yTa=r;},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ha=void 0;r=a(0);d=a(11);l=r.__importDefault(a(3));h=a(8);n=a(2);c=a(9);f=a(1183);a=(function(){function g(k,m,p,q){this.sb=m;this.ff=p;this.Lr=0;this.events=new d.EventEmitter();this.console=(0,h.ri)(l.default,q,"IMPRESSION");k.events.addListener("adBreakPresenting",this.eea.bind(this));k.events.addListener("adBreakComplete",this.dea.bind(this));k.events.addListener("adPresenting",this.jBa.bind(this));}Object.defineProperties(g.prototype,{GZ:{get:function(){return !!this.Jn;},enumerable:!1,configurable:!0}});g.prototype.eea=function(k){this.Jn && (c.M && this.console.warn("Unexpected back-to-back ad breaks"),this.Jn.dea(k.lp.position),this.Lr+=this.Jn.QGa,this.Jn=void 0);(0,n.assert)(k.lp.$e,"Ad break must be defined for ad break presenting");this.Jn=new f.THa(this.sb,this.ff,this.events,k.lp.$e,this.console);};g.prototype.dea=function(k){var m,p,q;q=k.lp.$e || (null === (m=this.Jn) || void 0 === m?void 0:m.$e);c.M && this.console.trace(("adBreakComplete event, ").concat(this.Jn?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.Im," is ") + ("").concat(q.zf.length?"not ":"","empty, ") + ("has ").concat(q.ls?"":"not ","played"):"no ad break"));if(0 === (null === (p=k.lp.$e) || void 0 === p?void 0:p.zf.length))((0,n.assert)(!this.Jn,"Received ad break complete for empty ad break during ad break"),k.lp.$e.Sgc(),this.eea(k));else if(!this.Jn)return;this.Jn.dea(k.lp.position);this.Lr+=this.Jn.QGa;this.Jn=void 0;};g.prototype.jBa=function(k){var m,p,q;(0,n.assert)(this.Jn,"Expect to be in ad break when ad presenting is received");(0,n.assert)(this.Jn.$e === k.lp.$e,"Expect to be in correct ad break when ad presenting is received");p=this.sb.LY(k.lp.position.S)[0];q=k.lp.Wq;this.Jn.jBa(k.lp.dg,null === p || void 0 === p?void 0:p.P,k.lp.position.S,q,null !== (m=null === p || void 0 === p?void 0:p.Ed) && void 0 !== m?m:q);};g.prototype.By=function(){var k;return {"break":null === (k=this.Jn) || void 0 === k?void 0:k.By(),errors:this.Lr};};return g;})();b.$Ha=a;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.THa=void 0;d=a(0);l=d.__importDefault(a(3));h=a(1184);r=(function(){function n(c,f,g,k,m){this.Ka=c;this.ff=f;this.events=g;this.$e=k;this.console=m;this.Lr=0;k.c9 && l.default.ping && l.default.ping(k.c9);}Object.defineProperties(n.prototype,{QGa:{get:function(){return this.Lr;},enumerable:!1,configurable:!0}});n.prototype.jBa=function(c,f,g,k,m){this.ey && (this.ey.Wa(),this.ey=void 0);this.ey=new h.BVa(this.Ka,this.ff,this.events,this.$e,c,f,g,k,m,this.console);};n.prototype.dea=function(c){this.ey && (this.ey.Wa(),this.ey=void 0);try{this.events.emit("adBreakEvent",d.__assign(d.__assign({type:"adBreakEvent"},this.$e.dpa.complete),{Ti:c,JI:this.$e.dx,Im:this.$e.Im}));this.$e.Uwa=!0;}catch(f){this.console.error("Impression error event",f);this.Lr++;}};n.prototype.By=function(){var c;return {ad:null === (c=this.ey) || void 0 === c?void 0:c.By(),errors:this.Lr};};return n;})();b.THa=r;},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BVa=void 0;d=a(0);l=a(66);h=a(9);n=a(483);c=a(8);f=a(21);g=a(2);k=a(60);r=(function(){function m(p,q,v,t,w,u,y,x,z,B){var A;A=this;this.Ka=p;this.ff=q;this.events=v;this.$e=t;this.dg=w;this.kpa=u;this.p8=y;this.uGb=x;this.BW=z;this.console=B;this.so=l.platform.time.now();this.jM=new Map();this.Lr=0;(0,g.assert)(u.ba,"Presenting ad should have a manifest");this.W_a=q.zB(function(){return A.Gkc();},"impressionLogging");this.Ka.X.sG.forEach(function(C,D){(C=C.tVb(n.Zia)) && A.jM.set(D,C);});}Object.defineProperties(m.prototype,{QGa:{get:function(){return this.Lr;},enumerable:!1,configurable:!0}});m.prototype.Wa=function(){this.W_a.Wa();};m.prototype.Gkc=function(){var p,q,v,t,w,u,y,x,z,B,A,C,D,E,G;return d.__generator(this,function(F){switch(F.label){case 0:(h.M && this.console.trace("AdImpressionLogger: starting at",this.BW.Fb()),p=this.dg,this.f3a(),q=0,v=this.BW,t=this.BW.add(p.endTime),w=this.uGb,F.label=1);case 1:(F.Mp.push([1,,12,13]),(0,g.assert)(null === (D=p.sE) || void 0 === D?void 0:D.start,"Start event info should be defined"),this.emit(p.sE.start,q,v,!1),(0,g.assert)(p.$ga,"Timed event info should be defined"),F.label=2);case 2:(F.Mp.push([2,7,8,9]),u=d.__values(p.$ga),y=u.next(),F.label=3);case 3:if(y.done)return [3,6];x=y.value;v=this.BW.add(c.O.Na(x.qGa));h.M && this.console.trace(("AdImpressionLogger[").concat(this.p8,"]: waiting for ").concat(x.qGa,"ms timed event") + (" at ").concat(v.Fb()));return [4,k.fj.mD(v)];case 4:(F.ub(),w=v,this.emit(x,x.qGa,v,!1),F.label=5);case 5:return (y=u.next(),[3,3]);case 6:return [3,9];case 7:return (z=F.ub(),A={error:z},[3,9]);case 8:try{y && !y.done && (C=u.return) && C.call(u);}finally{if(A)throw A.error;}return [7];case 9:if(!t.greaterThan(v))return [3,11];v=t;h.M && this.console.trace(("AdImpressionLogger[").concat(this.p8,"]: waiting for end of ad at ").concat(v.Fb()));return [4,k.fj.mD(v)];case 10:(F.ub(),w=v,F.label=11);case 11:return [3,13];case 12:this.Ka.X.tf && (w=this.Ka.X.Me);if(w.tk(t))((0,g.assert)(null === (E=p.sE) || void 0 === E?void 0:E.complete,"Complete event should be defined"),this.emit(p.sE.complete,p.endTime.Z,t,!0));else if(null === (G=p.sE) || void 0 === G?0:G.stop)(B=w.Fa(this.BW).Z,this.emit(p.sE.stop,B,w,!0));this.f3a();return [7];case 13:return [2];}});};m.prototype.emit=function(p,q,v,t){h.M && this.console.trace(("AdImpressionLogger[").concat(this.p8,"]: emitting ").concat(p.event," event at ").concat(q,"ms") + (" for player time ").concat(v.Fb()));q={S:this.p8,offset:c.O.Na(q)};v=this.Zva(v);try{this.events.emit("adEvent",d.__assign(d.__assign({type:"adEvent"},p),{Ti:q,ez:v,ba:this.kpa.ba,so:this.so,Ayc:t?l.platform.time.now():-1,JI:this.$e.dx,Im:this.$e.Im,NS:this.dg.NS,qw:this.dg.qw}));}catch(w){this.console.error("Impression error event",w);this.Lr++;}};m.prototype.Zva=function(p){var q,v,t;q=this.kpa.ba.L;v=d.__read(this.F$a(p,this.jM.get(l.u.U),q),2);t=v[0];v=v[1];p=d.__read(this.F$a(p,this.jM.get(l.u.J),q),2);return {audio:t,video:p[0],text:[],total:Math.max(v,p[1])};};m.prototype.F$a=function(p,q,v){p=(null === q || void 0 === q?void 0:q.fic(p,v)) || [];p=(0,f.flatten)(p.map(function(t){return Object.keys(t.zJ).map(function(w){w=t.zJ[w];return {Wb:w.Wb,duration:w.totalTime,Xo:t.Xo};});}));q=p.reduce(function(t,w){return t + w.duration;},0);h.M && this.console.trace("Getting playtime journal",{L:v,Ixc:p.length,totalTime:q});return [p,q];};m.prototype.f3a=function(){var p,q,v;v=this.kpa.ba.L;null === (p=this.jM.get(l.u.U)) || void 0 === p?void 0:p.skb(v);null === (q=this.jM.get(l.u.J)) || void 0 === q?void 0:q.skb(v);};m.prototype.By=function(){return {ad:this.W_a.By(),errors:this.Lr};};return m;})();b.BVa=r;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.VHa=void 0;d=a(21);r=(function(){function l(h,n){this.Cv=h;this.Ng=n;}l.prototype.Mwa=function(h){var n;n=this;return this.Cv.X.cb.some(function(c){return c.G.G.N === h && c.K0a;})?!1:(0,d.Nc)(Object.keys(this.Ng.fy),function(c){if(c=n.Ng.fy[c])return (0,d.Nc)(c.yf,function(f){return f.zf && (0,d.Nc)(f.zf,function(g){return g.id === h;});});})?(this.Ng.mta(h),!0):!1;};return l;})();b.VHa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XHa=void 0;d=a(11);l=a(28);r=(function(){function h(n,c,f){var k;function g(m){var p,q;(p=k.state.ipa)[q=m.event] || (p[q]=0);k.state.ipa[m.event]++;}k=this;this.Ng=c;this.sxa=f;this.WD=new d.kf();this.ru="adImpressionAudit";this.je="adImpressionAuditor";this.enabled=!0;this.WD.on(n.events,"adPresenting",function(){return k.state.z0a++;});this.WD.on(n.events,"adBreakPresenting",function(){return k.state.U_a++;});this.WD.on(f.events,"adEvent",g);this.WD.on(f.events,"adBreakEvent",g);this.state={U_a:0,ipa:{},z0a:0};}h.prototype.ol=function(n){n=n.Ug;if(this.Ng.uZ() && n === l.Kc.kl)return {presented:{breaks:this.state.U_a,ads:this.state.z0a},events:this.state.ipa,logger:this.sxa.By()};};h.prototype.Wa=function(){this.WD.clear();};return h;})();b.XHa=r;},function(r,b,a){var d,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SHa=void 0;d=a(0);l=a(11);r=(function(){function h(n){this.Zx=n;this.Lya={};this.events=new l.EventEmitter();}h.prototype.Occ=function(n,c){d.__awaiter(this,void 0,void 0,function(){var f,g,k,m;return d.__generator(this,function(p){switch(p.label){case 0:(this.Lya[c]=n,f=this.Zx.Js(c).IQ,p.label=1);case 1:return (p.Mp.push([1,,3,4]),[4,this.Zx.CG({Jm:n,N:c})]);case 2:return ((g=p.ub()) && n === this.Lya[c] && (this.Lya={},k=g.hpa,m=g.Xpa,this.events.emit("adBreakHydrated",{type:"adBreakHydrated",Jm:n,hpa:k,Xpa:m})),[3,4]);case 3:return (f.release(),[7]);case 4:return [2];}});});};return h;})();b.SHa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.aP=void 0;d=a(0);l=a(1189);h=a(197);b.aP=function(n,c){var f,g,k;f=[function(m){return new (l.wia.bind.apply(l.wia,d.__spreadArray([void 0],d.__read(m.Oac),!1)))();}];if(n.cY){g=a(484).csa;f.unshift(function(m,p){return g(m,p);});}if(n.EJ){k=a(484).csa;f.unshift(function(m,p){return k(m,p);});}return h.OT.$ba({Oac:c},f);};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.wia=void 0;d=a(0);l=a(11);h=a(8);n=a(2);c=a(60);f=a(21);r=a(137);g=a(1190);k=a(133);m=a(1191);p=a(469);q=a(1194);v=a(1195);t=r.fz.Nsa;a=(function(w){function u(y,x,z){var B,A;A=w.call(this) || this;A.X=y;A.ag=x;A.ot=z;A.ZX=[];A.Rf=void 0;A.wV=new l.kf();A.ZD=void 0;A.eE=void 0;A.Vna=void 0;A.wV.on(A.X,"underflow",A.si.bind(A));A.kV=new q.ATa(y);A.wV.on(A.X,"skipped",A.q0.bind(A));A.wV.on(A.X,"playing",A.uBa.bind(A));A.wV.on(A.X,"playbackEnding",A.tBa.bind(A));A.Vx=new c.WU(A.kV,A.H,"player");A.AHa=new h.QH();y.A2a && y.Eg && (A.uz=new v.fVa(A,y,A.H,null === (B=A.Ka) || void 0 === B?void 0:B.config));return A;}d.__extends(u,w);Object.defineProperties(u.prototype,{Lp:{get:function(){var y;return null === (y=this.Rf) || void 0 === y?void 0:y.Lp;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{sG:{get:function(){var y;return (null === (y=this.Rf) || void 0 === y?void 0:y.sG) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{cb:{get:function(){var y,x;return null !== (x=null === (y=this.Rf) || void 0 === y?void 0:y.cw()) && void 0 !== x?x:[];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Bdb:{get:function(){return this.Vna;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ka:{get:function(){var y;return null === (y=this.Rf) || void 0 === y?void 0:y.Ka;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{za:{get:function(){return this.kV;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{T0a:{get:function(){var y,x;return !!((null === (y=this.Rf) || void 0 === y?0:y.tFa) && (null === (x=this.fu) || void 0 === x?0:x.Gj));},enumerable:!1,configurable:!0}});u.prototype.uBa=function(y){var x;this.Vna=this.dn(null !== (x=y.Ce) && void 0 !== x?x:this.X.Pc);(0,n.assert)(this.Vna,"Should have a location");};u.prototype.tBa=function(){var y,x;y=this.X.Pc;x=this.dn(y);(0,n.assert)(x,"Playback ending at position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:y,position:x});};u.prototype.nga=function(y){-1 === this.ZX.indexOf(y) && this.ZX.push(y);this.Rf && this.Rf.l0(y);this.events.emit("drmReady",{viewableId:y});};u.prototype.mmb=function(y){y=this.ZX.indexOf(y);-1 !== y && this.ZX.splice(y,1);};u.prototype.rs=function(y){var x;return -1 !== this.ZX.indexOf(y) || !(null === (x=(0,f.Nc)(this.cb,function(z){return z.Kq && z.P.N === y;})) || void 0 === x || !x.P.Tl);};u.prototype.LG=function(y){var x;null === (x=this.Rf) || void 0 === x?void 0:x.LG(y);};u.prototype.reset=function(){var y,x;this.AHa=new h.QH();w.prototype.reset.call(this);this.eE=void 0;null === (y=this.Rf) || void 0 === y?void 0:y.reset();null === (x=this.uz) || void 0 === x?void 0:x.reset();};u.prototype.TDa=function(y){this.cS([y]);};u.prototype.cS=function(y){var x,z;x=this;y.forEach(function(B){var A;w.prototype.TDa.call(x,B);null === (A=x.uz) || void 0 === A?void 0:A.Rec(B);});null === (z=this.Rf) || void 0 === z?void 0:z.cS(y);};u.prototype.KE=function(){var y;null === (y=this.Rf) || void 0 === y?void 0:y.KE();};u.prototype.pause=function(y){this.SL(y);w.prototype.pause.call(this,null !== y && void 0 !== y?y:this.ag);};u.prototype.resume=function(y){var x;null === (x=this.Rf) || void 0 === x?void 0:x.resume(y);w.prototype.resume.call(this,null !== y && void 0 !== y?y:this.ag);};u.prototype.Wa=function(){this.ZD=this.Aba()?this.rp():void 0;this.Rf && this.Vsa(this.Rf.Ka);this.kV.Wa();this.Vx.Wa();this.wV.clear();w.prototype.Wa.call(this);};u.prototype.XJ=function(){var y,x;if(null === (y=this.Rf) || void 0 === y?0:y.$bc){y=this.X.Pc;if(this.za.wk){if(this.eE){if(this.eE.greaterThan(y))return (y=this.eE.Fa(y),this.AHa.push(y.Z),this.eE);if(this.cb.length){x=this.Rf.A4b;if(x && x.lessThan(y))return (this.events.emit("logdata",{type:"logdata",target:"endplay",gd:{clockdrift:{type:"count"}}}),this.eE);}}this.eE=y;}return y;}return w.prototype.XJ.call(this);};u.prototype.Tt=function(){var y;y=this.X.playbackRate;void 0 === y && (y=w.prototype.Tt.call(this));return y;};u.prototype.Aba=function(){return !!this.ZD || w.prototype.Aba.call(this);};u.prototype.rp=function(){return this.ZD?this.ZD:w.prototype.rp.call(this);};u.prototype.YY=function(){var y;return null === (y=this.Rf) || void 0 === y?void 0:y.r4b;};u.prototype.Vsa=function(y){var x;(0,n.assert)(y === this.Ka);null === (x=this.Rf) || void 0 === x?void 0:x.Wa();this.Rf=void 0;};u.prototype.V8=function(y,x){var z,B;this.ZD=void 0;z=w.prototype.V8.call(this,y,x);if(z){B=new m.YIa(y,this,this.H,y.config,this.ot,this.events,this.ag,this.Vx,this.uz,this.$D,this.YD,null === x || void 0 === x?void 0:x.Lp,null === x || void 0 === x?void 0:x.sG);null === x || void 0 === x?void 0:x.vR();this.Rf=B;this.SL(this.yR);this.uz && (x=y.SC.SZb(g.Yla),x || (x=new g.Yla(),y.eg(x)),this.uz.Ldc(x));}return z;};u.prototype.vR=function(){var y;null === (y=this.Rf) || void 0 === y?void 0:y.vR();};u.prototype.Hta=function(){var z;for(var y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}z=this.Rf;(0,n.assert)(z);y.forEach(function(B){return z.JTb(B);});};u.prototype.sFa=function(){var y;null === (y=this.Rf) || void 0 === y?void 0:y.sFa();};u.prototype.hi=function(y){var x,z,B;if(!this.Rf)return !1;x=this.KY(y);if(!x)return !1;z=x.G;B=h.O.Na(this.ot.cR);return z.Eh.Fa(B).lessThan(y) || !x.NE(y)?!1:this.Rf.hi(y);};u.prototype.aba=function(){var y;return null === (y=this.uz) || void 0 === y?void 0:y.aba();};u.prototype.si=function(){var y,x,z;if(null === (y=this.Ka) || void 0 === y?0:y.Zf)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {z=this.Me;(0,n.assert)(this.Ka);y=this.dn(z,!0);(0,n.assert)(y);null === (x=this.Rf) || void 0 === x?void 0:x.si();x=this.KY(z);null === x || void 0 === x?void 0:x.P.si();this.Ka.si(y);}};u.prototype.q0=function(){this.eE=void 0;};u.prototype.dva=function(){var y;return null === (y=this.Rf) || void 0 === y?void 0:y.dva();};u.prototype.SL=function(y){var x;null === (x=this.Rf) || void 0 === x?void 0:x.SL(y);};u.prototype.AGa=function(y){(0,n.assert)(this.Ka && this.Rf);return w.prototype.AGa.call(this,y);};u.prototype.dfa=function(){(0,n.assert)(this.Rf);this.Rf.dfa();};d.__decorate([t.return.wqa(),t.return.xo],u.prototype,"rp",null);d.__decorate([t.return.wqa(),t.return.aea],u.prototype,"YY",null);return u=d.__decorate([k.RJ],u);})(p.Cla);b.wia=a;},function(r,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Yla=void 0;d=a(28);r=(function(){function l(){this.ru=this.je=l.je;this.enabled=!0;this.w1=[];this.ilb=0;}l.prototype.lHb=function(h){this.w1.push(h);5 < this.w1.length && this.w1.shift();};l.prototype.mHb=function(){this.ilb++;};l.prototype.ol=function(h){var n;n=h.Ug;h=h.VF;if((n === d.Kc.Cl || n === d.Kc.sn || n === d.Kc.kl || void 0 === n && void 0 === h) && this.w1.length)return {restarts:this.w1.map(function(c){return {s:c.lic,d:c.tRb,r:c.reason,atMs:c.Uac.Z};}),restartsCompleted:this.ilb};};l.je="seamlessManager";return l;})();b.Yla=r;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.YIa=void 0;d=a(0);l=a(11);h=a(451);n=d.__importDefault(a(3));c=a(192);f=a(6);g=a(269);k=a(8);m=a(21);p=a(60);q=a(257);v=a(2);t=a(1192);w=a(1193);u=a(483);r=(function(){function y(x,z,B,A,C,D,E,G,F,K,O,L,I){var M;M=this;this.Ka=x;this.X=z;this.H=B;this.K=A;this.ot=C;this.eh=D;this.ag=E;this.ff=G;this.uz=F;this.$D=K;this.YD=O;this.z6=!1;this.mYa=new k.xVa();this.ioa=this.p9b.bind(this);this.dk=new c.iH(this.H);this.pW=L || new w.qma(this.H,x);this.wPb(I);this.Bj && (this.xEb=this.bva(this.HZb()),this.XCb=k.lA.rnc(this.Bj.map(function(H){return H.pu;}),function(H){return H.every(function(J){return J;});},function(H){return M.$D.set(H);}),this.OAb=new q.Tka(this.Bj.map(function(H){return H.Hya;}),function(H){return k.O.min.apply(k.O,d.__spreadArray([],d.__read(H),!1));},function(H){M.YD.set(H);},k.O.Na(-Infinity)));this.Gr=G.zB(function(){return M.LJb();},"branchPruner");this.WD=new l.kf();this.WD.on(this.eh,"segmentPresenting",function(){return d.__awaiter(M,void 0,void 0,function(){var H;return d.__generator(this,function(J){switch(J.label){case 0:return (this.JCb=this.X.rp(),null !== (H=this.K.i1a) && void 0 !== H && H.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(J.ub(),this.eh.emit("requestGarbageCollection",{time:n.default.time.fa(),type:"requestGarbageCollection"}),J.label=2);case 2:return [2];}});});});}Object.defineProperties(y.prototype,{Lp:{get:function(){return this.pW;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sG:{get:function(){var x;x=new Map();this.Bj.forEach(function(z){x.set(z.mediaType,z.JR);});return x;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{r4b:{get:function(){return this.JCb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tFa:{get:function(){return this.Bj.every(function(x){return x.tFa;});},enumerable:!1,configurable:!0}});y.prototype.LJb=function(){var x,z,B,A,C,D;return d.__generator(this,function(E){switch(E.label){case 0:if(!this.dk.G3a)return [3,2];x=d.__read(this.dk.C2(),1);z=x[0];B=z.G.wcb && (null === (D=this.ot.vS) || void 0 === D?void 0:D.Z) || 0;A=z.i_ || z.Qc;C=A.add(k.O.Na(B + 1E3));return [4,p.fj.mD(C)];case 1:return (E.ub(),this.Bjb(z),[3,0]);case 2:return [2];}});};Object.defineProperties(y.prototype,{$bc:{get:function(){var x;return !(null === (x=this.xEb) || void 0 === x || !x.pu.value);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{A4b:{get:function(){return this.z6?k.O.max.apply(k.O,d.__spreadArray([],d.__read(this.Bj.map(function(x){var z;return null === (z=x.FIb) || void 0 === z?void 0:z.Adb;}).filter(m.Vda)),!1)):void 0;},enumerable:!1,configurable:!0}});y.prototype.LG=function(x){this.Bj.forEach(function(z){z.LG(x);});};y.prototype.p9b=function(){var x;this.Gr.Eg();x=this.Bj.filter(function(z){return z.N2b;}).map(function(z){return z.mediaType;});this.SL(x);this.resume(x);};y.prototype.JTb=function(x){(0,v.assert)(-1 === this.dk.C2().indexOf(x),("Branch ").concat(x.G.id," is already in the collection, cannot re-queue"));x.events.on("branchEdited",this.ioa);this.dk.enqueue(x);this.Gr.state === p.Cm.complete && this.Gr.Eg();x.G.Lu && this.dk.AP();this.z6 || this.CVb(x);};y.prototype.l0=function(x){this.Bj.forEach(function(z){z.l0(x);});};y.prototype.reset=function(){this.Bj.forEach(function(x){x.reset();});this.z6=!1;this.mYa.removeAllListeners();this.KE();};y.prototype.TDa=function(x){this.cS([x]);};y.prototype.cS=function(x){var z;z=this;x.forEach(function(B){B=z.bva(B);null === B || void 0 === B?void 0:B.reset(!1,x);});};y.prototype.KE=function(){var x;x=this;this.dk.C2().forEach(function(z){return z.events.Ew("branchEdited",x.ioa);});this.dk.clear();this.Gr.Eg();};y.prototype.dfa=function(){var x;x=this;this.dk.C2().filter(function(z){return z.AO;}).forEach(function(z){return x.Bjb(z);});};y.prototype.resume=function(x){this.Bj.forEach(function(z){void 0 !== x && -1 === x.indexOf(z.mediaType) || z.resume();});};y.prototype.SL=function(x){this.Bj.forEach(function(z){return (void 0 === x || -1 !== x.indexOf(z.mediaType)) && z.stop();});};y.prototype.sFa=function(){this.Bj.forEach(function(x){return x.Qhc();});};y.prototype.si=function(){this.H.trace("attached-player: onUnderflow");};y.prototype.T$a=function(){return this.dk.getIterator();};y.prototype.rYb=function(){return this.cw()[0];};y.prototype.cw=function(){return this.dk.C2();};y.prototype.wPb=function(x){var z,B,A;z=this;this.Dn("createMediaSourceStart");if(this.ot.Sva)B=this.ot.Sva();else (B=new n.default.MediaSource(this.X.X),B.Yc || (B.Yc=n.default.MediaSource.Yc));if(1 !== B.readyState)this.Ir("exception in init","NFErr_MC_StreamingInitFailure");else {this.Dn("createMediaSourceEnd");this.Lg=B;if(!B.u8(this.ag))throw (this.H.trace("Error:",B.error),this.Ir("error creating source buffers","NFErr_MC_StreamingInitFailure"),B.error);A={};this.Ka.eg(new t.eKa(A,this.K));this.Bj=B.sourceBuffers.filter(function(C){return 0 <= z.ag.indexOf(C.mediaType);}).map(function(C){var D,E,G,F;E=new g.Nia(C.mediaType,B,C,z.K,!0,{fg:function(){return z.X.Me.Z;},rs:function(K){return z.X.rs(K.N);}},z.ff);E.addListener("error",function(K){return z.Ir(K.errorstr);});E.addListener("logdata",function(K){return z.eh.emit("logdata",K);});E.addListener("managerdebugevent",function(K){z.eh.emit("managerdebugevent",K);});G=null === x || void 0 === x?void 0:x.get(C.mediaType);F=new h.xia(E,C.mediaType,z,z.K,z.H,z.X,z.ot,z.ff,z.Lp,z.uz,G);if(C.mediaType === f.u.J)F.on("drmNeeded",function(K){return z.eh.emit("drmNeeded",K);});G || (null === (D=F.JR) || void 0 === D?void 0:D.qHb(new u.Zia(A[C.mediaType]={},z.H,z.X,E,z.X.events,z.ot,z.ff)));return F;});}};y.prototype.Bjb=function(x){var z;(0,v.assert)(x.AO,"Attempted to prune branch that has not been fully appended");this.dk.remove(x);x.events.removeListener("branchEdited",this.ioa);x.he("pruned");(null === (z=this.K.i1a) || void 0 === z?0:z.branchPruned) && this.eh.emit("requestGarbageCollection",{time:n.default.time.fa(),type:"requestGarbageCollection"});};y.prototype.Wa=function(){this.XCb.clear();this.OAb.clear();this.Bj.forEach(function(x){return x.Wa();});this.ot.Sva || this.Lg.Mt();this.KE();this.Gr.Wa();this.WD.clear();};y.prototype.hi=function(x){return this.Bj.every(function(z){return z.hi(x);});};y.prototype.vR=function(){this.Bj.forEach(function(x){return x.r4a();});this.pW=new w.qma(this.H,this.Ka);};y.prototype.dva=function(){return {Scc:this.cw(),Nac:this.Bj};};y.prototype.CVb=function(x){var z;z=this;this.z6=!0;x.Fe.forEach(function(B){var A;A=z.bva(B.mediaType);if(void 0 !== A)z.mYa.once(B.Cua,function(C){return A.EVb(C);});});if(x.cc)this.w6a();else x.events.once("branchNormalized",function(){return z.w6a();});};y.prototype.w6a=function(){var x;x=this.rYb();x && ((0,v.assert)(x.Ed),this.eh.emit("ptsChanged",{initialTimestamp:x.Ed,forcedTimestamp:void 0}));};y.prototype.bva=function(x){return (0,m.Nc)(this.Bj,function(z){return z.mediaType === x;});};y.prototype.HZb=function(){return -1 !== this.ag.indexOf(f.u.J)?f.u.J:f.u.U;};y.prototype.Dn=function(x){x={type:"startEvent",event:x,time:n.default.time.fa()};this.eh.emit(x.type,x);};y.prototype.Ir=function(x,z){this.Ka.ig(x,void 0,z);};return y;})();b.YIa=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.eKa=void 0;d=a(6);l=a(21);h=a(28);r=(function(){function n(c,f){this.zh=c;this.config=f;this.je="CdnListTracker";}Object.defineProperties(n.prototype,{enabled:{get:function(){return this.config.cLb;},enumerable:!1,configurable:!0}});n.prototype.ol=function(c){var f;f=this;if(c.Ug === h.Kc.kl)return {cdndldist:JSON.stringify((0,l.b1a)(Object.keys(this.zh).map(function(g){var k;k=f.zh[g];return Object.keys(k).map(function(m){var p;p=k[m];return {cdnid:p.Xo,pbcid:p.Fp,dls:Object.keys(p.zJ).map(function(q){var v,t;q=p.zJ[q];t=q.mediaType === d.u.U?"adlid":"dlid";return (v={tm:q.totalTime,bitrate:q.bitrate},v[t]=q.Wb,v.vf=q.gb,v);})};});})))};};return n;})();b.eKa=r;},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.qma=void 0;d=a(0).__importDefault(a(3));l=a(6);h=a(20);n=a(31);r=(function(){function c(f,g){this.H=f;this.Qo=g;}c.prototype.xz=function(f,g,k,m,p){var q,v;void 0 === p && (p=!1);q=f.G;v=this.WBb(q);this.rO={startTime:d.default.time.fa(),nic:f,mic:k.Z,uSb:g,Ge:this.EYb(m,g),Nkc:this.G_b(m,p),Qsa:p,Se:m,W2a:v,l8b:this.cZb(q,k)};};c.prototype.obb=function(){return !!this.rO;};c.prototype.Tva=function(f){var g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O;if(this.rO && 0 !== Object.keys(this.rO.W2a).length && f === this.rO.uSb){u=this.rO;y=u.W2a;x=u.l8b;z=u.Qsa;B=u.Se;A=u.nic;C=u.mic;D=u.startTime;E=u.Ge;u=u.Nkc;this.rO=void 0;G=this.yna(f).Dt;F=this.UWb(A.G.id,f,y);G=this.bZa(F.weight,G);K={};for(O in y){O !== f && (K[O]=y[O].details);}y=d.default.time.fa() - D;D=B?0:y;O={offset:h.O.Na(this.j_b(A,C,B,z)),S:A.G.id};C={offset:h.O.Na(C),S:A.G.id};x={segment:f,destPosition:{S:f,offset:h.O.Oa},srcsegment:A.G.id,srcTransitionPosition:O,srcStartPosition:C,srcsegmentduration:A.hha.Z,srcoffset:O.offset.Z,seamlessRequested:B,atRequest:F,atTransition:G,discard:K,transitionType:E,transitionTypeAtRequest:u,delayToTransition:this.FXb(y,B,z),durationOfTransition:D,nextExitPositionAtRequest:x};z=null !== (k=null === (g=this.Qo.na.T[f]) || void 0 === g?void 0:g.type) && void 0 !== k?k:"content";g=null !== (p=null === (m=this.Qo.na.T[A.G.id]) || void 0 === m?void 0:m.type) && void 0 !== p?p:"content";f=null !== (v=null === (q=this.Qo.na.T[f]) || void 0 === q?void 0:q.N) && void 0 !== v?v:void 0;q=null !== (w=null === (t=this.Qo.na.T[A.G.id]) || void 0 === t?void 0:t.N) && void 0 !== w?w:void 0;f && q && f !== q && (x.auxMidType=z,x.auxSrcmidType=g,x.auxMid=f,x.auxSrcmid=q);return x;}};c.prototype.UWb=function(f,g,k){var m,p,q;q={};(k=k[g])?q=k.details:((0,n.assert)(this.Qo),q.weight=null === (p=null === (m=this.Qo.na.T[f].next) || void 0 === m?void 0:m[g]) || void 0 === p?void 0:p.weight);return q;};c.prototype.FXb=function(f,g,k){var m;k || (m=g?f:0);return m;};c.prototype.cZb=function(f,g){var k,m,p;m=f.xf.add(g);null === (k=f.nz) || void 0 === k?void 0:k.some(function(q){m.lessThan(q.cc) && (p=q.cc.Z);});return p;};c.prototype.j_b=function(f,g,k,m){return k || m?f.hha.Z:g;};c.prototype.EYb=function(f,g){return f?"seamless":this.yna(g).vZ?"reset":"long";};c.prototype.G_b=function(f,g){return f || g?"lazy":"immediate";};c.prototype.WBb=function(f){var g,k;g=this;k={};f.wC.forEach(function(m){var p,q;p=f.o8b[m];q=g.yna(m).Dt;k[m]={details:g.bZa(p,q)};});return k;};c.prototype.yna=function(f){var g,k;f=this.Qo.LY(f);g=0 < f.length?f[0]:void 0;f=null === g || void 0 === g?void 0:g.NB();if(!g || !f)return {vZ:!1,Dt:{Op:0,st:0,Wu:0,rE:0}};k=g.zba(l.u.U) && !f.st;g=g.zba(l.u.J) && !f.Op;return {vZ:!k && !g,Dt:f};};c.prototype.bZa=function(f,g){return {weight:f,vbuflmsec:g.Op,abuflmsec:g.st,vbuflbytes:g.Wu,abuflbytes:g.rE};};return c;})();b.qma=r;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ATa=void 0;d=a(11);l=a(6);h=a(8);r=a(35);a=(function(){function n(c){this.X=c;this.Qna=!1;this.rZa=new d.kf();this.Jdc();}n.prototype.Jdc=function(){var c,f;c=this;f=this.rZa;f.on(this.X,"paused",function(){return c.nea();});f.on(this.X,"playing",function(){return c.nea(!0);});f.on(this.X,"underflow",function(){return c.nea();});f.on(this.X,"skipped",function(){return c.q0();});f.on(this.X,"clockAdjusted",function(){return c.j0();});f.on(this.X,"playbackRateChanged",function(){return c.N9b();});};Object.defineProperties(n.prototype,{currentTime:{get:function(){return this.s_a || this.X.Pc || h.O.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wk:{get:function(){return this.Qna;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{speed:{get:function(){var c;return null !== (c=this.X.playbackRate) && void 0 !== c?c:1;},enumerable:!1,configurable:!0}});n.prototype.nea=function(c){void 0 === c && (c=!1);c !== this.Qna && (this.s_a=(this.Qna=c)?void 0:this.X.Pc);this.emit("stopStart",{type:"stopStart"});};n.prototype.q0=function(){this.s_a=void 0;this.j0(l.PT.uo);};n.prototype.j0=function(c){void 0 === c && (c=l.PT.FHb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:c});};n.prototype.N9b=function(){this.emit("speedChanged",{type:"speedChanged"});};n.prototype.Wa=function(){this.nea();this.rZa.clear();};return n;})();b.ATa=a;(0,r.hf)(d.EventEmitter,a);},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fVa=void 0;d=a(0);l=a(11);h=a(9);n=a(6);c=d.__importDefault(a(3));f=a(8);g=a(2);r=(function(){function k(m,p,q,v){var t;t=this;this.Lb=m;this.X=p;this.config=v;this.pending=new Map();this.listeners=new l.kf();this.TAa=!1;this.l0b=function(w){t.hlb(function(){h.M && t.H.debug("cancelling playback ending");w.cancel();});};this.hlb=function(w){var u,y,x,z,C,D,E;if(t.pending.size){h.M && t.H.trace("playback ending, restarting player");x={};z=(u={},u[n.u.U]=void 0,u[n.u.J]=void 0,u[n.u.nb]=void 0,u);try{for(var B=d.__values(t.pending.entries()),A=B.next();!A.done;A=B.next()){C=d.__read(A.value,2);D=C[0];E=C[1];x[D]=E.to.stream.qp();E.from.S && (z[D]=E.from.S);}}catch(F){var G;G={error:F};}finally{try{A && !A.done && (y=B.return) && y.call(B);}finally{if(G)throw G.error;}}null === w || void 0 === w?void 0:w();h.M && t.H.debug("Restarting player",x);t.X.Eg(x,z).then(function(){var F,K;null === (F=t.sJ) || void 0 === F?void 0:F.resolve();h.M && t.H.debug("Restart completed");null === (K=t.Hlb) || void 0 === K?void 0:K.mHb();t.reset();});}};this.listeners.addListener(p,"playbackEnding",this.l0b);this.H=(0,f.ri)(c.default,q,"SEAMLESSMANAGER");h.M && this.H.debug("construct");}k.prototype.Wa=function(){h.M && this.H.debug("destruct");this.pending.clear();this.listeners.clear();};k.prototype.Ldc=function(m){this.Hlb=m;};k.prototype.lnc=function(m){var p,q;0 === this.pending.size && ((0,g.assert)(void 0 === this.sJ,"SeamlessManager: No pending transitions, but a wait is deferred"),this.sJ=new f.xD());(0,g.assert)(this.sJ,"SeamlessManager: deferred is undefined");(0,g.assert)(!this.pending.has(m.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + m.mediaType);this.pending.set(m.mediaType,m);h.M && this.H.trace(("got new transition [").concat(m.mediaType,"] --\x3e ").concat(m.to.stream.id));if(this.pending.size === this.Lb.ag.length && !this.TAa){q=this.B3b();if(q.Qib)return (h.M && this.H.trace(("seamless transition possible at ").concat(m.timestamp.Fb())),this.sJ.resolve(),this.reset(),this.Zya=m.timestamp,Promise.resolve());h.M && this.H.trace(("starting non-seamless transition at ").concat(m.timestamp.Fb()));null === (p=this.Hlb) || void 0 === p?void 0:p.lHb(q.info);if(!this.wic())return (h.M && this.H.warn("Unable to perform a non-seamless transition here, allowing seamless"),this.sJ.resolve(),this.reset(),this.Zya=m.timestamp,Promise.resolve());}return this.sJ.promise;};k.prototype.Rec=function(m){h.M && this.H.trace(("reset media [").concat(m,"]"));this.pending.delete(m);0 === this.pending.size && this.reset();};k.prototype.aba=function(){return this.Zya;};k.prototype.reset=function(){h.M && this.H.debug("resetting");this.TAa=!1;this.sJ=this.Zya=void 0;this.pending.clear();};k.prototype.B3b=function(){var m,p,q,w,u,y,x,z,B,A,C,D,E,G;try{for(var v=d.__values(this.pending.entries()),t=v.next();!t.done;t=v.next()){w=d.__read(t.value,2);u=w[0];y=w[1];if(y.from){x=y.from.stream;z=y.to.stream;if(x.track === z.track)h.M && this.H.debug("Seamless deemed possible due to same track",{mediaType:u});else {B=x.qp();A=z.qp();C=void 0;D=this.Lb.dn(y.timestamp);C=y.from.S && 0 > this.Lb.Hya.value.Z?{S:y.from.S,offset:f.O.Na(0)}:this.Lb.dn(y.acc);E=this.X.A2a({mediaType:u,U7a:y.U7a,from:B,to:A,tWb:C,xkc:D});G=E.reason;if(!E.A2a)return (h.M && this.H.debug("Non-seamless transition; details:",{reason:G,mediaType:u,from:B,to:A}),{Qib:!1,info:{tRb:null !== (p=y.to.S) && void 0 !== p?p:"unk",lic:null !== (q=y.from.S) && void 0 !== q?q:"unk",Uac:y.timestamp,reason:G}});h.M && this.H.debug("Seamless deemed possible",{reason:G,mediaType:u,from:B,to:A,tWb:C,xkc:D});}}}}catch(K){var F;F={error:K};}finally{try{t && !t.done && (m=v.return) && m.call(v);}finally{if(F)throw F.error;}}return {Qib:!0};};k.prototype.wic=function(){var m;this.TAa=!0;if(this.Lb.pu.value)(h.M && this.H.trace("Signaling EOS for upcoming restart"),this.Lb.sFa());else {if(null === (m=this.config) || void 0 === m?0:m.N5a)return (h.M && this.H.warn("An immediate restart is required but disabled"),!1);h.M && this.H.trace("Signaling immediate restart");this.hlb();}return !0;};return k;})();b.fVa=r;},function(r,b,a){var d,l,h,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DTa=void 0;d=a(0);l=a(71);h=a(8);n=d.__importDefault(a(3));c=a(482);f=a(1197);r=(function(){function g(k,m){var p;p=this;this.MZ=k;this.events=(0,c.jsa)(function(){return p.gn;},this.MZ.events,m,f.Iib);this.sCb=(0,h.ri)(n.default,this.MZ.console,"PLAYERHOST");new l.Ex({Rq:10,Dp:this,source:"PlayerHost",console:this.sCb});}g.prototype.Fra=function(){this.gn=void 0;};g.prototype.$Ea=function(k){this.gn=k;};d.__decorate([(0,l.jc)({methodName:"clearProxyPlaygraphContext"})],g.prototype,"Fra",null);d.__decorate([(0,l.jc)({methodName:"setProxyPlaygraphContext"})],g.prototype,"$Ea",null);return g;})();b.DTa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Iib=void 0;b.Iib={"*":{h7a:["logdata"],rules:[{xl:function(a){return a.EHa;}}]},segmentPresenting:[{xl:function(a){return a.EHa;},config:{Ns:["metrics"]}},{xl:function(a){return a.tf;}},{xl:function(a){return a.tf;},config:{Ns:["metrics","srcStartPosition"]}},{xl:function(a){return a.tf;},config:{Ns:["metrics","srcTransitionPosition"]}},{xl:function(a){return a.tf;},config:{Ns:["metrics","destPosition"]}},{xl:function(a){return a.aJb;}}],streamPresenting:[{xl:function(a){return a.tf;}}],segmentAppended:[{xl:function(a){return a.B1;}}]};},function(r,b,a){var d,l,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hXa=void 0;d=a(0);l=a(11);h=a(9);n=a(404);r=(function(){function c(f,g,k,m){this.Zqb=f;this.console=g;this.pIb=k;this.p1=m;this.events=new l.EventEmitter();this.IQ=f.B4b.cy();}Object.defineProperties(c.prototype,{P:{get:function(){var f;return null === (f=this.Zqb) || void 0 === f?void 0:f.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{eH:{get:function(){var f;f=this;return (function(){return d.__awaiter(f,void 0,void 0,function(){var g;return d.__generator(this,function(k){switch(k.label){case 0:return (k.Mp.push([0,2,,3]),[4,this.Zqb.eH]);case 1:return [2,k.ub()];case 2:throw (g=k.ub(),n.kTa.w3b(g) && this.pIb.ig(g),h.M && this.console.trace("Removing broken viewable entry due to error",this.p1),this.events.emit("error",{error:g}),g);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return c;})();b.hXa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MMb={Aw:["minInitVideoBitrate",-Infinity],yAa:["minHCInitVideoBitrate",-Infinity],oC:["maxInitVideoBitrate",Infinity],V_:["minInitAudioBitrate",-Infinity],T_:["minHCInitAudioBitrate",-Infinity],G_:["maxInitAudioBitrate",Infinity],tda:["minAcceptableVideoBitrate",-Infinity],R_:["minAcceptableVMAF",0],t7b:["minAcceptableVMAFRebufferScalingFactor",0],xAa:["minAllowedVideoBitrate",-Infinity],t6b:["maxAllowedVideoBitrate",Infinity],PK:["minAllowedVmaf",-Infinity],Peb:["maxAllowedVmaf",Infinity],IS:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],F$:["enableResolutionVMAFStreamFilter",!1],aCa:["percentCapTitlesForResolutionVMAFStreamFilter",100],Ifa:["resolutionVMAFCappingRuleList",[]],mbb:["ignoreUserFilterOnEmptyResult",!0],aG:["minRequiredBuffer",2E4],Bda:["minRequiredAudioBuffer",0],Dk:["minPrebufSize",5800],xda:["minCheckBufferingCompleteInterval",200],D$:["enableMoreFrequentBufferingCompleteCheck",!1],BAa:["minimumBufferingCompleteInterval",1E4],Dfa:["requireDownloadDataAtBuffering",!1],Bbb:["indicatorForDownloadDataAtBuffering","oncomplete"],Efa:["requireSetupConnectionDuringBuffering",!1],mDa:["rebufferingFactor",1],lu:["maxBufferingTime",2E3],kHa:["useMaxPrebufSize",!0],ZF:["maxPrebufSize",4E4],cAa:["maxRebufSize",Infinity],BUb:["fastRebufferRecoveryThreshold",Infinity],AUb:["fastRebufferRecoverBwThrehold",3E3],Sba:["initialBitrateSelectionCurve",null],Gbb:["initSelectionLowerBound",-Infinity],Hbb:["initSelectionUpperBound",Infinity],t2:["throughputPercentForAudio",15],mqa:["bandwidthMargin",0],oqa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],E1a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,kB:76376,scale:18862.4,gamma:3.0569}],nqa:["bandwidthMarginContinuous",!1],F1a:["bandwidthMarginForAudio",!0],gGa:["switchConfigBasedOnInSessionTput",!0],Yra:["conservBandwidthMargin",20],tX:["conservBandwidthMarginTputThreshold",6E3],Zra:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],oob:["switchAlgoBasedOnHistIQR",!1],UG:["switchConfigBasedOnThroughputHistory","iqr"],bAa:["maxPlayerStateToSwitchConfig",-1],Bza:["lowEndMarkingCriteria","iqr"],Vja:["IQRThreshold",.5],gxa:["histIQRCalcToUse","simple"],Hv:["bandwidthManifold",{curves:[{min:.05,max:.82,kB:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,kB:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],ou:["maxTotalBufferLevelPerSession",0],$ab:["highWatermarkLevel",3E4],Yob:["toStableThreshold",3E4],eha:["toUnstableThreshold",0],AFa:["skipBitrateInUpswitch",!1],BHa:["watermarkLevelForSkipStart",8E3],yFa:["simulationDurationStrategy","default"],Vhc:["simulationFullBufferPercentage",1],Rfb:["minSimulationDuration",2E4],dAa:["maxSimulationDuration",3E5],fHa:["upperThroughputPredictionFactor",1.6],axa:["highStreamRetentionWindow",9E4],Cza:["lowStreamTransitionWindow",51E4],cxa:["highStreamRetentionWindowUp",5E5],Eza:["lowStreamTransitionWindowUp",1E5],bxa:["highStreamRetentionWindowDown",6E5],Dza:["lowStreamTransitionWindowDown",0],$wa:["highStreamInfeasibleBitrateFactor",.5],iC:["lowestBufForUpswitch",9E3],v_:["lockPeriodAfterDownswitch",15E3],Gza:["lowWatermarkLevel",15E3],jC:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Hza:["lowestWaterMarkLevelBufferRelaxed",!1],oda:["mediaRate",1.5],gda:["maxTrailingBufferLen",15E3],X8:["audioBufferTargetAvailableSize",262144],Eha:["videoBufferTargetAvailableSize",1048576],mfb:["maxVideoTrailingBufferSize",8388608],Reb:["maxAudioTrailingBufferSize",393216],W$:["fastUpswitchFactor",3],DUb:["fastUpswitchFactorWithoutHeaders",3],CUb:["fastUpswitchFactorForNextSegment",1],gua:["fastDownswitchFactor",3],xw:["maxMediaBufferAllowed",27E4],hxc:["minMediaBufferLen",1E4],xFa:["simulatePartialBlocks",!0],anb:["simulateBufferFull",!0],Uhc:["simulateStreamsAcrossMultipleSegments",!0],$ra:["considerConnectTime",!0],Xra:["connectTimeMultiplier",1],Z4b:["liveDvrSwitchThresholdms",1E4],peb:["lowGradeModeEnterThreshold",12E4],qeb:["lowGradeModeExitThreshold",9E4],Ueb:["maxDomainFailureWaitDuration",3E4],Qeb:["maxAttemptsOnFailure",18],j7a:["exhaustAllLocationsForFailure",!0],bfb:["maxNetworkErrorsDuringBuffering",20],Zca:["maxBufferingTimeAllowedWithNetworkError",6E4],CO:["alwaysRunUnderflowTimer",!0],s7a:["fastDomainSelectionBwThreshold",2E3],Cob:["throughputProbingEnterThreshold",4E4],Dob:["throughputProbingExitThreshold",34E3],feb:["locationProbingTimeout",1E4],z7a:["finalLocationSelectionBwThreshold",1E4],Aob:["throughputHighConfidenceLevel",.75],Bob:["throughputLowConfidenceLevel",.4],mza:["locationStatisticsUpdateInterval",6E4],A5b:["locationSelectorPersistFailures",!0],O6a:["enablePerfBasedLocationSwitch",!1],Rwc:["maxRateMaxFragmentGroups",4500],fCa:["pipelineScheduleTimeoutMs",2],pC:["maxPartialBuffersAtBufferingStart",2],B7b:["minPendingBufferLen",3E3],eda:["maxPendingBufferLen",6E3],jTb:["enableNginxRateLimit",!1],Tda:["nginxSendingRate",4E4],nTb:["enableRequestPacingToken",!1],$6b:["mediaRequestPacingSpeed",2],Jxa:["initialMediaRequestToken",2E4],Xca:["maxActiveRequestsSABCell100",2],dfb:["maxPendingBufferLenSABCell100",500],Ykb:["resetActiveRequestsAtSessionInit",!0],gY:["enableHybridPacing",!1],bra:["catchUpMode",!1],J6b:["maxSegHint",4],JDa:["requestLevelLogging",!1],VSb:["enableCsprNonPipelined",!1],dY:["enableCprAudio",!1],eY:["enableCprVideo",!1],TSb:["enableCprAudioNonPipelined",!1],USb:["enableCprVideoNonPipelined",!0],N6a:["enablePaceReportLogging",!1],D$b:["paceRateSelectorAlgorithm","default"],E$b:["paceRateSelectorAlgorithmAudio","default"],F$b:["paceRateSelectorAlgorithmNonPipelined","default"],Enb:["staticPacingRateKbps",0],C9:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],olc:["unpacedFragmentInterval",0],F1b:["ignorePacedRequestStrategy","none"],z0:["pacedThresholdPct",.1],uta:["effectivePaceRateFactor",1],Odc:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],H$b:["pacingTargetBufferStrategy","implicit"],Kjc:["targetBufferLevelStddevMultiplier",1],Jjc:["targetBufferLevelDurationMs",0],C7b:["minTargetBufferLevelMs",27E4],OFa:["stddevPredictorMultiplier",-.3],PFa:["stddevPredictorUpperMultiplier",2],Gic:["stddevPredictorSource","deliverytime"],wra:["ciPredictorSource","throughput-ci"],H6a:["enableInitialTputLogging",!1],G6a:["enableInitialThroughputHistory",!1],eAa:["maxStreamingSkew",2E3],w6b:["maxBufferOccupancyForSkewCheck",Infinity],nmc:["useBufferOccupancySkipBack",!0],$za:["maxPendingBufferPercentage",10],gfb:["maxRequestsInBuffer",120],Cba:["headerRequestSize",4096],Nta:["estimateHeaderSize",!0],Wvc:["headerCacheEstimateHeaderSize",!1],Pda:["neverWipeHeaderCache",!1],wmc:["useSidxInfoFromManifestForHeaderRequestSize",!1],K$b:["parseAdditionalBoxesMp4Header",!0],u7a:["fastPlayHeaderRequestSize",0],TQ:["maxRequestSize",0],QK:["minRequestSize",65536],S_:["minBufferLenForHeaderDownloading",1E4],jnb:["smartHeaderPreDownloading",!1],PSb:["enableAllHeadersPreDownloading",!1],xxc:["onlyAllowPtsUpdatePolling",!1],D7b:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],u1:["reserveForSkipbackBufferMs",15E3],dBa:["numExtraFragmentsAllowed",2],qj:["pipelineEnabled",!0],SQ:["maxParallelConnections",3],smc:["usePipelineForAudio",!1],rmc:["usePipelineDetectionForAudio",!1],umc:["usePipelineForText",!0],knb:["socketReceiveBufferSize",0],Z8:["audioSocketReceiveBufferSize",32768],hT:["videoSocketReceiveBufferSize",65536],Ujc:["textSocketReceiveBufferSize",32768],zqb:["usePipelineDetectionForVideo",!1],H7b:["minVideoSocketReceiveBufferSize",65536],Ywa:["headersSocketReceiveBufferSize",32768],qhc:["shareDownloadTracks",!0],rhc:["shareOpenRangeTracks",!1],fob:["supportOpenRangeRequests",!0],HRb:["disableHeaderDownloadTracks",!1],AAa:["minTimeBetweenHeaderRequests",void 0],tha:["updatePtsIntervalMs",1E3],Aqa:["bufferTraceDenominator",0],cX:["bufferLevelNotifyIntervalMs",2E3],YFa:["streamingStatusIntervalMs",2E3],HC:["prebufferTimeLimit",6E4],wda:["minBufferLevelForTrackSwitch",2E3],lTb:["enablePenaltyForLongConnectTime",!1],YBa:["penaltyFactorForLongConnectTime",2],yza:["longConnectTimeThreshold",200],Bpa:["additionalBufferingLongConnectTime",2E3],Cpa:["additionalBufferingPerFailure",8E3],b1:["rebufferCheckDuration",6E4],L6a:["enableLookaheadHints",!1],neb:["lookaheadFragments",2],aF:["enableOCSideChannel",!0],CQb:["decryptOCSideChannelMinInterval",1E3],DQb:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],MCa:["probeRequestTimeoutMilliseconds",3E4],Pxc:["probeRequestConnectTimeoutMilliseconds",8E3],v5:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],oTb:["enableSCByteRangeHints",!1],Spb:["updateDrmRequestOnNetworkFailure",!0],Teb:["maxDiffAudioVideoEndPtsMs",1E3],XQb:["deferAseHeaderCache",!1],w5a:["deferAseScheduling",!1],Iob:["timeBeforeEndOfStreamBufferMark",6E3],ada:["maxFastPlayBufferInMs",2E4],y6b:["maxFastPlayContentTimeThresholdMs",112E3],Xza:["maxFastPlayBitThreshold",2E8],Vza:["maxBufferingCompleteBufferInMs",Infinity],UJb:["bufferingCompleteOnMemoryLimit",!1],uda:["minAudioMediaRequestSizeBytes",0],Dda:["minVideoMediaRequestSizeBytes",0],v6b:["maxAudioMediaRequestSizeBytes",Infinity],P6b:["maxVideoMediaRequestSizeBytes",Infinity],D6b:["maxMediaRequestSizeBytesInFraction",1],Zy:["minAudioMediaRequestDuration",0],tC:["minVideoMediaRequestDuration",0],zda:["minMediaRequestDuration",0],u6b:["maxAudioMediaRequestDuration",Infinity],O6b:["maxVideoMediaRequestDuration",Infinity],cda:["maxMediaRequestDuration",Infinity],Gpa:["allowFirstRequestAggregation",!1],w7b:["minAudioMediaRequestDurationCache",0],F7b:["minVideoMediaRequestDurationCache",0],tqb:[["useHeaderCache","usehc"],!0],iHa:[["useHeaderCacheData","usehcd"],!0],i$:["defaultHeaderCacheSize",4],q5a:["defaultHeaderCacheDataCount",4],h$:["defaultHeaderCacheDataPrefetchMs",0],O0b:["headerCacheMaxPendingData",6],Xvc:["headerCachePriorityLimit",5],Uab:["headerCacheAdoptBothAV",!1],tmc:["usePipelineForBranchedAudio",!0],HLb:["childBranchBatchedAmount",1E4],cR:["minimumTimeBeforeBranchDecision",2E3],J7b:["minimumAppendedMediaBeforePlayback",5E3],Dxc:["parallelBranchesDuringBuffering",!1],G6b:["maxRequestsToAttachOnBranchActivation",void 0],W_:["minimumJustInTimeBufferLevel",3E3],bTb:["enableJustInTimeAppends",!1],S0a:["appendPacingFactor",0],ZHb:["appendPacingThreshold",3E3],C6a:["enableDelayedSeamless",!1],Xtc:["branchEndPtsIntervalMs",250],G1b:["ignorePtsJustBeforeCurrentSegment",!1],Yeb:["maxFragsForFittableOnBranching",300],cac:["pausePlaylistAtEnd",!0],HGb:["adaptiveParallelTimeoutMs",1E3],vP:["enableAdaptiveParallelStreaming",!1],zqa:["bufferThresholdToSwitchToSingleConnMs",45E3],yqa:["bufferThresholdToSwitchToParallelConnMs",35E3],LSb:["enableAPSForBranching",!1],Nha:["waitForPendingConnAdaptation",!1],KAa:["networkFailureResetWaitMs",2E3],JAa:["networkFailureAbandonMs",6E4],fda:["maxThrottledNetworkFailures",5],Xga:["throttledNetworkFailureThresholdMs",200],Fza:["lowThroughputThreshold",400],Yta:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],ikc:["timeAtEachBitrateRoundRobin",1E4],lfc:["roundRobinDirection","forward"],p1b:["httpsConnectErrorAsPerm",!1],dgb:["mp4ParsingInNative",!1],mj:["enableManagerDebugTraces",!1],Ceb:["managerDebugMessageInterval",1E3],Beb:["managerDebugMessageCount",20],Qgb:["notifyManifestCacheEom",!0],tTb:["enableUsingHeaderCount",!1],nnb:["sourceBufferInOrderAppend",!0],wL:["requireAudioStreamToEncompassVideo",!1],C0a:["allowAudioToStreamPastVideo",!1],f4a:["countGapInBuffer",!1],D0a:["allowCallToStreamSelector",!1],Z1a:["bufferThresholdForAbort",2E4],SFa:["ase_stream_selector","optimized"],r1a:["audiostreamSelectorAlgorithm","selectaudioadaptive"],i5b:["liveStreamSelectorAlgorithm","livesimple"],Zjc:["throughputDiscountForLive",.8],Yjc:["throughputDiscountExponentBC",1.5],r_:["liveTargetBufferDuration",1E4],eza:["liveEdgeCushion",2E3],gza:["liveMaxTemporaryRequestErrorRetries",6],b5b:["liveInitialFetchSizeBytes",1024],Qjc:["temporaryRequestFailureRetryIntervalMs",500],K6a:["enableLiveTemporaryRequestRetries",!0],Gxa:["initBitrateSelectorAlgorithm","default"],Eqa:["bufferingSelectorAlgorithm","default"],Tic:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],Q6a:["enableThroughputTraceResearchData",!1],Eob:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],pz:["researchEnvironmentEnabled",!1],qTb:["enableStreamSelectionAugmentData",!1],$Ib:["augmentDataNumOfChunks",30],e5a:["ase_ls_failure_simulation",""],Fsa:["ase_dump_fragments",!1],Gsa:["ase_location_history",0],f5a:["ase_throughput",0],h5a:["ase_simulate_verbose",!1],JBa:["paddingDurationMs",1E3],KBa:["paddingMediaType","padding"],Wh:["stallAtFrameCount",void 0],snb:["stallAtFrameCountAudio",void 0],Qza:["marginPredictor","simple"],pqb:["useBackupUnderflowTimer",!0],r8b:["noDuplicateUnderflowTimer",!1],rzc:["useManifestDrmHeader",!0],szc:["useOnlyManifestDrmHeader",!0],LAa:["networkMeasurementGranularity","video_location"],h8b:["netIntrStoreWindow",36E3],oxc:["minNetIntrDuration",8E3],OBb:["fastHistoricBandwidthExpirationTime",10368E3],rCb:["bandwidthExpirationTime",5184E3],NBb:["failureExpirationTime",86400],HZa:["historyTimeOfDayGranularity",4],JBb:["expandDownloadTime",!0],fDb:["minimumMeasurementTime",500],eDb:["minimumMeasurementBytes",131072],zEb:["throughputMeasurementTimeout",2E3],yEb:["initThroughputMeasureDataSize",262144],OCb:["historicBandwidthUpdateInterval",2E3],ytc:["throughputPredictor","ewma"],zEa:["secondThroughputEstimator","slidingwindow"],Jlb:["secondThroughputMeasureWindowInMs",3E5],xtc:["throughputMeasureWindow",5E3],ztc:["throughputWarmupTime",5E3],wtc:["throughputIQRMeasureWindow",1E3],gtc:["IQRBucketizerWindow",15E3],Zeb:["maxIQRSamples",100],Nfb:["minIQRSamples",5],ttc:["connectTimeHalflife",10],mtc:["responseTimeHalflife",10],KYa:["historicThroughputHalflife",14400],JYa:["historicResponseTimeHalflife",100],IYa:["historicHttpResponseTimeHalflife",100],ANa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],tZa:["minReportedNetIntrDuration",4E3],vtc:["throughputBucketMs",500],jtc:["bucketHoltWintersWindow",2E3],ABb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],KBb:["experimentalFilter",["throughput-wssl"]],a_a:["reportedFilters",[]],sna:["filterDefinitionOverrides",{}],qBb:["defaultFilter","throughput-ewma"],rBb:["defaultFilterField","average"],fFb:["secondaryFilter","throughput-sw"],bna:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],xTb:["enableWsslEstimate",!1],Uwc:["maxWsslRequestSize",131072],Twc:["maxWsslRequestRatio",.2],srb:["wsslAggregationMethod","max"],jY:["enableSessionHistoryReport",!0],tta:["earlyStageEstimatePeriod",1E4],Jdb:["lateStageEstimatePeriod",3E4],dda:["maxNumSessionHistoryStored",10],Cda:["minSessionHistoryDuration",3E5],Y0b:["highAndStableModelName","baseline"],zta:["enableHighAndStablePredictor",!1],Ada:["minNumSessionHistory",5],Stc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Eba:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Z0b:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],ppa:["addHeaderDataToNetworkMonitor",!0],IFa:["startMonitorOnLoadStart",!1],HDa:["reportFailedRequestsToNetworkMonitor",!1],Eea:["periodicHistoryPersistMs",0],Vfa:["saveVideoBitrateMs",0],$_:["needMinimumNetworkConfidence",!0],rqa:["biasTowardHistoricalThroughput",!1],E5b:["logMemoryUsage",!1],Ow:["probeServerWhenError",!0],YA:["allowSwitchback",!0],NR:["probeDetailDenominator",100],$ca:["maxDelayToReportFailure",300],BO:["allowParallelStreaming",!1],Zwc:["mediaPrefetchDisabled",!1],Kfb:["minBufferLevelToAllowPrefetch",5E3],jS:["seamlessAudio",!1],pyc:["seamlessAudioProfiles",[]],qyc:["seamlessAudioProfilesAndTitles",{}],xEa:["seamlessAudioMaximumSyncError",void 0],yEa:["seamlessAudioMinimumSyncError",void 0],Ubb:["insertSilentFrames",0],Rxa:["insertSilentFramesOnSeek",!1],Vbb:["insertSilentFramesOnSeekForTitles",[]],w2b:["insertSilentFramesOnSeekCount",3],Avc:["forceDiscontinuityAtTransition",!0],dGa:["supportAudioResetOnDiscontinuity",void 0],sjc:["supportAudioEasingOnDiscontinuity",void 0],ySb:["editCompleteFragments",!0],K7b:["minimumAudioFramesPerFragment",1],RI:["applyProfileTimestampOffset",!1],Km:["applyProfileStreamingOffset",!0],ujb:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],VIb:["audioProfilesNonSyncSamples",["xheaac-dash"]],Xkc:["truncateEndOfStreamAudio",!1],omc:["useDpiAssumedAacEncoderDelay",!0],O_:["mediaSourceSupportsNegativePts",!1],bR:["minAudioPtsGap",void 0],TIb:["audioOverlapGuardSampleCount",2],P6a:["enableRecordJSBridgePerf",!1],aka:["JSBridgeTDigestConfig",{maxc:25,c:.5}],dkc:["throughputThresholdSelectorParam",0],kmc:["upswitchDuringBufferingFactor",2],RHb:["allowUpswitchDuringBuffering",!1],V3a:["contentOverrides",void 0],dsa:["contentProfileOverrides",void 0],fxa:["hindsightDenominator",0],exa:["hindsightDebugDenominator",0],Fba:["hindsightAlgorithmsEnabled",[]],Gba:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],R0a:["appendMediaRequestOnComplete",!1],Mha:["waitForDrmToAppendMedia",!1],inc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],kaa:["forceAppendHeadersAfterDrm",!1],Hsa:["declareBufferingCompleteAtSegmentEnd",!1],Vy:["maxActiveRequestsPerSession",void 0],cza:["limitAudioDiscountByMaxAudioBitrate",!1],Mpa:["appendFirstHeaderOnComplete",!0],f2:["strictBufferCapacityCheck",!1],FO:["aseReportDenominator",0],O8:["aseReportIntervalMs",3E5],mIb:["aseReportMaxStreamSelections",400],Vdb:["liveReportSendIntervalMs",6E4],iza:["liveReportCollectIntervalMs",5E3],CGa:["translateToVp9Draft",!1],DDa:["reorderTrakMvex",!1],LS:["switchableAudioProfiles",[]],WIb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],pob:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],XIb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],kfb:["maxStartingVideoVMAF",110],Bw:["minStartingVideoVMAF",1],wW:["activateSelectStartingVMAF",!1],ega:["selectStartingVMAFTDigest",-1],lS:["selectStartingVMAFMethod","fallback"],Rlb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],AR:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],IRb:["disablePtsStartsEvent",!0],oDa:["recordFirstFragmentOnSubBranchCreate",!0],rfb:["mediaCacheConvertToBinaryData",!1],iAa:["mediaCacheSaveOneObject",!1],Neb:["markRequestActiveOnFirstByte",!1],Jga:["stopOnAllInactiveRequests",!1],x6a:["enableActiveRequestsInFilters",!1],B$:["earlyAppendSingleChildBranch",!0],cT:["useNativeDataViewMethods",!0],E$:["enableNewAse",!1],yha:["useNewApi",!1],kIb:["aseDiagnostics",[{je:"queue-audit",enabled:!0},{je:"task-audit",enabled:!0},{je:"trace-ShimSession",enabled:!0},{je:"trace-engine",enabled:!0},{je:"trace-RequestPacer",enabled:!0},{je:"trace-BufferStateTracker",enabled:!0},{je:"trace-GraphStreamingProcess",enabled:!0},{je:"trace-AsePlaygraph",enabled:!0},{je:"playgraph-branch-audit",enabled:!0},{je:"content-playgraph",enabled:!0},{je:"trace-CphAsePlaygraph",enabled:!0},{je:"trace-GraphLocation",enabled:!0},{je:"cache-ads::gls",enabled:!0},{je:"cache-content::gls",enabled:!0}]],QSb:["enableAseReporting",!0],KJb:["branchDistanceThreshold",6E4],Yca:["maxAllowedOutstandingRequests",4],zAa:["minStreamableConcurrencyWindow",3E3],L6b:["maxStreamableConcurrencyWindow",Infinity],VFa:["streamableConcurrencyFactor",.3],fX:["bufferingConcurrencyWindow",7800],vqa:["branchCreationThreshold",12E4],C$:["enableDiscontiguousBuffering",!1],Mua:["forceImmediateTransitionTypeForTitles",[]],Lua:["forceImmediateTransitionExitZone",0],esa:["contiguousBufferMultiplier",3],$3a:["contiguousBufferMinimumAudio",1048576],b4a:["contiguousBufferMinimumVideo",8388608],a4a:["contiguousBufferMinimumText",0],DJb:["blockingHeaderRequestsBlockOtherGroups",!1],vbc:["prefetchBudgetInBytes",0],ckb:["rebufferRiskHalfLife",1E4],wha:["useBufferSizeLimiter",!1],xmc:["useStaticBufferSizeLimiter",!1],ybc:["prefetchWeightBudget",32],CAa:["minimumDownstreamBranchProbability",.075],hHa:["useExitZones",!0],zbc:["prefetchWhilePlaying",!0],Ebc:["prefetcherSoftReset",!0],Xac:["playgraphDefaultWeight",65520],$Qb:["delayNotificationOfEoS",!1],e7b:["memDeadlockShouldCheckMemory",!0],d7b:["memDeadlockOverageThreshold",.9],c7b:["memDeadlockMaxUtilizationPercentage",.5],Sac:["playerPtsPadding",1],gxc:["minFragmentVmaf",void 0],cY:["enableCombinedPlaygraphs",!0],EJ:["enableAdPlaygraphs",!0],Ata:["enablePrerollForInitialSeek",!1],N5a:["disablePrerollOn43Seek",!1],jHa:["useLegacyFragmentRounding",!1],Zta:["excludedContentPlaygraphIds",[]],rab:["graphSelectorSetAudioRate",!1],wTb:["enableVmafEstimationFromBitrate",!1],M6b:["maxVMAFMappingBitrate",16E3],N6b:["maxVMAFMappingVMAF",110],cLb:["cdndldistEnabled",!1],VC:["segmentFadeDuration",400],Zfa:["segmentFadeInDuration",-1],$fa:["segmentFadeOutDuration",-1],UQ:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],Jfa:["retainSbrOnFade",!1],Tbb:["insertSilentFrameOnFade",!0],h$b:["optimizeEditedFragments",!1],mob:["supportsPtsChanged",!0],OSb:["enableAdLruCaches",!1],i1a:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],eTb:["enableLiveRequestLogger",!1]};b.Qg=b.MMb;},function(r,b,a){var d,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.gA=b.FH=b.mv=b.PQ=b.$la=void 0;d=a(0);l=a(75);Object.defineProperties(b,{FH:{enumerable:!0,get:function(){return l.FH;}}});Object.defineProperties(b,{gA:{enumerable:!0,get:function(){return l.gA;}}});Object.defineProperties(b,{PQ:{enumerable:!0,get:function(){return l.PQ;}}});Object.defineProperties(b,{$la:{enumerable:!0,get:function(){return l.$la;}}});h=d.__importDefault(a(3));r=(function(n){function c(f,g,k,m,p){return n.call(this,c.console,f,g,k,m,p) || this;}d.__extends(c,n);Object.defineProperties(c,{console:{get:function(){return this.H || (this.H=new h.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return c;})(l.mv);b.mv=r;},function(r,b,a){var l,h,n,c;function d(f){return h.Lf.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BNa=void 0;r=a(0);l=a(1);h=a(47);n=a(33);a=a(46);la(d,h.Lf);Va.Object.defineProperties(d.prototype,{Pib:{configurable:!0,enumerable:!0,get:function(){return !0;}},Zy:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},tC:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},ebb:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Bw:{configurable:!0,enumerable:!0,get:function(){return 80;}},Hpa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});c=d;r.__decorate([a.config(a.vd,"playsInline")],c.prototype,"Pib",null);r.__decorate([a.config(a.HF,"minAudioMediaRequestDuration")],c.prototype,"Zy",null);r.__decorate([a.config(a.HF,"minVideoMediaRequestDuration")],c.prototype,"tC",null);r.__decorate([a.config(a.HF,"hlsVideoMediaRequestTargetDuration")],c.prototype,"ebb",null);r.__decorate([a.config(a.HF,"minStartingVideoVMAF")],c.prototype,"Bw",null);r.__decorate([a.config(a.vd,"allowMultipleAudioTextTracks")],c.prototype,"Hpa",null);c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.yn))],c);b.BNa=c;},function(r,b,a){var l,h;function d(n){this.ta=n.eb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.gKa=void 0;r=a(0);l=a(1);a=a(7);d.prototype.qXb=function(n){var f,g,k,m,p,q,v;function c(t,w,u){var y,x,z;y=t.map(function(B){return B.Qh;});y.sort(function(B,A){return w[B] - w[A];});if(1 === y.length)(!1,k.set(u,{MR:t[0],Wfa:t[0]}));else {x=y.find(function(B){return f.has(B);});x || ((x=y.find(function(B){return !g.has(B);}))?f.add(x):(x=y[0],!1));z=y.find(function(B){return g.has(B) && B !== x;});z || ((z=y.find(function(B){return !f.has(B) && B !== x;}))?g.add(z):(z=y.find(function(B){return B !== x;}),!1));k.set(u,{MR:t.find(function(B){return B.Qh === x;}),Wfa:t.find(function(B){return B.Qh === z;})});}}f=new Set();g=new Set();k=new Map();m=n.video;p=n.audio;q=n.text;v=n.rm.reduce(function(t,w){t[w.id]=w.wc;return t;},{});m.forEach(function(t){t=t.stream;c(t.urls,v,t.hp);});p.forEach(function(t){t=t.stream;c(t.urls,v,t.hp);});q.forEach(function(t){var w,u;if(!t.track.LF || t.track.jca){w=t.stream;t=t.id;u=w.urls.reduce(function(y,x,z){y[x.Qh]=z + 1;return y;},{});c(w.urls,u,t);}});return k;};h=d;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.hb))],h);b.gKa=h;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v,t){this.zg=m;this.hC=p;this.Vg=q;this.Ic=v;this.Ia=t;}Object.defineProperty(b,"__esModule",{value:!0});b.nU=void 0;r=a(0);l=a(1);h=a(18);n=a(7);c=a(50);f=a(201);g=a(88);k=a(1204);d.prototype.create=function(m){return new k.pU(this.zg,this.hC,this.Vg,this.Ia,this.Ic,m);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.hb)),r.__param(1,(0,l.l)(g.bA)),r.__param(2,(0,l.l)(c.Ho)),r.__param(3,(0,l.l)(f.pka)),r.__param(4,(0,l.l)(h.kd))],a);b.nU=a;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v,t,w){var u;u=this;this.hC=p;this.Vg=q;this.Ia=v;this.Ic=t;this.uAa=this.IF=this.n1=0;this.BK=!1;this.sC=function(){var y;y=u.H0();y.prstate=u.QB();y.paustate=u.j.tw();y.midplayseq=u.uAa++;u.Ic.rQ(y);u.Ec(l.Wc.sC,void 0,k.Ie | k.ov,y);};this.jj=function(){u.Ec(l.Wc.P1a,void 0,k.Ie | k.pr,{});};this.nn=function(y){u.Uya=u.getTime();u.Vya=y.oldValue;};this.SW=function(y){u.Iya=y.oldValue;};this.Bea=function(y){y != u.BK && (u.MFa(u.BK,y),u.BK=y);};this.MFa=function(y,x){var z;z=u.j.Ha;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};u.Ic.ps(y,z.Re.value && z.Re.value.stream,z.hg.value && z.hg.value.stream);u.Ec(l.Wc.c2,void 0,k.Ie,y);};this.W1=function(y){u.Ec(l.Wc.rnb,void 0,k.Ie,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.dD=function(y){var x,z,B;x=u.j.Ha;z=x.Mb.value;if(y.newValue || z && z.Oq() && !z.yp()){B=(y=null !== (B=y.newValue) && void 0 !== B?B:z)?{trackId:y.trackId,bcp47:y.Sf,downloadableId:y.Wb,rank:y.wc,isImageBased:y.am}:{};y=(y=u.Vya)?{trackId:y.trackId,bcp47:y.Sf,downloadableId:y.Wb,rank:y.wc,isImageBased:y.am}:{};B={switchdelay:(0,h.vg)(u.getTime() - u.Uya),track:B,oldtrack:y};u.Ic.ps(B,x.Re.value && x.Re.value.stream,x.hg.value && x.hg.value.stream);u.Ec(l.Wc.Rob,void 0,k.Ie,B);}};this.iCa=function(y,x){var z;z=u.j.Ha;y={waittime:(0,h.vg)(y),abortedevent:"resumeplay",resumeplayreason:x};u.Ic.ps(y,z.Kf.value,z.ei.value);u.Ec(l.Wc.DR,void 0,k.Ie | k.pr,y);};this.Ww=function(y,x,z){y={playdelay:(0,h.vg)(y),reason:z,intrplayseq:u.IF - 1,skipped:x};"repos" === z && (y.prstate=!0 === u.j.Wi.value?"playing":"paused");u.Ec(l.Wc.Ww,void 0,k.Ie | k.nv,y);};this.dqa=function(){var y,x,z,B;x=u.j.Ha.Hc.value;z=u.j.Ha.ei.value.Wb;x=x?{trackId:x.trackId,bcp47:x.Sf,downloadableId:z,rank:x.wc,chan:x.channels}:{};z=u.dC;B=null === (y=u.Iya) || void 0 === y?void 0:y.Wb;y=z?{trackId:z.trackId,bcp47:z.Sf,downloadableId:B,rank:z.wc,chan:z.channels}:{};u.Ec(l.Wc.t1a,void 0,k.Ie,{switchdelay:(0,h.vg)(u.getTime() - u.Jya),track:x,oldtrack:y});};this.Mn=function(y){u.Jya=u.getTime();u.dC=y.oldValue;};this.jCa=function(){var y,x,z;y=u.j.Ha;x={abortedevent:"startplay",trackid:y.Gl,prstate:u.QB(),paustate:u.j.tw()};try{z=(0,n.cK)();z && (x.pdltime=z);(0,h.Qe)(x,y.Bd,{prefix:"sm_"});}catch(B){}u.Ic.Oba(x,y);u.Ic.sQ(x,!1,y.Xh.value,y);u.Ic.ps(x,y.Kf.value,y.ei.value);u.lK(x);u.Ec(l.Wc.DR,void 0,k.Ie | k.ov | k.pr,x);};this.mB=function(y,x,z,B){y={moff:(0,h.Yn)(z),moffms:(0,h.vg)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Wb,vdlidold:y.Wb,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:B};u.Ec(l.Wc.mB,void 0,0,y);};this.AG=function(y,x,z){y={moffold:(0,h.Yn)(y),reposseq:u.n1++,prstate:u.QB(),paustate:u.j.tw()};u.Ic.ps(y,z && z.stream,x && x.stream);u.Ec(l.Wc.AG,void 0,k.Ie,y);};this.Ju=function(y){var x,z,B,A,C;A=y.Ha;C={playdelaysdk:(0,h.vg)(u.j.iX()),applicationPlaydelay:(0,h.vg)(u.j.Sqa()),playdelay:(0,h.vg)(u.j.Wqa()),trackid:A.Gl,bookmark:(0,h.vg)(A.Nn || 0),pbnum:A.index};u.j.jj && (C.blocked=u.j.jj);C.initvbitrate=u.j.KZ;u.Ic.yxa(C);u.Ic.tbb(C);C.esnSource=null === (x=mb._cad_global.device) || void 0 === x?void 0:x.K$;u.Abb(C,A);C.pdltime=(0,n.cK)();(0,h.Qe)(C,A.Bd,{prefix:"sm_"});C.ttTrackFields=null === (z=A.Mb.value) || void 0 === z?void 0:z.Ih;u.Ic.pbb(C,A.Hc.value,A);u.Ic.sQ(C,!0,A.Xh.value,A);C.packageId=null === (B=A.ba) || void 0 === B?void 0:B.Ra.Ep;u.Ic.rQ(C);u.Ic.Oba(C,A);u.lK(C);u.Ec(l.Wc.Ju,y.Qi,k.Ie | k.nv | k.ov | k.pH | k.pr,C);};this.HB=function(){var y,x,z;y=u.j;x=y.Ha;y=y.Qi;z=u.H0();z.paustate=!u.j.ss();z.muted=u.j.hya();z.endreason=y?"error":u.j.Yxa()?"ended":"stopped";u.Ic.sQ(z,!1,x.Xh.value,x);u.Ic.rQ(z);u.lK(z);u.Ec(l.Wc.HB,y,k.Ie | k.nv | k.ov | k.pH | k.pr,z);};this.BDa=function(y,x,z){var B;B=u.j.Ha.hg;y={moff:(0,h.Yn)(z),moffms:(0,h.vg)(z),vdlidold:y.Wb,vbitrateold:y.bitrate};u.Ic.ps(y,x,B.value && B.value.stream);u.Ec(l.Wc.k1,void 0,0,y);};this.QB=function(){var y;y=u.j.Db.value;return y === f.qb.Xc?"playing":y === f.qb.ej?"paused":y === f.qb.Us?"ended":"waiting";};this.ta=m.eb("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.pU=void 0;l=a(282);h=a(23);n=a(44);c=a(4);f=a(16);g=a(5);d.prototype.getTime=function(){return this.Ia.Qb().ia(g.va);};d.prototype.owa=function(){return this.getTime() - this.j.Ha.rj.ia(g.va);};d.prototype.Abb=function(m,p){var q;if(p=null === (q=p.Xh.value) || void 0 === q?void 0:q.streams)(m.maxbitrate=(0,n.xT)(p.map(function(v){return v.bitrate;})),m.maxresheight=(0,n.xT)(p.map(function(v){return v.height;})));};d.prototype.lK=function(m){m.cachedManifest="notcached";m.cachedLicense="notcached";m.usedldl="false";};d.prototype.H0=function(){var m,p,q,v;m=this.j.Ha;p=m.bn;q={totaltime:(0,h.Yn)(p.hs()),totalcontenttime:(0,h.Yn)(p.kZ()),reposcount:this.n1,intrplaycount:this.IF};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});v=m.Kf.value;v && (q.videofr=v.framerate.toFixed(3));(v=p.fva()) && (q.abrdel=v);(v=p.Bba() && p.O8a()) && (q.tw_vmaf=v);(p=p.M8a()) && (0,h.Qe)(q,p);q.rbfrs=this.IF;this.Abb(q,m);return q;};d.prototype.Ec=function(m,p,q,v){var t,w,u;t=this;p && (0,c.e4)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.Da,this.owa(),void 0) && (w="info");u=this.j.Ha;this.lpa(v,p,q);p=w || (p?"error":"info");v=this.hC.Nv(m,p,v,u);this.Vg.Ec(v);"error" !== p && m !== l.Wc.HB || this.Vg.flush(!1).catch(function(){t.ta.debug("Failed to flush the logblobs");});};d.prototype.lpa=function(m,p,q){var v;v=this.j.Ha;this.Ic.sbb(m,v);q & k.Ie && this.Ic.wbb(m,v,!1);q & k.nv && this.Ic.ybb(m,v);q & k.ov && this.Ic.zbb(m,this.j.pp());p && q & k.pH && this.Ic.ubb(m,v,p);q & k.pr && this.Ic.yxa(m);};b.pU=d;(function(m){m[m.Ie=1]="MOFF";m[m.nv=2]="PRESENTEDSTREAMS";m[m.ov=4]="SCREEN";m[m.pH=8]="FATALERROR";m[m.pr=16]="BROWSERINFO";})(k || (k={}));},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v,t){this.Vg=m;this.config=p;this.za=q;this.Ia=v;this.wza=t;}Object.defineProperty(b,"__esModule",{value:!0});b.qU=void 0;r=a(0);l=a(1);h=a(18);n=a(27);c=a(12);f=a(50);g=a(485);k=a(1206);d.prototype.create=function(m){return new k.sU(m,this.Vg,this.config,this.Ia,this.wza.create(m));};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.Ho)),r.__param(1,(0,l.l)(c.uc)),r.__param(2,(0,l.l)(n.Nh)),r.__param(3,(0,l.l)(h.kd)),r.__param(4,(0,l.l)(g.oU))],a);b.qU=a;},function(r,b,a){var l,h,n;function d(c,f,g,k,m){var p;p=this;this.j=c;this.Vg=f;this.config=g;this.Ia=k;this.ob=m;this.lX=function(){p.Ah();p.j.Ha.Fj.removeListener(p.dD);p.j.Ha.Mb.removeListener(p.ob.nn);p.j.Ha.Hc.removeListener(p.Mn);p.j.Ha.ei.removeListener(p.ob.SW);p.j.Wi.removeListener(p.Oib);p.j.ZR.removeListener(p.tl);p.j.Ha.Re.removeListener(p.R0);p.j.Db.removeListener(p.ny);p.j.Db.removeListener(p.UO);p.j.Ha.Kf.removeListener(p.Z2);p.j.Ha.playbackRate.removeListener(p.ob.W1);p.j.removeEventListener(n.Qa.closed,p.lX);p.j.removeEventListener(n.Qa.e9,p.ob.jj);};this.UO=function(){p.j.Db.value === n.qb.Xc && (p.j.Db.removeListener(p.UO),p.Iw());};this.dD=function(q){p.zs && p.ob.dD(q);};this.tl=function(q){p.zs && void 0 !== q.newValue && (p.Du && p.kr && p.ob.iCa(p.getTime() - p.kr,p.Du),p.Du="repos",p.ob.AG(q.newValue,p.j.Ha.hg.value,p.j.Ha.Re.value),p.kr=p.getTime(),(0,h.Rg)(p.ny));};this.Oib=function(q){p.zs && p.ob.Bea(!q.newValue);};this.Mn=function(q){q.oldValue && (p.dC=q.oldValue,p.ob.Mn(q),p.Du="repos",p.kr=p.getTime(),(0,h.Rg)(p.ny));};this.ny=function(){var q;if(p.kr && p.j.Db.value !== n.qb.Hg){q=p.getTime() - p.kr;p.ob.Ww(q,!1,p.Du);p.dC && p.dC != p.j.Ha.Hc.value && p.ob.dqa();p.kr=void 0;p.Du=void 0;}};this.Iw=function(){p.zs || (p.zs=!0,p.ob.Ju(p.j),p.Hxa(),p.config().Vba && (p.aC=mb.setTimeout(function(){p.Vg.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.aC=void 0;},p.config().Vba)));};this.Ah=function(){p.aC && (mb.clearTimeout(p.aC),p.aC=void 0);p.J2 && p.J2();p.zs?p.ob.HB():p.j.Qi?p.ob.Ju(p.j):p.ob.jCa();};this.Z2=function(q){q.oldValue && q.lj && q.lj.eJ && p.ob.mB(q.oldValue,q.newValue,q.lj.eJ,q.lj.ZW);};this.R0=function(q){var v;if(q.newValue){v=q.newValue.stream;p.CK != v && (p.CK && v && p.ob.BDa(p.CK,v,q.newValue.Qn.startTime),p.CK=v);}};this.Fga();}Object.defineProperty(b,"__esModule",{value:!0});b.sU=void 0;l=a(5);h=a(59);n=a(16);d.prototype.Fga=function(){this.j.addEventListener(n.Qa.closed,this.lX);this.j.addEventListener(n.Qa.e9,this.ob.jj);this.j.Ha.Fj.addListener(this.dD);this.j.Ha.Mb.addListener(this.ob.nn);this.j.Ha.Hc.addListener(this.Mn);this.j.Ha.ei.addListener(this.ob.SW);this.j.Wi.addListener(this.Oib);this.j.ZR.addListener(this.tl);this.j.Ha.Re.addListener(this.R0);this.j.Db.addListener(this.ny);this.j.Db.addListener(this.UO);this.j.Ha.Kf.addListener(this.Z2);this.j.Ha.playbackRate.addListener(this.ob.W1);};d.prototype.getTime=function(){return this.Ia.Qb().ia(l.va);};d.prototype.Hxa=function(){var c,f,g;c=this;g=[];this.config().Gfb && (this.config().Hfb.forEach(function(k){g.push(mb.setTimeout(c.ob.sC,k));}),this.config().sda && (f=mb.setInterval(this.ob.sC,this.config().sda)),this.J2=function(){g.forEach(function(k){mb.clearTimeout(k);});f && mb.clearInterval(f);});};b.sU=d;},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.$L=void 0;r=a(1);d=a(1208);l=a(1209);h=a(486);n=a(487);b.$L=new r.Kd(function(c){c(n.oWa).to(d.nWa);c(h.lWa).pn(new l.kWa());c(n.mWa).Te(function(f){return function(){return f.xb.get(n.oWa);};});});},function(r,b,a){var l,h,n,c;function d(f){this.config=f;this.zFa=h.Oa;this.xS=[];}Object.defineProperty(b,"__esModule",{value:!0});b.nWa=void 0;r=a(0);l=a(1);h=a(52);n=a(5);a=a(486);d.prototype.up=function(){var g;for(var f;0 < this.xS.length;){f=this.xS.shift();this.$_a(f);}f=void 0 === this.WX || void 0 === this.yJ?n.Oa:this.yJ.Fa(this.WX);g=f.Zcb()?0:this.zFa.ia(h.kH) / f.ia(n.va);return {pGa:Math.floor(g),Zuc:f.ia(n.va)};};d.prototype.MGb=function(f){this.zFa=this.zFa.add(f.size);this.xS.push(f.eSb);for(this.xS.sort(function(g,k){return g.start.Mm(k.start);});this.xS.length > this.config.fSb;){f=this.xS.shift();this.$_a(f);}};d.prototype.$_a=function(f){void 0 === this.WX && (this.WX=f.start);void 0 !== this.yJ && 0 > this.yJ.Mm(f.start) && (this.WX=this.WX.add(f.start.Fa(this.yJ)));if(void 0 === this.yJ || 0 > this.yJ.Mm(f.end))this.yJ=f.end;};c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.lWa))],c);b.nWa=c;},function(r,b,a){function d(l){this.fSb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.kWa=void 0;r=a(0);a=a(1);d=r.__decorate([(0,a.$)()],d);b.kWa=d;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.gp=void 0;r=a(1);d=a(26);l=a(12);h=a(1211);n=a(163);c=a(164);f=a(1212);g=a(283);k=a(1213);m=a(488);p=a(489);q=a(1214);v=a(14);t=a(494);w=a(1218);u=a(495);y=a(1219);x=a(287);z=a(1220);B=a(496);A=a(37);C=a(493);D=a(1221);b.gp=new r.Kd(function(E){E(c.TU).to(f.DVa).la();E(d.Uz).to(h.dLa).la();E(g.BOa).to(k.AOa).la();E(p.cKa).to(q.bKa).la();E(g.XSa).pn({isTypeSupported:v.GD && v.GD.isTypeSupported});E(m.tMa).XG(function(G){return {$Xb:function(){return G.xb.get(A.E5);}};});E(n.CM).XG(function(G){return G.xb.get(l.uc);});E(t.oQa).to(w.lQa).la();E(C.kQa).to(D.jQa).la();E(u.nQa).to(y.mQa).la();E(x.Cja).to(z.sMa).la();E(B.lUa).pn(mb);});},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p){this.config=k;this.D2a=m;this.Cac=p;this.xcc=this.APb();}Object.defineProperty(b,"__esModule",{value:!0});b.dLa=void 0;r=a(0);l=a(26);h=a(163);n=a(1);c=a(42);f=a(488);a=a(489);d.prototype.bab=function(k){return this.I8a().cab(k);};d.prototype.dab=function(k){return this.gw().cab(k);};d.prototype.I8a=function(){this.$pa && this.$pa.type == this.config().aqa || (this.$pa=this.D2a.FOb(this.config().aqa));return this.$pa;};d.prototype.gw=function(){this.Fha && this.Fha.type == this.config().Gha || (this.Fha=this.D2a.OPb(this.config().Gha),this.Fha.npa(this.Cac.$Xb()));return this.Fha;};d.prototype.nYb=function(k){var q;if(!k || !k.length)return l.Mf.r4;k=this.uVb(k);for(var m=[l.Mf.RU,l.Mf.r4,l.Mf.mN,l.Mf.KM,l.Mf.px,l.Mf.rD,l.Mf.QD,l.Mf.Il],p=m.length;p--;){q=m[p];if((0,this.xcc[q])(k))return q;}return l.Mf.RU;};d.prototype.WL=function(k){return this.gw().WL(k);};d.prototype.cJ=function(k){return this.gw().cJ(k);};d.prototype.ZJ=function(){return this.gw().ZJ();};d.prototype.Jaa=function(){return this.gw().Jaa();};d.prototype.j2=function(){return this.gw().j2();};d.prototype.h2=function(){return this.I8a().h2();};d.prototype.Uga=function(){return this.gw().Uga();};d.prototype.k2=function(){return this.gw().k2();};d.prototype.OY=function(k){return this.gw().OY(k);};d.prototype.eZ=function(){return this.gw().eZ();};d.prototype.Zaa=function(){return this.gw().Zaa();};d.prototype.uVb=function(k){var m;m={};k.filter(function(p){return "video" === p.type;}).forEach(function(p){m[p.qf]="";});return Object.keys(m);};d.prototype.APb=function(){var k;k={};k[l.Mf.Il]=function(m){return m.some(function(p){return -1 < p.indexOf("av1");});};k[l.Mf.rD]=function(m){return m.some(function(p){return -1 < p.indexOf("hpl");});};k[l.Mf.QD]=function(m){return m.some(function(p){return -1 < p.indexOf("vp9");});};k[l.Mf.px]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-dv");});};k[l.Mf.KM]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-hdr");});};k[l.Mf.mN]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};k[l.Mf.r4]=(function(m,p){var q;q={};m.forEach(function(v){return q[v]=1;});m=oa(p);for(p=m.next();!p.done;p=m.next()){if(q[p.value])return !0;}return !1;}).bind(null,[c.I.rH]);k[l.Mf.RU]=function(){return !0;};return k;};g=d;g=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(h.CM)),r.__param(1,(0,n.l)(a.cKa)),r.__param(2,(0,n.l)(f.tMa))],g);b.dLa=g;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v){this.gp=p;this.Hb=q;this.Xnb=v;this.cGb="video/mp4;codecs={0}";this.JAb="audio/mp4;codecs={0}";p=this.gp.OY(h.Mf.px);this.bGb=c.de.J4a(p);}Object.defineProperty(b,"__esModule",{value:!0});b.DVa=void 0;r=a(0);h=a(26);n=a(1);c=a(127);f=a(25);g=a(226);k=a(490);m=a(17);d.prototype.W9=function(p){p=this.gp.nYb(p);p=this.Hb.tJ(p)?p:h.Mf.RU;return this.Xnb.format(this.cGb,this.bGb[p]);};d.prototype.Q9=function(p){if(0 === p.length)return this.Xnb.format(this.JAb,c.de.Xha);p=k.bJa[p[0].qf] || l.LHa;return p === l.LHa?m.PPa:p === l.Wrb?m.QPa:m.OPa;};a=l=d;a.LHa="AAC";a.Wrb="XHEAAC";a=l=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(h.Uz)),r.__param(1,(0,n.l)(f.ah)),r.__param(2,(0,n.l)(g.ima))],a);b.DVa=a;},function(r,b,a){var l,h,n,c,f;function d(g,k){this.config=g;this.JQb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.AOa=void 0;r=a(0);l=a(1);h=a(283);n=a(163);c=a(26);f=a(284);d.prototype.x4a=function(){switch(this.config().Gha){case c.zn.fA:return f.ED.iPb();default:return this.JQb;}};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.CM)),r.__param(1,(0,l.l)(h.XSa))],a);b.AOa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z;function d(B,A,C,D,E,G,F,K,O,L){this.Ucb=B;this.config=A;this.Jc=C;this.za=D;this.is=E;this.Sq=G;this.fo=F;this.platform=K;this.yc=O;this.qC=L;}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;r=a(0);l=a(1);h=a(26);n=a(283);c=a(163);f=a(1215);g=a(1216);k=a(286);m=a(491);p=a(48);q=a(27);v=a(25);t=a(1217);w=a(100);u=a(7);y=a(45);x=a(30);a=a(493);d.prototype.FOb=function(B){var A;A=this.Ucb.x4a();switch(B){case h.lx.fA:return new f.OQa(this.config,A,this.is,this.platform,this.qC);default:return new m.X3(this.config,A,this.qC);}};d.prototype.OPb=function(B){var A;A=this.Ucb.x4a();switch(B){case h.zn.AM:B=new t.jKa(this.config,A,this.is,this.Sq,this.fo,this.za,this.qC);break;case h.zn.fA:B=new g.UPa(this.config,A,this.is,this.Jc,this.za,this.fo,this.yc,this.qC,this.Sq);break;default:B=new k.wD(this.config,A,this.is,this.qC);}return B;};z=d;z=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.BOa)),r.__param(1,(0,l.l)(c.CM)),r.__param(2,(0,l.l)(p.ck)),r.__param(3,(0,l.l)(q.Nh)),r.__param(4,(0,l.l)(v.ah)),r.__param(5,(0,l.l)(w.eA)),r.__param(6,(0,l.l)(u.hb)),r.__param(7,(0,l.l)(y.Vp)),r.__param(8,(0,l.l)(x.Fi)),r.__param(9,(0,l.l)(a.kQa))],z);b.bKa=z;},function(r,b,a){var l,h,n,c,f;function d(g,k,m,p,q){g=c.X3.call(this,g,k,q) || this;g.is=m;g.platform=p;g.type=l.lx.fA;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.OQa=void 0;l=a(26);h=a(42);n=a(73);c=a(491);f=a(284);la(d,c.X3);d.prototype.h2=function(){return Promise.resolve(this.config().wP && this.iB(n.Ab.nA,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};d.prototype.Jt=function(){var g,k;g={};g=(g[h.oe.sH]="mp4a.40.2",g[h.oe.tH]="mp4a.40.2",g);if("browser" === this.platform.Xsa){k={};return Object.assign(Object.assign({},g),(k[h.oe.QT]=this.config().wP?{ie:"avc1",keySystem:n.Ab.nA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[h.oe.RT]=this.config().wP?{ie:"avc1",keySystem:n.Ab.nA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[h.oe.J4]=void 0,k[h.oe.vA]=void 0,k[h.oe.I3]=void 0,k));}k={};return Object.assign(Object.assign({},g),(k[h.oe.QT]=this.config().B6a?"ec-3":void 0,k[h.oe.I3]=this.config().A6a?"ec-3":void 0,k[h.oe.RT]=this.config().wP?{ie:"avc1",keySystem:n.Ab.nA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[h.oe.J4]=void 0,k[h.oe.vA]=void 0,k));};d.prototype.iua=function(g){var k,m,p;g=this.V0[g];k=[];m=n.Ab.nA;if(g){if(this.is.Mr(g))p=g;else (k=g.features,p=g.ie,m=g.keySystem);return this.iB(m,p,k)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};d.prototype.iB=function(g,k,m){g=f.ED.S9(g,k,m);return this.cJ(g);};b.OQa=d;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D;function d(E,G,F,K,O,L,I,M,H){E=h.wD.call(this,E,G,F,M) || this;E.Jc=K;E.za=O;E.fo=L;E.yc=I;E.qC=M;E.Sq=H;E.type=n.zn.fA;E.MT="hvc1";E.ltb="avc1";E.vib={};E.log=E.fo.eb("MicrosoftVideoCapabilityDetector");E.yic();E.i2 && E.config().l7b?E.j6a=E.YOb():(E.j6a=Promise.resolve(""),E.config().n7b?E.ePb():E.config().m7b && E.dPb());return E;}Object.defineProperty(b,"__esModule",{value:!0});b.UPa=void 0;l=a(42);h=a(286);n=a(26);r=a(129);c=a(73);f=a(5);g=a(359);k=a(127);m=a(284);p=a(43);q=a(173);v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");B=["hdcp=1"];A=["hdcp=2"];C=new r.RH();D=new g.Hia();la(d,h.wD);d.prototype.OY=function(E){return E === n.Mf.px && this.config().pmc?k.de.Hja:h.wD.prototype.OY.call(this,E);};d.prototype.WL=function(E){switch(E){case n.sr.k5:return this.job();case n.sr.zH:return this.X0;default:return Promise.resolve(!1);}};d.prototype.ZJ=function(){var G;function E(){return G.i2?G.r1b?G.job().then(function(F){return Promise.resolve(F?c.Ab.xe:c.Ab.LH);}):Promise.resolve(c.Ab.LH):G.yjc?Promise.resolve(c.Ab.LH):Promise.resolve(c.Ab.nA);}G=this;this.keySystem || (this.keySystem=this.config().Vu?this.Sq.nF().then(function(F){return F.keySystem;}):E());return this.keySystem;};d.prototype.Jaa=function(){return this.j6a;};d.prototype.j2=function(){return Promise.resolve({result:this.iob(),reason:"is-type-supported"});};d.prototype.k2=function(){return this.i2 && this.lob()?this.X0:Promise.resolve(!1);};d.prototype.Uga=function(){return Promise.resolve(this.hob()).then(function(E){return {result:E,reason:"isTypeSupportedWithFeatures"};});};d.prototype.npa=function(E){this.ys=E;Object.assign(this.ys,this.vib);E.itshwdrm=this.i2;E.itsqhd=this.kob();E.itshevc=this.lob();E.itshdr=this.iob();E.itsdv=this.hob();E.itsav1=this.vjc();this.$Ga();};d.prototype.FW=function(E,G){(this.ys?this.ys:this.vib)[E]=G;};d.prototype.eZ=function(){var E;E=this;return this.WL(n.sr.zH).then(function(G){return G?E.R9(n.sr.zH):E.WL(n.sr.k5).then(function(F){return F?E.R9(n.sr.k5):E.R9(void 0);});});};d.prototype.Zaa=function(){return this.config().Vu?Promise.resolve(void 0):this.ZJ().then(function(E){return E === c.Ab.xe?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};d.prototype.iua=function(E){var G;G=this;return this.ZJ().then(function(F){var K,O,L;K=G.V0[E];if(K){O=[];if(G.is.Mr(K))L=K;else (O=K.features,L=K.ie,F=K.keySystem);return G.iB(F,L,O)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};d.prototype.Jt=function(){var E;E=h.wD.prototype.Jt.call(this);E[l.I.aV]=E[l.I.o6]=E[l.I.n6]=E[l.I.sma]={ie:"vp09.00.11.08.02",keySystem:c.Ab.xe,features:v};E[l.I.N4]=E[l.I.M4]=E[l.I.L4]={ie:"hev1.2.6.L90.B0",keySystem:c.Ab.xe,features:t};E[l.I.Q4]=E[l.I.P4]=E[l.I.O4]={ie:"hev1.2.6.L93.B0",keySystem:c.Ab.xe,features:t};E[l.I.T4]=E[l.I.S4]=E[l.I.R4]={ie:"hev1.2.6.L120.B0",keySystem:c.Ab.xe,features:t};E[l.I.W4]=E[l.I.V4]=E[l.I.U4]={ie:"hev1.2.6.L123.B0",keySystem:c.Ab.xe,features:t};E[l.I.Y4]=E[l.I.$T]=E[l.I.X4]={ie:"hev1.2.6.L150.B0",keySystem:c.Ab.xe,features:t};E[l.I.a5]=E[l.I.aU]=E[l.I.Z4]={ie:"hev1.2.6.L153.B0",keySystem:c.Ab.xe,features:t};E[l.I.u4]=E[l.I.t4]=E[l.I.s4]={ie:"hev1.2.6.L90.B0",keySystem:c.Ab.xe,features:u};E[l.I.x4]=E[l.I.w4]=E[l.I.v4]={ie:"hev1.2.6.L93.B0",keySystem:c.Ab.xe,features:u};E[l.I.z4]=E[l.I.ZT]=E[l.I.y4]={ie:"hev1.2.6.L120.B0",keySystem:c.Ab.xe,features:u};E[l.I.C4]=E[l.I.B4]=E[l.I.A4]={ie:"hev1.2.6.L123.B0",keySystem:c.Ab.xe,features:y};E[l.I.F4]=E[l.I.E4]=E[l.I.D4]={ie:"hev1.2.6.L150.B0",keySystem:c.Ab.xe,features:y};E[l.I.I4]=E[l.I.H4]=E[l.I.G4]={ie:"hev1.2.6.L153.B0",keySystem:c.Ab.xe,features:y};E[l.I.L3]=E[l.I.K3]={ie:"hev1.2.6.L90.B0",keySystem:c.Ab.xe,features:x};E[l.I.N3]=E[l.I.M3]={ie:"hev1.2.6.L93.B0",keySystem:c.Ab.xe,features:x};E[l.I.O3]=E[l.I.ija]=E[l.I.ST]={ie:"hev1.2.6.L120.B0",keySystem:c.Ab.xe,features:x};E[l.I.Q3]=E[l.I.jja]=E[l.I.P3]={ie:"hev1.2.6.L123.B0",keySystem:c.Ab.xe,features:z};E[l.I.S3]=E[l.I.kja]=E[l.I.R3]={ie:"hev1.2.6.L150.B0",keySystem:c.Ab.xe,features:z};E[l.I.U3]=E[l.I.lja]=E[l.I.T3]={ie:"hev1.2.6.L153.B0",keySystem:c.Ab.xe,features:z};E[l.I.pD]={ie:"av01.0.04M.10",keySystem:c.Ab.xe,features:v};E[l.I.qD]={ie:"av01.0.05M.10",keySystem:c.Ab.xe,features:v};E[l.I.uT]={ie:"av01.0.08M.10",keySystem:c.Ab.xe,features:v};E[l.I.vT]={ie:"av01.0.09M.10",keySystem:c.Ab.xe,features:v};E[l.I.r3]={ie:"av01.0.12M.10",keySystem:c.Ab.xe,features:w};E[l.I.s3]={ie:"av01.0.13M.10",keySystem:c.Ab.xe,features:w};return E;};d.prototype.iB=function(E,G,F){E=m.ED.S9(E,G,F);return this.cJ(E);};d.prototype.kob=function(){return this.iB(c.Ab.xe,this.MT,t);};d.prototype.iob=function(){return this.iB(c.Ab.xe,this.MT,u);};d.prototype.hob=function(){return this.iB(c.Ab.xe,this.MT,x);};d.prototype.vjc=function(){return this.iB(c.Ab.xe,k.de.Il,v);};d.prototype.lob=function(){return this.iB(c.Ab.xe,this.MT,w);};d.prototype.job=function(){var E;E=this;return this.X0.then(function(G){return G?Promise.resolve(G):E.wjb;});};d.prototype.$Ga=function(){this.ys && (this.ys.itshdcp=JSON.stringify({hdcp1:this.Pab,time1:this.Gob - this.ynb,hdcp2:this.Qab,time2:this.Hob - this.znb}));};d.prototype.yic=function(){var E;E=this;this.i2?(this.X0=this.G$a(this.config().Ffb,this.config().p7b,function(){var G;G=E.kYb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.wjb=this.X0.then(function(G){return G?!0:E.G$a(E.config().Ffb,E.config().o7b,function(){var F;F=E.jYb();return ["maybe" !== F,F];}).then(function(F){return "probably" === F;});})):(this.wjb=Promise.resolve(!0),this.X0=Promise.resolve(!1));};d.prototype.G$a=function(E,G,F){var K;K=this;return new Promise(function(O){var L,I,M,H;L=oa(F());I=L.next().value;L=L.next().value;if(I)return O(L);M=K.Jc.iS((0,f.Vb)(E),function(){var J,N;J=oa(F());N=J.next().value;J=J.next().value;N && (M.cancel(),H.cancel(),O(J));});H=K.Jc.zl((0,f.Vb)(G),function(){M.cancel();H.cancel();O("timeout");});});};d.prototype.jYb=function(){var E;E=m.ED.S9(c.Ab.LH,this.ltb,B).split("|");this.Pab=m.ED.eGa(E[0],E[1]);this.Gob=this.za.rf.ia(f.va);this.ynb=this.ynb || this.Gob;this.$Ga();return this.Pab;};d.prototype.kYb=function(){var E;E=m.ED.S9(c.Ab.xe,this.MT,A).split("|");this.Qab=m.ED.eGa(E[0],E[1]);this.Hob=this.za.rf.ia(f.va);this.znb=this.znb || this.Hob;this.$Ga();return this.Qab;};d.prototype.YOb=function(){var E;E=this;return this.lsa(c.Ab.xe,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.KRa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){E.log.debug("DriverInfo: " + G);return G;}).catch(function(G){E.FW("itsDriverInfo","exception");E.log.error("DriverInfo exception",G);throw G;});};d.prototype.dPb=function(){var E;E=this;this.lsa(c.Ab.nA,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.yc.decode(G));E.FW("itsHardwareInfo",F);E.log.debug("HardwareInfo: " + F);return G;}).catch(function(G){E.FW("itsHardwareInfo","exception");E.log.error("HardwareInfo exception",G);throw G;});};d.prototype.ePb=function(){var E;E=this;this.lsa(c.Ab.nA,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.yc.decode(G));E.FW("itsHardwareReset",F);E.log.debug("ResetHardwareDRMDisabled: " + F);return G;}).catch(function(G){E.FW("itsHardwareReset","exception");E.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};d.prototype.lsa=function(E,G){var F;F=this;return new Promise(function(K,O){var N,P,X;function L(V){try{H(V.target,"Unexpectedly got an mskeyerror event: 0x" + D.QJ(V && V.target && V.target.error && V.target.error.Tyc || 0,4));}catch(S){H(V.target,S);}}function I(V){H(V.target,"Unexpectedly got an mskeyadded event");}function M(V){var S;try{S=F.eua(V.message,"PlayReadyKeyMessage","Challenge");J(V.target);K(S);}catch(U){H(V.target,U);}}function H(V,S){F.log.error("PlayReadyChallenge error",{cdmData:G});J(V);O(S);}function J(V){V.removeEventListener("mskeymessage",M);V.removeEventListener("mskeyadded",I);V.removeEventListener("mskeyerror",L);X && X.cancel();}try{N=new Uint8Array(C.Vnb(G));P=new mb.MSMediaKeys(E).createSession("video/mp4",new Uint8Array(0),N);P.addEventListener("mskeymessage",M);P.addEventListener("mskeyadded",I);P.addEventListener("mskeyerror",L);X=F.Jc.zl((0,f.Vb)(1E3),function(){H(P,Error("timeout"));});}catch(V){O(V);}});};d.prototype.eua=function(E,G){var K,O,L;for(var F=1;F < arguments.length;++F){;}F="";O=E.length;for(K=0;K < O;K++){L=E[K];0 < L && (F+=String.fromCharCode(L));}O="\\s*(.*)\\s*";for(K=arguments.length - 1;0 < K;K--){L=arguments[K];if(0 > F.search(L))return;L="(?:[^:].*:|)" + L;O="[\\s\\S]*<" + L + "[^>]*>" + O + "</" + L + ">[\\s\\S]*";}if(F=F.match(new RegExp(O)))return F[1];};d.prototype.qya=function(E){var G;G=this;return this.ZJ().then(function(F){return [q.We.rD,q.We.QD].some(function(K){return K.test(E);}) && !q.We.LOa.test(E) && G.config().Efb && ![c.Ab.LH,c.Ab.cTa].some(function(K){return K === F;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Va.Object.defineProperties(d.prototype,{r1b:{configurable:!0,enumerable:!0,get:function(){return this.config().F6a && (!this.config().q7b || this.kob());}},i2:{configurable:!0,enumerable:!0,get:function(){try{return this.cJ(c.Ab.xe + "|" + k.de.wAa);}catch(E){return !1;}}},yjc:{configurable:!0,enumerable:!0,get:function(){try{return this.cJ(c.Ab.LH);}catch(E){return !1;}}}});b.UPa=d;},function(r,b,a){var l,h,n,c,f;function d(g,k,m,p,q,v,t){g=l.wD.call(this,g,k,m,t) || this;g.Sq=p;g.fo=q;g.za=v;g.qC=t;g.type=h.zn.AM;g.log=g.fo.eb("ChromeVideoCapabilityDetector");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;l=a(286);h=a(26);n=a(5);c=a(43);f=a(173);la(d,l.wD);d.prototype.WL=function(g){switch(g){case h.sr.zH:return this.wjc;default:return Promise.resolve(!1);}};d.prototype.eZ=function(){var g;g=this;return this.WL(h.sr.zH).then(function(k){return k?h.sr.zH:void 0;}).then(function(k){return g.R9(k);});};d.prototype.npa=function(g){this.ys=g;};d.prototype.Q3b=function(g){var k;return !(null === (k=g.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(m){return (null === m || void 0 === m?void 0:m.robustness) === c.rx;}));};d.prototype.aqb=function(){var g;if(this.ys){g=this.Rab && this.Tab && this.Rab.Fa(this.Tab).ia(n.va);this.ys.itshdcp=JSON.stringify({hdcp2:this.kw,time2:g});}};d.prototype.qya=function(g){var k;k=this;return this.Sq.nF().then(function(m){m=(0,c.Taa)(m);return [f.We.rD,f.We.QD].some(function(p){return p.test(g);}) && !f.We.LOa.test(g) && k.config().Efb && m === c.rx?{supported:!1,reason:"mcclearen-restricted"}:f.We.pvb.test(g) && !(k.config().YSb || k.config().E6a && m === c.rx) || f.We.mN.test(g) && (!k.config().E6a || m !== c.rx)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Va.Object.defineProperties(d.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.wfb || (this.wfb=this.Sq.nF().then(function(g){return g.createMediaKeys();}));return this.wfb;}},wjc:{configurable:!0,enumerable:!0,get:function(){var g;g=this;this.fGa || (this.config().$Sb?this.fGa=Promise.all([this.Sq.nF(),this.mediaKeys]).then(function(k){var m;m=oa(k);k=m.next().value;m=m.next().value;if(!g.Q3b(k))return (g.kw="not HW_SECURE_ALL",g.log.trace("hdcpStatus: " + g.kw),!1);if(m && m.getStatusForPolicy)return (g.Tab=g.za.rf,m.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){g.Rab=g.za.rf;g.kw=p;g.log.trace("hdcpStatus: " + g.kw);return "usable" === g.kw;}));g.kw="not available";g.log.trace("hdcpStatus: " + g.kw);return !1;}).catch(function(k){g.kw="exception";g.log.error("Exception in supportsHdcpLevel",{hdcpStatus:g.kw},k);return !1;}).then(function(k){g.aqb();return k;}):(this.kw="not enabled",this.log.trace("hdcpStatus: " + this.kw),this.aqb(),this.fGa=Promise.resolve(!1)));return this.fGa;}}});b.jKa=d;},function(r,b,a){var l,h;function d(n){this.navigator=n;this.tfb=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.lQa=void 0;r=a(0);l=a(1);a=a(37);d.prototype.hua=function(n){return this.tfb?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:n.contentType,width:n.width,height:n.height,bitrate:n.bitrate,framerate:n.framerate}}).then(function(c){return {supported:c.supported,smooth:c.smooth,powerEfficient:c.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=d;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.XM))],h);b.lQa=h;},function(r,b,a){var l,h,n,c;function d(f,g){this.mediaCapabilities=f;this.log=g.eb("MediaCapabilities");this.V0=c.Y3.Jt();}Object.defineProperty(b,"__esModule",{value:!0});b.mQa=void 0;r=a(0);l=a(494);h=a(7);n=a(1);c=a(255);d.prototype.hua=function(f){var g,k,m,p;g=this;m={Yc:void 0};if(this.mediaCapabilities.tfb){p={contentType:'video/mp4;codecs="' + (null !== (k=this.V0[f.qf]) && void 0 !== k?k:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.hua(p).then(function(q){return m.Yc=Object.assign(Object.assign({},q),p);}).catch(function(q){return g.log.error("Error calling MediaCapabilities API",q);});}return m;};a=d;a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(l.oQa)),r.__param(1,(0,n.l)(h.hb))],a);b.mQa=a;},function(r,b,a){var l,h,n;function d(c){this.Pbc=c;}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;r=a(0);l=a(1);h=a(287);a=a(496);d.prototype.JUb=function(){var c,f;c={IP:h.$z.Yzb};try{f=this.Pbc.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(g){var k;c.IP=g.value?h.$z.kUa:h.$z.PHa;if(c.IP === h.$z.PHa){k=function(){g.value && (c.IP=h.$z.kUa);g.removeEventListener("change",k);};g.addEventListener("change",k);}}).catch(function(){c.IP=h.$z.Error;});}catch(g){c.IP=h.$z.Error;}return c;};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.lUa))],n);b.sMa=n;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v,t){this.config=p;this.navigator=q;this.fo=v;this.WQ=t;this.p1a={};this.Pqb={};this.ypa={};this.log=this.fo.eb("MediaCapabilityDetector");this.p1a=this.EOb();this.Pqb=this.NPb();}Object.defineProperty(b,"__esModule",{value:!0});b.jQa=void 0;r=a(0);l=a(1);h=a(42);n=a(7);c=a(37);f=a(100);g=a(163);k=a(43);m=a(14);d.prototype.uY=function(p){var q;q=this;return this.WQ.nF().then(function(v){return q.$Ub(p,v);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};d.prototype.g3b=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};d.prototype.aya=function(){return mb.matchMedia("(dynamic-range: high)").matches;};d.prototype.$Ub=function(p,q){var v,t,w;try{v={type:"media-source"};t=this.p1a[p];w=this.Pqb[p];if(t)v.audio=t;else if(w){v.video=w;if(this.g3b(w) && !this.aya())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (v.keySystemConfiguration=this.AYb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.mLb(v),this.jLb((t || w).contentType)]).then(function(u){var y;y=oa(u);u=y.next().value;y=y.next().value;return u?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(u){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",u),Promise.resolve({supported:!1,reason:"mc-exception"}));}};d.prototype.mLb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(v){var t;v.configuration || (v.configuration=p);t=q.H3b(p,v);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(v)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(v));return t;}).catch(function(v){q.log.error("mediaCapabilities.decodingInfo failed",v);return !1;});};d.prototype.jLb=function(p){var q;q=this;if(!this.config().iTb)return Promise.resolve(!0);this.ypa[p] || (this.ypa[p]=new Promise(function(v){var t;try{t=new m.GD();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);v(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);v(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);v(!1);}}));return this.ypa[p];};d.prototype.AYb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,k.Taa)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};d.prototype.EOb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[h.oe.sH]=q;p[h.oe.J4]=q;p[h.oe.tH]=q;p[h.oe.vA]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[h.oe.QT]=q;p[h.oe.I3]=q;p[h.oe.RT]=q;return p;};d.prototype.NPb=function(){var p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};v={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},v),{bitrate:12E6,framerate:30});u=Object.assign(Object.assign({},v),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};B={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);C=Object.assign(Object.assign({},p),w);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),u);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);F=Object.assign(Object.assign(Object.assign({},p),w),z);K=Object.assign(Object.assign(Object.assign({},p),u),z);O=Object.assign(Object.assign(Object.assign({},p),y),z);p=Object.assign(Object.assign(Object.assign({},p),x),z);z=Object.assign(Object.assign(Object.assign({},q),w),B);L=Object.assign(Object.assign(Object.assign({},q),u),B);I=Object.assign(Object.assign(Object.assign({},q),y),B);q=Object.assign(Object.assign(Object.assign({},q),x),B);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),u);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);B={};return (B[h.I.qH]=t,B[h.I.rH]=t,B[h.I.q4]=t,B[h.I.QMa]=t,B[h.I.RMa]=t,B[h.I.SMa]=t,B[h.I.OMa]=v,B[h.I.k4]=v,B[h.I.m4]=v,B[h.I.o4]=v,B[h.I.PMa]=v,B[h.I.l4]=v,B[h.I.n4]=v,B[h.I.p4]=v,B[h.I.sma]=A,B[h.I.n6]=A,B[h.I.o6]=A,B[h.I.aV]=A,B[h.I.Ija]=C,B[h.I.Jja]=C,B[h.I.Kja]=C,B[h.I.Lja]=D,B[h.I.M4]=C,B[h.I.P4]=C,B[h.I.S4]=C,B[h.I.V4]=D,B[h.I.$T]=E,B[h.I.aU]=G,B[h.I.N4]=C,B[h.I.Q4]=C,B[h.I.T4]=C,B[h.I.W4]=D,B[h.I.Y4]=E,B[h.I.a5]=G,B[h.I.L4]=C,B[h.I.O4]=C,B[h.I.R4]=C,B[h.I.U4]=D,B[h.I.X4]=E,B[h.I.Z4]=G,B[h.I.t4]=F,B[h.I.w4]=F,B[h.I.ZT]=F,B[h.I.B4]=K,B[h.I.E4]=O,B[h.I.H4]=p,B[h.I.u4]=F,B[h.I.x4]=F,B[h.I.z4]=F,B[h.I.C4]=K,B[h.I.F4]=O,B[h.I.I4]=p,B[h.I.s4]=F,B[h.I.v4]=F,B[h.I.y4]=F,B[h.I.A4]=K,B[h.I.D4]=O,B[h.I.G4]=p,B[h.I.K3]=z,B[h.I.M3]=z,B[h.I.ST]=z,B[h.I.P3]=L,B[h.I.R3]=I,B[h.I.T3]=q,B[h.I.ija]=z,B[h.I.jja]=L,B[h.I.kja]=I,B[h.I.lja]=q,B[h.I.L3]=z,B[h.I.N3]=z,B[h.I.O3]=z,B[h.I.Q3]=L,B[h.I.S3]=I,B[h.I.U3]=q,B[h.I.MHa]=w,B[h.I.NHa]=w,B[h.I.pD]=w,B[h.I.qD]=w,B[h.I.uT]=w,B[h.I.vT]=u,B[h.I.r3]=y,B[h.I.s3]=x,B);};d.prototype.H3b=function(p,q){return p.video && this.config().lbc?q.supported && q.powerEfficient:q.supported;};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.CM)),r.__param(1,(0,l.l)(c.XM)),r.__param(2,(0,l.l)(n.hb)),r.__param(3,(0,l.l)(f.eA))],a);b.jQa=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(1);d=a(497);l=a(202);h=a(498);n=a(1223);c=a(288);f=a(1224);g=a(1227);k=a(1228);m=a(84);p=a(499);q=a(1230);b.storage=new r.Kd(function(v){v(l.bRa).Te(function(){return function(){return mb.localStorage;};});v(l.MNa).Te(function(){return function(){return mb.indexedDB;};});v(p.LQa).to(q.KQa).la();v(m.Nz).to(k.wIa).la();v(h.lPa).to(n.kPa).la();v(d.i5).to(g.nOa).la();v(c.pOa).to(f.oOa).la();v(c.LNa).to(f.KNa).la();v(c.rOa).to(f.qOa).la();});},function(r,b,a){var l,h,n;function d(c){this.lG=c;}Object.defineProperty(b,"__esModule",{value:!0});b.kPa=void 0;r=a(0);l=a(1);h=a(4);a=a(202);d.prototype.load=function(c){var f;f=this;return new Promise(function(g,k){var m,p;try{m=f.lG.getItem(c);if(m){p=m;if("{" === m[0])try{p=JSON.parse(m) || m;}catch(q){}g({key:c,value:p});}else k({Da:h.Y.rA});}catch(q){k({Da:h.Y.ZUa,cause:q});}});};d.prototype.save=function(c,f,g){var k;k=this;return new Promise(function(m,p){if(g && k.lG.getItem(c))m(!1);else try{"string" === typeof f?k.lG.setItem(c,f):k.lG.setItem(c,JSON.stringify(f));m(!0);}catch(q){p({Da:h.Y.$Ua,cause:q});}});};d.prototype.remove=function(c){var f;f=this;return new Promise(function(g,k){try{f.lG.removeItem(c);g();}catch(m){k({Da:h.Y.Xla,cause:m});}});};d.prototype.loadAll=function(){return Promise.reject("Not supported");};d.prototype.removeAll=function(){return Promise.reject("Not supported");};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.zxb))],n);b.kPa=n;},function(r,b,a){var n,c,f,g,k,m,p,q,v,t,w,u;function d(y,x,z,B,A,C){this.config=x;this.GX=z;this.kn=B;this.Nmc=A;this.vm=C;this.ta=y.eb(m.SVa);}function l(y,x){this.config=y;this.US=x;}function h(y,x,z,B,A){this.config=x;this.US=z;this.vm=A;this.ta=y.eb(m.SVa);this.GX=new Promise(function(C,D){var E;try{E=B();E?C(E):D({Da:k.Y.ONa});}catch(G){D({Da:k.Y.h5,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.qOa=b.oOa=b.KNa=void 0;r=a(0);n=a(1);c=a(7);f=a(1225);g=a(202);k=a(4);m=a(1226);p=a(497);q=a(63);v=a(84);t=a(86);w=a(288);u=a(56);h.prototype.create=function(){this.Csa || (this.Csa=this.$O());return this.Csa;};h.prototype.Mt=function(y){var x;x=this;this.Csa=null;return this.US.Ks(this.config.timeout,new Promise(function(z,B){y.close();x.delete(y.name).then(function(){z();}).catch(function(A){B(A);});})).catch(function(z){return z instanceof q.$s?Promise.reject({Da:k.Y.h5}):z.Da?Promise.reject(z):Promise.reject({Da:k.Y.h5,cause:z});});};h.prototype.delete=function(y){var x;x=this;return this.US.Ks(this.config.timeout,new Promise(function(z,B){x.GX.then(function(A){var C;C=A.deleteDatabase(y);C.onsuccess=function(){z();};C.onerror=function(){B({Da:k.Y.h5,cause:C.error});};}).catch(function(A){B(A);});}));};h.prototype.$O=function(){var y,x;y=this;return this.US.Ks(this.config.timeout,new Promise(function(z,B){if(y.config.wFa)return B({Da:y.config.wFa});y.GX.then(function(A){y.vm.mark(u.Rk.Uvb);x=A.open(y.config.name,y.config.version);if(!x)return B({Da:k.Y.PNa});x.onblocked=function(){y.vm.mark(u.Rk.Rvb);B({Da:k.Y.Nvb});};x.onupgradeneeded=function(){var C;y.vm.mark(u.Rk.awb);C=x.result;try{C.createObjectStore(y.config.g0,{keyPath:"name"});}catch(D){y.ta.error("Exception while creating object store",D);}};x.onsuccess=function(C){var D,E;y.vm.mark(u.Rk.$vb);try{D=C.target.result;E=D.objectStoreNames.length;y.ta.trace("objectstorenames length ",E);if(0 === E){y.ta.error("invalid indexedDb state, deleting");y.vm.mark(u.Rk.Tvb);try{D.close();}catch(G){}A.deleteDatabase(y.config.name);setTimeout(function(){B({Da:k.Y.Mvb});},1);return;}}catch(G){y.ta.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.vm.mark(u.Rk.Svb);y.ta.error("IndexedDB open error",x.error);B({Da:k.Y.Ovb,cause:x.error});};}).catch(function(A){B(A);});})).catch(function(z){if(z instanceof q.$s){try{x && x.readyState && y.vm.mark("readyState-" + x.readyState);}catch(B){}if(y.config.K8 && x && "done" === x.readyState){if(y.Hmc(x))return (y.vm.mark(u.Rk.Yvb),Promise.resolve(x.result));y.vm.mark(u.Rk.Xvb);}y.vm.mark(u.Rk.Wvb);return Promise.reject({Da:k.Y.Qvb});}if(z.Da)return Promise.reject(z);y.vm.mark(u.Rk.Vvb);y.ta.error("IndexedDB open exception occurred",z);return Promise.reject({Da:k.Y.Pvb,cause:z});});};h.prototype.Hmc=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.vm.mark(u.Rk.Zvb);this.ta.error("failed to check open request state",x);}return !1;};a=h;a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(c.hb)),r.__param(1,(0,n.l)(p.i5)),r.__param(2,(0,n.l)(q.LD)),r.__param(3,(0,n.l)(g.MNa)),r.__param(4,(0,n.l)(t.kN))],a);b.KNa=a;l.prototype.create=function(y){return Promise.resolve(new f.mOa(this.config,this.US,y));};a=l;a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(p.i5)),r.__param(1,(0,n.l)(q.LD))],a);b.oOa=a;d.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.BX || (this.BX=this.$O(this.Nmc));return this.BX;};d.prototype.$O=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,B){x.vm.mark(u.Rk.wzb);x.GX.create().then(function(A){x.kn.create(A).then(function(C){Promise.all(y.map(function(D){return D.validate(C);})).then(function(){x.storage=C;z(x.storage);}).catch(function(D){x.ta.debug("DB validation failed, cause: " + D);x.config.Z7a?(x.ta.debug("Fixing corrupt DB"),x.GX.Mt(A).then(function(){x.ta.error("Invalid database deleted, creating new database.");x.$O().then(function(E){x.ta.error("Invalid database successfully recreated.");x.storage=E;z(x.storage);});}).catch(function(E){x.ta.error("Couldn't delete invalid database.");B(E);})):(x.ta.debug("Ignoring invalid DB due to config"),x.storage=C,z(x.storage));});}).catch(function(C){B(C);});}).catch(function(A){B(A);});});};a=d;a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(c.hb)),r.__param(1,(0,n.l)(p.i5)),r.__param(2,(0,n.l)(w.LNa)),r.__param(3,(0,n.l)(w.pOa)),r.__param(4,(0,n.optional)()),r.__param(4,(0,n.TK)(v.Gzb)),r.__param(5,(0,n.l)(t.kN))],a);b.qOa=a;},function(r,b,a){var h,n,c;function d(f,g,k){this.config=f;this.Zq=g;this.lG=k;}function l(f,g){this.reason=f;this.cause=g;}Object.defineProperty(b,"__esModule",{value:!0});b.mOa=b.AUa=void 0;h=a(4);n=a(63);(function(f){f[f.Qka=0]="NoData";f[f.Error=1]="Error";f[f.jN=2]="Timeout";})(c=b.AUa || (b.AUa={}));d.prototype.load=function(f){var g;g=this;return new Promise(function(k,m){g.R$("get",!1,f).then(function(p){k({key:f,value:p});}).catch(function(p){var q;q=h.Y.ZUa;switch(p.reason){case c.Qka:q=h.Y.rA;break;case c.jN:q=h.Y.xzb;}m({Da:q,cause:p.cause});});});};d.prototype.save=function(f,g,k){var m;m=this;return new Promise(function(p,q){m.R$(k?"add":"put",!0,{name:f,data:g}).then(function(){p(!k);}).catch(function(v){var t;t=h.Y.$Ua;switch(v.reason){case c.jN:t=h.Y.Azb;}q({Da:t,cause:v.cause});});});};d.prototype.remove=function(f){var g;g=this;return new Promise(function(k,m){g.R$("delete",!0,f).then(function(){k();}).catch(function(p){var q;q=h.Y.Xla;switch(p.reason){case c.jN:q=h.Y.YUa;}m({Da:q,cause:p.cause});});});};d.prototype.removeAll=function(){var f;f=this;return new Promise(function(g,k){f.R$("clear",!0,"").then(function(){g();}).catch(function(m){var p;p=h.Y.Xla;switch(m.reason){case c.jN:p=h.Y.YUa;}k({Da:p,cause:m.cause});});});};d.prototype.loadAll=function(){var f;f=this;return this.Zq.Ks(this.config.timeout,new Promise(function(g,k){var m,p,q;if(f.config.vFa)k(new l(f.config.vFa));else {m=[];p=f.lG.transaction(f.config.g0,"readonly");q=p.objectStore(f.config.g0).openCursor();p.onerror=function(){k(new l(c.Error,q.error));};q.onsuccess=function(v){if(v=v.target.result)try{m.push({key:v.value.name,value:v.value.data});v.continue();}catch(t){k(new l(c.Error,t));}else g(m);};q.onerror=function(){k(new l(c.Error,q.error));};}})).catch(function(g){return g instanceof n.$s?Promise.reject(new l(c.jN,g)):g instanceof l?Promise.reject(g):Promise.reject(new l(c.Error,g));});};d.prototype.R$=function(f,g,k){var m;m=this;return this.Zq.Ks(this.config.timeout,new Promise(function(p,q){var v,t;v=m.lG.transaction(m.config.g0,g?"readwrite":"readonly");t=v.objectStore(m.config.g0)[f](k);v.onerror=function(){q(new l(c.Error,t.error));};t.onsuccess=function(w){var u;if("get" == f)try{u=w.target.result;u?p(u.data):q(new l(c.Qka));}catch(y){q(new l(c.Qka,y));}else p(void 0);};t.onerror=function(){q(new l(c.Error,t.error));};})).catch(function(p){return p instanceof n.$s?Promise.reject(new l(c.jN,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(c.Error,p));});};b.mOa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SVa="Storage";},function(r,b,a){var l,h,n,c,f;function d(g,k){g=n.Lf.call(this,g,"IndexedDBConfigImpl") || this;g.config=k;g.version=1;g.g0="namedatapairs";return g;}Object.defineProperty(b,"__esModule",{value:!0});b.nOa=void 0;r=a(0);l=a(1);h=a(46);n=a(47);c=a(39);a=a(33);la(d,n.Lf);Va.Object.defineProperties(d.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.JB?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Lnb;}},K8:{configurable:!0,enumerable:!0,get:function(){return this.config.K8;}},wFa:{configurable:!0,enumerable:!0,get:function(){return 0;}},vFa:{configurable:!0,enumerable:!0,get:function(){return 0;}},Z7a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=d;r.__decorate([h.config(h.hD,"simulateIdbOpenError")],f.prototype,"wFa",null);r.__decorate([h.config(h.hD,"simulateIdbLoadAllError")],f.prototype,"vFa",null);r.__decorate([h.config(h.vd,"fixInvalidDatabase")],f.prototype,"Z7a",null);f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.yn)),r.__param(1,(0,l.l)(c.Qp))],f);b.nOa=f;},function(r,b,a){var h,n,c,f,g,k,m;function d(p,q,v,t){this.ta=p;this.config=q;this.z1b=v;this.pAa=t;this.jJ={mem:{storage:this.pAa,key:"mem"}};this.PG=this.config.PG;}function l(p,q,v,t){this.zg=p;this.kn=q;this.pAa=v;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.lia=b.wIa=void 0;r=a(0);h=a(1);n=a(4);c=a(288);f=a(7);g=a(499);k=a(1229);a=a(39);l.prototype.create=function(){this.BX || (this.BX=this.$O());return this.BX;};l.prototype.$O=function(){this.WHb=new d(this.zg.eb("AppStorage"),this.config,this.kn,this.pAa);return this.WHb.create();};m=l;m=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(f.hb)),r.__param(1,(0,h.l)(c.rOa)),r.__param(2,(0,h.l)(g.LQa)),r.__param(3,(0,h.l)(a.Qp))],m);b.wIa=m;d.prototype.create=function(){var p;p=this;return this.gPb().then(function(q){if(!p.RKb(q,p.config.DZ))throw p.s8b(q);return p;});};d.prototype.load=function(p){var q;q=this;return new Promise(function(v,t){q.QY(p).storage.load(p).then(function(w){v(w);}).catch(function(w){t(w);});});};d.prototype.save=function(p,q,v){var t;t=this;return new Promise(function(w,u){t.QY(p).storage.save(p,q,v).then(function(y){w(y);}).catch(function(y){u(y);});});};d.prototype.remove=function(p){var q;q=this;return new Promise(function(v,t){q.QY(p).storage.remove(p).then(function(){v();}).catch(function(w){t(w);});});};d.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,v){p.rkb("mem").then(function(){return p.rkb("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.ta.error("remove all failed");v(t);});});};d.prototype.loadAll=function(){var p,q;p=this;q=[];return this.Xdb("mem").then(function(v){q=q.concat(v);return p.Xdb("idb");}).catch(function(v){p.E3b(v) || p.ta.error("IndexedDb.LoadAll exception",v);return [];}).then(function(v){return q=q.concat(v);}).catch(function(v){p.ta.error("load all failed",v);throw v;});};d.prototype.gPb=function(){var p;p=this;return this.z1b.create().then(function(q){p.jJ.idb={storage:q,key:"idb"};}).catch(function(q){p.ta.error("idb failed to load",q);return q || ({Da:n.Y.Ko});});};d.prototype.RKb=function(p,q){return !p || p && q?!0:!1;};d.prototype.s8b=function(p){var q;q="";p && (q+=p.Da);return {Da:q};};d.prototype.rkb=function(p){return (p=this.jJ[p])?p.storage.removeAll():Promise.resolve();};d.prototype.Xdb=function(p){return (p=this.jJ[p])?p.storage.loadAll():Promise.resolve([]);};d.prototype.nVb=function(p){for(var q in this.PG){if(p.startsWith(q))return this.PG[q];}return this.PG[k.Ytb];};d.prototype.QY=function(p){var q,v;q=this;this.nVb(p).every(function(t){return q.jJ[t]?(v=q.jJ[t],!1):!0;});if(!v){this.ta.error("component not found for storageKey",{Lic:p,Otc:Object.keys(this.jJ),rules:this.PG});v=this.jJ.mem;}this.ta.trace("component found for key",{storageKey:p,componentKey:v.key});return v;};d.prototype.E3b=function(p){return (p && (p.Da || p.errorSubCode)) === n.Y.rA;};b.lia=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ytb="__default_rule_key__";},function(r,b,a){var l,h,n;function d(c){this.zg=c;this.UK={};this.ta=this.zg.eb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.KQa=void 0;r=a(0);l=a(1);h=a(4);a=a(7);d.prototype.load=function(c){var f;if(this.UK.hasOwnProperty(c)){f=this.UK[c];this.ta.debug("Storage entry loaded",{key:c});return Promise.resolve({key:c,value:f});}this.ta.debug("Storage entry not found",{key:c});return Promise.reject({Da:h.Y.rA});};d.prototype.save=function(c,f,g){if(g && this.UK.hasOwnProperty(c))return Promise.resolve(!1);this.UK[c]=f;return Promise.resolve(!0);};d.prototype.remove=function(c){delete this.UK[c];return Promise.resolve();};d.prototype.loadAll=function(){var c;c=Object.entries(this.UK).map(function(f){var g;g=oa(f);f=g.next().value;g=g.next().value;return {key:f,value:g};});return Promise.resolve(c);};d.prototype.removeAll=function(){this.UK={};return Promise.resolve();};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.hb))],n);b.KQa=n;},function(r,b,a){var d,l,h,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.JO=void 0;r=a(1);d=a(500);l=a(501);h=a(502);n=a(1232);c=a(1233);f=a(1234);b.JO=new r.Kd(function(g){g(d.rJa).to(n.qJa).la();g(l.pJa).to(c.mJa).la();g(h.oJa).to(f.nJa).la();});},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p,q){this.k9=m;this.Hb=p;this.EJb=q;this.ta=k.eb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.qJa=void 0;r=a(0);l=a(1);h=a(501);n=a(502);c=a(7);f=a(25);g=a(5);d.prototype.DHb=function(k){var m,p;m=k.jb.playbackState && k.jb.playbackState.currentTime;p=this.wXb(k.L);m=this.Hb.tJ(m)?(0,g.Vb)(m):p;p=0;this.Hb.Ch(m)?(this.ta.info("Overriding bookmark",{From:k.jD.ia(g.va),To:m.ia(g.va)}),m=Object.assign({},k,{jD:m})):m=k;k.Md.qa && (k=k.Md.Mva(k.jD.ia(g.va)),m=Object.assign({},m,{jD:(0,g.Vb)(k.Nn),nG:(0,g.Vb)(k.nG)}),p=k.p5a);return m.jD.jya()?(this.ta.trace("Ignoring bookmark because it's negative"),(0,g.Vb)(p)):this.D1b(m)?(this.ta.trace("Ignoring bookmark because it's too close to beginning"),(0,g.Vb)(p)):this.C1b(m)?(this.ta.trace("Ignoring bookmark because it's too close to end"),(0,g.Vb)(p)):this.B1b(m)?(this.ta.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,g.Vb)(p)):m.jD;};d.prototype.D1b=function(k){return 0 > k.jD.Mm(this.Bva(k));};d.prototype.Bva=function(k){return this.R1a(this.k9.Bva(),k.nG);};d.prototype.C1b=function(k){return 0 < k.jD.Mm(this.Cva(k));};d.prototype.Cva=function(k){var m;m=k.jb.Gh?this.k9.pYb():this.k9.Cva();return k.nG.Fa(this.R1a(m,k.nG));};d.prototype.B1b=function(k){return 0 < k.jD.Mm(this.WXb(k));};d.prototype.WXb=function(k){return k.nG.Fa((0,g.Vb)(k.iG));};d.prototype.wXb=function(k){var m;k=this.k9.hva()[k];m=-1;this.Hb.Mr(k)?m=parseInt(k):this.Hb.Rl(k) && (m=k);if(this.Hb.JW(m))return (0,g.Vb)(m);};d.prototype.R1a=function(k,m){return this.EJb.Yic(k,m);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(c.hb)),r.__param(1,(0,l.l)(h.pJa)),r.__param(2,(0,l.l)(f.ah)),r.__param(3,(0,l.l)(n.oJa))],a);b.qJa=a;},function(r,b,a){var l,h;function d(n){this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.mJa=void 0;r=a(0);l=a(1);a=a(12);d.prototype.Bva=function(){return this.VJ().FJb;};d.prototype.Cva=function(){return this.VJ().GJb;};d.prototype.pYb=function(){return this.VJ().HJb;};d.prototype.hva=function(){return this.VJ().Q1a;};d.prototype.VJ=function(){return this.config();};h=d;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.uc))],h);b.mJa=h;},function(r,b,a){var l,h,n;function d(c){this.Hb=c;}Object.defineProperty(b,"__esModule",{value:!0});b.nJa=void 0;r=a(0);l=a(1);h=a(25);n=a(5);d.prototype.Yic=function(c,f){var g,k;g=parseFloat(c);k=0;"%" === c[c.length - 1] && this.Hb.Rl(g)?k=Math.round(g * f.ia(n.va) / 100):(c=parseInt(c),this.Hb.JW(c) && (k=c));return (0,n.Vb)(Math.min(k,f.ia(n.va)));};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.ah))],a);b.nJa=a;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.n2a=void 0;r=a(1);d=a(503);l=a(1236);b.n2a=new r.Kd(function(h){h(d.JJa).to(l.IJa).la();});},function(r,b,a){var l,h,n,c,f,g,k,m,p;function d(q,v,t,w,u,y){this.config=q;this.eG=t;this.profile=w;this.iha=u;this.jX=y;this.log=v.eb("CDMAttestedDescriptor");this.b9a(m.vx.NU);}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;r=a(0);l=a(1);h=a(12);n=a(7);c=a(165);f=a(289);g=a(81);k=a(174);m=a(39);p=a(57);d.prototype.b9a=function(q){var v;v=this;return this.iha.tga(q)?this.config().SSb?this.$8a().then(function(t){if(t)return (!1,Promise.resolve(void 0));v.Ndb || (!1,v.Ndb=v.jX.nwa(p.dj.Rp));return v.Ndb;}).catch(function(t){v.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.oc.close();return null === t || void 0 === t?void 0:t.hra;}).then(function(t){return Promise.all([Promise.resolve(t),v.$8a()]);}).then(function(t){var w;t=oa(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.eG().then(function(t){t.Y_.removeServiceToken("cad");}):Promise.resolve(void 0);};d.prototype.$8a=function(){var q;q=this;return this.eG().then(function(v){return (v=v.Y_.getServiceTokens(q.profile)) && v.find(function(t){return "cad" === t.name;});});};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.uc)),r.__param(1,(0,l.l)(n.hb)),r.__param(2,(0,l.l)(c.CU)),r.__param(3,(0,l.l)(g.dN)),r.__param(4,(0,l.l)(f.k6)),r.__param(5,(0,l.l)(k.F3))],a);b.IJa=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Geb=void 0;r=a(1);d=a(242);l=a(1238);h=a(504);n=a(1245);c=a(508);f=a(510);g=a(1246);k=a(138);m=a(1247);p=a(512);q=a(1248);b.Geb=new r.Kd(function(v){v(h.aQa).to(n.$Pa).la();v(d.Dka).to(l.bQa).la();v(c.HTa).pn(function(t){for(var w=[],u=0;u < arguments.length;++u){w[u - 0]=arguments[u];}u=a(291).TH;return new (Function.prototype.bind.apply(u,[null].concat(ia(w))))();});v(f.eQa).Te(function(){return function(t){return new g.fQa(t);};});v(k.SM).to(m.YPa).la();v(p.XPa).to(q.WPa).la();});},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y){this.zg=t;this.config=w;this.sCa=u;this.DGa=y;}Object.defineProperty(b,"__esModule",{value:!0});b.bQa=void 0;r=a(0);l=a(1);h=a(7);n=a(504);c=a(1239);f=a(1240);g=a(1241);k=a(1242);m=a(1243);p=a(1244);q=a(508);a=a(509);d.prototype.create=function(t){var w,u;w=this.zg.eb("ManifestParser",t);u=new c.fKa(w,this.config);return new g.cQa(u,new f.iWa(w,this.config,t,this.sCa),new k.CWa(w,t,this.DGa),new m.aJa(w,this.config,t),new p.gXa(w));};v=d;v=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(n.aQa)),r.__param(2,(0,l.l)(q.HTa)),r.__param(3,(0,l.l)(a.AWa))],v);b.bQa=v;},function(r,b,a){var l,h;function d(n,c){this.log=n;this.config=c;}Object.defineProperty(b,"__esModule",{value:!0});b.fKa=void 0;l=a(82);h=a(290);d.prototype.Zhb=function(n,c){var f,g,k,m;f=this;g=this.config.dra;k=this.config.cra;n=oa((0,l.Hw)(function(p){return (!g.length || 0 <= g.indexOf(p.id)) && 0 > k.indexOf(p.id);},n || []));m=n.next().value;n.next().value.forEach(function(p){return f.log.warn("Cdn is not allowed",{Id:p.id});});n=m.map(function(p){var q;q=(c?c.find(function(v){return v.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,wc:p.wc,type:p.type,eeb:p.key,o3b:p.teb,location:{id:q.key,wc:q.wc,level:q.level,weight:q.weight}};});n.sort(function(p,q){return p.wc - q.wc;});this.log.trace("Transformed cdns",{Count:n.length});if(!n.length)throw Error("no valid cdns");return n;};d.prototype.v1b=function(n,c,f,g){var k;k=n.filter(function(m){return -1 === f.findIndex(function(p){return p.id === m.id;});}).map(function(m){return {yhb:!0,ec:m};}).concat(f.map(function(m){return {yhb:!1,ec:m};})).sort(function(m,p){return m.ec.wc === p.ec.wc?m.yhb?-1:1:m.ec.wc - p.ec.wc;}).map(function(m,p){(0,h.QQ)(m.ec).wc=p + 1;return m.ec;});n=c.filter(function(m){return -1 === g.findIndex(function(p){return p.key === m.key;});}).concat(g).map(function(m){var p;p=k.findIndex(function(q){return q.key === m.key;});if(-1 !== p)return (p=k[p],(0,h.QQ)(m).wc=p.wc,m);}).filter(function(m){return void 0 !== m;});return {mgc:k,z5b:n};};b.fKa=d;},function(r,b,a){var l,h,n,c;function d(f,g,k,m){this.log=f;this.config=g;this.j=k;this.sCa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.iWa=void 0;l=a(42);h=a(14);n=a(130);c=a(505);d.prototype.bib=function(f,g){var k;k=this;g=g.map(function(m){var p,q,v,t;v=k.Jkc(m);m.LF || !m.Sh || v && 0 < v.length || k.log.error("track without downloadables",k.KYb(m));t={};0 < v.length && (t=m.language && 0 <= k.config.oQ.indexOf(m.language)?v[1] && v[1].profile === l.xn.NNa?v[1]:v[0]:v[0],t.profile == l.xn.VM && (t=k.Yfc(v),!1));m=k.sCa(k.j,m.Bg,m.id,null !== (p=m.wc) && void 0 !== p?p:-1,null !== (q=m.Sh) && void 0 !== q?q:!0,f,t.Wb,t.urls || [],m.language,m.QF,n.i6[m.aj.toLowerCase()] || n.wr.aN,m.VL,m.variant,m.zG.toUpperCase(),t.profile,k.TYb(t) || ({}),m.LF,m.jca,m.mca,m.lw);k.log.trace("Transformed timed text track",m);return m;});this.log.trace("Transformed timed text tracks",{Count:g.length});return g;};d.prototype.mkc=function(f){var g,k;g=this;k=this.config.Oua;if(k){if(f=oa(f.filter(function(m){return m.Sf == k || m.trackId == k;})).next().value)return f;}else if(this.j.maa && (f=oa(f.filter(function(m){return m.trackId == g.j.maa;})).next().value))return f;};d.prototype.Jkc=function(f){var g,k;g=this;k=f.h6a;f=Object.entries(f.KGa || ({})).map(function(m){var p;p=oa(m);m=p.next().value;p=p.next().value;return {Wb:k[m],profile:m,size:p.size || 0,priority:g.QXb(m,p),offset:p.vAa || 0,wac:p.width,qib:p.height,urls:p.urls};});f.sort(function(m,p){return m.priority - p.priority;});return f;};d.prototype.QXb=function(f,g){var k,m;k=this.config.ax.indexOf(f);g=g.size;m=this.config.RS;return f === l.xn.bja && 0 < m && g > m?this.config.ax.length + 1:0 <= k?k:this.config.ax.length;};d.prototype.TYb=function(f){if(f.profile === l.xn.VM)return {offset:f.offset,length:f.size,om:{width:f.wac,height:f.qib}};};d.prototype.Yfc=function(f){var g,k;g=this.config.rxa || c.jma.I$a();k=oa(f.filter(function(m){return m.profile === l.xn.VM;}).filter(function(m){return m.qib === g;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.xx.height,intendedResolution:g});return f[0];};d.prototype.KYb=function(f){return {isNone:f.LF,isForced:f.jca,bcp47:f.language,id:f.Bg};};b.iWa=d;},function(r,b,a){var l;function d(h,n,c,f,g){this.fra=h;this.lGa=n;this.Tkc=c;this.VW=f;this.Vqb=g;}Object.defineProperty(b,"__esModule",{value:!0});b.cQa=void 0;l=a(290);d.prototype.$hb=function(h){var n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A;f=h.Ra;g={sg:null !== (c=null === (n=f.JE) || void 0 === n?void 0:n.Fp) && void 0 !== c?c:"",mG:f.Uxa?"ads":"content"};k=!!f.d1;n=this.fra.Zhb(f.rm,f.Pj);c=this.lGa.bib(g,f.TS);h=this.Tkc.Z$b(f.Wkc);m=k?this.VW.Yhb(g,f.Gv,c):this.VW.S$b(g,f.Gv,f.media,c);g=this.Vqb.$$b(g,f.gx);p=g[0];q=this.VW.YIb(m) || m.find(function(C){return k?C.trackId === f.d1.rq:C.qK === f.k$[0].rq;}) || m[0];v=this.lGa.mkc(q.Bi) || c.find(function(C){return k?C.trackId === f.d1.SS:C.qK === f.k$[0].cob;}) || q.Bi[0];t=this.Vqb.V$b(f.gx);w=f.Wg;u=f.bMb;y=f.zF;x=f.Om;z=f.Gv.findIndex(function(C){return C.Bg == q.trackId;});B=f.gx.findIndex(function(C){return C.Bg == p.trackId;});A=f.TS.findIndex(function(C){return C.Bg == v.trackId;});return {Qw:t,zh:n,Hj:m,Hz:g,Bi:c,gD:h,Wg:w,qgc:u,xK:y,Om:x,EQb:z,MQb:B,LQb:A,l$:p,KX:q,MX:v};};d.prototype.w1b=function(h,n,c){var f,g,k,m,p,q;f=this;m=this.fra.v1b(h.Ra.rm,h.Ra.Pj,c.Ra.rm,c.Ra.Pj);p=m.mgc;m=m.z5b;(0,l.QQ)(h.Ra).rm=p;(0,l.QQ)(h.Ra).Pj=m;n.zh=this.fra.Zhb(p,m);q={sg:null !== (k=null === (g=c.Ra.JE) || void 0 === g?void 0:g.Fp) && void 0 !== k?k:"",mG:c.Ra.Uxa?"ads":"content"};c=c.Ra;g=c.Gv;c.TS.forEach(function(v){var t;if(v.Sh){t=f.Jkb(h.Ra.TS,n.Bi,v,function(w){return f.lGa.bib(q,[w])[0];});t && n.Hj.forEach(function(w){var u;w=w.Bi;u=w.findIndex(function(y){return y.trackId === t.trackId;});-1 !== u && (w[u]=t);});}});g.forEach(function(v){v.Sh && f.Jkb(h.Ra.Gv,n.Hj,v,function(t){return f.VW.Yhb(q,[t],n.Bi)[0];});});return {ba:h,Sc:n};};d.prototype.yfc=function(h,n){return this.VW.ZUb(h,n);};d.prototype.Jkb=function(h,n,c,f){var g,k,m,p;g=h.findIndex(function(q){return q.Bg === c.Bg;});k=-1 !== g?h[g]:void 0;m=n.findIndex(function(q){return q.trackId === c.Bg;});p=-1 !== m?n[m]:void 0;if(k && !k.Sh && p && !p.Sh)return (f=f(c),h[g]=c,n[m]=f);};b.cQa=d;},function(r,b){function a(d,l,h){this.log=d;this.j=l;this.DGa=h;}Object.defineProperty(b,"__esModule",{value:!0});b.CWa=void 0;a.prototype.Z$b=function(d){var l;l=this;d=(d || []).filter(function(h){return h.urls && 0 < h.urls.length;}).map(function(h){return l.DGa(l.j,h.id,h.height,h.width,h.zac,h.Aac,h.size,h.lw,{unknown:h.urls[0]});});0 === d.length && this.log.warn("There are no trickplay tracks");d.sort(function(h,n){return h.size - n.size;});this.log.trace("Transformed trick play tracks",{Count:d.length});return d;};b.CWa=a;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q){m=h.yU.call(this,m) || this;m.config=p;m.j=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.aJa=void 0;l=a(490);h=a(506);n=a(82);c=a(95);f=a(130);g=a(4);k=a(36);la(d,h.yU);d.prototype.Yhb=function(m,p,q){var v,t;v=this;t=this.config.Sga;p=p.filter(function(w){var u,y;u=w.LF || !w.Sh || w.streams && 0 < w.streams.length;u || v.log.warn("Audio track is missing streams",v.hba(w));y=0 === t.length || 0 <= t.indexOf(w.aj);y || v.log.warn("Audio track is not supported",v.hba(w));return u && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return v.Xhb(m,w,v.SWb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};d.prototype.S$b=function(m,p,q,v){var t,w,u,y;t=this;w=oa((0,n.Hw)(function(x){return x.LF;},p));p=w.next().value;w=w.next().value;w=oa((0,n.Hw)(function(x){return x.streams && 0 < x.streams.length;},w));u=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.hba(x));});y=this.config.Sga;w=oa((0,n.Hw)(function(x){return 0 === y.length || 0 <= y.indexOf(x.aj);},u));u=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.hba(x));});p=[].concat(ia(u),ia(p)).map(function(x){return t.Xhb(m,x,t.DYb(x.Bg,q,v));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};d.prototype.YIb=function(m){var p,q;p=this;q=this.config.Iua;if(q){if(m=oa(m.filter(function(v){return v.Sf == q || v.trackId == q;})).next().value)return m;}else if(this.j.laa && (m=oa(m.filter(function(v){return v.trackId == p.j.laa;})).next().value))return m;};d.prototype.ZUb=function(m,p){this.config.A1a.forEach(function(q){var v,t,w;v=p.Gv.filter(function(u){return u.profile === q;}).reduce(function(u,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){u.add(x);});return u;},new Set());t=!1;w=m.Ra.Gv.map(function(u){var y;if(u.profile === q){y=u.streams.filter(function(x){return v.has(x.bitrate);});if(y.length === u.streams.length)return u;t=!0;if(0 === y.length)throw new k.rd(g.aa.JPa,g.Y.Zrb);return Object.assign(Object.assign({},u),{streams:y});}return u;});t && (m.Ra=Object.assign(Object.assign({},m.Ra),{Gv:w}));});return m;};d.prototype.Xhb=function(m,p,q){var v,t,w,u;u=p.aj;m=Object.assign(Object.assign({},m),{type:c.Aj.audio,VL:p.VL,variant:p.variant,trackId:p.Bg,qK:p.ZS,aj:f.i6[u.toLowerCase()] || f.wr.aN,zG:u,Sf:p.language,displayName:p.QF,wc:null !== (v=p.wc) && void 0 !== v?v:-1,Sh:null !== (t=p.Sh) && void 0 !== t?t:!0,channels:p.channels,luc:p.channels,Bi:q,Ih:{Bcp47:p.language,TrackId:p.Bg},streams:[],isNative:p.isNative,Oq:p.LF,l2:p.l2});m.streams=this.kpb(p.streams,m);this.log.trace("Transformed audio track",m,{StreamCount:m.streams.length,AllowedTimedTextTracks:m.Bi.length});m.lMb=l.bJa[null === (w=m.streams[0]) || void 0 === w?void 0:w.qf];return m;};d.prototype.hba=function(m){return {language:m.QF,bcp47:m.language,type:m.aj};};d.prototype.SWb=function(m,p){return p.filter(function(q){if(0 <= m.MRb.indexOf(q.qK))return !1;if(m.s5a){if(m.s5a !== q.qK && (q.Oq() || q.yp()))return !1;}else if(m.d9b){if(q.Oq() || q.yp())return !1;}else if(q.yp())return !1;return !0;});};d.prototype.DYb=function(m,p,q){return p.filter(function(v){return v.Fe.U === m;}).map(function(v){return v.Fe.nb;}).map(function(v){return q.find(function(t){return t.trackId === v;});}).filter(Boolean);};b.aJa=d;},function(r,b,a){var l,h,n,c;function d(f){return h.yU.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gXa=void 0;l=a(82);h=a(506);n=a(95);c=a(130);la(d,h.yU);d.prototype.$$b=function(f,g){var k,m;k=this;g=oa((0,l.Hw)(function(p){return p.streams && 0 < p.streams.length;},g));m=g.next().value;g.next().value.forEach(function(p){return k.log.warn("Video track is missing streams",{trackId:p.Bg});});g=m.map(function(p){var q;q=p.aj;q=Object.assign(Object.assign({},f),{type:n.Aj.video,trackId:p.Bg,qK:p.ZS,aj:c.i6[q.toLowerCase()] || c.wr.aN,zG:q,streams:[],Ih:{},U0:p.U0});q.streams=k.kpb(p.streams,q);k.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!g.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:g.length});return g;};d.prototype.V$b=function(f){var g;g=f.map(function(k){return k.U0;}).filter(Boolean);g=[].concat.apply([],ia(g)).map(function(k){return k.ha;});f=f.map(function(k){return k.lta;}).filter(Boolean).map(function(k){return k.ha;});return 0 < g.length?g:f;};b.gXa=d;},function(r,b,a){var l,h,n,c,f,g;function d(k,m){k=h.Lf.call(this,k,"ManifestParserConfigImpl") || this;k.Qg=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.$Pa=void 0;r=a(0);l=a(1);h=a(47);n=a(33);c=a(46);f=a(110);g=a(52);la(d,h.Lf);Va.Object.defineProperties(d.prototype,{Sga:{configurable:!0,enumerable:!0,get:function(){return [];}},Iua:{configurable:!0,enumerable:!0,get:function(){return "";}},dra:{configurable:!0,enumerable:!0,get:function(){return [];}},cra:{configurable:!0,enumerable:!0,get:function(){return [];}},Oua:{configurable:!0,enumerable:!0,get:function(){return "";}},rxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},RS:{configurable:!0,enumerable:!0,get:function(){return this.Qg.RS.ia(g.nx);}},ax:{configurable:!0,enumerable:!0,get:function(){return this.Qg.ax;}},oQ:{configurable:!0,enumerable:!0,get:function(){return this.Qg.oQ;}},A1a:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=d;r.__decorate([c.config(c.UL,"supportedAudioTrackTypes")],a.prototype,"Sga",null);r.__decorate([c.config(c.string,"forceAudioTrack")],a.prototype,"Iua",null);r.__decorate([c.config(c.MGa,"cdnIdWhiteList")],a.prototype,"dra",null);r.__decorate([c.config(c.MGa,"cdnIdBlackList")],a.prototype,"cra",null);r.__decorate([c.config(c.string,"forceTimedTextTrack")],a.prototype,"Oua",null);r.__decorate([c.config(c.hD,"imageSubsResolution")],a.prototype,"rxa",null);r.__decorate([c.config(c.hD,"timedTextSimpleFallbackThreshold")],a.prototype,"RS",null);r.__decorate([c.config(c.UL,"timedTextProfiles")],a.prototype,"ax",null);r.__decorate([c.config(c.UL,"imscLanguageList")],a.prototype,"oQ",null);r.__decorate([c.config(c.UL,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"A1a",null);a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.yn)),r.__param(1,(0,l.l)(f.KH))],a);b.$Pa=a;},function(r,b){function a(d){this.Sc=d;this.Tb=JSON.stringify(this.NYb());}Object.defineProperty(b,"__esModule",{value:!0});b.fQa=void 0;a.prototype.NYb=function(){var d;d=[];(!this.Sc.zh || 0 >= this.Sc.zh.length) && d.push({error:"No CDN."});this.Sc.KX || d.push({error:"No default audio track.",foundTracks:this.zva(this.Sc.Hj)});this.Sc.l$ || d.push({error:"No default video track.",foundTracks:this.zva(this.Sc.Hz)});this.Sc.MX || d.push({error:"No default subtitle track.",foundTracks:this.zva(this.Sc.Bi)});return d;};a.prototype.zva=function(d){return d && 0 < d.length?d.map(function(l){return l.trackId;}):"No tracks found.";};b.fQa=a;},function(r,b,a){var l,h,n,c,f;function d(g,k){this.Sdb=g;this.c6b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.YPa=void 0;r=a(0);l=a(1);h=a(511);n=a(512);c=a(36);f=a(4);d.prototype.create=function(g){var k,m,p,q;k=this;if(g && !this.k3b(g)){if(this.r3b(g))throw c.rd.Bnc(f.aa.QM,f.Y.Bzb,g);q=this.Sdb();q.qpa(g.links);this.c6b.BP(g);return {Ra:g,Oj:q,gya:!1,fya:!1,yt:null !== (p=null === (m=g.yt) || void 0 === m?void 0:m.map(function(v){var t;t=k.Sdb();t.qpa(v.links);return {Ra:v,Oj:t,gya:!1,fya:!1,yt:[]};})) && void 0 !== p?p:[]};}};d.prototype.r3b=function(g){return ("type" in g) && "muxed" === g.type;};d.prototype.k3b=function(g){return ("runtime" in g) && !!g.runtime;};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.tSa)),r.__param(1,(0,l.l)(n.XPa))],a);b.YPa=a;},function(r,b,a){var l,h;function d(n){this.LTb=n;this.Deb={ip:"drmType",cvc:"drmVersion",expiration:"expiration",L:"movieId",Ep:"packageId",duration:"duration",Wg:"playbackContextId",k$:["defaultTrackOrderList",{VQ:"mediaId",jT:"videoTrackId",cob:"subtitleTrackId",rq:"audioTrackId",Lxc:"preferenceOrder"}],hvc:["eligibleABTestMap",{Sk:h.Sk}],Rtc:["badgingInfo",{Wuc:"dolbyDigitalAudio",Vvc:"hdrVideo",Xuc:"dolbyVisionVideo",lzc:"ultraHdVideo","3dVideo":"3dVideo",Vuc:"dolbyAtmosAudio",Itc:"assistiveAudio",oyc:"sdVideo",Uvc:"hdVideo"}],type:"type",Mtc:["audioTextShortcuts",{id:"id",rq:"audioTrackId",wob:"textTrackId"}],Exc:"partiallyHydrated",efb:"maxRecommendedAudioRank",ffb:"maxRecommendedTextRank",Om:"drmContextId",v0b:"hasDrmProfile",t0b:"hasClearProfile",zF:"hasDrmStreams",tba:"hasClearStreams",Pj:["locations",{wc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],rm:["servers",{id:"id",name:"name",type:"type",wc:"rank",teb:"lowgrade",VRb:["dns",{host:"host",I2b:"ipv4",J2b:"ipv6",UVb:"forceLookup"}],key:"key"}],Gv:["audio_tracks",{type:"type",VL:"subType",variant:"variant",aj:"trackType",Bg:"new_track_id",ZS:"track_id",ycc:"profileType",Iic:"stereo",profile:"profile",channels:"channels",language:"language",iLb:"channelsFormat",l2:"surroundFormatLabel",QF:"languageDescription",MRb:"disallowedSubtitleTracks",s5a:"defaultTimedText",isNative:"isNative",LF:"isNoneTrack",streams:["streams",{hp:"downloadable_id",size:"size",OE:"content_profile",aj:"trackType",bitrate:"bitrate",Mj:"isDrm",urls:["urls",{Qh:"cdn_id",url:"url",Nca:"liveOcaCapabilities"}],k8b:"new_stream_id",type:"type",channels:"channels",iLb:"channelsFormat",l2:"surroundFormatLabel",language:"language",Ltc:"audioKey",T7b:["moov",{size:"size",offset:"offset"}],sm:["sidx",{size:"size",offset:"offset"}],pic:["ssix",{size:"size",offset:"offset"}],ak:"tags",wec:"representationId"}],lMb:"codecName",zG:"rawTrackType",id:"id",wc:"rank",Sh:"hydrated",d9b:"offTrackDisallowed"}],gx:["video_tracks",{aj:"trackType",Bg:"new_track_id",type:"type",ZS:"track_id",v0b:"hasDrmProfile",t0b:"hasClearProfile",zF:"hasDrmStreams",tba:"hasClearStreams",fK:"groupName",streams:["streams",{hp:"downloadable_id",size:"size",OE:"content_profile",aj:"trackType",AJ:"drmHeaderId",bitrate:"bitrate",Mj:"isDrm",urls:["urls",{Qh:"cdn_id",url:"url",Nca:"liveOcaCapabilities"}],k8b:"new_stream_id",type:"type",Gxc:"peakBitrate",ERb:"dimensionsCount",FRb:"dimensionsLabel",sib:"pix_w",rib:"pix_h",Xkb:"res_w",QDa:"res_h",XPb:"crop_x",YPb:"crop_y",WPb:"crop_w",VPb:"crop_h",v8a:"framerate_value",u8a:"framerate_scale",tnb:"startByteOffset",gb:"vmaf",T7b:["moov",{size:"size",offset:"offset"}],sm:["sidx",{size:"size",offset:"offset"}],pic:["ssix",{size:"size",offset:"offset"}],Ms:["segmentVmaf",{offset:"offset",gb:"vmaf"}],ak:"tags",wec:"representationId"}],ycc:"profileType",Iic:"stereo",profile:"profile",ERb:"dimensionsCount",FRb:"dimensionsLabel",Jyc:["snippets",{Sk:[h.Sk,{Iyc:"snippetSpec",Ba:"startTimeMs",Aa:"endTimeMs"}]}],lta:["drmHeader",{ha:"bytes",GLb:"checksum",AJ:"drmHeaderId",Pq:"keyId",om:["resolution",{height:"height",width:"width"}]}],U0:["prkDrmHeaders",{ha:"bytes",GLb:"checksum",AJ:"drmHeaderId",Pq:"keyId",om:["resolution",{height:"height",width:"width"}]}],Zv:"flavor",ewc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",gCa:"pixelAspectX",hCa:"pixelAspectY",Nwc:"maxCroppedWidth",Mwc:"maxCroppedHeight",Owc:"maxCroppedX",Pwc:"maxCroppedY",hAa:"max_framerate_value",gAa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",dxc:"minCroppedWidth",cxc:"minCroppedHeight",exc:"minCroppedX",fxc:"minCroppedY",oi:["license",{D4b:"licenseResponseBase64",Qxc:"providerSessionToken",syc:"secureStopExpected",bvc:"drmSessionId",links:["links",{}]}]}],JE:["cdnResponseData",{JL:"sessionABTestCell",Fp:"pbcid"}],Yo:["choiceMap",{ke:"initialSegment",type:"type",N:"viewableId",T:["segments",{Sk:[h.Sk,{Ba:"startTimeMs",Aa:"endTimeMs",next:["next",{Sk:[h.Sk,{weight:"weight"}]}],dc:"defaultNext",Dq:"exitZones"}]}]}],cp:["contentPlaygraph",{na:["playgraph",{ke:"initialSegment",T:["segments",{Sk:[h.Sk,{N:"viewableId",Ba:"startTimeMs",Aa:"endTimeMs",next:["next",{Sk:[h.Sk,{weight:"weight"}]}],dc:"defaultNext"}]}]}],Nyc:["startIdent",{fwc:"identToken",N:"viewableId"}]}],media:["media",{id:"id",Fe:["tracks",{U:"AUDIO",nb:"TEXT",J:"VIDEO"}]}],d1:["recommendedMedia",{jT:"videoTrackId",rq:"audioTrackId",SS:"timedTextTrackId"}],TS:["timedtexttracks",{aj:"trackType",Bg:"new_track_id",type:"type",VL:"subType",variant:"variant",zG:"rawTrackType",QF:"languageDescription",language:"language",id:"id",LF:"isNoneTrack",jca:"isForcedNarrative",h6a:["downloadableIds",{}],huc:["cdnlist",{id:"id",name:"name",type:"type",wc:"rank",teb:"lowgrade",VRb:["dns",{host:"host",I2b:"ipv4",J2b:"ipv6",UVb:"forceLookup"}],key:"key"}],KGa:["ttDownloadables",{Sk:[h.Sk,{id:"id",size:"size",Xyc:"textKey",Tvc:"hashValue",Svc:"hashAlgo",owc:"isImage",vAa:"midxOffset",Ifb:"midxSize",height:"height",width:"width",hta:["downloadUrls",{}],urls:["urls",{url:"url",Qh:"cdn_id",Nca:"liveOcaCapabilities"}]}]}],mca:"isLanguageLeftToRight",lw:"headIdentDuration",wc:"rank",Sh:"hydrated"}],Wkc:["trickplays",{hp:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",Aac:"pixelsAspectY",zac:"pixelsAspectX",width:"width",height:"height",lw:"headIdentDuration"}],krb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],avc:"dpsid",Gh:"isBranching",zzc:"viewableType",Uxa:"isAd",BQ:"isSupplemental",bMb:"clientIpAddress",pzc:"urlExpirationDuration",Iwc:"manifestExpirationDuration",Hic:["steeringAdditionalInfo",{Pyc:"steeringId",Dtc:"additionalGroupNames",Wic:["streamingClientConfig",{}]}],Td:"auxiliaryManifestToken",bm:["liveMetadata",{ita:["downloadableIdToSegmentTemplateId",{Sk:h.Sk}],CEa:["segmentTemplateIdToSegmentTemplate",{Sk:[h.Sk,{g9:"availabilityStartTime",o2b:"initialization",media:"media",Qbc:"presentationTimeOffset",DS:"startNumber",duration:"duration",V:"timescale"}]}],c9b:"ocLiveWindowDurationSeconds",N$:"eventAvailabilityOffsetMs",Wta:"eventStartTime",O$:"eventEndTime"}],qh:"streamingType"};this.d6b=Object.assign(Object.assign({},this.Deb),{yt:["auxiliaryManifests",this.Deb],Pr:["adverts",{yf:["adBreaks",{eo:"locationMs",Jm:"adBreakToken",zf:["ads",{id:"id",Ba:"startTimeMs",Aa:"endTimeMs",$ga:["timedAdEvents",{event:"event",dy:"adEventToken",qGa:"timeMs"}],sE:["actionAdEvents",{start:["start",{event:"event",dy:"adEventToken"}],complete:["complete",{event:"event",dy:"adEventToken"}],stop:["stop",{event:"event",dy:"adEventToken"}]}],qw:"is3pVerificationEnabled",NS:"thirdPartyVerificationToken"}],dpa:["actionAdBreakEvents",{complete:["complete",{event:"event",dy:"adEventToken"}]}],c9:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.WPa=void 0;r=a(0);l=a(1);h=a(237);d.prototype.BP=function(n){this.LTb.BP(n,this.d6b);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.iMa))],a);b.WPa=a;},function(r,b,a){var l;function d(h,n,c,f,g){this.q8=this.o0=this.n0=l.iA;this.request=h;this.type=h.responseType;this.Ym=f;this.abort=n;this.timeout=c;this.q8=g;}Object.defineProperty(b,"__esModule",{value:!0});b.INa=void 0;l=a(17);d.prototype.Ngc=function(h){this.n0=h;};d.prototype.Tgc=function(h){this.o0=h;};b.INa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H4a=void 0;b.H4a=function(a,d,l,h){return {KZb:function(){var n;n=a.awa();h.lw && (n+=h.lw);return n;},ta:d,request:l,gg:!1};};},function(r,b,a){var l,h,n,c,f;function d(g){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(g);}Object.defineProperty(b,"__esModule",{value:!0});b.Ozb=void 0;l=a(0);r=a(106);h=a(513);n=a(1255);c=a(1256);f=a(1263);r=(function(g){function k(m,p){var q,v,t,w;t=g.call(this) || this;t.Po=!0;t.FV=[];t.Er=0;t.UZa=!0;w=m.gg || !1;t.Ea=m.ta || console;t.kq=m.request;t.vv=m.KZb;t.b7=null !== (q=m.Pvc) && void 0 !== q?q:function(u,y){return u - (null !== y && void 0 !== y?y:t.vv());};t.Ze=null;t.Po=!0;t.FV=[];t.gO=p.profile;t.Hm=p.url;t.tI=p.Ce;t.fO=p.preferences;t.LN=p.Qg;t.Er=t.tI || 0;t.UZa=null !== (v=p.Txc) && void 0 !== v?v:!0;q={url:t.Hm,request:t.kq,Ce:t.tI,xml:p.xml,preferences:t.fO,Qg:t.LN,ta:t.Ea,gg:w,bufferSize:p.bufferSize,zw:p.zw,efa:p.efa || 0,$1a:p.$1a};if("nflx-cmisc" === t.gO)(q.offset=p.vAa,q.size=p.Ifb,q.aga=p.aga,q.y6a=p.y6a,t.Uc=new c(q));else if(p.qa && d(t.gO))t.Uc=new n.iPa(q);else if(d(t.gO) && "function" === typeof h.Yja)t.Uc=new h.Yja(q);else throw Error("SubtitleManager: " + t.gO + " is an unsupported profile");t.Uc.on("ready",function(){var y,x,z;function u(){return t.Po;}y=!!p.z1a;t.Ea.info("ready event fired by subtitle stream");t.emit("ready");x=t.Uc.WJ.bind(t.Uc);if(m.$va && m.Gea){z=a(1265).TIa;t.Ze=new z(t.vv,x,t.b7,t.Ea,u,m.$va,m.Gea,p);}else t.Ze=new f(t.vv,x,t.b7,u,t.Ea,p);if("dfxp-ls-sdh" === t.gO && "function" === typeof h.Yja)t.Ze.on("stagesubtitle",t.EFa.bind(t));t.Ze.on("showsubtitle",t.pFa.bind(t));t.Ze.on("removesubtitle",t.yDa.bind(t));t.Ze.on("underflow",t.sn.bind(t));t.Ze.on("bufferingComplete",t.Og.bind(t));y && (t.Ea.info("autostarting subtitles"),setTimeout(function(){t.Tu(t.vv());},10));});t.Uc.on("error",t.emit.bind(t,"error"));return t;}l.__extends(k,g);k.prototype.start=function(){this.Uc.start();};k.prototype.Cjb=function(){this.Po || (this.Po=!0,this.T6a(this.Er));};k.prototype.Tu=function(m){this.UZa && !this.Po && 1E4 < Math.abs(m - this.Er) && (this.Ea.warn("Detected an unexpected pts jump larger than",1E4,"at",m,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Cjb());this.Er=m;this.Po && (this.Po=!1,this.sic(m));null !== this.Ze && (this.Glc(m),this.Ze.Tu(m));};k.prototype.stop=function(){var m;this.Ea.info("stop called");this.Po || this.pause();this.Uc.removeAllListeners(["ready"]);null !== this.Ze && this.Ze.stop();m=this.FV.reduce(function(p,q){p.Zmb+=q.Q1;p.S$+=q.T$ || 0;p.F2b.push(q);return p;},{Zmb:0,S$:0,F2b:[]});"object" === typeof this.Uc && this.Uc.close();this.Ea.debug("metrics: " + JSON.stringify(m));return m;};k.prototype.pause=function(){var m;m=this.vv();this.Po?this.Ea.warn("pause called on subtitle manager, but it was already paused!"):(this.Ea.info("pause called at " + m),this.Po=!0,this.T6a(m));null !== this.Ze && this.Ze.pause();};k.prototype.fba=function(m,p){return "function" === typeof this.Uc.fba?this.Uc.fba(m,p):[];};k.prototype.Jq=function(m,p){return this.Uc.Jq(m,p);};k.prototype.WJ=function(m){return this.Uc.WJ(m);};k.prototype.KG=function(m){var q;function p(){q.Ea.info("bufferingComplete from setStreamStartPosition");q.emit("bufferingComplete");}q=this;"function" === typeof this.Uc.KG?this.Uc.KG(m,p):p();};k.prototype.Bl=function(m,p){"function" === typeof this.Uc.Bl && this.Uc.Bl(m,p);};k.prototype.Lk=function(m,p){"function" === typeof this.Uc.Lk && this.Uc.Lk(m,p);};k.prototype.$Ca=function(m){"function" === typeof this.Uc.Ejb && this.Uc.Ejb(m);};k.prototype.ova=function(){return this.FV[this.FV.length - 1];};k.prototype.pFa=function(m){var p,q,v,u;q=0;this.Ea.info("show subtitle called at " + this.vv() + " for displayTime " + m.displayTime);this.emit("showsubtitle",m);v=this.ova();v.uS || (v.uS={});if(d(this.gO))try{for(var t=l.__values(m.blocks),w=t.next();!w.done;w=t.next()){u=w.value;v.uS[u.id] || (q++,v.uS[u.id]=!0);}}catch(x){var y;y={error:x};}finally{try{w && !w.done && (p=t.return) && p.call(t);}finally{if(y)throw y.error;}}else v.uS[m.id] || (q++,v.uS[m.id]=!0);v.Q1+=q;};k.prototype.yDa=function(m){this.Ea.info("remove subtitle called at " + this.vv() + " for remove time " + (m.displayTime + m.duration));this.emit("removesubtitle",m);};k.prototype.EFa=function(m){this.Ea.info("stage subtitle called at " + this.vv() + " for displayTime " + m.displayTime);this.emit("stagesubtitle",m);};k.prototype.sn=function(){this.Ea.info("underflow fired by the subtitle timer");this.emit("underflow");};k.prototype.Og=function(){this.Ea.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};k.prototype.sic=function(m){this.Ea.debug("creating a new subtitle interval at " + m);this.FV.push({ca:m,Q1:0});};k.prototype.Glc=function(m){var p;p=this.ova();p && (p.Pya=m);};k.prototype.T6a=function(m){var p;this.Ea.debug("ending subtitle interval at " + m);p=this.ova();p && (p.Sa=m,p.Sa < p.ca && (this.Ea.warn("correcting for interval where endPts is smaller than startPts"),p.ca=0 < p.Sa?p.Sa - 1:0),p.T$=this.Uc.Jq(p.ca,p.Sa),delete p.uS,p.T$ > p.Q1 && p.Pya && 500 > p.Sa - p.Pya && (p.T$=this.Uc.Jq(p.ca,p.Pya)),this.Ea.debug("showed " + p.Q1 + " during this interval"),this.Ea.debug("expected " + p.T$ + " for this interval"));};return k;})(r.EventEmitter);b.Ozb=r;b.default=r;},function(r){function b(a,d){var l,h,n,c,f,g;l=[];h=a.indexOf("<p");n=-1;do {c={};c.gic=h;f=a.indexOf("begin=",h) + 7;g=a.indexOf("end=",h) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / d * 1E3);g=Math.floor(parseInt(a.substr(g,25),10) / d * 1E3);n=g > n?g:n;c.startTime=f;c.endTime=g;c.latestEndSoFar=n;c.b7a=a.indexOf("/p>",h) + 3;h=c.b7a;l.push(c);h=a.indexOf("<p",h);}while(-1 !== h);this.sv=l;this.HI=a;}b.prototype.A7a=function(){return this.sv[this.sv.length - 1].endTime;};b.prototype.Jq=function(a,d){return this.sv.filter(function(l){return l.startTime <= d && l.endTime >= a;}).length;};b.prototype.dZb=function(a){for(var d="",l=this.sv.filter(function(n){return n.startTime <= a && a < n.endTime || n.startTime >= a;}),h=4;h + 1 < l.length && l[h + 1].startTime === l[4].startTime;){h++;}l=l.slice(0,h + 1);0 < l.length && (d=this.HI.slice(l[0].gic,l[l.length - 1].b7a));return d;};r.exports=b;},function(r,b,a){var n,c,f,g,k;function d(m){return "string" !== typeof m?null:c[m];}function l(m){return "string" !== typeof m?null:f[m];}function h(m,p){var q;q=m.split(" ");m=q[0];q=q[1];-1 < m.indexOf("px")?(m=parseFloat(m) / p.width,q=parseFloat(q) / p.height):(m=.01 * parseFloat(m),q=.01 * parseFloat(q));return [m,q];}n=a(515);r.exports={CPb:function(m,p){var q,v,t,w,A;q=p.textNodes[0] || ({});v=m.regions;t=m.styles;w=m.aspectRatio;v=v && v[p.region]?v[p.region]:{};q=t && t[q.style]?t[q.style]:{};t=h(n(p.extent,v.extent,"80% 80%"),m);if(v.position){for(var u=v.position.split(" "),y=[.5,.5],x=["left","top"],z=0,B=0;B < u.length;B++){A=u[B];(A in k)?(x[z]=A,B + 1 >= u.length && (y[z++]=0)):"center" === A?y[z++]=.5:y[z++]=.01 * parseFloat(A);}-1 < ["top","bottom"].indexOf(x[0]) || -1 < ["left","right"].indexOf(x[1])?(z="bottom" === x[0]?1 - y[0]:y[0],u="right" === x[1]?1 - y[1]:y[1]):(u="right" === x[0]?1 - y[0]:y[0],z="bottom" === x[1]?1 - y[1]:y[1]);y=[(1 - t[0]) * u,(1 - t[1]) * z];}else y=null;p=y?y:h(n(y,p.origin,v.origin,"10% 10%"),m);m=Object;w/=1280 / 720;y=(1 - w) / 2;x=p[0];p=p[1];t=m.create.call(m,{marginLeft:x * w + y,marginTop:p,marginRight:(1 - (x + t[0])) * w + y,marginBottom:1 - (p + t[1])});1 < Object.keys(v).length?t.verticalAlignment=d(n(q.displayAlign,v.displayAlign,"before")):t.verticalAlignment=d(n(q.displayAlign,"after"));t.horizontalAlignment=l(n(q.textAlign,v.textAlign,"center"));w=v.writingMode?v.writingMode:"lrtb";t.writingMode="string" !== typeof w?null:g[w];t.multiRowAlignment=l(n(q.multiRowAlign,v.multiRowAlign,q.textAlign,v.textAlign,"center"));return t;}};c={before:"top",center:"center",after:"bottom"};f={left:"left",start:"start",center:"center",right:"right",end:"end"};g={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};k={top:"top",bottom:"bottom",left:"left",right:"right"};},function(r,b,a){var g,k,m,p,q,v,t,w,u,y,x,z,B,A,C;function d(D){return "string" !== typeof D || "#" === D[0] && 7 === D.length?D:"#" === D[0] && 4 === D.length?"#" + D[1] + D[1] + D[2] + D[2] + D[3] + D[3]:m[D.toLowerCase()];}function l(D){var E,G,F;E=(D || "").split(" ");G=(/^[0-9]/).test(E);D=G?"#000000":d(E[0]);F=G?0:1;G=parseInt(E[F]);E=parseInt(E[F + 1]);return {color:D,width:0 < G?G:0,blur:0 < E?E:0};}function h(D,E){if(-1 < E.indexOf(D))return D;}function n(D){var E,G;if(!D)return null;D=D.split(" ");if(0 === D.length)return null;E=c(D,C);E=E.length?E[0]:"outside";G=c(D,A);if(G.length)return f(G[0],"",E);G=c(D,z);D=c(D,B);return D.length || G.length?f(D.length?D[0]:"circle",G.length?G[0]:"filled",E):f("auto","",E);}function c(D,E){return D.filter(function(G){return -1 !== E.indexOf(G);});}function f(D,E,G){return {textEmphasisShape:D,textEmphasisFill:E,textEmphasisPosition:G};}g=a(515);r.exports={GPb:function(D,E,G){var F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa;F=g(G.characterSize,E.characterSize,"MEDIUM");K=D.fontFamily;K=g(G.characterStyle,"string" !== typeof K?null:p[K],E.characterStyle,"PROPORTIONAL_SANS_SERIF");O=(D.fontSize || "").split(" ")[0] || "";L=-1 < O.indexOf("%")?parseInt(O,10) / 100:-1 < O.indexOf("em")?parseFloat(O):1;O="underline" === D.textDecoration;I="italic" === D.fontStyle;M=k[g(G.wnc,E.wnc,"OPAQUE")];H=k[g(G.characterOpacity,E.characterOpacity,"OPAQUE")];J=k[g(G.backgroundOpacity,D.opacity,E.backgroundOpacity,"OPAQUE")];N=d(g(G.characterColor,D.color,E.characterColor,"#ffffff"));P=d(g(G.backgroundColor,D.backgroundColor,E.backgroundColor,null));X=d(g(G.mrb,D.mrb,E.mrb,null));V=g(G.characterEdgeAttributes,E.characterEdgeAttributes,null);L*=q[F] || 1;S=1;v[F] && (S=v[F][K] || 1);L*=1 / 19 * S;S=0;t[F] && (S=t[F][K] || 0);F=S;S=D.textOutline;S="string" !== typeof S?null:l(S).width;S=g(S,0);U=D.textOutline;U="string" !== typeof U?null:l(U).blur;U=g(U,0);ha=G.characterEdgeColor;qa=D.textOutline;qa="string" !== typeof qa?null:l(qa).color;return {characterUnderline:O,characterItalic:I,characterStyle:K,windowOpacity:M,characterOpacity:H,backgroundOpacity:J,characterColor:N,backgroundColor:P,windowColor:X,characterEdgeAttributes:V,characterSize:L,characterTracking:F,characterEdgeWidth:S,characterEdgeBlur:U,characterEdgeColor:d(g(ha,qa,E.characterEdgeColor,"#000000")),direction:g(G.direction,D.direction,E.direction,"ltr"),ruby:g(h(D.eyc,w),null),rubyAlign:g(h(D.fyc,u),null),rubyPosition:g(h(D.gyc,x),null),rubyReserve:g(h(D.hyc,y),null),textEmphasis:n(D.Wyc),shear:D.shc?.01 * parseFloat(D.shc):null};}};k={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};m={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};v={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};w=("container base baseContainer text textContainer delimiter").split(" ");u=("start center end spaceAround spaceBetween withBase").split(" ");y=["before","after","both","outside"];x=["before","after","outside"];z=["filled","open"];B=["circle","dot","sesame"];A=["none","auto"];C=["before","after","outside"];},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.iPa=void 0;d=a(0);r=a(106);l=a(513);h=a(514);n=a(516);c=a(517);f=a(517);g=r.EventEmitter;a=(function(k){function m(p){var q,v,t,w,u;q=k.call(this) || this;v=p.preferences;t=p.Qg;w=p.Ce;u=p.ta;g.call(q);q.i8=new c.jPa(u);q.fO="object" === typeof v?p.preferences:{};q.LN="object" === typeof t?p.Qg:{};q.Gm="number" === typeof w?p.Ce:0;q.Ea="object" === typeof u?p.ta:console;q.Dm=[];q.Ix=0;q.Er=q.Gm;q.Ze=null;q.fE=!1;q.MA=!1;q.Hma=p.efa || 0;q.cq=new n.hPa(q.Ea);return q;}d.__extends(m,k);m.prototype.start=function(){this.Ea.info("Incremental live text stream created, starting at pts " + this.Gm);"undefined" !== typeof this.cq.kwa(this.Gm) && this.NBa.call(this,this.Gm);};m.prototype.Ejb=function(p){var q,v,t,w;q=this;v=p.xml;t=v.indexOf("<p");this.cq.YGb(p,-1 !== t?t:0);if(!this.fE){w=this.cq.Fn[0];this.cq.Rpb(w);this.Gm=w.ca;}-1 < t?(this.i8.aHb(v,p.S,p.oL),this.Ea.trace("Live segment " + p.S + " is pushed to segment manager",{ca:p.ca,Sa:p.Sa,Uuc:p.oL}),!this.fE && 4 > this.Ix && (v=0 < this.Dm.length?this.Dm[this.Dm.length - 1].startTime + 1:this.Gm,this.Ea.trace("parseNextSegment is called from push new live Segment at " + v),this.NBa.call(this,v))):(this.Ea.trace("Live segment " + p.S + " is pushed to segment manager, it is an empty segment"),this.fE || setTimeout(function(){q.K2(p.S);},10));};m.prototype.WJ=function(p){var q,v,t,w,u;q=this;t=this;t.Ea.trace("LiveTextStream:get subtitles at pts " + p);w=t.cq.kwa(p);if("undefined" === typeof w)return (t.Ea.debug("LiveTextStream: get subtitle at pts " + p + " returns empty result with segment not available at this pts"),[]);t.cq.Rpb(w);p < t.Er - t.Hma?(t.Dm=[],t.Ix=0):(t.Ix=0 < t.Dm.length?Math.max(t.cq.j$a() - w.S + 1,0):0,0 === t.Ix && (t.Dm=[]));w=t.Dm;u=0 < w.length?null === (v=w[w.length - 1]) || void 0 === v?void 0:v.startTime:p;t.Er=p;t.Ea.info("LiveTextStream: timer is " + t.Ze + " bufffered segment number is " + t.Ix + " is parsing entry : " + this.MA);for(!t.Ze && 4 > t.Ix && !t.MA && (t.Ea.info("LiveTextStream: buffer size: " + t.Ix + "; minimum: 4"),t.MA=!0,t.Ze=setTimeout(function(){t.Ze=null;q.Ea.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (u + 1));q.NBa.call(t,u + 1);},10));0 < w.length && w[0].endTime < p;){w.shift();}return l.XXb(w,p).map(function(y){var x;x=t.cq.lYb(y.segId);return l.gRb.call(t,x,y);});};m.prototype.Jq=function(p,q){return this.i8?this.i8.Jq(p,q):0;};m.prototype.uha=function(p){return l.uha.call(this,p);};m.prototype.close=function(){};m.prototype.NBa=function(p){var q;q=this.eZb.call(this,p);"undefined" !== typeof q?(this.Ea.trace("Next segment to parse at pts " + p + " is segment " + q.S),0 === q.Wwa?(this.Ea.trace("This is an empty segment"),this.K2(q.S)):this.Y$b.call(this,q)):(this.Ea.debug("Next segment is undefined at pts " + p),this.MA=!1);};m.prototype.eZb=function(p){var q,v;v=this.i8.XYb(p);this.Ea.trace("Most recent entry at current pts " + p + " is segment id  " + v);-1 === v && (v=(null === (q=this.cq.kwa(p)) || void 0 === q?void 0:q.S) || -1);return v === this.cq.j$a()?this.cq.hZb():this.cq.caa(v);};m.prototype.Y$b=function(p){var q,v,t,w,u;q=this;v=this;t=p.xml.slice(0,p.Wwa);w=p.xml.slice(p.Wwa,p.xml.lastIndexOf("/p>") + 3);l.O$b(t,function(y,x){null !== y?(y.T0b=t,y.S=p.S,v.emit("error",y)):(u=x,v.cq.Ulc(p.S,u),q.N$b.call(v,w,u,p));});};m.prototype.N$b=function(p,q,v){var t,w,u,y,x,z,B;t=this;w=this;u=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];w.Ea.debug(p);B=h.Dg(!0);B.onerror=function(A){A.xml=p;w.emit("error",A);};B.onend=function(){var A;A=w.Dm.reduce(function(C,D){D=D.blocks.reduce(function(E,G){return E.concat([G.id]);},[]);return C.concat(D);},[]);y.forEach(function(C){var D;if(-1 === A.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(E){return 0 < E.textNodes.length;});D && 0 < D.length && (C.blocks=D,w.Dm.push(C));}});t.K2(v.S);};B.ontext=function(A){("" !== A.trim() || A.match(/ +/)) && l.mh(l.mh(y).blocks).textNodes.push({text:A.match(/ +/)?A:A.trim(),style:l.mh(x),lang:l.mh(z),lineBreaks:u});u=0;};B.onclosetag=function(){var A;A=B.tag;"undefined" !== typeof A.attributes.style && x.pop();"undefined" !== typeof A.attributes["xml:lang"] && z.pop();};B.onopentag=function(A){var C,D;C=A.attributes;A=A.name;if("p" === A){u=0;A=v.S.toString() + "_" + C["xml:id"];C.style && x.push(C.style);C["xml:lang"] && z.push(C["xml:lang"]);D=f.N9(C.begin);0 === y.length || l.mh(y).displayTime !== D?(C=t.ZOb(A,C,v.oL),C.segId=v.S,y.push(C)):l.mh(y).blocks.push({textNodes:[],region:C.region,id:A,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === A?(x.push(C.style),C["xml:lang"] && z.push(C["xml:lang"]),A=q.styles[C.style],C.style && A && A.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(A.ruby) && l.mh(l.mh(y).blocks).textNodes.push({text:"",style:l.mh(x),lang:l.mh(z),lineBreaks:0})):"br" === A && u++;};B.write("<entries>").write(p).write("</entries>").close();};m.prototype.ZOb=function(p,q,v){var t;t={};t.id=p;t.startTime=f.N9(q.begin || "") - v;t.endTime=f.N9(q.end || "") - v;t.style=q.style;t.region=q.region;t.displayTime=t.startTime;t.duration=t.endTime - t.startTime;t.extent=q["tts:extent"] || null;t.origin=q["tts:origin"] || null;t.latestEndSoFar=0 > t.endTime?0:t.endTime;t.blocks=[{textNodes:[],region:t.region,id:p,extent:t.extent || null,origin:t.origin || null}];return t;};m.prototype.K2=function(p){this.cq.K2(p);this.Ix+=1;this.MA=!1;!this.fE && 4 <= this.Ix && (this.fE=!0,this.emit("ready"));};return m;})(g);b.iPa=a;},function(r,b,a){var l,h,n,c,f,g;function d(k){l.call(this);this.Hm=k.url;this.kq=k.request;this.tI=k.Ce || 0;this.Ea=k.ta;this.Dj=this.kt=null;k.zw?this.kt=k.zw:(this.Sb=k.offset,this.lO=k.size);this.Gn;this.moa=k;}l=a(106).EventEmitter;h=a(1257);n=a(1258);c=a(1259);f=a(166);g=d.events={Uwb:"midxready",ozb:"sidxready",uUa:"ready",mg:"error"};d.prototype=Object.create(l.prototype);d.prototype.constructor=d;Object.defineProperties(d.prototype,{Br:{get:function(){return this.Gn && this.Gn.zsa;}}});d.prototype.start=function(){this.kt?(this.Ea.warn("midx was prefectched and provided"),this.gYa(this.kt)):this.wBb(this.Sb,this.lO,this.AEb.bind(this));};d.prototype.close=function(){};d.prototype.fba=function(k,m){return this.Gn && this.Gn.uwa(k,m);};d.prototype.Jq=function(k,m){return (k=this.fba(k,m))?k.length:k;};d.prototype.KG=function(k,m){this.Ea.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.tI=k;this.Gn?this.Gn.KG(k,m):m && m();};d.prototype.WJ=function(k){var m,p,q;if(!this.Gn || k > f.dYb(this.kt))return [];this.Gn && this.Gn.jta(k);m=this.Br.sm;p=this.Br.index;q=[];p=f.Ad(p) && this.Dj[p + 1];if(!(p && p.entries.length || m && !(k > m.endTime)))return [];m && m.images.length && (q=this.tYa(m,k,[]));2 > q.length && p && p.images.length && (m=this.tYa(p,k,q),q.push.apply(q,m));return this.Gn.mFa(k)?null:f.R3a(q);};d.prototype.Lk=function(k,m){this.Gn && this.Gn.Lk(k,m);};d.prototype.Bl=function(k,m){this.Gn && this.Gn.Bl(k,m);};d.prototype.wBb=function(k,m,p){this.Ea.debug("downloading midx...");this.HYa(k,m,"binary",p);};d.prototype.xBb=function(k,m,p){this.Ea.debug("downloading sidx...");this.HYa(k,m,void 0,p);};d.prototype.HYa=function(k,m,p,q){this.kq({url:this.Hm,offset:k,size:m,responseType:p},q);};d.prototype.AEb=function(k,m){if(k)this.emit(g.mg,f.WY(k,"midxdownloaderror"));else try{this.kt=new h(m);this.gYa(this.kt);}catch(p){this.emit(g.mg,f.WY(p,"midxparseerror"));}};d.prototype.gYa=function(k){var m;m=k.entries.reduce(function(p,q){return p + q.size;},0);m?(this.emit(g.Uwb,k),this.xBb(k.startOffset,m,this.DEb.bind(this,k))):this.emit(g.mg,f.WY({},"nosidxfoundinmidx"));};d.prototype.DEb=function(k,m,p){var q,v,t,w;q=this;if(m)q.emit(g.mg,f.WY(m,"sidxdownloaderror"));else {v=0;t=0;q.Dj=[];try{w=0;k.entries.forEach(function(u){var y;y=new n(p,v,k.Fxa,q.Ea,t,t + u.duration,w);q.Dj.push(y);u.Phc=y;t=y.Ds;v+=u.size;w++;});}catch(u){q.emit(g.mg,f.WY(u,"sidxparseerror"));return;}q.emit(g.ozb,q.Dj);this.Gn=new c(q.moa,k,q.Dj);m=q.tI;q.moa && q.moa.aga || (m=Math.max(q.tI - 1E4,0));this.Gn.jta(m,function(u){u && q.Ea.error("initial sidx download failed");q.emit(g.uUa);});}};d.prototype.tYa=function(k,m,p){var x;for(var q=k.entries,v=0,t=q.length,w=[],u,y=this.kt;v < t;){u=q[v];if(u.displayTime <= m)u.displayTime + u.duration >= m && w.push(f.psa(u,k.images[v].data,y));else {x=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > m && x.displayTime !== u.displayTime)break;x.kK !== u.kK && w.push(f.psa(u,k.images[v].data,y));}v++;}return w;};r.exports=d;},function(r,b,a){var l,h;function d(n,c){this.duration=n;this.size=c;this.Phc=void 0;}l=a(292);h=a(166);r.exports=function(n){var k;n=new l(n);this.identifier=n.hDa(4);h.assert("midx" === this.identifier);this.version=n.Es(4);h.assert(0 === this.version);this.Fxa=n.sl(36);this.creationTime=n.SR();this.Ep=n.SR();this.L=n.SR();this.ifc=n.zi();this.jfc=n.zi();this.language=n.sl(16);n.sl(16);this.startOffset=n.SR();this.CP=n.zi();for(var c=[],f=0,g=0;g < this.CP;g++){k=new d(n.Es(4),n.zi());c.push(k);f+=k.duration;}this.entries=c;this.endTime=f;};},function(r,b,a){var h,n;function d(c,f,g,k,m,p,q,v){this.displayTime=c;this.duration=f;this.i$b=g;this.j$b=k;this.Xhc=m;this.Yhc=p;this.kK=q;this.qxa=v;}function l(c,f,g,k,m,p,q){var v;c=new h(c);v=0;c.position=f;this.Ea=k;this.identifier=c.hDa(4);n.assert("sidx" === this.identifier,k);this.Fxa=c.sl(36);n.vMb(this.Fxa,g,k);this.duration=c.Es(4);this.CP=c.zi();this.kz=m;this.Ds=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Coa=0;v < this.CP;){f=new d(c.Es(4),c.Es(4),c.zi(),c.zi(),c.zi(),c.zi(),c.SR(),c.Es(4));v++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}h=a(292);n=a(166);l.prototype.V1b=function(){this.Coa++;};l.prototype.BQb=function(){var c;c=0;this.Coa--;1 > this.Coa?this.images && 0 < this.images.length && (c+=n.qwa([this]),this.images=[]):this.Ea.debug("Not cleaning up shared sidx with range",this.kz,"-",this.Ds);return c;};r.exports=l;},function(r,b,a){var n,c;function d(f,g){var m;f=f || 0;if(g)for(var k in g.T){m=g.T[k];if(f >= (m.Ba || 0) && (!m.Aa || f < m.Aa))return k;}}function l(f,g){return f && g && g.T[f];}function h(f,g,k){var m;this.Ea=f.ta;this.Dj=k;this.kE=this.$Ab(f.aga);this.di=[];m=k && k[k.length - 1];this.Er=m && (m.endTime || m.Ds);this.Ig=new n(f,g,k);f=d(f.Ce || 0,this.kE);this.No=this.AA(f);}n=a(1260);c=a(1262);Object.defineProperties(h.prototype,{zsa:{get:function(){return this.Ig.zsa;}}});h.prototype.uwa=function(f,g){return this.Ig && this.Ig.uwa(f,g);};h.prototype.jta=function(f,g){this.Ig.zgc(f);this.H_a(f);if(!this.kE && this.Er && f > this.Er)g && g();else if((f=this.cYa(f,this.No,2,g),this.kE && 0 < this.No.ygb.length))g && g();else if(this.kE && this.No.xQ && f){2 > this.di.length && this.fBb(this.No);g=Math.ceil(2 / (this.di.length - 1));for(var k=0;k < this.di.length && f && 3 > k;k++){f=this.di[k];f=this.cYa(f.startTime,f,g);}}};h.prototype.mFa=function(f){return this.Ig.mFa(f)?(this.Ig.JHb(),this.jta(f),this.No.xQ=!1,!0):!1;};h.prototype.KG=function(f,g){var k;this.H_a(f);this.di.forEach(function(m){m.xQ=!1;});k=this.No.Ip && this.No.Ip[0];this.Ig.KG(f,k && k.index);(f=this.Ig.f_b(f)) && f.length?this.Ig.f6a(f,g):g && g();};h.prototype.Bl=function(f,g){var k;this.Ea.debug("Set next segment to",g,"for segment",f);f=this.kYa(f) || this.AA(f);f.Slb=g;k=this;f.b0=f.b0.filter(function(m){if(m.id === g)return !0;k.cna(m);return !1;});};h.prototype.Lk=function(f,g){var k;k=l(f,this.kE);Object.keys(k.next).forEach(function(m){k.next[m].weight=g[m] || 0;});};h.prototype.$Ab=function(f){var g,m;g={};if(f=(f || ({})).T){g.T={};for(var k in f){m=f[k] || ({});g.T[k]={Ba:m.Ba,Aa:m.Aa,dc:m.dc,next:this.ZAb(m.next)};}}return g;};h.prototype.ZAb=function(f){var g,k;g={};for(k in f){g[k]={weight:(f[k] || ({})).weight};}return g;};h.prototype.H_a=function(f){var g,k;if(this.kE && this.No.startTime > f || this.No.endTime && this.No.endTime < f){g=this.No;k=d(f,this.kE);k?(this.Ea.debug("Switching segments from",this.No.id,"to",k,"at pts",f),this.No=this.kYa(k) || this.AA(k),this.cna(g)):this.Ea.debug("The pts is outside of the current segment but not in a new one yet");}};h.prototype.AA=function(f){this.Ea.debug("SegmentManager: creating segment",f);f=new c(f,l(f,this.kE),this.Dj,this.Ea);this.di.push(f);this.Ea.debug("SegmentManager: segment contains",f.Ip.length,"sidxes");return f;};h.prototype.cna=function(f){var g;if(f && f !== this.No){this.Ea.debug("SegmentManager: deleting segment",f.id);f.b0.forEach(this.cna.bind(this));this.di=this.di.filter(function(k){return k !== f;});g=f.c3a();this.Ig.Tdc(g && g.size || 0,g && g.Ip);}};h.prototype.kYa=function(f){var k;for(var g=0;f && g < this.di.length;g++){k=this.di[g];if(f === k.id)return k;}};h.prototype.fBb=function(f){var g,m;g=f.Slb;if(g && "" !== g)f.b0.push(this.AA(g));else {g=f.ygb;for(var k in g){m=g[k];if(!m || !m.weight)break;f.b0.push(this.AA(k));}}};h.prototype.cYa=function(f,g,k,m){if(!g || g.xQ)return (this.Ea.debug("Done driving segment",g && g.id),!0);if(!this.Ig.NKb)return (this.Ea.debug("Throttling buffering in quiet period"),!1);this.Ea.debug("Drive streaming of segment",g.id,"from pts",f);k=(f=this.Ig.g_b(f,g,k)) && f.length || 0;if(0 === k)return (this.Ea.debug("Segment is fully downloaded",g && g.id),g.xQ=!0,m && m(),!0);this.Ea.debug("Downloading",k,"sidxes in segment",g.id);return this.Ig.f6a(f,function(p,q){p && (g.xQ=!1);m && m(p,q);});};r.exports=h;},function(r,b,a){var g,k;function d(m,p,q){var v;v=q.displayTime <= m && m <= q.displayTime + q.duration;return m <= q.displayTime && q.displayTime <= p || v;}function l(m,p,q){return p && (!p.entries.length && m > p.kz || m > p.endTime) && q.entries.length && m < q.endTime;}function h(m,p,q){this.wI=this.Mx=0;this.TCb=m.bufferSize || 4194304;this.Br=new f();this.sI;this.lI=m.gg;this.Ea=m.ta;this.kt=p;this.Dj=q;this.lq=new g(m);this.II=new c(this.Dj.length,m.y6a);this.cW=new n(m.$1a);}function n(m){this.rV=0 !== m;this.on=!1;this.Uk=m || 3E3;this.Ze;}function c(m,p){if(this.enabled=p)this.Ip=Array.apply(null,Array(m)).map(function(){return "-";});}function f(m,p){this.sm=m;this.index=p;}g=a(1261);k=a(166);f.prototype.reset=function(){this.index=this.sm=void 0;};c.prototype.ia=function(m){this.enabled && m < this.Ip.length && (this.Ip[m]="x");};c.prototype.Bhb=function(m){this.enabled && m < this.Ip.length && (this.Ip[m]="-");};c.prototype.toString=function(){return this.enabled && "|" + this.Ip.join("") + "|";};n.prototype.start=function(){var m;if(this.rV){m=this;this.on=!0;this.Ze=setTimeout(function(){m.on=!1;m.Ze=void 0;},this.Uk);}};n.prototype.stop=function(){this.on=!1;clearTimeout(this.Ze);this.Ze=void 0;};Object.defineProperties(h.prototype,{zsa:{get:function(){return this.Br;}},NKb:{get:function(){return !this.cW.on;}}});h.prototype.PV=function(){this.II.enabled && this.Ea.debug("Buffer: " + this.II.toString());};h.prototype.XEb=function(m){this.wI+=m;this.Ea.debug("Reserved buffer size is",this.Mx + this.wI,"after reserving",m);};h.prototype.QFb=function(m){this.wI-=m;this.Ea.debug("Reserved buffer size is",this.Mx + this.wI,"after unreserving",m);};h.prototype.YAb=function(m){this.Mx+=m;this.Ea.debug("Buffer size is",this.Mx,"after claiming",m);};h.prototype.ZZa=function(m){this.Mx-=m;this.Ea.debug("Buffer size is",this.Mx,"after clearing",m);};h.prototype.Tdc=function(m,p){var q;this.ZZa(m);q=this;p && this.II.enabled && (p.forEach(function(v){q.II.Bhb(v.index);}),this.PV());};h.prototype.mFa=function(m){var p;p=this.PBb(m);return k.nbb(p) && k.kjc(m,p);};h.prototype.zgc=function(m){var p;p=this.yYa(m);(!p || p.index) !== (!this.Br || this.Br.index) && (this.sI=this.Br.sm,p?(this.lI && this.Ea.debug("Current sidx is index",p.index),this.Br=p):(this.lI && this.Ea.debug("Current sidx is out of range"),this.Br.reset()));this.sI && "number" === typeof this.sI.index && (m < this.sI.kz - 35E3 || m > this.sI.Ds + 35E3) && (this.Uma(this.sI.index),this.sI=void 0,this.PV());};h.prototype.KG=function(m,p){var q,v;q=this.Dj && this.Dj.length;for(p;p < q;p++){(v=this.Dj[p]) && ((v.endTime || v.Ds) >= m - 1E4 && (v.endTime || v.Ds) < m + 3E5 || this.Uma(p));}this.cW.stop();this.PV();};h.prototype.JHb=function(){var m,p;this.Ea.debug("executing aggressive cleanup");m=this.Dj && this.Dj.length;for(p=0;p < m;p++){p === this.Br.index && (p+=2);this.Uma(p);}this.cW.stop();this.PV();};h.prototype.f_b=function(m){var p,q,v,t;p=[];q=this.yYa(m);if(!q)return (this.Br.reset(),p);this.Br=q;v=m + 1E4;q=q.index;t=this.Dj[q];q;for(t;q < this.Dj.length && v > t.kz;(q++,t=this.Dj[q])){k.nbb(t) && k.ljc(m,v,t) && p.push(t);}return p;};h.prototype.f6a=function(m,p){var q,v,t,w,u,y;if(!m || !m.length)return (p && p(null),!0);this.lq.WV && 2 <= Object.keys(this.lq.WV).length && !this.cW.on && (this.Ea.debug("Enabling buffering quiet period"),this.cW.start());q=this;v=m[0];t=m[m.length - 1];if(0 < v.entries.length)(w=v.entries[0].kK,u=v.entries[v.entries.length - 1]);0 < t.entries.length && (k.Ad(w) || (w=t.entries[0].kK),u=t.entries[t.entries.length - 1]);if(w)y=u.kK + u.qxa - w;else return (p && p(null),!0);v=k.tva(w,y);if(this.lq.WV[v])(this.Ea.debug("The request for",v,"is already pending. Not requesting again"),p && p());else if(this.mCb(k.qwa(m)))(this.Ea.debug("Reserving",y,"bytes for subtitle request",m[0].kz,m[m.length - 1].Ds),this.XEb(y),this.lq.cSb(m,w,y,function(x,z){q.Ea.debug("Claiming reserved space.  Expected",y,"received",z);q.II.enabled && (m.forEach(function(B){q.II.ia(B.index);}),q.PV());q.QFb(y);q.YAb(z);p && p(x);}));else return (this.Ea.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};h.prototype.uwa=function(m,p){var q,v,t;q=this.kt;v=this.xYa(m,p,this.Dj);if(!v || 0 === v.length)return [];t=[];p=d.bind(null,m,p);for(var w=0;w < v.length;w++){m=v[w];t=t.concat(m.entries.filter(p));}t=t.map(function(u){return k.psa(u,null,q);});return k.R3a(t);};h.prototype.g_b=function(m,p,q){return this.xYa(m,p.endTime,p.Ip,q,!0);};h.prototype.xYa=function(m,p,q,v,t){var w,u,y,x;if(p && m > p || 0 > m)this.Ea.error("invalid range startPts: " + m + ", endPts: " + p);else {w=q && q.length || 0;u=[];if(q && 0 !== w){y=q[0].duration;x=q[0].kz;if(k.Ad(y) && 0 < y)y=Math.floor((m - x) / y);else for((this.lI && this.Ea.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < w && (x=q[y],!k.XRb(x,m));y++){;}for(;y < w && (!v || u.length < v);){x=q[y];if(!t || !x.images.length && x.endTime > m)u.push(x);else if(u.length)break;if(p && p <= x.Ds)break;y++;}return u;}}};h.prototype.PBb=function(m){var p,q,t;p=this.Dj;if(p && 0 !== p.length){q=p[Math.floor(m / 6E4)];if(q && (q.kz > m || m > q.Ds))a:{this.EBb || (this.EBb=!0,q=k.BYb(this.kt.language),this.Ea.error("bruteforce search for ",{movieId:this.kt.L,packageId:this.kt.Ep,lang:q}));q=p.length;for(var v=0;v < q;v++){t=p[v];if(t.kz <= m && m <= t.Ds){q=t;break a;}}q=void 0;}return q;}};h.prototype.yYa=function(m){var p,q,v,t,w,u,y,x;p=this.Br;q=p.sm;v=p.index;t=this.Dj;this.$ma(k.Ad(m));if(q)if(q.entries.length){if(0 === v && m <= q.startTime || m >= q.startTime && m <= q.endTime)(w=!0,u=p);else {if(0 < v){y=t[v - 1];l(m,y,q) && (w=!0,u=p);}}}else {y=t[v - 1];x=t[v + 1];l(m,y,q)?(w=!0,u=p):x && x.endTime && m <= x.endTime && (m >= q.endTime || m >= q.Ds) && (w=!0,u=new f(x,v + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((v=t[q],v.entries.length && m <= v.endTime)){u=new f(v,q);break;}}return u;};h.prototype.mCb=function(m){return this.Mx + this.wI + m <= this.TCb;};h.prototype.Uma=function(m){var p,q,v;p=this.Dj[m];q=p && p.images && p.images.length || 0;if(0 < q){v=k.qwa([p]);p.images=[];this.II.Bhb(m);this.ZZa(v);this.lI && this.Ea.debug("cleaning up space from sidx",{index:m,start:p.startTime,size:v,images:q,sxc:this.Mx});}};h.prototype.$ma=function(m){this.lI && k.assert(m,this.Ea);};r.exports=h;},function(r,b,a){var l,h;function d(n){this.Hm=n.url;this.kq=n.request;this.tI=n.Ce || 0;this.lI=n.gg;this.Ea=n.ta;this.WV={};}l=a(292);h=a(166);d.prototype.cSb=function(n,c,f,g){this.WV[h.tva(c,f)]=!0;n && n.forEach(function(k){k.Okb=!0;});this.kq({url:this.Hm,offset:c,size:f},this.ZDb.bind(this,n,c,f,g));};d.prototype.ZDb=function(n,c,f,g,k,m){var p,q,v,t;p=this;q=h.tva(c,f);setTimeout(function(){delete p.WV[q];},1E3);if(k)(g && g(k,0),n && n.forEach(function(w){delete w.Okb;}));else {v=new l(m);t=0;n && n.forEach(function(w){delete w.Okb;w.entries.forEach(function(u,y){v.position=u.kK - c;u={data:v.sl(u.qxa)};w.images[y]=u;h.Kmc(w.images[y].data,p.$ma.bind(p));t+=w.images[y].data.length;});});g && g(null,t);}};d.prototype.$ma=function(n){this.lI && h.assert(n,this.Ea);};r.exports=d;},function(r){function b(a,d,l,h){this.Ea=h;this.id=a;this.startTime=d && d.Ba || 0;this.endTime=d && d.Aa;this.ygb=d && d.next || [];this.Slb;this.b0=[];this.xQ=!1;a=this.startTime;d=this.endTime;for(var n=[],c=0;c < l.length;c++){(h=l[c]) && (!d || d > h.kz) && a < h.Ds && (h.V1b(),n.push(h));}this.Ip=n;}b.prototype.c3a=function(){this.Ea.debug("Cleaning up segment",this.id);for(var a,d=0,l,h=[],n=0;n < this.Ip.length;n++){a=this.Ip[n];(l=a.BQb()) && h.push(a);a && (d+=l);}this.Ip=[];return {size:d,Ip:h};};r.exports=b;},function(r,b,a){var d;d=a(106).EventEmitter;a(1264)({});b=function m(h,n,c,f,g,k){if(!(this instanceof m))return new m(h,n,c,f,g,k);d.call(this);this.vv=h;this.zV=n;this.b7=c;this.ECb=f;this.hk={};this.$k={};this.Ea=g || console;this.aq=!1;this.Ona=k.qa;this.GEb=k && k.efa || 0;};b.prototype=Object.create(d.prototype);b.prototype.stop=function(){clearTimeout(this.Ze);this.Ze=void 0;this.tfa();};b.prototype.tfa=function(){var h;h=this;Object.keys(h.hk).forEach(function(n){h.emit("removesubtitle",h.hk[n]);});h.hk={};h.$k={};};b.prototype.pause=function(){this.aq || (clearTimeout(this.Ze),this.Ze=void 0);};b.prototype.Tu=function(h,n){var c,f;c=this;f=c.vv();h=c.zV(f);null !== h && c.aq && (c.aq=!1,this.Ea.debug("bufferingComplete"),c.emit("bufferingComplete"),this.ECb())?this.Ea.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(n="number" === typeof n?n:0,Object.keys(c.hk).forEach(function(g){g=c.hk[g];g.displayTime - c.GEb <= f && f < g.displayTime + g.duration || (delete c.hk[g.id],c.emit("removesubtitle",g));}),Object.keys(c.$k).forEach(function(g){g=c.$k[g];f >= g.displayTime + g.duration && delete c.$k[g.id];}),null !== h && 0 < h.length?(n=h.length,c.Ea.debug("found " + n + " entries for pts " + f),h.forEach(function(g){g.displayTime - 0 <= f && f < g.displayTime + g.duration && !c.hk[g.id] && (c.emit("showsubtitle",g),c.hk[g.id]=g,delete c.$k[g.id]);}),n=h[h.length - 1],c.hk[n.id] || c.$k[n.id] || (c.emit("stagesubtitle",n),c.$k[n.id]=n),n=c.IFb(f,h),"number" === typeof n && Infinity > n?c.jW(n):c.jW(2E4)):null === h?(h=250 * Math.pow(2,n),2E3 < h && (h=2E3),c.Ea.warn("checking buffer again in " + h + "ms"),c.aq || (c.aq=!0,c.emit("underflow")),c.jW(h,n + 1)):c.Ona?(h=500,c.Ea.trace("Live : No entries for " + f + "checking buffer again in " + h + "ms"),c.jW(h)):c.jW(2E4));};b.prototype.jW=function(h,n){var c;c=this;c.Ea.debug("Scheduling pts check.",{timeout:h,US:c.Ze});clearTimeout(c.Ze);c.Ze=setTimeout(function(){c.Tu(c.vv(),n);},h);};b.prototype.IFb=function(h,n){n=n.reduce(this.lDb.bind(this,h),Infinity);return Infinity > n?this.b7(n,h):n;};b.prototype.lDb=function(h,n,c){var f;f=c.displayTime;c=c.displayTime + c.duration;this.Ea.debug("next events: start",f,"end",c,"now",h);return f < n && h < f?f:c < n && h < c?c:n;};r.exports=b;},function(r){function b(a){return Object.keys(a).every(function(d){return "function" === typeof a[d];});}r.exports=function(a){var n,c,f;function d(g,k,m){throw new TypeError(("undefined" !== typeof m.key?"Types: expected " + m.key:"Types: expected argument " + m.index) + (" to be '" + g + "' but found '" + k + "'"));}function l(g,k,m){var p;p=c[g];"undefined" !== typeof p?p(k) || d(g,k,m):g !== typeof k && d(g,k,m);}function h(g,k){var m;m=g.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});m=m.concat(g.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(v){return q[v];}).filter(function(v){return -1 === f.indexOf(v);}));},[]));if(0 < m.length)throw Error(m.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== g.length)throw new TypeError("Types: unexpected number of arguments");g.forEach(function(q,v){var t;t=p[v];if("string" === typeof q)l(q,t,{index:v});else if("object" === typeof q)Object.keys(q).forEach(function(w){l(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return k.apply(this,p);};}n=("number boolean string object function symbol").split(" ");c={array:function(g){return Array.isArray(g);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(g){if("undefined" !== typeof c[g] || -1 < n.indexOf(g))throw new TypeError("Types: attempting to override a built in type with " + g);c[g]=a[g];});}f=Object.keys(c).concat(n);return h(["array","function"],h);};},function(r,b,a){var h,n,c,f;function d(g,k,m){void 0 === m && (m=0);return g.displayTime - m <= k && k < g.displayTime + g.duration;}function l(g,k){for(var m=0;m < g.length;m++){if(k(g[m],m,g))return g[m];}}Object.defineProperty(b,"__esModule",{value:!0});b.Nc=b.etb=b.TIa=void 0;h=a(0);n=a(66);c=a(11);r=(function(g){function k(m,p,q,v,t,w,u,y){var x,z,B;B=g.call(this) || this;B.XBb=m;B.zV=p;B.cCb=q;B.ta=v;B.tw=t;B.$va=w;B.Gea=u;B.options=y;B.$k=[];B.hk=[];B.Mg=[];B.kCa=new c.kf();B.vEa=new c.kf();B.E9=new c.kf();B.TD=new f(function(){return p(m());},B.ta,(null === (x=B.options) || void 0 === x?void 0:x.qa) || !1);B.TD.events.on("bufferingcomplete",function(){var A;B.ta.trace("AseTimer:Received buffering complete from watcher");null === (A=B.Uo) || void 0 === A?void 0:A.Eg();B.kBa();});B.TD.xCa();B.Tmb();B.kCa.on(B.Gea,"segmentPresenting",function(){B.rhb();});B.kCa.on(B.Gea,"taskSchedulerChanged",function(){B.Tmb();});null === (z=B.Uo) || void 0 === z?void 0:z.Wa();return B;}h.__extends(k,g);Object.defineProperty(k.prototype,"_buffering",{get:function(){return this.TD.dX;},enumerable:!1,configurable:!0});k.prototype.jjc=function(){var m,p,q,v,t,w,u,y,x,z,B,A,C,D;D=this;return h.__generator(this,function(E){switch(E.label){case 0:this.ta.trace("AseTimer:Starting subtitle worker");if(this.tw())return (this.ta.trace("Paused: exiting"),[2]);m=function(){return D.ff.za.currentTime.Z;};p=this.XBb;this.Mg=this.hk.concat(this.$k);this.qjb(p(),!0);E.label=1;case 1:if(!this.Mg.length)return [3,3];v=q=p();this.R2a(q);try{for((t=(A=void 0,h.__values(this.Mg)),w=t.next());!w.done;w=t.next()){u=w.value;this.ta.trace("AseTimer:Checking subtitle " + u.id);q >= u.displayTime + u.duration || (d(u,q,this.options.Oyc)?(this.ta.trace("AseTimer:Showing subtitle " + u.id),this.Obc(u),v=Math.max(q,u.displayTime)):(this.ta.trace("AseTimer:Staging subtitle " + u.id),this.EFa(u)));}}catch(G){A={error:G};}finally{try{w && !w.done && (C=t.return) && C.call(t);}finally{if(A)throw A.error;}}y=this.pKb(v);if(!isFinite(y))return (this.TD.xCa(),[3,3]);x=m();z=this.cCb(y,q);if(void 0 === z)return [3,3];B=Math.max(z,10) + x;this.ta.trace("AseTimer:Sleeping till PlayerTime " + B);return [4,n.fj.mD(n.O.Na(B))];case 2:return (E.ub(),this.qjb(p()),[3,1]);case 3:return (this.ta.trace("AseTimer:Checking removed subtitles one more time " + p()),this.R2a(p()),this.ta.trace("AseTimer:Ending subtitle worker"),[2]);}});};k.prototype.qjb=function(m,p){var q,v,t,w,u;v=this;void 0 === p && (p=!1);t=p || !this.$k.length;t || (t=this.Mg[this.Mg.length - 1].displayTime > m);if(t){this.ta.trace("AseTimer:Getting subtitles for " + m,{yuc:this.ff.za.currentTime});w=this.zV(m);if(w){this.ta.trace("AseTimer:Received " + w.length + " subtitles");t=function(B){l(u.Mg,function(A){return A.id === B.id;}) || m >= B.displayTime + B.duration || (u.ta.trace("AseTimer:adding " + B.id,{start:B.startTime,Tuc:B.displayTime,end:B.endTime,dvc:B.duration}),u.Mg.push(B));};u=this;try{for(var y=h.__values(w),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(B){var z;z={error:B};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Mg.filter(function(B){return !l(w,function(A){return A.id === B.id;});}).forEach(function(B){return v.p0(B);});this.Mg.length || this.TD.xCa();}else this.si();}};k.prototype.stop=function(){var m;this.ta.trace("AseTimer:Stop");null === (m=this.Uo) || void 0 === m?void 0:m.Wa();this.TD.reset();this.tfa();this.kCa.clear();this.vEa.clear();this.E9.clear();};k.prototype.tfa=function(){var m,p,q,v;this.ta.trace("AseTimer:Removing all",this.hk.length);v=this.hk;try{for(var t=h.__values(v),w=t.next();!w.done;w=t.next()){this.p0(w.value);}}catch(y){var u;u={error:y};}finally{try{w && !w.done && (m=t.return) && m.call(t);}finally{if(u)throw u.error;}}this.hk=[];if(null === (p=this.Uo) || void 0 === p?0:p.dcb)null === (q=this.Uo) || void 0 === q?void 0:q.Wa();};k.prototype.pause=function(){var m;null === (m=this.Uo) || void 0 === m?void 0:m.Wa();};k.prototype.Tu=function(){var m,p,q,v;(null === (m=this.Uo) || void 0 === m?void 0:m.state) !== n.Cm.complete && (null === (p=this.Uo) || void 0 === p?void 0:p.state) !== n.Cm.vJ || this.tw() || (null === (q=this.Uo) || void 0 === q?void 0:q.Eg());this.aq && this.TD.check();this.tw() && (null === (v=this.Uo) || void 0 === v?void 0:v.Wa());};k.prototype.Tmb=function(){var m;m=this;this.ta.trace("Setting up new task scheduler");(this.ff=this.$va())?(this.vEa.clear(),this.vEa.on(this.ff,"clockChanged",function(){return m.ghb();}),this.Uo=this.ff.zB(function(){return m.jjc();},"subtitleWorker"),this.ghb()):this.ta.warn("AseTimer: no player task scheduler");};k.prototype.pKb=function(m){var p;return null !== (p=this.Mg.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,v){return q.concat(v);},[]).filter(function(q){return q > m;}).sort(function(q,v){return q - v;})[0]) && void 0 !== p?p:Infinity;};k.prototype.ghb=function(){var m,p,q;m=this;this.E9.clear();(null === (p=this.ff) || void 0 === p?0:p.za)?(this.ta.trace("onClockChanged: clock listeners registered"),this.E9.on(this.ff.za,"clockAdjusted",function(v){v.reason === n.PT.uo && m.rhb();}),this.E9.on(this.ff.za,"stopStart",function(){var v;null === (v=m.Uo) || void 0 === v?void 0:v.Eg();})):this.ta.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.Uo) || void 0 === q?void 0:q.Eg();};k.prototype.rhb=function(){var m,p;this.ta.trace("Timeline changed");this.tfa();this.tw()?null === (p=this.Uo) || void 0 === p?void 0:p.Wa():null === (m=this.Uo) || void 0 === m?void 0:m.Eg();};k.prototype.EFa=function(m){-1 === this.$k.indexOf(m) && this.Z9b(m);};k.prototype.R2a=function(m){var p,q,w;q=this.hk.concat(this.$k);try{for(var v=h.__values(q),t=v.next();!t.done;t=v.next()){w=t.value;m >= w.displayTime + w.duration && this.p0(w);}}catch(y){var u;u={error:y};}finally{try{t && !t.done && (p=v.return) && p.call(v);}finally{if(u)throw u.error;}}};k.prototype.Obc=function(m){-1 === this.hk.indexOf(m) && (this.hk.push(m),-1 !== this.$k.indexOf(m) && (this.$k=this.$k.filter(function(p){return p !== m;})),this.xBa(m));};k.prototype.xBa=function(m){this.ta.trace("AseTimer:Showing",m.id);this.emit("showsubtitle",m);};k.prototype.Z9b=function(m){this.ta.trace("AseTimer:Staging",m.id);this.$k.push(m);this.emit("stagesubtitle",m);};k.prototype.si=function(){this.ta.trace("AseTimer:onUnderflow",this.aq);this.aq || (this.emit("underflow"),this.TD.si());};k.prototype.p0=function(m){this.ta.trace("AseTimer:Removing",m.id);-1 !== this.$k.indexOf(m) && (this.$k=this.$k.filter(function(p){return p !== m;}));-1 !== this.hk.indexOf(m) && (this.emit("removesubtitle",m),this.hk=this.hk.filter(function(p){return p !== m;}));this.Mg=this.Mg.filter(function(p){return p !== m;});};k.prototype.kBa=function(){var m;this.Mg.length && (this.emit("bufferingComplete"),this.tw() || (null === (m=this.Uo) || void 0 === m?void 0:m.Eg()));};return k;})(c.EventEmitter);b.TIa=r;f=(function(){function g(k,m,p){void 0 === p && (p=!1);this.zV=k;this.ta=m;this.Ona=p;this.events=new c.EventEmitter();this.aq=!1;}Object.defineProperty(g.prototype,"buffering",{get:function(){return this.aq;},enumerable:!1,configurable:!0});g.prototype.xCa=function(){var k;k=this;this.ta.trace("AseTimer:Buffering watcher restart");this.aq=!0;this.tEb=this.Ona?setInterval(function(){return k.check();},500):setInterval(function(){return k.check();},2E4);};g.prototype.si=function(){this.ta.trace("AseTimer:Buffering watcher underflow");this.aq=!0;this.V2a(1);};g.prototype.reset=function(){this.ta.trace("AseTimer:Buffering watcher reset");clearInterval(this.tEb);clearTimeout(this.PFb);this.aq=!1;};g.prototype.V2a=function(k){var m;m=250 * (1 << k);2E3 < m && (m=2E3);this.check();this.aq && (this.PFb=setTimeout(this.V2a.bind(this,k + 1),m));};g.prototype.check=function(){var k;k=this.zV();this.ta.trace("AseTimer:Buffering complete check",null === k || void 0 === k?void 0:k.length);null !== k && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",SG:k}));};return g;})();b.etb=f;b.Nc=l;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.eG=void 0;r=a(1);d=a(518);l=a(1267);h=a(165);b.eG=new r.Kd(function(n){n(d.Mka).to(l.UQa).la();n(h.CU).A2(function(c){return function(){return c.xb.get(d.Mka).a8b;};});});},function(r,b,a){var l;function d(){var h;h=this;this.ready=!1;this.a8b=new Promise(function(n){h.Vec=n;});}Object.defineProperty(b,"__esModule",{value:!0});b.UQa=void 0;r=a(0);a=a(1);d.prototype.b8b=function(h){this.ready || (this.Vec(h),this.ready=!0);};d.prototype.isReady=function(){return this.ready;};l=d;l=r.__decorate([(0,a.$)()],l);b.UQa=l;},function(r,b,a){var d,l,h,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.jl=void 0;r=a(1);d=a(96);l=a(519);h=a(1269);n=a(521);c=a(1270);b.jl=new r.Kd(function(f){f(d.Vz).Te(function(){return function(){return mb._cad_global.device;};});f(n.iLa).to(c.hLa).la();f(l.fLa).to(h.eLa).la();});},function(r,b,a){var l,h,n,c,f,g;function d(k,m){this.za=k;this.cDa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;r=a(0);l=a(27);h=a(5);n=a(147);c=a(520);f=a(54);a=a(1);d.prototype.AWb=function(){for(var k="",m=this.za.rf.ia(h.va),p=6;p--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[m % 32] + k;m=Math.floor(m / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.cDa.Ljb(new c.Qla(0,31,f.bhb))];}return k;};g=d;g=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(l.Nh)),r.__param(1,(0,a.l)(n.P5))],g);b.eLa=g;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v,t,w){this.yRb=p;this.kn=q;this.Hb=t;this.eac=w;this.SLa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=v.eb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;r=a(0);l=a(4);h=a(25);n=a(1271);c=a(7);f=a(519);g=a(1);k=a(84);a=a(522);d.prototype.m7a=function(p){try{return p.match(this.SLa)[2];}catch(q){}};d.prototype.wUb=function(p){try{return p.match(this.SLa)[1];}catch(q){}};d.prototype.create=function(p){var q;q=this;return new Promise(function(v,t){q.kn.create().then(function(w){var y,x,z,B,A,C;function u(D){q.Hb.Vo(D) && q.Hb.Vo(y)?(x=new n.gLa(D,y,void 0,z,p.PX || "cadmium"),v(x)):t({Da:l.Y.KKa});}y=p.Aq;if(p.sva){z="bind_device";q.eac.Xf(q.log,{}).then(function(D){u(D.esn);}).catch(function(D){t(D);});}else if(p.PP){A=p.Yl;if(q.Hb.Vo(A)){C=q.wUb(A);C != p.Aq && q.log.error("esn prefix from ui is different",{ui:C,cad:p.Aq,ua:p.userAgent});}else p.pza && q.log.error("esn from ui is missing");!p.dT && q.Hb.Vo(A)?(z="config",u(A)):w.load(p.I5a).then(function(D){B=D.value;q.Hb.Vo(B) && (!1,q.Hb.Vo(A)?(D=q.m7a(A),z=D === B?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",u(y + B));}).catch(function(D){var F;function E(){w.save(p.I5a,F,!1).then(function(){u(y + F);}).catch(function(K){t(K);});}function G(){F=q.yRb.AWb();!1;E();}if(D.Da === l.Y.rA){if(q.Hb.Vo(p.Yl)){F=q.m7a(p.Yl);q.Hb.Vo(F)?(z="config_since_not_in_storage",E()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.Yl),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(D);});}else u();}).catch(function(w){t(w);});});};m=d;m=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.fLa)),r.__param(1,(0,g.l)(k.Nz)),r.__param(2,(0,g.l)(c.hb)),r.__param(3,(0,g.l)(h.ah)),r.__param(4,(0,g.l)(a.fSa))],m);b.hLa=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gLa=void 0;b.gLa=function(a,d,l,h){this.Yl=a;this.Aq=d;this.K$=h;};},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F;Object.defineProperty(b,"__esModule",{value:!0});b.leb=void 0;r=a(1);d=a(165);l=a(1273);h=a(1274);n=a(1275);c=a(1276);f=a(1277);g=a(12);k=a(1278);m=a(1279);p=a(1280);q=a(48);v=a(96);t=a(527);w=a(524);u=a(523);y=a(88);x=a(293);z=a(50);B=a(201);A=a(1281);C=a(529);D=a(530);E=a(1284);G=a(531);F=a(1285);b.leb=new r.Kd(function(K){K(z.Ho).to(h.pPa).la();K(w.NQa).to(n.MQa).la();K(u.EPa).to(c.DPa).la();K(x.APa).to(f.zPa).la();K(z.mka).to(k.oPa).la();K(y.bA).to(m.wPa).la();K(x.yPa).to(p.xPa).la();K(B.oU).to(A.nU).la();K(B.pka).to(E.BPa).la();K(G.rU).to(F.qU).la();K(C.pLa).to(D.oLa).la();K(t.vIa).to(l.uIa).la();K(z.qPa).A2(function(O){return function(){return O.xb.get(d.CU)().then(function(L){return new Promise(function(I){var H,J,N;function M(){J() && N() && L.Y_?I(O.xb.get(z.Ho)):H.Gk(M);}H=O.xb.get(q.ck);J=O.xb.get(g.uc);N=O.xb.get(v.Vz);H.Gk(M);});});};});});},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v){var t;t=this;this.M5b=m;this.hC=p;this.config=v;this.pDa=[];this.M5b.sfa(l.Grb,this.f0b.bind(this));q().then(function(w){var u;u=v().Xr.SVb;t.C6b=u?k.Ok[u.toUpperCase()]:k.Ok.mg;t.Vg=w;t.hgc();});}Object.defineProperty(b,"__esModule",{value:!0});b.uIa=void 0;r=a(0);h=a(1);n=a(12);c=a(114);f=a(50);g=a(88);k=a(7);d.prototype.f0b=function(m,p){this.Vg?this.Hjb(m,p):this.pDa.push([m,p]);};d.prototype.hgc=function(){var m,p;m=this;p=this.pDa;this.pDa=[];p.forEach(function(q){m.Hjb(q[0],q[1]);});};d.prototype.Hjb=function(m,p){var q;if(this.Vg && this.xhc(m)){q={debugMessage:m.message,debugCategory:m.uq};m.gd.forEach(function(v){return q=Object.assign(Object.assign({},q),v.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});m=this.hC.Nv("debug",k.Ok[m.level].toLowerCase(),q,p);this.Vg.Ec(m);}};d.prototype.xhc=function(m){var p;p=this.C6b;return void 0 !== p && m.level <= p && !m.gd.find(function(q){return q.oY(k.UT);});};a=l=d;a.Grb="adaptorAll";a=l=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(c.PM)),r.__param(1,(0,h.l)(g.bA)),r.__param(2,(0,h.l)(f.qPa)),r.__param(3,(0,h.l)(n.uc))],a);b.uIa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x,z){this.config=t;this.json=w;this.Jc=u;this.C5b=y;this.P_=z;this.lca=this.ow=!1;this.listeners=[];(0,h.Qq)(this,"json");this.ta=x.eb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.pPa=void 0;r=a(0);l=a(1);h=a(54);n=a(37);c=a(523);f=a(48);g=a(7);k=a(50);m=a(524);p=a(4);q=a(112);a(139);v=a(282);d.prototype.oa=function(){this.ow=!0;};d.prototype.Ec=function(t){var w;w=this;this.Hhc(t) || (!1,0 < t.size.Mm(this.config.x6b)?this.ta.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(u){return u.i7b(t);}),!1,this.P_.tpa(t),this.Jc.Gk(function(){w.yVb();})));};d.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.lca?(this.ta.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(u,y){w.ta.trace("Flushing",g.UT);w.Qs();w.Jc.Gk(function(){w.IEa(t).then(function(){u();}).catch(function(x){y(x);});});});};d.prototype.addListener=function(t){this.listeners.push(t);};d.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};d.prototype.IEa=function(t){var w,u;w=this;t=void 0 === t?!1:t;if(!this.ow)return (this.ta.trace("LogBatcher is not initialized"),Promise.resolve());if(this.lca)return (this.ta.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());u=this.P_.cXb();if(0 === u.length && !t)return (this.ta.trace("No logblobs to send"),Promise.resolve());!1;this.Qs();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=oa(u),z=x.next();!z.done;(y={Uha:y.Uha},z=x.next())){y.Uha=z.value;t=t.then((function(B){return function(){return w.egc(B.Uha);};})(y));}return t.then(function(){return w.cF();}).catch(function(B){u.filter(function(A){return !A.au;}).forEach(function(A){return A.Wv();});w.cF();throw Error("Send failure. " + B);});};d.prototype.egc=function(t){var w;w=this;this.ta.trace("Sending batch: " + t.size,g.UT);return Promise.resolve(this.P_.Wdc(t)).then(function(){return w.C5b.send(t.NK);}).then(function(){return t.KS();}).catch(function(u){w.ta.warn("Failed to send batch of logblobs.",u,g.UT);t.Wv();w.uhc(u) && w.P_.IGb(t);w.Ihc(u) && (w.lca=!0);throw u;});};d.prototype.uhc=function(t){return t.yd === p.e5.$Ra?!1:this.config.opa;};d.prototype.Ihc=function(t){return t.xc === p.Y.IMa || t.xc === p.Y.cU || t.xc === p.Y.gU?!0:!1;};d.prototype.yVb=function(){var t;t=this;0 < this.P_.size.Mm(this.config.$eb)?this.IEa().catch(function(w){return t.ta.warn("Failed to send log messages on size threshold. " + w);}):this.cF();};d.prototype.Qs=function(){this.zca && (!1,this.zca.cancel(),this.zca=void 0);};d.prototype.cF=function(){this.zca || (!1,this.zca=this.Jc.zl(this.config.fgc,this.uR.bind(this)));};d.prototype.uR=function(){var t;t=this;this.lca=!1;this.Qs();this.IEa().catch(function(w){return t.ta.warn("Failed to send log messages on timer. " + w);});};d.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(u){}return w;};d.prototype.Hhc=function(t){return 0 <= this.config.Vmb.indexOf(t.type)?!0:t.type === v.Wc.debug?0 <= this.config.Umb.indexOf(t.data.debugCategory):!1;};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(k.mka)),r.__param(1,(0,l.l)(n.xH)),r.__param(2,(0,l.l)(f.ck)),r.__param(3,(0,l.l)(c.EPa)),r.__param(4,(0,l.l)(g.hb)),r.__param(5,(0,l.l)(m.NQa)),r.__param(6,(0,l.l)(q.W3))],a);b.pPa=a;},function(r,b,a){var h,n,c,f,g,k,m;function d(p){this.lO=c.Oa;this.doa=[];this.GV=this.e7=!1;p && (this.lO=p.size,this.doa=p.NK);}function l(p,q,v,t){this.j7b=p;this.config=q;this.zg=v;this.json=t;(0,n.Qq)(this,"json");this.ta=this.zg.eb("MessageQueue");this.Iv=[];}Object.defineProperty(b,"__esModule",{value:!0});b.MQa=void 0;r=a(0);h=a(1);n=a(54);c=a(52);f=a(293);g=a(7);k=a(37);a=a(50);l.prototype.tpa=function(p){var q,v;0 === this.Iv.length && this.Iv.push(this.wva());if(p=this.XZb(p)){q=this.j7b.measure([p]);v=this.Iv[this.Iv.length - 1];0 < v.size.add(q).Mm(this.config.$eb) && (v=this.wva(),this.Iv.push(v));v.tpa(p);}};l.prototype.cXb=function(){var p;p=this.Iv.filter(function(q){return q.TKb;});this.Iv.push(this.wva());p.forEach(function(q){return q.n6b();});return p;};l.prototype.IGb=function(p){p.au || this.Iv.unshift(new d(p));};l.prototype.Wdc=function(p){p=this.Iv.indexOf(p);0 <= p && this.Iv.splice(p,1);};l.prototype.XZb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,v;q={};p=p.data;v=p.debugMessage;v && "string" === typeof v && (q.originalDebugMessage=v);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.ta.error("JSON.stringify error: " + t.message,q);}};l.prototype.wva=function(){return new d();};Va.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Iv.reduce(function(p,q){return p.add(q.size);},c.Oa);}}});m=l;m=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(f.APa)),r.__param(1,(0,h.l)(a.mka)),r.__param(2,(0,h.l)(g.hb)),r.__param(3,(0,h.l)(k.xH))],m);b.MQa=m;d.prototype.KS=function(){this.e7=!1;this.GV=!0;};d.prototype.Wv=function(){this.e7=!1;};d.prototype.tpa=function(p){this.doa.push(p);this.lO=this.lO.add(p.size);};d.prototype.n6b=function(){this.e7=!0;};Va.Object.defineProperties(d.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.lO;}},NK:{configurable:!0,enumerable:!0,get:function(){return this.doa;}},TKb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.NK.length && !1 === this.e7;}},au:{configurable:!0,enumerable:!0,get:function(){return this.GV;}}});},function(r,b,a){var h,n,c,f,g,k,m,p,q,v,t;function d(w,u,y,x,z,B,A,C){this.Ia=w;this.platform=y;this.jl=x;this.json=z;this.bj=B;this.ti=A;this.K5b=C;(0,n.Qq)(this,"json");this.ta=u.eb("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.DPa=void 0;r=a(0);h=a(1);n=a(54);c=a(37);f=a(5);g=a(32);k=a(18);m=a(45);p=a(96);q=a(7);v=a(525);a=a(85);d.prototype.send=function(w){var u;u=this;return new Promise(function(y,x){var z;try{z=w.reduce(function(B,A){B.entries.push(u.mPb(A));return B;},new l());y(u.DWb(z));}catch(B){u.ta.error(B.message);x(B);}}).then(function(y){return u.KEa(y);});};d.prototype.mPb=function(w){return this.bj.bG(this.bj.bG({},w.data),{esn:this.jl().Yl,sev:w.severity,type:w.type,lver:this.platform.uza,jssid:this.Ia.id,devmod:this.platform.UE,jsoffms:w.timestamp.Fa(this.Ia.fC).ia(f.va),clienttime:w.timestamp.ia(f.va),client_utc:w.timestamp.ia(f.Jo),uiver:this.ti.Dz});};d.prototype.DWb=function(w){var u;u=this;try{return this.json.stringify(w);}catch(z){for(var y={},x=0;x < w.entries.length;(y={sT:y.sT,ix:y.ix},++x)){y.ix=Object.assign({},w.entries[x]);try{this.json.stringify(y.ix);}catch(B){y.sT=void 0;this.bj.dF(y.ix,(function(A){return function(C,D){try{u.json.stringify(D);}catch(E){A.sT=E.message;A.ix[C]=A.sT;}};})(y));y.ix.stringifyException=y.sT;y.ix.originalType=y.ix.type;y.ix.type="debug";y.ix.sev="error";}}return this.json.stringify(w);}};d.prototype.KEa=function(w){var u;u=this;return this.K5b.Xf(this.ta,{logblobs:w}).then(function(){!1;}).catch(function(y){u.ta.error("PBO logblob failed",y);return Promise.reject(y);});};t=d;t=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(k.kd)),r.__param(1,(0,h.l)(q.hb)),r.__param(2,(0,h.l)(m.Vp)),r.__param(3,(0,h.l)(p.Vz)),r.__param(4,(0,h.l)(c.xH)),r.__param(5,(0,h.l)(g.Ii)),r.__param(6,(0,h.l)(a.mA)),r.__param(7,(0,h.l)(v.xSa))],t);b.DPa=t;},function(r,b,a){var l,h,n;function d(c){this.config=c;}Object.defineProperty(b,"__esModule",{value:!0});b.zPa=void 0;r=a(0);l=a(1);h=a(293);n=a(52);d.prototype.measure=function(c){var f;f=this;return c.map(function(g){return g.size.add(f.config.F5b());}).reduce(function(g,k){return g.add(k);},(0,n.ha)(0));};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.yPa))],a);b.zPa=a;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p){m=g.Lf.call(this,m,"LogBatcherConfigImpl") || this;m.config=p;m.x6b=(0,l.ha)(5E5);m.fgc=(0,h.Fda)(1);m.$eb=(0,l.ha)(1E6);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.oPa=void 0;r=a(0);l=a(52);h=a(5);n=a(1);c=a(12);f=a(46);g=a(47);a=a(33);la(d,g.Lf);Va.Object.defineProperties(d.prototype,{opa:{configurable:!0,enumerable:!0,get:function(){return this.config().opa;}},Vmb:{configurable:!0,enumerable:!0,get:function(){return [];}},Umb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=d;r.__decorate([f.config(f.object(),"shedLogblobTypes")],k.prototype,"Vmb",null);r.__decorate([f.config(f.$A("string"),"shedDebugTypes")],k.prototype,"Umb",null);k=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(a.yn)),r.__param(1,(0,n.l)(c.uc))],k);b.oPa=k;},function(r,b,a){var h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x,z,B,A,C,D,E){this.platform=w;this.tsa=u;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=B;this.Ia=C;this.data=A;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.UE;this.data.clver=this.platform.version;t && t.Hd && (t.Hd.os && (this.data.osplatform=t.Hd.os.name,this.data.osver=y.platformVersion.d_?y.platformVersion.version:t.Hd.os.version),this.data.browsername=t.Hd.name,this.data.browserver=t.Hd.version);t.wya && (this.data.tester=!0);t.fK && !this.data.groupname && (this.data.groupname=t.fK);t.SO && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.SO:t.SO);t.H2 && (this.data.uigroupname=t.H2);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ia.LYb();this.data.uniqueLogId=D.D8a();this.data.appId=this.Ia.id;E && (t=this.Ia.Qb(),this.data.soffms=t.Fa(E.rj).ia(f.va),this.data.mid=this.data.mid || E.L,this.data.lvpi=E.tza,this.data.uiLabel=E.me,this.data.uxLabels=E.Bha,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || E.sa,E.JL && (x=E.JL,(E=E.JL.split(".")) && 1 < E.length && "S" !== E[0][0] && (x="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function l(t,w,u,y,x,z,B){this.za=t;this.tsa=w;this.config=u;this.Ia=y;this.Emc=x;this.platform=z;this.userAgentData=B;}Object.defineProperty(b,"__esModule",{value:!0});b.wPa=void 0;r=a(0);h=a(52);n=a(1);c=a(27);f=a(5);g=a(361);k=a(39);m=a(18);p=a(526);q=a(45);a=a(177);l.prototype.Nv=function(t,w,u,y){return new d(this.config,this.platform,this.tsa,this.userAgentData,t,w,this.za.rf,u,this.Ia,this.Emc,y);};v=l;v=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(c.Nh)),r.__param(1,(0,n.l)(g.FKa)),r.__param(2,(0,n.l)(k.Qp)),r.__param(3,(0,n.l)(m.kd)),r.__param(4,(0,n.l)(p.UWa)),r.__param(5,(0,n.l)(q.Vp)),r.__param(6,(0,n.l)(a.m6))],v);b.wPa=v;Va.Object.defineProperties(d.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.m2a || (this.m2a=(0,h.ha)(this.tsa.encode(this.data).length));return this.m2a;}}});},function(r,b,a){var l,h,n;function d(c){this.jl=c;}Object.defineProperty(b,"__esModule",{value:!0});b.xPa=void 0;r=a(0);l=a(1);h=a(52);a=a(96);d.prototype.F5b=function(){var c;c=this.jl()?this.jl().Yl.length:40;return (0,h.ha)(c + 33);};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.Vz))],n);b.xPa=n;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E;function d(G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa){this.Fob=G;this.Vg=F;this.jAa=K;this.dua=O;this.Ve=L;this.w$=I;this.Ef=M;this.config=H;this.Jd=J;this.za=N;this.Ia=P;this.platform=X;this.ys=V;this.hC=S;this.Xj=U;this.aw=ha;this.OK=qa;this.Ic=xa;this.WQ=Aa;this.PF=Oa;}Object.defineProperty(b,"__esModule",{value:!0});b.nU=void 0;r=a(0);l=a(487);h=a(50);n=a(32);c=a(495);f=a(287);g=a(1);k=a(201);m=a(528);p=a(529);q=a(65);v=a(12);t=a(27);w=a(18);u=a(45);y=a(88);x=a(120);z=a(167);B=a(37);A=a(39);C=a(294);D=a(100);a=a(234);d.prototype.create=function(G,F){return new m.pU(G,F,this.Fob,this.Vg,this.jAa,this.dua,this.Ve,this.w$,this.Ef,this.config,this.Jd,this.za,this.Ia,this.ys,this.hC,this.Xj,this.aw,this.OK,this.Ic,this.WQ,this.PF);};E=d;E=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(l.mWa)),r.__param(1,(0,g.l)(h.Ho)),r.__param(2,(0,g.l)(c.nQa)),r.__param(3,(0,g.l)(f.Cja)),r.__param(4,(0,g.l)(n.Ii)),r.__param(5,(0,g.l)(p.pLa)),r.__param(6,(0,g.l)(q.sx)),r.__param(7,(0,g.l)(v.uc)),r.__param(8,(0,g.l)(x.VH)),r.__param(9,(0,g.l)(t.Nh)),r.__param(10,(0,g.l)(w.kd)),r.__param(11,(0,g.l)(u.Vp)),r.__param(12,(0,g.l)(B.E5)),r.__param(13,(0,g.l)(y.bA)),r.__param(14,(0,g.l)(z.MH)),r.__param(15,(0,g.l)(A.Qp)),r.__param(16,(0,g.l)(C.Jka)),r.__param(17,(0,g.l)(k.pka)),r.__param(18,(0,g.l)(D.eA)),r.__param(19,(0,g.l)(a.eka))],E);b.nU=E;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;d=a(52);b.nLa=function(l,h){this.eSb=l;this.size=h.jya()?d.Oa:h;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wza=void 0;b.Wza=function(a,d){var c,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],h=d(l),n=1;n < a.length;n++){c=a[n];f=d(c);f > h && (l=c,h=f);}return l;}};},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y){this.platform=t;this.config=w;this.Ia=u;this.userAgentData=y;this.dXa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.BPa=void 0;r=a(0);l=a(1);h=a(18);n=a(4);c=a(45);f=a(5);g=a(12);k=a(23);m=a(14);p=a(203);q=a(177);v=a(49);d.prototype.ps=function(t,w,u){u && (t.adlid=u.Wb,t.abitrate=u.bitrate);w && (t.vdlid=w.Wb,t.vbitrate=w.bitrate);};d.prototype.ubb=function(t,w,u){u?t=Object.assign(t,(0,p.D$a)(this.platform.Qt,u)):t.errorcode=n.aa.Ko;t.errorcode === this.platform.Qt + n.aa.MRa && (t.lastSyncWithVideoElement=this.getTime() - w.n2);};d.prototype.zbb=function(t,w){var u;try{Object.assign(t,(0,p.iwa)());u=w.getBoundingClientRect();t.rendersize=u.width + "x" + u.height;t.renderpos=u.left + "x" + u.top;}catch(y){}};d.prototype.ybb=function(t,w){var u,y,x;u=w.Dc[v.u.J].value;y=w.Dc[v.u.U].value;x=w.hg.value;w=w.Re.value;u && (t.cdnid=u.id,t.cdnname=u.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Wb,t.abitrate=x.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(t.vdlid=w.stream.Wb,t.vbitrate=w.stream.bitrate,t.vheight=w.stream.height,t.vwidth=w.stream.width);};d.prototype.wbb=function(t,w,u){0 <= w.mediaTime.value && (w=u && !w.jb.Gh?w.DX:w.mediaTime.value,t.moff=(0,k.Yn)(w),t.moffms=(0,k.vg)(w));};d.prototype.sbb=function(t,w){w.sg && (t.pbcid=w.sg);w.Wg && (t.playbackcontextid=w.Wg);};d.prototype.yxa=function(t){var w,u;t.browserua=m.HH;t.browseruad=null === (u=null === (w=m.lf.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === u?void 0:u.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.d_?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(w=m.lf && m.lf.connection && m.lf.connection.type) && (t.nettype=w);};d.prototype.rQ=function(t){var w,u,y,x,z;if(this.config().mTb){z=null === (w=null === m.lf || void 0 === m.lf?void 0:m.lf.connection) || void 0 === w?void 0:w.effectiveType;w=null === m.lf || void 0 === m.lf?void 0:m.lf.deviceMemory;z && (t.effectiveType=z);w && (t.deviceMemory=w);}(z=null === (u=null === m.lf || void 0 === m.lf?void 0:m.lf.connection) || void 0 === u?void 0:u.type) && (t.connectionType=z);u=null === (y=null === m.lf || void 0 === m.lf?void 0:m.lf.connection) || void 0 === y?void 0:y.downlink;"number" === typeof u && isFinite(u) && (t.downlink=u);y=null === (x=null === m.lf || void 0 === m.lf?void 0:m.lf.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};d.prototype.Oba=function(t,w){if(w=w.jb.ro)(w.isUIAutoPlay && (t.isUIAutoPlay=!0),w.clLogId && (t.cl_log_id=w.clLogId));};d.prototype.sQ=function(t,w,u,y){var x,z,B,A,C;x=this;if(u=u && u.streams){B=new Set();A=new Set();C=new Set();u.forEach(function(D){D=D.qf;B.add(D);A.add(D.replace(x.dXa,""));(D=D.match(x.dXa)) && 0 < D.length && C.add(D[1]);});t.videoProfiles=[].concat(ia(B));t.videoProfile=0 === A.size?"none":[].concat(ia(A))[0];t.videoProfileLevels=[].concat(ia(C));u && u.length && (t.isMcClearen=!!u[0].ak.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=y.ba) || void 0 === z?0:z.X2) && (t.videoProfilesStatus=this.Jeb(y.ba.X2));};d.prototype.Jeb=function(t){return this.k6b(t.eQ(),function(w){return w.supported?!0:w.reason;});};d.prototype.k6b=function(t,w){return Object.entries(t).reduce(function(u,y){var x;x=oa(y);y=x.next().value;x=x.next().value;u[y]=w(x);return u;},{});};d.prototype.pbb=function(t,w,u){var y,x;if(w=w && w.streams){x={};w.forEach(function(z){x[z.qf]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=u.ba) || void 0 === y?0:y.QW) && (t.audioProfilesStatus=this.Jeb(u.ba.QW));};d.prototype.tbb=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};d.prototype.getTime=function(){return this.Ia.Qb().ia(f.va);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(c.Vp)),r.__param(1,(0,l.l)(g.uc)),r.__param(2,(0,l.l)(h.kd)),r.__param(3,(0,l.l)(q.m6))],a);b.BPa=a;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v,t){this.Vg=m;this.config=p;this.za=q;this.Ia=v;this.wza=t;}Object.defineProperty(b,"__esModule",{value:!0});b.qU=void 0;r=a(0);l=a(50);h=a(1);n=a(201);c=a(12);f=a(27);g=a(18);k=a(1286);d.prototype.create=function(m,p,q){var v;v=this.wza.create(m,p);return new k.sU(m,p,q,this.Vg,this.config,this.Ia,v);};a=d;a=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(l.Ho)),r.__param(1,(0,h.l)(c.uc)),r.__param(2,(0,h.l)(f.Nh)),r.__param(3,(0,h.l)(g.kd)),r.__param(4,(0,h.l)(n.oU))],a);b.qU=a;},function(r,b,a){var l,h,n,c,f;function d(g,k,m,p,q,v,t){var w;w=this;this.j=g;this.Ha=k;this.Vg=p;this.config=q;this.Ia=v;this.ob=t;this.gC=function(u,y){return function(x){var z;z=y(x);if("number" !== typeof z)throw Error("Event " + JSON.stringify(x) + " does not have movie Id");z === w.L && u(x);};};this.Heb=this.gC(function(u){w.Fga(u.sK);},function(u){return u.L;});this.Eeb=this.gC(function(){w.lX();},function(u){return u.L;});this.p3a=this.gC(function(){w.lX();},function(u){return u.movieId;});this.nra=this.gC(function(){w.j.Db.value === f.qb.Xc && (w.j.Db.removeListener(w.nra),w.Iw());},function(){return w.j.L;});this.dD=function(u){w.zs && w.ob.dD(u);};this.v3a=this.gC(this.ob.pMb,function(u){return u.L;});this.c6a=this.gC(this.ob.ZRb,function(u){return u.L;});this.geb=this.gC(this.ob.u_,function(u){return w.j.Lj(u.segmentId).L;});this.amb=this.gC(this.ob.G1,function(u){return w.j.Lj(u.segmentId).L;});this.S5a=this.gC(this.ob.fta,function(u){return u.L;});this.tl=function(u){u.skip && (w.uo=!0);switch(u.cause){case f.Fd.pA:case f.Fd.kU:case f.Fd.g6:w.Du && w.kr && w.ob.iCa(w.getTime() - w.kr,w.Du);w.Du="repos";w.ob.AG(u.hBa,u.hg,u.Re);w.kr=w.getTime();(0,c.Rg)(w.ny);break;case f.Fd.g4:(w.Du="force_rebuffer",w.kr=w.getTime(),(0,c.Rg)(w.ny));}};this.Mn=function(u){w.dC=u.oldValue;w.ob.Mn(u);};this.ny=function(){var u;if(w.kr && w.j.Db.value !== f.qb.Hg){u=w.getTime() - w.kr;w.ob.Ww(u,w.uo,w.Du);w.dC && w.dC != w.j.Hc.value && w.ob.dqa();w.kr=void 0;w.Du=void 0;w.uo=void 0;}};this.Iw=function(){w.zs || (w.zs=!0,w.ob.Ju(!1),w.Hxa(),w.config().Vba && (w.aC=mb.setTimeout(function(){w.Vg.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.aC=void 0;},w.config().Vba)));};this.Ah=function(){w.aC && (mb.clearTimeout(w.aC),w.aC=void 0);if(w.config().x$ || w.config().FO)(w.gta && (mb.clearInterval(w.gta),w.gta=void 0),w.ob.Q5a());w.J2 && w.J2();w.zs?w.ob.HB(!!w.j.Qi):w.j.Qi?w.ob.Ju(!0):w.Ha.background.value || w.ob.jCa();};this.Z2=function(u){u.oldValue && u.lj && u.lj.eJ && w.ob.mB(u.oldValue,u.newValue,u.lj.eJ,u.lj.ZW);};this.R0=function(u){var y;if(u.newValue){y=u.newValue.stream;w.CK != y && (w.CK && y && w.ob.BDa(w.CK,y,u.newValue.Qn.startTime),w.CK=y);}};this.L=k.L;this.log=(0,h.nj)(g,"LogblobBuilder");this.oa();m && this.Fga();}Object.defineProperty(b,"__esModule",{value:!0});b.sU=void 0;l=a(17);h=a(10);n=a(5);c=a(59);f=a(16);d.prototype.oa=function(){this.j.addEventListener(f.ka.GK,this.Heb);this.j.addEventListener(f.ka.Mza,this.Eeb);this.j.addEventListener(f.ka.u_,this.geb);this.j.addEventListener(f.ka.G1,this.amb);this.j.addEventListener(f.ka.Ah,this.p3a);this.j.addEventListener(f.ka.FB,this.S5a,l.y5);if(this.config().x$ || this.config().FO)(this.j.addEventListener(f.ka.FB,this.c6a),this.gta=mb.setInterval(this.ob.Q5a,this.config().dSb));this.config().IDa && this.j.addEventListener(f.ka.FB,this.v3a);};d.prototype.Fga=function(g){var k;k=this;this.$fb || (this.j.Db.value !== f.qb.Xc || (void 0 === g?0:g)?this.j.Db.addListener(this.nra):this.Iw(),this.j.Fj.addListener(this.dD),this.j.Mb.addListener(this.ob.nn),this.j.Hc.addListener(this.Mn),this.j.ei.addListener(this.ob.SW),this.j.paused.addListener(this.ob.Bea),this.j.Re.addListener(this.R0),this.j.Db.addListener(this.ny),this.j.Db.addListener(this.ob.gpb),this.j.Kf.addListener(this.Z2),this.j.playbackRate.addListener(this.ob.W1),this.j.addEventListener(f.ka.jj,this.ob.jj),this.j.addEventListener(f.ka.SI,this.ob.SI),this.j.addEventListener(f.ka.Pca,this.ob.Pca),this.j.addEventListener(f.ka.Oca,this.ob.Oca),this.j.addEventListener(f.ka.JS,this.ob.JS),this.j.addEventListener(f.ka.eB,function(m){k.Du="rebuffer";k.ob.eB(m);k.kr=k.getTime();(0,c.Rg)(k.ny);}),this.j.addEventListener(f.ka.tl,this.tl),this.j.addEventListener(f.ka.QS,this.ob.QS),this.Ha.Ur && this.Ha.Ur.addListener(this.ob.Ur),this.$fb=!0);};d.prototype.lX=function(){this.Ah();this.$fb && (this.j.removeEventListener(f.ka.GK,this.Heb),this.j.removeEventListener(f.ka.Mza,this.Eeb),this.j.removeEventListener(f.ka.u_,this.geb),this.j.removeEventListener(f.ka.G1,this.amb),this.j.Fj.removeListener(this.dD),this.j.Mb.removeListener(this.ob.nn),this.j.Hc.removeListener(this.Mn),this.j.ei.removeListener(this.ob.SW),this.j.paused.removeListener(this.ob.Bea),this.j.Re.removeListener(this.R0),this.j.Db.removeListener(this.ny),this.j.Db.removeListener(this.nra),this.j.Db.removeListener(this.ob.gpb),this.j.Kf.removeListener(this.Z2),this.j.playbackRate.removeListener(this.ob.W1),this.j.removeEventListener(f.ka.FB,this.S5a),this.j.removeEventListener(f.ka.Ah,this.p3a),this.j.removeEventListener(f.ka.jj,this.ob.jj),this.j.removeEventListener(f.ka.SI,this.ob.SI),this.j.removeEventListener(f.ka.JS,this.ob.JS),this.j.removeEventListener(f.ka.eB,this.ob.eB),this.j.removeEventListener(f.ka.tl,this.tl),this.j.removeEventListener(f.ka.QS,this.ob.QS),this.Ha.Ur && this.Ha.Ur.removeListener(this.ob.Ur),this.j.removeEventListener(f.ka.FB,this.c6a),this.j.removeEventListener(f.ka.FB,this.v3a));};d.prototype.getTime=function(){return this.Ia.Qb().ia(n.va);};d.prototype.Hxa=function(){var g,k,m;g=this;m=[];this.config().Gfb && (this.config().Hfb.forEach(function(p){m.push(mb.setTimeout(g.ob.sC,p));}),this.config().sda && (k=mb.setInterval(this.ob.sC,this.config().sda)),this.J2=function(){m.forEach(function(p){mb.clearTimeout(p);});k && mb.clearInterval(k);});};b.sU=d;},function(r,b,a){var d,l,h,n,c,f,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.qgb=void 0;r=a(1);d=a(1288);l=a(65);h=a(532);n=a(1289);c=a(534);f=a(533);g=a(1290);k=a(383);m=a(1294);b.qgb=new r.Kd(function(p){p(h.rXa).to(d.qXa).la();p(l.sx).XG(function(){return mb._cad_global.http;});p(c.hRa).to(n.gRa).la();p(f.iRa).pn(g.default);p(k.ENa).to(m.DNa).la();});},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.qXa=void 0;r=a(0);a=a(1);d.prototype.create=function(){return new XMLHttpRequest();};l=d;l=r.__decorate([(0,a.$)()],l);b.qXa=l;},function(r,b,a){var l,h,n,c;function d(f,g,k){this.config=f;this.x5b=g;this.Bc=k;}Object.defineProperty(b,"__esModule",{value:!0});b.gRa=void 0;r=a(0);l=a(354);h=a(1);n=a(202);a=a(533);d.prototype.uPb=function(){if(this.config.wqb)return this.Bc(this.x5b());};c=d;c=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(l.fRa)),r.__param(1,(0,h.l)(n.bRa)),r.__param(2,(0,h.l)(a.iRa))],c);b.gRa=c;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(1291);l=a(1292);h=a(1293);b.default=function(n){var c;n=new d.lia(n);c=new h.Bxb(n);return new l.Axb(n,c);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(d){this.deb=d;}a.prototype.VEa=function(d){try{this.deb.setItem("gtp",JSON.stringify(d));}catch(l){return !1;}return !0;};a.prototype.L9a=function(){var d;try{d=this.deb.getItem("gtp");if(d)return JSON.parse(d);}catch(l){}};a.prototype.up=function(){var d;d=this.L9a();if(d && d.tp)return d.tp.a;};a.prototype.vYb=function(){var d;d=this.Iva();if(d)return d.p25;};a.prototype.wYb=function(){var d;d=this.Iva();if(d)return d.p50;};a.prototype.xYb=function(){var d;d=this.Iva();if(d)return d.p75;};a.prototype.Iva=function(){var d;d=this.L9a();if(d && (d=d.iqr))return d;};return a;})();b.lia=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(d,l){this.hy=d;this.QAa=l;}a.prototype.VEa=function(d){return this.hy.VEa(d);};a.prototype.up=function(){return this.hy.up();};return a;})();b.Axb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(d){this.hy=d;}a.prototype.QAa=function(){var d,l,h;d=this.hy.vYb();l=this.hy.wYb();h=this.hy.xYb();if("number" === typeof d && "number" === typeof l && "number" === typeof h)return (h - d) / l;};return a;})();b.Bxb=r;},function(r,b,a){var l,h,n;function d(c,f){this.Ef=f;this.ta=c.eb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.DNa=void 0;r=a(0);l=a(1);h=a(7);a=a(65);d.prototype.download=function(c,f){var g;g=this;f=void 0 === f?{ifb:0}:f;return new Promise(function(k,m){var q;function p(v){if(v.ja)return k(v.content);if(q === f.ifb)return m({Da:v.Da,iK:v.Xl});q++;!1;g.Ef.download(c,p);}q=0;g.Ef.download(c,p);});};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(a.sx))],n);b.DNa=n;},function(r,b,a){var d,l,h,n,c,f,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.x8a=void 0;r=a(1);d=a(1296);l=a(1297);h=a(1298);n=a(1299);c=a(1300);f=a(535);g=a(536);k=a(175);b.x8a=new r.Kd(function(m){m(k.GMa).to(d.FMa).la();m(k.GUa).to(l.FUa).la();m(k.EUa).to(h.DUa).la();m(f.CMa).to(n.BMa).la();m(g.HNa).to(c.GNa).la();});},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v,t,w,u,y){this.config=p;this.gbb=q;this.Jc=v;this.Dg=t;this.tec=w;this.FDa=u;this.V3b=0;this.ta=y.eb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;r=a(0);h=a(1);n=a(5);c=a(48);f=a(7);g=a(535);k=a(536);a=a(175);d.prototype.start=function(){this.config.enabled && !this.Eu && (this.Eu=this.Jc.zl(this.config.unb,this.rz.bind(this)));};d.prototype.stop=function(){this.Eu && (this.Eu.cancel(),this.Eu=void 0);};d.prototype.rz=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.V3b++;this.x_b(q).then(function(v){return Promise.all(v.urls.map(function(t){return p.p0b(v,t.url,t.name);})).then(function(t){0 < t.length && p.tec.l1({data:t,context:v.context,xza:v.xza});}).then(function(){return v;});}).then(function(v){p.Eu && (v.kdb?p.Eu=p.Jc.zl(v.kdb,p.rz.bind(p)):p.stop());}).catch(function(v){return p.ta.error("FTL run failed",v);});};d.prototype.x_b=function(p){var q;q=this;return this.gbb.get(p,!1).then(function(v){var t;if(200 != v.status || null == v.body)return (q.FDa.l1({url:p,status:v.status,eCa:"FTL API request failed",Pe:v.Pe}),Promise.reject(Error("FTL API request failed: " + v.status)));t=q.Dg.parse(v.body);return t instanceof Error?(q.FDa.l1({url:p,status:4,eCa:"FTL Probe API JSON parsing error",Pe:v.Pe}),Promise.reject(t)):Promise.resolve(t);}).catch(function(v){v instanceof Error && (q.FDa.l1({url:p,status:0,eCa:v.message}),q.ta.error("FTL API call failed",v.message));return Promise.reject(v);});};d.prototype.p0b=function(p,q,v){var t;t=this;return new Promise(function(w,u){var E;for(var y,x,z,B,A=[],C={},D=0;D < p.Jcc;(C={Vha:C.Vha,Wha:C.Wha},++D)){C.Vha=D < p.Djb.length?p.Djb[D]:n.Oa;C.Wha="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(G){return function(){return new Promise(function(F,K){t.Jc.zl(G.Vha,function(){l.icc(t.gbb,G.Wha,p.Icc).then(function(O){function L(I,M,H){I || (I=H.headers[M]);return I;}y=L(y,"via",O);x=L(x,"x-ftl-probe-data",O);z=L(z,"x-ftl-error",O);B=L(B,"latency-trace",O);O={status:O.status,Pe:O.Pe,Smc:y || "",KLb:x || "",pY:z || "",z4b:t.X$b(B)};F(O);}).catch(function(O){K(O);});});});};})(C);A.push(0 < D?A[D - 1].then(E):E());}Promise.all(A).then(function(G){w({url:q,name:v,data:G});}).catch(function(G){u(G);});});};d.prototype.X$b=function(p){var q;if(p){q={};p=oa(p.split(";"));for(var v=p.next();!v.done;v=p.next()){if((v=v.value.trim().split("=")) && 2 == v.length)try{q[v[0].trim()]=Number.parseInt(v[1]);}catch(t){}}return q;}};d.icc=function(p,q,v){return p.get(q,!1,v).then(function(t){return Object.assign({},t);});};m=l=d;m=l=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(a.EMa)),r.__param(1,(0,h.l)(k.HNa)),r.__param(2,(0,h.l)(c.ck)),r.__param(3,(0,h.l)(g.CMa)),r.__param(4,(0,h.l)(a.GUa)),r.__param(5,(0,h.l)(a.EUa)),r.__param(6,(0,h.l)(f.hb))],m);b.FMa=m;},function(r,b,a){var l,h,n,c,f,g;function d(k,m){this.Vg=k;this.rAa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.FUa=void 0;r=a(0);h=a(1);n=a(52);c=a(5);f=a(50);a=a(88);d.prototype.l1=function(k){var m;m={ctx:k.context,data:k.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.Dnc({d:q.Pe.duration.ia(c.va),sc:q.status,sz:q.Pe.size.ia(n.nx),via:q.Smc,cip:q.KLb,err:q.pY},q);})};})};k=this.rAa.Nv(k.xza,"info",m);this.Vg.Ec(k);};d.Dnc=function(k,m){l.gy(k,"dns",m.Pe.X5a);l.gy(k,"tcp",m.Pe.kGa);l.gy(k,"tls",m.Pe.wGa);l.gy(k,"ttfb",m.Pe.rGa);l.cHb(k,m.z4b);return k;};d.cHb=function(k,m){m && (k.rtts=m);};d.gy=function(k,m,p){p && (k[m]=p.ia(c.va));};g=l=d;g=l=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(f.Ho)),r.__param(1,(0,h.l)(a.bA))],g);b.FUa=g;},function(r,b,a){var l,h,n,c,f,g;function d(k,m){this.Vg=k;this.rAa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.DUa=void 0;r=a(0);h=a(1);n=a(52);c=a(5);f=a(50);a=a(88);d.prototype.l1=function(k){k=this.rAa.Nv("ftlProbeError","info",l.Cnc({url:k.url,sc:k.status,pf_err:k.eCa},k));this.Vg.Ec(k);};d.Cnc=function(k,m){m.Pe && (m=m.Pe,l.gy(k,"d",m.duration),l.gy(k,"dns",m.X5a),l.gy(k,"tcp",m.kGa),l.gy(k,"tls",m.wGa),l.gy(k,"ttfb",m.rGa),k.sz=m.size.ia(n.nx));return k;};d.gy=function(k,m,p){p && (k[m]=p.ia(c.va));};g=l=d;g=l=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(f.Ho)),r.__param(1,(0,h.l)(a.bA))],g);b.DUa=g;},function(r,b,a){var l,h,n,c,f;function d(g,k){this.is=g;this.json=k;(0,h.Qq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.BMa=void 0;r=a(0);l=a(1);h=a(54);n=a(37);c=a(5);a=a(25);d.prototype.parse=function(g){var m;g=this.json.parse(g);if(!this.is.apa(g))throw Error("FtlProbe: param: not an object");if(g.next && !this.is.sW(g.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.sW(g.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(g.pulse_delays && !this.is.wE(g.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.sW(g.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.wE(g.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Vo(g.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.IW(g.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < g.urls.length;++k){m=g.urls[k];if(!this.is.apa(m))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Mr(m.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Mr(m.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {Jcc:g.pulses,Djb:g.pulse_delays?g.pulse_delays.map(c.Vb):[],Icc:(0,c.Vb)(g.pulse_timeout),kdb:g.next?(0,c.Vb)(g.next):void 0,urls:g.urls,xza:g.logblob,context:g.ctx};};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.ah)),r.__param(1,(0,l.l)(n.xH))],f);b.BMa=f;},function(r,b,a){var l,h,n,c,f,g,k,m,p;function d(q,v,t){this.za=q;this.Hnc=v;this.performance=t;(0,h.Qq)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.GNa=void 0;r=a(0);h=a(54);n=a(290);c=a(52);f=a(37);g=a(27);k=a(1);m=a(532);p=a(5);d.prototype.get=function(q,v,t){var w;w=this;return new Promise(function(u,y){var x,z,B;try{x=w.Hnc.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);v && (x.withCredentials=!0);t && (x.timeout=t.ia(p.va));z=w.za.rf;B=void 0;x.onreadystatechange=function(){var A;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:B=w.za.rf.Fa(z);break;case XMLHttpRequest.DONE:A=w.za.rf.Fa(z);A={body:x.responseText,status:x.status,headers:l.MBa(x.getAllResponseHeaders()),Pe:w.Tva(q,(0,c.ha)(x.responseText.length),A,B)};u(A);}};x.send();}catch(A){y(A);}});};d.MBa=function(q){var v,w,u;v={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];u=w.indexOf(": ");0 < u && (v[w.substring(0,u).toLowerCase()]=w.substring(u + 2));}return v;};d.prototype.Tva=function(q,v,t,w){v={size:v,duration:t,rGa:w};if(!this.performance || !this.performance.getEntriesByName)return v;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return v;q=t[t.length - 1];v=(0,n.QQ)(v);q.decodedBodySize && (v.size=(0,c.ha)(q.decodedBodySize));0 < q.duration?v.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (v.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (v.X5a=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),v.kGa=(0,p.timestamp)(q.connectEnd - q.connectStart),v.rGa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?v.wGa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,v.wGa=(0,p.timestamp)(t),v.kGa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)));return v;};a=l=d;a=l=r.__decorate([(0,k.$)(),r.__param(0,(0,k.l)(g.Nh)),r.__param(1,(0,k.l)(m.rXa)),r.__param(2,(0,k.l)(f.lla)),r.__param(2,(0,k.optional)())],a);b.GNa=a;},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.zjb=void 0;r=a(1);d=a(355);l=a(1302);h=a(205);n=a(1303);b.zjb=new r.Kd(function(c){c(d.xLa).to(l.wLa).la();c(h.mU).to(n.ZOa).la();});},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v,t){this.bj=p;this.BE=q;this.Cmc=v;this.KQ=t;}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;r=a(0);l=a(1);h=a(32);n=a(30);c=a(69);f=a(126);g=a(57);k=a(43);a=a(205);d.prototype.oi=function(p){var q;q=this;return this.bj.LE(p.fl[0].data[0],[8,4])?Promise.resolve({cf:[{id:"ddd",EK:"cert",n_:void 0}],yk:[{sessionId:"ddd",data:new Uint8Array(this.BE.decode(k.iXa))}]}):this.bj.LE(p.fl[0].data[0],this.Cmc.decode("certificate"))?Promise.resolve({cf:[{id:"ddd",EK:"cert",n_:void 0}],yk:[{sessionId:"ddd",data:new Uint8Array(this.BE.decode(k.f4))}]}):this.KQ.cy(this.pWb(p)).then(function(v){return q.qWb(v);});};d.prototype.release=function(p){return this.KQ.release(this.uWb(p)).then(function(){});};d.prototype.pWb=function(p){var q,v;q=this;v=p.fl.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.BE.encode(w)};});});return {sa:p.sa,Wg:p.Wg,z$:p.z$,yg:(0,g.bza)(p.yg),ip:f.ym[p.ip],fl:v.reduce(function(t,w){return t.concat(w);},[]),Oj:p.Oj,qh:p.qh};};d.prototype.uWb=function(p){return {sa:p.sa,cf:p.cf};};d.prototype.qWb=function(p){return {cf:p.cf,yk:p.yk};};m=d;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.Ii)),r.__param(1,(0,l.l)(n.Fi)),r.__param(2,(0,l.l)(c.dt)),r.__param(3,(0,l.l)(a.mU))],m);b.wLa=m;},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p,q,v){this.pGb=k;this.Rdc=m;this.Tkb=q;this.$ec=v;this.ta=p.eb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.ZOa=void 0;r=a(0);l=a(1);h=a(7);n=a(537);a(538);c=a(542);f=a(543);a=a(295);d.prototype.cy=function(k){var m,p;m=this;!1;p=this.Tkb.Ikc(k);return this.pGb.Cq(this.ta,k.Oj,p).then(function(q){q.map(function(v){return v.D4b;});return m.$ec.jpb(q);}).catch(function(q){m.ta.error("PBO license failed",q);return Promise.reject(q);});};d.prototype.release=function(k){var m;m=this;!1;k=this.Tkb.Lkc(k);return this.Rdc.Xf(this.ta,k).then(function(){return {ja:!0};}).catch(function(p){m.ta.error("PBO release license failed",p);return Promise.reject(p);});};g=d;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.bSa)),r.__param(1,(0,l.l)(c.PSa)),r.__param(2,(0,l.l)(h.hb)),r.__param(3,(0,l.l)(f.rSa)),r.__param(4,(0,l.l)(a.hla))],g);b.ZOa=g;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u;function d(y){return function(){return y.xb.get(l.KSa).oa();};}Object.defineProperty(b,"__esModule",{value:!0});b.jL=void 0;r=a(1);l=a(151);h=a(240);n=a(296);c=a(544);f=a(1305);g=a(1306);k=a(545);m=a(1307);p=a(546);q=a(1308);v=a(297);t=a(1309);w=a(547);u=a(1310);b.jL=new r.Kd(function(y){y(k.wTa).to(m.vTa).la();y(h.jla).to(n.GSa).la();y(c.hSa).to(f.gSa).la();y(l.KSa).to(g.JSa).la();y(l.KU).A2(d);y(w.ISa).to(u.HSa).la();y(p.nSa).to(q.mSa).la().d3();y(v.MSa).to(t.LSa).la();y(v.DSa).to(t.CSa).la();y(v.FSa).to(t.ESa).la();});},function(r,b,a){var n,c,f,g,k,m,p,q,v,t;function d(){}function l(){}function h(w,u,y,x,z){var B;B=this;this.is=w;this.kn=u;this.config=y;this.wJ=x;this.gac=z;this.cx=function(){return new d().encode({version:B.version,data:B.jL});};this.hmc=function(A){A=B.upgrade(A);B.gac.validate(A);return A;};this.upgrade=function(A){var C;if(B.is.Vo(A))return B.imc(A);C=A.version;if(void 0 != C && B.is.Rl(C) && 1 == C)return B.jmc(A);C=A.version;if(void 0 != C && B.is.Rl(C) && 2 == C)return new d().decode(A);if(A.version && B.is.Rl(A.version))throw new k.rd(f.aa.BD,f.Y.FJa,void 0,void 0,void 0,"Version number is not supported. Version: " + A.version,void 0,A);throw new k.rd(f.aa.BD,f.Y.vD,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,A);};this.qm=new m.Xja(2,this.config().Fib,"" !== this.config().Fib && 0 < this.config().Lac,this.kn,this.cx);}Object.defineProperty(b,"__esModule",{value:!0});b.gSa=void 0;r=a(0);n=a(1);c=a(12);f=a(4);g=a(25);k=a(36);m=a(344);p=a(84);q=a(96);v=a(296);a=a(297);h.prototype.$cc=function(){return this.qm.load(this.hmc).catch(function(w){throw new k.rd(f.aa.BD,w.Da || w.xc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};h.prototype.gHb=function(w){return this.qm.add(w);};h.prototype.zkb=function(w){return this.qm.remove(w,function(u,y){return u.sa === y.sa;});};h.prototype.aHa=function(w){return this.qm.update(w,function(u,y){return u.sa === y.sa;});};h.prototype.toString=function(){return JSON.stringify(this.cx(),null,"  ");};h.prototype.lqb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.wJ().Yl:"";};h.prototype.eHa=function(w){return w.map(function(u){return {Wb:u.downloadableId,duration:u.duration};});};h.prototype.mqb=function(w){var u;return w?{total:w.playTimes.total,eM:null !== (u=w.playTimes.totalContentTime) && void 0 !== u?u:w.playTimes.total,VS:w.playTimes.total,YG:0,ZG:0,fM:0,gM:0,audio:this.eHa(w.playTimes.audio || []),video:this.eHa(w.playTimes.video || []),text:this.eHa(w.playTimes.timedtext || [])}:{total:0,eM:0,VS:0,YG:0,ZG:0,fM:0,gM:0,audio:[],video:[],text:[]};};h.prototype.imc=function(w){var u,y,x;u=this;w=JSON.parse(w);y={qh:"VOD",href:this.lqb(w.playbackContextId),sa:w.xid?w.xid.toString():"",L:w.movieId,position:w.position,oB:w.timestamp,so:w.playback?1E3 * w.playback.startEpoch:-1,VQ:w.mediaId,ez:this.mqb(w.playback),trackId:"",ro:{},profileId:w.accountKey};x=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.kn.create().then(function(z){z.save(u.config().YX,x,!1);});if("" === y.href || "" === y.sa)throw new k.rd(f.aa.BD,f.Y.vD);return {version:2,data:[y]};};h.prototype.jmc=function(w){var u;u=this;if(!w.playdata || !this.is.wE(w.playdata))throw new k.rd(f.aa.BD,f.Y.vD,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(y){return y.map(function(x){var z;return {qh:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:u.lqb(x.playbackContextId),sa:x.xid?x.xid.toString():"",L:x.movieId,position:x.position,oB:x.timestamp,so:x.playback?1E3 * x.playback.startEpoch:-1,VQ:x.mediaId,ez:u.mqb(x.playback),trackId:"",ro:{},profileId:x.profileId};});})(w.playdata)};};Va.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.qm.version;}},jL:{configurable:!0,enumerable:!0,get:function(){return this.qm.On;}}});t=h;t=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(g.ah)),r.__param(1,(0,n.l)(p.Nz)),r.__param(2,(0,n.l)(c.uc)),r.__param(3,(0,n.l)(q.Vz)),r.__param(4,(0,n.l)(a.FSa))],t);b.gSa=t;l.prototype.encode=function(w){var u;u=new v.D5();return w.map(u.encode);};l.prototype.decode=function(w){var u;u=new v.D5();return w.map(u.decode);};d.prototype.encode=function(w){return {version:w.version,data:new l().encode(w.data)};};d.prototype.decode=function(w){return {version:w.version,data:new l().decode(w.data)};};},function(r,b,a){var n,c,f,g,k,m,p,q,v,t,w,u,y;function d(x,z,B,A,C,D,E,G){this.config=x;this.Jc=B;this.Ez=A;this.Kw=C;this.Lea=D;this.Vi=E;this.AK=Promise.resolve();this.closed=!1;this.log=z.eb("PlaydataServices");this.iL=[];this.active=new Set();this.ffc=new l(x,G);}function l(x,z){this.config=x;this.za=z;}function h(x,z,B,A,C,D){this.log=x;this.Jc=z;this.vi=B;this.Kw=A;this.Ez=C;this.Eac=D;this.q7a=this.Uf=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.JSa=b.Jyb=void 0;r=a(0);n=a(1);c=a(5);f=a(7);g=a(48);k=a(240);m=a(544);p=a(545);q=a(4);v=a(296);t=a(546);w=a(82);u=a(27);a=a(148);h.prototype.fR=function(x,z){var A;function B(){var C;C=A.Kw.create(A.vi);A.Ez.aHa(C).catch(function(D){var E;E=A.q7a?f.Ok.wma:f.Ok.mg;A.q7a=!0;A.log.write(E,"Unable to save playdata changes to IDB",D);});}A=this;this.log.trace("Adding initial playdata",z);this.Ez.gHb(z).then(function(){A.log.trace("Scheduling monitor",{interval:x});A.Eu=A.Jc.iS(x,B);}).catch(function(C){A.log.error("Unable to add playdata",{error:C,playdata:new v.D5().encode(z)});A.Eu=A.Jc.iS(x,B);});};h.prototype.stop=function(x){var z,B;z=this;if(this.Uf)return Promise.resolve();this.Eu && this.Eu.cancel();B=this.Kw.create(this.vi);return this.Ez.aHa(B).catch(function(A){z.log.error("Unable to update playdata changes during stop",A);}).then(function(){if(x){if(z.vi.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",B),Promise.resolve());z.log.trace("Sending final playdata to the server",B);return z.Eac.Xlb(B);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",B),z.Ez.zkb(B));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",B.L);}).catch(function(A){z.log.error("Unable to remove playdata changes",A);throw A;});};h.prototype.cancel=function(){this.Uf=!0;this.Eu && this.Eu.cancel();this.Ez.aHa(this.Kw.create(this.vi));};Va.Object.defineProperties(l.prototype,{OKb:{configurable:!0,enumerable:!0,get:function(){var x;x=this.za.rf;return !this.AK || 0 <= x.Fa(this.AK).Mm(this.config.mdb)?(this.AK=x,!0):!1;}}});b.Jyb=l;d.prototype.oa=function(){var x;x=this;this.FF || (this.log.trace("Starting playdata services"),this.FF=this.Ez.$cc().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.FF;};d.prototype.close=function(){this.closed=!0;this.iL.forEach(function(x){x.fR.cancel();});};d.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.fL && z.JEa?this.dgc(x):Promise.resolve();};d.prototype.Cl=function(x,z,B){var A;A=this;this.closed || (this.KFa(x),this.LEa(x).catch(function(C){A.log.error("Start command failed",{playdata:C.jL,error:C.pY});}),z && this.HFa(this.yYb(x),x,B));};d.prototype.d2=function(x){var z,B,A;z=this;if(this.closed)return Promise.resolve();B=this.Kw.create(x);this.active.delete(B.sa);x=oa((0,w.Hw)(function(C){return C.key === B.sa;},this.iL));A=x.next().value;this.iL=x.next().value;return Promise.all(A.map(function(C){C.stopped=!0;return C.fR.stop(z.config.JEa);})).then(function(){});};d.prototype.KFa=function(x){var z,B;x.ef("pdb");if(this.config.cCa.Icb()){z=this.Kw.create(x);B=z.sa;this.iL.some(function(A){return A.key === B;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(B),this.iL.push({key:B,fR:this.WYb(x,z),yz:!1,stopped:!1}));}};d.prototype.dgc=function(x){var z,B,A,C;z=this;B=this.Ez.jL.filter(function(D){return !z.active.has(D.sa);});A=void 0;C=void 0;x && Infinity === x?A=B:(B=oa((0,w.Hw)(function(D){return D.L === x;},B)),A=B.next().value,C=B.next().value);C && 0 < C.length && this.Jc.zl(this.config.Ulb,function(){z.Wlb(C);});return A && 0 !== A.length?this.Wlb(A):Promise.resolve();};d.prototype.Wlb=function(x){var B;function z(A){return B.Lea.Xlb(A).then(function(){return B.dec(A);});}B=this;return x.reduce(function(A,C){return A.then(function(){return z(C);});},Promise.resolve());};d.prototype.dec=function(x){var z;z=this;return this.Ez.zkb(x).then(function(){}).catch(function(B){z.log.error("Unable to complete the stop lifecycle event",B);throw B;});};d.prototype.WYb=function(x,z){x=new h(this.log,this.Jc,x,this.Kw,this.Ez,this.Lea);x.fR(this.config.cCa,z);return x;};d.prototype.LEa=function(x){var z,B;z=this;B=this.Kw.create(x);return this.Lea.LEa(x,B).then(function(){!1;z.Oeb(x);}).catch(function(A){z.Oeb(x);throw {jL:B,pY:A};});};d.prototype.Oeb=function(x){this.iL.filter(function(z){return z.key === x.sa.toString();}).forEach(function(z){z.yz=!0;});};d.prototype.Vlb=function(x){return this.ffc.OKb?this.E1(t.gla.c_,x,q.aa.cka):Promise.resolve();};d.prototype.fga=function(x){return this.E1(t.gla.splice,x,q.aa.WUa);};d.prototype.E1=function(x,z,B){var C;function A(D){var E;E=C.iL.filter(function(G){return G.key === D.sa.toString();});return 0 === E.length?!0:E.reduce(function(G,F){return G || F.stopped || !F.yz;},!1);}C=this;return A(z)?this.AK:this.AK=this.AK.catch(function(){return Promise.resolve();}).then(function(){var D;if(A(z))return Promise.resolve();!1;D=C.Kw.create(z);return C.Lea.E1(x,z,D);}).then(function(D){!1;return D;}).catch(function(D){var E;C.log.error("Failed to send event",{eventKey:x,xid:z.sa,error:D});D.ml?E=C.Vi(B,D):D.uC === q.n5.rma && (E=C.Vi(B,D));throw {pY:D,ER:E};});};d.prototype.HFa=function(x,z,B){var A;A=this;!1;this.Dra();this.Cya=this.Jc.zl(x,function(){A.Dra();A.E1(t.gla.c_,z,q.aa.cka).then(function(){A.HFa(x,z,B);}).catch(function(C){var D;D=C.pY;(C=C.ER) && B(C);D.uC !== q.n5.rma && A.HFa(x,z,B);});});};d.prototype.Hnb=function(){this.Dra();};d.prototype.Dra=function(){this.Cya && (this.Cya.cancel(),this.Cya=void 0);};d.prototype.yYb=function(x){return x.jb.Zwa?(0,c.Vb)(x.jb.Zwa):this.config.ldb;};y=d;y=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(p.wTa)),r.__param(1,(0,n.l)(f.hb)),r.__param(2,(0,n.l)(g.ck)),r.__param(3,(0,n.l)(m.hSa)),r.__param(4,(0,n.l)(k.jla)),r.__param(5,(0,n.l)(t.nSa)),r.__param(6,(0,n.l)(a.MU)),r.__param(7,(0,n.l)(u.Nh))],y);b.JSa=y;},function(r,b,a){var l,h,n,c,f,g;function d(k,m){k=h.Lf.call(this,k,"PlaydataConfigImpl") || this;k.config=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.vTa=void 0;r=a(0);l=a(1);h=a(47);n=a(33);c=a(46);f=a(5);a=a(39);la(d,h.Lf);Va.Object.defineProperties(d.prototype,{fL:{configurable:!0,enumerable:!0,get:function(){return this.config.JB?"unsentplaydatatest":"unsentplaydata";}},JEa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Ulb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Vb)(1E4);}},cCa:{configurable:!0,enumerable:!0,get:function(){return (0,f.Vb)(4E3);}},ldb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Fda)(1);}},mdb:{configurable:!0,enumerable:!0,get:function(){return (0,f.$i)(30);}}});g=d;r.__decorate([c.config(c.string,"playdataPersistKey")],g.prototype,"fL",null);r.__decorate([c.config(c.vd,"sendPersistedPlaydata")],g.prototype,"JEa",null);r.__decorate([c.config(c.dm,"playdataSendDelayMilliseconds")],g.prototype,"Ulb",null);r.__decorate([c.config(c.dm,"playdataPersistIntervalMilliseconds")],g.prototype,"cCa",null);r.__decorate([c.config(c.dm,"heartbeatCooldown")],g.prototype,"ldb",null);r.__decorate([c.config(c.dm,"keepAliveWindow")],g.prototype,"mdb",null);g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.yn)),r.__param(1,(0,l.l)(a.Qp))],g);b.vTa=g;},function(r,b,a){var l,h,n;function d(c,f){this.pX=f;this.log=c.eb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.mSa=void 0;r=a(0);l=a(89);h=a(7);a=a(1);d.prototype.LEa=function(c,f){var g;g=this.pX(l.qr.start);return this.i7a(g,c,f);};d.prototype.Xlb=function(c){var f;f=this;return this.pX(l.qr.stop).Xf(this.log,c).then(function(){}).catch(function(g){f.log.error("PBO stop event failed",g);throw g;});};d.prototype.E1=function(c,f,g){c=this.pX(c);return this.i7a(c,f,g);};d.prototype.i7a=function(c,f,g){var k;k=this;return c.Cq(this.log,f.ba.Oj,g).then(function(){}).catch(function(m){k.log.error("PBO event failed",m);throw m;});};n=d;n=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(h.hb)),r.__param(1,(0,a.l)(l.Aja))],n);b.mSa=n;},function(r,b,a){var n,c,f,g;function d(){}function l(k){this.fac=k;}function h(k){this.hac=k;}Object.defineProperty(b,"__esModule",{value:!0});b.LSa=b.ESa=b.CSa=void 0;r=a(0);n=a(1);c=a(297);f=a(36);g=a(4);h.prototype.validate=function(k){k.map(this.hac.validate);};a=h;a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(c.MSa))],a);b.CSa=a;l.prototype.validate=function(k){this.fac.validate(k.data);};a=l;a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(c.DSa))],a);b.ESa=a;d.prototype.validate=function(k){var m;k.sa && "string" === typeof k.sa?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (m="ProfileId value is corrupted."):m="Href value is corrupted.":m="Xid value is corrupted.";if(m)throw new f.rd(g.aa.BD,g.Y.vD,void 0,void 0,void 0,m,void 0,k.sa);};c=d;c=r.__decorate([(0,n.$)()],c);b.LSa=c;},function(r,b,a){var l,h,n,c;function d(f,g){this.jib=g;this.log=f.eb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.HSa=void 0;r=a(0);l=a(1);h=a(7);n=a(16);a=a(151);d.prototype.Cl=function(f){var g;g=this;this.jib().then(function(k){f.addEventListener(n.ka.GK,function(m){var p;if(void 0 !== m.KR){p=f.Sm(m.KR);k.d2(p);m.sK || new Promise(function(q){var v;if(f.Wi.value)q();else {v=function(t){t.newValue && (q(),f.Wi.removeListener(v));};f.Wi.addListener(v);}}).then(function(){return k.Cl(f,g.Xmb(f),function(q){return f.gJ(q);});});}});f.addEventListener(n.ka.Iw,function(){k.Cl(f.ga,g.Xmb(f),function(m){return f.gJ(m);});});f.background.value || f.addEventListener(n.ka.o_,function(m){var p;m=f.Sm(m.L);if(m.ih){p=f.Sm(m.ih.Cg);g.log.trace("Auxiliary viewable segment (viewableId: " + m.L + "). Starting playdata monitor for parent viewable " + p.L);m=p;}k.KFa(m);});f.addEventListener(n.ka.Ah,function(){k.Hnb();});f.addEventListener(n.ka.Gqb,function(){k.Vlb(f.ga).catch(function(m){(m=m.ER) && f.gJ(m);});});f.Mb.addListener(function(){f.jb.bta?g.log.trace("stickiness is disabled for timedtext"):k.fga(f.ga);});f.Hc.addListener(function(){f.jb.bta?g.log.trace("stickiness is disabled for audio"):k.fga(f.ga).catch(function(m){(m=m.ER) && f.gJ(m);});});});};d.prototype.Xmb=function(f){return f.state.value == n.kc.Xe;};c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(a.KU))],c);b.HSa=c;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p){return function(){return new Promise(function(q,v){var t;t=p.xb.get(h.GLa);t.oa().then(function(){q(t);}).catch(function(w){v(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.n6a=void 0;r=a(1);l=a(548);h=a(549);n=a(1312);c=a(101);f=a(1313);g=a(550);k=a(1314);m=a(1315);b.n6a=new r.Kd(function(p){p(g.sPa).to(k.rPa).la();p(l.DLa).to(m.tPa);p(c.yT).to(f.AIa).la();p(h.GLa).to(n.ELa).la();p(h.FLa).A2(d);});},function(r,b,a){var l,h;function d(n){this.QRb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.ELa=void 0;r=a(0);l=a(1);a=a(548);d.prototype.oa=function(){var n;n=this;this.FF || (this.FF=new Promise(function(c,f){var g;g=[];n.QRb.forEach(function(k){g.push(k.oa());});Promise.all(g).then(function(){c();}).catch(function(k){f(k);});}));return this.FF;};h=d;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.TK)(a.DLa))],h);b.ELa=h;},function(r,b,a){var l,h;function d(){this.BEa="";this.brb=[[],[],[]];this.ma=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;r=a(0);l=a(1);a(5);h=a(101);d.prototype.downloadRequest=function(n){var c;"" === this.BEa && (this.BEa=n.S);if(!n.zc){c=this.rkc(n);this.ma[n.mediaType].push(c);this.brb[n.mediaType].forEach(function(f){f.Ctc(c);});}};d.prototype.rkc=function(n){return {id:n.Si(),S:n.S,mediaType:n.mediaType,il:n.il,startTime:n.LC,endTime:n.Rw,offset:n.Sw,PO:n.PO,NO:n.NO,duration:n.Xn,bitrate:n.bitrate,state:h.pia.i6a,Wi:!1,iwc:!1,Fab:!1,Yuc:h.oia.waiting};};d.prototype.update=function(n){this.brb[n.mediaType].forEach(function(c){c.ozc(n);});};Va.Object.defineProperties(d.prototype,{S:{configurable:!0,enumerable:!0,get:function(){return this.BEa;}}});a=d;a=r.__decorate([(0,l.$)()],a);b.AIa=a;},function(r,b,a){var l,h,n,c,f;function d(g,k){g=n.Lf.call(this,g,"LogDisplayConfigImpl") || this;g.Qg=k;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.rPa=void 0;r=a(0);l=a(1);h=a(46);n=a(47);c=a(33);a=a(110);la(d,n.Lf);Va.Object.defineProperties(d.prototype,{j1:{configurable:!0,enumerable:!0,get:function(){return !0;}},MQ:{configurable:!0,enumerable:!0,get:function(){return this.Qg.MQ;}},keb:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=d;r.__decorate([h.config(h.vd,"renderDomDiagnostics")],f.prototype,"j1",null);r.__decorate([h.config(h.HF,"logDisplayMaxEntryCount")],f.prototype,"MQ",null);r.__decorate([h.config(h.HF,"logDisplayAutoshowLevel")],f.prototype,"keb",null);f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(c.yn)),r.__param(1,(0,l.l)(a.KH))],f);b.rPa=f;},function(r,b,a){var n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B;function d(A,C,D,E,G,F,K,O,L,I){var M;M=this;this.za=A;this.hh=C;this.bj=D;this.Jc=E;this.Jp=G;this.config=F;this.wJ=K;this.mGa=O;this.Dsa=L;this.kn=I;this.Xjc=function(){M.M2.Gk(function(){M.update();});};this.clear=function(){M.entries=[];M.update();};this.Ofb=function(){M.wf.AQ=!M.wf.AQ;M.YF && M.$F && (M.wf.AQ?(M.YF.style.display="inline-block",M.$F.style.display="none"):(M.$F.style.display="inline-block",M.YF.style.display="none"));M.OL(!1);};this.L5b=function(H){var J;M.entries.push(H);J=M.config.MQ;0 <= J && M.entries.length > J && M.entries.shift();void 0 === M.wf.jB[H.uq] && (M.wf.jB[H.uq]=!0,M.OL(!1));M.wf.isVisible && !M.xob?M.Xjc():M.M2.Gk();};this.YRb=function(){h.download("all",M.entries.map(function(H){return H.cha(!1,!1);})).catch(function(H){console.error("Unable to download all logs to the file",H);});};this.ow=!1;this.wf={isVisible:!1,AQ:!0,u$:!0,rza:t.Ok.Sja,jB:{}};this.M2=this.mGa((0,p.$i)(1));this.UUb=this.Dsa((0,p.Vb)(250));this.entries=[];!1;!1;}function l(A){var C;this.elements=[];C=document.createElementNS(l.m2,"svg");C.setAttribute("viewBox",A);this.elements.push(C);}function h(){}Object.defineProperty(b,"__esModule",{value:!0});b.tPa=void 0;r=a(0);n=a(1);c=a(32);f=a(113);g=a(178);k=a(48);m=a(27);p=a(5);q=a(18);v=a(96);t=a(7);w=a(114);u=a(298);y=a(550);x=a(84);z=a(207);B=a(1316);h.download=function(A,C){return h.bYb(A).then(function(D){return h.y_b(D,C.join("\r\n")).then(function(E){return h.WRb(E.filename,E.text);});});};h.bYb=function(A){return new Promise(function(C,D){var E,G,F,K,O,L,I;try{E=new Date();G=E.getDate().toString();F=(E.getMonth() + 1).toString();K=E.getFullYear().toString();O=E.getHours().toString();L=E.getMinutes().toString();I=E.getSeconds().toString();1 === G.length && (G="0" + G);1 === F.length && (F="0" + F);1 === O.length && (O="0" + O);1 === L.length && (L="0" + L);1 === I.length && (I="0" + I);C(K + F + G + O + L + I + "." + A + ".log");}catch(M){D(M);}});};h.y_b=function(A,C){return new Promise(function(D,E){try{D({filename:A,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){E(G);}});};h.WRb=function(A,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",A);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(E){return Promise.reject(E);}};l.prototype.BS=function(){var A;A=document.createElementNS(l.m2,"g");A.setAttribute("stroke","none");A.setAttribute("stroke-width",(1).toString());A.setAttribute("fill","none");A.setAttribute("fill-rule","evenodd");A.setAttribute("stroke-linecap","round");this.addElement(A);return this;};l.prototype.ES=function(A,C,D){var E;E=document.createElementNS(l.m2,"path");E.setAttribute("d",A);C && E.setAttribute("fill",C);D && E.setAttribute("fill-rule",D);this.addElement(E);return this;};l.prototype.Z1=function(A,C,D,E,G){var F;G=void 0 === G?"#000000":G;F=document.createElementNS(l.m2,"rect");F.setAttribute("x",A.toString());F.setAttribute("y",C.toString());F.setAttribute("height",D.toString());F.setAttribute("width",E.toString());G && F.setAttribute("fill",G);this.addElement(F);return this;};l.prototype.zic=function(){var A;A=document.createElementNS(l.m2,"polygon");A.setAttribute("points","0 0 24 0 24 24 0 24");A.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(A);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.kj=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(A){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(A);this.elements.push(A);};Va.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},qJ:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.m2="http://www.w3.org/2000/svg";d.prototype.oa=function(){var A;A=this;this.FF || (this.FF=new Promise(function(C){mb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.DD.Dwb?A.toggle():D.keyCode == z.DD.E && B.mKa.bNb(A.wJ().Yl));});A.Jp.sfa(u.qka.cub,A.L5b);C();}));return this.FF;};d.prototype.show=function(){document.body && (this.element || (this.POb(),this.ow=!0),!this.wf.isVisible && this.element && (document.body.appendChild(this.element),this.wf.isVisible=!0,this.update(!0)));};d.prototype.Jy=function(){this.ow && this.wf.isVisible && this.element && (document.body.removeChild(this.element),this.wf.isVisible=!1);};d.prototype.toggle=function(){this.wf.isVisible?this.Jy():this.show();this.OL(!1);};d.prototype.POb=function(){var A,C;try{A=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));A.appendChild(C);A.appendChild(this.dr=this.JPb());A.appendChild(this.KPb());A.appendChild(this.JOb());this.element=A;}catch(D){console.error("Unable to create the log console",D);}};d.prototype.JPb=function(){var A,C;A=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){A.xob=!0;A.update();A.dr && (A.dr.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){A.xob=!1;A.update();A.dr && (A.dr.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};d.prototype.KPb=function(){var A;A=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");A.appendChild(this.lPb());A.appendChild(this.aPb());A.appendChild(this.UOb());A.appendChild(this.LPb());A.appendChild(this.NOb());A.appendChild(this.sPb());A.appendChild(this.pPb());A.appendChild(this.WOb());A.appendChild(this.OOb());return A;};d.prototype.JOb=function(){var A,C,D,E,G,F;A=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");E=this.createElement("select",this.Cy(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(E);D.addEventListener("mousedown",function(K){K.preventDefault();});F=!1;D.addEventListener("click",function(){F?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(A.wf.jB).sort()).forEach(function(K){G.appendChild(A.KOb(K,D));}),G.style.display="block");F=!F;});return C;};d.prototype.KOb=function(A,C){var D,E,G;D=this;E=this.createElement("label","display: block;margin:1px");E.htmlFor=A;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=A;G.checked=this.wf.jB[A];G.addEventListener("click",function(){"all" === A || "none" === A?(Object.keys(D.wf.jB).forEach(function(F){D.wf.jB[F]="all" === A;}),C.click()):D.wf.jB[A]=!D.wf.jB[A];D.OL(!0);});E.appendChild(G);E.insertAdjacentText("beforeend",18 < A.length?A.slice(0,15) + "...":A);return E;};d.prototype.lPb=function(){var A,C;A=this;C=this.createElement("select",this.Cy(22,NaN,1,2),'<option value="' + t.Ok.mg + '">Error</option><option value="' + (t.Ok.wma + '">Warn</option><option value="') + (t.Ok.Sja + '">Info</option><option value="') + (t.Ok.eWa + '">Trace</option><option value="') + (t.Ok.M + '">Debug</option>'));C.value=this.wf.rza.toString();C.addEventListener("change",function(D){A.wf.rza=parseInt(D.target.value);A.OL(!0);},!1);return C;};d.prototype.aPb=function(){var C,D;function A(E){return C.UUb.Gk(function(){var G;G=E.target.value;C.wf.filter=G?new RegExp(G):void 0;C.OL(!0);});}C=this;D=this.createElement("input",this.Cy(14,150,1,2));D.value=this.wf.filter?this.wf.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",A,!1);D.addEventListener("change",A,!1);return D;};d.prototype.UOb=function(){var A,C,D,E;A=this;C=this.createElement("div",this.Cy(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.wf.u$;D.addEventListener("change",function(G){A.wf.u$=G.target.checked;A.OL(!0);},!1);E=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");E.setAttribute("for","details");E.innerHTML="View details";C.appendChild(D);C.appendChild(E);return C;};d.prototype.LPb=function(){var A,C,D;A=this;C=this.createElement("button",this.Cy());D=new l("0 0 24 24").BS().zic().end().ES("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.qJ,"nonzero").end().end().kj();C.appendChild(D);C.addEventListener("click",function(){A.update();},!1);C.setAttribute("title","Refresh the log console");return C;};d.prototype.NOb=function(){var A,C;A=this.createElement("button",this.Cy());C=new l("0 0 24 24").BS().Z1(0,0,24,24,l.background).end().ES("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.qJ).end().end().kj();A.appendChild(C);A.addEventListener("click",this.clear,!1);A.setAttribute("title","Remove all log messages");return A;};d.prototype.sPb=function(){var A;this.$F=this.createElement("button",this.Cy());this.$F.style.display=this.wf.AQ?"none":"inline-block";A=new l("0 0 24 24").BS().Z1(0,0,24,24,l.background).end().ES("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.qJ,"nonzero").end().end().kj();this.$F.addEventListener("click",this.Ofb,!1);this.$F.appendChild(A);this.$F.setAttribute("title","Shrink the log console");return this.$F;};d.prototype.pPb=function(){var A;this.YF=this.createElement("button",this.Cy());this.YF.style.display=this.wf.AQ?"inline-block":"none";A=new l("0 0 24 24").BS().Z1(4,4,16,16,l.background).end().ES("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.qJ,"nonzero").end().end().kj();this.YF.addEventListener("click",this.Ofb,!1);this.YF.appendChild(A);this.YF.setAttribute("title","Expand the log console");return this.YF;};d.prototype.WOb=function(){var A,C;A=this.createElement("button",this.Cy());C=new l("0 0 26 26").BS().Z1(0,0,24,24,l.background).end().ES("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.qJ,"nonzero").end().end().kj();A.appendChild(C);A.addEventListener("click",this.YRb,!1);A.setAttribute("title","Download all log messages");return A;};d.prototype.OOb=function(){var A,C,D;A=this;C=this.createElement("button",this.Cy());D=new l("0 0 24 24").BS().Z1(0,0,24,24,l.background).end().ES("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.qJ,"nonzero").end().end().kj();C.appendChild(D);C.addEventListener("click",function(){A.toggle();},!1);C.setAttribute("title","Close the log console");return C;};d.prototype.OL=function(A){var C;A=void 0 === A?!1:A;C=void 0 === C?!1:C;!1;A && this.update(C);};d.prototype.update=function(A){var C;C=this;A=void 0 === A?!1:A;this.element && this.config.j1 && Promise.resolve(this.YJb() + this.cYb().join("\r\n")).then(function(D){C.element && C.dr && (C.dr.value=D,C.element.style.cssText=C.wf.AQ?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",A && C.Jc.zl(p.Oa,function(){C.dr.scrollTop=C.dr.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};d.prototype.cYb=function(){var A,C;A=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= A.wf.rza && A.wf.jB[D.uq] && (D=D.cha(!A.wf.u$,!A.wf.u$),A.wf.filter && !A.wf.filter.test(D) || C.push(D));});return C;};d.prototype.YJb=function(){var A;A=this.wJ();return "Version: 6.0039.753.911 \n" + ((A?"Esn: " + A.Yl:"") + "\nJsSid: ") + (this.hh.id + ", Epoch: " + this.za.rf.ia(p.Jo) + ", Start: " + this.hh.fC.ia(p.Jo) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};d.prototype.createElement=function(A,C,D,E){return this.bj.createElement(A,C,D,E);};d.prototype.Cy=function(A,C,D,E){A=void 0 === A?26:A;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + l.qJ + ";padding:3px;" + (isNaN(A)?"":"height:" + A + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (E?"border-radius:" + E + "px;":"");};a=d;a.Lic="logDxDisplay";a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(m.Nh)),r.__param(1,(0,n.l)(q.kd)),r.__param(2,(0,n.l)(c.Ii)),r.__param(3,(0,n.l)(k.ck)),r.__param(4,(0,n.l)(w.PM)),r.__param(5,(0,n.l)(y.sPa)),r.__param(6,(0,n.l)(v.Vz)),r.__param(7,(0,n.l)(f.SH)),r.__param(8,(0,n.l)(g.V3)),r.__param(9,(0,n.l)(x.Nz))],a);b.tPa=a;},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;l=a(14);d.bNb=function(h){var n;if(l.$h.queryCommandSupported && l.$h.queryCommandSupported("copy")){n=l.$h.createElement("textarea");n.textContent=h;n.style.position="fixed";l.$h.body.appendChild(n);n.select();try{l.$h.execCommand("copy");}catch(c){console.warn("Copy to clipboard failed.",c);}finally{l.$h.body.removeChild(n);}}};b.mKa=d;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.Ve=void 0;r=a(1);d=a(1318);l=a(1319);h=a(1320);n=a(146);c=a(353);f=a(526);g=a(1321);k=a(1322);m=a(551);p=a(1323);b.Ve=new r.Kd(function(q){q(n.f6).to(d.ZVa).la();q(c.Mla).to(h.sUa).la();q(f.UWa).to(l.TWa).la();q(g.Kxb).to(k.xRa).la();q(m.oXa).to(p.nXa).la();});},function(r,b,a){var l,h,n,c,f,g;function d(k,m){this.is=k;this.json=m;(0,h.Qq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.ZVa=void 0;r=a(0);h=a(54);n=a(37);c=a(1);f=a(25);g=a(146);d.prototype.Ujb=function(k){var m;m=this;return l.read(k,function(p){return parseInt(p);},function(p){return m.is.Jpa(p);});};d.prototype.gDa=function(k){var m;m=this;return l.read(k,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return m.is.j8(p);});};d.prototype.Fs=function(k){var m;m=this;return l.read(k,function(p){return parseInt(p);},function(p){return m.is.JW(p);});};d.prototype.Xcc=function(k){var m;m=this;return l.read(k,function(p){return parseFloat(p);},function(p){return m.is.Rl(p);});};d.prototype.Tjb=function(k,m){return l.read(k,function(p){return l.hVb(p,m);},function(p){return void 0 !== p;});};d.prototype.jDa=function(k,m){return l.read(k,function(p){return p;},function(p){return m?m.test(p):!0;});};d.prototype.Vjb=function(k){var m,p;m=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(k,function(q){return m.json.parse(decodeURIComponent(q));},function(q){return m.is.IW(q) && p(q);});}catch(q){return new g.vr();}};d.prototype.sl=function(k,m,p){var q,v;q=this;p=void 0 === p?1:p;k=k.trim();v=m instanceof Function?m:this.tPb(m,p);m=k.indexOf("[");p=k.lastIndexOf("]");if(0 != m || p != k.length - 1)return new g.vr();k=k.substring(m + 1,p);try{return l.U$b(k).map(function(t){t=v(q,l.Lmc(t));if(t instanceof g.vr)throw t;return t;});}catch(t){return t instanceof g.vr?t:new g.vr();}};d.prototype.tPb=function(k,m){var p;p=this;m=void 0 === m?1:m;return function(q,v){q=l.nZb(k);return 1 < m?p.sl(v,k,m - 1):q(p,v);};};d.hVb=function(k,m){var q;for(var p in m){q=parseInt(p);if(m[q] == k)return q;}};d.read=function(k,m,p){k=m(k);return void 0 !== k && p(k)?k:new g.vr();};d.nZb=function(k){switch(k){case "int":return function(m,p){return m.Ujb(p);};case "bool":return function(m,p){return m.gDa(p);};case "uint":return function(m,p){return m.Fs(p);};case "float":return function(m,p){return m.Xcc(p);};case "string":return function(m,p){return m.jDa(p);};case "object":return function(m,p){return m.Vjb(p);};}};d.U$b=function(k){var y;for(var m=[["[","]"]],p=[],q=0,v=0,t=0,w=[],u={};v < k.length;(u={pT:u.pT},++v)){u.pT=k.charAt(v);y=void 0;"," == u.pT && 0 == t?(p.push(k.substr(q,v - q)),q=v + 1):(y=m.find((function(x){return function(z){return z[0] == x.pT;};})(u)))?(++t,w.push(y)):0 < w.length && w[w.length - 1][1] == u.pT && (--t,w.pop());}if(q != v)p.push(k.substr(q,v - q));else if(q == v && 0 < q)throw new g.vr();return p;};d.Lmc=function(k){var m;m=k.charAt(0);if('"' == m || "'" == m){if(k.charAt(k.length - 1) != m)throw new g.vr();return k.substring(1,k.length - 1);}return k;};a=l=d;a=l=r.__decorate([(0,c.$)(),r.__param(0,(0,c.l)(f.ah)),r.__param(1,(0,c.l)(n.xH))],a);b.ZVa=a;},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.TWa=void 0;r=a(0);a=a(1);d.prototype.D8a=function(h){var n;n=this;return h?(h ^ 16 * Math.random() >> h / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(c){return n.D8a(c);});};l=d;l=r.__decorate([(0,a.$)()],l);b.TWa=l;},function(r,b,a){var l,h,n,c;function d(f){this.location=f;(0,h.Qq)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.sUa=void 0;r=a(0);h=a(54);n=a(37);a=a(1);d.C0=function(f){var g,m,p;g={};if(0 < f.length){f=f.split("&");for(var k=0;k < f.length;k++){m=f[k].trim();p=m.indexOf("=");0 <= p?g[decodeURIComponent(m.substr(0,p).replace(l.TRa,"%20"))]=decodeURIComponent(m.substr(p + 1).replace(l.TRa,"%20")):g[m.toLowerCase()]="";}}return g;};Va.Object.defineProperties(d.prototype,{Ncc:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.C0(this.Gjb);}},Gjb:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.a1)return this.a1;this.a1=this.location.search.substr(1);f=this.a1.indexOf("#");0 <= f && (this.a1=this.Gjb.substr(0,f));return this.a1;}}});c=l=d;c.TRa=/[+]/g;c=l=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(n.nPa))],c);b.sUa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kxb="ObjectComparerSymbol";},function(r,b,a){var l,h;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.xRa=void 0;r=a(0);l=a(1);h=a(218);d.prototype.compare=function(n,c){var f;f=[];this.Nra(n,c,"",f);return f;};d.prototype.Nra=function(n,c,f,g){var k;k=this;if(h.wH.wE(n))h.wH.wE(c) && n.length === c.length?n.forEach(function(q,v){k.Nra(n[v],c[v],f + "[" + v + "]",g);}):g.push({a:n,b:c,path:f});else if(h.wH.IW(n) && null != n){if(h.wH.IW(c) && null != c){for(var m in n){this.Nra(n[m],c[m],f + "." + m,g);}for(var p in c){(p in n) || void 0 === c[p] || g.push({a:void 0,b:c[p],path:f + "." + p});}}else g.push({a:n,b:c,path:f});}else n !== c && g.push({a:n,b:c,path:f});};a=d;a=r.__decorate([(0,l.$)()],a);b.xRa=a;},function(r,b,a){var l,h;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.nXa=void 0;r=a(0);l=a(1);h=a(14);d.prototype.RZb=function(){var n;n=mb.devicePixelRatio || 1;return {width:h.xx.width * n,height:h.xx.height * n};};a=d;a=r.__decorate([(0,l.$)()],a);b.nXa=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y;Object.defineProperty(b,"__esModule",{value:!0});b.Jd=void 0;r=a(1);d=a(552);l=a(1325);h=a(120);n=a(299);c=a(1326);f=a(1327);g=a(1329);k=a(1330);m=a(1331);p=a(553);q=a(554);v=a(168);t=a(301);w=a(1332);u=a(300);y=a(1334);b.Jd=new r.Kd(function(x){x(d.aTa).to(l.$Sa).la();x(n.Ila).to(c.jUa).la();x(h.VH).to(f.cXa).la();x(p.iUa).to(m.dQa).la();x(p.hUa).to(k.YOa).la();x(p.gUa).to(g.QOa).la();x(t.NIa).wkc(function(){var z;return null === (z=v.Rr.wj) || void 0 === z?void 0:z.hz;});x(t.MIa).to(w.LIa).la();x(q.Gla).to(q.WTa);x(u.Via).to(y.YJa).la();});},function(r,b,a){var l,h,n;function d(c,f){this.Hb=f;this.ta=c.eb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.$Sa=void 0;r=a(0);l=a(1);h=a(7);a=a(25);d.prototype.rRb=function(c){var f;f=this;try{return {direction:c.direction,ywc:c.layoutHasChanged,byc:c.rowInteractionIndex,Rb:c.lolomos.map(function(g){return f.mRb(g);})};}catch(g){this.ta.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(c)});}};d.prototype.mRb=function(c){var f;f=this;return {context:c.context,list:c.list.map(function(g){return f.lRb(g);}),requestId:c.requestId,rowIndex:c.rowIndex,cyc:c.rowSegment};};d.prototype.lRb=function(c){var f,g;f={Ce:c.pts,property:c.property,N:c.viewableId,index:c.index};g=c.preplay;this.Hb.Ch(g) && (f.Wea=this.qRb(g));c=c.params;this.Hb.Ch(c) && (f.Gb=this.D5a(c));return f;};d.prototype.qRb=function(c){var f;f={Ce:c.pts,N:c.viewableId,BR:c.pipelineNum,index:c.index};c=c.params;this.Hb.Ch(c) && (f.Gb=this.D5a(c));return f;};d.prototype.D5a=function(c){return {me:c.uiLabel,Gl:c.trackingId,ro:c.sessionParams};};d.prototype.pRb=function(c){var f;f=this;try{return c.map(function(g){return f.nRb(g);});}catch(g){this.ta.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(c)});}};d.prototype.nRb=function(c){var f,g;g=c.params;this.Hb.Ch(g) && (f=this.oRb(g));return {L:c.movieId,priority:c.priority,force:c.force,Gb:f,me:c.uiLabel,kzc:c.uiExpectedStartTime,jzc:c.uiExpectedEndTime,Qm:c.firstTimeAdded};};d.prototype.oRb=function(c){var f,g;f=void 0;g=c.sessionParams;this.Hb.Ch(g) && (f=g);return {d9:this.kRb(c.authParams),ro:f,Gl:c.trackingId,ca:c.startPts,ba:c.manifest,Gh:c.isBranching};};d.prototype.kRb=function(c){return {vac:null === c || void 0 === c?void 0:c.pinCapableClient};};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(a.ah))],n);b.$Sa=n;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q;function d(v,t,w,u){this.is=w;this.hh=u;this.log=v.eb("TaskScheduler");this.Ob=new p.Nk();this.config=t();this.currentIteration=this.EX=0;this.ZL=[];this.paused=!1;this.Iga=[];this.I3a=[];this.x2b=this.config.Gbc || q.append;this.addEventListener=this.Ob.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.jUa=void 0;r=a(0);l=a(1);h=a(299);n=a(7);c=a(12);f=a(119);g=a(25);k=a(18);m=a(5);p=a(70);(function(v){v.prepend="prepend";v.append="append";v.A1b="ignore";})(q || (q={}));d.prototype.pHb=function(v){this.log.trace("adding tasks, number of tasks: " + v.length);this.paused=!1;this.ZL=this.y2b(v);this.EX=0;this.currentIteration+=1;this.Rg();};d.prototype.pause=function(){this.paused=!0;};d.prototype.Rg=function(){var v,t,w,u;v=this;if(this.EX === this.ZL.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.EX,numberOfTasks:this.ZL.length});else {t=this.gZb();w=this.currentIteration;t.startTime=this.hh.Qb().ia(m.va);t.status=f.Qk.yz;this.Ob.Zc(h.cN.Ojc,{L:t.L,type:t.type});this.Iga.push(t);u=function(y){t.endTime=v.hh.Qb().ia(m.va);y();v.I3a.push(t);v.Iga.splice(v.Iga.indexOf(t),1);v.currentIteration === w && (v.EX++,v.Rg());};t.ofc().then(function(){u(function(){t.status=f.Qk.KS;v.QCa(t,h.cN.Pjc,"task succeeded");});}).catch(function(y){u(function(){0 <= [f.Qk.Uf,f.Qk.C2a,f.Qk.ara].indexOf(y.status)?(t.status=y.status,v.QCa(t,h.cN.Mjc,"cancelled task")):(t.status=f.Qk.Wv,v.QCa(t,h.cN.Njc,"task failed",y));});});}};d.prototype.gZb=function(){return this.ZL[this.EX];};d.prototype.getStats=function(v,t,w){var u,y,x,z;u=this.I3a.map(function(B){return B.fw();});y=this.Iga.map(function(B){return B.fw();});x=this.is.Ch(v) && this.is.Ch(t);z={};if(this.is.Ch(w))return (z.BMb=u.filter(function(B){return B.movieId === w;}),z);u.concat(y).forEach(function(B){var A;z[B.type + "_" + B.status]=(z[B.type + "_" + B.status] | 0) + 1;A=B.status == f.Qk.yz?B.startTime:B.endTime;x && A && A >= v && A < t && (z[B.type + "_" + B.status + "_delta"]=(z[B.type + "_" + B.status + "_delta"] | 0) + 1);});return z;};d.prototype.QCa=function(v,t,w,u){var y;y=v.fw();u?this.log.warn(w,y,u):this.log.trace(w,y);this.Ob.Zc(t,{L:v.L,type:v.type,reason:v.status});v.oR(y);};d.prototype.y2b=function(v){var t,w;t=this.ZL.filter(function(u){return u.rac && u.status === f.Qk.Un;});w=this.x2b;return w === q.A1b?[].concat(v):w === q.prepend?t.concat(v):v.concat(t);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.hb)),r.__param(1,(0,l.l)(c.uc)),r.__param(2,(0,l.l)(g.ah)),r.__param(3,(0,l.l)(k.kd))],a);b.jUa=a;},function(r,b,a){var h,n,c,f,g,k,m,p,q,v,t,w,u,y;function d(x,z,B,A,C,D,E,G,F,K,O){this.Inc=B;this.Hb=A;this.hh=C;this.Ee=D;this.y7a=E;this.KUb=G;this.LUb=F;this.Y$=K;this.events=new y.EventEmitter();this.log=x.eb("VideoPreparer");this.config=z();this.GHa={};this.Hda={};this.ic={num_of_calls:0,num_of_movies:0};this.Y$.oa(this);this.yh=O.yh;}function l(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.cXa=void 0;r=a(0);h=a(1328);n=a(12);c=a(1);f=a(7);g=a(87);k=a(25);m=a(299);p=a(18);q=a(5);v=a(119);t=a(300);w=a(553);u=a(301);y=a(11);d.prototype.jmb=function(x,z,B){this.yh.setData(x,"ldl",z,B);};d.prototype.Bab=function(x){return this.yh.wZ(x,"ldl");};d.prototype.d3a=function(x){this.yh.clearData(x,"ldl",void 0,!0);};d.prototype.QP=function(x,z){return this.yh.getData(x,z);};d.prototype.X8a=function(x){var z;z=this.yh.getData(x,"ldl");this.yh.clearData(x,"ldl",void 0,!0);return z;};d.prototype.arb=function(x){return this.Cnb === x || this.K4a === x;};d.prototype.mL=function(x,z){var B,A,C;B=this;x=x.map(function(D){D.Gb=D.Gb || ({d9:{vac:!1},Gl:0});B.Hb.tJ(D.Gb.Gl) || (D.Gb.Gl=0);B.Hb.tJ(D.Ce) && (D.Gb.ca=D.Ce);return D;});A=x.map(function(D){return B.IPb(D,z);}).reduce(function(D,E){return D.concat(E);},[]);C=A.map(function(D){return D.L + "-" + D.type;});this.log.trace("prepare tasks",C);this.Ee.pHb(A);this.ic.num_of_calls++;this.ic.num_of_movies+=x.length;};d.prototype.getStats=function(x,z,B){return Object.assign(Object.assign({},B && this.Hda[B] || ({})),{ZL:this.Ee.getStats(x,z,B),cache:this.yh.getStats(x,z),zWb:Object.assign(Object.assign({},this.ic),this.Y$.getStats())});};d.prototype.m0b=function(x){this.Cnb=x;};d.prototype.k0b=function(x){this.log.trace("task scheduler paused on playback created");this.Ee.pause();this.config.fRb && this.yh.zra(x,["manifest"]);this.config.eRb && this.yh.zra(x,["ldl"]);this.config.bRb && this.yh.clearData(x,"manifest");this.Y$.ukb(x);this.K4a=x;};d.prototype.vab=function(){this.log.info("ad played, clearing all manifests from cache");this.a8a();};d.prototype.yab=function(){this.log.info("track changed, clearing all manifests from cache");this.a8a();};d.prototype.j0b=function(x){var z;z=this;this.config.cRb?this.yh.clearData(x,"manifest"):this.yh.wZ(x,"manifest") && this.yh.getData(x,"manifest").then(function(B){B.Ra.isSupplemental || z.yh.clearData(x,"manifest");},function(B){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",B);});this.Gra(x);this.Cnb=this.K4a=void 0;this.events.emit("playbackClosing",{N:x,type:"playbackClosing",target:this});};d.prototype.a8a=function(){this.yh.zra("none",["manifest","ldl"]);};d.prototype.Gra=function(x){delete this.GHa[x];};d.prototype.hw=function(x){return this.GHa[x];};d.prototype.X9=function(x){return this.GHa[x]=this.Inc.yB();};d.prototype.Wmb=function(x,z){if(this.Bab(x))return v.Qk.Uf;if(!z.zF)return v.Qk.ara;};d.prototype.IPb=function(x,z){var B,A;x.me && x.Gb && (x.Gb.me=x.me);this.Xlc(x.L,x.Qm);B=this.oPb(x,z);A=this.kPb(x,null === B || void 0 === B?void 0:B.id,z);x=this.rPb(x,null === B || void 0 === B?void 0:B.id,z);return [B,A,x].filter(l);};d.prototype.oPb=function(x,z){if(this.yh.wZ(x.L,"manifest"))this.log.trace("manifest exists in cache for " + x.L);else return new h.OU("manifest",this.hh.Qb().ia(q.va),!!x.Gb.Zi,void 0,z,this.y7a,x,this);};d.prototype.kPb=function(x,z,B){if(this.config.hY)if(this.yh.wZ(x.L,"ldl"))!1;else return this.config.Vu?new h.OU("ldl",this.hh.Qb().ia(q.va),!!x.Gb.Zi,z,B,this.KUb,x,this):new h.OU("ldl",this.hh.Qb().ia(q.va),!!x.Gb.Zi,z,B,this.LUb,x,this);};d.prototype.rPb=function(x,z,B){if(this.config.M6a)return new h.OU("getMedia",this.hh.Qb().ia(q.va),!!x.Gb.Zi,z,B,this.Y$,x,this);};d.prototype.Xlc=function(x,z){this.Hda[x] || (this.Hda[x]={Uea:0,Qm:0});x=this.Hda[x];x.Uea=(void 0 !== x?void 0 !== x.Uea?x.Uea:0:0) + 1;x.Qm=z;};a=d;a=r.__decorate([(0,c.$)(),r.__param(0,(0,c.l)(f.hb)),r.__param(1,(0,c.l)(n.uc)),r.__param(2,(0,c.l)(g.aA)),r.__param(3,(0,c.l)(k.ah)),r.__param(4,(0,c.l)(p.kd)),r.__param(5,(0,c.l)(m.Ila)),r.__param(6,(0,c.l)(w.iUa)),r.__param(7,(0,c.l)(w.hUa)),r.__param(8,(0,c.l)(w.gUa)),r.__param(9,(0,c.l)(u.MIa)),r.__param(10,(0,c.l)(t.Via))],a);b.cXa=a;},function(r,b,a){var l,h;function d(n,c,f,g,k,m,p,q){this.type=n;this.Un=c;this.rac=void 0 === f?!1:f;this.notify=k;this.MUb=m;this.IR=p;this.Jd=q;this.id=++h;this.status=l.Qk.Un;}Object.defineProperty(b,"__esModule",{value:!0});b.OU=void 0;l=a(119);h=0;d.prototype.fw=function(){var n;n={id:this.id,type:this.type,created:this.Un,status:this.status,movieId:this.L};this.startTime && (n.startTime=this.startTime);this.endTime && this.startTime && (n.duration=this.endTime - this.startTime,n.endTime=this.endTime);return n;};d.prototype.oR=function(n){this.notify && this.notify(n);};d.prototype.ofc=function(){return this.MUb.fetch(this.IR,this.Jd);};Va.Object.defineProperties(d.prototype,{L:{configurable:!0,enumerable:!0,get:function(){return this.IR.L;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.IR.priority;}}});b.OU=d;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z;function d(B,A,C,D,E,G,F,K,O,L,I){this.vu=C;this.U1=D;this.yc=E;this.za=G;this.Ia=F;this.KQ=K;this.Bac=O;this.Rj=L;this.Kj=I;this.log=B.eb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.QOa=void 0;r=a(0);l=a(1);h=a(7);n=a(12);c=a(119);f=a(56);g=a(57);k=a(45);m=a(164);p=a(205);q=a(30);v=a(5);t=a(27);w=a(18);u=a(208);y=a(222);x=a(115);a=a(62);d.prototype.fetch=function(B,A){var C;C=this;this.log.trace("Fetching LDL",(0,u.JM)(B));this.L=B.L;this.Jd=A;return A.QP(B.L,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,u.JM)(B));return C.Rj.Caa(B.L).then(function(D){var E,G;C.ba=D;C.Ra=D.Ra;if(D=C.Jd.Wmb(B.L,C.Ra))throw {status:D};D=C.Ra.gx[0].U0;E=C.Ra.gx[0].lta;G=(D?D:[E]).map(function(F){return C.yc.decode(F.bytes);});C.af=C.PE({v6a:C.log,Kta:function(F){return C.handleError(F);},ef:void 0,ZAa:function(){},za:{getTime:function(){return C.Ia.Qb().ia(v.va);},Hvc:function(){return C.za.rf.ia(v.Jo);}}});A.jmb(B.L,C.af);return C.af.create(C.config.co).then(function(){return C.af.oi(g.dj.Rp,G,!0);}).then(function(){return C.af;}).catch(function(F){C.handleError(F);throw F;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:c.Qk.Uf};});});};d.prototype.handleError=function(B){this.log.warn("ldl is now invalid",B);this.af.close();this.Jd.d3a(this.L);this.Jd.Gra(this.L);};d.prototype.PE=function(B){var A,C;A=this;if(!this.vu.HM || !this.vu.FM){C=this.Bac();this.vu.HM=C.oc;this.vu.FM=C.request;}C=new this.vu.FM(B.v6a,function(D){var E;E=[];D.fl.forEach(function(G){E.push({sessionId:G.sessionId,dataBase64:A.yc.encode(G.data)});});D={fl:E,z$:[A.Ra.Om],yg:f.Go.d4a(D.yg),Wg:A.Ra.Wg,sa:A.Jd.X9(A.L),Oj:A.ba.Oj,qh:A.ba.Ra.qh};A.log.trace("xid created ",{MovieId:A.L,xid:D.sa});return A.KQ.cy(D);},void 0,{gg:!1,$l:!1});return this.vu.HM(B.v6a,B.ef,{gg:!1,$l:!1,jn:C,W0:this.config.vjb,ea:void 0,lD:this.config.D6a,onerror:B.Kta,ZAa:B.ZAa,za:B.za,gL:!1,LIb:this.U1.Q9([]),Xmc:this.U1.W9([]),aza:this.Kj.F8.ia(v.va)});};z=d;z=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(n.uc)),r.__param(2,(0,l.l)(k.F5)),r.__param(3,(0,l.l)(m.TU)),r.__param(4,(0,l.l)(q.Fi)),r.__param(5,(0,l.l)(t.Nh)),r.__param(6,(0,l.l)(w.kd)),r.__param(7,(0,l.l)(p.mU)),r.__param(8,(0,l.l)(y.qla)),r.__param(9,(0,l.l)(x.DH)),r.__param(10,(0,l.l)(a.Ws))],z);b.QOa=z;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x,z){this.yc=u;this.lSb=y;this.XQ=x;this.Rj=z;this.log=t.eb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.YOa=void 0;r=a(0);l=a(1);h=a(7);n=a(12);c=a(57);f=a(30);g=a(128);k=a(145);m=a(119);p=a(208);q=a(115);v=a(43);d.prototype.fetch=function(t,w){var u;u=this;this.log.trace("Fetching LDL",(0,p.JM)(t));this.L=t.L;this.Jd=w;return w.QP(t.L,"ldl").then(function(y){return y.jga;}).catch(function(){u.log.trace("Requesting a new license",(0,p.JM)(t));return u.Rj.Caa(t.L).then(function(y){var x,z,B,A,C,D;u.Ra=y.Ra;if(w.Bab(t.L))return w.QP(t.L,"ldl").then(function(E){return E.jga;});x=u.Jd.Wmb(t.L,u.Ra);if(x)throw {status:x};z=u.Ra.gx[0];x=z.U0;B=z.lta;z=z.streams[0].OE;A=(0,v.Vxa)(z);C=(x?x:[B]).map(function(E){return u.yc.decode(E.bytes);});D=u.lSb().then(function(E){var G;G={type:c.dj.Rp,initData:C,dca:A,context:{Bca:(0,v.Kva)(y.Ra.gx[0].streams)},Wj:{L:t.L,sa:w.X9(t.L),Wg:u.Ra.Wg,Om:u.Ra.Om,Oj:y.Oj,qh:y.Ra.qh}};return E.oi(G,u.XQ());}).catch(function(E){u.handleError("Unable to prepare an EME session.",E);throw E;});u.Jd.jmb(t.L,{jga:D,source:"videopreparer"},function(){if(!u.Jd.arb(t.L))try{D.then(function(E){return E.close();}).catch(function(E){u.handleError("Unable to cleanup LDL session, Unable to get the session.",E);});}catch(E){u.handleError("Unable to cleanup LDL session, unexpected exception.",E);}});return D;}).catch(function(y){u.log.warn("Manifest not available for ldl request",y);if(void 0 !== y.status)throw y;throw {status:m.Qk.Uf};});});};d.prototype.handleError=function(t,w){this.log.warn(t + " LDL is now invalid.",w);this.Jd.d3a(this.L);this.Jd.Gra(this.L);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(n.uc)),r.__param(2,(0,l.l)(f.Fi)),r.__param(3,(0,l.l)(g.a4)),r.__param(4,(0,l.l)(k.wU)),r.__param(5,(0,l.l)(q.DH))],a);b.YOa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q;function d(v,t,w,u,y){this.C_=w;this.hh=u;this.Rj=y;this.log=v.eb("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.dQa=void 0;r=a(0);l=a(12);h=a(1);n=a(7);c=a(18);f=a(5);g=a(138);k=a(102);m=a(208);p=a(115);q=a(57);d.prototype.fetch=function(v,t){var w,u;this.log.trace("Fetching manifest",(0,m.JM)(v));u=v.Gb;this.config.mGb && u && u.ba && !this.Rj.sba(v.L) && (!(("clientGenesis" in u.ba) && u.ba.clientGenesis) || "number" === typeof u.ba.clientGenesis && Date.now() - u.ba.clientGenesis < this.config.ajb) && (u=this.C_.create(u.ba)) && (u.vL=this.hh.Qb().ia(f.va),u.$R=this.hh.Qb().ia(f.va),this.Rj.e2(v.L,u));return this.Rj.qF({sa:t.X9(v.L),N:v.L,jb:null !== (w=v.Gb) && void 0 !== w?w:{},Zv:k.Io.$M,yg:q.dj.Rp},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",N:v.L,ba:y});});};a=d;a=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(n.hb)),r.__param(1,(0,h.l)(l.uc)),r.__param(2,(0,h.l)(g.SM)),r.__param(3,(0,h.l)(c.kd)),r.__param(4,(0,h.l)(p.DH))],a);b.dQa=a;},function(r,b,a){var h,n,c,f,g,k,m,p,q,v,t,w,u,y,x;function d(){var z;z=this;this.promise=new Promise(function(B,A){z.resolve=B;z.reject=A;});}function l(z,B,A,C,D){var E;E=this;this.uCa=A;this.Dbc=C;this.Rj=D;this.f3=[];this.rG=new Map();this.Q9b=function(G){var F,K;G=G.wishListItem.key.N;if(E.rG.has(G)){K=E.rG.get(G);G=K.IR;K=K.Sra;null === (F=K.resolve) || void 0 === F?void 0:F.call(K,G);}};this.lea=function(G){var F,K;F=G.N;K=G.ba;G.target.arb(G.N) || (E.Mh.has({N:F}) && (E.Mh.fs(F).Uv=!0),null === K || void 0 === K?void 0:K.then(function(O){var L;L=O.Ra;L && L.Td && L.yt && L.yt.forEach(function(I){var M;M={gi:{Td:L.Td,Cg:F}};E.Mh.has({N:I.L,Cg:L.L,Td:L.Td}) && (E.Mh.fs(I.L,M).Uv=!0);});}).catch(function(){}),E.ukb(F),E.Omb(E.f3));};this.ta=z.eb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.LIa=void 0;r=a(0);h=a(7);a(208);n=a(168);c=a(66);f=a(12);g=a(19);k=a(102);m=a(301);p=a(1);q=a(554);v=a(11);t=a(115);w=a(57);u=a(555);y=a(1333);x=a(119);l.prototype.oa=function(z){var B;B=this;this.Mh=new u.vma(function(A,C){return B.ry(A,z,n.Rr.te,C);});};l.prototype.fetch=function(z,B){var A;A=this;if(-1 === B.events.listeners("manifestRemovedFromCache").indexOf(this.lea))B.events.on("manifestRemovedFromCache",this.lea);if(-1 === B.events.listeners("playbackClosing").indexOf(this.lea))B.events.on("playbackClosing",this.lea);!1;return this.qF(z.L,B,z.Gb).then(function(C){if("LIVE" === C.Ra.qh)throw {status:x.Qk.C2a};A.Omb(A.sMb(A.SPb(z,B)));return A.rG.get(z.L).Sra.promise;});};l.prototype.getStats=function(){return this.hz.getStats();};l.prototype.sMb=function(z){return [z].concat(ia(this.f3.filter(function(B){return B.key.N !== z.key.N;}))).slice(0,this.config.Bbc).map(this.config.Cbc?function(B,A){return Object.assign({},B,{priority:A});}:function(B){return B;});};l.prototype.d$a=function(z,B,A){var C;C=this;A=void 0 === A?{}:A;return this.qF(z,B,A).then(function(D){C.HOb(D,B);return D.Ra;});};l.prototype.qF=function(z,B,A){var C;A=void 0 === A?{}:A;return this.Rj.qF({sa:null !== (C=B.hw(z)) && void 0 !== C?C:B.X9(z),N:z,Zv:k.Io.$M,yg:w.dj.Rp,jb:A});};l.prototype.HOb=function(z,B){var A,C,D;A=this;C=z.Ra;null === (D=C.yt) || void 0 === D?void 0:D.forEach(function(E){A.ry(E.L,B,n.Rr.te,{gi:{Td:C.Td,Cg:C.L}},E);});};l.prototype.SPb=function(z,B){var A,C,D,E,G,F;D=new d();if(this.rG.has(z.L)){E=this.rG.get(z.L);G=E.IR;if(G.L === z.L && G.me === z.me)F=E.Anc.key;this.hz.getStats().contents.some(function(K){return K.id === z.L;}) && (D=E.Sra);}E=n.Rr.te.Mi((0,g.J9)(z.me));F || (F={N:z.L,config:E});G={N:z.L};this.Mh.has(G) || this.Mh.store(G,this.QPb(z,B,E));B={key:F,pwc:!1,priority:z.priority,j9:c.O.Na(null !== (C=null === (A=z.Gb) || void 0 === A?void 0:A.ca) && void 0 !== C?C:0),Mh:this.Mh};this.rG.set(z.L,{Anc:B,IR:z,Sra:D});return B;};l.prototype.QPb=function(z,B,A){var C,D,E;C=this;D=z.L;return {get sa() {return B.hw(D);},Uv:!1,events:new v.EventEmitter(),B2a:function(){},get Xu() {E || (E=C.d$a(z.L,B,z.Gb).then(function(G){return {ba:G,Tl:G.tba && !G.zF,config:A,qFa:{}};}));return E;},N:D,cGa:!1,equals:function(G){var F;F=B.hw(D);return G && G.N === D && (!G.sa || !F || F === G.sa);}};};l.prototype.ry=function(z,B,A,C,D){var E,G,F,K,O,L,I,M;E=this;O=B.hw(z);if(O || C){L={N:z,Cg:null === (G=null === C || void 0 === C?void 0:C.gi) || void 0 === G?void 0:G.Cg,Td:null === (F=null === C || void 0 === C?void 0:C.gi) || void 0 === F?void 0:F.Td};if(!this.Mh.has(L)){I=null !== O && void 0 !== O?O:this.Mh.fs(null === (K=null === C || void 0 === C?void 0:C.gi) || void 0 === K?void 0:K.Cg).sa;this.Mh.store(L,{B2a:function(){},equals:function(H){return H && H.N === L.N && (I === H.sa || !H.sa || !I);},get Xu() {M || (M=(D?Promise.resolve(D):E.d$a(z,B)).then(function(H){return {ba:H,Tl:H.tba && !H.zF,config:A,qFa:{}};}));return M;},set Xu(H) {M=H;},events:new v.EventEmitter(),sa:I,N:L.N,Uv:!1,cGa:!1});}}};l.prototype.umb=function(z){this.f3=z;};l.prototype.Omb=function(z){this.umb(z);this.hz.Nmb(this.f3);};l.prototype.ukb=function(z){this.rG.has(z) && (this.umb(this.f3.filter(function(B){return B.key.N !== z;})),this.rG.delete(z));};Va.Object.defineProperties(l.prototype,{hz:{configurable:!0,enumerable:!0,get:function(){this.NA || (this.NA=this.Dbc(),this.NA.ZEa(this.uCa).Emb(new y.tOa()).imb({DF:this.config.Abc}),this.NA.events.on("prefetchComplete",this.Q9b));return this.NA;}}});a=l;a=r.__decorate([(0,p.$)(),r.__param(0,(0,p.l)(h.hb)),r.__param(1,(0,p.l)(f.uc)),r.__param(2,(0,p.l)(q.Gla)),r.__param(3,(0,p.l)(m.NIa)),r.__param(4,(0,p.l)(t.DH))],a);b.LIa=a;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.tOa=void 0;a.prototype.L7a=function(d,l){var h;return null !== (h=this.iVb(d,l)) && void 0 !== h?h:this.mVb(d,l);};a.prototype.iVb=function(d,l){var h,n;h=this;n=l.na;return d.find(function(c){var f;return h.g$(n,null === (f=c.na) || void 0 === f?void 0:f.na);});};a.prototype.mVb=function(d,l){var h,n;h=l.na.ke;n=l.na.T[h];return d.find(function(c){var f;c=null === (f=c.na) || void 0 === f?void 0:f.na;c=(f=null === c || void 0 === c?void 0:c.ke) && (null === c || void 0 === c?void 0:c.T[f]) || void 0;return h === f && n.N === (null === c || void 0 === c?void 0:c.N) && n.Ba === (null === c || void 0 === c?void 0:c.Ba);});};a.prototype.g$=function(d,l){var h;h=this;return d === l?!0:"object" !== typeof d || "object" !== typeof l?d === l:Object.keys(d).length === Object.keys(l).length && Object.keys(d).every(function(n){return h.g$(d[n],l[n]);});};b.tOa=a;},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p){var q;q=this;this.hh=m;m=p();this.yh=new g({log:k.eb("CacheManager"),za:{getTime:function(){return q.hh.Qb().ia(c.va);}},Promise:Promise,gg:!1,jKb:m.Jbc,iKb:m.Hbc,mUb:m.ajb,lUb:m.Ibc});}Object.defineProperty(b,"__esModule",{value:!0});b.YJa=void 0;r=a(0);l=a(1);h=a(18);n=a(7);c=a(5);f=a(12);g=a(1335);d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.hb)),r.__param(1,(0,l.l)(h.kd)),r.__param(2,(0,l.l)(f.uc))],d);b.YJa=d;},function(r,b,a){var c;function d(){return Object.create(null);}function l(f){this.log=f.log;this.za=f.za;this.dG=d();this.Promise=f.Promise;this.sB=f.sB;this.NGa=f.NGa;this.gg=f.gg || !1;this.wy=d();this.HE=d();this.ZI=d();this.oFb(f);f.Bq && (this.Bq=f.Bq);}function h(f){return "undefined" !== typeof f;}function n(f){var m;for(var g=0,k=arguments.length;g < k;){m=arguments[g++];if(h(m))return m;}}a(1336);c=a(1337);l.prototype.oFb=function(f){this.wy.manifest=n(f.mUb,c.wy.ba);this.wy.ldl=n(f.lUb,c.wy.j_);this.wy.metadata=n(f.rvc,c.wy.jd);this.HE.manifest=n(f.jKb,c.HE.ba);this.HE.ldl=n(f.iKb,c.HE.j_);this.HE.metadata=n(f.fuc,c.HE.jd);this.ZI.manifest=n(f.duc,c.ZI.ba);this.ZI.ldl=n(f.cuc,c.ZI.j_);this.ZI.metadata=n(f.euc,c.ZI.jd);};l.prototype.wZ=function(f,g){this.Qv("undefined" !== typeof f);this.Qv("undefined" !== typeof g);return !!this.jYa(f,g,void 0).value;};l.prototype.jYa=function(f,g,k){var m,p;m={value:null,reason:"",log:""};p=this.dG[g];k=k?k:"DEFAULTCAPS";if("undefined" === typeof p)return (m.log="cache miss: no data exists for field:" + g,m.reason="unavailable",m);"undefined" === typeof p[f]?(m.log="cache miss: no data exists for movieId:" + f,m.reason="unavailable"):(p=p[f][k]) && p.value?this.hca(g,p.creationTime)?(m.log="cache miss: " + g + " data expired for movieId:" + f,m.reason="expired",this.clearData(f,g,k,!1,"expired")):(m.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + g + " request in flight for movieId:" + f:"cache hit: " + g + " available for movieId:" + f,m.value=p.value):(m.log="cache miss: " + g + " data not available for movieId:" + f,m.reason="unavailable");return m;};l.prototype.getData=function(f,g,k){this.Qv("undefined" !== typeof f);this.Qv("undefined" !== typeof g);f=this.jYa(f,g,k);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.NGa?JSON.parse(this.NGa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};l.prototype.setData=function(f,g,k,m,p){var q,v,t;this.Qv("undefined" !== typeof f);this.Qv("undefined" !== typeof g);q=this.dG;v=p?p:"DEFAULTCAPS";q[g] || (q[g]=d(),Object.defineProperty(q[g],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[g],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.sB?this.sB(JSON.stringify(k),"gzip",!0):k;q=q[g];this.SCb(f,g,v,q);t=this;m={creationTime:this.za.getTime(),value:k,size:0,type:g,Usa:m,kUb:setTimeout(function(){t.clearData(f,g,v,!1,"expired");},this.wy[g] + 1)};q[f]=q[f] || d();q[f][v]=q[f][v] || d();q[f][v]=m;q.size+=0;q.numEntries++;this.Bq && this.Bq.emit("addedCacheItem",m);return m;};l.prototype.SCb=function(f,g,k,m){var p,q,v,t,w,u,y,x,z;p=this;q=m.numEntries;v=this.HE[g];t=m[f] && m[f][k];if(t && t.value)(w=f,u="promise_or_expired");else if(q >= v){x=Number.POSITIVE_INFINITY;Object.keys(m).every(function(B){var A;A=m[B] && m[B][k];A && A.value && p.hca(g,A.creationTime) && (z=B);A && A.value && A.creationTime < x && (x=A.creationTime,y=B);return !0;});w=z || y;u="cache_full";}this.gg && this.log.debug("makespace ",{maxCount:v,currentCount:m.numEntries,field:g,movieId:f,movieToBeRemoved:w});w && (p.clearData(w,g,k,void 0,u),this.log.debug("removed from cache: ",w,g));};l.prototype.zra=function(f,g){var k,m;k=this;k.Qv("undefined" !== typeof f);m=f + "";g.forEach(function(p){var q;q=k.dG[p];q && Object.keys(q).forEach(function(v){v != m && k.clearData(v,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(f,g,k,m,p){var q;this.Qv("undefined" !== typeof f);this.Qv("undefined" !== typeof g);q=this.dG[g];g=q?q[f]:void 0;k=k?k:"DEFAULTCAPS";if(g && g[k]){q.size-=g[k].size;q.numEntries--;if(q=g && g[k])(clearTimeout(q.kUb),g[k]=void 0,!m && q.Usa && q.Usa());this.Bq && (f={creationTime:q.creationTime,destroyFn:q.Usa,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.Bq.emit("deletedCacheItem",f));}};l.prototype.flush=function(f){var g;this.Qv("undefined" !== typeof f);g=this.dG;g[f]=d();g[f].numEntries=0;g[f].size=0;};l.prototype.c3a=function(){var f,g;this.Qv(!1);f=this;g=this.dG;g[void 0] instanceof Object && Object.keys(g[void 0]).forEach(function(k){var m;m=g[void 0][k].DEFAULTCAPS;f.za.getTime() - m.creationTime > f.wy[void 0] && f.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.hca=function(f,g){return this.za.getTime() - g > this.wy[f];};l.prototype.getStats=function(f,g,k){var m,p,q,v,t;m={};p=this;q=p.dG;v=h(f) && h(g);t=k || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var u,y;u=Object.keys(q[w]);y=q[w];u.forEach(function(x){!(x=y && y[x] && y[x][t]) || !h(x.value) || x.value instanceof p.Promise || (m[w]=(m[w] | 0) + 1,p.hca(x.type,x.creationTime) && (m[w + "_expired"]=(m[w + "_expired"] | 0) + 1),v && x.creationTime >= f && x.creationTime < g && (m[w + "_delta"]=(m[w + "_delta"] | 0) + 1));});});return m;};l.prototype.getState=function(f){var g,k,m,p;g=[];k=this;m=k.dG;p=f || "DEFAULTCAPS";Object.keys(m).forEach(function(q){var v,t;v=Object.keys(m[q]);t=m[q];v.forEach(function(w){var u,y;u=t && t[w] && t[w][p];if(u && h(u.value)){y=k.hca(u.type,u.creationTime)?"expired":u.value instanceof k.Promise?"loading":"cached";g.push({movieId:w,state:y,type:q,size:u.size});}});});return g;};l.prototype.Qv=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.gg))throw Error("Debug Assert Failed ");};r.exports=l;},function(r){function b(a){var d;d=[];return (function n(h){if(h && "object" === typeof h){if(-1 !== d.indexOf(h))return !0;d.push(h);for(var c in h){if(h.hasOwnProperty(c) && n(h[c]))return !0;}}return !1;})(a);}r.exports=function(a,d){var h;if(d && b(a))return -1;d=[];a=[a];for(var l=0;a.length;){h=a.pop();if("boolean" === typeof h)l+=4;else if("string" === typeof h)l+=2 * h.length;else if("number" === typeof h)l+=8;else if("object" === typeof h && -1 === d.indexOf(h)){d.push(h);for(var n in h){a.push(h[n]);}}}return l;};},function(r){r.exports={wy:{ba:12E5,j_:9E5,jd:12E5},HE:{ba:10,j_:10,jd:10},ZI:{ba:10240,j_:10240,jd:10240}};},function(r,b,a){var d,l,h,n,c,f,g,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.rb=void 0;r=a(1);d=a(209);l=a(1339);h=a(556);n=a(1340);c=a(557);f=a(1341);g=a(1342);k=a(558);m=a(1343);b.rb=new r.Kd(function(p){p(d.qja).to(l.qLa).la();p(h.uQa).to(n.tQa).la();p(c.BRa).to(f.ARa).la();p(c.EQa).to(g.DQa).la();p(k.CQa).to(m.BQa).la();});},function(r,b,a){var l,h,n,c;function d(f){function g(k,m){this.K=k;this.Bn=m;this.V$=!1;this.emit=c.prototype.emit;this.addListener=c.prototype.addListener;this.on=c.prototype.on;this.once=c.prototype.once;this.removeListener=c.prototype.removeListener;this.removeAllListeners=c.prototype.removeAllListeners;this.listeners=c.prototype.listeners;this.listenerCount=c.prototype.listenerCount;c.call(this);this.Jg=f.eb("DownloadTrack");}g.prototype.Mt=function(){!1;this.oW=void 0;this.emit("destroyed");};g.prototype.toString=function(){return "id:" + this.oW + " config: " + JSON.stringify(this.K);};g.prototype.toJSON=function(){return "Download Track id:" + this.oW + " config: " + JSON.stringify(this.K);};g.prototype.CQ=function(){return void 0 === this.oW?!1:!0;};g.prototype.e1=function(k){this.K.connections !== k.connections && (this.K=k);};g.prototype.rw=function(){return 1 < this.K.connections?!0:!1;};Va.Object.defineProperties(g.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.oW;}},Un:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.oW;}},config:{configurable:!0,enumerable:!0,get:function(){return this.K;}},Iea:{configurable:!0,enumerable:!0,get:function(){return this.Jg;}},LK:{configurable:!0,enumerable:!0,get:function(){return this.Bn.LK;}}});this.DM=Object.assign(g,new n.rLa());}Object.defineProperty(b,"__esModule",{value:!0});b.qLa=void 0;r=a(0);l=a(1);h=a(7);n=a(209);c=a(106).EventEmitter;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb))],d);b.qLa=d;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q;function d(v,t,w,u,y,x){this.EO=v;this.Ef=w;this.Hb=u;this.Ia=y;this.config=x;this.log=t.eb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.tQa=void 0;r=a(0);l=a(210);h=a(101);n=a(4);c=a(7);f=a(1);g=a(65);k=a(25);m=a(18);p=a(5);a=a(12);d.prototype.mF=function(){return this.Ia.Qb().ia(p.va);};d.prototype.Ogb=function(v,t){v.A8b({mediaRequest:v,timestamp:t});};d.prototype.ihb=function(v){var t,w;w=v.mediaRequest.rC;w.readyState=l.Gc.dd.oA;w.Mgb(Object.assign(Object.assign({},v),{timestamp:v.connect?v.timestamp:this.mF(),connect:null !== (t=v.connect) && void 0 !== t?t:!1,mediaRequest:w,readyState:w.readyState}));};d.prototype.n0=function(v){this.Ogb(v.mediaRequest.rC,v.timestamp);};d.prototype.o0=function(v){var t,w;t=v.mediaRequest.rC;w=v.bytes;"undefined" === typeof t?!1:(t.readyState === l.Gc.dd.qA && this.ihb(v),this.Hb.Rl(w) && (v.mediaRequest=t,v.timestamp=this.mF(),w > t.bytesReceived && (v.newBytes=w - t.bytesReceived,v.bytesLoaded=w,t.E8b(v))));};d.prototype.xs=function(v){var t,w,u,y;t=v.mediaRequest;w=v.errorcode;u=v.httpcode;y=l.Gc.d4;if("undefined" === typeof t)!1;else if((t=t.rC,"undefined" === typeof t))!1;else if(t.readyState !== l.Gc.dd.IM)if(w === n.Y.AD)(t.readyState=l.Gc.dd.tT,v.mediaRequest=t,v.readyState=t.readyState,t.x8b(v));else {t.readyState=l.Gc.dd.IM;switch(w){case n.Y.gU:u=y.RJa;break;case n.Y.Qja:u=y.Nja;break;case n.Y.dU:u=400 < u && 500 > u?y.b5:500 <= u?y.Pja:y.Nja;break;case n.Y.eU:u=y.Oja;break;case n.Y.cU:u=y.SJa;break;case n.Y.fU:u=y.c5;break;case n.Y.uH:u=y.c5;break;case n.Y.qNa:u=y.pNa;break;case n.Y.mNa:u=y.b5;break;case n.Y.Dub:u=y.Oja;break;default:u=y.c5;}v.mediaRequest=t;v.readyState=t.readyState;v.errorcode=u;v.nativecode=w;t.$Aa(v);}};d.prototype.k0=function(v,t){var w,u;w=t.request.rC;if(w)if(t.ja){if((!1,v.j && w.readyState !== l.Gc.dd.DONE)){switch(w.readyState){case l.Gc.dd.tT:!1;return;case l.Gc.dd.IM:!1;break;case l.Gc.dd.oA:break;case l.Gc.dd.qA:this.ihb({mediaRequest:t.request,responseHeaders:t.headers});break;default:!1;}w.readyState=l.Gc.dd.DONE;if(!w.zc){u={mediaRequest:w,readyState:w.readyState,timestamp:this.mF(),cadmiumResponse:t};v.j.xGa+=1;w.E_b();w.z3b() && (v.j.ZDa+=1,t.Ym.tj=Math.ceil(w.zua),t.Ym.$q=Math.ceil(w.iJ),t.Ym.Is=Math.floor(w.UF));w.I9=u;w.oR(u);}}}else (!1,w.readyState === l.Gc.dd.tT?!1:this.xs({mediaRequest:t.request,errorcode:t.Da,httpcode:t.Xl,cadmiumResponse:t}));};d.prototype.download=function(v,t){var w,u;w=this;t=this.Ef.download(v,t);if(v.rC){u=v.rC;-1 < [l.Gc.dd.OPENED,l.Gc.dd.IM].indexOf(u.readyState) && (u.readyState=l.Gc.dd.qA,this.config().mAa?t.Ngc(function(y){w.n0(y);}):this.Ogb(u,this.mF()));}t.q8(function(y){w.k0(v,y);});t.Tgc(function(y){w.o0(y);});return t;};q=d;q=r.__decorate([(0,f.$)(),r.__param(0,(0,f.l)(h.yT)),r.__param(1,(0,f.l)(c.hb)),r.__param(2,(0,f.l)(g.sx)),r.__param(3,(0,f.l)(k.ah)),r.__param(4,(0,f.l)(m.kd)),r.__param(5,(0,f.l)(a.uc))],q);b.tQa=q;},function(r,b,a){var l,h,n;function d(c,f){this.Ef=f;this.log=c.eb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.ARa=void 0;r=a(0);l=a(1);h=a(7);a=a(65);d.prototype.GY=function(c,f,g){c={url:c.url,Kfc:g};!1;this.Ef.Ohc(c);};d.prototype.wO=function(c){try{c.nxa();}catch(f){this.log.warn("exception aborting request");}};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(a.sx))],n);b.ARa=n;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x,z){this.Ia=t;this.aw=w;this.config=u;this.Ef=x;this.Z6b=z;this.log=y.eb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.DQa=void 0;r=a(0);l=a(1);h=a(7);n=a(65);c=a(556);f=a(95);g=a(210);k=a(18);m=a(5);p=a(39);q=a(12);v=a(49);d.prototype.GY=function(t,w,u){var x,z,B;function y(){t.removeEventListener(g.Gc.jf.JH,y);t.sY?t.sY++:t.sY=1;t.sY >= x.config().fua.length && (t.sY=x.config().fua.length - 1);setTimeout(function(){x.GY(t,w,u);},x.config().fua[t.sY]);}x=this;t.qwc=!0;z=0 === w.start && -1 === w.end;z={url:t.url,responseType:this.Ef.O5.dJa,withCredentials:!1,VE:t.mediaType === v.u.U?"audio":"video",offset:z?void 0:w.start,length:z?void 0:t.Yg,track:{type:t.mediaType === v.u.U?f.Aj.audio:f.Aj.video},stream:{Wb:t.Ta,bitrate:t.bitrate},Dc:t.bd,rC:t,vga:u,Uu:this.aw.Uu,Gu:t.Gu};B=this.mF();z=this.Z6b.download(z,function(A){A.ja && t.readyState !== g.Gc.dd.DONE && (t.readyState === g.Gc.dd.tT?!1:(t.readyState === g.Gc.dd.IM?!1:t.readyState === g.Gc.dd.qA?(t.readyState=g.Gc.dd.oA,t.Mgb({mediaRequest:t,readyState:t.readyState,timestamp:t.zc?B:x.mF(),connect:!1,responseHeaders:A.headers})):t.readyState !== g.Gc.dd.qA && t.readyState !== g.Gc.dd.oA && !1,t.readyState=g.Gc.dd.DONE,A={mediaRequest:t,readyState:t.readyState,timestamp:x.mF(),cadmiumResponse:A,response:A.content},t.I9=A,t.oR(A)));});t.addEventListener(g.Gc.jf.JH,y);t.nxa=z.abort;};d.prototype.wO=function(t){try{t.nxa();}catch(w){this.log.warn("exception aborting request");}};d.prototype.mF=function(){return this.Ia.Qb().ia(m.va);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(k.kd)),r.__param(1,(0,l.l)(p.Qp)),r.__param(2,(0,l.l)(q.uc)),r.__param(3,(0,l.l)(h.hb)),r.__param(4,(0,l.l)(n.sx)),r.__param(5,(0,l.l)(c.uQa))],a);b.DQa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q;function d(v,t,w,u,y,x){function z(A,C){this.track=A;this.label=C;this.Ki=m.Gc.dd.UNSENT;this.bytesReceived=0;this.yL=[];this.requestId=x.yB().toString();this.Hb=w;this.log=t.eb("MediaRequest");this.config=v;this.Ob=new k.Nk();"notification" === this.label?this.config().aF && (this.LK=u):this.LK=y;!1;}function B(A,C){this.requestId=x.yB().toString();this.Hb=w;this.log=t.eb("MediaRequest");this.config=v;this.Ob=new k.Nk();this.label=C;"notification" === this.label?this.config().aF && (this.LK=u):this.LK=y;this.NZ=this.NO=this.PO=void 0;this.track=A;this.OO=this.url=this.responseType=void 0;this.Ki=m.Gc.dd.UNSENT;this.Sj=this.KP=this.Fh=this.status=void 0;this.xu=this.bytesReceived=0;this.connect=this.zua=this.iJ=this.UF=this.Nya=this.xg=this.yua=this.loadTime=this.iO=void 0;this.yL=[];this.Un=!1;!1;}z.prototype.addEventListener=function(A,C,D){this.Ob.addListener.call(this,A,C,D);};z.prototype.removeEventListener=function(A,C){this.Ob.removeListener.call(this,A,C);};z.prototype.emit=function(A,C,D){this.Ob.Zc.call(this,A,C,D);};z.prototype.A8b=function(A){this.Ki === m.Gc.dd.OPENED && (this.NZ=!0,this.loadTime=this.xg=A.timestamp,!1,this.Ki=m.Gc.dd.qA,this.emit(m.Gc.jf.rRa,A));};z.prototype.Mgb=function(A){var C;!this.glb && A.responseHeaders && (this.glb=A.responseHeaders);if(this.Ki < m.Gc.dd.oA){this.yL=[];C=A.timestamp - this.loadTime;!this.zc && 0 < C && (this.connect=!0,this.yL.push(C));!0 === this.config().E1b?this.yua=A.timestamp:this.yua=this.xg=A.timestamp;!1;this.Ki=m.Gc.dd.oA;this.emit(m.Gc.jf.qRa,A);}};z.prototype.E8b=function(A){this.Ki === m.Gc.dd.oA && (!1,this.Nya=this.xg=A.timestamp,A.newBytes=A.bytesLoaded - this.bytesReceived,this.bytesReceived=A.bytesLoaded,this.Hb.Ch(this.Nya) && this.emit(m.Gc.jf.sRa,A));};z.prototype.oR=function(A){var C;if(-1 < [m.Gc.dd.qA,m.Gc.dd.oA].indexOf(this.Ki)){this.NZ=!1;!1;this.xg=A.timestamp;this.Ki=m.Gc.dd.DONE;C=this.bytesReceived;this.bytesReceived=A.cadmiumResponse.Ym.vX;(0,q.wa)(this.bytesReceived === this.Yg,"bytesReceived do not match expected totalBytes.");A.newBytes=this.Yg - C;this.Hb.Ch(this.iJ) && (this.xg=this.iJ,0 === A.newBytes && (this.Nya=this.iJ));this.Hb.Ch(this.UF) && (this.loadTime=this.UF);this.iO=A.response;this.emit(m.Gc.jf.GU,A);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",zec:A});}};z.prototype.x8b=function(A){this.NZ=!1;!1;this.emit(m.Gc.jf.Ixb,A);};z.prototype.$Aa=function(A){this.xg=A.timestamp;this.status=A.httpcode;this.Fh=A.errorcode;this.KP=m.Gc.d4.name[this.Fh];this.Sj=A.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",ZTb:A});this.emit(m.Gc.jf.JH,A);this.NZ=!1;};z.prototype.open=function(A,C,D,E,G,F,K,O){this.yz=!1;this.OO=C;this.Gu=O;this.url=A;this.responseType=D;!1;if(!this.url)return (!1,!1);this.Ki=m.Gc.dd.OPENED;this.LK.GY(this,C,K);return !0;};z.prototype.wd=function(){!1;-1 !== [m.Gc.dd.OPENED,m.Gc.dd.qA,m.Gc.dd.oA].indexOf(this.Ki) && this.abort();return !0;};z.prototype.RLb=function(){this.iO=void 0;this.I9 && (this.I9.response=void 0,this.I9.cadmiumResponse.content=void 0);this.nxa=void 0;};z.prototype.TG=function(A){!1;this.url=A;return !0;};z.prototype.abort=function(){this.Ki=m.Gc.dd.tT;this.LK.wO(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(A){var C,D;return null !== (D=null === (C=this.glb) || void 0 === C?void 0:C[A.toLowerCase()]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.VR=function(){};z.prototype.Si=function(){return this.requestId;};z.prototype.toString=function(){var A;A={requestId:this.Si(),segmentId:this.S,isHeader:this.zc,ptsStart:this.LC,ptsOffset:this.Sw,responseType:this.responseType,duration:this.Xn,readystate:this.Ki};this.stream && (A.bitrate=this.stream.bitrate);return JSON.stringify(A);};z.prototype.toJSON=function(){return this.toString();};z.prototype.E_b=function(){var A,C;if(this.config().Aqb && c.wx && c.wx.getEntriesByType && (!this.Hb.Ch(this.UF) || !this.Hb.Ch(this.iJ) && this.Hb.Ch(this.url))){A="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.PO + "-" + this.NO + "*");C=new RegExp(A);A=c.wx.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.Hb.Ch(A) && (0 < A.startTime && (this.UF=A.startTime,0 < A.requestStart && (this.UF=Math.max(this.UF,A.requestStart))),0 < A.responseStart && (this.zua=A.responseStart),0 < A.responseEnd && (this.iJ=A.responseEnd));}};z.prototype.z3b=function(){return this.Hb.Ch(this.UF) && this.Hb.Ch(this.iJ) && this.Hb.Ch(this.zua);};Va.Object.defineProperties(z.prototype,{Yg:{configurable:!0,enumerable:!0,get:function(){return 0 === this.OO.start && -1 === this.OO.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.OO.end - this.OO.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.NO - this.PO + 1;}},Fab:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},zc:{configurable:!0,enumerable:!0,get:function(){return !this.KF;}},response:{configurable:!0,enumerable:!0,get:function(){return this.iO;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Ki;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(A){var C;C=Object.getOwnPropertyDescriptor(z.prototype,A);Object.defineProperty(B.prototype,A,C);});this.ur=Object.assign(B,m.Gc);}Object.defineProperty(b,"__esModule",{value:!0});b.BQa=void 0;r=a(0);l=a(1);h=a(7);n=a(12);c=a(14);f=a(25);g=a(557);k=a(70);m=a(210);p=a(87);q=a(22);d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.uc)),r.__param(1,(0,l.l)(h.hb)),r.__param(2,(0,l.l)(f.ah)),r.__param(3,(0,l.l)(g.BRa)),r.__param(4,(0,l.l)(g.EQa)),r.__param(5,(0,l.l)(p.aA))],d);b.BQa=d;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.ggb=void 0;r=a(1);d=a(363);l=a(1345);b.ggb=new r.Kd(function(h){h(d.Lka).to(l.TQa).la();});},function(r,b,a){var l,h,n,c,f;function d(g){return h.Lf.call(this,g,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TQa=void 0;r=a(0);l=a(46);h=a(47);n=a(1);c=a(33);f=a(5);la(d,h.Lf);Va.Object.defineProperties(d.prototype,{Ufb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Vb)(5E3);}},whb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Vb)(1E3);}},xhb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Vb)(1E3);}}});a=d;r.__decorate([l.config(l.dm,"minDecoderBufferMilliseconds")],a.prototype,"Ufb",null);r.__decorate([l.config(l.dm,"optimalDecoderBufferMilliseconds")],a.prototype,"whb",null);r.__decorate([l.config(l.dm,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"xhb",null);a=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(c.yn))],a);b.TQa=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.iib=void 0;r=a(1);d=a(559);l=a(1347);h=a(85);n=a(1349);c=a(562);f=a(1350);g=a(511);k=a(1351);m=a(302);p=a(1352);b.iib=new r.Kd(function(q){q(h.mA).to(n.jSa).la();q(d.lSa).to(l.kSa).la();q(g.vSa).to(k.uSa);q(g.tSa).Te(function(v){return function(){return v.xb.get(g.vSa);};});q(c.RSa).to(f.QSa).la();q(m.kla).to(p.NSa).la();});},function(r,b,a){var n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A;function d(C){this.config=C;this.pB=[];}function l(C,D,E){this.Ia=C;this.$S=D;this.context=E;this.startTime=this.Ia.Qb();}function h(C,D,E,G,F,K,O,L,I,M){this.ppb=D;this.json=E;this.Ia=G;this.aw=F;this.cDa=K;this.Jc=O;this.config=L;this.Ob=I;this.receiver=M;this.log=C.eb("Pbo");L.lkb && (this.pB=new d(L));this.$S=this.ppb();}Object.defineProperty(b,"__esModule",{value:!0});b.kSa=void 0;r=a(0);n=a(1);c=a(5);f=a(560);g=a(7);k=a(37);m=a(18);p=a(39);q=a(147);v=a(48);t=a(561);w=a(85);u=a(112);y=a(16);x=a(67);z=a(1348);a=a(302);B={"shakti-":"akira"};h.prototype.send=function(C,D){var E;E=new l(this.Ia,this.$S,C);this.pB && this.pB.append(E);return this.KEa(C,D,E);};h.prototype.KEa=function(C,D,E){var G;G=this;return new Promise(function(F,K){G.retry(C,D).then(function(O){var L,I;G.igc(O);L=oa(G.Mmc(O));I=L.next().value;L=L.next().value;I && (G.receiver.ZCa({command:C.$o,inputs:D,outputs:I}),G.jMb(E),F(O));L && (G.receiver.ZCa({command:C.$o,inputs:D,outputs:L}),G.r3a(E,L),K(L));}).catch(function(O){var L;G.receiver.ZCa({command:C.$o,inputs:D,outputs:O});L=G.r3a(E,O);O.Tb && (O.Tb=[O.Tb," ",L].join(""));K(O);});});};h.prototype.igc=function(C){(C=C.serverTime) && this.Ob.Zc(y.Zja.bmb,(0,c.Vb)(C));};h.prototype.Mmc=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{kG:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.GIb=function(C,D,E){var G;G=this;this.fmc(D,C);this.$S=this.ppb(E);return this.$S.send(D,E).then(function(F){return {retry:!1,result:z.C5.W$b(G.json,F.body)};}).catch(function(F){var K,O;K=z.C5.PYb(F);O=void 0 !== K?Math.min(K,D.bEa):D.bEa;return G.sga(D,F,C,O)?(K=G.DKb(F,C,O),G.log.warn("Method failed, retrying",Object.assign({Method:D.$o,Attempt:C + 1,WaitTime:K,MaxRetries:O},G.Isa(F))),Promise.resolve({retry:!0,delay:K,error:F})):Promise.resolve({retry:!1,error:F});});};h.prototype.IWb=function(C){var D,E;if(!this.bpa || this.bpa.r$b !== C){D="";E=C;Object.entries(B).find(function(G){var F;F=oa(G);G=F.next().value;F=F.next().value;if(0 === C.indexOf(G))return (D=F,C=C.slice(G.length),!0);});this.bpa={m3a:D,Dz:C,r$b:E};}return this.bpa;};h.prototype.fmc=function(C,D){var E,G,F,K;K=C.url.searchParams;K.set(x.MD.LUa,(D + 1).toString());this.config.uqb.includes(C.ul)?C.headers[x.bzb.Sla]=C.ul:K.set(x.MD.Sla,C.ul);C=this.IWb(null !== (E=this.config.Dz) && void 0 !== E?E:"");C.m3a && (K.set(x.MD.lKa,C.m3a),C.Dz && K.set(x.MD.KWa,encodeURIComponent(C.Dz)),E=this.aw.Hd,(null === E || void 0 === E?0:E.name) && K.set(x.MD.AJa,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && K.set(x.MD.BJa,encodeURIComponent(E.version)),(null === (G=null === E || void 0 === E?void 0:E.os) || void 0 === G?0:G.name) && K.set(x.MD.vRa,encodeURIComponent(E.os.name)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.version) && K.set(x.MD.wRa,encodeURIComponent(E.os.version)));};h.prototype.retry=function(C,D,E){var G;G=this;E=void 0 === E?0:E;return this.GIb(E++,C,D).then(function(F){if(F.retry)return G.wait(F.delay).then(function(){return G.retry(C,D,E);});if(F.error)throw F.error;if(void 0 === F.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return F.result;});};h.prototype.sga=function(C,D,E,G){var F;F=z.C5.A3b(D);if(F && E < G)return !0;F?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.$o,Attempt:E + 1,MaxRetries:G},this.Isa(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.$o},this.Isa(D)));return !1;};h.prototype.DKb=function(C,D,E){if(C && C.FG && void 0 !== C.FG.retryAfterSeconds)return (0,c.$i)(C.FG.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,E));return (0,c.Vb)(this.cDa.Ljb(C,D));};h.prototype.wait=function(C){var D;D=this;return new Promise(function(E){D.Jc.zl(C || c.Oa,E);});};h.prototype.Isa=function(C){return (0,t.Ccb)(C)?C:{message:C.message,subCode:C.xc,extCode:C.yd,mslCode:C.uC,data:C.data};};h.prototype.jMb=function(C){C.KS();};h.prototype.r3a=function(C,D){var E;C.Wv(D);if(this.pB)try{E=this.json.stringify(this.pB);this.log.error("PBO command history",E);return E;}catch(G){}return "";};A=h;A=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(g.hb)),r.__param(1,(0,n.l)(f.zWa)),r.__param(2,(0,n.l)(k.xH)),r.__param(3,(0,n.l)(m.kd)),r.__param(4,(0,n.l)(p.Qp)),r.__param(5,(0,n.l)(q.P5)),r.__param(6,(0,n.l)(v.ck)),r.__param(7,(0,n.l)(w.mA)),r.__param(8,(0,n.l)(u.Eja)),r.__param(9,(0,n.l)(a.kla))],A);b.kSa=A;l.prototype.KS=function(){this.ja=!0;this.elapsedTime=this.Ia.Qb().Fa(this.startTime);};l.prototype.Wv=function(C){this.ja=!1;this.elapsedTime=this.Ia.Qb().Fa(this.startTime);this.bjc=C.xc || C.subCode;this.qUb=C.yd || C.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var C;C=Object.assign({success:this.ja,method:this.context.$o,startTime:this.startTime.ia(c.va),elapsedTime:this.elapsedTime?this.elapsedTime.ia(c.va):"in progress"},this.$S.bsa());return this.ja?C:Object.assign(Object.assign(Object.assign({},C),this.$S.bsa()),{subcode:this.bjc,extcode:this.qUb});};d.prototype.append=function(C){this.pB.push(C);0 < this.config.hxa && this.pB.length > this.config.hxa && this.pB.shift();};d.prototype.toJSON=function(){return this.pB;};},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.C5=void 0;l=a(4);d.A3b=function(h){var n,c;n=h && h.code;c=h && (h.Da || h.xc);h=h.yd !== l.e5.$Ra;c=!!c && c >= l.Y.gU && c <= l.Y.eU && h;return !("RETRY" !== n && "FAIL" !== n) || c;};d.PYb=function(h){var n,c;c=null === (n=null === h || void 0 === h?void 0:h.FG) || void 0 === n?void 0:n.maxRetries;return "number" === typeof c?c:"FAIL" === (null === h || void 0 === h?void 0:h.code)?1:void 0;};d.W$b=function(h,n){var c;if(n){try{c=h.parse(n);}catch(f){throw {kG:!0,code:"FAIL",message:"Unable to parse the response body",data:n};}if(c.error)throw c.error;if(c.result){if(Array.isArray(c.result) && (h=c.result.find(function(f){return f.error;})))throw h.error;return c;}throw {kG:!0,code:"FAIL",message:"There is no result property on the response"};}throw {kG:!0,code:"FAIL",message:"There is no body property on the response"};};b.C5=d;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v){m=h.Lf.call(this,m,"PboConfigImpl") || this;m.config=p;m.VHb=q;m.Qg=v;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.jSa=void 0;r=a(0);l=a(1);h=a(47);n=a(33);c=a(46);f=a(12);g=a(176);a=a(110);la(d,h.Lf);Va.Object.defineProperties(d.prototype,{Dz:{configurable:!0,enumerable:!0,get:function(){return this.config().Xr.Dz || "";}},oha:{configurable:!0,enumerable:!0,get:function(){return this.config().Xr.oha || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Xr.BCa;}},Acb:{configurable:!0,enumerable:!0,get:function(){return !1;}},cmb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.VHb.L1a,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.dmb);}},dmb:{configurable:!0,enumerable:!0,get:function(){return {};}},lkb:{configurable:!0,enumerable:!0,get:function(){return !1;}},hxa:{configurable:!0,enumerable:!0,get:function(){return 10;}},t0a:{configurable:!0,enumerable:!0,get:function(){return !1;}},py:{configurable:!0,enumerable:!0,get:function(){return this.Qg.py;}},$E:{configurable:!0,enumerable:!0,get:function(){return this.Qg.$E;}},oM:{configurable:!0,enumerable:!0,get:function(){return this.Qg.oM;}},Cqb:{configurable:!0,enumerable:!0,get:function(){return !1;}},J6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},uqb:{configurable:!0,enumerable:!0,get:function(){return [];}},R6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},xP:{configurable:!0,enumerable:!0,get:function(){return this.Qg.xP;}},mJ:{configurable:!0,enumerable:!0,get:function(){return this.Qg.mJ;}},Tga:{configurable:!0,enumerable:!0,get:function(){return this.Qg.Tga;}}});k=d;r.__decorate([c.config(c.string,"uiVersion")],k.prototype,"Dz",null);r.__decorate([c.config(c.string,"uiPlatform")],k.prototype,"oha",null);r.__decorate([c.config(c.hD,"pboVersion")],k.prototype,"version",null);r.__decorate([c.config(c.string,"pboOrganization")],k.prototype,"organization",null);r.__decorate([c.config(c.UL,"pboLanguages")],k.prototype,"languages",null);r.__decorate([c.config(c.vd,"hasLimitedPlaybackFunctionality")],k.prototype,"Acb",null);r.__decorate([c.config(c.object(),"pboCommands")],k.prototype,"cmb",null);r.__decorate([c.config(c.object(),"pboCommandsOverride")],k.prototype,"dmb",null);r.__decorate([c.config(c.vd,"pboRecordHistory")],k.prototype,"lkb",null);r.__decorate([c.config(c.hD,"pboHistorySize")],k.prototype,"hxa",null);r.__decorate([c.config(c.vd,"pboAddXEsnHeader")],k.prototype,"t0a",null);r.__decorate([c.config(c.vd,"combineManifestAndLicense")],k.prototype,"py",null);r.__decorate([c.config(c.vd,"enableLicensedManifestForPrefetch")],k.prototype,"$E",null);r.__decorate([c.config(c.vd,"useLdlForPrefetchLicensedManifest")],k.prototype,"oM",null);r.__decorate([c.config(c.vd,"pboUseStudioManifest")],k.prototype,"Cqb",null);r.__decorate([c.config(c.vd,"pboEnableLeanManifest")],k.prototype,"J6a",null);r.__decorate([c.config(c.vd,"useHeaderForRequestNames")],k.prototype,"uqb",null);r.__decorate([c.config(c.vd,"pboEnableV2OptimizedManifest")],k.prototype,"R6a",null);r.__decorate([c.config(c.vd,"pboEnableManifestPartialHydrationSupport")],k.prototype,"xP",null);r.__decorate([c.config(c.UL,"pboContentPlaygraphTypes")],k.prototype,"mJ",null);r.__decorate([c.config(c.vd,"pboSupportsAdBreakHydration")],k.prototype,"Tga",null);k=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.yn)),r.__param(1,(0,l.l)(f.uc)),r.__param(2,(0,l.l)(g.u3)),r.__param(3,(0,l.l)(a.KH))],k);b.jSa=k;},function(r,b,a){var h,n;function d(c,f,g,k,m,p,q){this.version=c;this.url=f;this.id=g;this.languages=k;this.Gb=m;this.wSb=p;this.Z7b=q;}function l(c){this.ti=c;}Object.defineProperty(b,"__esModule",{value:!0});b.QSa=void 0;r=a(0);h=a(1);a=a(85);l.prototype.create=function(c,f,g,k,m){return new d(this.ti.version,f,c,this.ti.languages,g,k,m);};n=l;n=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(a.mA))],n);b.QSa=n;d.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Gb,echo:this.wSb};};},function(r,b,a){var l,h,n;function d(c,f){this.wJ=f;this.log=c.eb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.uSa=void 0;r=a(0);l=a(1);h=a(7);a=a(96);d.prototype.qpa=function(c){c && (!1,this.links=Object.assign(Object.assign({},this.links),c));};d.prototype.XP=function(c){!1;return this.links[c];};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(a.Vz))],n);b.uSa=n;},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.NSa=void 0;r=a(0);a=a(1);d.prototype.Mgc=function(h){this.listener=h;};d.prototype.ZCa=function(h){var n;null === (n=this.listener) || void 0 === n?void 0:n.call(this,h);};l=d;l=r.__decorate([(0,a.$)()],l);b.NSa=l;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T,W,Q,ka,ra,R,fa,wa,ua,Ea,Xa,vb,nb,zb,Ma,Ya,bb,hb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(1);d=a(509);l=a(563);h=a(1354);n=a(565);c=a(1355);f=a(376);g=a(373);k=a(1356);m=a(1368);p=a(12);q=a(18);v=a(111);t=a(25);w=a(7);u=a(1369);y=a(241);x=a(1370);z=a(5);B=a(1371);A=a(1372);C=a(587);D=a(1373);E=a(112);G=a(566);F=a(1374);K=a(113);O=a(32);L=a(164);I=a(96);M=a(294);H=a(591);J=a(1375);N=a(86);P=a(39);X=a(567);V=a(1376);S=a(568);U=a(26);ha=a(589);qa=a(1377);xa=a(569);Aa=a(1378);Oa=a(27);T=a(311);W=a(310);Q=a(1379);ka=a(1380);ra=a(1381);R=a(1382);fa=a(1383);wa=a(1384);ua=a(204);Ea=a(1385);Xa=a(48);vb=a(1386);nb=a(1387);zb=a(1388);Ma=a(1389);Ya=a(1390);bb=a(1391);hb=a(1392);b.j=new r.Kd(function(kb){kb(H.yla).to(J.rTa).la();kb(S.FIa).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb,Kb){return new (a(1393).GIa)(Hb,Kb,Bb.get(v.Sz),Bb.get(E.W3));};});kb(d.AWa).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc){return new (a(1396).BWa)(Bb.get(B.GWa),Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc);};});kb(B.GWa).to(A.FWa).la();kb(l.EWa).to(h.DWa).la();kb(g.mTa).to(k.lTa).la();kb(ra.pVa).to(R.oVa).la();kb(X.KUa).to(V.JUa);kb(X.IUa).Vob(X.KUa);kb(f.kLa).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb){return new (a(1397).lLa)(Bb.get(E.jLa),Bb.get(v.Sz),Bb.get(q.kd),Hb);};});kb(n.iJa).Te(function(){return function(ob){return new c.jJa(ob);};});kb(ha.Bla).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb){return new qa.xTa(Hb,Bb.get(w.hb),Bb.get(t.ah));};});kb(W.YHa).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb){return new Q.ZHa(Hb,Bb.get(w.hb).eb("AdImpressionLogger"),Bb.get(Oa.Nh),Bb.get(p.uc),Bb.get(q.kd),Bb.get(T.hia),Bb.get(T.gia));};});kb(fa.mIa).to(wa.lIa);kb(Ma.wT).to(vb.eIa);kb(Ma.wT).to(zb.jIa);kb(Ma.wT).to(Ya.nIa);kb(Ma.wT).to(nb.oIa);kb(xa.cIa).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb,Kb){return new Aa.dIa(Hb,Kb,Bb.get(w.hb).eb("AdManager"),Bb.get(p.uc),Bb.get(ra.pVa),Bb.getAll(Ma.wT),Bb.get(W.YHa),function(Qb){return new ka.bIa(Qb);},Bb.get(fa.mIa));};});kb(u.dTa).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb){return new m.eTa(Hb,Bb.get(w.hb),Bb.get(p.uc),Bb.get(t.ah),Bb.get(v.Sz),Bb.get(ha.Bla));};});kb(ua.aPa).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb,Kb){return new Ea.bPa(Bb.get(p.uc),Bb.get(bb.cPa),Bb.get(Xa.ck),Bb.get(w.hb),Hb,Kb);};});kb(bb.cPa).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb){return new hb.dPa(Bb.get(p.uc),Bb.get(w.hb),Bb.get(K.SH),Hb);};});kb(y.Ala).Te(function(ob){var Bb;Bb=ob.xb;return function(Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc,Td,Ud){return new x.tTa(Hb,Kb,Qb,Tb,Fb,Sb,Zb,vc,Kc,Bb.get(u.dTa),Bb.get(H.yla),Bb.get(ua.aPa),Td,Ud);};});kb(C.hVa).Te(function(ob){return function(Bb){var Hb,Kb;Hb=ob.xb.get(p.uc);Kb=ob.xb.get(w.hb);return new D.iVa(Hb,Bb,Kb);};});kb(G.oTa).Te(function(ob){return function(Bb){var Hb,Kb,Qb,Tb,Fb;Hb=ob.xb.get(I.Vz);Kb=ob.xb.get(K.SH);Qb=ob.xb.get(O.Ii);Tb=ob.xb.get(L.TU);Fb=ob.xb.get(U.Uz);return new F.pTa(Bb,Hb,Kb((0,z.$i)(1)),Qb,Tb,Fb);};});kb(M.Jka).XG(function(ob){return new (a(1398).PQa)(ob.xb.get(N.AU),ob.xb.get(P.Qp));}).la();});},function(r,b,a){var l,h,n,c,f,g;function d(k,m){this.hh=k;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.DWa=void 0;r=a(0);l=a(16);h=a(564);n=a(18);c=a(1);f=a(5);a=a(12);d.prototype.yP=function(k){var m;k.F2={};if(!k.BQ() && k.gD && 0 < k.gD.length && (k.fD=this.N9a(k),k.fD)){m=this.lhc(k);m() || (k.Db.addListener(m),k.Kf.addListener(m));}};d.prototype.lhc=function(k){var p;function m(){var q,v;if(!k.Kf.value || k.Db.value === l.qb.Hg)return !1;q=k.fD;v=q.getState();return v === h.xr.LOADING?!1:v !== h.xr.yH && q.retry?(q=p.H_b(k))?(k.F2.offset=p.hh.Qb().ia(f.va),k.fD=q,q.download(),!0):!1:(k.Db.removeListener(m),k.Kf.removeListener(m),!1);}p=this;return m;};d.prototype.H_b=function(k){var m,p;m=this.config();p=k.bn.hs() < m.Skc;m=(k.Kf.value?k.Kf.value.bitrate:0) > m.Rkc;return this.YZb(k,p && m);};d.prototype.YZb=function(k,m){if(m && (m=this.N9a(k),this.Q$a(k,m.size)))return (k.F2.Wkb="h",m);m=this.MYb(k);if(this.Q$a(k,m.size))return (k.F2.Wkb="l",m);};d.prototype.Q$a=function(k,m){var p,q;p=this.config();q=Math.min(k.NW(),k.S2());return k.nJb.tKb(m) * (1 + .01 * p.zHb[2]) < q * p.Vkc;};d.prototype.N9a=function(k){return k.gD[k.gD.length - 1];};d.prototype.MYb=function(k){return k.gD[0];};g=d;g=r.__decorate([(0,c.$)(),r.__param(0,(0,c.l)(n.kd)),r.__param(1,(0,c.l)(a.uc))],g);b.DWa=g;},function(r,b){function a(d){this.j=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jJa=void 0;a.prototype.eqb=function(){var d;d=this.j.rb;if(null !== d && void 0 !== d && d.EA){d=d.Bc.get();if(null === d || void 0 === d?0:d.vl)this.j.vl=d.vl.ya;if(null === d || void 0 === d?0:d.Za)this.j.Za=d.Za.ya;}};a.prototype.up=function(){-1 === this.j.Za && this.eqb();return this.j.Za;};a.prototype.tKb=function(d){-1 !== this.j.vl && -1 !== this.j.Za || this.eqb();return -1 === this.j.vl || -1 === this.j.Za?Number.MAX_VALUE:this.j.vl + 8 * d / this.j.Za;};b.jJa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M;function d(H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T,W,Q,ka,ra,R,fa,wa,ua,Ea,Xa,vb,nb,zb){this.WB=H;this.yE=J;this.Ia=N;this.za=P;this.oJb=X;this.mGa=V;this.E_=S;this.Nza=U;this.OQ=ha;this.Jd=qa;this.Vi=xa;this.Xj=Aa;this.JO=Oa;this.J0=T;this.Rj=W;this.EGa=Q;this.Vg=ka;this.jo=ra;this.Ve=R;this.lCa=fa;this.vec=wa;this.Vpa=ua;this.OK=Ea;this.VBa=Xa;this.jpa=vb;this.lKb=nb;this.EO=zb;}Object.defineProperty(b,"__esModule",{value:!0});b.lTa=void 0;r=a(0);l=a(87);h=a(1);n=a(113);c=a(34);f=a(18);g=a(27);k=a(565);m=a(242);p=a(510);q=a(531);v=a(120);t=a(148);w=a(167);u=a(101);y=a(500);x=a(241);z=a(563);B=a(50);A=a(32);C=a(566);D=a(86);E=a(567);G=a(568);F=a(294);K=a(115);O=a(547);L=a(569);I=a(235);d.prototype.create=function(H,J,N,P,X,V,S,U){return new (a(570).nTa)(H,J,V,S,P,X,this.WB,N,this.Ia,this.yE,this.za,this.E_,this.oJb,this.mGa,this.Nza,this.OQ,this.Jd,this.Vi,this.Xj,this.JO,this.J0,this.Rj,this.EGa,this.Vg,this.Ve,this.lCa,this.jo,this.vec(),this.Vpa,this.OK,this.VBa,this.jpa,this.lKb,void 0,U);};M=d;M=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(l.aA)),r.__param(1,(0,h.l)(c.xj)),r.__param(2,(0,h.l)(f.kd)),r.__param(3,(0,h.l)(g.Nh)),r.__param(4,(0,h.l)(k.iJa)),r.__param(5,(0,h.l)(n.SH)),r.__param(6,(0,h.l)(m.Dka)),r.__param(7,(0,h.l)(p.eQa)),r.__param(8,(0,h.l)(q.rU)),r.__param(9,(0,h.l)(v.VH)),r.__param(10,(0,h.l)(t.MU)),r.__param(11,(0,h.l)(w.MH)),r.__param(12,(0,h.l)(y.rJa)),r.__param(13,(0,h.l)(x.Ala)),r.__param(14,(0,h.l)(K.DH)),r.__param(15,(0,h.l)(z.EWa)),r.__param(16,(0,h.l)(B.Ho)),r.__param(17,(0,h.l)(D.AU)),r.__param(18,(0,h.l)(A.Ii)),r.__param(19,(0,h.l)(C.oTa)),r.__param(20,(0,h.l)(E.IUa)),r.__param(21,(0,h.l)(G.FIa)),r.__param(22,(0,h.l)(F.Jka)),r.__param(23,(0,h.l)(O.ISa)),r.__param(24,(0,h.l)(L.cIa)),r.__param(25,(0,h.l)(I.Yia)),r.__param(26,(0,h.l)(u.yT)),r.__param(26,(0,h.optional)())],M);b.lTa=M;},function(r,b,a){var c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L;function d(){this.fha=[];this.Dkc=50;}function l(I){var M;M=this;this.j=I;this.irb=Promise.resolve();this.WLa=mb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.CI=[];this.Ml=new k.Nk();this.VXa=0;this.K6=[];this.Jg=(0,q.nj)(this.j,"MediaElementASE");this.f_a=f.iA;this.ana=!1;this.jc=new d();this.pq={};this.zYa={};this.Iaa=this.M6(function(){var H;if(M.ea)return null !== (H=M.ea.webkitDecodedFrameCount) && void 0 !== H?H:0;});this.Dy=this.M6(function(){var H;if(M.ea){H=M.zna();return H?H.totalVideoFrames:M.ea.webkitDecodedFrameCount;}});this.YJ=this.M6(function(){var H;if(M.ea){H=M.zna();return H?H.droppedVideoFrames:M.ea.webkitDroppedFrameCount;}});this.RY=this.M6(function(){var H;if(M.ea){H=M.zna();return H && H.corruptedVideoFrames;}});this.ZYa=function(H){!1;M.Ml.Zc(C.Pk.Pdb,{N:H});};this.Wm=q.Ga.get(A.WOa).create(g.config.Vu,this,this.j);g.config.SF && (this.irb=new Promise(function(H){M.f_a=H;M.j.addEventListener(G.ka.Ah,H);}));this.Jg.trace("Created Media Element");this.addEventListener=this.Ml.addListener;this.removeEventListener=this.Ml.removeListener;}function h(I){var M,H;M=q.Ga.get(D.oXa).RZb();I=I.width / I.height * M.height;H=(M.width - I) / 2;return g.config.ghc?(0,p.createElement)("VIDEO","position:absolute;width:" + I + "px;height:" + M.height + "px;left:" + H + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function n(I){I.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.rQa=void 0;c=a(307);f=a(17);g=a(19);k=a(70);m=a(58);p=a(44);q=a(10);v=a(4);t=a(22);w=a(79);u=a(358);y=a(23);x=a(308);z=a(14);B=a(15);A=a(576);C=a(309);D=a(551);E=a(5);G=a(16);F=a(56);K=a(43);O=a(49);L=!!(z.GD && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.lF=function(I){try{this.ea && (this.VXa=this.ea.currentTime);}catch(M){this.Jg.error("Exception while getting VIDEO.currentTime",M);I && this.lV(v.aa.yyb,M);}return (0,z.Sp)(this.VXa * f.hv);};l.prototype.seek=function(I){var M;(0,t.wa)(!this.Jr);this.XZa();M=this.lF(!0);if(!g.config.PHb && (0,z.m5)(M - I) <= this.Nlb)(this.Jg.trace("Seek delta too small",{currentTime:M,seekTime:I,min:this.Nlb}),this.jc.trace("smallseek",I));else {this.jc.trace("seek",I);try{this.Jg.trace("Setting video elements currentTime",{From:(0,w.Hi)(M),To:(0,w.Hi)(I)});this.Jr={};this.ea.currentTime=I / f.hv;this.Ml.Zc(C.Pk.xq);}catch(H){this.Jg.error("Exception while setting VIDEO.currentTime",H);this.lV(v.aa.zyb,H);}}};l.prototype.R$a=function(){return !!this.Jr;};l.prototype.addSourceBuffer=function(I){var M;try{M=new c.Gka(this.j,I,this.Lg,this.Jg);this.CI.push(M);I == f.tU && M.Aua && M.Aua.addListener(this.f_a);return M;}catch(H){M=(0,y.sf)(H);this.Jg.error("Unable to add source buffer.",{error:M});this.j.Vd(v.aa.ala,{Da:I === O.u.U?v.Y.Aka:v.Y.Bka,Tb:M});}};l.prototype.u8=function(I){var M;M=this;I.forEach(function(H){return M.addSourceBuffer(H);});this.Ml.Zc(C.Pk.onb);return !0;};l.prototype.removeSourceBuffer=function(I){this.CI=this.CI.filter(function(M){return !(0,p.B3a)(I,M);});this.Lg.removeSourceBuffer(I);};l.prototype.endOfStream=function(){this.jc.trace("endofstream");!1;g.config.Zqa && this.Lg.endOfStream();};l.prototype.Mt=function(I){!1;this.CI=[];I && I.wxc();return !0;};l.prototype.m$a=function(){if(this.Lg)return (0,E.Xib)(this.Lg.duration);};l.prototype.zRb=function(){var I;if(!this.ana && this.ea && this.ea.readyState >= F.Go.bU.HAVE_CURRENT_DATA){I=this.ea.webkitDecodedFrameCount;if(void 0 === I || 0 < I || g.config.tnc)this.ana=!0;}return this.ana;};l.prototype.open=function(){var I,M,H;I=this;this.ea=h(this.j.dH.value);this.sourceBuffers=this.CI;this.j.addEventListener(G.ka.Ymb,function(J){return I.dEb(J);});if(L){this.j.xK && !g.config.rqb && this.Wm.mea();try{this.Lg=new z.GD();}catch(J){this.lV(v.aa.pyb,J);return;}try{this.Hm=URL.createObjectURL(this.Lg);}catch(J){this.lV(v.aa.qyb,J);return;}try{this.Wm.WGb(this.ZYa);this.Lg.addEventListener("sourceopen",function(J){return I.CZa(J);});this.Lg.addEventListener(this.WLa + "sourceopen",function(J){return I.CZa(J);});this.ea.addEventListener("error",this.pq.error=function(J){return I.TV(J);});this.ea.addEventListener("seeking",this.pq.seeking=function(){return I.cEb();});this.ea.addEventListener("seeked",this.pq.seeked=function(){return I.bEb();});this.ea.addEventListener("timeupdate",this.pq.timeupdate=function(){return I.eEb();});this.ea.addEventListener("loadstart",this.pq.loadstart=function(){return I.koa();});this.ea.addEventListener("volumechange",this.pq.volumechange=function(J){return I.fEb(J);});this.ea.addEventListener(this.Wm.fG,this.pq[this.Wm.fG]=function(){I.Jg.trace(I.Wm.fG);I.$Db();});M=this.j.pm;H=M.lastChild;H?M.insertBefore(this.ea,H):M.appendChild(this.ea);g.config.O5a && this.ea.addEventListener("contextmenu",n);this.ea.src=this.Hm;m.bf.addListener(m.Vt,this.zYa[m.Vt]=function(){return I.BZa();});this.BZa();}catch(J){this.lV(v.aa.ryb,J);}}else this.E6(v.aa.RRa);};l.prototype.close=function(){var M;function I(){M.Hm && (M.XZa(),m.bf.removeListener(m.Vt,M.zYa[m.Vt]),M.aBb());}M=this;this.jc.trace("close");this.ea.removeEventListener(this.Wm.fG,this.pq[this.Wm.fG]);this.ea.removeEventListener("error",this.pq.error);this.ea.removeEventListener("seeking",this.pq.seeking);this.ea.removeEventListener("seeked",this.pq.seeked);this.ea.removeEventListener("timeupdate",this.pq.timeupdate);this.ea.removeEventListener("loadstart",this.pq.loadstart);this.ea.removeEventListener("volumechange",this.pq.volumechange);this.Wm.bec(this.ZYa);g.config.Vu?this.Wm.PC().then(function(){return I();}):I();this.Wm.Hkb && clearTimeout(this.Wm.Hkb);};l.prototype.uF=function(){return this.jc.uF();};l.prototype.$Db=function(){g.config.rqb && this.Wm.mea();};l.prototype.zna=function(){if(this.ea)return this.ea.getVideoPlaybackQuality && this.ea.getVideoPlaybackQuality() || this.ea.videoPlaybackQuality || this.ea.playbackQuality;};l.prototype.qFb=function(){var I;I=this.j.Qi;return (I=I && I.errorCode) && 0 <= [v.aa.A5,v.aa.g5].indexOf(I);};l.prototype.aBb=function(){var I;I=!1;g.config.Ubc && this.qFb() && (I=!0);g.config.aMb && !I && (this.ea.removeAttribute("src"),this.ea.load && this.ea.load());URL.revokeObjectURL(this.Hm);g.config.O5a && this.ea.removeEventListener("contextmenu",n);!I && this.ea && this.j.pm.removeChild(this.ea);this.ea=this.Lg=void 0;this.Hm="";};l.prototype.BZa=function(){!0 === z.$h.hidden?this.K6.forEach(function(I){I.refresh();I.ric();}):this.K6.forEach(function(I){I.refresh();I.Jic();});};l.prototype.M6=function(I){var M;M=q.Ga.get(u.yRa)(I);this.K6.push(M);return function(){M.refresh();return M.AXb();};};l.prototype.lV=function(I,M){var H,J;H={Da:v.Y.un,Tb:(0,y.sf)(M)};try{(J=M.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (H.Wf=J);}catch(N){}this.j.Vd(I,H);};l.prototype.XZa=function(){this.K6.forEach(function(I){I.refresh();});};l.prototype.YBb=function(){return this.ea && this.ea.msGraphicsTrustStatus;};l.prototype.E6=function(I,M){this.j.Vd(I,M,void 0);};l.prototype.dEb=function(I){var M,J,N,P,X,V,S;if(this.ea){I=I.Hha;M=this.YBb();M && (I.ConstrictionActive=M.constrictionActive,I.Status=M.status);try{I.readyState="" + this.ea.readyState;I.currentTime="" + this.ea.currentTime;I.pbRate="" + this.ea.playbackRate;}catch(U){}M=this.CI.length;for(var H;M--;){H=this.CI[M];J="";H.type == f.l5?J="audio":H.type == f.tU && (J="video");(0,y.Qe)(I,H.Baa(),{prefix:J});}this.Lg && (M=this.Lg.duration) && !isNaN(M) && (I.duration=M.toFixed(4));if(g.config.D5b)try{N=this.j.af;P=N && N.Nb;if(P){X=P.expiration;isNaN(X) || (I.exp=X);V=P.keyStatuses.entries();if(V.next){S=V.next().value;S && (I.keyStatus=S[1]);}}}catch(U){}}};l.prototype.CZa=function(I){!1;this.tFb || (this.tFb=!0,this.Ml.Zc(C.Pk.qnb,I));};l.prototype.cEb=function(){this.jc.trace("seeking");this.Jg.trace("Video element event: seeking");this.Jr?this.Jr.W8b=!0:(this.Jg.error("unexpected seeking event"),g.config.HUb && this.E6(v.aa.Eyb,{Tb:{Trace:this.uF()}}));};l.prototype.bEb=function(){this.jc.trace("seeked");this.Jg.trace("Video element event: seeked");this.Jr?((0,t.wa)(this.Jr.W8b),this.Jr.V8b=!0,this.E_a()):(this.Jg.error("unexpected seeked event"),g.config.GUb && this.E6(v.aa.Dyb,{Tb:{Trace:this.uF()}}));};l.prototype.eEb=function(){var I;this.jc.trace("timeupdate",null === (I=this.ea) || void 0 === I?void 0:I.currentTime);!1;this.Jr && (this.Jr.Y8b=!0,this.E_a());this.Ml.Zc(C.Pk.xq);};l.prototype.koa=function(){this.Jg.trace("Video element event: loadstart");};l.prototype.fEb=function(I){this.Jg.trace("Video element event:",I.type);try{this.j.volume.set(this.ea.volume);this.j.muted.set(this.ea.muted);}catch(M){this.Jg.error("error updating volume",M);}};l.prototype.TV=function(I){var M,H,J,N,P,X,V,S;M=this.E6;H=v.aa.QRa;J=v.mMa;N=this.uF();P=I.target;X=P && P.error;V=I.errorCode;P=X && X.code;(0,B.Ad)(P) || (P=V && V.code);V=X && X.message;S=X && X.msExtendedCode;(0,B.Ad)(S) || (S=X && X.systemCode);(0,B.Ad)(S) || (S=I.systemCode);(0,B.Ad)(S) || (S=(0,K.Yva)(V));I=(0,y.Qe)({},{code:P,systemCode:S,trace:JSON.stringify(N)},{pea:!0});J={Da:J(P),Tb:(0,x.Iza)(I)};try{V && (J.N_=V);}catch(U){}S=(0,y.Fk)(S);(0,B.Pa)(S) && (J.Wf=(0,q.pqa)(S,4));M.call(this,H,J);};l.prototype.E_a=function(){this.Jr && this.Jr.V8b && this.Jr.Y8b && (this.jc.trace("seekcomplete"),this.Jr=void 0,this.Ml.Zc(C.Pk.A1));};Va.Object.defineProperties(l.prototype,{Nlb:{configurable:!0,enumerable:!0,get:function(){return g.config.cic;}}});b.rQa=l;d.prototype.trace=function(I,M){this.fha.push([I,M]);this.fha.length > this.Dkc && this.fha.shift();};d.prototype.uF=function(){return this.fha;};},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t){var w;w=this;this.j=t;this.bGa=this.kgb=0;this.Ah=this.cn=!1;this.Kfa=0;this.Mba=new Set();this.P1=!0;this.nn=function(){var u,y;w.Gfa();w.pJ && (w.log.info("Deactivating",w.pJ),w.cD.fQb(w.fg()));w.j.Fj.set(null);w.bM.vmb(void 0);w.i3a();u=w.j.Mb.value;u && u.Oq() && !u.yp() && (u=null);if(u && w.j.Db.value !== q.qb.Hg){y=w.fg();w.cD.sGb(y,u);}u?(w.log.info("Activating",u),w.j.yo.set(u.getState() === l.TH.ND.yH?q.kg.Xe:q.kg.ce),w.cn || w.j.ef("tt_start"),u.Rba().then(w.xO).catch(w.xO)):w.j.yo.set(q.kg.Xe);w.pJ=u;w.kD();};this.sync=function(){w.cn && (w.bM.start(),w.j.Db.value !== q.qb.Xc && w.bM.stop());};this.kD=function(){var u;w.P1 && w.j.state.value === q.kc.Xe && w.j.Db.value !== q.qb.Hg && (w.Ai?u=w.bM.KWb():w.j.Mb.value && (u=d.Eic[w.j.Mb.value.getState()]));u && (0,p.Ad)(u.startTime) && w.j.$w.value !== u && (w.kgb++,w.bGa+=w.bM.n$a() - u.startTime,w.C1a=Math.ceil(w.bGa / (w.kgb + 0)));w.j.$w.set(u);};this.fg=function(){var u;u=w.j.awa();w.pJ && w.pJ.lw && (u+=w.pJ.lw);return u;};this.xBa=function(u){w.Mba.add(u);w.P1 && (w.fireEvent(d.$mb,u),u && u.id && (w.cD.jqb(u.id),!1));w.log.trace("showsubtitle",w.eba(u));};this.p0=function(u){w.Mba.delete(u) && w.P1 && (w.fireEvent(d.Fkb,u),w.log.trace("removesubtitle",w.eba(u)));};this.W0b=function(){w.Mba.forEach(function(u){w.fireEvent(d.Fkb,u);w.log.trace("hide subtitle",w.eba(u));});};this.efc=function(){w.Mba.forEach(function(u){w.fireEvent(d.$mb,u);w.log.trace("resume subtitle",w.eba(u));});};this.si=function(){w.log.warn("imagesubs buffer underflow",w.j.Mb.value.Ih);w.j.yo.set(q.kg.ce);};this.kBa=function(){w.log.info("imagesubs buffering complete",w.j.Mb.value.Ih);w.j.yo.set(q.kg.Xe);};this.gea=function(){w.cn && w.Ai && w.Ai.Tu(w.fg());};this.ohb=function(u){w.cn && w.Ai && (w.Ai.pause(),w.Ai.KG(u.il));};this.cz=function(){w.cn && w.Ai && w.Ai.Cjb();};this.lhb=function(u){w.Ai && w.Ai.Bl(u.ji,u.kR);};this.thb=function(u){w.Ai && w.Ai.Lk(u.S,u.gmc);};this.O9b=function(){w.cn=!0;(0,m.Rg)(function(){var u,y;(null === (u=w.pJ) || void 0 === u?0:u.am)?null === (y=w.Ai) || void 0 === y?void 0:y.Tu(w.fg()):w.sync();w.kD();});};this.L9b=function(){w.i3a();w.bM.stop();w.kD();w.Ah=!0;w.Gfa();};this.BBa=function(u){(u=u.newValue) && (0,p.isArray)(u.blocks) && (w.cD.jqb.apply(w.cD,ia(u.blocks.map(function(y){return y.id;}))),!1);};this.R9b=function(u){w.amc(u.newValue,u.oldValue);w.sync();w.kD();};this.xO=function(u){var y;if(!w.Ah){y=u.track;if(y === w.j.Mb.value)try{w.Ai=y.vwa();y.am?w.qGb(u):w.rGb(u);}catch(x){w.log.error("Error activating track:",x,y);return;}w.cn || w.j.ef(u.ja?"tt_comp":"tt_err");u.ja?(c.config.wlb?setTimeout(function(){w.j.yo.set(q.kg.Xe);},c.config.wlb):w.j.yo.set(q.kg.Xe),y.am || w.kD()):u.aborted?w.log.warn("aborted timed text track loading"):c.config.FUb?w.j.Vd(k.aa.kwb,{Tb:u.track?u.track.Ih:{}}):(w.log.error("ignore subtitle initialization error",u),w.j.yo.set(q.kg.Xe));}};this.Ob=new n.Nk();this.cD=new g.$Va((0,f.nj)(t,"SubtitleTracker"),c.config.rTb);this.log=(0,f.nj)(t,"TimedTextManager");this.bM=new h.tWa(this.fg,this.kD);this.j.Mb.addListener(this.nn);c.config.nbc?(this.j.addEventListener(q.ka.cn,this.O9b),this.nn()):(this.j.yo.set(q.kg.Xe),this.j.addEventListener(q.ka.cn,function(){w.cn=!0;w.nn();}));this.j.Db.addListener(this.R9b);this.j.addEventListener(q.ka.nGa,this.sync);this.j.$w.addListener(this.BBa);this.j.addEventListener(q.ka.Ah,this.L9b);}Object.defineProperty(b,"__esModule",{value:!0});b.rWa=void 0;l=a(291);h=a(577);n=a(70);c=a(19);f=a(10);g=a(1359);k=a(4);m=a(59);p=a(15);q=a(16);v=a(1360);d.prototype.Nhc=function(){this.P1=!0;this.efc();this.kD();};d.prototype.X0b=function(){this.P1=!1;this.W0b();this.kD();};d.prototype.addEventListener=function(t,w,u){this.Ob.addListener(t,w,u);};d.prototype.removeEventListener=function(t,w){this.Ob.removeListener(t,w);};d.prototype.fireEvent=function(t,w,u){this.Ob.Zc(t,w,u);};d.prototype.mpa=function(t,w,u){var y,x;y=this;x=v.pWa.ROb(this.j,t,w,u);this.Wbb(this.j.Bi,x);this.j.Hj.forEach(function(z){y.Wbb(z.Bi,x);});this.j.Mb.set(x);this.j.fireEvent(q.ka.bx);};d.prototype.ubc=function(t){this.PDa(t)?t.Rba().then(function(){}):Promise.resolve();};d.prototype.v_b=function(t){return this.cD.ZZb(t);};d.prototype.wwa=function(t){return this.cD.wwa(t);};d.prototype.jZ=function(){var t,w;t=this.j.x2;w=c.config.Qob.characterSize;w={size:c.config.sGa.characterSize || w};t && (w.visibility=t.Cwa(),w.aX=t.Awa(),w.ju=t.Bwa());return w;};d.prototype.chc=function(t){c.config.sGa.characterSize=t;t=this.j.Mb.value;this.PDa(t) && !t.am && t.Rba().then(this.xO).catch(this.xO);};d.prototype.amc=function(t,w){var u;t === q.qb.Xc || t == q.qb.ej?w !== q.qb.Xc && w !== q.qb.ej && ((w=this.j.Mb.value) && !this.PDa(w) || this.cD.sgb(this.fg(),w || void 0,"presentingstate:" + t)):t !== q.qb.Hg && t !== q.qb.Us || this.cD.Dta(null !== (u=this.fg()) && void 0 !== u?u:void 0,"presentingstate:" + t);};d.prototype.Gfa=function(){this.Kfa=0;clearTimeout(this.hfc);};d.prototype.i3a=function(){var t;this.Ai && this.Ai.stop();(null === (t=this.pJ) || void 0 === t?0:t.am) && this.Aeb("removeListener");this.Ai=void 0;};d.prototype.Aeb=function(t){this.Ai && (this.Ai[t]("showsubtitle",this.xBa),this.Ai[t]("removesubtitle",this.p0),this.Ai[t]("underflow",this.si),this.Ai[t]("bufferingComplete",this.kBa),"addListener" === t?(this.j.addEventListener(q.ka.xq,this.gea),this.j.addEventListener(q.ka.tl,this.ohb),this.j.addEventListener(q.ka.EL,this.cz),this.j.addEventListener(q.ka.Rda,this.lhb),this.j.addEventListener(q.ka.ZGa,this.thb)):(this.j.removeEventListener(q.ka.xq,this.gea),this.j.removeEventListener(q.ka.tl,this.ohb),this.j.removeEventListener(q.ka.EL,this.cz),this.j.removeEventListener(q.ka.Rda,this.lhb),this.j.removeEventListener(q.ka.ZGa,this.thb)));};d.prototype.eba=function(t){return {currentPts:this.fg(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};d.prototype.qGb=function(t){var w,u;w=this;u=t.track;if(!u || !u.am)throw Error("Not an image base subtitle");t.ja?(this.Gfa(),this.Aeb("addListener"),this.log.info("Activated",u),this.j.Fj.set(u),this.cn?(0,m.Rg)(function(){w.Ai.Tu(w.fg());}):this.Ai.pause()):this.llb(u,t);};d.prototype.rGb=function(t){var w,u;w=t.track;u=t.ja;if(!w || w.am)throw Error("Not a valid text track");u?(this.Gfa(),this.bM.vmb(this.Ai),this.log.info("Activated",w),this.j.Fj.set(w)):this.llb(w,(0,k.Zz)(t));this.kD();};d.prototype.llb=function(t,w){var u,y;u=this;y=this.Kfa < c.config.I6b;y && (this.hfc=setTimeout(function(){u.Kfa++;t.Rba().then(u.xO).catch(u.xO);},c.config.lkc));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.am)?" img subtitle":""),{retry:y},w,t);};d.prototype.PDa=function(t){return !(!t || t.Oq() && !t.yp());};d.prototype.Wbb=function(t,w){var u;u=t.findIndex(function(y){return y.wc >= w.wc;});-1 === u && (u=0);t.splice(u,0,w);};b.rWa=d;r={};d.Eic=(r[l.TH.ND.LOADING]={t_:!0},r[l.TH.ND.lU]={Wv:!0},r);d.$mb="showsubtitle";d.Fkb="removesubtitle";},function(r,b,a){var h;function d(n,c,f){this.start=n;this.track=c;this.SG=Array.isArray(f)?f:[];}function l(n,c){this.log=n;this.lD=c;this.eDa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.$Va=void 0;h=a(22);l.prototype.sGb=function(n,c){this.sgb(n,c,"activating");};l.prototype.fQb=function(n){this.Dta(n,"de-activating");};l.prototype.sgb=function(n,c,f){var g;this.Ul && this.Dta(n,"close current for new");g=[];this.orphans.length && (g.push.apply(g,ia(this.orphans)),this.orphans=[]);this.Ul=new d(n,c,g);this.lD && this.log.trace("new range: " + f,this.Ul);};l.prototype.Dta=function(n,c){this.Ul && (this.Ul.end=n,this.eDa.push(this.Ul),this.lD && this.log.trace("end range: " + c,this.Ul || ({})),this.Ul=void 0);};l.prototype.jqb=function(n){for(var c=[],f=0;f < arguments.length;++f){c[f - 0]=arguments[f];}this.Ul?this.Ul.SG.push.apply(this.Ul.SG,ia(c)):this.orphans.push.apply(this.orphans,ia(c));};l.prototype.wwa=function(n){var c,f;c=this.eDa.slice(0);if(this.Ul && "undefined" !== typeof n){f=new d(this.Ul.start,this.Ul.track,this.Ul.SG);f.end=n;c.push(f);}n=c.reduce(function(g,k){var m,p,q,v;if(!k.track)return g;p=k.track.Wb;q=k.track.Jq(k.start,k.end);if(void 0 === q || null === q)return g;v=new Set(k.SG);g[p]?(k=g[p],k.expected+=q,k.missed+=q - v.size):g[p]={dlid:p,bcp47:k.track.Sf,profile:k.track.profile,expected:q,missed:q - v.size,startPts:null !== (m=k.track.l_b()) && void 0 !== m?m:0};return g;},{});n=Object.values(n);this.lD && this.log.trace("subtitleqoe:",JSON.stringify(n,null,"\t"));return n;};l.prototype.ZZb=function(n){var c,f,g,k;c=this.eDa.slice(0);f=0;g=0;if(this.Ul && "undefined" != typeof n){k=new d(this.Ul.start,this.Ul.track,this.Ul.SG);k.end=n;c.push(k);}c.forEach(function(m){var p,q;if(m.track){if(m.end < m.start){(0,h.wa)(!1,"negative range");m.GG=0;return;}p=new Set(m.SG);q=m.track.Jq(m.start,m.end);m.S$=q;m.GG=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else m.GG=100;p=m.end - m.start;f+=p;g+=m.GG * p;});k=f?Math.round(g / f):100;this.log.trace("qoe score " + k + ", at pts: " + n);this.lD && (n=c.map(function(m){return {start:m.start,"end  ":m.end,duration:m.end - m.start,score:Math.round(m.GG),lang:m.track?m.track.Sf:"none","actual  ":m.SG.join(" "),expected:m.S$};}),this.log.trace("score for each range: ",JSON.stringify(n,function(m,p){return p;}," ")));return k;};b.$Va=l;},function(r,b,a){var l,h,n,c,f,g,k,m,p;function d(q,v,t,w,u,y){var x,z;q=f.TH.call(this,v,q,q,u,!0,{sg:"",mG:"content"},"1",[{Qh:0,url:t,type:"unknown"}],"xx",w || q,g.wr.aN,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=v;q.url=t;q.options=y;q.Uu=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.pWa=void 0;r=a(64);l=a(19);h=a(58);n=a(10);c=a(44);f=a(291);g=a(130);k=a(107);m=a(207);p=a(16);(0,r.jTa)(r.ula,function(q){var t;function v(w){var u;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == m.DD.Pzb){u=(0,c.createElement)("INPUT",void 0,void 0,{type:"file"});u.addEventListener("change",function(){var y,x,z;y=u.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.Kp.mpa("nourl",x,{content:z.result});});}});u.click();}}t=(0,n.nj)(q,"TimedTextCustomTrack");l.config.Bsa && (t.info("Loading url",{Url:l.config.Bsa}),q.Kp.mpa(l.config.Bsa,"custom"));h.bf.addListener(h.yF,v);q.addEventListener(p.ka.Ah,function(){h.bf.removeListener(h.yF,v);});});la(d,f.TH);d.ROb=function(q,v,t,w){var u;u="custom" + d.z2b++;return new d(u,q,v,t,-1,w);};d.prototype.g6a=function(){var q;q=this;return new Promise(function(v,t){var w,u;if(null === (w=q.options) || void 0 === w?0:w.content)v(q.options.content);else if(q.url){u={responseType:k.jxa,url:q.url,track:q,Dc:void 0,VE:"tt-" + q.Sf,Gu:"unknown"};q.j.Iba.download(u,function(y){y.ja?v(y.content):(y.reason="downloadfailed",y.url=u.url,y.track=q,t(y));});}});};b.pWa=d;d.z2b=0;},function(r,b,a){var l,h,n,c,f,g;function d(k){var m,p,q;m=this;this.j=k;this.v9b=function(){var v;n.bf.removeListener(n.pba,m.qhb);v=m.ns.pp();v && v.parentNode && v.parentNode.removeChild(v);};this.BBa=function(v){m.ns.Egc(v.newValue);};this.a$b=function(v){m.ns.Kgc(v.newValue?v.newValue.mca:void 0);m.ns.Clc(m.E9a(v.newValue));};this.qhb=function(){m.ns.YR();};p=k.Mb.value?k.Mb.value.mca:void 0;q=this.E9a(k.Mb.value);this.ns=new f.qWa(q,p);p=k.dH.value;(0,h.wa)(.1 < p.width / p.height);this.ns.sgc(p.width / p.height);k.pm.appendChild(this.ns.pp());k.$w.addListener(this.BBa);k.Mb.addListener(this.a$b);k.addEventListener(g.ka.Ah,this.v9b,l.YM);n.bf.addListener(n.pba,this.qhb);}Object.defineProperty(b,"__esModule",{value:!0});b.sWa=void 0;l=a(17);h=a(22);n=a(58);c=a(19);f=a(582);g=a(16);d.prototype.hFa=function(k){this.ns.hFa(k);};d.prototype.Cwa=function(){return this.ns.Cwa();};d.prototype.fFa=function(k){this.ns.fFa(k);};d.prototype.Awa=function(){return this.ns.Awa();};d.prototype.gFa=function(k){this.ns.gFa(k);};d.prototype.Bwa=function(){return this.ns.Bwa();};d.prototype.E9a=function(k){var m;if(k && c.config.Lca && 0 <= c.config.Lca.indexOf(k.Sf)){m=Object.assign({},c.config.aha);Object.entries(m).forEach(function(p){var q;q=oa(p);p=q.next().value;q=q.next().value;m[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return m;}return c.config.aha;};b.sWa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xjb=void 0;b.xjb=function(a){var d,l;d=!1;l=!1;return function(){if(d)l=!0;else for(l=!0;l;){l=!1;d=!0;a();d=!1;}};};},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u;function d(y,x){this.j=y;this.Ik=x;this.Ajc=!1;this.log=(0,n.nj)(this.j,"MediaAppendManager");this.$b=this.j.$b;this.ea=this.$b.ea;this.a3=this.TW=!1;this.audio={type:h.Aj.audio,sy:[],Zm:[],zR:!1};this.video={type:h.Aj.video,sy:[],Zm:[],zR:!1};y={};this.hM=(y[u.u.J]=this.video,y[u.u.U]=this.audio,y);this.closed=!1;this.mC=l.config.mC;this.yda=l.config.yda;this.iG=this.j.jb.Gh?l.config.FBa:l.config.iG;this.D1a=!0;this.yc=n.Ga.get("Base64EncoderSymbol");this.Bua=!1;this.ZBa=[];(0,f.wa)(this.mC > this.yda,"bad config");(0,f.wa)(this.mC > this.iG,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.iQa=void 0;l=a(19);h=a(95);n=a(10);c=a(4);f=a(22);g=a(23);k=a(17);m=a(16);p=a(179);q=a(5);v=a(56);t=a(42);w=a(1364);u=a(49);d.prototype.Aaa=function(){var z,B;function y(A,C){return x(A,C.pda);}function x(A,C){var D,E,G,F;G=!!C.response;F=C.response;if(C.zc)return A + (F.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.NO) && void 0 !== D?D:0) - (null !== (E=null === C || void 0 === C?void 0:C.PO) && void 0 !== E?E:0);return (G?F.byteLength:C) + A;}z=this.hM[u.u.J];B=this.hM[u.u.U];return {videoToAppend:z.Zm.reduce(x,0),videoInBuffer:z.sy.reduce(y,0),audioToAppend:B.Zm.reduce(x,0),audioInBuffer:B.sy.reduce(y,0)};};d.prototype.M8b=function(){this.audio.Zj && !this.audio.Zj.Ri() && (!1,this.audio.Zj.Q0a(new Uint8Array([0,0,0,8,102,114,101,101])));};d.prototype.Vgc=function(){this.audio.nFa=!0;this.video.nFa=!0;};d.prototype.ahc=function(y){y === u.u.U?this.TW=!0:y === u.u.J && (this.a3=!0);};d.prototype.Ri=function(){var y,x;return !(null === (y=this.audio.Zj) || void 0 === y || !y.Ri()) || !(null === (x=this.video.Zj) || void 0 === x || !x.Ri());};d.prototype.lga=function(y){var x,z;null === (x=this.audio.Zj) || void 0 === x?void 0:x.lga(y);null === (z=this.video.Zj) || void 0 === z?void 0:z.lga(y);};d.prototype.YHb=function(y){var x;y.mediaType === u.u.U?this.TW=!1:y.mediaType === u.u.J && (this.a3=!1);x=this.hM[y.mediaType];x?x.Zm.push(y):(0,f.wa)(!1);};d.prototype.XHb=function(y,x,z){var B;B=this;x=this.f2a(y.mediaType,x,z);if(!this.Bua)if(y.mediaType === u.u.J)(this.Mbc(y),this.Bua=!0,this.ZBa.forEach(function(A){return B.Opa(A);}),this.ZBa=[]);else {this.ZBa.push(x);return;}this.Opa(x);};d.prototype.Opa=function(y){var x;x=this.hM[y.mediaType];x?x.Zm.push(y):(0,f.wa)(!1);};d.prototype.f2a=function(y,x,z){return {mediaType:y,KF:!1,response:x,Si:function(){return "header";},get zc() {return !this.KF;},profile:z.profile};};d.prototype.Mbc=function(y){(0,f.wa)(!!y.wnb,"startOfSegment properties need to be set before first header is appended");this.Bua || !l.config.QVb || !this.j.uba() && !this.j.uZ() || y.wnb.ocb || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.yc.decode(k.cJa),this.Opa(this.f2a(u.u.J,y,{profile:t.I.qH})));};d.prototype.Zgc=function(y){var x;x=this.hM[y.type];if(x)try{x.Zj=y;}catch(z){this.Vd(c.aa.ala,{Da:(0,p.Maa)(y.type),Tb:(0,g.sf)(z)});}};d.prototype.close=function(){this.ea=this.$b=void 0;this.closed=!0;};d.prototype.Vd=function(y,x,z){this.closed || this.j.Vd(y,x,z);};d.prototype.Lsa=function(y){return this.Y5a(this.audio,y,this.c$()) && this.Y5a(this.video,y,this.c$());};d.prototype.c$=function(){return this.j.Db.value === m.qb.Hg?this.iG:this.yda;};d.prototype.qkc=function(){var y,x;y=this.video.Zm.filter(function(z){return !z.zc;}).reduce(function(z,B){return z + B.Xn;},0);x=this.audio.Zm.filter(function(z){return !z.zc;}).reduce(function(z,B){return z + B.Xn;},0);return Math.min(y,x);};d.prototype.Y5a=function(y,x,z){var B;B=y.Msa;B=B && B.pda;return !y.Zj || 0 === y.Zm.length && (y.type === h.Aj.audio && this.TW || y.type === h.Aj.video && this.a3)?!0:B && B.Rw - x >= z || !1;};d.prototype.spb=function(y){this.Ajc || (this.rpb(this.audio,y),this.rpb(this.video,y));this.closed || this.P2a();};d.prototype.P2a=function(){var y,x,z,B,A,C;B=!this.audio.Zj || 0 !== this.audio.sy.length;A=0 === this.video.Zm.length && this.a3;C=!this.video.Zj || 0 !== this.video.sy.length;!(0 === this.audio.Zm.length && this.TW && C || A && B) || (null === (y=this.audio.Zj) || void 0 === y?0:y.Ri()) || (null === (x=this.video.Zj) || void 0 === x?0:x.Ri()) || this.Cta || !(this.ea.readyState > v.Go.bU.HAVE_NOTHING) || this.Ik.pca || (this.Cta=!0,null === (z=this.$b) || void 0 === z?void 0:z.endOfStream());};d.prototype.rpb=function(y,x){var z,B,A,C;if(!this.closed && y.Zj){B=y.Zj;A=y.sy;!B.Ri() && 0 < A.length && (y.Msa=A[A.length - 1]);if(y.nFa){if(B.Ri())return;y.nFa=!1;C=null === (z=this.$b) || void 0 === z?void 0:z.m$a().Wib(q.Jo);C && 0 < C && B.remove(0,C);}for(z=y.Zm[0];z && z.response && (z.zc || z.LC - x <= this.mC);){if((this.Cta=!1,this.clc(z)))(y.Zm.shift(),z=y.Zm[0]);else break;}!B.Ri() && 0 < A.length && (y.Msa=A[A.length - 1]);}};d.prototype.clc=function(y){var x,z,B;!1;(0,f.wa)(y && !!y.response);x=y.response;z=y.mediaType;B=this.hM[z];if(!this.closed && B.Zj && !B.Zj.Ri()){try{y.zc && y.profile && B.Zj.gLb(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});B.Zj.Q0a(x,y);y.zc || B.sy.push(this.TOb(y));}catch(A){"QuotaExceededError" === A.name?(this.j.e$=this.j.e$?this.j.e$ + 1:1,this.D1a=!1,B.zR=!0):(this.log.error("Exception while appending media",y,A),this.Vd("CodecSwitchingError" === A.name?c.aa.SRa:c.aa.Ayb,(0,p.Maa)(z)));return;}return !0;}};d.prototype.LOb=function(y){var x;if(w.dma[y.Ta])return w.dma[y.Ta];x=this.j.Cab(y.bd);x || (this.log.warn("Could not find CDN",{cdnId:y.bd}),x={id:y.bd,eeb:y.location});return x;};d.prototype.E4a=function(y){var x,z;x=y.Ta;if(w.ema[x])return w.ema[x];y.mediaType === u.u.U?z=this.j.zab(x):y.mediaType === u.u.J && (z=this.j.Oab(x));z || this.log.error("Could not find stream",{stream:x});return z;};d.prototype.TOb=function(y){var x;x=this.E4a(y);return {pda:y,stream:x,Qn:{startTime:Math.floor(y.LC),endTime:Math.floor(y.Rw)},Dc:this.LOb(y)};};d.prototype.mra=function(y){this.U2a(y,u.u.U);this.U2a(y,u.u.J);};d.prototype.U2a=function(y,x){var z,B,A,C,D,E,G,F,K;z=this;B=y;this.D1a && (B-=l.config.u1);A=this.hM[x];C=A.sy;G=!1;C.some(function(O,L){var I;I=O.pda;if(y < I.LC)return ((0,f.wa)(!1,"decoder content does not contain media time"),!0);B >= I.Rw && (D=L);if(y < I.Rw)return (E=L,L=x === u.u.U?z.j.hg:z.j.Re,O !== L.value && (L.set(O),G=!0),!0);});if((A.zR || G) && void 0 !== D && !this.Cta){if(D + 1 === E){if(0 === D)return;D--;}F=C[D].pda.Rw - 1;if(0 < F){K=A.Zj;K && !K.Ri()?(K.remove(0,F / k.hv),A.zR=!1,C.splice(0,D + 1)):(A.zR=!0,!1);}}};d.prototype.Zkb=function(){!1;[this.audio,this.video].forEach(function(y){y.sy=[];y.Msa=void 0;y.Zm=[];});this.a3=this.TW=!1;this.j.fireEvent(m.ka.kda);};d.prototype.Fwa=function(){return [this.audio,this.video].filter(function(y){return y.Zj;});};d.prototype.iXb=function(){var y,x;if(this.Ri())(0,f.wa)(!1,"should not be busy while checking buffer ranges");else {y=this.Fwa().map(function(z){var B,A,C,D,E;D=z.Zm.filter(function(G){return G.KF;});E=z.Zj.buffered();z=E.length?Math.ceil(1E3 * E.start(0)):void 0;E=E.length?Math.floor(1E3 * E.end(E.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (B=D[0]) || void 0 === B?void 0:B.LC;B=null !== (C=null === (A=D[D.length - 1]) || void 0 === A?void 0:A.Rw) && void 0 !== C?C:E;if(void 0 !== z && void 0 !== B)return {start:z,end:B};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,ia(y.map(function(z){return z.start;})));y=Math.min.apply(Math,ia(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Vb)(x),end:(0,q.Vb)(y)};}}};d.prototype.skip=function(y){(0,f.wa)(!this.Ri(),"should not be busy while skipping");this.Fwa().forEach(function(x){x.zR=!0;});this.mra(y);this.Fwa().forEach(function(x){0 < x.sy.length || (x.Zm=x.Zm.filter(function(z){return z.zc || z.Rw > y?!0:!1;}));});};b.iQa=d;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.ema=b.dma=void 0;r=a(38);a={};b.dma=(a[r.Up]={id:-1,name:"hardcoded",wc:1,type:"hardcoded",eeb:"-1",o3b:!1,location:{id:"-1",wc:1,level:100,weight:1}},a);a={};b.ema=(a[r.Up]={track:{type:"padding",trackId:"padding",aj:"padding",sg:"padding",mG:"other",Sf:"padding",zG:"padding",qK:"padding",Ih:{}},type:"padding",Wb:"-1",bitrate:1,gb:100,qf:"unknown",size:1,hta:{},Ih:{},Om:"",framerate:0,Mj:!1,ak:[],height:1,width:1},a);},function(r,b){function a(d,l){this.j=l;this.dL=!0;this.jha=!1;this.ea=d;}Object.defineProperty(b,"__esModule",{value:!0});b.YWa=void 0;a.prototype.sBa=function(){this.dL && (this.dL=!1,this.j.paused.set(!1));};a.prototype.rBa=function(){this.dL || (this.dL=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var d;this.paused || (this.dL=!0,null === (d=this.ea) || void 0 === d?void 0:d.pause());};a.prototype.play=function(){var d,l;d=this;return this.paused && !this.jha?(this.jha=!0,Promise.resolve(null === (l=this.ea) || void 0 === l?void 0:l.play()).then(function(){d.jha=!1;}).catch(function(h){var n;d.jha=!1;d.dL=!(null === (n=d.ea) || void 0 === n || !n.paused);throw h;})):Promise.resolve();};a.prototype.close=function(){this.ea=void 0;};Va.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.dL;}}});b.YWa=a;},function(r,b){function a(l,h,n){var c,f,g,k;c=[];l.forEach(function(m){-1 == c.indexOf(m.qf) && c.push(m.qf);});f=null;g=null;h.forEach(function(m){null === f?g=f=m.bitrate:g < m.bitrate?g=m.bitrate:f > m.bitrate && (f=m.bitrate);});k=[];c.forEach(function(m){var p;p={ranges:[],profile:m};f && g && (p.ranges.push({min:f,max:g}),n && (p.disallowed=n.filter(function(q){return q.stream.qf === m;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.s$};})),k.push(p));});return k;}function d(l,h){var n;n=void 0;return {iF:l.filter(function(c){var f;f=h(c);f && (n=n || [],n.push({stream:c,s$:f}));return !f;}),LRb:n};}Object.defineProperty(b,"__esModule",{value:!0});b.KRb=b.Mv=b.MPb=b.mab=void 0;b.mab=function(l,h){h=d(l,h);return a(l,h.iF,h.LRb);};b.MPb=a;b.Mv=d;b.KRb=function(l){if(l.Mj && l.lower && 1080 < l.height)return ["Prefetch UHD"];};},function(r,b,a){var l,h;function d(n,c){n=l.ac.call(this,n) || this;n.aAa=c;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.sTa=void 0;l=a(74);h=a(79);la(d,l.ac);d.prototype.set=function(n){l.ac.prototype.set.call(this,(0,h.jA)(n,0,this.aAa));};b.sTa=d;},function(r,b,a){var h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x,z){var B;B=this;this.vi=t;this.config=u;this.Hb=y;this.debug=x;this.WI={};this.$5a=!1;this.YW={};this.Txa=0;this.Laa=function(A){var C,D,E;C=A.stream;if(C){A=C.Wb;D=C.bitrate;E=C.gb;}else A=A.track.Wb;return {key:A + "$" + D + "$" + E,Wb:A,bitrate:D,gb:E};};this.r9a=function(A){var C,D,E;D=B.Laa(A);E=null === (C=A.Dc) || void 0 === C?void 0:C.id;A=A.track.sg;return Object.assign({},D,{key:D.key + "$" + E + "$" + A,Xo:E,sg:A});};this.gXb=function(A){var C;C=A.stream;A=null === C || void 0 === C?void 0:C.Wb;C=null === C || void 0 === C?void 0:C.bitrate;return {key:A + "$" + C,Wb:null !== A && void 0 !== A?A:"",aR:C};};this.V_b=function(A){var C;C=A.stream;A=null === C || void 0 === C?void 0:C.Wb;C=null === C || void 0 === C?void 0:C.gb;return {key:A + "$" + C,Wb:null !== A && void 0 !== A?A:"",aR:C};};this.log=w.eb("PlayTimeTracker");this.Mea=z(t);this.Lw=z(t);this.nCa=z(t);this.startTime=this.vi.mediaTime.value;this.Tca=this.config().lGb;this.sM();this.WI.abrdel=0;this.Tca.forEach(function(A){A="abrdel" + A;B.YW[A]=0;B.WI[A]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.eTa=void 0;r=a(0);h=a(1);n=a(7);c=a(12);f=a(81);a(5);g=a(25);k=a(111);m=a(17);p=a(23);q=a(589);v=a(204);l.prototype.encode=function(t){return {downloadableId:t.Wb,correlationId:t.sg,bitrate:t.bitrate,vmaf:t.gb,duration:t.duration,metric:t.aR,cdnId:t.Xo};};l.prototype.decode=function(t){return {Wb:t.downloadableId,sg:t.correlationId,bitrate:t.bitrate,gb:t.vmaf,duration:t.duration,aR:t.metric,Xo:t.cdnId};};d.prototype.hs=function(t){t=void 0 === t?"content":t;this.NG(this.vi.mediaTime.value);return Math.floor(this.Lw.hs(function(w){return w.track.mG === t;}));};d.prototype.A9a=function(t){this.NG(this.vi.mediaTime.value);return Math.floor(this.Lw.hs(t));};d.prototype.kZ=function(t){var w;t=void 0 === t?"content":t;this.NG(this.vi.mediaTime.value);w=this.Lw.kZ(function(u){return u.track.mG === t;});this.debug.assert(w === Math.floor(w),"Value of totalContentPlayTime is not an integer.");return Math.floor(w);};d.prototype.ZWb=function(){this.NG(this.vi.mediaTime.value);return {audio:this.VY(this.Mea,this.r9a),video:this.VY(this.Lw,this.r9a)};};d.prototype.xZb=function(){var t,w,u;t=this.hs("content");w=this.hs("ads");u=this.hs("other");t={total:t,totalAdDuration:w,totalOtherDuration:u,totalCombinedDuration:t + w + u,totalContentTime:this.kZ("content"),totalStartSlateDuration:this.A9a(function(y){return !0 === y.cya;}),totalLiveEdgeDuration:this.A9a(function(y){return !0 === y.JF;}),audio:this.VY(this.Mea,this.Laa),video:this.VY(this.Lw,this.Laa),timedtext:this.VY(this.nCa,this.Laa)};this.debug.assert(!(!t.audio || !t.video));return t;};d.prototype.fva=function(){var t,w;this.NG(this.vi.mediaTime.value);t=this.Lw.Zua(this.gXb);try{w=this.N8a(t);}catch(u){return (this.log.warn("Failed to calc average bitrate."),null);}this.WI.abrdel=Math.round(w);return this.WI.abrdel;};d.prototype.O8a=function(){var t,w;this.NG(this.vi.mediaTime.value);t=this.Lw.Zua(this.V_b);try{w=this.N8a(t);}catch(u){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};d.prototype.M8a=function(){var t,w;t=this;if(!this.$5a){w=this.hs();this.Tca.forEach(function(u){var y,x,z;if(0 === t.YW["abrdel" + u] && w > u * m.hv){y=0;x=0;z=0;t.Lw.some(function(B){y+=B.stream.bitrate * (B.endTime - B.startTime);x+=B.endTime - B.startTime;z=B.stream.bitrate;return x > u * m.hv;});y && (t.YW["abrdel" + u]=Math.round((y - z * (x - u * m.hv)) / (u * m.hv)));}});0 !== this.YW["abrdel" + this.Tca[this.Tca.length - 1]] && (this.$5a=!0);(0,p.jh)(this.YW,function(u,y){t.WI[u]=0 === y?t.WI.abrdel:y;});}return this.WI;};d.prototype.UGb=function(t){this.Txa+=t;};d.prototype.Bba=function(){return this.Lw.Bba();};d.prototype.sM=function(){var t;t=this;this.vi.hg.addListener(function(w){t.dP=t.I2a(t.dP,t.Mea,w.newValue);});this.vi.Re.addListener(function(w){t.fP=t.I2a(t.fP,t.Lw,w.newValue);});this.vi.playbackRate.addListener(function(w){t.NG(t.vi.mediaTime.value,w.oldValue);});this.vi.Fj.addListener(this.k9b.bind(this));};d.prototype.aBa=function(t,w){this.NG(t);this.startTime=w;this.fP=this.dP=void 0;this.eP && (this.eP.startTime=this.startTime);!1;};d.prototype.k9b=function(t){this.nCa.pg(this.eP,this.vi.mediaTime.value);this.eP=(t=t.newValue)?{track:t,startTime:this.vi.mediaTime.value,endTime:f.cA}:void 0;};d.prototype.NG=function(t,w){w=void 0 === w?this.vi.playbackRate.value:w;t && this.dP && this.fP && (t=Math.min(t,this.dP.endTime,this.fP.endTime),this.Mea.pg(this.dP,t,w),this.dP.startTime=t,this.Lw.pg(this.fP,t,w),this.fP.startTime=t,this.eP && (this.nCa.pg(this.eP,t,w),this.eP.startTime=t),this.startTime=t,!1);};d.prototype.I2a=function(t,w,u){var y;t && w.pg(t,Math.min(t.endTime,this.vi.mediaTime.value));if(u && u.stream){t=u.Qn;w=u.stream;y=this.vi.Md;return {Dc:u.Dc,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,cya:y.qa?y.pF(t.endTime) === v.gv.SU:void 0,JF:y.qa?y.Ybb():void 0};}};d.prototype.VY=function(t,w){return t.Zua(w,"content").map(function(u){return new l().encode(u);});};d.prototype.N8a=function(t){var w,u,y;w=this;u=0;t.forEach(function(x){if(w.Hb.Ch(x.duration) && w.Hb.Ch(x.aR))u+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!u)return 0;y=0;t.forEach(function(x){y+=x.aR * x.duration / u;});return y;};a=d;a=r.__decorate([(0,h.$)(),r.__param(1,(0,h.l)(n.hb)),r.__param(2,(0,h.l)(c.uc)),r.__param(3,(0,h.l)(g.ah)),r.__param(4,(0,h.l)(k.Sz)),r.__param(5,(0,h.l)(q.Bla))],a);b.eTa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dTa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var l,h,n;function d(c,f,g,k,m,p,q,v,t,w,u,y,x,z){this.index=c;this.L=f;this.S=g;this.jb=k;this.sa=m;this.rj=p;this.tza=q;this.TMb=t;this.Jfb=u;this.ih=x;this.Hc=new l.ac(null);this.Xh=new l.ac(null);this.Mb=new l.ac(null);this.Fj=new l.ac(null);this.$w=new l.ac(void 0);this.Kf=new l.ac(null);this.ei=new l.ac(null);this.hg=new l.ac(null);this.Re=new l.ac(null);this.Dc=[new l.ac(null),new l.ac(null)];this.mediaTime=new l.ac(void 0);this.playbackRate=new l.ac(1);this.Ur=new l.ac(null);this.background=new l.ac(!1);this.aJ=this.$I="notcached";this.r$=!1;v && (this.Kf.set(v.Kf.value),this.ei.set(v.ei.value));this.bn=w(this);this.jo=this.Jfb.Kdc(this.sa,this.rj);this.Md=y(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.tTa=void 0;l=a(74);h=a(5);n=a(22);d.prototype.ef=function(c){this.jo.Or(c);};d.prototype.XB=function(c){var f;f=this;Object.entries(c).forEach(function(g){var k;k=oa(g);g=k.next().value;k=k.next().value;f.jo.Or(g,(0,h.Vb)(k - f.rj.ia(h.va)));});};d.prototype.Xda=function(){this.Jfb.eec(this.sa);};Va.Object.defineProperties(d.prototype,{me:{configurable:!0,enumerable:!0,get:function(){return this.jb.me;}},Bha:{configurable:!0,enumerable:!0,get:function(){return this.jb.Bha;}},Om:{configurable:!0,enumerable:!0,get:function(){return this.Sc && this.Sc.Om;}},Hj:{configurable:!0,enumerable:!0,get:function(){var c;return null !== (c=this.Sc && this.Sc.Hj) && void 0 !== c?c:[];}},Hz:{configurable:!0,enumerable:!0,get:function(){var c;return null !== (c=this.Sc && this.Sc.Hz) && void 0 !== c?c:[];}},gD:{configurable:!0,enumerable:!0,get:function(){var c;return null !== (c=this.Sc && this.Sc.gD) && void 0 !== c?c:[];}},Bi:{configurable:!0,enumerable:!0,get:function(){var c;return null !== (c=this.Sc && this.Sc.Bi) && void 0 !== c?c:[];}},Wg:{configurable:!0,enumerable:!0,get:function(){return this.Sc && this.Sc.Wg;}},xK:{configurable:!0,enumerable:!0,get:function(){var c;return null !== (c=this.Sc && this.Sc.xK) && void 0 !== c?c:!1;}},Qw:{configurable:!0,enumerable:!0,get:function(){var c;return null !== (c=this.Sc && this.Sc.Qw) && void 0 !== c?c:[];}},zh:{configurable:!0,enumerable:!0,get:function(){var c;return null !== (c=this.Sc && this.Sc.zh) && void 0 !== c?c:[];}},vB:{configurable:!0,enumerable:!0,get:function(){var c,f,g,k,m;return this.Md.qa?((0,n.wa)(void 0 === this.DN || Infinity === this.DN.ia(h.va),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.Md.qa + ", contentDuration:" + (null === (c=this.DN) || void 0 === c?void 0:c.display)),(0,h.Vb)(Math.max(null !== (f=this.Md.Ey()) && void 0 !== f?f:0,null !== (g=this.mediaTime.value) && void 0 !== g?g:0))):this.DN && 0 < this.DN.ia(h.va)?this.DN:(0,h.Vb)(null !== (m=null === (k=this.ba) || void 0 === k?void 0:k.Ra.duration) && void 0 !== m?m:0);},set:function(c){this.DN=c;}},jfb:{configurable:!0,enumerable:!0,get:function(){var c;return this.Md.qa?((0,n.wa)(void 0 === this.t7 || Infinity === this.t7.ia(h.va),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.Md.qa + ", maxSeekPts:" + (null === (c=this.t7) || void 0 === c?void 0:c.display)),(0,h.Vb)(this.Md.QYb())):this.t7;},set:function(c){this.t7=c;}},Gl:{configurable:!0,enumerable:!0,get:function(){return this.jb.Gl || 0;}},DX:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.wX?this.wX:void 0 === this.mediaTime.value?null:this.TMb(this.mediaTime.value,this.S);}},sg:{configurable:!0,enumerable:!0,get:function(){var c,f;return null === (f=null === (c=this.ba) || void 0 === c?void 0:c.Ra.JE) || void 0 === f?void 0:f.Fp;}},JL:{configurable:!0,enumerable:!0,get:function(){var c,f;return null === (f=null === (c=this.ba) || void 0 === c?void 0:c.Ra.JE) || void 0 === f?void 0:f.JL;}},Bd:{configurable:!0,enumerable:!0,get:function(){return this.jo.Bd;}}});b.tTa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GWa="TrickPlayParserSymbol";},function(r,b,a){var l,h,n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.FWa=void 0;r=a(0);h=a(172);a=a(1);d.prototype.parse=function(c){var f,g;if(!c)throw Error("invalid array buffer");f=new Uint8Array(c);g=new h.TT(f);c=this.P$b(g);f=this.Q$b(g,f,c);return {header:c,images:f};};d.prototype.P$b=function(c){var f,g,k,m;if(c.gwa() < this.Lec())throw Error("array buffer too short");l.IPa.forEach(function(p){if(p != c.NC())throw Error("BIF has invalid magic.");});f=c.RR();if(f > l.VERSION)throw Error("BIF version in unsupported");g=c.RR();if(0 == g)throw Error("BIF has no frames.");k=c.RR();m=c.sl(l.vUa);return {version:f,T8b:g,Sob:k,Pec:m};};d.prototype.Q$b=function(c,f,g){var p,q;for(var k=[],m=0;m <= g.T8b;m++){p={timestamp:c.RR(),offset:c.RR()};void 0 != q && k.push(f.subarray(q.offset,p.offset));q=p;}return k;};d.prototype.Lec=function(){return l.IPa.length + 4 + 4 + 4 + l.vUa;};n=l=d;n.IPa=[137,66,73,70,13,10,26,10];n.VERSION=0;n.vUa=44;n=l=r.__decorate([(0,a.$)()],n);b.FWa=n;},function(r,b,a){var l,h,n,c;function d(f,g,k){this.config=f;this.j=g;this.zg=k;this.FC=void 0;this.Cea=!1;this.Cdb=0;this.log=this.zg.eb();}Object.defineProperty(b,"__esModule",{value:!0});b.iVa=void 0;l=a(16);h=a(5);n=a(79);c=a(15);d.prototype.aZb=function(f,g,k,m,p){var q,v,t,w;k=void 0 === k?this.j.S:k;m=void 0 === m?!1:m;q=g === l.Fd.gN;v=this.FKb(q?f:this.PLb(f,k),g,m,k);m=this.j.rb;q?(f=v,v=m.wB(v)):f=m.yX(k,v);g === l.Fd.fv && (this.j.S1a=v);p=this.hi(f,g,p);t=(q=q || p)?f:v;if(this.j.Bs){w=this.j.jb.Gh?this.config().FBa:this.config().iG;this.j.Dab(t,w) || g !== l.Fd.pA && g !== l.Fd.kU || (t=this.j.Bs.ia(h.va) - w - 1E3,q?(f=t,v=m.wB(t)):(f=m.yX(k,t),v=t));}return {Qda:t,il:v,Rac:f,hi:p};};d.prototype.FKb=function(f,g,k,m){this.x3b() || k?f=Math.round(f):(k=this.j.rb.t2a(f,m),f=(0,c.Pa)(k)?k:Math.round(f));this.j.jb.Gh && (f=this.WVb(f));this.config().Mlb && 0 !== f && g !== l.Fd.fv && (f+=this.config().Mlb);return f;};d.prototype.hi=function(f,g,k){if(this.config().JRb || g === l.Fd.fv || g === l.Fd.g6 || g === l.Fd.g4 || !k || f < k.start.ia(h.va) || f >= k.end.ia(h.va))return !1;g=this.j.rb;return (null === g || void 0 === g?void 0:g.hj) && g.hi(f) || !1;};d.prototype.x3b=function(){return this.j.jb.Gh?!0:"boolean" === typeof this.j.jb.N0?this.j.jb.N0:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().N0 && this.config().pbc:this.config().N0;};d.prototype.PLb=function(f,g){var k;k=this.j.Lj(g);g=k.vB;k=k.jfb;!1;g=k || g;k=this.j.Md.qa && !this.j.Md.nca()?0:this.config().Enc;g=Math.max(0,g.ia(h.va) - k);return (0,n.jA)(f,0,g);};d.prototype.WVb=function(f){var g,k,m;g=this.j.NY();if(Object.values(g).find(function(p){var q;q=p.Aa;q=f < (null !== q && void 0 !== q?q:Infinity);return p.Ba <= f && q;}))return (!1,f);m=f;Object.entries(g).forEach(function(p){var q;p=oa(p);p.next();p=p.next().value.Ba;q=p - f;0 < q && (void 0 === k || q < k) && (k=q,m=p);});!1;return m;};Va.Object.defineProperties(d.prototype,{pca:{configurable:!0,enumerable:!0,get:function(){return this.Cea || !!this.FC;}}});b.iVa=d;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u;function d(y,x,z,B,A,C){var D;D=this;this.j=y;this.jl=x;this.M2=z;this.bj=B;this.U1=A;this.gp=C;this.X4a={};this.update=function(){var E;if(D.dr.selectionStart == D.dr.selectionEnd){E="";D.XY().forEach(function(G){E=E?E + "\n":"";Object.entries(G).forEach(function(F){var K;K=oa(F);F=K.next().value;K=K.next().value;E+=F + ": " + K + "\n";});});D.dr.style.fontSize=(0,n.jA)((0,f.TM)(D.element.clientHeight / 60),8,18) + "px";D.dr.value=E;}};this.B9b=function(){var E,G;if(D.j.df){G=D.j.df.YJ();G && (D.wsa=G - (null !== (E=D.apb) && void 0 !== E?E:0),D.apb=G,D.rR());}};this.rR=function(){D.M2.Gk(D.update);};this.onkeydown=function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == m.DD.Ftb || E.keyCode == m.DD.Q) && D.toggle();};this.Aib=[y.mediaTime,y.Dc[q.u.U],y.Dc[q.u.J],y.hg,y.Re,y.ei,y.Kf,y.Fj,y.state,y.zt,y.Db,y.volume,y.muted];this.element=this.bj.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.dr=this.bj.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.dr);this.controls=this.bj.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);x=this.bj.createElement("button",void 0,"X");x.addEventListener("click",function(){return D.Jy();},!1);this.controls.appendChild(x);h.bf.addListener(h.yF,this.onkeydown);y.addEventListener(k.ka.Ah,function(){h.bf.removeListener(h.yF,D.onkeydown);D.Jy();});}Object.defineProperty(b,"__esModule",{value:!0});b.pTa=void 0;l=a(64);h=a(58);n=a(79);c=a(308);f=a(14);g=a(15);k=a(16);m=a(207);p=a(5);q=a(49);r={};v=(r[k.kc.WM]="Not Loaded",r[k.kc.LOADING]="Loading",r[k.kc.Xe]="Normal",r[k.kc.CLOSING]="Closing",r[k.kc.CLOSED]="Closed",r);r={};t=(r[k.kg.Xe]="Normal",r[k.kg.ce]="Pre-buffering",r[k.kg.XUa]="Network stalled",r);r={};w=(r[k.qb.Hg]="Waiting for decoder",r[k.qb.Xc]="Playing",r[k.qb.ej]="Paused",r[k.qb.Us]="Media ended",r);u=[k.ka.kda];d.prototype.Agc=function(y){this.X4a.DFR=y;};d.prototype.show=function(){var y;y=this;this.visible || (this.OZ=mb.setInterval(this.B9b,1E3),document.body.appendChild(this.element),this.Aib.forEach(function(x){x.addListener(y.rR);}),u.forEach(function(x){y.j.addEventListener(x,y.rR);}),this.visible=!0,this.gp.j2().then(function(x){y.Vwa=x;y.rR();}));this.update();};d.prototype.Jy=function(){var y;y=this;this.visible && (clearInterval(this.OZ),this.apb=this.wsa=void 0,document.body.removeChild(this.element),this.Aib.forEach(function(x){x.removeListener(y.rR);}),u.forEach(function(x){y.j.removeEventListener(x,y.rR);}),this.M2.Gk(),this.visible=!1);};d.prototype.toggle=function(){this.visible?this.Jy():this.show();};d.prototype.XY=function(){var y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T,W,Q,ka,ra,R,fa,wa,ua,Ea,Xa,vb,nb,zb,Ma,Ya,bb,hb,kb,ob,Bb,Hb,Kb,Qb;N=[];P=this.jl();N.push({Version:"6.0039.753.911",Esn:P?P.Yl:"UNKNOWN",PBCID:this.j.sg,UserAgent:f.HH});try{X=this.j.mediaTime.value;V={MovieId:this.j.L,PackageId:null === (x=null === (y=this.j.ba) || void 0 === y?void 0:y.Ra) || void 0 === x?void 0:x.Ep,Xid:this.j.sa + " (" + l.Wp.map(function(Tb){return Tb.sa;}).join(", ") + ")",Position:(0,n.Hi)(X),Duration:(0,n.Hi)(this.j.vB.ia(p.va)),PlayerDuration:(0,n.Hi)(this.j.Bs.ia(p.va)),Volume:(0,f.Sp)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.bwa()};if(this.j.jb.Gh || this.j.jb.XZ)V["Segment Position"]=(0,n.Hi)(this.j.tF());this.j.Md.qa && (V["Is Live"]="true",V["Live Event Slate"]=this.j.Md.pF(),V["Is At Live Edge"]="" + this.j.Md.JF(),V["Adjusted Live Edge Target"]=(0,n.Hi)(this.j.Md.Ey()),V["Live Adjusted Duration"]=(0,n.Hi)(this.j.Md.a$a()),V["Live Adjusted Playback Position"]=(0,n.Hi)(this.j.Md.jba()),V["Live Event Time Playback Position"]=this.j.Md.YXb());N.push(V);}catch(Tb){}try{N.push({"Player state":v[this.j.state.value],"Buffering state":t[this.j.zt.value],"Rendering state":w[this.j.Db.value]});}catch(Tb){}try{S=this.j.qHa() + this.j.Zpa();U=this.j.hg.value;ha=null === U || void 0 === U?void 0:U.stream;qa=this.j.Re.value;xa=null === qa || void 0 === qa?void 0:qa.stream;Aa=null !== (z=null === ha || void 0 === ha?void 0:ha.bitrate) && void 0 !== z?z:"?";Oa=xa?xa.bitrate + " (" + xa.width + "x" + xa.height + ")":"?";T=null !== (B=null === ha || void 0 === ha?void 0:ha.Wb) && void 0 !== B?B:"?";W=null !== (A=null === xa || void 0 === xa?void 0:xa.Wb) && void 0 !== A?A:"?";Q=null !== (C=null === xa || void 0 === xa?void 0:xa.gb) && void 0 !== C?C:"?";ka=null !== (E=null === (D=this.j.Kf.value) || void 0 === D?void 0:D.gb) && void 0 !== E?E:"?";ra=null !== (F=null === (G=this.j.ei.value) || void 0 === G?void 0:G.bitrate) && void 0 !== F?F:"?";R=null !== (O=null === (K=this.j.Kf.value) || void 0 === K?void 0:K.bitrate) && void 0 !== O?O:"?";fa=this.j.Dc[q.u.J].value;wa=this.j.Dc[q.u.U].value;N.push({"Playing bitrate (a/v)":Aa + " / " + Oa,"Playing/Buffering vmaf":Q + "/" + ka,"Buffering bitrate (a/v)":ra + " / " + R,"Buffer size in Bytes (a/v)":this.j.Zpa() + " / " + this.j.qHa(),"Buffer size in Bytes":"" + S,"Buffer size in Seconds (a/v)":(0,n.Hi)(this.j.NW()) + " / " + (0,n.Hi)(this.j.S2()),"Downloadables (a/v)":T + " / " + W,"Current CDN (a/v)":(wa?wa.name + ", Id: " + wa.id:"?") + " / " + (fa?fa.name + ", Id: " + fa.id:"?")});}catch(Tb){}try{ua=this.j.hg.value;y={};if(ua && ua.stream){Ea=ua.stream;Xa=Ea.track;vb=this.U1.Q9(Xa.streams);nb=Ea.qf;zb=(/xheaac/).test(nb)?"xhe-aac":(/heaac/).test(nb)?"he-aac":(/ddplus/).test(nb)?"ddplus":"unknown";(/atmos/).test(nb) && (zb+=", atmos");y["Audio Track"]=Xa.Sf + ", Id: " + Xa.trackId + ", Channels: " + Xa.channels + ", Codec: " + vb + " (" + zb + ")";y["Audio Tags"]=null === (L=ua.stream) || void 0 === L?void 0:L.ak.toString();}Ma=this.j.Re.value;if(Ma && Ma.stream){Ya=Ma.stream;bb=this.U1.W9(this.j.Xh.value?this.j.Xh.value.streams:[]);hb=Ya.qf;kb=(/hevc/).test(hb)?"hevc":(/vp9/).test(hb)?"vp9":(/h264hpl/).test(hb)?"avchigh":(/av1/).test(hb)?"av1":"avc";(/hdr/).test(hb) && (kb+=", hdr");(/dv/).test(hb) && (kb+=", dv");(/prk/).test(hb) && (kb+=", prk");y["Video Track"]="Codec: " + bb + " (" + kb + ")";y["Video Tags"]=null === (I=Ma.stream) || void 0 === I?void 0:I.ak.toString();}ob=this.j.Fj.value;y["Timed Text Track"]=ob?ob.Sf + ", Profile: " + ob.profile + ", Id: " + ob.trackId:"none";N.push(y);}catch(Tb){}try{Bb=this.j.df;Hb=this.j.Kf.value?this.j.Kf.value.framerate:0;Kb=a(590).web;N.push({Framerate:Hb.toFixed(3),"Current Dropped Frames":(0,g.Pa)(this.wsa)?this.wsa:"","Total Frames":Bb.Dy(),"Total Dropped Frames":Bb.YJ(),"Total Corrupted Frames":Bb.RY(),"Main Thread stall/sec":Kb?Kb.oYb().join(" "):"DISABLED",KeySystem:null === (M=this.j.af) || void 0 === M?void 0:M.WP(),KeyStatus:null === (J=null === (H=this.j.af) || void 0 === H?void 0:H.T9a) || void 0 === J?void 0:J.call(H),VideoDiag:(0,c.Iza)(this.j.mba()),"HDR support":this.Vwa?this.Vwa.result + " (" + this.Vwa.reason + ")":"unknown"});}catch(Tb){}try{N.push({Throughput:this.j.Za + " kbps"});}catch(Tb){}Qb=void 0;try{Object.entries(this.X4a).forEach(function(Tb){var Fb;Fb=oa(Tb);Tb=Fb.next().value;Fb=Fb.next().value;Qb=Qb || ({});Qb[Tb]=JSON.stringify(Fb);});Qb && N.push(Qb);}catch(Tb){}return N;};b.pTa=d;},function(r,b,a){var h,n,c,f;function d(g,k,m,p){this.sa=g;this.Hec=k;this.ta=m;this.hh=p;this.Bd={};}function l(g,k){this.zg=g;this.hh=k;this.jd={};this.ta=g.eb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Nyb=b.rTa=void 0;r=a(0);h=a(1);n=a(7);c=a(18);f=a(5);l.prototype.Kdc=function(g,k){this.jd[g] && this.ta.warn("registerPlayback: xid " + g + " already registered, overriding");k=(k?k:this.hh.Qb()).ia(f.va);this.ta.trace("registerPlayback: xid " + g + " at " + k);this.jd[g]=new d(g,k,this.ta,this.hh);return this.jd[g];};l.prototype.yZb=function(g){this.jd[g] || this.ta.warn("getPlaybackMilestones: xid " + g + " is not registered");return this.jd[g];};l.prototype.eec=function(g){this.ta.trace("removePlayback: xid " + g);delete this.jd[g];};a=l;a=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(n.hb)),r.__param(1,(0,h.l)(c.kd))],a);b.rTa=a;d.prototype.Or=function(g,k){k=k?k.ia(f.va):this.hh.Qb().ia(f.va) - this.Hec;this.ta.trace("addMilestone: xid " + this.sa + " " + g + " at " + k);this.Bd[g]=k;};b.Nyb=d;},function(r,b,a){var l,h,n,c;function d(f){this.Ia=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.JUa=void 0;r=a(0);l=a(16);h=a(1);n=a(18);c=a(5);d.prototype.tl=function(f){f.cause !== l.Fd.fv && (this.trace.unshift({time:this.Ia.Qb(),event:f}),5 < this.trace.length && this.trace.pop());};d.prototype.aab=function(){var f,g;f=this;if(0 === this.trace.length)return {};g=this.trace[0];return {timeSinceLastRepositionMs:this.Nob(g.time),lastRepositionCause:this.a9a(g.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:f.Nob(k.time),cause:f.a9a(k.event.cause),newMediaTime:k.event.Qda,oldMediaTime:k.event.hBa,contentPts:k.event.il,skip:k.event.skip};})};};d.prototype.Nob=function(f){return this.Ia.Qb().Fa(f).ia(c.va);};d.prototype.a9a=function(f){switch(f){case l.Fd.fv:return "initial";case l.Fd.pA:return "seek";case l.Fd.kU:return "live_edge";case l.Fd.gN:return "segment_changed";case l.Fd.g6:return "track_changed";case l.Fd.g4:return "force_rebuffer";}};a=d;a=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(n.kd))],a);b.JUa=a;},function(r,b,a){var l,h,n;function d(c,f,g){this.vi=c;this.Hb=g;this.T=[];this.log=f.eb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.xTa=void 0;l=a(0);r=a(1);h=a(25);n=a(7);a(5);d.prototype.some=function(c){return this.T.some(c);};d.prototype.Bba=function(){return !!(this.T[0] && this.T[0].stream && this.Hb.Ch(this.T[0].stream.gb));};d.prototype.hs=function(c){return this.T.filter(c).reduce(function(f,g){return f + (g.endTime - g.startTime) / g.rate;},0);};d.prototype.kZ=function(c){return this.T.filter(c).reduce(function(f,g){return f + g.endTime - g.startTime;},0);};d.prototype.Zua=function(c,f){var g,k;g=this;k={};return this.T.filter(function(m){return !f || m.track.mG === f;}).reduce(function(m,p){var q,v,t;q=c.bind(g,p)();v=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=k[v];t?t.duration+=p:(t=q,t.duration=p,m.push(t),k[v]=t);return m;},[]);};d.prototype.pg=function(c,f,g){var k;g=void 0 === g?this.vi.playbackRate.value:g;k=this.T;c && f && f >= c.startTime && (c={Dc:c.Dc,track:c.track,stream:c.stream,startTime:c.startTime,JF:c.JF,cya:c.cya,endTime:f,rate:g},(f=k[k.length - 1]) && f.track === c.track && f.stream === c.stream && f.Dc === c.Dc && f.endTime === c.startTime && f.rate === c.rate?f.endTime=c.endTime:k.push(c),!1);};a=d;a=l.__decorate([l.__param(1,(0,r.l)(n.hb)),l.__param(2,(0,r.l)(h.ah))],a);b.xTa=a;},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p,q,v,t,w,u,y){var x;x=this;this.rb=k;this.j=m;this.log=p;this.config=q;this.Sfc=v;this.zob=t;this.Kn=new l.ac(!1);this.Ob=new f.Nk();this.I1a=!1;this.i0=function(){x.I1a=!0;g.bf.removeListener(g.Tm,x.i0);};this.DTb=u(this);k=k.Fq();this.ey=w({sa:m.sa.toString()});w=null === k || void 0 === k?void 0:k.Gib.events;null === w || void 0 === w?void 0:w.addListener("adPresenting",function(){!1;x.t7a();});null === w || void 0 === w?void 0:w.addListener("adBreakPresenting",function(){!1;y.fR(m);x.Kn.set(!0);});null === w || void 0 === w?void 0:w.addListener("adBreakEnded",function(){!1;x.Kn.set(!1);});null === w || void 0 === w?void 0:w.addListener("adPlaygraphUpdated",function(){!1;});null === w || void 0 === w?void 0:w.addListener("segmentDropped",function(z){var B;!1;B=x.j.Lj(z.segmentId);x.Sfc.tcc(z,B);});this.zs=new n.PU();this.j.addEventListener("playbackStart",function(){x.zs.resolve();});w=null === k || void 0 === k?void 0:k.sxa.events;null === w || void 0 === w?void 0:w.addListener("adEvent",function(z){x.zs.promise.then(function(){var B,A,C;z.event === h.iia.EGb && z.qw && x.zob.forEach(function(D){return D.start(x.j);});A=null === (B=m.ba) || void 0 === B?void 0:B.Ra.Wg;B=x.B_b(z);if(z.event === h.iia.FGb && B){C=x.I1a?h.jia.Gpb:m.Qi?h.jia.error:h.jia.hUb;B=Object.assign(Object.assign({},B),{reason:C});}x.ey.cgc(z,A,B);});});g.bf.addListener(g.Tm,this.i0);null === w || void 0 === w?void 0:w.addListener("adBreakEvent",function(z){z.event === h.RHa.tE && x.Ob.Zc(c.t3.tE);x.zs.promise.then(function(){x.ey.bgc(z,m);});});}Object.defineProperty(b,"__esModule",{value:!0});b.dIa=void 0;l=a(74);h=a(310);n=a(350);c=a(16);f=a(70);g=a(58);d.prototype.addEventListener=function(k,m,p){this.Ob.addListener(k,m,p);};d.prototype.removeEventListener=function(k,m){this.Ob.removeListener(k,m);};d.prototype.aQ=function(){var k,m;return null === (m=null === (k=this.rb) || void 0 === k?void 0:k.Fq()) || void 0 === m?void 0:m.HR.JC;};d.prototype.JYb=function(){var k,m,p,q;p=this.aQ();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.Z,adDuration:null === (k=null === p || void 0 === p?void 0:p.uE) || void 0 === k?void 0:k.dg.endTime.Z,adIndex:null === (m=p.uE) || void 0 === m?void 0:m.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.$e.duration.Z};(k=p.Rhb) && (q.padding={type:k.LBa,duration:k.wea.Z});return q;}};d.prototype.Yua=function(){var k,m,p,q,v;q=this.j.ga.L.toString();v=null === (m=null === (k=this.rb) || void 0 === k?void 0:k.Fq()) || void 0 === m?void 0:m.Gib.Yua({$qb:[q]});return null !== (p=null === v || void 0 === v?void 0:v.result[q]) && void 0 !== p?p:[];};d.prototype.t7a=function(){};d.prototype.B_b=function(k){var m;if(k.qw){m=this.zob.reduce(function(p,q){return Object.assign(Object.assign({},p),q.iba(k));},{});return Object.assign(Object.assign({},m),{thirdPartyVerificationToken:k.NS});}};b.dIa=d;},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v,t,w,u){this.context=m;this.log=p;this.za=q;this.config=v;this.Ia=t;this.CGb=w;this.vGb=u;this.REa={};}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;r=a(0);l=a(1);h=a(18);n=a(27);c=a(5);f=a(12);g=a(311);k=a(310);d.prototype.bgc=function(m,p){var q,v,t;q=this;v=m.event;if(Object.values(k.RHa).includes(v)){t=p.bC?p.bC.ia(c.va):-1;m={href:p.ba.Oj.XP("events").href,sa:this.context.sa.toString(),event:v,dy:m.dy,JI:m.JI,position:m.Ti.offset.Z,so:t,ez:{},oB:this.za.HL.ia(c.va),appId:this.config().appId || this.Ia.id,sessionId:this.config().sessionId || this.Ia.id};this.vGb.Xf(this.log,m).catch(function(w){q.log.error("Failed to send event",{eventKey:v,xid:p.sa,error:w});});}else this.log.debug("Ignoring unsupported event " + m.event);};d.prototype.cgc=function(m,p,q){var v,t,w;v=this;t=m.event;if(Object.values(k.iia).includes(t)){w=m.ba.links.events.href;this.REa[m.so] || (this.REa[m.so]=this.za.CHb((0,c.Vb)(m.so)).ia(c.va));m={href:w,sa:this.context.sa.toString(),event:t,dy:m.dy,JI:m.JI,position:m.Ti.offset.Z,so:this.REa[m.so],ez:m.ez,oB:this.za.HL.ia(c.va),appId:this.config().appId || this.Ia.id,sessionId:this.config().sessionId || this.Ia.id,S5b:p,Vjc:null !== q && void 0 !== q?q:void 0};this.CGb.Xf(this.log,m).catch(function(u){v.log.error("Failed to send event",{eventKey:t,xid:v.context.sa,error:u});});}else this.log.debug("Ignoring unsupported event " + m.event);};a=d;a=r.__decorate([r.__param(2,(0,l.l)(n.Nh)),r.__param(3,(0,l.l)(f.uc)),r.__param(4,(0,l.l)(h.kd)),r.__param(5,(0,l.l)(g.hia)),r.__param(6,(0,l.l)(g.gia))],a);b.ZHa=a;},function(r,b){function a(p){this.dg=p;}function d(p){this.padding=p;}function l(p){this.zW=p;}function h(p){this.Ti=p;}function n(p){this.Yea=p;}function c(p){this.FCa=p;}function f(p){this.ECa=p;}function g(p){this.yO=p;}function k(p){this.JC=p;}function m(p){this.Le=p;}Object.defineProperty(b,"__esModule",{value:!0});b.isb=b.Iyb=b.hsb=b.zvb=b.Ryb=b.Syb=b.Qyb=b.gsb=b.Pyb=b.bIa=void 0;m.prototype.getPresentingAdBreak=function(){var p;p=this.Le.aQ();if(p)return new k(p);};m.prototype.getAds=function(){return this.Le.Yua();};m.prototype.getLogInfo=function(){return this.Le.JYb();};b.bIa=m;Va.Object.defineProperties(k.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new g(this.JC.$e);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.JC.uE;if(p)return new f(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.JC.Rhb;if(p)return new c(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new n(this.JC.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new h(this.JC.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.JC.index;}}});b.Pyb=k;Va.Object.defineProperties(g.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.yO.zW);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new d(this.yO.Gga);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new d(this.yO.kY);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.yO.H0b;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.yO.duration.Z};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.yO.wea.Z};}}});b.gsb=g;Va.Object.defineProperties(f.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.ECa.dg);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.ECa.V_a;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ECa.index;}}});b.Qyb=f;Va.Object.defineProperties(c.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.FCa.LBa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.FCa.I$b;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.FCa.wea.Z};}}});b.Syb=c;Va.Object.defineProperties(n.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.Yea.yGb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Yea.wGb.Z};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Yea.AGb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Yea.zGb.Z};}}});b.Ryb=n;Va.Object.defineProperties(h.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Ti.S;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Ti.offset.Z};}}});b.zvb=h;Va.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.zW.zf.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.zW.duration.Z};}}});b.hsb=l;Va.Object.defineProperties(d.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.Z};}}});b.Iyb=d;Va.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.dg.ls;}},id:{configurable:!0,enumerable:!0,get:function(){return this.dg.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.dg.startTime.Z};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.dg.endTime.Z};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.dg.qw;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.dg.NS;}}});b.isb=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pVa="SegmentDroppedLoggerSymbol";},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.oVa=void 0;r=a(0);a=a(1);d.prototype.tcc=function(h,n){n.NQ.ob.AEa({xid:n.sa,auxPlaybackcontextid:n.Wg,auxMid:h.auxMid,auxMidType:h.auxMidType,reason:h.reason,adBreakLocationMs:h.adBreakLocationMs},"error" === h.sev);};l=d;l=r.__decorate([(0,a.$)()],l);b.oVa=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mIa="AdFocusMonitorSymbol";},function(r,b,a){var l,h;function d(n){var c;c=this;this.dJ=function(){var f,g,k;g=!document.hidden;k=null === (f=c.j.Fq()) || void 0 === f?void 0:f.Kn.value;f=c.j.paused.value;g || !k || f || (c.ta.debug("Pausing playback because window is not visible"),c.j.paused.set(!0,{nR:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",c.dJ);c.j.Fq().Kn.removeListener(c.dJ);c.j.paused.removeListener(c.dJ);};this.ta=n.eb("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.lIa=void 0;r=a(0);l=a(1);a=a(7);d.prototype.fR=function(n){this.S7b || (this.ta.debug("Starting to monitor playback for visibility"),this.j=n,this.S7b=!0,document.addEventListener("visibilitychange",this.dJ),this.j.Fq().Kn.addListener(this.dJ),this.j.paused.addListener(this.dJ),this.j.addEventListener("closing",this.unsubscribe),this.dJ());};h=d;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.hb))],h);b.lIa=h;},function(r,b,a){var l,h,n,c,f;function d(g,k,m,p,q,v){var t,w,u,y;t=this;this.config=g;this.Jc=m;this.G=q;this.j=v;this.h7=this.kI=!1;this.Cr=this.ek=this.NJ=void 0;this.Joa=!1;this.log=p.eb("LivePlaybackManager");this.NJ=this.config().RVb;w=this.config().Bic;u=this.config().h5b;this.Joa=(0,n.Pa)(w) && (0,n.Pa)(u);null === v || void 0 === v?void 0:v.addEventListener(c.ka.cn,function(){var x,z,B,A;if(t.qa){(0,h.wa)(t.j && t.j.ga === t.G,"Unexpected playback segment on playbackReady");if(null !== (B=null === (z=null === (x=t.j.ba) || void 0 === x?void 0:x.Ra.Hic) || void 0 === z?void 0:z.Wic.enableLivePlaybackRateDriftCorrection) && void 0 !== B?B:t.config().dTb)t.Cib=k(function(C){(0,h.wa)(t.qa && t.j && t.j.ga === t.G,"Unexpected playback segment on playback rate update");t.G.playbackRate.set(C);t.j.fireEvent(c.ka.TF);});if(t.Joa){A=t.Ey();y=t.Jc.iS((0,l.Vb)(500),function(){var C,D,E,G;C=t.Ey();E=A + w;C >= E - 500 && (D=t.fsa(E));E=A + w + u;if(C >= E - 500){G=t.fsa(E);null === y || void 0 === y?void 0:y.cancel();}t.XEa(D,G,!0);});}}});null === v || void 0 === v?void 0:v.addEventListener(c.ka.Ah,function(){var x;t.qa && ((0,h.wa)(t.j && t.j.ga === t.G,"Unexpected playback segment on closing"),t.Cib=void 0,null === (x=t.p_) || void 0 === x?void 0:x.cancel(),t.p_=void 0,null === y || void 0 === y?void 0:y.cancel());});null === v || void 0 === v?void 0:v.addEventListener(c.ka.BG,function(x){t.qa && ((0,h.wa)(t.j && t.j.ga === t.G,"Unexpected playback segment on repositioning"),x.cause !== c.Fd.fv && (t.kI=x.cause === c.Fd.kU && !t.Gcb()));});null === v || void 0 === v?void 0:v.addEventListener(c.ka.Fqb,function(){t.qa && ((0,h.wa)(t.j && t.j.ga === t.G,"Unexpected playback segment on userInitiatedPause"),t.kI=!1);});null === v || void 0 === v?void 0:v.Wi.addListener(function(){t.qa && ((0,h.wa)(t.j && t.j.ga === t.G,"Unexpected playback segment on playing update"),t.j.Wi.value && t.e8a());});null === v || void 0 === v?void 0:v.background.addListener(function(){var x;t.qa && ((0,h.wa)(t.j && t.j.ga === t.G,"Unexpected playback segment on background update"),!t.j.background.value && t.kI && void 0 === t.NJ && (t.nca()?null === (x=t.j.df) || void 0 === x?void 0:x.seek(t.ek,c.Fd.pA):t.Yfa()));});this.G.mediaTime.addListener(function(x){var z,B;if(t.qa){(0,h.wa)(t.j && t.j.ga === t.G,"Unexpected playback segment on mediaTime update");t.Tqa();B=t.pF(x.oldValue);x=t.pF(x.newValue);B !== x && (!1,t.j.fireEvent(c.ka.TF));void 0 !== t.ek && t.e8a();null === (z=t.Cib) || void 0 === z?void 0:z.aT(t.j.Wi.value && t.kI,t.G.mediaTime.value,t.Ey());}});}Object.defineProperty(b,"__esModule",{value:!0});b.bPa=void 0;l=a(5);h=a(22);n=a(15);c=a(16);f=a(204);d.prototype.lcc=function(){var g;(0,h.wa)(this.qa,"Unexpected call to processManifest(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");(0,h.wa)(null === (g=this.G.ba) || void 0 === g?void 0:g.Ra.bm,"Live manifest is unavailable.");g=this.G.ba.Ra.bm;this.XEa(g.Wta,g.O$);g=this.config().TVb;void 0 !== g && void 0 !== this.ek && (this.NJ=this.ek + g);};d.prototype.XEa=function(g,k,m){var p,q,v,t,w,u,y;p=this;(0,h.wa)(this.qa,"Unexpected call to setLiveEventTimes(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");if(!this.Joa || m){w=this.j;m=this.ek;u=this.Cr;y=null !== (q=this.c4a(g)) && void 0 !== q?q:m;q=null !== (v=this.c4a(k)) && void 0 !== v?v:u;if(void 0 === y && void 0 === q || void 0 !== y && 0 <= y && void 0 === q || void 0 !== y && 0 <= y && void 0 !== q && q > y){this.ek=y;this.Cr=q;if(m !== this.ek || u !== this.Cr)(!1,w.fireEvent(c.ka.TF));this.nca()?(null === (t=this.p_) || void 0 === t?void 0:t.cancel(),this.p_=void 0):this.p_ || (this.p_=this.Jc.iS((0,l.Vb)(1E3),function(){p.Tqa();w.fireEvent(c.ka.TF);}));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (g + ", startPts:") + (y + ", endTime:") + (k + ", endPts:") + q);}};d.prototype.YXb=function(){var g;(0,h.wa)(this.qa,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");g=this.G.mediaTime.value;if(void 0 !== g)return this.fsa(g);};d.prototype.jba=function(){var g;(0,h.wa)(this.qa,"Unexpected call to getUIAdjustedTime(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");g=this.G.mediaTime.value;if(void 0 !== g)switch(this.pF(g)){case f.gv.SU:return 0;case f.gv.hka:return ((0,h.wa)(void 0 !== this.ek,"eventStartPts should be defined in LIVE_EVENT slate."),g - this.ek);case f.gv.wja:return ((0,h.wa)(void 0 !== this.ek && void 0 !== this.Cr,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Cr - this.ek);}};d.prototype.nlb=function(g){var k,m;(0,h.wa)(this.qa,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");return void 0 === this.ek?null !== (m=null !== (k=this.Ey()) && void 0 !== k?k:this.G.mediaTime.value) && void 0 !== m?m:g:this.ek + g;};d.prototype.Ycb=function(g){var k;(0,h.wa)(this.qa,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");k=this.Ey();return void 0 !== k && g >= k - this.config().$4b;};d.prototype.Mva=function(g,k){var m,p;(0,h.wa)(this.qa,"Unexpected call to getLiveBookmark(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");if(void 0 !== this.NJ)return {Nn:this.NJ,nG:Number.MAX_SAFE_INTEGER,p5a:this.NJ};k || void 0 === this.ek || void 0 === this.Cr && 0 === g?(this.kI=!0,g=36E7):(g=this.ek + g,void 0 !== this.Cr && g > this.Cr && (g=this.ek));return {Nn:g,nG:null !== (m=this.Cr) && void 0 !== m?m:Number.MAX_SAFE_INTEGER,p5a:null !== (p=this.ek) && void 0 !== p?p:36E7};};d.prototype.a$a=function(){var g,k;(0,h.wa)(this.qa,"Unexpected call to getLiveContentDuration(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");k=null !== (g=this.Cr) && void 0 !== g?g:this.JF()?this.G.mediaTime.value:this.Ey();return void 0 !== k && void 0 !== this.ek?k - this.ek:0;};d.prototype.QYb=function(){var g,k,m;(0,h.wa)(this.qa,"Unexpected call to getMaxSeekPts(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");m=null !== (k=null !== (g=this.Cr) && void 0 !== g?g:this.Ey()) && void 0 !== k?k:0;!1;return m;};d.prototype.Ey=function(){var g,k;(0,h.wa)(this.qa,"Unexpected call to getLiveEdge(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");return null === (k=null === (g=this.j.rb) || void 0 === g?void 0:g.oF(this.G.S)) || void 0 === k?void 0:k.Z;};d.prototype.Yfa=function(){var g;(0,h.wa)(this.qa,"Unexpected call to seekToLiveEdge(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");this.kI=!this.Gcb();if(this.j.df){g=this.Ey();void 0 !== g?this.j.df.seek(g,c.Fd.kU,this.G.S):!1;}else this.G.Nn=this.Mva(0,!0).Nn;};d.prototype.JF=function(){(0,h.wa)(this.qa,"Unexpected call to isAtLiveEdge(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");return this.h7;};d.prototype.Ybb=function(){(0,h.wa)(this.qa,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");return this.kI;};d.prototype.pF=function(g){var k,m,p;(0,h.wa)(this.qa,"Unexpected call to getLiveEventState(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");g=null !== (k=null !== g && void 0 !== g?g:this.G.mediaTime.value) && void 0 !== k?k:0;k=null !== (m=this.ek) && void 0 !== m?m:Infinity;m=null !== (p=this.Cr) && void 0 !== p?p:Infinity;return g < k?f.gv.SU:g > m?f.gv.wja:f.gv.hka;};d.prototype.nca=function(){(0,h.wa)(this.qa,"Unexpected call to isLiveEventEnded(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");return void 0 !== this.Cr;};d.prototype.Gcb=function(){var g;(0,h.wa)(this.qa,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");return this.j.paused.value && !(null === (g=this.j.paused.lj) || void 0 === g?0:g.nR);};d.prototype.e8a=function(){this.Tqa();this.JF() || this.pF() !== f.gv.SU || void 0 !== this.NJ || this.Yfa();};d.prototype.Tqa=function(){var g,k;(0,h.wa)(this.qa,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");k=this.h7;this.h7=this.Ycb(null !== (g=this.G.mediaTime.value) && void 0 !== g?g:0);k !== this.h7 && (!1,this.j.fireEvent(c.ka.TF));};d.prototype.fsa=function(g){var k,m;(0,h.wa)(this.qa,"Unexpected call to convertPtsToEventTime(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");(0,h.wa)(null === (k=this.G.ba) || void 0 === k?void 0:k.Ra.bm,"Live manifest is unavailable.");k=this.G.ba.Ra.bm;m=new Date(k.CEa[k.ita[this.G.ba.Ra.gx[0].streams[0].hp]].g9).getTime();return new Date(m - k.N$ + g).toISOString();};d.prototype.c4a=function(g){var k,m,p;(0,h.wa)(this.qa,"Unexpected call to convertEventTimeToPts(). isLive:" + this.qa);(0,h.wa)(this.j && this.j.ga === this.G,"Playback is required for live.");(0,h.wa)(null === (k=this.G.ba) || void 0 === k?void 0:k.Ra.bm,"Live manifest is unavailable.");if(g){k=this.G.ba.Ra.bm;m=k.CEa[k.ita[this.G.ba.Ra.gx[0].streams[0].hp]];p=new Date(g).getTime() + k.N$ - new Date(m.g9).getTime();if(isNaN(p) || 0 > p)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (g + ", eventAvailabilityOffsetMs:") + (k.N$ + ", availabilityStartTime:") + m.g9);else return p;}};Va.Object.defineProperties(d.prototype,{qa:{configurable:!0,enumerable:!0,get:function(){var g,k;g=this.G;k=g.ba;g=g.me;return k?(g=k.Ra,k=g.qh,g=g.bm,(0,h.wa)("LIVE" === k && !!g || "VOD" === k && !g,"streamingType and liveMetadata mismatch - streamingType:" + k + ", liveMetadata:" + g),"LIVE" === k && !!g):"live" === g;}}});b.bPa=d;},function(r,b,a){var l,h,n,c,f;function d(g,k){var m;m=f.xm.call(this) || this;m.Ia=g;m.paused=!1;m.Ft=function(){var p,q,v;v=m.Le.aQ();m.Le.Kn.value && null !== (p=null === v || void 0 === v?void 0:v.uE) && void 0 !== p && p.dg.qw?(p=null === (q=v.uE) || void 0 === q?void 0:q.dg.id,q=m.paused,m.paused=m.j.paused.value,q !== m.paused && (m.paused?(m.Aea=m.Ia.Qb(),m.AW=v.position.offset.Z,m.ta.debug("Ad " + p + " paused at " + m.AW + " ms into the ad")):void 0 !== m.Aea && void 0 !== m.AW && (v=m.Ia.Qb().Fa(m.Aea).ia(c.va),m.ta.debug("Ad " + p + " resumed. Pause duration: " + v),m.trace.push([m.AW,v]),m.AW=void 0,m.Aea=void 0))):m.unsubscribe();};m.ta=k.eb("AdPauseStateTracker");return m;}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;r=a(0);l=a(1);h=a(18);n=a(7);c=a(5);f=a(211);la(d,f.xm);d.prototype.start=function(g){f.xm.prototype.start.call(this,g);this.My || (this.j.paused.addListener(this.Ft),this.My=!0);};d.prototype.iba=function(){return {pauseTrace:this.trace};};d.prototype.v1=function(){this.AW=void 0;this.paused=this.j.paused.value;this.Aea=void 0;this.trace=[];};d.prototype.unsubscribe=function(){f.xm.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.Ft);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.kd)),r.__param(1,(0,l.l)(n.hb))],a);b.eIa=a;},function(r,b,a){var l,h,n,c,f;function d(g,k){var m;m=f.xm.call(this) || this;m.zg=g;m.Dsa=k;m.Ft=function(){var p,q;q=m.Le.aQ();m.Le.Kn.value && null !== (p=null === q || void 0 === q?void 0:q.uE) && void 0 !== p && p.dg.qw?(p=m.trace[m.trace.length - 1],q=q.position.offset.Z,p && p[0] === q && m.trace.pop(),(p=m.trace[m.trace.length - 1]) && p[1] === m.j.Asa || m.trace.push([q,m.j.Asa])):m.unsubscribe();};m.ta=g.eb("AdVolumeTracker");m.Sta=k((0,c.$i)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.oIa=void 0;r=a(0);l=a(1);h=a(178);n=a(7);c=a(5);f=a(211);la(d,f.xm);d.prototype.start=function(g){f.xm.prototype.start.call(this,g);this.My || (this.j.volume.addListener(this.a$),this.j.muted.addListener(this.a$),this.My=!0);};d.prototype.iba=function(){return {volumeChangeTrace:this.trace,volume:this.j.Asa};};d.prototype.v1=function(){this.trace=[];};d.prototype.unsubscribe=function(){f.xm.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.a$);this.j.muted.removeListener(this.a$);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.hb)),r.__param(1,(0,l.l)(h.V3))],a);b.oIa=a;},function(r,b,a){var l,h,n,c,f;function d(g,k){var m;m=f.xm.call(this) || this;m.Dsa=k;m.Sec=function(){0 === m.trace.length?m.Ft():m.Sta.Gk(function(){m.Ft();});};m.Ft=function(){var p,q,v,t;q=m.Le.aQ();if(m.Le.Kn.value && null !== (p=null === q || void 0 === q?void 0:q.uE) && void 0 !== p && p.dg.qw){(p=m.trace[m.trace.length - 1]) && p[0] === q.position.offset.Z && m.trace.pop();p=m.trace[m.trace.length - 1];v=m.j.pm.getBoundingClientRect();t=v.height;v=v.width;0 < t && 0 < v && (!p || p[1] !== v || p[2] !== t) && m.trace.push([q.position.offset.Z,v,t]);}else m.unsubscribe();};m.ta=g.eb("AdResizeTracker");m.Sta=k((0,c.$i)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=void 0;r=a(0);l=a(1);h=a(178);n=a(7);c=a(5);f=a(211);la(d,f.xm);d.prototype.start=function(g){f.xm.prototype.start.call(this,g);this.My || (this.dhb=new ResizeObserver(this.Sec),this.dhb.observe(this.j.pm),this.My=!0);};d.prototype.iba=function(){return {resizeTrace:this.trace.slice(1)};};d.prototype.v1=function(){this.trace=[];};d.prototype.unsubscribe=function(){var g;f.xm.prototype.unsubscribe.call(this);null === (g=this.dhb) || void 0 === g?void 0:g.disconnect();};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.hb)),r.__param(1,(0,l.l)(h.V3))],a);b.jIa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wT="AdTrackerBaseSymbol";},function(r,b,a){var l,h,n;function d(c){var f;f=n.xm.call(this) || this;f.fAa=0;f.Q4a=[0];f.JK=[0];f.visibility=0;f.Ft=function(){var g,k;k=f.Le.aQ();f.Le.Kn.value && null !== (g=null === k || void 0 === k?void 0:k.uE) && void 0 !== g && g.dg.qw?(g=f.visibility,f.visibility=document.hidden?0:1,g !== f.visibility && (1 === f.visibility?(f.fAa=f.visibility,f.hda=k.position.offset.Z):(k=k.position.offset.Z - (f.hda || 0),k > f.JK[0] && (f.JK[0]=k),f.hda=void 0))):f.unsubscribe();};f.ta=c.eb("AdVisibilityTracker");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.nIa=void 0;r=a(0);l=a(1);h=a(7);n=a(211);la(d,n.xm);d.prototype.start=function(c){n.xm.prototype.start.call(this,c);this.My || (document.addEventListener("visibilitychange",this.Ft),this.My=!0);};d.prototype.iba=function(c){var f,g,k;g=this.j.pm.getBoundingClientRect();k=g.height;g=g.width;"adStart" === c.event && (k=0 === k?document.documentElement.clientHeight:k,g=0 === g?document.documentElement.clientWidth:g);c=c.Ti.offset.Z - (null !== (f=this.hda) && void 0 !== f?f:0);c > this.JK[0] && (this.JK[0]=c);f=document.fullscreenElement?!0:screen.height === mb.outerHeight && screen.width === mb.outerWidth;this.Q4a=this.JK;return {cumulativeTimeByVisibilityMs:this.Q4a,maxContinuousTimeByVisibilityMs:this.JK,visibility:this.visibility,maxVisibility:this.fAa,screenHeight:screen.height,screenWidth:screen.width,adHeight:k,adWidth:g,fullScreen:f};};d.prototype.v1=function(){this.hda=void 0;this.JK=[0];this.fAa=this.visibility=document.hidden?0:1;};d.prototype.unsubscribe=function(){n.xm.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.Ft);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb))],a);b.nIa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cPa="LivePlaybackRateControllerFactorySymbol";},function(r,b,a){var l,h;function d(n,c,f,g){this.config=n;this.pga=g;this.log=c.eb("LivePlaybackRateController");this.Wjc=f((0,l.Vb)(this.config().d5b));}Object.defineProperty(b,"__esModule",{value:!0});b.dPa=void 0;l=a(5);h=a(79);d.prototype.aT=function(n,c,f){var g,k;g=this;if(!n || void 0 === c || void 0 === f || Math.abs(c - f) < this.config().e5b)k=1;else (n=f - c,n=1 + this.config().c5b / 1E3 * n,k=(0,h.jA)(n,this.config().g5b,this.config().f5b));this.Wjc.Gk(function(){!1;g.pga(k);});};b.dPa=d;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y;function d(x,z,B){var A;A=this;this.zb=x;this.j=z;this.debug=B;this.HV=this.hj=this.EA=!1;this.hW=this.gW=void 0;x={};this.q_=(x[u.u.U]={},x[u.u.J]={},x[u.u.nb]={},x);this.ZD=void 0;this.Og=function(){var C,D,E,G,F,K;A.debug.assert(A.Ka,"has access to asePlaygraph");A.debug.assert(A.Vc,"has access to internalLogger");A.debug.assert(A.yw,"has access to mediaBufferGetLogFields");F=A.tq;K=null === (D=null === (C=A.Bc.get()) || void 0 === C?void 0:C.Za) || void 0 === D?void 0:D.ya;C={type:"logdata",target:"startplay",fields:{hasasereport:A.j.tP,hashindsight:!1,buffCompleteReason:F.reason,actualbw:K,initSelReason:null !== (E=F.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:F.vBufferLevelMs,bcABufferLevelMs:F.aBufferLevelMs}};(0,f.U8)({Xta:C,Bk:A.Bk,loadTime:A.loadTime});A.Ka.GGa("startplay",l.Kc.Cl);null !== (G=A.Lb) && void 0 !== G && G.tf?(A.Vc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:F},A.yw()),A.j.tq=F,A.j.zt.set(g.kg.Xe),A.IVb || (A.IVb=!0,A.j.ef("pb")),A.uf.value !== l.Ma.OD && A.uf.value !== l.Ma.Am && A.play()):A.Vc.error("Shim received buffering complete but player has no position (player " + (A.Lb?"":"un") + "defined, state " + A.j.state + ")");};this.fpb=function(){var C,D;A.debug.assert(A.Vc,"has access to internalLogger");!1;A.gW=void 0;A.hW=void 0;A.j.paused.value && A.cL && (A.cL=!1,A.j.paused.set(!1,{nR:!0}));null === (C=A.j.df) || void 0 === C?void 0:C.zMb();null === (D=A.shb) || void 0 === D?void 0:D.call(A);A.shb=void 0;};this.events=new y();this.Mh=new w.vma(this.ry.bind(this),function(C,D){return A.j.CG(C,D);});}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;l=a(66);h=a(11);n=a(59);c=a(4);f=a(1394);g=a(16);k=a(19);m=a(15);p=a(5);q=a(1395);v=a(79);t=a(74);w=a(555);a(139);u=a(49);y=a(106).EventEmitter;d.prototype.wd=function(){var x;!1;this.HV=!1;this.Bc.M1(null);this.debug.assert(this.wj,"has access to streamingEngine");this.Ka && this.wj.QC(this.Ka);this.Lb && this.wj.Akb(this.Lb);this.wj.Ckb(this.Mh.fs(this.zb.ga.N));this.Mh.clear();null === (x=this.Tq) || void 0 === x?void 0:x.Mt();};d.prototype.khc=function(x){var z,B,A,C,D,E,G,F,K,O,L,I,M;z=x.config;B=x.Rr;A=x.Vc;C=x.Ve;D=x.yw;E=x.sk;G=x.K1;x=x.FL;this.Vc=A;this.log=A.T9("AseIntegrationImpl");!1;this.yw=D;this.K1=G;this.FL=x;D=this.j.ga;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(B,"has access to aseGlobals");this.debug.assert(B.wj,"has access to streamingEngine");this.debug.assert(D.Sc,"has access to parsedManifest");this.debug.assert(D.ba,"has access to manifest");this.config=z;this.wj=B.wj;B.te.set(a(180)(z),!0,E("ASE"));B.te.set({maxNumberTitlesScheduled:null !== (K=null === (F=z.mbc) || void 0 === F?void 0:F.maxNumberTitlesScheduled) && void 0 !== K?K:1},!0,A);z.cNb && !D.Md.qa && 3E5 > D.ba.Ra.duration?B.te.x0({expandDownloadTime:!1},!0,A):B.te.x0({expandDownloadTime:B.te.nib().expandDownloadTime},!0,A);z=D.background.value || z.kbc && "postplay" === D.me?"historical":B.te.nib().initBitrateSelectorAlgorithm;B.te.x0({initBitrateSelectorAlgorithm:z},!0,A);z=null === (M=null === (I=null === (L=null === (O=D.Xh) || void 0 === O?void 0:O.value) || void 0 === L?void 0:L.streams) || void 0 === I?void 0:I[0]) || void 0 === M?void 0:M.qf;B.te.x0((0,k.N3a)(!!D.jb.Gh,!!D.jb.XZ,z),!0,A);A=C.bG({},(0,k.J9)(D.me));D.Md.qa && (A=C.bG(A,(0,k.J9)("live")));this.te=B.te.Mi(A);l.platform.events.emit("networkchange",D.Sc.qgc);this.EA=!0;};d.prototype.Yba=function(x){var z,B;this.debug.assert(this.wj,"has access to streamingEngine");z=this.j.Lj(x.S);this.debug.assert(z.Sc,"has access to playback parsedManifest");!1;B=x.flags;this.Bc.reset();this.ag=new Set([u.u.U,u.u.J]);(B.W2 || B.bqa) && this.ag.delete(B.W2?u.u.U:u.u.J);this.aH=[z.Sc.EQb,z.Sc.MQb,z.Sc.LQb];this.ry(z.L,void 0,x.P4a);this.p2b(x);this.aP();};d.prototype.fx=function(x){var z;!1;null === (z=this.Ka) || void 0 === z?void 0:z.fx(x);};d.prototype.AJb=function(x){var z,B,A,C;z=this;B=x.loadTime;A=x.Bk;this.debug.assert(this.Ka,"has access to asePlaygraph");this.debug.assert(this.Lb,"has access to asePlayer");!1;this.Bk=A;this.loadTime=B;x=this.Ka.events;C=this.Lb.events;x.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.Vc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.Vc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.yw())),(0,n.Rg)(function(){z.j.Vd(c.aa.Nrb,{Da:D.nativeCode,Tb:D.errormsg,Xl:D.httpCode,Lda:D.networkErrorCode});}));});x.addListener("logdata",function(D){var E;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (E=z.Ka) || void 0 === E?void 0:E.G8,(0,f.U8)({Xta:D,Bk:A,loadTime:B}));});C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,f.U8)({Xta:D,Bk:A,loadTime:B});});x.addListener("bufferingStarted",function(){!1;z.j.zt.set(g.kg.ce);});x.addListener("bufferingComplete",function(D){!1;z.tq=D;});this.j.paused.addListener(function(D){var E;z.debug.assert(z.Vc,"has access to internalLogger");null !== (E=D.lj) && void 0 !== E && E.nR || !z.EA || (D.newValue && z.uf.value === l.Ma.Xc?(z.uf.set(l.Ma.ej),z.Tj.emit("paused",{type:"paused",pts:z.Tj.Pc})):D.newValue || z.uf.value !== l.Ma.ej || (z.uf.set(l.Ma.Xc),z.Tj.emit("playing",{type:"playing",pts:z.Tj.Pc})));D.newValue || (z.cL=!1);z.Vc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,v.Hi)(z.j.mediaTime.value)});});this.j.Hc.addListener(function(D){var E,G,F,K;if(z.EA)if((z.debug.assert(z.Vc,"has access to internalLogger"),D.lj && D.lj.B8))z.Vc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {K=D.newValue;z.jGa({rq:K.trackId,toJSON:function(){return K.Ih;}})?z.Vc.trace("ASE accepted the audio track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.Vc.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== K.trackId && z.j.Hc.set(D.oldValue,{B8:!0}));}});this.j.Md.qa && this.j.Mb.addListener(function(D){var E,G,F,K;if(z.EA)if((z.debug.assert(z.Vc,"has access to internalLogger"),D.lj && D.lj.B8))z.Vc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {K=D.newValue;z.jGa({wob:K.trackId,toJSON:function(){return K.Ih;}})?z.Vc.trace("ASE accepted the text track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.Vc.trace("ASE rejected the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== K.trackId && z.j.Mb.set(D.oldValue,{B8:!0}));}});x.addListener("serverSwitch",function(D){var E;!1;z.j.fireEvent(g.ka.G1,D);if("video" === D.mediatype)E=u.u.J;else "audio" === D.mediatype && (E=u.u.U);(0,m.Ad)(E) && z.K1(D.segmentId,D.server,E);});x.addListener("streamSelected",function(D){var E,G,F,K;!1;if(z.HV){G=D.manifest.Wg;if(!z.j.I0b(G) && z.config.EUb)return z.j.Vd(c.aa.Mwb,{eF:G});G=(null === (E=z.Ka) || void 0 === E?void 0:E.qZ(D.position)).Ht.Z;E=[];if(D.mediaType === u.u.J){F=z.j.Oab(D.streamId);K=z.j.Kf;E=z.j.vF();}else D.mediaType === u.u.U && (F=z.j.zab(D.streamId),K=z.j.ei,E=z.j.WWb());F && K?(!1,K.set(F,{eJ:G,ZW:D.bandwidth})):z.Vc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:E,cachedManifest:z.j.aJ});}});x.addListener("segmentNormalized",function(D){var E,G,F,K,O;!1;E=D.segmentId;G=Math.floor(D.viewableContentEnd.Z);D=Math.floor(D.viewableEarliestContentEnd.Z);G=(0,p.Vb)(G);D=(0,p.Vb)(D);if(!z.j.Iab(E) && (!1,z.mk && z.mk.T[E])){F=z.mk.T[E];K=z.mk.T[E].tc;if(K && z.zb.vz(K)){K=z.j.Lj(K);O=K.ba;(null === O || void 0 === O?0:O.yt) && (null === O || void 0 === O?0:O.yt.some(function(L){return L.Ra.L === F.N;})) && z.j.msa(F.N,{gi:{Td:O.Ra.Td,Cg:O.Ra.L}},K.sa);}}if(E=z.j.Lj(E))(E.vB=G,E.jfb=D);z.j.Bs || (z.j.Md.qa?(z.debug.assert(Infinity === G.ia(p.va),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.Md.qa + ", contentDuration:" + G),z.j.Bs=p.Oa):z.j.Bs=G);});C.addListener("segmentPresenting",function(D){var E,G,F,K;!1;z.debug.assert(z.Ka,"has access to asePlaygraph");z.debug.assert(z.Lb,"has access to asePlayer");z.debug.assert(z.FL,"has access to segmentPresentingHandler");G=z.Ka.qZ(D.position);F=void 0;K=null === (E=D.inner) || void 0 === E?void 0:E.position;K && z.mk && (F=z.mk.T[K.S]);z.FL({N:G.N,hJ:F,sK:!1});z.j.fireEvent(g.ka.EL,{type:"segmentPresenting",position:{segmentId:D.position.S,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.ZD=z.Lb.rp();});C.addListener("ptsChanged",function(D){var E;!1;z.j.df.Hcc({Pua:null === (E=D.forcedTimestamp) || void 0 === E?void 0:E.IC,n2b:D.initialTimestamp.IC});z.Tj.emit("skipped");});x.addListener("locationSelected",function(D){!1;z.j.fireEvent(g.ka.u_,D);});x.addListener("aseReportEnabled",function(){!1;z.j.tP=!0;});x.addListener("aseReport",function(D){!1;z.j.fireEvent(g.ka.SI,D);});x.addListener("liveReport",function(D){!1;z.j.fireEvent(g.ka.Pca,D);});x.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.zec;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(g.ka.FB,{response:D,L:z.j.ga.L});});x.addListener("transportReport",function(D){var E;(D=null === (E=D.ZTb) || void 0 === E?void 0:E.cadmiumResponse) && z.j.fireEvent(g.ka.FB,{response:D,L:z.j.ga.L});});x.addListener("liveEventTimesUpdated",function(D){var E,G;E=D.S;G=D.startTime;D=D.endTime;z.j.Iab(E) && (E=z.j.Lj(E),E.Md.qa && E.Md.XEa(G,D));});x.addListener("liveLoggingInfoUpdated",function(D){var E,G;E=D.mediaType;G=z.q_[E];z.q_[E]=D.info;D=z.q_[E].GJ !== G.GJ && void 0 !== G.GJ;(z.q_[E].FJ !== G.FJ && void 0 !== G.FJ || D) && z.j.fireEvent(g.ka.Oca,{mediaType:E,mo:G,current:z.q_[E]});});};d.prototype.rp=function(){var x,z,B,A,C,D,E,G,F;G=null === (x=this.Lb) || void 0 === x?void 0:x.Aba();x=(null !== (z=this.ZD) && void 0 !== z?z:G && this.Lb.rp()) || ({});z=x.G;G=x.Ud;F=x.oG;x=x.Cs;return {id:String(null === z || void 0 === z?void 0:z.id),qg:null !== (B=null === G || void 0 === G?void 0:G.Z) && void 0 !== B?B:0,ue:null !== (A=null === z || void 0 === z?void 0:z.xf.Z) && void 0 !== A?A:Infinity,Oc:null !== (C=null === z || void 0 === z?void 0:z.Eh.Z) && void 0 !== C?C:0,bg:null !== (D=null === F || void 0 === F?void 0:F.Z) && void 0 !== D?D:Infinity,Nd:null !== (E=null === x || void 0 === x?void 0:x.Z) && void 0 !== E?E:0};};d.prototype.lva=function(){return {qg:0};};d.prototype.Sxa=function(){var x,z;this.debug.assert(this.Ka,"has access to asePlaygraph");x={};z=this.Ka.UJ();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;return x;};d.prototype.paused=function(){};d.prototype.Bib=function(){!1;this.Tj.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Tj.Pc});};d.prototype.UW=function(x,z){var B;this.debug.assert(this.j.ba,"has access to playback manifest");B=this.aH[u.u.U];return x.L === this.j.ba.Ra.L?B:this.lVb(this.j.ba.Ra.Gv[B],z);};d.prototype.Wga=function(x,z){var B;this.debug.assert(this.j.ba,"has access to playback manifest");if(this.j.Md.qa){this.debug.assert(x.L === this.j.ba.Ra.L);B=this.aH[u.u.nb];if((x=this.j.Bi.find(function(A){return A.trackId === z[B].Bg;})) && (!x.Oq() || x.yp()))return B;}};d.prototype.lVb=function(x,z){var B,A,C;this.debug.assert(this.Vc,"has access to internalLogger");!1;B=z.filter(function(D){return D.profile === x.profile;}).sort(function(D,E){var G,F,K;G=(D.language === x.language || "zxx" === D.language?0:1) - (E.language === x.language || "zxx" === E.language?0:1);0 === G && (G=(D.aj === x.aj?0:1) - (E.aj === x.aj?0:1));if(0 === G){D=(null !== (F=D.wc) && void 0 !== F?F:0) - (null !== (K=E.wc) && void 0 !== K?K:0);}else D=G;return D;});A=0;C=oa(B).next().value;C && z.some(function(D,E){if(D === C)return (A=E,!0);});!1;return A;};d.prototype.jGa=function(x){var z,B,A,C,D,E;this.debug.assert(this.Vc,"has access to internalLogger");this.debug.assert(this.Lb,"has access to asePlayer");this.debug.assert(this.j.ba,"has access to playback manifest");if(this.zGa)return (!1,!1);B=x.rq;A=this.aH[u.u.U];if(void 0 === B)C=A;else if(!this.j.ba.Ra.audio_tracks.some(function(G,F){if(G.new_track_id === B)return (C=F,!0);}))return (!1,!1);D=x.wob;x=this.aH[u.u.nb];if(void 0 === D)E=x;else if(!this.j.ba.Ra.timedtexttracks.some(function(G,F){if(G.new_track_id === D)return (E=F,!0);}))return (!1,!1);!1;this.gW=C;this.hW=E;null === (z=this.j.df) || void 0 === z?void 0:z.Dic();this.j.paused.value || (this.Lb.pause([u.u.U,u.u.nb]),this.cL=!0,this.j.paused.set(!0,{nR:!0}));this.debug.S8(this.gW,"has access to valid requestedAudioTrackIndex number");this.aH[u.u.U]=this.gW;this.debug.S8(this.hW,"has access to valid requestedTextTrackIndex number");this.aH[u.u.nb]=this.hW;(this.YC() || this.cL) && this.Lb.resume(this.cL?[u.u.U,u.u.nb]:void 0);this.rM(this.fpb);return !0;};d.prototype.YC=function(){var x;x=this;this.debug.assert(this.Ka,"has access to asePlaygraph");return this.Ka.YC({mS:this.UW.bind(this)},{mS:function(){return x.aH[u.u.J];}},{mS:this.Wga.bind(this)});};d.prototype.sn=function(){var x;!1;this.uf.set(l.Ma.bh);null === (x=this.Ka) || void 0 === x?void 0:x.GGa("intrplay",l.Kc.sn);this.Tj.emit("underflow",{type:"underflow",pts:this.Tj.Pc});this.rM(this.Og);};d.prototype.Zw=function(x,z){this.iT.Zw(x,z);};d.prototype.open=function(){this.HV || (this.debug.assert(this.Ka,"has access to asePlaygraph"),this.debug.assert(this.Lb,"has access to asePlayer"),!1,this.HV=this.hj=!0,this.Ka.open(),this.debug.assert(this.wz,"invalid start position relative to playgraph"),this.Ka.HG(this.wz,l.O.Na(this.j.ca)),this.uf.set(l.Ma.ce),this.rM(this.Og),this.Ka.jy(this.Lb),this.Y4b());};d.prototype.play=function(){this.debug.assert(this.Ka,"has access to asePlaygraph");this.debug.assert(this.Lb,"has access to asePlayer");!1;0 !== this.Ka.state && (this.Lb.resume(this.cL?[u.u.U,u.u.nb]:void 0),this.uf.set(l.Ma.Xc),this.Tj.emit("playing",{type:"playing",pts:this.Tj.Pc}));};d.prototype.stop=function(){var x;!1;this.uf.set(l.Ma.OD);null === (x=this.Lb) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.Tj.emit("paused",{type:"paused",pts:this.Tj.Pc});};d.prototype.flush=function(){this.debug.assert(this.Ka,"has access to asePlaygraph");this.debug.assert(this.wj,"has access to streamingEngine");!1;this.HV && this.uf.value !== l.Ma.Am && this.uf.value !== l.Ma.OD && this.stop();this.Ka.GGa("endplay",l.Kc.kl);this.Ka.he();this.wj.zk.save();this.wj.su.save();};d.prototype.Fq=function(){var x;return null === (x=this.Ka) || void 0 === x?void 0:x.Le;};d.prototype.wB=function(x){var z;this.debug.assert(this.Ka,"has access to asePlaygraph");z=l.O.Na(x);return (z=this.Ka.dn(z,{eic:!0,dic:!0}))?this.Ka.na.T[z.S].Ba + Number(z.offset.Z.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};d.prototype.yX=function(x,z){this.debug.assert(this.Ka,"has access to asePlaygraph");this.debug.assert(this.Vc,"has access to internalLogger");!1;this.Ka.na.T[x] || (x=this.qua(z));this.debug.T8(x,"has access to segmentId");x={S:x,offset:l.O.Na(z - this.Ka.na.T[x].Ba)};if(x=this.Ka.rZ(x))return x.Z;!1;return z;};d.prototype.t2a=function(x,z){var B,A,C,D;this.debug.assert(this.Ka,"has access to asePlaygraph");this.debug.assert(this.Lb,"has access to asePlayer");!1;z && this.Ka.na.T[z] || (z=null !== (B=this.qua(x)) && void 0 !== B?B:null === (A=this.Lb) || void 0 === A?void 0:A.Ni.S);z=this.j.Lj(z);x={Ht:l.O.Na(x),N:z.L};return null === (D=null === (C=this.Ka.mp(x)) || void 0 === C?void 0:C.cc) || void 0 === D?void 0:D.Z;};d.prototype.BJ=function(x){var z;z=void 0 === z?!0:z;!1;this.hj?Number.isFinite(x) && (this.debug.assert(this.Lb,"has access to asePlayer"),z?this.Lb.nga(x):this.Lb.mmb(x)):this.fail("Must call open prior to drmReady");};d.prototype.Rwa=function(){var x;return null !== (x=this.Lb) && void 0 !== x && x.tf?this.Lb.rs(this.zb.ga.N):!1;};d.prototype.hi=function(x){var z,B;!1;if(!this.Lb)return (!1,!1);z=this.Fq();x=l.O.Na(x);B=this.Lb.hi(x);return z && this.j.uZ()?B && z.hi(x):B;};d.prototype.DL=function(x,z){var B;this.debug.assert(this.Ka,"has access to asePlaygraph");this.debug.assert(this.Lb,"has access to asePlayer");!1;z && this.Ka.na.T[z] || (z=null !== (B=this.qua(x)) && void 0 !== B?B:this.zb.ji);this.debug.T8(z,"has access to segmentId");this.debug.assert(this.Ka.na.T[z],"segment exists in playgraph map");z={S:z,offset:l.O.Na(x - this.Ka.na.T[z].Ba)};this.Ka.HG(z,l.O.Na(x));this.Lb.resume();this.uf.set(l.Ma.ce);this.rM(this.Og);x=this.Ka.zlb(z);this.debug.assert(x,"Valid position must be provided for seek");return x.offset.Z;};d.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};d.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};d.prototype.pha=function(x,z){var B;!1;B={};this.Ka.Lk((B[x]=z,B));};d.prototype.oy=function(x,z){var B,A;this.debug.assert(this.Vc,"has access to internalLogger");this.debug.assert(this.Ka,"has access to asePlaygraph");this.debug.assert(this.Lb,"has access to asePlayer");!1;B=this.rp().id;A=this.Ka.bZ(B,x);if(z){if(!A.Gmc)return (this.Vc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + B)),!1);if(void 0 !== A.PAa)return (!1,A.PAa === x);this.Ka.Bl(B,x,!1,z);return !0;}if(void 0 !== A.PAa)return (!1,!1);A.dX && (this.Lb.reset(),this.Ka.Bl(B,x,!1,z),this.Lb.resume(),this.uf.set(l.Ma.ce),this.rM(this.Og));return !!A.dX;};d.prototype.Bl=function(x,z,B,A){this.debug.assert(this.Ka,"has access to asePlaygraph");!1;this.Ka.Bl(x,z,B,A);};d.prototype.uo=function(){var x;this.debug.assert(this.Vc,"has access to internalLogger");!1;x=this.Tj.Pc;!1;this.Tj.emit("skipped",{type:"skipped",pts:x});return new l.lN(Promise.resolve()).klb;};d.prototype.Saa=function(x,z){var B;return null === (B=this.Ka) || void 0 === B?void 0:B.Saa(x,z);};d.prototype.qua=function(x){var z,B,A,C,D,E,G,F;this.debug.assert(this.Ka,"has access to asePlaygraph");this.debug.assert(this.Vc,"has access to internalLogger");!1;z=this.Ka.na;B=[];A=Infinity;for(C in z.T){D=z.T[C];E=D.Ba;D=D.Aa;G=x < Number(null !== D && void 0 !== D?D:Infinity);if(E <= x && G)(!1,B.push(C));else if((E=Math.min(Math.abs(x - E),Math.abs(x - D)),E < A)){A=E;F=C;}}x=B[0] || F;this.debug.T8(x,"has access to locatedSegmentId");!1;return x;};d.prototype.Y4b=function(){var x,z;x=this;this.debug.assert(this.j.$b,"has access to mediaElement");z=this.j.$b.ea;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.uf.value === l.Ma.ej && (x.uf.set(l.Ma.Xc),x.Tj.emit("playing",{type:"playing",pts:x.Tj.Pc}));});z.addEventListener("pause",function(){x.uf.value === l.Ma.Xc && (x.uf.set(l.Ma.ej),x.Tj.emit("paused",{type:"paused",pts:x.Tj.Pc}));});};d.prototype.fail=function(x){var z;null === (z=this.Ka) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};d.prototype.rM=function(x){var z,B,A,C,D,E,G,F;z=this;if(x !== this.fpb && this.zGa)(!1,this.shb=x);else {F=null === (B=this.Lb) || void 0 === B?void 0:B.pu.value;B=null === (A=this.Ka) || void 0 === A?void 0:A.Pg.value;A=!0 === F;F=B === l.cd.Bm;!1;null === (C=this.Lb) || void 0 === C?void 0:C.pu.removeListener(this.qfb);null === (D=this.Ka) || void 0 === D?void 0:D.Pg.removeListener(this.d2a);A && F?x():(this.qfb=function(){return z.rM(x);},this.d2a=function(){return z.rM(x);},null === (E=this.Lb) || void 0 === E?void 0:E.pu.addListener(this.qfb),null === (G=this.Ka) || void 0 === G?void 0:G.Pg.addListener(this.d2a));}};d.prototype.E8a=function(x){var z,B;z=this;x=this.j.Sm(x);return Promise.resolve(null !== (B=x.ba) && void 0 !== B?B:this.hfa(x)).then(function(A){A=A.Ra;return {ba:A,Tl:A.tba && !A.zF,config:z.te,ag:[].concat(ia(z.ag))};});};d.prototype.hfa=function(x){var z,B,A,C,D;z=this;!1;A=Promise.resolve();if(x.ih){C=x.ih.Cg;(D=null === (B=this.j.Sm(C).ba) || void 0 === B?void 0:B.Ra)?x.ih.B0=D:A=this.Mh.fs(C).Xu.then(function(E){return E.ba;}).then(function(E){x.ih.B0=E;}).catch(function(){return z.j.Vd(c.aa.QM,c.Y.Yrb);});}return A.then(function(){return z.j.hfa(x);}).then(function(){return x.ba;});};d.prototype.ry=function(x,z,B){var A,C,D,E,G,F,K,O,L,I;A=this;this.debug.assert(this.wj,"has access to streamingEngine");!1;K={N:x,Cg:null === (C=null === z || void 0 === z?void 0:z.gi) || void 0 === C?void 0:C.Cg,Td:null === (D=null === z || void 0 === z?void 0:z.gi) || void 0 === D?void 0:D.Td};if(!this.Mh.has(K)){!this.j.Twa(x) && (null === (E=null === z || void 0 === z?void 0:z.gi) || void 0 === E?0:E.Cg) && this.j.Twa(null === (G=null === z || void 0 === z?void 0:z.gi) || void 0 === G?void 0:G.Cg) && (C=this.j.Sm(null === (F=z.gi) || void 0 === F?void 0:F.Cg),this.j.msa(x,z,C.sa));this.j.Twa(x) && (O=this.j.Sm(x));L=B?B.sa:O?O.sa:void 0;F=B?B.Fp:O?O.sg:void 0;this.Mh.store(K,{B2a:function(){},equals:function(M){return M && M.N === K.N && (L === M.sa || !M.sa || !L);},get Xu() {I || (I=A.E8a(x));return I;},set Xu(M) {I=M;},events:new h.EventEmitter(),sa:L,N:K.N,Uv:!1,cGa:!1});this.te.aF && this.wj.ML(this.Mh.fs(K.N,z),{sa:L,Fp:F,UX:null === B || void 0 === B?void 0:B.uy});}};d.prototype.nM=function(x){var z,B,A;this.debug.assert(this.wj,"has access to streamingEngine");!1;z=this.j.Lj(x);B=z.ih;z={N:z.L,Cg:null === B || void 0 === B?void 0:B.Cg,Td:null === B || void 0 === B?void 0:B.Td};x=this.zb.Be(x).N;if(!this.Mh.has(z))return Promise.resolve();B && (A={gi:{Td:null === B || void 0 === B?void 0:B.Td,Cg:B.Cg}});B=this.Mh.fs(x,A);B.Xu=this.E8a(x);return this.wj.nM(B);};d.prototype.bZ=function(x){var z;this.debug.assert(this.Lb,"has access to asePlayer");this.debug.assert(this.Ka,"has access to asePlaygraph");return this.Ka.bZ(null === (z=this.Lb.rp().G) || void 0 === z?void 0:z.id,x);};d.prototype.oF=function(x){var z;x=null === (z=this.Ka) || void 0 === z?void 0:z.oF(x);!1;return x;};d.prototype.p2b=function(x){var z,B;z=x.P4a;B=x.S;this.debug.assert(this.wj,"has access to streamingEngine");this.debug.assert(this.Vc,"has access to internalLogger");!1;x=this.j.Lj(B);x=this.zb.$aa(x);B=x.T[B];this.debug.assert(B,"segment exists");this.wz=(0,q.V$a)(B.N,x,this.j.ca,B.Ba);z=Object.create(this.te,{uy:{value:z.uy},Ata:{value:this.j.background.value}});this.uf=new t.ac(l.Ma.ai);this.Ka=this.wj.GW(x,this.te.Xac,z,this.Mh);this.iT=new l.nN(this.Vc);z=this.Ka.oJ(this.iT);x=this.Ka.nJ();this.Ka.dFa(x,z);this.YC();this.cL=!1;};d.prototype.aP=function(){var x,z;x=this;this.debug.assert(this.wj,"has access to streamingEngine");!1;z=Object.create(this.te,{ag:{value:[].concat(ia(this.ag))},Sva:{value:function(){return x.oZb();}}});this.Tj=Object.create(new h.EventEmitter(),{Pc:{get:function(){x.debug.S8(x.j.mediaTime.value,"has access to mediaTime.value");return l.O.Na(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},Qva:{value:function(){x.debug.assert(x.j.$b,"has access to mediaElement");return x.j.$b;}}});this.Lb=this.wj.hHb(this.Tj,z);};d.prototype.oZb=function(){this.Tq || (this.Tq=new l.platform.MediaSource(this.Tj),this.Tq.Yc || (this.Tq.Yc=l.platform.MediaSource.Yc));return this.Tq;};Va.Object.defineProperties(d.prototype,{zGa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.gW && void 0 !== this.hW;}},Bc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.wj,"has access to streamingEngine");return this.wj.Bc;}},mk:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.Ka) || void 0 === x?void 0:x.mk;null === z || void 0 === z?0:z.mk;){z=z.mk;}return null === z || void 0 === z?void 0:z.na;}},x3a:{configurable:!0,enumerable:!0,get:function(){for(var x=this.Lb;null === x || void 0 === x?0:x.MZ;){x=x.MZ;}return x;}},$Pb:{configurable:!0,enumerable:!0,get:function(){var x,z,B;if(null === (x=this.x3a) || void 0 === x?0:x.tf){B=(x=this.x3a.Ni) && (null === (z=this.mk) || void 0 === z?void 0:z.T[x.S]);if(B)return {Ht:l.O.Na(x.offset.Z + B.Ba),N:B.N};}}}});b.GIa=d;},function(r,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.U8=void 0;d=a(15);b.U8=function(l){var h,n,c,f;h=l.Bk;n=l.loadTime;l=l.Xta;c=(0,d.Pa)(n)?n:0;f=h[l.target] || ({});h[l.target] !== f && (h[l.target]=f);Object.entries(l.fields).forEach(function(g){var k,m,p,q;k=oa(g);g=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)f[g]=k;else {m=k.type;if("count" === m)(void 0 === f[g] && (f[g]=0),++f[g]);else if(void 0 !== k.value){if("array" === m){m=f[g];p=k.adjust;q=k.value;m || (m=f[g]=[]);p && 0 < p.length && p.forEach(function(v){q[v]-=c || 0;});m.push(q);}else f[g]="sum" === m?(f[g] || 0) + k.value:k.value;}else f[g]=k;}});};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.V$a=void 0;d=a(66);l=a(22);b.V$a=function(h,n,c,f){return n.T[n.ke].Ba === f?(h=(0,d.xX)(n,h,d.O.Na(c)),(0,l.wa)(h,"has valid start position relative to playgraph"),h):{S:n.ke,offset:d.O.Oa};};},function(r,b,a){var l,h,n,c,f,g,k;function d(m,p,q,v,t,w,u,y,x,z){var B;B=this;this.Ukc=m;this.j=p;this.id=q;this.height=v;this.width=t;this.xac=w;this.yac=u;this.size=y;this.lw=x;this.urls=z;this.type=l.Aj.FGa;this.retry=!0;this.state=f.xr.t5;this.Ih={};this.W8={};this.scc=function(A){if(A.ja)try{B.data=B.Ukc.parse(A.content);B.state=f.xr.yH;B.log.trace("TrickPlay parsed",{Images:B.data.images.length},B.Ih);B.j.fireEvent(g.ka.E2);}catch(C){B.state=f.xr.CRa;B.log.error("TrickPlay parse failed.",C);}else (B.state=f.xr.t5,B.log.error("TrickPlay download failed.",(0,k.Zz)(A),B.Ih));};this.log=(0,n.nj)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.BWa=void 0;l=a(95);h=a(19);n=a(10);c=a(107);f=a(564);g=a(16);k=a(4);d.prototype.fYb=function(m){if(this.data && (this.lw && (m+=this.lw),m=Math.floor(m / this.data.header.Sob),0 <= m && m < this.data.images.length))return {image:this.data.images[m],time:m * this.data.header.Sob,height:this.height,width:this.width,pixelAspectHeight:this.xac,pixelAspectWidth:this.yac};};d.prototype.eQ=function(){switch(this.state){case f.xr.yH:return "downloaded";case f.xr.LOADING:return "loading";case f.xr.lU:return "downloadfailed";case f.xr.CRa:return "parsefailed";default:return "notstarted";}};d.prototype.download=function(){var m;m=this.M_b();m?(this.state=f.xr.LOADING,this.bSb(m)):this.retry=!1;};d.prototype.getState=function(){return this.state;};d.prototype.M_b=function(){var m,p,q;m=this;p=Object.keys(this.urls).find(function(v){return (m.W8[m.urls[v]] || 0) <= h.config.Qkc;});if(p){q=this.urls[p];(q in this.W8)?this.W8[q]++:this.W8[q]=1;return {url:q,Xo:p};}};d.prototype.bSb=function(m){var p,q;this.log.trace("Downloading",m.url,this.Ih);q=this.Daa(m.Xo);m={responseType:c.AZ,Dc:q,url:m.url,track:this,Gu:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",VE:"trickplay"};this.j.Iba.download(m,this.scc);};d.prototype.Daa=function(m){return this.j.zh.find(function(p){return p && p.id === m;});};b.BWa=d;},function(r,b,a){var l;function d(h,n,c,f){this.Ysa=h;this.debug=n;this.Ia=c;this.j=f;this.xea=[];this.Gda={};this.$sa={};this.wua=!1;this.tob=1;this.eJa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;l=a(5);a(16);a(15);a(107);d.prototype.register=function(h,n){this.debug.assert(!(0 <= this.xea.indexOf(h)),"panel already registered");this.Gda[h]=n;this.xea.push(h);};d.prototype.Ugb=function(h){var n;n=this;this.$sa[h]=!0;this.wua || (this.wua=!0,setTimeout(function(){return n.AVb();},0));};d.prototype.VYb=function(h){return (h=this.Gda[h])?h():void 0;};d.prototype.XY=function(){var h;h=this.j.Hea;return h?h.XY():[];};d.prototype.addEventListener=function(h,n){this.Ysa.addListener(h,n);this.Gda[h] && this.Ugb(h);};d.prototype.removeEventListener=function(h,n){this.Ysa.removeListener(h,n);};d.prototype.getTime=function(){return this.Ia.Qb().ia(l.va);};d.prototype.AVb=function(){this.wua=!1;for(var h=this.xea.length,n;h--;){n=this.xea[h];this.$sa[n] && (this.$sa[n]=!1,this.Ysa.Zc(n + "changed",{getModel:this.Gda[n]}));}};b.lLa=d;},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q){var v;v=this;this.jo=p;this.aw=q;this.epb=function(t){var w,u,y,x,z,B,A;w=v.tob++;u=t.request.VE || "dl";y=v.iab(u,"start");if(y){x=t.request.rC;z=x.stream.P.Xq;x=oa(x.stream.P.Ji).next().value;if(z || x)if((z=null !== z && void 0 !== z?z:x.G.id,!v.Dnb.has(z))){B=v.A$a(z);A=t.Au;v.jo.mark(y,B,A?u + "-" + A + "-" + w:u);t.q8(function(){var C,D;C=v.iab(u,"end");D=A?u + "-" + A + "-" + w:u;C && v.jo.mark(C,B,D);});}}};this.tob=0;this.Dnb=new Set();this.DEa=new Map();q.iY && this.ync();}Object.defineProperty(b,"__esModule",{value:!0});b.PQa=void 0;r=a(0);l=a(1);h=a(56);n=a(86);c=a(5);f=a(107);g=a(39);k=a(254);m={start:{video:h.Ua.LT,audio:h.Ua.HT},end:{video:h.Ua.KT,audio:h.Ua.GT}};d.prototype.B$a=function(p){var v,t,w,u,y,x,z,B;function q(A){return (0,c.timestamp)(v.y0a((0,c.timestamp)(A),p,!0));}v=this;t=new Set();w=p.Bd;u=p.sa;y=void 0 === p.xnb?null:p.xnb;x=p.S;z=this.jo.g$a(u);B=x && this.A$a(x);B && z.push.apply(z,ia(this.jo.g$a(B)));this.jo.xkb(p.sa);B && this.jo.xkb(B);x && this.Dnb.add(x);x=[];("pr_ats" in w) && x.push({name:h.Ua.N5,Ou:q(w.pr_ats),sa:u,sg:"request-pre-manifest"});("ats" in w) && x.push({name:h.Ua.L5,Ou:q(w.ats),sa:u,sg:"request-manifest"});("pr_at" in w) && x.push({name:h.Ua.M5,Ou:q(w.pr_at),sa:u,sg:"request-pre-manifest"});("at" in w) && x.push({name:h.Ua.K5,Ou:q(w.at),sa:u,sg:"request-manifest"});("lg" in w) && x.push({name:h.Ua.J5,Ou:q(w.lg),sa:u,sg:"request-license"});("lr" in w) && (x.push({name:h.Ua.I5,Ou:q(w.lr),sa:u,sg:"request-license"}),x.push({name:h.Ua.p3,Ou:q(w.lr),sa:u,sg:"apply-license"}));("ld" in w) && x.push({name:h.Ua.o3,Ou:q(w.ld),sa:u,sg:"apply-license"});("tt_start" in w) && x.push({name:h.Ua.JT,Ou:q(w.tt_start),sa:u,sg:"request-timed-text"});("tt_comp" in w) && x.push({name:h.Ua.IT,Ou:q(w.tt_comp),sa:u,sg:"request-timed-text"});return x.concat(z).map(function(A){return v.okc(A,p);}).filter(function(A){return A.ts <= (null !== y && void 0 !== y?y:A.ts)?("end" === A.step && t.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || t.has(A.eventId)?!0:!1;}).sort(function(A,C){return A.ts - C.ts;}).reduce(function(A,C){var D;D=C.eventName;delete C.eventName;D && (A[D]=C);return A;},{});};d.prototype.BHb=function(p,q,v){return (void 0 === v?0:v)?p.ia(c.va) + q.rj.ia(c.va):p.ia(c.va) - q.rj.ia(c.va);};d.prototype.y0a=function(p,q,v){v=void 0 === v?!1:v;if(q.Ao)if(v)p.ia(c.va) + q.Ao;else return p.ia(c.va) - q.Ao;return this.BHb(p,q,v);};d.prototype.okc=function(p,q){var v,t;v=p.sg;t=p.name;return {eventName:this.t8b(t,v),eventId:v || t,ts:this.y0a(p.Ou,q),comp:this.QY(t),cat:this.mXb(t),step:this.p_b(t)};};d.prototype.t8b=function(p,q){switch(p){case h.Ua.JT:case h.Ua.IT:case h.Ua.HT:case h.Ua.GT:case h.Ua.LT:case h.Ua.KT:return p + "-" + q;default:return p;}};d.prototype.QY=function(p){switch(p){case h.Ua.N5:case h.Ua.M5:case h.Ua.L5:case h.Ua.K5:return "manifest";case h.Ua.J5:case h.Ua.I5:case h.Ua.Ula:case h.Ua.Tla:case h.Ua.i4:case h.Ua.h4:case h.Ua.p3:case h.Ua.o3:return "license";case h.Ua.JT:case h.Ua.IT:case h.Ua.HT:case h.Ua.GT:case h.Ua.LT:case h.Ua.KT:case h.Ua.$ha:case h.Ua.Zha:return "buffering";case h.Ua.Yka:case h.Ua.Xka:return "playback";default:return (0,k.qY)(p);}};d.prototype.mXb=function(p){switch(p){case h.Ua.N5:case h.Ua.M5:case h.Ua.L5:case h.Ua.K5:return "aws";case h.Ua.J5:case h.Ua.I5:return "mixed";case h.Ua.Yka:case h.Ua.Xka:case h.Ua.Ula:case h.Ua.Tla:case h.Ua.i4:case h.Ua.h4:case h.Ua.p3:case h.Ua.o3:case h.Ua.$ha:case h.Ua.Zha:return "device";case h.Ua.JT:case h.Ua.IT:case h.Ua.HT:case h.Ua.GT:case h.Ua.LT:case h.Ua.KT:return "cdn";default:return (0,k.qY)(p);}};d.prototype.p_b=function(p){switch(p){case h.Ua.N5:case h.Ua.Yka:case h.Ua.L5:case h.Ua.J5:case h.Ua.$ha:case h.Ua.JT:case h.Ua.HT:case h.Ua.LT:case h.Ua.Ula:case h.Ua.i4:case h.Ua.p3:return "start";case h.Ua.M5:case h.Ua.Xka:case h.Ua.K5:case h.Ua.I5:case h.Ua.Tla:case h.Ua.h4:case h.Ua.o3:case h.Ua.Zha:case h.Ua.IT:case h.Ua.GT:case h.Ua.KT:return "end";default:return (0,k.qY)(p);}};d.prototype.iab=function(p,q){if((p in m[q]))return m[q][p];};d.prototype.slc=function(){f.Ef.removeEventListener(f.Hba,this.epb);};d.prototype.ync=function(){this.slc();f.Ef.addEventListener(f.Hba,this.epb);};d.prototype.A$a=function(p){var q;if(this.DEa.has(p))return this.DEa.get(p);q=Date.now();this.DEa.set(p,q);return q;};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.AU)),r.__param(1,(0,l.l)(g.Qp))],a);b.PQa=a;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E,G,F,K,O,L,I,M,H,J,N,P,X,V,S;Object.defineProperty(b,"__esModule",{value:!0});b.z3a=void 0;r=a(1);d=a(525);l=a(1400);h=a(102);n=a(1401);c=a(537);f=a(1402);g=a(542);k=a(1403);m=a(543);p=a(1404);q=a(295);v=a(1405);t=a(89);w=a(1406);u=a(1407);y=a(36);x=a(4);z=a(1408);B=a(1409);A=a(1410);C=a(51);D=a(1411);E=a(593);G=a(1412);F=a(522);K=a(1413);O=a(1414);L=a(1415);I=a(377);M=a(1416);H=a(85);J=a(592);N=a(1417);P=a(1418);X=a(1419);V=a(311);S=a(1420);b.z3a=new r.Kd(function(U){U(C.wn).to(D.iSa);U(d.xSa).to(l.wSa);U(E.dSa).to(G.cSa);U(F.fSa).to(K.eSa);U(h.ila).to(n.ySa);U(J.zSa).Te(function(ha){return function(){var qa;qa=ha.xb.get(H.mA);return qa && qa.Cqb?ha.xb.resolve(P.SSa):ha.xb.resolve(N.ASa);};});U(c.bSa).to(f.aSa);U(g.PSa).to(k.OSa);U(m.rSa).to(p.qSa);U(q.hla).to(v.sSa);U(t.KVa).to(w.JVa);U(t.RVa).to(u.QVa);U(t.FOa).to(z.EOa);U(t.FVa).to(B.EVa);U(t.fMa).to(A.eMa);U(L.Kyb).to(O.BSa);U(I.pSa).to(M.oSa);U(V.hia).to(X.WHa);U(V.gia).to(S.QHa);U(t.Aja).Te(function(ha){return function(qa){switch(qa){case t.qr.start:return ha.xb.get(t.KVa);case t.qr.stop:return ha.xb.get(t.RVa);case t.qr.c_:return ha.xb.get(t.FOa);case t.qr.splice:return ha.xb.get(t.FVa);case t.qr.zP:return ha.xb.get(t.fMa);}throw new y.rd(x.aa.Wxb,void 0,void 0,void 0,void 0,"The event key was invalid - " + qa);};});});},function(r,b,a){var l,h,n,c,f;function d(g){return c.Gi.call(this,g,h.aa.Hwb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wSa=void 0;r=a(0);l=a(1);h=a(4);n=a(67);c=a(72);a=a(51);la(d,c.Gi);d.prototype.Xf=function(g,k){var m;m=this;return this.send(g,{url:"/" + n.Oh.vza,name:n.Oh.vza,ul:n.Oh.vza},k).then(function(p){return p.result;}).catch(function(p){throw m.Zn(p);});};d.prototype.Cq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.wSa=f;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v;function d(t,w,u,y,x){t=c.Gi.call(this,t,h.aa.QM,3) || this;t.platform=w;t.C_=u;t.E4b=y;t.e6b=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.ySa=void 0;r=a(0);l=a(102);h=a(4);n=a(67);a(139);c=a(72);f=a(51);g=a(45);k=a(39);m=a(138);p=a(295);q=a(1);a=a(592);la(d,c.Gi);d.prototype.TZb=function(t,w){var u,y;y=w?n.Oh.F4b:n.Oh.ba;w=w?"licensedManifest":"manifest";t.Zv === l.Io.$M && (w="prefetch/" + w);"live" === t.jb.me && (w+="/live");if(null === (u=t.ih) || void 0 === u?0:u.Jm)w+="/adBreakHydration";return {ul:w,tMb:y};};d.prototype.Xf=function(t,w){var u,y;u=this;y=w.Zv === l.Io.X5?k.vx.cUa:k.vx.NU;return this.e6b().transform(w,y).then(function(x){var z,B;z=oa(x);x=z.next().value;B=z.next().value;!1;z=u.TZb(w,"licensedManifest" === B.$o);return u.send(t,{url:B.$o,name:z.tMb,ul:z.ul},x,void 0,void 0,y).then(function(A){var C;A=u.C_.create(A.result);C=A.Ra;B.GB && (C=C.gx.map(function(D){return D.oi;}).filter(Boolean),0 < C.length?(C=u.E4b.jpb(C),B.GB.f0a(C),A.GB=B.GB,A.gya=w.Zv === l.Io.$M,A.fya=!0):B.GB.close());A.QW=B.QW;A.X2=B.X2;!1;return A;});}).catch(function(x){!1;throw u.Zn(x);});};d.prototype.Cq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};v=d;v=r.__decorate([(0,q.$)(),r.__param(0,(0,q.l)(f.wn)),r.__param(1,(0,q.l)(g.Vp)),r.__param(2,(0,q.l)(m.SM)),r.__param(3,(0,q.l)(p.hla)),r.__param(4,(0,q.l)(a.zSa))],v);b.ySa=v;},function(r,b,a){var l,h,n,c,f;function d(g){return c.Gi.call(this,g,h.aa.NM,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aSa=void 0;r=a(0);l=a(1);h=a(4);n=a(67);c=a(72);a=a(51);la(d,c.Gi);d.prototype.Xf=function(){return Promise.reject(Error("Links are required with acquire command"));};d.prototype.dba=function(g){var k;k="ldl" === g.Rdb?"prefetch/license":"license";"LIVE" === g.qh && (k+="/live");return k;};d.prototype.Cq=function(g,k,m){var p;p=this;k={url:k.XP(m.Rdb).href,name:n.Oh.oi,ul:this.dba(m)};return this.send(g,k,m.inputs,"drmSessionId").then(function(q){q=q.result;p.qLb(q);return q;}).catch(function(q){throw p.Zn(q);});};d.prototype.qLb=function(g){g.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.aSa=f;},function(r,b,a){var l,h,n,c,f;function d(g){return c.Gi.call(this,g,h.aa.Ola,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OSa=void 0;r=a(0);l=a(1);h=a(4);n=a(67);c=a(72);a=a(51);la(d,c.Gi);d.prototype.Xf=function(g,k){var m;m=this;return this.send(g,{url:"/bundle",name:n.Oh.oi,ul:"release/license"},k).then(function(p){return p.result;}).catch(function(p){throw m.Zn(p);});};d.prototype.Cq=function(){return Promise.reject(Error("Links are unsupported with release"));};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.OSa=f;},function(r,b,a){var l,h,n,c,f;function d(g,k,m){this.za=g;this.platform=k;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.qSa=void 0;r=a(0);l=a(1);h=a(27);n=a(5);c=a(45);a=a(12);d.prototype.Ikc=function(g){var k,m;k=this;m=this.za.rf.ia(n.Jo);return {inputs:g.fl.map(function(p){var q,v,t,w,u;return {drmSessionId:p.sessionId,clientTime:m,challengeBase64:p.dataBase64,xid:g.sa.toString(),clientVersion:k.platform.version,platform:null === (q=k.config().Hd) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (v=k.config().Hd) || void 0 === v?void 0:v.os) || void 0 === t?void 0:t.version,osName:null === (u=null === (w=k.config().Hd) || void 0 === w?void 0:w.os) || void 0 === u?void 0:u.name};}),Rdb:"standard" === g.yg.toLowerCase()?"license":"ldl",qh:g.qh};};d.prototype.Lkc=function(g){var k,m;k=this;m=[];return g.cf.map(function(p){m.push(p.id);return {url:k.ZJb(p.EK,p.n_),echo:"drmSessionId",params:{drmSessionId:p.id,xid:g.sa.toString()}};});};d.prototype.ZJb=function(g,k){return "/releaseLicense?drmLicenseContextId=" + g + (k?"&licenseId=" + k:"");};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.Nh)),r.__param(1,(0,l.l)(c.Vp)),r.__param(2,(0,l.l)(a.uc))],f);b.qSa=f;},function(r,b,a){var l,h,n;function d(c,f){this.bj=c;this.BE=f;}Object.defineProperty(b,"__esModule",{value:!0});b.sSa=void 0;r=a(0);l=a(1);h=a(32);a=a(30);d.prototype.jpb=function(c){var f,g;f=this;g=c.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return f.bj.C0(k.substring(k.indexOf("?") + 1));});return {ja:!0,cf:c.map(function(k,m){return {id:k.drmSessionId,EK:g[m].drmlicensecontextid,n_:g[m].licenseid};}),yk:c.map(function(k){return {data:f.BE.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};n=d;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.Ii)),r.__param(1,(0,l.l)(a.Fi))],n);b.sSa=n;},function(r,b,a){var l,h,n,c,f;function d(g){return n.Ts.call(this,g,h.aa.uzb,c.qr.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.JVa=void 0;r=a(0);l=a(1);h=a(4);n=a(169);c=a(89);a=a(51);la(d,n.Ts);f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.JVa=f;},function(r,b,a){var l,h,n,c,f;function d(g){return n.Ts.call(this,g,h.aa.vzb,c.qr.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QVa=void 0;r=a(0);l=a(1);h=a(4);n=a(169);c=a(89);a=a(51);la(d,n.Ts);f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.QVa=f;},function(r,b,a){var l,h,n,c,f;function d(g){return n.Ts.call(this,g,h.aa.cka,c.qr.c_,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.EOa=void 0;r=a(0);l=a(1);h=a(4);n=a(169);c=a(89);a=a(51);la(d,n.Ts);f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.EOa=f;},function(r,b,a){var l,h,n,c,f;function d(g){return n.Ts.call(this,g,h.aa.WUa,c.qr.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.EVa=void 0;r=a(0);l=a(1);h=a(4);n=a(169);c=a(89);a=a(51);la(d,n.Ts);f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.EVa=f;},function(r,b,a){var l,h,n,c,f;function d(g){return n.Ts.call(this,g,h.aa.ivb,c.qr.zP,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eMa=void 0;r=a(0);l=a(1);h=a(4);n=a(169);c=a(89);a=a(51);la(d,n.Ts);d.prototype.GE=function(g){return Object.assign(Object.assign({},n.Ts.prototype.GE.call(this,g)),{action:g.action});};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.eMa=f;},function(r,b,a){var l,h,n,c,f,g,k,m,p;function d(q,v,t,w,u,y,x,z,B){this.Li=q;this.Ef=v;this.ti=t;this.PRb=w;this.WB=u;this.mmc=y;this.Aec=z;this.wJ=B;}Object.defineProperty(b,"__esModule",{value:!0});b.iSa=void 0;r=a(0);l=a(1);h=a(176);n=a(85);c=a(562);f=a(559);g=a(87);k=a(65);m=a(365);p=a(112);a=a(96);d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.u3)),r.__param(1,(0,l.l)(k.sx)),r.__param(2,(0,l.l)(n.mA)),r.__param(3,(0,l.l)(f.lSa)),r.__param(4,(0,l.l)(g.aA)),r.__param(5,(0,l.l)(m.NWa)),r.__param(6,(0,l.l)(p.W3)),r.__param(7,(0,l.l)(c.RSa)),r.__param(8,(0,l.l)(a.Vz))],d);b.iSa=d;},function(r,b,a){var l,h,n,c,f;function d(g){return c.Gi.call(this,g,h.aa.ssb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.cSa=void 0;r=a(0);l=a(1);h=a(4);n=a(67);c=a(72);a=a(51);la(d,c.Gi);d.prototype.Xf=function(g,k,m){var p;p=this;return this.send(g,{url:"/" + n.Oh.bind,name:n.Oh.bind,ul:n.Oh.bind},k,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Zn(q);});};d.prototype.Cq=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.cSa=f;},function(r,b,a){var l,h,n,c,f;function d(g){return c.Gi.call(this,g,h.aa.tsb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eSa=void 0;r=a(0);l=a(1);h=a(4);n=a(67);c=a(72);a=a(51);la(d,c.Gi);d.prototype.Xf=function(g,k,m){var p;p=this;return this.send(g,{url:"/bindDevice",name:n.Oh.bind,ul:n.Oh.bind},k,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Zn(q);});};d.prototype.Cq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.eSa=f;},function(r,b,a){var l,h,n,c,f;function d(g){return c.Gi.call(this,g,h.aa.kyb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BSa=void 0;r=a(0);l=a(1);h=a(4);n=a(67);c=a(72);a=a(51);la(d,c.Gi);d.prototype.Xf=function(g,k,m){var p;p=this;return this.send(g,{url:"/" + n.Oh.ping,name:n.Oh.ping,ul:n.Oh.ping},k,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Zn(q);});};d.prototype.Cq=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.BSa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kyb="PboPingCommandSymbol";},function(r,b,a){var l,h,n,c,f;function d(g){return c.Gi.call(this,g,h.aa.xvb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oSa=void 0;r=a(0);l=a(1);h=a(4);n=a(67);c=a(72);a=a(51);la(d,c.Gi);d.prototype.Xf=function(g,k){var m;m=this;return this.send(g,{url:"/generateScreenshots",name:n.Oh.ba,ul:"generateScreenshots"},k).then(function(p){return p.result;}).catch(function(p){throw m.Zn(p);});};d.prototype.Cq=function(g,k,m){var p;p=this;k={url:k.XP("generateScreenshots").href,name:n.Oh.ba,ul:"generateScreenshots"};return this.send(g,k,m).then(function(q){return q.result;}).catch(function(q){throw p.Zn(q);});};f=d;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wn))],f);b.oSa=f;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w,u,y;function d(x,z,B,A,C,D,E,G,F,K){this.ti=x;this.platform=z;this.config=B;this.YKb=A;this.Iac=C;this.Sq=D;this.jX=E;this.za=G;this.mda=F;this.gp=K;}Object.defineProperty(b,"__esModule",{value:!0});b.ASa=void 0;r=a(0);l=a(1);h=a(102);n=a(12);c=a(505);f=a(503);g=a(591);k=a(100);m=a(45);p=a(27);q=a(5);v=a(174);t=a(85);w=a(367);u=a(26);y=a(57);d.prototype.transform=function(x,z){var B,A,C,D,E,G,F,K;B=this;A=x.jb;C=Object.assign({},A.d9,A.ro);D={};E=x.N;G=this.config();D[E]={unletterboxed:!!C.preferUnletterboxed || G.tbc};F=G.vmc?30:25;G=G.Vu?this.Sq.TXb():Promise.resolve(this.mda.ew());K={me:null === A || void 0 === A?void 0:A.me};return Promise.all([this.gp.bab(K),this.gp.dab(K),this.gp.eZ(),this.gp.Zaa(),this.nXb(x.sa,z),this.VXb(x),G]).then(function(O){var L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa,Aa,Oa,T;L=oa(O);I=L.next().value;M=L.next().value;H=L.next().value;J=L.next().value;N=L.next().value;O=L.next().value;P=L.next().value;L=I.gba().concat(M.gba()).concat(B.config().ax).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;T="postplay" === A.me?!0:!!C.isUIAutoPlay;H={type:"standard",manifestVersion:B.ti.R6a?"v2":"v1",viewableId:E,profiles:L,flavor:x.Zv,drmType:P,drmVersion:F,usePsshBox:!0,isBranching:!!x.jb.Gh,useHttpsStreams:!0,supportsUnequalizedDownloadables:B.config().zjc,imageSubtitleHeight:c.jma.I$a(),uiVersion:B.ti.Dz,uiPlatform:B.ti.oha,clientVersion:B.platform.version,platform:null === (X=B.config().Hd) || void 0 === X?void 0:X.version,osVersion:null === (S=null === (V=B.config().Hd) || void 0 === V?void 0:V.os) || void 0 === S?void 0:S.version,osName:null === (ha=null === (U=B.config().Hd) || void 0 === U?void 0:U.os) || void 0 === ha?void 0:ha.name,supportsPreReleasePin:B.config().Xr.tjc,supportsWatermark:B.config().Xr.ujc,packageId:B.sZb(A),deviceSecurityLevel:J,videoOutputInfo:H,titleSpecificData:D,preferAssistiveAudio:!!C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:T,challenge:N,isNonMember:B.ti.Acb,pin:A.pib,desiredVmaf:B.config().vqb?B.config().F5a:B.config().G5a,desiredSegmentVmaf:B.config().vqb?B.config().F5a:B.config().G5a,requestSegmentVmaf:B.config().Gec,supportsPartialHydration:B.ti.xP,contentPlaygraph:x.jb.Gh?[]:B.ti.mJ,supportsAdBreakHydration:x.jb.Gh?!1:B.ti.Tga,auxiliaryManifestToken:x.jb.Gh?void 0:null === (qa=x.ih) || void 0 === qa?void 0:qa.Td,adBreakToken:x.jb.Gh?void 0:null === (xa=x.ih) || void 0 === xa?void 0:xa.Jm,originalPlaybackContextId:!x.jb.Gh && (null === (Aa=x.ih) || void 0 === Aa?0:Aa.Td)?null === (Oa=x.ih) || void 0 === Oa?void 0:Oa.sea:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};A.l7a && (H.extraParams=A.l7a);A.E5a && (H.desiredDownloadables=A.E5a);A.MDa && (H.requestReference=A.MDa);X={$o:H.adBreakToken?"adBreakHydration":O?"licensedManifest":"manifest",GB:null === O || void 0 === O?void 0:O.oc,QW:I,X2:M};O && (O={drmSessionId:O.oc.OB() || "session",clientTime:B.za.HL.ia(q.Jo),challengeBase64:O.hra},H.challenges={"default":[O]},H.profileGroups=[{name:"default",profiles:L}],H.licenseType=x.yg == y.dj.Rp?"limited":"standard",x.sa && (H.xid=x.sa.toString()));B.ti.xP || (H.showAllSubDubTracks=B.config().Xr.Mhc || !!C.showAllSubDubTracks,B.ti.J6a && x.Zv === h.Io.X5 && (H.maxSupportedLanguages=2));x.D2 && (H.originalPlaybackContextId=x.D2.sea,H.requiredAudioTrackId=x.D2.Kec,H.requiredTextTrackId=x.D2.Nec);return [H,X];});};d.prototype.sZb=function(x){if(this.config().ffa.enabled){if(void 0 !== x.Ep)return x.Ep;if(void 0 !== this.config().ffa.Ep)return Number(this.config().ffa.Ep);}};d.prototype.nXb=function(x,z){var B;B=this;return this.YKb.b9a(z).then(function(A){var C;C=x && B.Iac.yZb(x);C && C.Or("cad");return A;});};d.prototype.VXb=function(x){var z;if(void 0 === x.yg || !this.config().Vu)return Promise.resolve(void 0);z=x.yg === y.dj.Xp && this.ti.py;return x.yg === y.dj.Rp && this.ti.$E || z?this.jX.nwa(x.yg):Promise.resolve(void 0);};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(t.mA)),r.__param(1,(0,l.l)(m.Vp)),r.__param(2,(0,l.l)(n.uc)),r.__param(3,(0,l.l)(f.JJa)),r.__param(4,(0,l.l)(g.yla)),r.__param(5,(0,l.l)(k.eA)),r.__param(6,(0,l.l)(v.F3)),r.__param(7,(0,l.l)(p.Nh)),r.__param(8,(0,l.l)(w.Fka)),r.__param(9,(0,l.l)(u.Uz))],a);b.ASa=a;},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p,q){this.platform=k;this.config=m;this.jX=p;this.gp=q;}Object.defineProperty(b,"__esModule",{value:!0});b.SSa=void 0;r=a(0);l=a(1);h=a(12);n=a(45);c=a(174);f=a(26);g=a(57);d.prototype.transform=function(k){var m,p,q;m=this;p=k.jb;q={me:void 0};return Promise.all([this.gp.bab(q),this.gp.dab(q),this.jX.nwa(g.dj.Xp)]).then(function(v){var t,w;t=oa(v);v=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:k.N,packageId:p.Ep,assetId:p.Ypa,challenge:t.hra,audioProfiles:v.gba(),textProfiles:m.config().ax,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.gba(),audioLanguages:p.MIb,textLanguages:p.Sjc,videoLanguages:p.Rqb?[p.Rqb]:void 0,requestReference:p.MDa,additionalAudioAssets:p.wHb,additionalTextAssets:p.AHb,useBetterTextUrls:!0},{GB:null === t || void 0 === t?void 0:t.oc,$o:"studioManifest",QW:v,X2:w}];});};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.Vp)),r.__param(1,(0,l.l)(h.uc)),r.__param(2,(0,l.l)(c.F3)),r.__param(3,(0,l.l)(f.Uz))],a);b.SSa=a;},function(r,b,a){var l,h,n,c,f;function d(g){return c.Gi.call(this,g,h.aa.IHa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.WHa=void 0;r=a(0);l=a(1);h=a(4);n=a(67);c=a(72);f=a(51);a(139);la(d,c.Gi);d.prototype.Xf=function(g,k){var m,p,q;m=this;p=k.event;q=this.GE(k);!1;!1;return this.send(g,{url:k.href,name:n.Oh.events,ul:n.Oh.events + "/" + p},q).then(function(){return k;}).catch(function(v){throw m.Zn(v);});};d.prototype.Cq=function(){return Promise.reject(Error("Links are unsupported with ad events"));};d.prototype.GE=function(g){return {xid:g.sa,event:g.event,adEventToken:g.dy,adBreakLocationMs:g.JI,position:g.position,clientTime:g.oB,sessionStartTime:g.so,appId:g.appId,sessionId:g.sessionId,playTimes:this.Iqa(g.ez),mainManifestPlaybackContextId:g.S5b,thirdPartyAdVerificationMetadata:g.Vjc};};d.prototype.Iqa=function(g){return {total:g.total,audio:g.audio.map(function(k){return {duration:k.duration,downloadableId:k.Wb,cdnId:k.Xo};}),video:g.video.map(function(k){return {duration:k.duration,downloadableId:k.Wb,cdnId:k.Xo};}),text:g.text.map(function(k){return {duration:k.duration,downloadableId:k.Wb,cdnId:k.Xo};})};};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.wn))],a);b.WHa=a;},function(r,b,a){var l,h,n,c,f;function d(g){return c.Gi.call(this,g,h.aa.IHa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=void 0;r=a(0);l=a(1);h=a(4);n=a(67);c=a(72);f=a(51);a(139);la(d,c.Gi);d.prototype.Xf=function(g,k){var m,p,q;m=this;p=k.event;q=this.GE(k);!1;!1;return this.send(g,{url:k.href,name:n.Oh.events,ul:n.Oh.events + "/" + p},q).then(function(){return k;}).catch(function(v){throw m.Zn(v);});};d.prototype.Cq=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};d.prototype.GE=function(g){return {xid:g.sa,event:g.event,adEventToken:g.dy,adBreakLocationMs:g.JI,position:g.position,clientTime:g.oB,sessionStartTime:g.so,appId:g.appId,sessionId:g.sessionId,playTimes:{}};};a=d;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.wn))],a);b.QHa=a;},function(r,b,a){var d,l,h,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(1);d=a(289);l=a(560);h=a(1422);n=a(1423);c=a(1424);f=a(39);b.transports=new r.Kd(function(g){g(d.k6).to(c.yWa).la();g(l.WQa).to(h.VQa);g(l.HVa).to(n.GVa);g(l.zWa).Te(function(k){return function(m){var p;return k.xb.get(d.k6).tga(null !== (p=null === m || void 0 === m?void 0:m.Z7b) && void 0 !== p?p:f.vx.NU)?k.xb.get(l.WQa):k.xb.get(l.HVa);};});});},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p){var q;q=this;this.eG=m;this.profile=p;this.log=k.eb("MslTransport");this.eG().then(function(v){return q.Ida=v;});}Object.defineProperty(b,"__esModule",{value:!0});b.VQa=void 0;r=a(0);l=a(1);h=a(7);n=a(165);c=a(5);a=a(81);f={license:!0};d.prototype.send=function(k,m){var p,q;p=this;q={HAa:Object.assign({Ef:k.Ef,log:k.log,profile:this.profile},k.zJb),method:k.$o,url:k.url.href,body:JSON.stringify(m),timeout:k.timeout.ia(c.va),Eqb:this.profile,pec:!f[k.$o],Fgb:!!f[k.$o],Pm:!0,Kfa:k.bEa,headers:k.headers};!1;return this.eG().then(function(v){return v.send(q).catch(function(t){var w;if(!t.error)throw (t.xc=t.Da || t.xc,t);w=t.error;w.FG=t.FG;p.log.error("Error sending MSL request",{mslCode:w.uC,subCode:w.xc,data:w.data,message:w.message});throw w;});});};d.prototype.bsa=function(){var k;return {userTokens:null === (k=this.Ida) || void 0 === k?void 0:k.Y_.getUserIdTokenKeys()};};g=d;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.hb)),r.__param(1,(0,l.l)(n.CU)),r.__param(2,(0,l.l)(a.dN))],g);b.VQa=g;},function(r,b,a){var l,h,n,c;function d(f,g){this.Ef=g;this.log=f.eb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.GVa=void 0;r=a(0);l=a(1);h=a(5);n=a(7);a=a(65);d.prototype.send=function(f,g){var k,m;k=this;m={url:f.url.href,VE:"nq-" + f.$o,Sib:JSON.stringify(g),L9:f.timeout.ia(h.va),headers:f.headers,withCredentials:!0,Gu:"pbo"};!1;return new Promise(function(p,q){k.Ef.download(m,function(v){v.ja?p(v):q(v);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.xc=p.Da || p.xc,p);q=p.error;q.FG=p.FG;k.log.error("Error sending SSL request",{subCode:q.xc,data:q.content,message:q.message});throw q;});};d.prototype.bsa=function(){return {};};c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.hb)),r.__param(1,(0,l.l)(a.sx))],c);b.GVa=c;},function(r,b,a){var l,h,n,c,f;function d(g){return h.Lf.call(this,g,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yWa=void 0;r=a(0);l=a(1);h=a(47);n=a(33);c=a(46);f=a(39);la(d,h.Lf);d.prototype.tga=function(g){var k,m;k=this.dT;m=this.E0a;switch(g){case f.vx.NU:return k;case f.vx.cUa:return k && !m;case f.vx.Exb:return !1;}};Va.Object.defineProperties(d.prototype,{dT:{configurable:!0,enumerable:!0,get:function(){return !0;}},E0a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=d;r.__decorate([c.config(c.vd,"usesMsl")],a.prototype,"dT",null);r.__decorate([c.config(c.vd,"allowRequestsWithoutMsl")],a.prototype,"E0a",null);a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.yn))],a);b.yWa=a;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.Wm=void 0;r=a(1);d=a(576);l=a(1426);b.Wm=new r.Kd(function(h){h(d.WOa).to(l.VOa);});},function(r,b,a){var l,h,n,c,f,g,k,m;function d(p,q,v,t,w){this.CJ=p;this.Kj=q;this.config=v;this.XQ=t;this.Jd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.VOa=void 0;r=a(0);l=a(1);h=a(128);n=a(1427);c=a(1428);f=a(62);g=a(12);k=a(145);a=a(120);d.prototype.create=function(p,q,v){return p?new n.XOa(this.config(),this.Kj,this.Jd,q,v,this.CJ,this.XQ()):new c.POa(this.config,this.Kj,this.Jd,q,v);};m=d;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.a4)),r.__param(1,(0,l.l)(f.Ws)),r.__param(2,(0,l.l)(g.uc)),r.__param(3,(0,l.l)(k.wU)),r.__param(4,(0,l.l)(a.VH))],m);b.VOa=m;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q;function d(v,t,w,u,y,x,z){u=k.ET.call(this,u,y) || this;u.config=v;u.Kj=t;u.Jd=w;u.CJ=x;u.nda=z;u.log=(0,h.nj)(u.j,"LicenseBroker");u.l_=new Set();u.lAa=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.XOa=void 0;r=a(0);l=a(4);h=a(10);n=a(349);c=a(5);f=a(1);g=a(594);k=a(595);m=a(57);p=a(16);q=a(43);la(d,k.ET);d.prototype.mea=function(){var v,t;v=this;t=this.j.ga;this.l_.has(t.L) || (this.l_.add(t.L),this.bIb(t).catch(function(){return v.Nkb(t);}).then(function(){return v.X0a(t);}).catch(function(w){return v.W0a(t,w);}).catch(function(w){return v.Vd(w.code,w,w.yd);}));};d.prototype.bIb=function(v){var t;t=this;return Promise.all([this.Jd.X8a(v.L),this.CJ()]).then(function(w){var u,y;w=oa(w);u=w.next().value;y=w.next().value;return u.jga.then(function(x){var z;z=t.nda.mediaKeys;if(z && z !== x.mediaKeys)return (t.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === u.source && (z=t.$9a(v),y.Zfb(z,x));return x;}).then(function(x){return t.J8(x,v,u.source);});}).catch(function(w){t.log.warn("eme not in cache",w);throw w;});};d.prototype.J8=function(v,t,w){this.ljb(v,t);t.$I=w;this.nda.h0a(v.mediaKeys);return v.Rpa();};d.prototype.ZVb=function(v){var t;t={};v.forEach(function(w){t[(0,n.l6a)(w.Q_)]=w.time.ia(c.va);});return t;};d.prototype.ljb=function(v,t){var w;w=this;t.af=v;v.Fgc(function(u){w.Vd(u.code,u,u.yd);});};d.prototype.X0a=function(v){this.log.info("Successfully applied license for xid: " + v.sa + ", viewable: " + v.L + ", segment: " + v.S);this.XB(v);this.lAa?this.eaa(v.L):this.setMediaKeys(v);};d.prototype.W0a=function(v,t){this.XB(v);throw t;};d.prototype.XB=function(v){v.af && v.XB(this.ZVb(v.af.Bd));};d.prototype.$9a=function(v){var t,w;t=v.Hz[0];w=t.streams[0].qf;w=(0,q.Vxa)(w);t=(0,q.Kva)(t.streams);return {type:this.Raa(!1),initData:v.Qw.map(function(u){return (0,h.At)(u);}),dca:w,context:{ea:this.$b.ea,Bca:t},Wj:{L:v.L,sa:v.sa,Wg:v.Wg,Om:v.Om,Oj:v.ba.Oj,qh:v.ba.Ra.qh}};};d.prototype.Nkb=function(v){var t;t=this;return this.CJ().then(function(w){var u;u=t.$9a(v);t.l_.add(v.L);return w.oi(u,t.nda).then(function(y){t.ljb(y,v);t.j.fireEvent(p.ka.o_,{L:v.L});return y.Rpa();});});};d.prototype.setMediaKeys=function(v){var t;t=this;if(this.lAa)this.log.trace("Media Keys already set");else try{this.$b.ea?(this.lAa=!0,this.$b.ea.setMediaKeys(v.af.mediaKeys).then(function(){t.eaa(v.L);}).catch(function(w){w=t.kab(w);t.Vd(l.aa.ZM,w,w.Wf);})):this.eaa(v.L);}catch(w){this.Vd(l.aa.ZM,w,void 0);}};d.prototype.PC=function(){var v,t;v=this;t=this.j.ga.af;return t?this.CJ().then(function(w){return w.release(t,v.nda).then(function(u){v.log.trace("Successfully released the license");return u.close();}).catch(function(u){v.log.error("Unable to release the license",u);});}):Promise.resolve();};d.prototype.Mkb=function(v){var t;t=this;v=void 0 === v?this.j:v;return this.Nkb(v).then(function(){return t.X0a(v);}).catch(function(w){return t.W0a(v,w);});};d.prototype.Raa=function(v){return this.Kj.DY?m.dj.Rp:v?m.dj.Rp:m.dj.Xp;};Va.Object.defineProperties(d.prototype,{fG:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},co:{configurable:!0,enumerable:!0,get:function(){return this.config.co;}}});a=d;r.__decorate([g.Jca],a.prototype,"fG",null);a=r.__decorate([(0,f.$)()],a);b.XOa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t;function d(w,u,y,x,z){x=p.ET.call(this,x,z) || this;x.config=w;x.Kj=u;x.Jd=y;x.log=(0,h.nj)(x.j,"LegacyLicenseBroker");x.co=x.config().co;x.config().vjb?(0,c.Jcb)()?x.Aha=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:f.HH}):x.Aha=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.POa=void 0;r=a(0);l=a(4);h=a(10);n=a(164);c=a(44);f=a(14);g=a(1);k=a(594);m=a(45);p=a(595);q=a(57);v=a(5);la(d,p.ET);d.prototype.m4a=function(w){var u;u=void 0 === u?this.j:u;return new this.vu.FM(w,function(y){return u.M9.$J(y);},function(y){return u.M9.release(y);},{gg:!1,$l:!1});};d.prototype.PE=function(w){var u,y,x,z,B,A;u=this;w=void 0 === w?this.j:w;y=a(61).Zo;this.vu.FM || this.Vd(l.aa.NM,l.Y.Yub);x=(0,h.nj)(w,"Eme");z=this.m4a(x);B=h.Ga.get(n.TU);A=B.Q9(w.Hc.value.streams);B=B.W9(w.Xh.value.streams);return this.vu.HM(x,function(C){return w.ef(C);},{gg:!1,$l:!1,za:{getTime:y},jn:z,W0:!!this.Aha,ea:this.$b.ea,lD:this.config().D6a,onerror:function(C,D,E){return u.Vd(C,D,E);},ZAa:function(){},gL:!0,LIb:A,Xmc:B,aza:this.Kj.F8.ia(v.va)});};d.prototype.setMediaKeys=function(w){var u;u=this;return this.Aha?new Promise(function(y,x){if(u.$b.ea)u.$b.ea.setMediaKeys(w).then(function(){y();}).catch(function(z){var B;B=u.kab(z);x({ja:!1,code:l.aa.ZM,xc:B.Da,yd:B.Wf,Tb:B.Tb,message:"Set media keys is a failure",cause:z});});else return Promise.resolve();}):Promise.resolve();};d.prototype.e7a=function(w){return {code:w.code,subCode:w.xc,extCode:w.yd,edgeCode:w.jp,message:w.message,errorDetails:w.Tb,errorData:w.eF,state:w.state};};d.prototype.WEa=function(w,u,y){var z,B,A;function x(){B.sL().catch(function(C){z.log.error("Unable to set the license",z.e7a(C));C.cause && C.cause.Tb && (C.Tb=C.Tb?C.Tb + C.cause.Tb:C.cause.Tb);z.Vd(C.code,C,C.yd);});}z=this;y=void 0 === y?this.j:y;B=y.af;this.log.info("Setting the license");A=u?function(){return Promise.resolve();}:function(){return B.oi(z.Raa(!1),w);};return (u?function(){return B.J8(z.$b.ea);}:function(){return B.create(z.co).then(function(){return Promise.resolve();});})().then(A).then(function(){return z.setMediaKeys(B.mediaKeys);}).then(function(){z.log.info("license set");z.eaa(y.L);z.$b.irb.then(function(){z.config().SF && (u || z.config().DY) && (z.Hkb=mb.setTimeout(x,z.config().SF));});}).catch(function(C){z.log.error("Unable to set the license",z.e7a(C));C.cause && C.cause.Tb && (C.Tb=C.Tb?C.Tb + C.cause.Tb:C.cause.Tb);if(u)throw Error(C && C.message?C.message:"failed to set license");z.Vd(C.code,C,C.yd);});};d.prototype.PC=function(){return Promise.resolve();};d.prototype.mea=function(){var u;function w(){var y;u.j.af=u.PE();y=[];u.j.Qw.forEach(function(x){y.push((0,h.At)(x));});u.WEa(y);}u=this;this.l_ || (this.l_=!0,this.vu.HM?this.j.Qw?this.config().hY && this.config().wu?this.Jd.X8a(this.j.L).then(function(y){u.j.af=y;return y.yHa.then(function(){var x;x=[];u.j.Qw.forEach(function(z){x.push((0,h.At)(z));});return u.WEa(x,!0).then(function(){var z;if(y.suc)u.Vd(l.aa.bvb);else {z=(0,h.nj)(u.j,"Eme");y.cqb({log:z,Bp:function(B){return u.j.ef(B);}},{jn:u.m4a(z),onerror:function(B,A,C){return u.Vd(B,A,C);}});u.j.XB(y.Bd || ({}));u.j.$I="videopreparer";}});});}).catch(function(y){u.log.warn("eme not in cache",y);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Vd(l.aa.wyb)):this.Vd(l.aa.NM,l.Y.Zub));};d.prototype.Mkb=function(w){var u;w=void 0 === w?this.j:w;w.af=this.PE();u=[];w.Qw.forEach(function(y){u.push((0,h.At)(y));});return this.WEa(u,!1,w);};d.prototype.Raa=function(w){return this.config().DY?q.dj.Rp:w?q.dj.Rp:q.dj.Xp;};Va.Object.defineProperties(d.prototype,{vu:{configurable:!0,enumerable:!0,get:function(){return h.Ga.get(m.F5);}},fG:{configurable:!0,enumerable:!0,get:function(){return this.Aha?"encrypted":this.$b.WLa + "needkey";}}});t=d;r.__decorate([k.Jca],t.prototype,"vu",null);r.__decorate([k.Jca],t.prototype,"fG",null);t=r.__decorate([(0,g.$)()],t);b.POa=t;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u;Object.defineProperty(b,"__esModule",{value:!0});b.Uh=void 0;r=a(1);d=a(312);l=a(1430);h=a(313);n=a(1435);c=a(121);f=a(1437);g=a(1438);k=a(167);m=a(596);p=a(1439);q=a(597);v=a(1441);t=a(87);w=a(598);u=a(1442);b.Uh=new r.Kd(function(y){y(d.Fla).to(l.OTa).la();y(h.Hla).to(n.$Ta).la();y(c.bN).to(f.MTa).la();y(k.MH).to(g.KTa).la();y(m.UTa).to(p.TTa).la();y(q.YTa).Te(function(x){var z;z=x.xb;return function(B){return new v.ZTa(B,z.get(t.aA),z.get(k.MH));};});y(w.TOa).Te(function(x){var z;z=x.xb;return function(B,A,C){return new u.UOa(B,A,C,z.get(k.MH),z.get(c.bN));};});});},function(r,b,a){var l,h,n,c,f,g,k,m,p;function d(q,v,t,w,u,y,x){this.zg=q;this.Vta=v;this.Xj=t;this.BGa=w;this.Zac=u;this.abc=y;this.$ac=x;}Object.defineProperty(b,"__esModule",{value:!0});b.OTa=void 0;r=a(0);l=a(1);h=a(1431);n=a(7);c=a(167);f=a(368);g=a(596);k=a(375);m=a(597);a=a(313);d.prototype.create=function(q){return new h.PTa(q,this.zg,this.Vta,this.Xj,this.BGa,this.Zac,this.abc,this.$ac);};p=d;p=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.hb)),r.__param(1,(0,l.l)(f.XT)),r.__param(2,(0,l.l)(c.MH)),r.__param(3,(0,l.l)(k.xWa)),r.__param(4,(0,l.l)(g.UTa)),r.__param(5,(0,l.l)(m.YTa)),r.__param(6,(0,l.l)(a.Hla))],p);b.OTa=p;},function(r,b,a){var l,h,n;function d(c,f,g,k,m,p,q,v){this.BGa=m;this.uHa=v;this.AY=!1;k.zha && (c=new n.QTa().Kkc(c));this.zb=q(c);this.Hl=new h.aUa(this.zb);this.Hl.lmb(this.zb.ga.N);this.log=f.eb("PlaygraphManager");this.Ob=g.create();this.Jw=p.create(this.zb,this.Hl,this.log,this.Ob);this.nhc();}Object.defineProperty(b,"__esModule",{value:!0});b.PTa=void 0;l=a(16);h=a(1432);n=a(1434);d.prototype.BZb=function(){return this.zb.Qea;};d.prototype.pva=function(){return this.zb.ga;};d.prototype.k9a=function(){return this.zb.ji;};d.prototype.dK=function(){return this.zb.km;};d.prototype.Bl=function(c){for(var f=[],g=0;g < arguments.length;++g){f[g - 0]=arguments[g];}this.zb.Bl.apply(this.zb,ia(f));};d.prototype.WLb=function(c){for(var f=[],g=0;g < arguments.length;++g){f[g - 0]=arguments[g];}this.zb.k1a(f);};d.prototype.fx=function(c){this.zb.km=c;};d.prototype.Lk=function(c,f){this.zb.Lk(c,f);};d.prototype.Iwa=function(c,f,g,k){var m,p;g=void 0 === g?{}:g;k=void 0 === k?!0:k;if(c !== this.zb.ji)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (m=this.dK().T[c].next) && void 0 !== m?m:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + c + " -> " + f);this.Smb();null === (p=g.ro) || void 0 === p?void 0:p.isUIAutoPlay;return this.Jw.Jwa(f,g,k);};d.prototype.isReady=function(){return this.Jw.isReady();};d.prototype.addListener=function(c,f,g){this.Ob.addListener(c,f,g);};d.prototype.removeListener=function(c,f){this.Ob.removeListener(c,f);};d.prototype.pp=function(){return this.Jw.pp();};d.prototype.Jb=function(){return this.Jw.bK();};d.prototype.BPb=function(c,f,g){var k;c=void 0 === c?this.dK().ke:c;f=void 0 === f?{}:f;k=this.uHa.C4a(this);this.Fbc(null !== c && void 0 !== c?c:this.dK().ke,f,g);return k;};d.prototype.uHb=function(c){var f;this.log.info("Adding segment - movieId: " + c.L + ", startPts: " + c.ca + ", logicalEnd: " + c.Ck);f=Object.assign({},c.Gb,c.ca?{ca:c.ca}:{},c.Ck?{Ck:c.Ck}:{});this.Nnb(c.L,f,c.ba);c=this.Jw.s0a(c);this.Smb();return c;};d.prototype.transition=function(c){var f;f=this.zb.aZ(this.zb.ji);return f?this.Iwa(this.zb.ji,f,c):(this.log.error("Next segment is not defined"),Promise.reject());};d.prototype.close=function(c){return this.Jw.close(c);};d.prototype.Fbc=function(c,f,g){var k;void 0 === c && (c=null === (k=this.dK()) || void 0 === k?void 0:k.ke);(f || g) && this.Nnb(this.dK().T[c].N,null !== f && void 0 !== f?f:{},g);this.Jw.nL(c);};d.prototype.Nnb=function(c,f,g){g && this.Hl.EW(c,g);this.Hl.fHb(c,f);};d.prototype.nhc=function(){var c;c=this;this.zb.gjc(function(){c.Hl.bz();c.Jw.bz();});this.zb.hjc(function(f){c.Jw.yBa(f);});this.zb.fjc(function(f){c.Jw.XK(f);});this.addListener(l.NH.C1,function(){return c.W9b();});this.addListener(l.Qa.Zbb,function(f){return c.M9b(f);});};d.prototype.Smb=function(){var c;c=this;this.AY || (this.Jb().wpa(l.ka.EL,function(f){return c.cz(f);}),this.AY=!0);};d.prototype.M9b=function(c){var f;f=this;this.Jw.wpb(c).catch(function(){return f.Ob.Zc(l.Qa.error,c.B2());});};d.prototype.W9b=function(){var c;c=this.Jb().getError();c?this.Ob.Zc(l.Qa.MO,c):(this.Ob.Zc(l.Qa.b9),this.Ob.Zc(l.Qa.Mn),this.Ob.Zc(l.Qa.bx),this.Ob.Zc(l.Qa.nn),this.Ob.Zc(l.Qa.E2),this.Ob.Zc(l.Qa.MO));};d.prototype.cz=function(c){var f,g,k;!1;f=c.metrics;if(f){g=this.Jb();k=g.Lj(c.position.segmentId);f=g.Lj(f.srcsegment);this.BGa.wcc(c,k,f,!!g.C$a().Gh);}};b.PTa=d;},function(r,b,a){var l;function d(h){this.na=h;this.kT={};this.bz();}Object.defineProperty(b,"__esModule",{value:!0});b.aUa=void 0;l=a(1433);d.prototype.bz=function(){var h;h=this;Object.values(this.na.km.T).forEach(function(n){n=n.N;h.kT[n] || h.Pbb(n);});this.rha();};d.prototype.jQ=function(h){return this.kT[h];};d.prototype.Hgc=function(h){this.dZ(h).state=l.uA.zMa;this.rha();};d.prototype.Ggc=function(h,n){h=this.dZ(h);h.state=l.uA.Error;h.error=n;h.flb(!1);this.rha();};d.prototype.lmb=function(h){h=this.dZ(h);h.state=l.uA.Oub;h.flb(!0);this.rha();};d.prototype.fHb=function(h,n){this.dZ(h).Gb=n;};d.prototype.EW=function(h,n){this.dZ(h).ba=n;};d.prototype.dZ=function(h){var n;return null !== (n=this.jQ(h)) && void 0 !== n?n:this.Pbb(h);};d.prototype.Pbb=function(h){var n,c;n=void 0;c=new Promise(function(f,g){n=function(k){(k?f:g)();};});return this.kT[h]={state:l.uA.kRa,cdc:c,flb:n};};d.prototype.rha=function(){var n;for(var h=this.na.ji;h=this.na.aZ(h);){n=this.vp(h);if(this.kT[n].state === l.uA.Error)break;if(this.kT[n].state === l.uA.zMa)break;if(this.kT[n].state === l.uA.kRa)break;}};d.prototype.vp=function(h){return this.na.km.T[h].N;};b.aUa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uA=void 0;r=b.uA || (b.uA={});r[r.kRa=0]="None";r[r.zMa=1]="Fetching";r[r.Oub=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.QTa=void 0;l=a(38);d.prototype.Kkc=function(h){var n;if(!this.D3b(h.T))return h;n=new l.yx().KL(h.ke);Object.entries(h.T).forEach(function(c){var f;f=oa(c);c=f.next().value;f=f.next().value;c === h.ke?n.pg(c,Object.assign(Object.assign({},f),{next:void 0,Aa:void 0,dc:void 0})):n.pg(c,f);});return n.kj();};d.prototype.D3b=function(h){h=Object.values(h).map(function(n){return n.N;});return 1 === new Set(h).size;};b.QTa=d;},function(r,b,a){var l,h,n,c;function d(f,g){this.Ia=f;this.C4b=g;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ta=void 0;r=a(0);l=a(1);h=a(18);n=a(598);d.prototype.create=function(f){return new (a(314).p6)(this.Ia.Qb(),f);};d.prototype.C4a=function(f){return new (a(1436).ZWa)(this.Ia.Qb(),f,this.C4b);};c=d;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.kd)),r.__param(1,(0,l.l)(n.TOa))],c);b.$Ta=c;},function(r,b,a){var l;function d(h,n,c){var f;f=l.p6.call(this,h,n) || this;f.seek=function(g){return f.Jb().seek(g);};f.addEpisode=function(g){return f.$ya.OGb(g);};f.playNextEpisode=function(g){g=void 0 === g?{}:g;return f.$ya.Fac(g);};f.watchCredits=function(g){return f.$ya.qnc(g);};f.playSegment=function(g){return f.Jb().xib(g);};f.queueSegment=function(g){return f.Jb().Ijb(g);};f.updateNextSegmentWeights=function(g,k){return f.Jb().Lk(g,k);};f.setNextSegment=function(g){for(var k=[],m=0;m < arguments.length;++m){k[m - 0]=arguments[m];}k=k.map(function(p){return {S:p.segmentId,kR:p.nextSegmentId};});f.Uh.Bl.apply(f.Uh,ia(k));};f.clearNextSegment=function(g){for(var k=[],m=0;m < arguments.length;++m){k[m - 0]=arguments[m];}return f.Uh.WLb.apply(f.Uh,ia(k));};f.goToNextSegment=function(g,k){return f.Uh.Iwa(g,k);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return !!f.Jb().jZ().visibility;};f.setTimedTextVisibility=function(g){return f.setTimedTextVisible(g);};f.setTimedTextSize=function(g){return f.Jb().tS({size:g});};f.setTimedTextBounds=function(g){return f.Jb().tS({bounds:g});};f.setTimedTextMargins=function(g){return f.Jb().tS({margins:g});};f.setTimedTextVisible=function(g){return f.Jb().tS({visibility:g});};f.getCongestionInfo=function(g){g && g({success:!1,name:null,isCongested:null});};f.$ya=c(h,n,f.log);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.ZWa=void 0;l=a(314);la(d,l.p6);b.ZWa=d;},function(r,b,a){var l,h,n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.MTa=void 0;r=a(0);l=a(121);h=a(1);n=a(38);d.prototype.yPb=function(c){var k,m,p;for(var f=[],g=0;g < arguments.length;++g){f[g - 0]=arguments[g];}k=this;if(0 === f.length)throw Error("Empty playgraph");m=new n.yx().KL(this.St(f[0]));f.reverse().forEach(function(q){var v;v=k.St(q);m.pg(v,Object.assign({N:q,Ba:0,Aa:Infinity},p?{dc:p}:{}));p=v;});return m.kj();};d.prototype.St=function(c,f){f=void 0 === f?l.OH.uka:f;return c + ":" + f;};d.prototype.$Hb=function(c,f){var g,k,m,p;if(void 0 === m)m=null !== (g=f.id) && void 0 !== g?g:this.St(f.L);g=this.W9a(c);p=new n.yx(c);p.pg(m,{N:f.L,Ba:null !== (k=f.ca) && void 0 !== k?k:0,Aa:Infinity});c=c.T[g];f={};p.pg(g,Object.assign({},c,{dc:m,next:Object.assign({},c.next || ({}),(f[m]={},f))}));return p.kj();};d.prototype.W9a=function(c){for(var f=c.ke,g=f;g=c.T[g].dc;){f=g;}return f;};a=d;a=r.__decorate([(0,h.$)()],a);b.MTa=a;},function(r,b,a){var l,h,n,c,f;function d(g){return h.Lf.call(this,g,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KTa=void 0;r=a(0);l=a(1);h=a(47);n=a(33);c=a(46);f=a(5);la(d,h.Lf);Va.Object.defineProperties(d.prototype,{Lbc:{configurable:!0,enumerable:!0,get:function(){return 2;}},Kbc:{configurable:!0,enumerable:!0,get:function(){return (0,f.Fda)(3);}},nHa:{configurable:!0,enumerable:!0,get:function(){return !1;}},zha:{configurable:!0,enumerable:!0,get:function(){return !1;}},Bqb:{configurable:!0,enumerable:!0,get:function(){return !1;}},f8a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Tea:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=d;r.__decorate([c.config(c.hD,"prepareSegmentsUpfront")],a.prototype,"Lbc",null);r.__decorate([c.config(c.dm,"prepareSegmentsDuration")],a.prototype,"Kbc",null);r.__decorate([c.config(c.vd,"usePlaygraphForPostPlay")],a.prototype,"nHa",null);r.__decorate([c.config(c.vd,"usePlaygraphForSkipSegment")],a.prototype,"zha",null);r.__decorate([c.config(c.vd,"useSinglePlayerPlayback")],a.prototype,"Bqb",null);r.__decorate([c.config(c.vd,"forcePlaygraphTrace")],a.prototype,"f8a",null);r.__decorate([c.config(c.vd,"postPlayDefaultNextEpisode")],a.prototype,"Tea",null);a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(n.yn))],a);b.KTa=a;},function(r,b,a){var l,h,n,c,f,g,k,m,p,q;function d(v,t,w,u,y,x,z){this.Ia=v;this.Tfc=w;this.Xj=y;this.ko=z;this.Rfc=t.VJ(!1,"6.0039.753.911",v.id,x,u);}Object.defineProperty(b,"__esModule",{value:!0});b.TTa=void 0;r=a(0);l=a(1);h=a(18);n=a(167);c=a(1440);f=a(372);g=a(239);k=a(12);m=a(599);p=a(37);a=a(121);d.prototype.create=function(v,t,w,u){var y,x;y=this.Tfc.nPb(v,this.Rfc,t);x=v.oHa;w.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new c.CVa(this.Xj,v,t,w,y,u,this.ko):new m.GH(v,t,y,u,this.ko);};q=d;q=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.kd)),r.__param(1,(0,l.l)(f.mVa)),r.__param(2,(0,l.l)(g.Zla)),r.__param(3,(0,l.l)(k.uc)),r.__param(4,(0,l.l)(n.MH)),r.__param(5,(0,l.l)(p.E5)),r.__param(6,(0,l.l)(a.bN))],q);b.TTa=q;},function(r,b,a){var l,h,n,c,f;function d(g,k,m,p,q,v,t){var w;w=c.GH.call(this,k,m,q,v,t) || this;w.Xj=g;w.ta=p;w.AY=!1;w.Lta=new Map();w.P9b=function(){w.bK().wpa(h.ka.EL,function(u){w.Ob.Zc(h.NH.C1);w.zb.ji=u.position.segmentId;});};w.a2b();v.addListener(h.Qa.loaded,w.P9b);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.CVa=void 0;l=a(38);h=a(16);n=a(4);c=a(599);f=a(121);la(d,c.GH);d.prototype.s0a=function(g){var k,m,p,q,v,t,w,u,y,x,z;k=this;p=this.zb.km;q=this.ko.St(g.L,"ident");v=this.ko.St(g.L,"main");t=this.ko.St(g.L,"credits");w=isFinite(g.Ck);u=isFinite(g.ca) && g.L !== p.T[p.ke].N;y={};x=new l.yx(p).pg(v,Object.assign({N:g.L,Ba:u && g.ca || 0,Aa:null !== (m=g.Ck) && void 0 !== m?m:Infinity},w?{next:(y[t]={},y),dc:t}:{}));u && (m={},x.pg(q,{N:g.L,Ba:0,Aa:g.ca,next:(m[v]={},m),dc:v}));w && x.pg(t,{N:g.L,Ba:g.Ck,Aa:Infinity});if(!this.zb.vz(v)){g=p.T[this.ko.W9a(p)].N;z=this.ko.St(g,f.OH.VJa);[this.ko.St(g,f.OH.uka),z].filter(function(B){return k.zb.vz(B);}).forEach(function(B){var A,C,D;A=k.zb.Be(B);C=B === z || k.Xj.Tea;D={};x.pg(B,Object.assign({},A,{next:Object.assign({},A.next,(D[v]={},D))},C?{dc:v}:{}));});}this.zb.km=x.kj();return this.nL(v);};d.prototype.bz=function(){this.isReady() && this.bK().bz();};d.prototype.yBa=function(){};d.prototype.XK=function(g){this.bK().XK(g);};d.prototype.Jwa=function(g,k,m){k=void 0 === k?{}:k;this.ta.debug("goToSegment " + g);return this.bK().pZ(g,k,m);};d.prototype.nL=function(g){if(g === this.Qfc)return null;this.Qfc=g;return this.AY?this.Hl.jQ(this.zb.Be(g).N).cdc:(this.AY=!0,c.GH.prototype.nL.call(this,g));};d.prototype.wpb=function(g){return g.errorCode && this.Lta.has(g.errorCode)?this.Lta.get(g.errorCode)(g):Promise.reject(Error("Error " + g.errorCode + " isn't recoverable"));};d.prototype.a2b=function(){var g;g=this;this.Lta.set(n.aa.SRa,function(){var k,m;return null !== (m=null === (k=c.GH.prototype.nL.call(g,g.zb.ji)) || void 0 === k?void 0:k.then(function(){var p,q;c.GH.prototype.Jwa.call(g,g.zb.ji,null !== (q=null === (p=g.Hl.jQ(g.zb.ga.N)) || void 0 === p?void 0:p.Gb) && void 0 !== q?q:{});})) && void 0 !== m?m:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.CVa=d;},function(r,b,a){var l,h;function d(n,c,f){this.WB=c;this.Xj=f;this.u7={};this.Upb=[];this.hnb=[];this.wgb=[];this.Wpa=new WeakMap();this.reset(n);}Object.defineProperty(b,"__esModule",{value:!0});b.ZTa=void 0;l=a(38);h=a(38);d.prototype.reset=function(n){var c;c=1 < Object.keys(n.T).length && 1 === new Set(Object.values(n.T).map(function(f){return f.N;})).size;this.ZFb=this.Xj.Bqb || c;this.Bmb(n);this.ji=n.ke;this.rEb=this.WB.yB();this.BFa=new Map();};d.prototype.$aa=function(n){if(this.oHa)return this.km;this.Wpa.has(n) || this.Wpa.set(n,(0,l.Aga)(n.L,n.S));return this.Wpa.get(n);};d.prototype.Bmb=function(n){this.sEb=n;this.u7={};n=Object.keys(n.T);this.k1a(n);this.L8b();};d.prototype.Bl=function(n){var g;for(var c=[],f=0;f < arguments.length;++f){c[f - 0]=arguments[f];}g=this;c.filter(function(k){return g.vz(k.S);}).filter(function(k){k=k.kR;return !k || g.vz(k);}).forEach(function(k){var m;m=k.S;g.u7[m]=g.Vgb(k.kR);g.D8b(m);});};d.prototype.k1a=function(n){var c;c=this;n.filter(function(f){return c.vz(f);}).forEach(function(f){c.u7[f]=c.Vgb(c.Be(f).dc);});};d.prototype.Lk=function(n,c){var f,g,k;f=this.Be(n);if(f && f.next){g=new h.yx(this.km);k=Object.keys(f.next).reduce(function(m,p){m[p]=void 0 === c[p]?f.next[p]:Object.assign({},f.next[p],{weight:c[p]});return m;},{});k=Object.assign({},f,{next:k});g.pg(n,k);this.km=g.kj();}};d.prototype.vz=function(n,c){c=void 0 === c?this.km.T:c;return (n in c);};d.prototype.aZ=function(n){return this.u7[n];};d.prototype.Be=function(n){return this.km.T[n];};d.prototype.h_b=function(n){if(this.BFa.has(n))return this.BFa.get(n);n=this.Be(n);return isFinite(n.Aa)?n.Aa:void 0;};d.prototype.Wlc=function(n,c){this.BFa.set(n,c);this.I8b(n);};d.prototype.gjc=function(n){this.Upb.push(n);};d.prototype.hjc=function(n){this.hnb.push(n);};d.prototype.fjc=function(n){this.wgb.push(n);};d.prototype.L8b=function(){var n;n=this;this.Upb.forEach(function(c){return c(n.km);});};d.prototype.D8b=function(n){this.wgb.forEach(function(c){return c(n);});};d.prototype.I8b=function(n){this.hnb.forEach(function(c){return c(n);});};d.prototype.Vgb=function(n){return null === n?void 0:n;};Va.Object.defineProperties(d.prototype,{Qea:{configurable:!0,enumerable:!0,get:function(){return this.rEb;}},oHa:{configurable:!0,enumerable:!0,get:function(){return this.ZFb;}},km:{configurable:!0,enumerable:!0,get:function(){return this.sEb;},set:function(n){if(this.ji && !this.vz(this.ji,n.T))throw Error("Provided playgraphMap does not contain the current segmentId " + this.ji);this.Bmb(n);}},ji:{configurable:!0,enumerable:!0,get:function(){return this.nBb;},set:function(n){if(!this.vz(n))throw Error("Provided currentSegmentId " + n + " does not exist in the current playgraph");this.nBb=n;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.Be(this.ji);}}});b.ZTa=d;},function(r,b,a){var l,h;function d(n,c,f,g,k){this.rj=n;this.Uh=c;this.log=f;this.Xj=g;this.ko=k;this.Jea=new l.zla();}Object.defineProperty(b,"__esModule",{value:!0});b.UOa=void 0;l=a(600);h=a(121);d.prototype.OGb=function(n){var c,f,g,k,m,p,q;this.log.info("Next episode added",n);p=this.Jea.Oza(n.playbackParams);q=Math.max(0,null !== (g=null !== (f=null !== (c=n.startPts) && void 0 !== c?c:n.nextStartPts) && void 0 !== f?f:p.ca) && void 0 !== g?g:0);c=null !== (m=null !== (k=n.endPts) && void 0 !== k?k:n.currentEndPts) && void 0 !== m?m:p.Ck;return this.Uh.uHb({L:n.movieId,ca:q,Ck:c,Gb:p,ba:n.manifest,rj:this.rj});};d.prototype.Fac=function(n){var c,f,g,k,m,p;n=this.Jea.Oza(n);this.log.info("Playing the next episode",n);g=this.Uh.k9a();k=this.Uh.dK();m=k.T[g];p=Object.keys(null !== (c=m.next) && void 0 !== c?c:{}).find(function(q){return m.N !== k.T[q].N;});c=!this.Xj.Tea || !(null === (f=n.ro) || void 0 === f?0:f.isUIAutoPlay);return p?this.Uh.Iwa(g,p,n,c):Promise.reject(Error("Next episode not found"));};d.prototype.qnc=function(n){var c,f;c=this.ko.St(n,h.OH.uka);n=this.ko.St(n,h.OH.VJa);f=this.Uh.zb;this.Xj.Tea && f.ji !== n && f.vz(n) && f.aZ(c) !== n && this.Uh.Bl({S:c,kR:n});};b.UOa=d;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.n1a=void 0;r=a(1);d=a(1444);l=a(34);b.n1a=new r.Kd(function(h){h(l.xj).to(d.WIa).la();});},function(r,b,a){var l,h,n,c,f,g,k,m,p,q,v,t,w;function d(u,y,x,z,B,A){var C;C=this;this.vm=u;this.config=x;this.Zq=z;this.debug=B;this.Ia=A;this.Wob=[];this.Bd={};this.log=y.eb("loadAsync");this.Z5b=(0,v.HMa)(function(D){C.Ndc=!0;C.startTime=C.Ia.Qb().ia(p.va);C.load(C.Wob).then(function(){C.endTime=C.Ia.Qb().ia(p.va);D(w.th);}).catch(function(E){C.endTime=C.Ia.Qb().ia(p.va);D(E);});});}Object.defineProperty(b,"__esModule",{value:!0});b.WIa=void 0;r=a(0);l=a(86);h=a(4);n=a(1445);c=a(56);f=a(1);g=a(7);k=a(12);m=a(63);p=a(5);q=a(111);v=a(601);t=a(18);w=a(17);d.prototype.s_=function(u){this.Z5b(u);};d.prototype.register=function(u,y){this.debug.assert(!this.Ndc);this.Wob.push({s5b:this.LKb(y),errorCode:u});};d.prototype.ef=function(u){this.debug.assert(void 0 === this.Bd[u]);this.Bd[u]=this.Ia.Qb().ia(p.va);};d.prototype.load=function(u){var y;y=this;return (0,n.gjb)(u).then(function(x){y.vm.mark(c.Go.Rk.Vrb);return x.reduce(function(z,B){return z.then(function(){return y.o5b(B);});},Promise.resolve()).then(function(){y.vm.mark(c.Go.Rk.Trb);});});};d.prototype.o5b=function(u){var y,x;y=this;x=u.s5b;!1;return this.Zq.Ks((0,p.Vb)(this.config().AIb),x()).catch(function(z){y.log.error("Failed to load component " + u.errorCode,z);y.vm.mark(c.Go.Rk.Urb);if(z instanceof m.$s)throw {Da:h.Y.Srb,errorCode:u.errorCode};z.errorCode=z.errorCode || u.errorCode;z.Da=z.Da || h.Y.Rrb;throw z;});};d.prototype.LKb=function(u){return function(){return new Promise(function(y,x){u(function(z){z.ja?y():x(z);});});};};a=d;a=r.__decorate([(0,f.$)(),r.__param(0,(0,f.l)(l.kN)),r.__param(1,(0,f.l)(g.hb)),r.__param(2,(0,f.l)(k.uc)),r.__param(3,(0,f.l)(m.LD)),r.__param(4,(0,f.l)(q.Sz)),r.__param(5,(0,f.l)(t.kd))],a);b.WIa=a;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.gjb=void 0;d=a(4);l=[d.aa.ewb,d.aa.YNa,d.aa.ZNa,d.aa.cOa,d.aa.VNa,d.aa.TNa,d.aa.Uja,d.aa.iwb,d.aa.WNa,d.aa.UNa,d.aa.BD,d.aa.QNa,d.aa.SNa,d.aa.$Na,d.aa.aOa,d.aa.bOa,d.aa.XNa,d.aa.RNa];(function(n){n.Cxb=function(c){var k;for(var f={},g=0;g < c.length;g++){k=c[g];if(f[k.errorCode])return {errorCode:k.errorCode,Da:d.Y.Prb};f[k.errorCode]=1;}};n.Dxb=function(c){var g;for(var f=0;f < c.length;f++){g=c[f];if(-1 === l.indexOf(g.errorCode))return {errorCode:g.errorCode,Da:d.Y.Qrb};}};})(h || (h={}));b.gjb=function(n){return new Promise(function(c,f){var g;g=h.Dxb(n);g && f(g);(g=h.Cxb(n)) && f(g);c(n.sort(function(k,m){return l.indexOf(k.errorCode) - l.indexOf(m.errorCode);}));});};},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.ba=void 0;r=a(1);d=a(1447);l=a(115);b.ba=new r.Kd(function(h){h(l.DH).to(d.ZPa).la();});},function(r,b,a){var l,h,n,c,f,g,k,m,p,q;function d(v,t,w,u,y,x){this.hh=t;this.Feb=u;this.C_=x;this.h1=new Map();this.log=v.eb("ManifestFetcher");this.yh=w.yh;this.hKb=y().fTb;}Object.defineProperty(b,"__esModule",{value:!0});b.ZPa=void 0;r=a(0);l=a(1);h=a(18);n=a(36);c=a(7);f=a(5);g=a(12);k=a(102);m=a(61);p=a(300);a=a(138);d.prototype.qF=function(v,t,w){var u;u=this;t=void 0 === t?!0:t;w && this.kHb(v.N,w);return t && this.sba(v.N)?this.Caa(v.N).catch(function(){return u.Pkb(v,t);}):this.Pkb(v,t);};d.prototype.sba=function(v){return this.yh.wZ(v,"manifest");};d.prototype.e2=function(v,t){var w;w=this;this.hKb && this.yh.setData(v,"manifest",t,function(){return w.g0b(v,t?Promise.resolve(t):void 0);});};d.prototype.Caa=function(v){var t;t=this;return this.yh.getData(v,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Ra.expiration <= (0,m.D9)())throw (t.yh.clearData(v,"manifest"),Error("Manifest has expired"));return w;});};d.prototype.g0b=function(v,t){var w;null === (w=this.h1.get(v)) || void 0 === w?void 0:w.forEach(function(u){return u(t);});this.h1.delete(v);};d.prototype.kHb=function(v,t){this.h1.has(v) || this.h1.set(v,[]);this.h1.get(v).push(t);};d.prototype.Pkb=function(v,t){var w,u,y;w=this;this.log.trace("Requesting a new manifest",v.N);u=this.hh.Qb().ia(f.va);y=(v.ih && !v.ih.Jm?this.dlc(v).catch(function(x){w.log.warn(x.message);return w.Feb.Xf(w.log,v);}):this.Feb.Xf(this.log,v)).then(function(x){var z,B;if(x.GB && (null === (z=v.ih) || void 0 === z || !z.Jm)){B=x.GB;z={jga:Promise.resolve(B),source:"manifest"};delete x.GB;w.yh.setData(v.N,"ldl",z,function(){B.close().catch(function(A){w.log.info("Unable to cleanup LDL session.",A);});});}v.Zv === k.Io.$M && (x.vL=u,x.$R=w.hh.Qb().ia(f.va));return x;}).catch(function(x){t && w.e2(v.N,void 0);w.log.error("Failed to fetch manifest",n.rd.sf(x));throw x;});t && this.e2(v.N,y);return y;};d.prototype.dlc=function(v){var t;t=this;return new Promise(function(w,u){var y,x,z,B,A;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",v.N);B=null === (y=v.ih) || void 0 === y?void 0:y.B0;if(!B)return u(Error("Parent manifest does not exist."));A=null === (x=v.ih) || void 0 === x?void 0:x.Td;y=null === (z=B.yt) || void 0 === z?void 0:z.find(function(C){return C.L === v.N && (void 0 === A || C.Td === A);});if(!y)return u(Error("Auxiliary manifest not found in parent manifest."));w(t.C_.create(y));});};q=d;q=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(c.hb)),r.__param(1,(0,l.l)(h.kd)),r.__param(2,(0,l.l)(p.Via)),r.__param(3,(0,l.l)(k.ila)),r.__param(4,(0,l.l)(g.uc)),r.__param(5,(0,l.l)(a.SM))],q);b.ZPa=q;},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.N0a=void 0;d=a(1449);l=a(176);r=a(1);h=a(81);n=a(12);b.N0a=new r.Kd(function(c){c(l.u3).to(d.tIa).la();});b.profile=new r.Kd(function(c){c(h.dN).XG(function(f){return (f=f.xb.get(n.uc)()) && f.JB?"browsertest":"browser";});});},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p,q){k=c.Lf.call(this,k,void 0 === q?"AppInfoConfigImpl":q) || this;k.config=m;k.iha=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.tIa=void 0;r=a(0);l=a(1);h=a(39);n=a(46);c=a(47);f=a(33);a=a(289);la(d,c.Lf);d.prototype.jZb=function(k){return "" + this.X6a + (this.iha.tga(k)?"/msl_v1":"");};d.prototype.wZb=function(k){return "" + this.host + (this.iha.tga(k)?"/msl":"") + "/playapi";};Va.Object.defineProperties(d.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},X6a:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.DP){case h.Yz.Fzb:k="www.stage";break;case h.Yz.hWa:k="www-qa.test";break;case h.Yz.wOa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},L1a:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});g=d;r.__decorate([n.config(n.string,"apiEndpoint")],g.prototype,"endpoint",null);r.__decorate([n.config(n.string,"nqEndpoint")],g.prototype,"X6a",null);r.__decorate([n.config(n.string,"bindService")],g.prototype,"L1a",null);g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.yn)),r.__param(1,(0,l.l)(h.Qp)),r.__param(2,(0,l.l)(a.k6)),r.__param(3,(0,l.l)(f.G3)),r.__param(3,(0,l.optional)())],g);b.tIa=g;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.Bmc=b.Nzb=b.Lzb=b.Kzb=b.Mzb=void 0;d=a(15);l=a(14);b.Mzb=function(h,n,c){for(c=(c - h.length) / n.length;0 < c--;){h+=n;}return h;};b.Kzb=function(h,n,c){c=(0,d.Tg)(c)?c:"...";return h.length <= n?h:h.substr(0,h.length - (h.length + c.length - n)) + c;};b.Lzb=function(h,n){var f;for(var c=1;c < arguments.length;++c){;}f=l.slice.call(arguments,1);return h.replace(/{(\d+)}/g,function(g,k){return "undefined" != typeof f[k]?f[k]:g;});};b.Nzb=function(h){for(var n=h.length,c=new Uint16Array(n),f=0;f < n;f++){c[f]=h.charCodeAt(f);}return c.buffer;};b.Bmc=function(h){var n;n=new Uint8Array(h.length);Array.prototype.forEach.call(h,function(c,f){n[f]=c.charCodeAt(0);});return n;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(10);b=a(114);a=a(298);r.Ga.get(b.PM).sfa(a.qka.utb,function(d){var l,h;l=d.level;if(!mb._cad_global.config || l <= mb._cad_global.config.J5b){d=d.cha();h=mb.console;1 >= l?h.error(d):2 >= l?h.warn(d):h.log(d);}});},function(r,b,a){var g,k,m,p,q;function d(v){var t,u;(0,k.IX)(v);if((0,p.Tg)(v) && b.gOa.test(v)){t=v.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){u=(0,q.Fk)(t[w]);if(0 > u || !(0,p.NF)(u,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return v;}}}function l(v){var t;t=0;if(d(v) === v)return (v=v.split("."),t+=(0,q.Fk)(v[0]) << 24,t+=(0,q.Fk)(v[1]) << 16,t+=(0,q.Fk)(v[2]) << 8,t + (0,q.Fk)(v[3]));}function h(v){var t,w;(0,k.IX)(v);if((0,p.Tg)(v) && v.match(b.hOa)){t=v.split(":");-1 !== t[t.length - 1].indexOf(".") && (v=n(t[t.length - 1]),t.pop(),t.push(v[0]),t.push(v[1]),v=t.join(":"));v=v.split("::");if(!(2 < v.length || 1 === v.length && 8 !== t.length) && (t=1 < v.length?c(v):t,v=t.length,8 === v)){for(;v--;){w=parseInt(t[v],16);if(!(0,p.NF)(w,0,g.LPa))return;}return t.join(":");}}}function n(v){var t;v=l(v) >>> 0;t=[];t.push((v >>> 16 & 65535).toString(16));t.push((v & 65535).toString(16));return t;}function c(v){var t,w,u;t=v[0].split(":");v=v[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === v.length && "" === v[0] && (v=[]);w=8 - (t.length + v.length);if(1 > w)return [];for(u=0;u < w;u++){t.push("0");}for(u=0;u < v.length;u++){t.push(v[u]);}return t;}function f(v){return -1 << 32 - v;}Object.defineProperty(b,"__esModule",{value:!0});b.twb=b.ywb=b.vwb=b.uwb=b.xwb=b.swb=b.wwb=b.vH=b.hOa=b.gOa=void 0;g=a(17);k=a(22);m=a(14);p=a(15);q=a(23);b.gOa=/^[0-9.]*$/;b.hOa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.vH="0000000000000000";b.wwb=d;b.swb=l;b.xwb=h;b.uwb=n;b.vwb=c;b.ywb=function(v,t,w){var u,y,x,z;u=d(v);y=h(v);x=d(t);z=h(t);if(!u && !y || !x && !z || u && !x || y && !z)return !1;if(v === u)return (w=f(w),(l(v) & w) !== (l(t) & w)?!1:!0);if(v === y){v=v.split(":");t=t.split(":");for(u=(0,m.TM)(w / b.vH.length);u--;){if(v[u] !== t[u])return !1;}w%=b.vH.length;if(0 !== w)for((v=parseInt(v[u],16).toString(2),t=parseInt(t[u],16).toString(2),v=b.vH.substring(0,b.vH.length - v.length) + v,t=b.vH.substring(0,b.vH.length - t.length) + t,u=0);u < w;u++){if(v[u] !== t[u])return !1;}return !0;}return !1;};b.twb=f;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(19);a(17);r=a(10);a(114);a(298);a(4);a(113);a(5);a=a(34);r.Ga.get(a.xj);!1;},function(r,b,a){var d,l,h,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(44);l=a(17);h=a(4);n=a(14);r=a(10);a=a(34);c=r.Ga.get(a.xj);c.register(h.aa.cOa,function(f){n.Wr && n.Wr.generateKey && n.Wr.importKey && n.Wr.unwrapKey?(c.ef("wcs"),(0,d.ZK)(n.Wr.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){c.ef("wcdone");f(l.th);},function(g){var k;g="" + g;if(0 <= g.indexOf("missing crypto.subtle"))k=h.Y.xma;else 0 <= g.indexOf("timeout waiting for iframe to load") && (k=h.Y.dAb);f({Da:k,Tb:g});})):f({Da:h.Y.xma});});},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(4);d=a(10);l=a(549);a=a(34);d.Ga.get(a.xj).register(r.aa.TNa,function(h){d.Ga.get(l.FLa)().then(function(){h({ja:!0});}).catch(function(n){d.log.error("error in initializing indexedDb debug tool",n);h({ja:!0});});});},function(r,b,a){var n,c,f,g;function d(k,m,p,q){var v,t,w;(0,n.wa)((0,g.vk)(k) && !(0,g.isArray)(k));q=q || "";v="";t=k.hasOwnProperty(f.j3) && k[f.j3];t && (0,c.jh)(t,function(u,y){v && (v+=" ");v+=u + '="' + h(y) + '"';});p=(m?m + ":":"") + p;t=q + "<" + p + (v?" " + v:"");w=k.hasOwnProperty(f.Lz) && k[f.Lz].trim && "" !== k[f.Lz].trim() && k[f.Lz];if(w)return t + ">" + h(w) + "</" + p + ">";k=l(k,m,q + "  ");return t + (k?">\n" + k + "\n" + q + "</" + p + ">":"/>");}function l(k,m,p){var q;(0,n.wa)((0,g.vk)(k) && !(0,g.isArray)(k));p=p || "";q="";(0,c.jh)(k,function(v,t){var y;if("$" != v[0])for(var w=(0,c.Qy)(t),u=0;u < w.length;u++){if((t=w[u],q && (q+="\n"),(0,g.vk)(t)))q+=d(t,m,v,p);else {y=(m?m + ":":"") + v;q+=p + "<" + y + ">" + h(t) + "</" + y + ">";}}});return q;}function h(k){if((0,g.Tg)(k))return (0,c.ixa)(k);if((0,g.Pa)(k))return ((0,n.HX)(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";(0,n.wa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.zkc=b.Z3b=b.Y3b=void 0;n=a(22);c=a(23);f=a(206);g=a(15);b.Y3b=d;b.Z3b=l;b.zkc=h;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C,D,E;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(303);h=a(212);n=a(19);c=a(17);f=a(4);g=a(22);k=a(10);m=a(86);p=a(56);q=a(84);v=a(23);t=a(14);w=a(15);u=a(44);y=a(113);x=a(5);r=a(34);z=a(518);B=a(141);A=a(65);C=a(81);D={};E=k.Ga.get(r.xj);E.register(f.aa.WNa,function(G){var L,I,M,H,J,N,P,X,V,S,U,ha,qa,xa;function F(Aa){Aa && Aa.userList && n.config.zhc && (Aa.userList=[]);H({esn:h.jl.Yl,esnPrefix:h.jl.Aq,authenticationKeyNames:n.config.bJb,systemKeyWrapFormat:n.config.Fjc,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:qa,storeState:Aa,notifyMilestone:E.ef.bind(E),log:P,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.Y.gxb,MSL_READ_TIMEOUT:f.Y.fxb}},{result:function(Oa){K(Oa);},timeout:function(){G({Da:f.Y.TPa});},error:function(Oa){G(O(f.Y.TPa,void 0,Oa));}});}function K(Aa){var T,W,Q,ka;function Oa(){ha && k.Ga.get(q.Nz).create().then(function(ra){return ra.save(S,Q,!1);}).catch(function(ra){P.error("Error persisting msl store",(0,f.Zz)(ra));});}T=this;W=k.Ga.get(y.SH)((0,x.Vb)(100));ka=J.extend({init:function(ra){this.qZa=ra;},getResponse:function(ra,R,fa){var wa,ua;R=this.qZa;wa=R.HAa.Ef || wa;ra=(0,w.xya)(ra.body)?(0,k.P2)(ra.body):ra.body;(0,g.IX)(ra,"Msl should not be sending empty request");ra={url:R.url,Sib:ra,withCredentials:!0,VE:"nq-" + R.method,headers:R.headers};R=this.qZa.timeout;ra.L9=R;ra.SAa=R;ua=wa.download(ra,function(Ea){try{if(Ea.ja)fa.result({body:Ea.content});else if(400 === Ea.Xl && Ea.Tb)fa.result({body:Ea.Tb});else throw (0,v.Qe)(new N("HTTP error, SubCode: " + Ea.Da + (Ea.Xl?", HttpCode: " + Ea.Xl:"")),{cadmiumResponse:Ea});}catch(Xa){fa.error(Xa);}});return {abort:function(){ua.abort();}};}});V && Aa.addEventHandler("shouldpersist",function(ra){Q=ra.storeState;W.Gk(Oa);});(0,v.Qe)(D,{jwc:function(){U=!0;},send:function(ra){function R(){var fa,wa;fa=ra.HAa;wa={method:ra.method,nonReplayable:ra.Fgb,encrypted:ra.Pm,userId:ra.Eqb,body:ra.body,timeout:2 * ra.timeout,url:new ka(ra),allowTokenRefresh:ha,sendUserAuthIfRequired:xa,shouldSendUserAuthData:n.config.Ghc};fa.email?(wa.email=fa.email,wa.password=fa.password || ""):U && (wa.useNetflixUserAuthData=!0);return wa;}return new Promise(function(fa,wa){var ua;ua=R();Aa.send(ua).then(function(Ea){U && (U=!1);fa({ja:!0,body:Ea.body});}).catch(function(Ea){var Xa,vb;if(Ea.error){Xa=Ea.error.cadmiumResponse && Ea.error.cadmiumResponse.Da?Ea.error.cadmiumResponse.Da:Aa.isErrorReauth(Ea.error)?f.Y.SPa:Aa.isErrorHeader(Ea.error)?f.Y.$wb:f.Y.Zwb;vb=Aa.getErrorCode(Ea.error);wa(O(Xa,vb,Ea.error));}else (P.error("Unknown MSL error",Ea),Ea.xc=Ea.subCode,wa({Da:Ea.xc?Ea.xc:f.Y.hxb}));});});},Y_:Aa});B.WH.GO.mslFetch=function(ra,R){return d.__awaiter(T,void 0,void 0,function wa(){var ua,Ea,Xa;return Ka(wa,function(vb){if(1 == vb.gG)return (ua=k.Ga.get(C.dN),Na(vb,D.send({HAa:{Ef:k.Ga.get(A.sx),profile:ua},timeout:3E3,url:ra.toString(),body:null === R || void 0 === R?void 0:R.body,headers:{"Content-Type":"application/x-msl+json"},Eqb:ua,pec:!1,Fgb:!0,Pm:!0})));Ea=vb.Tha;Xa={get body() {this.bodyUsed=!0;return Ea.body;}};return vb.return((Xa.bodyUsed=!1,Xa.ok=Ea.ja,Xa.status=Ea.ja?200:400,Xa.statusText=Ea.ja?"OK":"Bad Request",Xa.type="basic",Xa.url=ra.toString(),Xa.headers=new Headers({"Content-Type":"application/json"}),Xa.text=function(){return Promise.resolve(this.body);},Xa.json=function(){return Promise.resolve(JSON.parse(this.body));},Xa.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Xa.clone=function(){return Object.assign({},this);},Xa.blob=function(){return this.arrayBuffer().then(function(nb){return new Blob([nb]);});},Xa.formData=function(){throw Error("Not implemented");},Xa.redirected=!1,Xa));});});};G(c.th);k.Ga.get(z.Mka).b8b(D);}function O(Aa,Oa,T){var W,Q,ka,ra;ka={Da:Aa,J$:Oa};if(T){ra=function(R){var fa;R=R || "" + T;if(T.stack){fa="" + T.stack;R=0 <= fa.indexOf(R)?fa:R + fa;}return R;};if(Q=T.cadmiumResponse){if(W=Q.Wf && Q.Wf.toString())Q.Wf=W;Q.Da=Aa;Q.J$=Oa;Q.Tb=ra(T.message);Q.error={xc:Aa,yd:W,uC:Oa,data:T.cause,message:T.message};return Q;}ra=ra(T.errorMessage);W=(0,v.Fk)(T.internalCode) || (0,v.Fk)(T.error && T.error.internalCode);Q=void 0 !== T.$Tb?(0,u.fBa)(T.$Tb):void 0;}ra && (ka.Tb=ra);W && (ka.Wf=W);ka.error={xc:Aa,yd:W.toString(),uC:Oa,data:Q,message:ra};return ka;}(0,g.wa)(n.config);L=k.Ga.get(m.kN);I=p.Go.Rk;if(t.HD && t.Wr && t.Wr.unwrapKey){try{M=mb.netflix.msl;H=M.createMslClient;J=M.IHttpLocation;N=M.MslIoException;}catch(Aa){G({Da:f.Y.axb});return;}P=(0,k.sk)("Msl");X=n.config.Y7b;V=n.config.$7b;S=n.config.JB?"mslstoretest":"mslstore";M=l.TL.emb;U=!0;ha=!M || M.ja;qa=(0,k.At)(n.config.JB?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");xa=!!n.config.MEa;k.Ga.get(q.Nz).create().then(function(Aa){X?Aa.remove(S).then(function(){F();}).catch(function(Oa){P.error("Unable to delete MSL store",(0,f.Zz)(Oa));F();}):V?Aa.load(S).then(function(Oa){L.mark(I.cxb);F(Oa.value);}).catch(function(Oa){Oa.Da == f.Y.rA?(L.mark(I.exb),F()):(P.error("Error loading msl store",(0,f.Zz)(Oa)),L.mark(I.dxb),Aa.remove(S).then(function(){F();}).catch(function(T){G(T);}));}):F();}).catch(function(Aa){P.error("Error creating app storage while loading msl store",(0,f.Zz)(Aa));G(Aa);});}else G({Da:f.Y.bxb});});},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u;Object.defineProperty(b,"__esModule",{value:!0});d=a(203);l=a(17);h=a(19);n=a(64);c=a(61);r=a(4);f=a(10);g=a(86);k=a(14);m=a(59);p=a(15);q=a(50);v=a(88);a=a(34);u=f.Ga.get(a.xj);u.register(r.aa.UNa,function(y){var z;function x(){var B,A,C;B=u.startTime;A={browserua:k.HH,browserhref:k.r5.href,initstart:B,initdelay:u.endTime - B};(B=k.$h.documentMode) && (A.browserdm="" + B);(0,p.DQ)(h.config.w7a) && (A.fesn=h.config.w7a);Object.assign(A,(0,d.iwa)());C=k.wx && k.wx.timing;C && h.config.G5b.map(function(D){var E;E=C[D];E && (A["pt_" + D]=E - (0,c.n3a)());});B=z.OYb();Object.entries(B).forEach(function(D){var E;E=oa(D);D=E.next().value;E=E.next().value;return A["m_" + D]=E;});B=w.Nv("startup","info",A,n.KD.Dua);t.Ec(B);}w=f.Ga.get(v.bA);t=f.Ga.get(q.Ho);z=f.Ga.get(g.kN);u.s_(function(){t.oa();(0,m.Rg)(x);});y(l.th);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t,w,u,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);l=a(66);h=a(558);n=a(1461);c=a(307);f=a(19);g=a(17);k=a(209);m=a(602);p=a(61);r=a(4);q=a(10);v=a(534);t=a(14);w=a(304);b=a(34);u=a(64);y=a(168);x=a(30);z=a(69);q.Ga.get(b.xj).register(r.aa.QNa,function(B){var A,C,D,E,G,F,K,O,L;A=q.Ga.get(v.hRa).uPb();C=q.Ga.get(k.qja).DM;D=q.Ga.get(h.CQa).ur;E=q.Ga.get(x.Fi);G=q.Ga.get(z.dt);F={Iea:(0,q.IY)("ASE"),jIb:(0,q.IY)("JS-ASE",void 0,"Platform"),sk:q.IY,storage:w.storage,iZb:t.RKa,getTime:p.Zo,b$:function(I){return E.decode(I).buffer;},Ksa:function(I){return G.encode(I);},JQ:{},ur:D,zx:n.zx,DM:C,MediaSource:m.FQa,SourceBuffer:c.Gka,Iq:function(){return [f.config.M8,f.config.Q8];},Mv:function(I){u.Wp.forEach(function(M){M.Kmb(I);});}};C=new Promise(function(I){w.storage.load("nh",function(M){F.JQ.nh=M.ja?M.data:void 0;I();});});D=new Promise(function(I){w.storage.load("lh",function(M){F.JQ.lh=M.ja?M.data:void 0;I();});});K=new Promise(function(I){w.storage.load("gh",function(M){F.JQ.gh=M.ja?M.data:void 0;I();});});O=new Promise(function(I){w.storage.load("sth",function(M){F.JQ.sth=M.ja?M.data:void 0;I();});});L=new Promise(function(I){w.storage.load("vb",function(M){F.JQ.vb=M.ja?M.data:void 0;I();});});Promise.all([C,D,L,O,K]).then(function(){return d.__awaiter(this,void 0,void 0,function M(){var H,J;return Ka(M,function(N){if(1 == N.gG)return (H=a(1463)(F),y.Rr.te=a(603),y.Rr.te.declare(l.Qg),y.Rr.te.set(a(180)(f.config),!0,(0,q.IY)("ASE")),Na(N,l.ZP(H)));J=N.Tha;J.open(y.Rr.te,A);J.ugc({audio:f.config.M8,video:f.config.Q8},{Z:f.config.u1,ha:void 0});y.Rr.wj=J;B(g.th);N.gG=0;});});}).catch(function(I){F.Iea.error("Exception loading location history from local storage",I);});});},function(r,b,a){var l,h,n,c,f,g,k;function d(){var m;m=new h.Nk();this.addEventListener=m.addListener.bind(this);this.removeEventListener=m.removeListener.bind(this);this.emit=m.Zc.bind(this);this.C7=g++;this.Jg=(0,n.sk)("ProbeRequest");this.NZa=l.nUa;(0,c.wa)(void 0 !== this.NZa);this.Ki=b.zx.dd.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.zx=void 0;l=a(1462);h=a(70);n=a(10);c=a(22);f=a(23);g=0;(function(){function m(){return JSON.stringify({url:this.Hm,id:this.C7,affected:this.w6,readystate:this.Ki});}(0,f.Qe)(d.prototype,{oR:function(p){p.affected=this.w6;p.probed={requestId:this.C7,url:this.Hm,bd:this.kW,groupId:this.c7};this.emit(b.zx.jf.GU,p);},$Aa:function(p){this.xFb=p.httpcode;p.affected=this.w6;p.probed={requestId:this.C7,url:this.Hm,bd:this.kW,groupId:this.c7};this.emit(b.zx.jf.JH,p);},open:function(p,q,v,t){if(!p)return (!1,!1);this.Hm=p;this.w6=q;this.kW=v;this.Ki=b.zx.dd.OPENED;this.NCb=t;this.NZa.GY(this);return !0;},wd:function(){!1;return !0;},Si:function(){return this.C7;},toString:m,toJSON:m});Object.defineProperties(d.prototype,{readyState:{get:function(){return this.Ki;},set:function(){}},status:{get:function(){return this.xFb;}},url:{get:function(){return this.Hm;}},Etc:{get:function(){return this.w6;}},y5b:{get:function(){return this.NCb;}}});})();(function(m){m.jf={GU:"pr0",JH:"pr1"};m.dd={UNSENT:0,OPENED:1,qA:2,DONE:3,IM:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.zx=Object.assign(d,k);},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});b.nUa=void 0;d=a(10);l=a(107);b.nUa=(function(){(0,d.sk)("ProbeDownloader");return {GY:function(h){h={url:h.url,ecc:h};!1;l.Ef.hcc(h);}};})();},function(r,b,a){var f,g,k,m,p,q,v,t,w,u,y,x,z,B,A,C;function d(D,E,G){this.uq=D;this.groups=E;this.prefix=G;D=u(D,E,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function l(){this.k4a=function(){throw Error("Not implemented");};this.ORb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function h(){}function n(){return w?w:"0.0.0.0";}function c(D){D({Ahb:0,p2:0,Yab:0,v7a:0});}f=a(11);l.prototype.set=function(D,E){m[D]=E;p.save(D,E);};l.prototype.get=function(D,E){if(m.hasOwnProperty(D))return m[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ja?(m[D]=G.data,E && E(G.data)):m[D]=void 0;});};l.prototype.remove=function(D){p.remove(D);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};h.prototype.now=function(){return q();};h.prototype.fa=function(){return v();};h.prototype.FAa=function(D){return D + q() - v();};h.prototype.bBa=function(D){return D + v() - q();};d.prototype.F4a=function(D){var E;E=[];this.prefix && Array.isArray(this.prefix)?E.push.apply(E,ia(this.prefix)):this.prefix && E.push(this.prefix);E.push(D);return new d(this.uq,this.groups,E);};y=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){g=D.Iea;u=D.sk;p=D.storage;m=D.JQ;q=D.iZb;v=D.getTime;t=D.jIb;x=D.ur;C=D.zx;z=D.DM;B=D.SourceBuffer;A=D.MediaSource;w=D.lwc;k=D.Mv;return {name:"cadmium",Mv:k,Iea:g,storage:new l(),Storage:l,time:new h(),events:new f.EventEmitter(),console:new d("JS-ASE",void 0,"default"),Console:d,options:{},Promise:y,ur:x,DM:z,kxb:B,MediaSource:A,zx:C,Uq:{name:n},memory:{mYb:c},Iq:D.Iq,b$:D.b$,Ksa:D.Ksa,ping:function(E){fetch(E).catch(function(){});}};};},function(r,b,a){r.exports={EventEmitter:a(1465),kf:a(1466)};},function(r){function b(d,l){var h;if(void 0 === l || "function" !== typeof l || "string" !== typeof d)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return (this.Sd={},this.Sd[d]=[l],!0);h=this.Sd[d];return void 0 === h?(this.Sd[d]=[l],!0):0 > h.indexOf(l)?(h.push(l),!0):!1;}function a(d,l){d=this.Sd?this.Sd[d]:void 0;if(!d)return !1;d.forEach(function(h){h(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(d,l){var h;if(void 0 === l || "function" !== typeof l || "string" !== typeof d)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return !1;h=this.Sd[d];if(void 0 === h)return !1;l=h.indexOf(l);if(0 > l)return !1;if(1 === h.length)return (delete this.Sd[d],!0);h.splice(l,1);return !0;},kb:a,emit:a,removeAllListeners:function(d){this.Sd && (void 0 === d?delete this.Sd:delete this.Sd[d]);return this;}};},function(r){function b(d,l,h,n){d.trace(":",h,":",n);l(n);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addEventListener=function(d,l,h,n){h=n?h.bind(n):h;n=!1;if(d){this.console && (h=b.bind(null,this.console,h,l));if("function" === typeof d.addEventListener)n=d.addEventListener(l,h);else if("function" === typeof d.addListener)n=d.addListener(l,h);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([d,l,h]);}return n;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(l){var h,n;h=l[0];n=l[1];l=l[2];"function" === typeof h.removeEventListener?h.removeEventListener(n,l):"function" === typeof h.removeListener && h.removeListener(n,l);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};r.exports=a;},function(r,b,a){var l,h;function d(n,c){var f,g;f=(0,h.nj)(n,"MSS");if(l.config.r7b)return {Z$:"mss",ZC:function(k){var m,p;if(k.lower && 2160 <= k.height)a:{for(m=k;m.lower;){if(2160 > m.height && 1080 < m.height){m=!0;break a;}if(1080 >= m.height)break;m=m.lower;}m=!1;}else m=void 0;if(m){if(void 0 === g){try{p=mb.MSMediaKeys;g=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");g=!0;}g || (f.warn("Restricting resolution due screen size",{MaxHeight:k.height}),c.Ur.set({reason:"microsoftScreenSize",height:k.height}));}return !g;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.mxb=void 0;r=a(140);l=a(19);h=a(10);(0,r.xU)(d);b.mxb=d;},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(140);d=a(10);l=a(12);h=a(1469);n=a(18);(0,r.xU)(function(c,f){var g,k;g=d.Ga.get(l.uc);if(g().pSb){k=d.Ga.get(n.kd);return new h.CLa(c,f,d.zg,k,g);}});},function(r,b,a){var l,h,n,c,f,g;function d(k,m,p,q,v){var t;t=this;this.j=k;this.Ha=m;this.ta=p;this.Ia=q;this.cea={};this.pP={};this.yS=[];this.acb=1E3;this.Mga=l.KPa;this.zBa=function(){var w;w=t.j.Db.value === c.qb.Xc && t.j.state.value === c.kc.Xe && t.j.L === t.Ha.L;t.OZ?w || (clearInterval(t.OZ),t.OZ=void 0,t.h_=void 0):w && (t.OZ=mb.setInterval(t.hkc,t.acb));};this.hkc=function(){var w,u,y,x;u=t.j.Re.value;u=u && u.stream;u=null !== (w=u && u.height) && void 0 !== w?w:null;if(null !== u && 0 < u){w=t.Ia.Qb().ia(g.va);y=t.j.df.YJ();if(y){if(t.h_ && w - t.h_.time < 2 * t.acb && u === t.h_.height){x=y - t.h_.oSb;t.vpa(u,x);t.bHb(u,x);}t.h_={time:w,oSb:y,height:u};t.j.Hea && t.j.Hea.Agc(t.cea);}}};this.gva=function(){var w;w={};t.pP && t.yS.forEach(function(u){var y,x,z;y=t.pP[u];if(y){x=0;z=0;(0,f.jh)(y,function(B,A){z+=(0,f.Fk)(B);x+=A;});w[u]=z / x;}});return w;};this.aK=function(w){var u;u={};w.forEach(function(y){u[y]={};});t.pP && ((0,h.v3)(w),t.yS.forEach(function(y){var x,z,B,A;x=t.pP[y];if(x){z=0;B=0;(0,f.jh)(x,function(F,K){z+=K;});A=Object.keys(x).map(Number);(0,h.v3)(A);for(var C=A.length - 1,D=A[C],E=w.length - 1;0 <= E;E--){for(var G=w[E];D >= G && 0 <= C;){(D=x[D]) && (B+=D);D=A[--C];}u[G][y]=(0,n.Sp)(B / z * 100);}}}));return u;};this.log=this.ta.eb("DFF",k);this.ebc=v().sSb;this.F6b=v().qSb;this.Sfb=v().rSb;this.Ha.pta={gva:this.gva,aK:this.aK};k.state.addListener(this.zBa);k.Db.addListener(this.zBa);k.addEventListener(c.ka.GK,this.zBa);}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;l=a(17);h=a(44);n=a(14);c=a(16);f=a(23);g=a(5);d.prototype.ZC=function(k){return k.lower && k.height > this.Sfb?k.height >= this.q_b():!1;};d.prototype.vpa=function(k,m){var p;p=this.cea[k];p || (this.cea[k]=p=[],k > this.Sfb && (this.yS.push(k),(0,h.v3)(this.yS)));0 < m && !(this.U_ && this.U_ < k) && (this.U_=k);p.push(m);p.length > this.F6b && p.shift();};d.prototype.bHb=function(k,m){var p;p=this.pP[k];p || (this.pP[k]=p={});k=p[m];p[m]=k?k + 1:1;};d.prototype.q_b=function(){var p,q;if(this.U_){for(var k=this.yS.length,m=0;m < k;m++){p=this.yS[m];if(p >= this.U_ && p < this.Mga){q=this.cea[p];if(q && this.vLb(this.ebc,q) && this.Mga != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ha.Ur.set({reason:"droppedFrames",height:p}),this.Mga=p);}}this.U_=void 0;}return this.Mga;};d.prototype.vLb=function(k,m){var t,w;for(var p=k.length,q=m.length,v=0;v < p;v++){t=k[v];w=t[0];t=t[1];for(var u=0;u < q;u++){if(m[u] >= t && 0 >= --w)return !0;}}return !1;};Va.Object.defineProperties(d.prototype,{Z$:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.CLa=d;},function(r,b,a){var d,l,h;Object.defineProperty(b,"__esModule",{value:!0});r=a(140);d=a(19);l=a(10);h=a(1471);(0,r.xU)(function(n,c){if(d.config.b4b)return new h.GOa(n,c,l.zg,d.config,l.za,l.Jc);});},function(r,b,a){var l,h,n;function d(c,f,g,k,m,p){var q;q=this;this.j=c;this.Ha=f;this.ta=g;this.config=k;this.za=m;this.Jc=p;this.QHb=function(v){!0 === v.oldValue && !1 === v.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.cfc());};this.glc=function(v){var t,w,u;q.log.trace("UhdKeyStatus: " + v.oldValue + " -> " + v.newValue);w=null === v || void 0 === v?void 0:v.newValue;u=null === v || void 0 === v?void 0:v.oldValue;"usable" !== w && (q.tgc(w,(null === (t=null === v || void 0 === v?void 0:v.lj) || void 0 === t?void 0:t.height) || 0),"usable" === u && (v=q.za.rf.Fa(q.d4b),q.log.error("UHD KeyStatus unexpectedly changed: " + v.ia(n.va))));};this.Vcb=!1;this.log=this.ta.eb("KeyStatusStreamFilter",this.j);this.F0a=new h.ac(!1,this.QHb);this.flc=new h.ac(void 0,this.glc);}Object.defineProperty(b,"__esModule",{value:!0});b.GOa=void 0;l=a(233);h=a(74);n=a(5);d.prototype.ZC=function(c){return c.Mj && (this.djc(),this.F0a.set(this.Vcb && this.M0b),c.lower && 1080 < c.height && !this.F0a.value)?!0:!1;};d.prototype.yMb=function(){this.M0b=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.Sab);};d.prototype.ugb=function(c){var f;f=this;Object.entries(c).forEach(function(g){var k,m,p;k=oa(g);g=k.next().value;k=k.next().value;g=null !== (p=null === (m=f.c4b) || void 0 === m?void 0:m[g]) && void 0 !== p?p:0;1080 < g && (f.Vcb="usable" === k,f.flc.set(k,{height:g}));});};d.prototype.djc=function(){var c,f,g;c=this;g=this.Ha.af;!this.G3b && (0,l.Xxa)(g) && (this.G3b=!0,this.c4b=null === (f=null === g || void 0 === g?void 0:g.context) || void 0 === f?void 0:f.Bca,this.ugb(g.keyStatuses.value),g.keyStatuses.addListener(function(k){return c.ugb(k.newValue);}),this.Jc.zl((0,n.Vb)(this.config.Sab),function(){return c.yMb();}),this.d4b=this.za.rf);};d.prototype.tgc=function(c,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:c});this.Ha.Ur.set({reason:"keyStatus",height:f});};Va.Object.defineProperties(d.prototype,{Z$:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.GOa=d;},function(r,b,a){var d,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(140);d=a(19);l=a(10);(0,r.xU)(function(h,n){var c,f,g,k;c={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(c,d.config.hlc);f=c[n.me];if(d.config.ilc && f){g={};k=(0,l.nj)(h,"MediaStreamFilter");return {Z$:"uiLabel",ZC:function(m){if(m.lower && m.height > f)return (g[m.height] || (g[m.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:m.height}),n.Ur.set({reason:"uiLabel",height:m.height})),!0);}};}});},function(r,b,a){var d,l,h,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(19);l=a(17);r=a(4);h=a(10);n=a(175);a=a(34);h.Ga.get(a.xj).register(r.aa.SNa,function(c){d.config.vaa && h.Ga.get(n.GMa).start();c(l.th);});},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});d=a(212);l=a(141);h=a(17);n=a(19);r=a(4);c=a(10);f=a(22);g=a(23);k=a(15);m=a(50);p=a(88);a=a(34);c.Ga.get(a.xj).register(r.aa.$Na,function(q){var v,t;v=(0,c.sk)("NccpApi");t=(0,g.e1a)(["info","warn","trace","error"]);l.WH.GO.nccp={getEsn:function(){return d.jl.Yl;},getPreferredLanguages:function(){return n.config.Xr.BCa;},setPreferredLanguages:function(w){(0,f.wa)((0,k.isArray)(w) && (0,k.DQ)(w[0]));n.config.Xr.BCa=w;},queueLogblob:function(w,u,y){var x;if(w && u)if((u=u.toLowerCase(),t[u])){x=c.Ga.get(m.Ho);w=c.Ga.get(p.bA).Nv(w,u,y);x.Ec(w);}else v.warn("Invalid severity",{severity:u});},flushLogblobs:function(){c.Ga.get(m.Ho).flush(!0);}};q(h.th);});},function(r,b,a){var d,l,h,n,c,f,g,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(34);b=a(4);d=a(7);l=a(45);h=a(302);n=a(17);c=a(19);f=a(10);g=a(64);k=a(141);m=a(593);p=a(120);f.Ga.get(r.xj).register(b.aa.bOa,function(q){var w,u,y;function v(x,z){return void 0 === x || void 0 === z?Promise.reject("Invalid email and/or password"):f.Ga.get(m.dSa).Xf(this.log,{},{email:x,password:z}).then(function(){});}function t(x){var z;z=f.Ga.get(p.VH);return z.y7a.fetch(x,z);}if(c.config.oUb){w=f.Ga.get(h.kla);u=f.Ga.get(l.Vp);y=f.Ga.get(d.hb).eb("Test");k.WH.GO.test={setPboRequestsListener:function(x){return w.Mgc(x);},playbacks:g.Wp,getPlayback:function(x){return g.Wp.find(function(z){return z.sa === x;});},playgraphManager:{isNextSegmentReady:function(x,z){var B,A;return void 0 !== (null === (A=null === (B=g.Wp.find(function(C){return C.sa === x;})) || void 0 === B?void 0:B.rb) || void 0 === A?void 0:A.lva(z));},isNextSegmentBuffering:function(x,z){var B,A;return null === (A=null === (B=g.Wp.find(function(C){return C.sa === x;})) || void 0 === B?void 0:B.rb) || void 0 === A?void 0:A.bZ(z).dX;}},device:{esn:mb._cad_global.device.Yl,esnPrefix:u.Aq,errorPrefix:u.Qt},log:{info:function(x,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return y.info(x,B);},error:function(x,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return y.error(x,B);},warn:function(x,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return y.warn(x,B);},trace:function(x,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return y.trace(x,B);},log:function(x,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return y.log(x,B);},debug:function(x,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return y.debug(x,B);}},login:v,getManifest:t};}q(n.th);});},function(r,b,a){var d,l,h,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(1477);d=a(19);l=a(64);b=a(7);h=a(10);n=a(50);c=a(114);f=a(22);g=a(15);mb.netflix=mb.netflix || ({});(0,f.wa)(!mb.netflix.player);mb.netflix.player={VideoSession:r.fXa,diag:{togglePanel:function(k,m){var p;p=[];if(!d.config || d.config.j1){switch(k){case "info":p=l.Wp.map(function(q){return q.Hea;});break;case "streams":p=l.Wp.map(function(q){return q.Kea;});break;case "log":p=[];}p.forEach(function(q){(0,g.Ad)(m)?m?q.show():q.Jy():q.toggle();});}},addLogMessageSink:function(k){h.Ga.get(n.Ho).addListener({zyc:function(){},i7b:function(m){k({data:m.data});}});}},log:(0,h.sk)("Ext"),LogLevel:b.Ok,addLogSink:function(k,m){h.Ga.get(c.PM).sfa(k,m);},getVersion:function(){return "6.0039.753.911";},getMostRecentPlaybackDiagnosticGroups:function(){var k;return null === (k=l.KD.cgb) || void 0 === k?void 0:k.K5a.XY();}};},function(r,b,a){var l,h,n,c,f,g;function d(k){var m;m=n.WH.call(this,k) || this;m.createPlayer=function(p,q){var v,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Gl:q}:q;v=l.Ga.get(h.bN);t=l.Ga.get(f.SM).create(q.manifest);w=l.Ga.get(c.Hla);p=v.yPb(p);v=l.Ga.get(g.Fla).create(p);p=v.pva();w=w.C4a(v);w.addEpisode({movieId:p.N,playbackParams:m.v1a(q,p),manifest:t});return w;};return m;}Object.defineProperty(b,"__esModule",{value:!0});b.fXa=void 0;l=a(10);h=a(121);n=a(141);c=a(313);f=a(138);g=a(312);la(d,n.WH);b.fXa=d;},function(r,b,a){var d,l,h,n,c,f,g,k,m,p,q,v,t;Object.defineProperty(b,"__esModule",{value:!0});d=a(141);l=a(212);h=a(17);n=a(44);r=a(4);c=a(10);f=a(172);g=a(22);k=a(15);m=a(14);b=a(34);p=a(61);q=a(81);v=a(165);t=a(170);c.Ga.get(b.xj).register(r.aa.aOa,function(w){var A;function u(){return l.jl.Yl;}function y(C){var D;D=c.Ga.get(q.dN);c.Ga.get(v.CU)().then(function(E){var G,F;G=E.Y_.getStateForMdx(D);F=G.cryptoContext;E=G.masterToken;G=G.userIdToken;E && G?((0,g.wa)(F),E=["1",(0,c.cB)(JSON.stringify(E.toJSON())),(0,c.cB)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:E,encrypt:function(K,O){K=(0,k.Tg)(K)?(0,c.eT)(K):K;F.encrypt(K,{result:function(L){L=(0,c.cB)(L);O({success:!0,mslEncryptionEnvelopeBase64:L});},timeout:function(){O({success:!1});},error:function(L){(0,g.wa)(!1,"Encrypt error: " + L);O({success:!1});}});},decrypt:function(K,O){K=(0,c.At)(K);F.decrypt(K,{result:function(L){O({success:!0,text:(0,c.P2)(L)});},timeout:function(){O({success:!1});},error:function(L){(0,g.wa)(!1,"Decrypt error: " + L);O({success:!1});}});},hmac:function(K,O){K=(0,k.Tg)(K)?(0,c.eT)(K):K;F.sign(K,{result:function(L){O({success:!0,hmacBase64:(0,c.cB)(L)});},timeout:function(){O({success:!1});},error:function(L){(0,g.wa)(!1,"Hmac error: " + L);O({success:!1});}});}}})):((0,g.wa)(!1,"Must login first"),C({success:!1}));});}function x(C,D){var E;E=(0,c.At)(C);C=E.subarray(32,48);E=E.subarray(0,32);if(16 != C.length || 32 != E.length)throw Error("Bad shared secret");Promise.all([(0,n.ZK)(m.Wr.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,n.ZK)(m.Wr.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function E(G){G=new f.TT((0,c.At)(G));G.NC();return {iv:G.Ojb(),ETb:G.Ojb()};}return {encrypt:function(G,F){var K;G=(0,k.Tg)(G)?(0,c.eT)(G):G;K=m.HD.getRandomValues(new Uint8Array(16));(0,n.ZK)(m.Wr.encrypt({name:"AES-CBC",iv:K},C,G)).then(function(O){var L,I;O=new Uint8Array(O);L=[];I=new f.TT(L);I.Sha(2);I.rrb(K);I.rrb(O);O=(0,c.cB)(L);F({success:!0,encryptedDataAsn1Base64:O});},function(O){(0,g.wa)(!1,"Encrypt error: " + O);F({success:!1});});},decrypt:function(G,F){var K;K=E(G);G=K.iv;K=K.ETb;(0,n.ZK)(m.Wr.decrypt({name:"AES-CBC",iv:G},C,K)).then(function(O){O=new Uint8Array(O);F({success:!0,text:(0,c.P2)(O)});},function(O){(0,g.wa)(!1,"Decrypt error: " + O);F({success:!1});});},hmac:function(G,F){G=(0,k.Tg)(G)?(0,c.eT)(G):G;(0,n.ZK)(m.Wr.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(K){K=new Uint8Array(K);F({success:!0,hmacBase64:(0,c.cB)(K)});},function(K){(0,g.wa)(!1,"Hmac error: " + K);F({success:!1});});}};}function B(){return (0,p.D9)();}A=c.Ga.get(t.lH);if(A.mcb || A.cC)d.WH.GO.mdx={getEsn:u,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:B};w(h.th);});},function(r,b,a){var d,l,h,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(19);l=a(17);r=a(4);h=a(10);b=a(34);n=a(120);h.Ga.get(b.xj).register(r.aa.XNa,function(f){var g,k,m;if(d.config.wu){g=(0,h.sk)("PlayerPredictionModel");k=h.Ga.get(n.VH);m=a(1480);g.log=g.trace.bind(g);c=new m({},g,{m1:function(){},qec:function(){}},k,{mL:function(){}});mb._cad_global.playerPredictionModel=c;g.info("ppm v2 initialized");}f(l.th);});},function(r,b,a){var n,c,f,g,k,m,p;function d(q,v,t,w,u,y){this.L=this.N=q;this.priority=v;this.Ce=t;y && y.me && (this.me=y.me);void 0 !== w && (this.BR=w);this.Qm=u;this.Gb=y;}function l(q,v,t,w,u){f(void 0 !== w,"video preparer is null");f(void 0 !== u,"ui preparer is null");this.H=v || console;this.H=v;this.Ea=t;this.$Fb=w;this.OFb=u;this.KZa=m.yCa;this.nO=[];this.Woa=!1;this.pV=0;new p().on(m,"changed",h,this);this.reset();}function h(){this.H.log("config changed");m.yCa && (this.KZa=m.yCa);m.X_ !== this.$N && (this.reset(),this.EDa());}n=a(315);c=a(316);b=a(604);f=b.assert;g=b.K7a;k=a(1481);m=a(605).config;p=a(1482).kf;m.declare({yCa:["ppmConfig",{Poc:{$gb:0,Zgb:2,Xgb:0,Ygb:5,Pmb:0},Esc:{$gb:0,Zgb:1,Xgb:0,Ygb:3,Pmb:1E3},bpc:{$gb:0,Zgb:1,Xgb:0,Ygb:3,Pmb:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.una=!0;this.$N=m.X_;this.H.log("create model: " + m.X_,m.qlb,m.s3a);switch(m.X_){case "modelone":this.$N=new k(this.H);break;default:this.$N=new k(this.H);}};l.prototype.EDa=function(){var v,t;if(!1 === this.Woa){this.Woa=!0;for(var q=0;q < this.nO.length;q++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.nO[q]));v=this.e4a(this.nO[q]);t=this.F8a(v);this.$N.update(v,t);this.una=!1;}this.nO=[];}};l.prototype.update=function(q){var v,t,w;this.H.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Rb && q.Rb[0]){!1 === this.Woa && this.nO.length < m.E6b && this.nO.push(q);v=this.e4a(q);t=this.F8a(v);this.H.log("actionType",t);v="mlmodel" == m.X_?this.$N.update(q,t):this.$N.update(v,t);v=this.GWb(v,m.T3b || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(v));0 === this.pV && (this.pV=n(),this.Ea && this.Ea.m1 && this.Ea.m1({sRb:this.pV}));if(this.Ea && this.Ea.qec){this.IXb();w=[];v.forEach(function(u){w.push({dzc:u.N});});JSON.stringify(q);JSON.stringify(v);}this.$Fb.mL(v);this.OFb.mL(v);this.una=!1;}};l.prototype.IXb=function(){n();};l.prototype.m1=function(){this.pV=n();this.Ea && this.Ea.m1 && this.Ea.m1({sRb:this.pV});};l.prototype.e4a=function(q){var v,t,w,u,y;v={};w=q.Rb || [];u=(function(x){var z,B;z={};y=c.jU.name.indexOf(x.context);z.context=0 <= y?y:c.jU.kA;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(A){B={N:A.N,Ce:A.Ce,index:A.index,BR:A.BR,Wea:A.Wea,list:A.list,Gb:A.Gb};void 0 !== A.property && (y=c.MM.name.indexOf(A.property),B.property=0 <= y?y:c.MM.kA);z.list.push(B);}).bind(this));v.Rb.push(z);}).bind(this);if(void 0 !== q.direction){y=c.tx.name.indexOf(q.direction);v.direction=0 <= y?y:c.tx.kA;}void 0 !== q.BY && (v.yvc=q.BY.rowIndex,v.xvc=q.BY.rMb);v.BY=q.BY;v.Rb=[];w.forEach(u);return v;};l.prototype.F8a=function(q){var v,t,w;v=q.direction || c.tx.kA;t=q.BY;w=q.Rb || [];!0 === this.una?q=c.Mz.uMa:!0 === w.some(this.J0b)?(q=c.Mz.HU,this.Afa(w,v,t)):q=w[0].context === c.jU.U5?c.Mz.U5:v === c.tx.yUa || v === c.tx.KOa?c.Mz.TUa:c.Mz.kA;return q;};l.prototype.J0b=function(q){return (q.list || []).some(function(v){return v.property === c.MM.HU || v.property === c.MM.JKa;});};l.prototype.Afa=function(q,v,t){var w,u;this.H.log("reportPlayFocusEvent: ",v,t);w={};u=g(q);this.Ea && this.Ea.Afa && (w.ovc=n(),w.direction=c.tx.name[v],t && (w.rowIndex=t.rowIndex,w.t3a=t.rMb),void 0 !== u.wl && (w.requestId=q[u.wl].requestId),this.Ea.Afa && this.Ea.Afa(w));};l.prototype.GWb=function(q,v){for(var t=q.length,w=[],u,y,x,z,B=0;B < t;B++){y=q[B];u=Math.floor(B / v) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var A=0;A < Math.min(m.nMb,z) && !(x[A].Qm=y.Qm,this.j0a(x[A],u,w),w.length >= m.cfb);A++){;}}else this.j0a(y,u,w);if(w.length >= m.cfb)break;}return w;};l.prototype.j0a=function(q,v,t){var u,y;function w(x){x.me && (x.Gb || (x.Gb={}),x.Gb.me=x.me);return x.Gb;}u=q.Wea;if(void 0 !== u && u instanceof Array)u.forEach(function(x){void 0 !== x.N && (y=w(x),t.push(new d(x.N,v,x.Ce,x.BR,q.Qm,y)));});else if(void 0 !== u && void 0 !== u.N){u=q.Wea;y=w(u);t.push(new d(u.N,v,u.Ce,u.BR,q.Qm,y));}void 0 !== q.N && (y=w(q),t.push(new d(q.N,v,q.Ce,q.BR,q.Qm,y)));};l.prototype.VJ=function(q){var v;v=this.KZa;return q?v[q]:v;};r.exports=l;},function(r,b,a){var h,n,c,f,g,k,m,p,q,v;function d(t,w){this.wl=t;this.Sn=w;}function l(t){this.H=t;this.reset();}h=a(315);n=a(316);b=a(604);c=a(605).config;f=b.yXb;g=b.fXb;k=b.vRb;m=b.b9b;p=b.a9b;q=b.$8b;v=b.K7a;l.prototype.constructor=l;l.prototype.reset=function(){this.LZa=void 0;this.Ol=[];this.zZa=this.AZa=!1;};l.prototype.update=function(t,w){var u;this.Ol && (this.Ol=this.Ol.filter(this.Dhc,this));if(!1 === this.AZa){u=f(t.Rb).slice(0,c.Y4a);0 < u.length && (this.RK(u,n.Rz.zm),this.AZa=!0,this.Ol=this.lM(u.concat(this.Ol)));}!1 === this.zZa && (u=g(t.Rb).slice(0,c.Y4a),0 < u.length && (this.RK(u,n.Rz.zm),this.zZa=!0,this.Ol=this.lM(u.concat(this.Ol))));switch(w){case n.Mz.uMa:w=this.d0b(t);break;case n.Mz.TUa:w=this.n0b(t);break;case n.Mz.U5:w=this.o0b(t);break;case n.Mz.HU:w=this.i0b(t);break;default:w=this.a0b(t);}this.LZa=t;return w;};l.prototype.d0b=function(t){t=m(t.Rb,c.qlb,c.s3a);this.RK(t,n.Rz.zm);return this.Ol=this.lM(this.Ol.concat(t));};l.prototype.n0b=function(t){var w,u;this.H.log("handleScrollHorizontal");w=t.Rb;t=m(w,c.rlb,c.u3a);u=k(w,this.LZa.Rb);w=w[u].list.slice(0,c.mfc);w.concat(t);this.RK(w,n.Rz.mma);return this.lM(w.concat(this.Ol));};l.prototype.RK=function(t,w){t.forEach(function(u){if(void 0 === u.IE || u.IE < w)u.IE=w;void 0 === u.PS && (u.PS=h());void 0 === u.Qm && (u.Qm=h());});};l.prototype.o0b=function(t){this.H.log("handleSearch");t=p(t.Rb,c.Lfc);this.RK(t,n.Rz.UUa);this.Ol=t.concat(this.Ol);return this.Ol=this.lM(this.Ol);};l.prototype.i0b=function(t){var w,u,y,x,z;this.H.log("handlePlayFocus: ",c.zZ);w=t.direction;u=t.Rb;t=[];y=v(u);if(void 0 !== y.wl)switch((t.push(y),w)){case n.tx.yUa:for(w=1;w < c.zZ;w++){t.push(new d(y.wl,y.Sn + w));}t.push(new d(y.wl - 1,y.Sn));t.push(new d(y.wl + 1,y.Sn));break;case n.tx.KOa:for(w=1;w < c.zZ;w++){t.push(new d(y.wl,y.Sn - w));}t.push(new d(y.wl - 1,y.Sn));t.push(new d(y.wl + 1,y.Sn));break;case n.tx.Xzb:t.push(new d(y.wl - 1,y.Sn));for(w=1;w <= c.zZ / 2;w++){t.push(new d(y.wl,y.Sn + w));t.push(new d(y.wl,y.Sn - w));}break;case n.tx.Cub:for((t.push(new d(y.wl + 1,y.Sn)),w=1);w <= c.zZ / 2;w++){t.push(new d(y.wl,y.Sn + w));t.push(new d(y.wl,y.Sn - w));}}x=[];t.forEach(function(B){z=q(u,B.wl,B.Sn);void 0 !== z && x.push(z);});this.RK(x,n.Rz.mma);return this.lM(x.concat(this.Ol));};l.prototype.a0b=function(t){this.H.log("ModelOne: handleDefaultCase");t=m(t.Rb,c.rlb,c.u3a);this.RK(t,n.Rz.mma);return this.lM(t.concat(this.Ol));};l.prototype.Dhc=function(t){return t.IE == n.Rz.zm | t.IE == n.Rz.UUa & h() - t.PS < c.e1b;};l.prototype.lM=function(t){var w,u,y,x,z,B,A;w=[];u={};x=0;z=t.length;for(y=0;y < z;y++){B=t[y].N;A=t[y];!1 === (B in u)?(w.push(A),u[B]=x,x++):(B=w[u[B]],A.Qm < B.Qm && (B.Qm=A.Qm),A.IE > B.IE && (B.IE=A.IE),A.PS > B.PS && (B.PS=A.PS));}return w;};r.exports=l;},function(r,b,a){r.exports={EventEmitter:a(1483),kf:a(1484)};},function(r){function b(d,l){var h;if(void 0 === l || "function" !== typeof l || "string" !== typeof d)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return (this.Sd={},this.Sd[d]=[l],!0);h=this.Sd[d];return void 0 === h?(this.Sd[d]=[l],!0):0 > h.indexOf(l)?(h.push(l),!0):!1;}function a(d,l){d=this.Sd?this.Sd[d]:void 0;if(!d)return !1;d.forEach(function(h){h(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(d,l){var h;if(void 0 === l || "function" !== typeof l || "string" !== typeof d)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return !1;h=this.Sd[d];if(void 0 === h)return !1;l=h.indexOf(l);if(0 > l)return !1;if(1 === h.length)return (delete this.Sd[d],!0);h.splice(l,1);return !0;},kb:a,emit:a,removeAllListeners:function(d){this.Sd && (void 0 === d?delete this.Sd:delete this.Sd[d]);return this;}};},function(r){function b(d,l,h,n){d.trace(":",h,":",n);l(n);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addEventListener=function(d,l,h,n){h=n?h.bind(n):h;n=!1;if(d){this.console && (h=b.bind(null,this.console,h,l));if("function" === typeof d.addEventListener)n=d.addEventListener(l,h);else if("function" === typeof d.addListener)n=d.addListener(l,h);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([d,l,h]);}return n;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(l){var h,n;h=l[0];n=l[1];l=l[2];"function" === typeof h.removeEventListener?h.removeEventListener(n,l):"function" === typeof h.removeListener && h.removeListener(n,l);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};r.exports=a;}]);}).call(mb);})(window);}).call(window);